function wA(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in t)){const a=Object.getOwnPropertyDescriptor(i,n);a&&Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var TZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lv={exports:{}},n0={};var qw;function bA(){if(qw)return n0;qw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(i,n,a){var s=null;if(a!==void 0&&(s=""+a),n.key!==void 0&&(s=""+n.key),"key"in n){a={};for(var l in n)l!=="key"&&(a[l]=n[l])}else a=n;return n=a.ref,{$$typeof:t,type:i,key:s,ref:n!==void 0?n:null,props:a}}return n0.Fragment=e,n0.jsx=r,n0.jsxs=r,n0}var Vw;function SA(){return Vw||(Vw=1,Lv.exports=bA()),Lv.exports}var x=SA(),Nv={exports:{}},Ir={};var $w;function EA(){if($w)return Ir;$w=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function _(Q){return Q===null||typeof Q!="object"?null:(Q=y&&Q[y]||Q["@@iterator"],typeof Q=="function"?Q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function O(Q,P,G){this.props=Q,this.context=P,this.refs=C,this.updater=G||T}O.prototype.isReactComponent={},O.prototype.setState=function(Q,P){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,P,"setState")},O.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function I(){}I.prototype=O.prototype;function D(Q,P,G){this.props=Q,this.context=P,this.refs=C,this.updater=G||T}var q=D.prototype=new I;q.constructor=D,S(q,O.prototype),q.isPureReactComponent=!0;var te=Array.isArray;function ce(){}var F={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function B(Q,P,G){var H=G.ref;return{$$typeof:t,type:Q,key:P,ref:H!==void 0?H:null,props:G}}function X(Q,P){return B(Q.type,P,Q.props)}function j(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function W(Q){var P={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(G){return P[G]})}var ue=/\/+/g;function de(Q,P){return typeof Q=="object"&&Q!==null&&Q.key!=null?W(""+Q.key):P.toString(36)}function xe(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(ce,ce):(Q.status="pending",Q.then(function(P){Q.status==="pending"&&(Q.status="fulfilled",Q.value=P)},function(P){Q.status==="pending"&&(Q.status="rejected",Q.reason=P)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function oe(Q,P,G,H,Z){var se=typeof Q;(se==="undefined"||se==="boolean")&&(Q=null);var Ae=!1;if(Q===null)Ae=!0;else switch(se){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(Q.$$typeof){case t:case e:Ae=!0;break;case p:return Ae=Q._init,oe(Ae(Q._payload),P,G,H,Z)}}if(Ae)return Z=Z(Q),Ae=H===""?"."+de(Q,0):H,te(Z)?(G="",Ae!=null&&(G=Ae.replace(ue,"$&/")+"/"),oe(Z,P,G,"",function(Ie){return Ie})):Z!=null&&(j(Z)&&(Z=X(Z,G+(Z.key==null||Q&&Q.key===Z.key?"":(""+Z.key).replace(ue,"$&/")+"/")+Ae)),P.push(Z)),1;Ae=0;var Oe=H===""?".":H+":";if(te(Q))for(var Re=0;Re<Q.length;Re++)H=Q[Re],se=Oe+de(H,Re),Ae+=oe(H,P,G,se,Z);else if(Re=_(Q),typeof Re=="function")for(Q=Re.call(Q),Re=0;!(H=Q.next()).done;)H=H.value,se=Oe+de(H,Re++),Ae+=oe(H,P,G,se,Z);else if(se==="object"){if(typeof Q.then=="function")return oe(xe(Q),P,G,H,Z);throw P=String(Q),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function be(Q,P,G){if(Q==null)return Q;var H=[],Z=0;return oe(Q,H,"","",function(se){return P.call(G,se,Z++)}),H}function _e(Q){if(Q._status===-1){var P=Q._result;P=P(),P.then(function(G){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=G)},function(G){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=G)}),Q._status===-1&&(Q._status=0,Q._result=P)}if(Q._status===1)return Q._result.default;throw Q._result}var Le=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},Ne={map:be,forEach:function(Q,P,G){be(Q,function(){P.apply(this,arguments)},G)},count:function(Q){var P=0;return be(Q,function(){P++}),P},toArray:function(Q){return be(Q,function(P){return P})||[]},only:function(Q){if(!j(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return Ir.Activity=v,Ir.Children=Ne,Ir.Component=O,Ir.Fragment=r,Ir.Profiler=n,Ir.PureComponent=D,Ir.StrictMode=i,Ir.Suspense=c,Ir.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ir.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return F.H.useMemoCache(Q)}},Ir.cache=function(Q){return function(){return Q.apply(null,arguments)}},Ir.cacheSignal=function(){return null},Ir.cloneElement=function(Q,P,G){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var H=S({},Q.props),Z=Q.key;if(P!=null)for(se in P.key!==void 0&&(Z=""+P.key),P)!K.call(P,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&P.ref===void 0||(H[se]=P[se]);var se=arguments.length-2;if(se===1)H.children=G;else if(1<se){for(var Ae=Array(se),Oe=0;Oe<se;Oe++)Ae[Oe]=arguments[Oe+2];H.children=Ae}return B(Q.type,Z,H)},Ir.createContext=function(Q){return Q={$$typeof:s,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:a,_context:Q},Q},Ir.createElement=function(Q,P,G){var H,Z={},se=null;if(P!=null)for(H in P.key!==void 0&&(se=""+P.key),P)K.call(P,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(Z[H]=P[H]);var Ae=arguments.length-2;if(Ae===1)Z.children=G;else if(1<Ae){for(var Oe=Array(Ae),Re=0;Re<Ae;Re++)Oe[Re]=arguments[Re+2];Z.children=Oe}if(Q&&Q.defaultProps)for(H in Ae=Q.defaultProps,Ae)Z[H]===void 0&&(Z[H]=Ae[H]);return B(Q,se,Z)},Ir.createRef=function(){return{current:null}},Ir.forwardRef=function(Q){return{$$typeof:l,render:Q}},Ir.isValidElement=j,Ir.lazy=function(Q){return{$$typeof:p,_payload:{_status:-1,_result:Q},_init:_e}},Ir.memo=function(Q,P){return{$$typeof:f,type:Q,compare:P===void 0?null:P}},Ir.startTransition=function(Q){var P=F.T,G={};F.T=G;try{var H=Q(),Z=F.S;Z!==null&&Z(G,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(ce,Le)}catch(se){Le(se)}finally{P!==null&&G.types!==null&&(P.types=G.types),F.T=P}},Ir.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ir.use=function(Q){return F.H.use(Q)},Ir.useActionState=function(Q,P,G){return F.H.useActionState(Q,P,G)},Ir.useCallback=function(Q,P){return F.H.useCallback(Q,P)},Ir.useContext=function(Q){return F.H.useContext(Q)},Ir.useDebugValue=function(){},Ir.useDeferredValue=function(Q,P){return F.H.useDeferredValue(Q,P)},Ir.useEffect=function(Q,P){return F.H.useEffect(Q,P)},Ir.useEffectEvent=function(Q){return F.H.useEffectEvent(Q)},Ir.useId=function(){return F.H.useId()},Ir.useImperativeHandle=function(Q,P,G){return F.H.useImperativeHandle(Q,P,G)},Ir.useInsertionEffect=function(Q,P){return F.H.useInsertionEffect(Q,P)},Ir.useLayoutEffect=function(Q,P){return F.H.useLayoutEffect(Q,P)},Ir.useMemo=function(Q,P){return F.H.useMemo(Q,P)},Ir.useOptimistic=function(Q,P){return F.H.useOptimistic(Q,P)},Ir.useReducer=function(Q,P,G){return F.H.useReducer(Q,P,G)},Ir.useRef=function(Q){return F.H.useRef(Q)},Ir.useState=function(Q){return F.H.useState(Q)},Ir.useSyncExternalStore=function(Q,P,G){return F.H.useSyncExternalStore(Q,P,G)},Ir.useTransition=function(){return F.H.useTransition()},Ir.version="19.2.3",Ir}var Ww;function $1(){return Ww||(Ww=1,Nv.exports=EA()),Nv.exports}var ve=$1();const yl=V1(ve),TA=wA({__proto__:null,default:yl},[ve]);var Cv={exports:{}},i0={},Mv={exports:{}},kv={};var Zw;function AA(){return Zw||(Zw=1,(function(t){function e(oe,be){var _e=oe.length;oe.push(be);e:for(;0<_e;){var Le=_e-1>>>1,Ne=oe[Le];if(0<n(Ne,be))oe[Le]=be,oe[_e]=Ne,_e=Le;else break e}}function r(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var be=oe[0],_e=oe.pop();if(_e!==be){oe[0]=_e;e:for(var Le=0,Ne=oe.length,Q=Ne>>>1;Le<Q;){var P=2*(Le+1)-1,G=oe[P],H=P+1,Z=oe[H];if(0>n(G,_e))H<Ne&&0>n(Z,G)?(oe[Le]=Z,oe[H]=_e,Le=H):(oe[Le]=G,oe[P]=_e,Le=P);else if(H<Ne&&0>n(Z,_e))oe[Le]=Z,oe[H]=_e,Le=H;else break e}}return be}function n(oe,be){var _e=oe.sortIndex-be.sortIndex;return _e!==0?_e:oe.id-be.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],p=1,v=null,y=3,_=!1,T=!1,S=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function q(oe){for(var be=r(f);be!==null;){if(be.callback===null)i(f);else if(be.startTime<=oe)i(f),be.sortIndex=be.expirationTime,e(c,be);else break;be=r(f)}}function te(oe){if(S=!1,q(oe),!T)if(r(c)!==null)T=!0,ce||(ce=!0,W());else{var be=r(f);be!==null&&xe(te,be.startTime-oe)}}var ce=!1,F=-1,K=5,B=-1;function X(){return C?!0:!(t.unstable_now()-B<K)}function j(){if(C=!1,ce){var oe=t.unstable_now();B=oe;var be=!0;try{e:{T=!1,S&&(S=!1,I(F),F=-1),_=!0;var _e=y;try{t:{for(q(oe),v=r(c);v!==null&&!(v.expirationTime>oe&&X());){var Le=v.callback;if(typeof Le=="function"){v.callback=null,y=v.priorityLevel;var Ne=Le(v.expirationTime<=oe);if(oe=t.unstable_now(),typeof Ne=="function"){v.callback=Ne,q(oe),be=!0;break t}v===r(c)&&i(c),q(oe)}else i(c);v=r(c)}if(v!==null)be=!0;else{var Q=r(f);Q!==null&&xe(te,Q.startTime-oe),be=!1}}break e}finally{v=null,y=_e,_=!1}be=void 0}}finally{be?W():ce=!1}}}var W;if(typeof D=="function")W=function(){D(j)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,de=ue.port2;ue.port1.onmessage=j,W=function(){de.postMessage(null)}}else W=function(){O(j,0)};function xe(oe,be){F=O(function(){oe(t.unstable_now())},be)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(oe){switch(y){case 1:case 2:case 3:var be=3;break;default:be=y}var _e=y;y=be;try{return oe()}finally{y=_e}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(oe,be){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var _e=y;y=oe;try{return be()}finally{y=_e}},t.unstable_scheduleCallback=function(oe,be,_e){var Le=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Le+_e:Le):_e=Le,oe){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=_e+Ne,oe={id:p++,callback:be,priorityLevel:oe,startTime:_e,expirationTime:Ne,sortIndex:-1},_e>Le?(oe.sortIndex=_e,e(f,oe),r(c)===null&&oe===r(f)&&(S?(I(F),F=-1):S=!0,xe(te,_e-Le))):(oe.sortIndex=Ne,e(c,oe),T||_||(T=!0,ce||(ce=!0,W()))),oe},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(oe){var be=y;return function(){var _e=y;y=be;try{return oe.apply(this,arguments)}finally{y=_e}}}})(kv)),kv}var Yw;function LA(){return Yw||(Yw=1,Mv.exports=AA()),Mv.exports}var Pv={exports:{}},ks={};var Kw;function NA(){if(Kw)return ks;Kw=1;var t=$1();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},n=Symbol.for("react.portal");function a(c,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:v==null?null:""+v,children:c,containerInfo:f,implementation:p}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ks.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ks.createPortal=function(c,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,p)},ks.flushSync=function(c){var f=s.T,p=i.p;try{if(s.T=null,i.p=2,c)return c()}finally{s.T=f,i.p=p,i.d.f()}},ks.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(c,f))},ks.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},ks.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var p=f.as,v=l(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:_}):p==="script"&&i.d.X(c,{crossOrigin:v,integrity:y,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ks.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);i.d.M(c,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(c)},ks.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=l(p,f.crossOrigin);i.d.L(c,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ks.preloadModule=function(c,f){if(typeof c=="string")if(f){var p=l(f.as,f.crossOrigin);i.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(c)},ks.requestFormReset=function(c){i.d.r(c)},ks.unstable_batchedUpdates=function(c,f){return c(f)},ks.useFormState=function(c,f,p){return s.H.useFormState(c,f,p)},ks.useFormStatus=function(){return s.H.useHostTransitionStatus()},ks.version="19.2.3",ks}var Xw;function J3(){if(Xw)return Pv.exports;Xw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pv.exports=NA(),Pv.exports}var Jw;function CA(){if(Jw)return i0;Jw=1;var t=LA(),e=$1(),r=J3();function i(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,d=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(d=u.return),o=u.return;while(o)}return u.tag===3?d:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(i(188))}function f(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(i(188));return u!==o?null:o}for(var d=o,g=u;;){var E=d.return;if(E===null)break;var N=E.alternate;if(N===null){if(g=E.return,g!==null){d=g;continue}break}if(E.child===N.child){for(N=E.child;N;){if(N===d)return c(E),o;if(N===g)return c(E),u;N=N.sibling}throw Error(i(188))}if(d.return!==g.return)d=E,g=N;else{for(var V=!1,fe=E.child;fe;){if(fe===d){V=!0,d=E,g=N;break}if(fe===g){V=!0,g=E,d=N;break}fe=fe.sibling}if(!V){for(fe=N.child;fe;){if(fe===d){V=!0,d=N,g=E;break}if(fe===g){V=!0,g=N,d=E;break}fe=fe.sibling}if(!V)throw Error(i(189))}}if(d.alternate!==g)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?o:u}function p(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=p(o),u!==null)return u;o=o.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=j&&o[j]||o["@@iterator"],typeof o=="function"?o:null)}var ue=Symbol.for("react.client.reference");function de(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ue?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case O:return"Profiler";case C:return"StrictMode";case te:return"Suspense";case ce:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case D:return o.displayName||"Context";case I:return(o._context.displayName||"Context")+".Consumer";case q:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case F:return u=o.displayName||null,u!==null?u:de(o.type)||"Memo";case K:u=o._payload,o=o._init;try{return de(o(u))}catch{}}return null}var xe=Array.isArray,oe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Le=[],Ne=-1;function Q(o){return{current:o}}function P(o){0>Ne||(o.current=Le[Ne],Le[Ne]=null,Ne--)}function G(o,u){Ne++,Le[Ne]=o.current,o.current=u}var H=Q(null),Z=Q(null),se=Q(null),Ae=Q(null);function Oe(o,u){switch(G(se,u),G(Z,o),G(H,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?dw(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=dw(u),o=pw(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}P(H),G(H,o)}function Re(){P(H),P(Z),P(se)}function Ie(o){o.memoizedState!==null&&G(Ae,o);var u=H.current,d=pw(u,o.type);u!==d&&(G(Z,o),G(H,d))}function ot(o){Z.current===o&&(P(H),P(Z)),Ae.current===o&&(P(Ae),Qd._currentValue=_e)}var it,Tt;function Nt(o){if(it===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);it=u&&u[1]||"",Tt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+o+Tt}var we=!1;function yt(o,u){if(!o||we)return"";we=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(nt){var rt=nt}Reflect.construct(o,[],vt)}else{try{vt.call()}catch(nt){rt=nt}o.call(vt.prototype)}}else{try{throw Error()}catch(nt){rt=nt}(vt=o())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(nt){if(nt&&rt&&typeof nt.stack=="string")return[nt.stack,rt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=g.DetermineComponentFrameRoot(),V=N[0],fe=N[1];if(V&&fe){var ke=V.split(`
`),et=fe.split(`
`);for(E=g=0;g<ke.length&&!ke[g].includes("DetermineComponentFrameRoot");)g++;for(;E<et.length&&!et[E].includes("DetermineComponentFrameRoot");)E++;if(g===ke.length||E===et.length)for(g=ke.length-1,E=et.length-1;1<=g&&0<=E&&ke[g]!==et[E];)E--;for(;1<=g&&0<=E;g--,E--)if(ke[g]!==et[E]){if(g!==1||E!==1)do if(g--,E--,0>E||ke[g]!==et[E]){var ct=`
`+ke[g].replace(" at new "," at ");return o.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",o.displayName)),ct}while(1<=g&&0<=E);break}}}finally{we=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Nt(d):""}function xt(o,u){switch(o.tag){case 26:case 27:case 5:return Nt(o.type);case 16:return Nt("Lazy");case 13:return o.child!==u&&u!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return yt(o.type,!1);case 11:return yt(o.type.render,!1);case 1:return yt(o.type,!0);case 31:return Nt("Activity");default:return""}}function zt(o){try{var u="",d=null;do u+=xt(o,d),d=o,o=o.return;while(o);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var dt=Object.prototype.hasOwnProperty,Vt=t.unstable_scheduleCallback,jt=t.unstable_cancelCallback,sr=t.unstable_shouldYield,Xt=t.unstable_requestPaint,Jt=t.unstable_now,Er=t.unstable_getCurrentPriorityLevel,dr=t.unstable_ImmediatePriority,Nr=t.unstable_UserBlockingPriority,or=t.unstable_NormalPriority,Ft=t.unstable_LowPriority,_r=t.unstable_IdlePriority,Wt=t.log,xn=t.unstable_setDisableYieldValue,Mr=null,Gt=null;function pr(o){if(typeof Wt=="function"&&xn(o),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Mr,o)}catch{}}var Dr=Math.clz32?Math.clz32:ur,Yt=Math.log,ln=Math.LN2;function ur(o){return o>>>=0,o===0?32:31-(Yt(o)/ln|0)|0}var cr=256,en=262144,xr=4194304;function Zt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Gr(o,u,d){var g=o.pendingLanes;if(g===0)return 0;var E=0,N=o.suspendedLanes,V=o.pingedLanes;o=o.warmLanes;var fe=g&134217727;return fe!==0?(g=fe&~N,g!==0?E=Zt(g):(V&=fe,V!==0?E=Zt(V):d||(d=fe&~o,d!==0&&(E=Zt(d))))):(fe=g&~N,fe!==0?E=Zt(fe):V!==0?E=Zt(V):d||(d=g&~o,d!==0&&(E=Zt(d)))),E===0?0:u!==0&&u!==E&&(u&N)===0&&(N=E&-E,d=u&-u,N>=d||N===32&&(d&4194048)!==0)?u:E}function Sa(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function li(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ji(){var o=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),o}function Ni(o){for(var u=[],d=0;31>d;d++)u.push(o);return u}function Qt(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Xa(o,u,d,g,E,N){var V=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var fe=o.entanglements,ke=o.expirationTimes,et=o.hiddenUpdates;for(d=V&~d;0<d;){var ct=31-Dr(d),vt=1<<ct;fe[ct]=0,ke[ct]=-1;var rt=et[ct];if(rt!==null)for(et[ct]=null,ct=0;ct<rt.length;ct++){var nt=rt[ct];nt!==null&&(nt.lane&=-536870913)}d&=~vt}g!==0&&Ba(o,g,0),N!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=N&~(V&~u))}function Ba(o,u,d){o.pendingLanes|=u,o.suspendedLanes&=~u;var g=31-Dr(u);o.entangledLanes|=u,o.entanglements[g]=o.entanglements[g]|1073741824|d&261930}function Ce(o,u){var d=o.entangledLanes|=u;for(o=o.entanglements;d;){var g=31-Dr(d),E=1<<g;E&u|o[g]&u&&(o[g]|=u),d&=~E}}function Ge(o,u){var d=u&-u;return d=(d&42)!==0?1:qe(d),(d&(o.suspendedLanes|u))!==0?0:d}function qe(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ye(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Y(){var o=be.p;return o!==0?o:(o=window.event,o===void 0?32:Iw(o.type))}function pe(o,u){var d=be.p;try{return be.p=o,u()}finally{be.p=d}}var re=Math.random().toString(36).slice(2),ne="__reactFiber$"+re,he="__reactProps$"+re,ge="__reactContainer$"+re,Pe="__reactEvents$"+re,ze="__reactListeners$"+re,Be="__reactHandles$"+re,Ue="__reactResources$"+re,$e="__reactMarker$"+re;function ht(o){delete o[ne],delete o[he],delete o[Pe],delete o[ze],delete o[Be]}function bt(o){var u=o[ne];if(u)return u;for(var d=o.parentNode;d;){if(u=d[ge]||d[ne]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(o=ww(o);o!==null;){if(d=o[ne])return d;o=ww(o)}return u}o=d,d=o.parentNode}return null}function wt(o){if(o=o[ne]||o[ge]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function gt(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(i(33))}function Mt(o){var u=o[Ue];return u||(u=o[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Bt(o){o[$e]=!0}var Hr=new Set,wr={};function nn(o,u){Kn(o,u),Kn(o+"Capture",u)}function Kn(o,u){for(wr[o]=u,o=0;o<u.length;o++)Hr.add(u[o])}var Xn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qi={},Ci={};function Ar(o){return dt.call(Ci,o)?!0:dt.call(Qi,o)?!1:Xn.test(o)?Ci[o]=!0:(Qi[o]=!0,!1)}function Ut(o,u,d){if(Ar(u))if(d===null)o.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+d)}}function qr(o,u,d){if(d===null)o.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+d)}}function ri(o,u,d,g){if(g===null)o.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(u,d,""+g)}}function ar(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ea(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ta(o,u,d){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,N=g.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return E.call(this)},set:function(V){d=""+V,N.call(this,V)}}),Object.defineProperty(o,u,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(V){d=""+V},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function yr(o){if(!o._valueTracker){var u=Ea(o)?"checked":"value";o._valueTracker=Ta(o,u,""+o[u])}}function Dn(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return o&&(g=Ea(o)?o.checked?"true":"false":o.value),o=g,o!==d?(u.setValue(o),!0):!1}function ea(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ni=/[\n"\\]/g;function un(o){return o.replace(ni,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function tu(o,u,d,g,E,N,V,fe){o.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?o.type=V:o.removeAttribute("type"),u!=null?V==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+ar(u)):o.value!==""+ar(u)&&(o.value=""+ar(u)):V!=="submit"&&V!=="reset"||o.removeAttribute("value"),u!=null?zs(o,V,ar(u)):d!=null?zs(o,V,ar(d)):g!=null&&o.removeAttribute("value"),E==null&&N!=null&&(o.defaultChecked=!!N),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?o.name=""+ar(fe):o.removeAttribute("name")}function Tl(o,u,d,g,E,N,V,fe){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.type=N),u!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||u!=null)){yr(o);return}d=d!=null?""+ar(d):"",u=u!=null?""+ar(u):d,fe||u===o.value||(o.value=u),o.defaultValue=u}g=g??E,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=fe?o.checked:!!g,o.defaultChecked=!!g,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(o.name=V),yr(o)}function zs(o,u,d){u==="number"&&ea(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Kr(o,u,d,g){if(o=o.options,u){u={};for(var E=0;E<d.length;E++)u["$"+d[E]]=!0;for(d=0;d<o.length;d++)E=u.hasOwnProperty("$"+o[d].value),o[d].selected!==E&&(o[d].selected=E),E&&g&&(o[d].defaultSelected=!0)}else{for(d=""+ar(d),u=null,E=0;E<o.length;E++){if(o[E].value===d){o[E].selected=!0,g&&(o[E].defaultSelected=!0);return}u!==null||o[E].disabled||(u=o[E])}u!==null&&(u.selected=!0)}}function Gs(o,u,d){if(u!=null&&(u=""+ar(u),u!==o.value&&(o.value=u),d==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=d!=null?""+ar(d):""}function Co(o,u,d,g){if(u==null){if(g!=null){if(d!=null)throw Error(i(92));if(xe(g)){if(1<g.length)throw Error(i(93));g=g[0]}d=g}d==null&&(d=""),u=d}d=ar(u),o.defaultValue=d,g=o.textContent,g===d&&g!==""&&g!==null&&(o.value=g),yr(o)}function Aa(o,u){if(u){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=u;return}}o.textContent=u}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(o,u,d){var g=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":g?o.setProperty(u,d):typeof d!="number"||d===0||Mo.has(u)?u==="float"?o.cssFloat=d:o[u]=(""+d).trim():o[u]=d+"px"}function ru(o,u,d){if(u!=null&&typeof u!="object")throw Error(i(62));if(o=o.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var E in u)g=u[E],u.hasOwnProperty(E)&&d[E]!==g&&rl(o,E,g)}else for(var N in u)u.hasOwnProperty(N)&&rl(o,N,u[N])}function Al(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(o){return nu.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ua(){}var to=null;function ko(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var il=null,Ct=null;function Ja(o){var u=wt(o);if(u&&(o=u.stateNode)){var d=o[he]||null;e:switch(o=u.stateNode,u.type){case"input":if(tu(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+un(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==o&&g.form===o.form){var E=g[he]||null;if(!E)throw Error(i(90));tu(g,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<d.length;u++)g=d[u],g.form===o.form&&Dn(g)}break e;case"textarea":Gs(o,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&Kr(o,!!d.multiple,u,!1)}}}var fn=!1;function ju(o,u,d){if(fn)return o(u,d);fn=!0;try{var g=o(u);return g}finally{if(fn=!1,(il!==null||Ct!==null)&&(Kp(),il&&(u=il,o=Ct,Ct=il=null,Ja(u),o)))for(u=0;u<o.length;u++)Ja(o[u])}}function La(o,u){var d=o.stateNode;if(d===null)return null;var g=d[he]||null;if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(i(231,u,typeof d));return d}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ll=!1;if(Mi)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Ll=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Ll=!1}var Na=null,Hs=null,Mn=null;function ro(){if(Mn)return Mn;var o,u=Hs,d=u.length,g,E="value"in Na?Na.value:Na.textContent,N=E.length;for(o=0;o<d&&u[o]===E[o];o++);var V=d-o;for(g=1;g<=V&&u[d-g]===E[N-g];g++);return Mn=E.slice(o,1<g?1-g:void 0)}function es(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Nl(){return!0}function iu(){return!1}function ki(o){function u(d,g,E,N,V){this._reactName=d,this._targetInst=E,this.type=g,this.nativeEvent=N,this.target=V,this.currentTarget=null;for(var fe in o)o.hasOwnProperty(fe)&&(d=o[fe],this[fe]=d?d(N):N[fe]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Nl:iu,this.isPropagationStopped=iu,this}return v(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),u}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=ki(ws),no=v({},ws,{view:0,detail:0}),Br=ki(no),Cl,Pi,ts,al=v({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ts&&(ts&&o.type==="mousemove"?(Cl=o.screenX-ts.screenX,Pi=o.screenY-ts.screenY):Pi=Cl=0,ts=o),Cl)},movementY:function(o){return"movementY"in o?o.movementY:Pi}}),Iu=ki(al),qs=v({},al,{dataTransfer:0}),Po=ki(qs),Fu=v({},no,{relatedTarget:0}),Oo=ki(Fu),_c=v({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),k=ki(_c),J=v({},ws,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Se=ki(J),De=v({},ws,{data:0}),Ve=ki(De),at={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},St={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function er(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=$t[o])?!!u[o]:!1}function br(){return er}var kr=v({},no,{key:function(o){if(o.key){var u=at[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=es(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?St[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(o){return o.type==="keypress"?es(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?es(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Xr=ki(kr),Jn=v({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ui=ki(Jn),wn=v({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),Oi=ki(wn),ci=v({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ii=ki(ci),Ss=v({},al,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ta=ki(Ss),Ro=v({},ws,{newState:0,oldState:0}),Do=ki(Ro),ra=[9,13,27,32],Vs=Mi&&"CompositionEvent"in window,Es=null;Mi&&"documentMode"in document&&(Es=document.documentMode);var Ml=Mi&&"TextEvent"in window&&!Es,$s=Mi&&(!Vs||Es&&8<Es&&11>=Es),yi=" ",sl=!1;function ol(o,u){switch(o){case"keyup":return ra.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kl(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var io=!1;function jn(o,u){switch(o){case"compositionend":return kl(u);case"keypress":return u.which!==32?null:(sl=!0,yi);case"textInput":return o=u.data,o===yi&&sl?null:o;default:return null}}function za(o,u){if(io)return o==="compositionend"||!Vs&&ol(o,u)?(o=ro(),Mn=Hs=Na=null,io=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return $s&&u.locale!=="ko"?null:u.data;default:return null}}var au={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rs(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!au[o.type]:u==="textarea"}function ns(o,u,d,g){il?Ct?Ct.push(g):Ct=[g]:il=g,u=nm(u,"onChange"),0<u.length&&(d=new bs("onChange","change",null,d,g),o.push({event:d,listeners:u}))}var da=null,jo=null;function Io(o){ow(o,0)}function Ts(o){var u=gt(o);if(Dn(u))return o}function Ws(o,u){if(o==="change")return u}var Ga=!1;if(Mi){var ii;if(Mi){var is="oninput"in document;if(!is){var ao=document.createElement("div");ao.setAttribute("oninput","return;"),is=typeof ao.oninput=="function"}ii=is}else ii=!1;Ga=ii&&(!document.documentMode||9<document.documentMode)}function Zs(){da&&(da.detachEvent("onpropertychange",su),jo=da=null)}function su(o){if(o.propertyName==="value"&&Ts(jo)){var u=[];ns(u,jo,o,ko(o)),ju(Io,u)}}function Ha(o,u,d){o==="focusin"?(Zs(),da=u,jo=d,da.attachEvent("onpropertychange",su)):o==="focusout"&&Zs()}function hi(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ts(jo)}function Fo(o,u){if(o==="click")return Ts(u)}function so(o,u){if(o==="input"||o==="change")return Ts(u)}function Fi(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var xi=typeof Object.is=="function"?Object.is:Fi;function oo(o,u){if(xi(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var d=Object.keys(o),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var E=d[g];if(!dt.call(u,E)||!xi(o[E],u[E]))return!1}return!0}function ll(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Bo(o,u){var d=ll(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=u&&g>=u)return{node:d,offset:u-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=ll(d)}}function Ys(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Ys(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function As(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=ea(o.document);u instanceof o.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)o=u.contentWindow;else break;u=ea(o.document)}return u}function Ca(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var lo=Mi&&"documentMode"in document&&11>=document.documentMode,Ma=null,uo=null,pa=null,ka=!1;function cn(o,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ka||Ma==null||Ma!==ea(g)||(g=Ma,"selectionStart"in g&&Ca(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),pa&&oo(pa,g)||(pa=g,g=nm(uo,"onSelect"),0<g.length&&(u=new bs("onSelect","select",null,u,d),o.push({event:u,listeners:g}),u.target=Ma)))}function Jr(o,u){var d={};return d[o.toLowerCase()]=u.toLowerCase(),d["Webkit"+o]="webkit"+u,d["Moz"+o]="moz"+u,d}var kn={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},ai={},co={};Mi&&(co=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function wi(o){if(ai[o])return ai[o];if(!kn[o])return o;var u=kn[o],d;for(d in u)if(u.hasOwnProperty(d)&&d in co)return ai[o]=u[d];return o}var ho=wi("animationend"),Bu=wi("animationiteration"),ou=wi("animationstart"),Jh=wi("transitionrun"),uh=wi("transitionstart"),Qh=wi("transitioncancel"),Pl=wi("transitionend"),ch=new Map,Ls="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ls.push("scrollEnd");function as(o,u){ch.set(o,u),nn(u,[o])}var lu=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},ss=[],Pa=0,Uu=0;function uu(){for(var o=Pa,u=Uu=Pa=0;u<o;){var d=ss[u];ss[u++]=null;var g=ss[u];ss[u++]=null;var E=ss[u];ss[u++]=null;var N=ss[u];if(ss[u++]=null,g!==null&&E!==null){var V=g.pending;V===null?E.next=E:(E.next=V.next,V.next=E),g.pending=E}N!==0&&zo(d,E,N)}}function Uo(o,u,d,g){ss[Pa++]=o,ss[Pa++]=u,ss[Pa++]=d,ss[Pa++]=g,Uu|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function yc(o,u,d,g){return Uo(o,u,d,g),na(o)}function Ns(o,u){return Uo(o,null,null,u),na(o)}function zo(o,u,d){o.lanes|=d;var g=o.alternate;g!==null&&(g.lanes|=d);for(var E=!1,N=o.return;N!==null;)N.childLanes|=d,g=N.alternate,g!==null&&(g.childLanes|=d),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(E=!0)),o=N,N=N.return;return o.tag===3?(N=o.stateNode,E&&u!==null&&(E=31-Dr(d),o=N.hiddenUpdates,g=o[E],g===null?o[E]=[u]:g.push(u),u.lane=d|536870912),N):null}function na(o){if(50<$d)throw $d=0,Xg=null,Error(i(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Bi={};function xc(o,u,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(o,u,d,g){return new xc(o,u,d,g)}function zu(o){return o=o.prototype,!(!o||!o.isReactComponent)}function os(o,u){var d=o.alternate;return d===null?(d=ia(o.tag,u,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=u,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,u=o.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function cu(o,u){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,u=d.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Ol(o,u,d,g,E,N){var V=0;if(g=o,typeof o=="function")zu(o)&&(V=1);else if(typeof o=="string")V=uA(o,d,H.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=ia(31,d,u,E),o.elementType=B,o.lanes=N,o;case S:return ul(d.children,E,N,u);case C:V=8,E|=24;break;case O:return o=ia(12,d,u,E|2),o.elementType=O,o.lanes=N,o;case te:return o=ia(13,d,u,E),o.elementType=te,o.lanes=N,o;case ce:return o=ia(19,d,u,E),o.elementType=ce,o.lanes=N,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case D:V=10;break e;case I:V=9;break e;case q:V=11;break e;case F:V=14;break e;case K:V=16,g=null;break e}V=29,d=Error(i(130,o===null?"null":typeof o,"")),g=null}return u=ia(V,d,u,E),u.elementType=o,u.type=g,u.lanes=N,u}function ul(o,u,d,g){return o=ia(7,o,g,u),o.lanes=d,o}function hu(o,u,d){return o=ia(6,o,null,u),o.lanes=d,o}function Gu(o){var u=ia(18,null,null,0);return u.stateNode=o,u}function fu(o,u,d){return u=ia(4,o.children!==null?o.children:[],o.key,u),u.lanes=d,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var h=new WeakMap;function m(o,u){if(typeof o=="object"&&o!==null){var d=h.get(o);return d!==void 0?d:(u={value:o,source:u,stack:zt(u)},h.set(o,u),u)}return{value:o,source:u,stack:zt(u)}}var b=[],M=0,z=null,ae=0,Me=[],We=0,tt=null,pt=1,kt="";function tr(o,u){b[M++]=ae,b[M++]=z,z=o,ae=u}function Ur(o,u,d){Me[We++]=pt,Me[We++]=kt,Me[We++]=tt,tt=o;var g=pt;o=kt;var E=32-Dr(g)-1;g&=~(1<<E),d+=1;var N=32-Dr(u)+E;if(30<N){var V=E-E%5;N=(g&(1<<V)-1).toString(32),g>>=V,E-=V,pt=1<<32-Dr(u)+E|d<<E|g,kt=N+o}else pt=1<<N|d<<E|g,kt=o}function aa(o){o.return!==null&&(tr(o,1),Ur(o,1,0))}function fi(o){for(;o===z;)z=b[--M],b[M]=null,ae=b[--M],b[M]=null;for(;o===tt;)tt=Me[--We],Me[We]=null,kt=Me[--We],Me[We]=null,pt=Me[--We],Me[We]=null}function ls(o,u){Me[We++]=pt,Me[We++]=kt,Me[We++]=tt,pt=u.id,kt=u.overflow,tt=o}var dn=null,pn=null,Zr=!1,Oa=null,si=!1,Cs=Error(i(519));function cl(o){var u=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw du(m(u,o)),Cs}function wc(o){var u=o.stateNode,d=o.type,g=o.memoizedProps;switch(u[ne]=o,u[he]=g,d){case"dialog":rn("cancel",u),rn("close",u);break;case"iframe":case"object":case"embed":rn("load",u);break;case"video":case"audio":for(d=0;d<Zd.length;d++)rn(Zd[d],u);break;case"source":rn("error",u);break;case"img":case"image":case"link":rn("error",u),rn("load",u);break;case"details":rn("toggle",u);break;case"input":rn("invalid",u),Tl(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":rn("invalid",u);break;case"textarea":rn("invalid",u),Co(u,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||g.suppressHydrationWarning===!0||hw(u.textContent,d)?(g.popover!=null&&(rn("beforetoggle",u),rn("toggle",u)),g.onScroll!=null&&rn("scroll",u),g.onScrollEnd!=null&&rn("scrollend",u),g.onClick!=null&&(u.onclick=Ua),u=!0):u=!1,u||cl(o,!0)}function bn(o){for(dn=o.return;dn;)switch(dn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:dn=dn.return}}function bi(o){if(o!==dn)return!1;if(!Zr)return bn(o),Zr=!0,!1;var u=o.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||fv(o.type,o.memoizedProps)),d=!d),d&&pn&&cl(o),bn(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));pn=xw(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));pn=xw(o)}else u===27?(u=pn,Dc(o.type)?(o=vv,vv=null,pn=o):pn=u):pn=dn?dl(o.stateNode.nextSibling):null;return!0}function Rl(){pn=dn=null,Zr=!1}function hh(){var o=Oa;return o!==null&&(yo===null?yo=o:yo.push.apply(yo,o),Oa=null),o}function du(o){Oa===null?Oa=[o]:Oa.push(o)}var pu=Q(null),Go=null,fo=null;function mu(o,u,d){G(pu,u._currentValue),u._currentValue=d}function po(o){o._currentValue=pu.current,P(pu)}function bc(o,u,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),o===d)break;o=o.return}}function Hu(o,u,d,g){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var N=E.dependencies;if(N!==null){var V=E.child;N=N.firstContext;e:for(;N!==null;){var fe=N;N=E;for(var ke=0;ke<u.length;ke++)if(fe.context===u[ke]){N.lanes|=d,fe=N.alternate,fe!==null&&(fe.lanes|=d),bc(N.return,d,o),g||(V=null);break e}N=fe.next}}else if(E.tag===18){if(V=E.return,V===null)throw Error(i(341));V.lanes|=d,N=V.alternate,N!==null&&(N.lanes|=d),bc(V,d,o),V=null}else V=E.child;if(V!==null)V.return=E;else for(V=E;V!==null;){if(V===o){V=null;break}if(E=V.sibling,E!==null){E.return=V.return,V=E;break}V=V.return}E=V}}function gu(o,u,d,g){o=null;for(var E=u,N=!1;E!==null;){if(!N){if((E.flags&524288)!==0)N=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var V=E.alternate;if(V===null)throw Error(i(387));if(V=V.memoizedProps,V!==null){var fe=E.type;xi(E.pendingProps.value,V.value)||(o!==null?o.push(fe):o=[fe])}}else if(E===Ae.current){if(V=E.alternate,V===null)throw Error(i(387));V.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(Qd):o=[Qd])}E=E.return}o!==null&&Hu(u,o,d,g),u.flags|=262144}function ef(o){for(o=o.firstContext;o!==null;){if(!xi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function vu(o){Go=o,fo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Ra(o){return kp(Go,o)}function tf(o,u){return Go===null&&vu(o),kp(o,u)}function kp(o,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},fo===null){if(o===null)throw Error(i(308));fo=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else fo=fo.next=u;return d}var gg=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(d,g){o.push(g)}};this.abort=function(){u.aborted=!0,o.forEach(function(d){return d()})}},vg=t.unstable_scheduleCallback,_g=t.unstable_NormalPriority,Ri={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sc(){return{controller:new gg,data:new Map,refCount:0}}function fh(o){o.refCount--,o.refCount===0&&vg(_g,function(){o.controller.abort()})}var dh=null,rf=0,w=0,A=null;function R(o,u){if(dh===null){var d=dh=[];rf=0,w=nv(),A={status:"pending",value:void 0,then:function(g){d.push(g)}}}return rf++,u.then(U,U),u}function U(){if(--rf===0&&dh!==null){A!==null&&(A.status="fulfilled");var o=dh;dh=null,w=0,A=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function ee(o,u){var d=[],g={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return o.then(function(){g.status="fulfilled",g.value=u;for(var E=0;E<d.length;E++)(0,d[E])(u)},function(E){for(g.status="rejected",g.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),g}var ie=oe.S;oe.S=function(o,u){Dx=Jt(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&R(o,u),ie!==null&&ie(o,u)};var le=Q(null);function me(){var o=le.current;return o!==null?o:ei.pooledCache}function ye(o,u){u===null?G(le,le.current):G(le,u.pool)}function Te(){var o=me();return o===null?null:{parent:Ri._currentValue,pool:o}}var je=Error(i(460)),Je=Error(i(474)),Ee=Error(i(542)),He={then:function(){}};function Ke(o){return o=o.status,o==="fulfilled"||o==="rejected"}function lt(o,u,d){switch(d=o[d],d===void 0?o.push(u):d!==u&&(u.then(Ua,Ua),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Lt(o),o;default:if(typeof u.status=="string")u.then(Ua,Ua);else{if(o=ei,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=u,o.status="pending",o.then(function(g){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=g}},function(g){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Lt(o),o}throw st=u,je}}function Xe(o){try{var u=o._init;return u(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(st=d,je):d}}var st=null;function ft(){if(st===null)throw Error(i(459));var o=st;return st=null,o}function Lt(o){if(o===je||o===Ee)throw Error(i(483))}var _t=null,nr=0;function Ht(o){var u=nr;return nr+=1,_t===null&&(_t=[]),lt(_t,o,u)}function Pr(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function Kt(o,u){throw u.$$typeof===y?Error(i(525)):(o=Object.prototype.toString.call(u),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Qr(o){function u(Ze,Fe){if(o){var Qe=Ze.deletions;Qe===null?(Ze.deletions=[Fe],Ze.flags|=16):Qe.push(Fe)}}function d(Ze,Fe){if(!o)return null;for(;Fe!==null;)u(Ze,Fe),Fe=Fe.sibling;return null}function g(Ze){for(var Fe=new Map;Ze!==null;)Ze.key!==null?Fe.set(Ze.key,Ze):Fe.set(Ze.index,Ze),Ze=Ze.sibling;return Fe}function E(Ze,Fe){return Ze=os(Ze,Fe),Ze.index=0,Ze.sibling=null,Ze}function N(Ze,Fe,Qe){return Ze.index=Qe,o?(Qe=Ze.alternate,Qe!==null?(Qe=Qe.index,Qe<Fe?(Ze.flags|=67108866,Fe):Qe):(Ze.flags|=67108866,Fe)):(Ze.flags|=1048576,Fe)}function V(Ze){return o&&Ze.alternate===null&&(Ze.flags|=67108866),Ze}function fe(Ze,Fe,Qe,mt){return Fe===null||Fe.tag!==6?(Fe=hu(Qe,Ze.mode,mt),Fe.return=Ze,Fe):(Fe=E(Fe,Qe),Fe.return=Ze,Fe)}function ke(Ze,Fe,Qe,mt){var vr=Qe.type;return vr===S?ct(Ze,Fe,Qe.props.children,mt,Qe.key):Fe!==null&&(Fe.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===K&&Xe(vr)===Fe.type)?(Fe=E(Fe,Qe.props),Pr(Fe,Qe),Fe.return=Ze,Fe):(Fe=Ol(Qe.type,Qe.key,Qe.props,null,Ze.mode,mt),Pr(Fe,Qe),Fe.return=Ze,Fe)}function et(Ze,Fe,Qe,mt){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Qe.containerInfo||Fe.stateNode.implementation!==Qe.implementation?(Fe=fu(Qe,Ze.mode,mt),Fe.return=Ze,Fe):(Fe=E(Fe,Qe.children||[]),Fe.return=Ze,Fe)}function ct(Ze,Fe,Qe,mt,vr){return Fe===null||Fe.tag!==7?(Fe=ul(Qe,Ze.mode,mt,vr),Fe.return=Ze,Fe):(Fe=E(Fe,Qe),Fe.return=Ze,Fe)}function vt(Ze,Fe,Qe){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=hu(""+Fe,Ze.mode,Qe),Fe.return=Ze,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case _:return Qe=Ol(Fe.type,Fe.key,Fe.props,null,Ze.mode,Qe),Pr(Qe,Fe),Qe.return=Ze,Qe;case T:return Fe=fu(Fe,Ze.mode,Qe),Fe.return=Ze,Fe;case K:return Fe=Xe(Fe),vt(Ze,Fe,Qe)}if(xe(Fe)||W(Fe))return Fe=ul(Fe,Ze.mode,Qe,null),Fe.return=Ze,Fe;if(typeof Fe.then=="function")return vt(Ze,Ht(Fe),Qe);if(Fe.$$typeof===D)return vt(Ze,tf(Ze,Fe),Qe);Kt(Ze,Fe)}return null}function rt(Ze,Fe,Qe,mt){var vr=Fe!==null?Fe.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return vr!==null?null:fe(Ze,Fe,""+Qe,mt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case _:return Qe.key===vr?ke(Ze,Fe,Qe,mt):null;case T:return Qe.key===vr?et(Ze,Fe,Qe,mt):null;case K:return Qe=Xe(Qe),rt(Ze,Fe,Qe,mt)}if(xe(Qe)||W(Qe))return vr!==null?null:ct(Ze,Fe,Qe,mt,null);if(typeof Qe.then=="function")return rt(Ze,Fe,Ht(Qe),mt);if(Qe.$$typeof===D)return rt(Ze,Fe,tf(Ze,Qe),mt);Kt(Ze,Qe)}return null}function nt(Ze,Fe,Qe,mt,vr){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Ze=Ze.get(Qe)||null,fe(Fe,Ze,""+mt,vr);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case _:return Ze=Ze.get(mt.key===null?Qe:mt.key)||null,ke(Fe,Ze,mt,vr);case T:return Ze=Ze.get(mt.key===null?Qe:mt.key)||null,et(Fe,Ze,mt,vr);case K:return mt=Xe(mt),nt(Ze,Fe,Qe,mt,vr)}if(xe(mt)||W(mt))return Ze=Ze.get(Qe)||null,ct(Fe,Ze,mt,vr,null);if(typeof mt.then=="function")return nt(Ze,Fe,Qe,Ht(mt),vr);if(mt.$$typeof===D)return nt(Ze,Fe,Qe,tf(Fe,mt),vr);Kt(Fe,mt)}return null}function rr(Ze,Fe,Qe,mt){for(var vr=null,Sn=null,lr=Fe,Vr=Fe=0,sn=null;lr!==null&&Vr<Qe.length;Vr++){lr.index>Vr?(sn=lr,lr=null):sn=lr.sibling;var En=rt(Ze,lr,Qe[Vr],mt);if(En===null){lr===null&&(lr=sn);break}o&&lr&&En.alternate===null&&u(Ze,lr),Fe=N(En,Fe,Vr),Sn===null?vr=En:Sn.sibling=En,Sn=En,lr=sn}if(Vr===Qe.length)return d(Ze,lr),Zr&&tr(Ze,Vr),vr;if(lr===null){for(;Vr<Qe.length;Vr++)lr=vt(Ze,Qe[Vr],mt),lr!==null&&(Fe=N(lr,Fe,Vr),Sn===null?vr=lr:Sn.sibling=lr,Sn=lr);return Zr&&tr(Ze,Vr),vr}for(lr=g(lr);Vr<Qe.length;Vr++)sn=nt(lr,Ze,Vr,Qe[Vr],mt),sn!==null&&(o&&sn.alternate!==null&&lr.delete(sn.key===null?Vr:sn.key),Fe=N(sn,Fe,Vr),Sn===null?vr=sn:Sn.sibling=sn,Sn=sn);return o&&lr.forEach(function(Uc){return u(Ze,Uc)}),Zr&&tr(Ze,Vr),vr}function Tr(Ze,Fe,Qe,mt){if(Qe==null)throw Error(i(151));for(var vr=null,Sn=null,lr=Fe,Vr=Fe=0,sn=null,En=Qe.next();lr!==null&&!En.done;Vr++,En=Qe.next()){lr.index>Vr?(sn=lr,lr=null):sn=lr.sibling;var Uc=rt(Ze,lr,En.value,mt);if(Uc===null){lr===null&&(lr=sn);break}o&&lr&&Uc.alternate===null&&u(Ze,lr),Fe=N(Uc,Fe,Vr),Sn===null?vr=Uc:Sn.sibling=Uc,Sn=Uc,lr=sn}if(En.done)return d(Ze,lr),Zr&&tr(Ze,Vr),vr;if(lr===null){for(;!En.done;Vr++,En=Qe.next())En=vt(Ze,En.value,mt),En!==null&&(Fe=N(En,Fe,Vr),Sn===null?vr=En:Sn.sibling=En,Sn=En);return Zr&&tr(Ze,Vr),vr}for(lr=g(lr);!En.done;Vr++,En=Qe.next())En=nt(lr,Ze,Vr,En.value,mt),En!==null&&(o&&En.alternate!==null&&lr.delete(En.key===null?Vr:En.key),Fe=N(En,Fe,Vr),Sn===null?vr=En:Sn.sibling=En,Sn=En);return o&&lr.forEach(function(xA){return u(Ze,xA)}),Zr&&tr(Ze,Vr),vr}function Zn(Ze,Fe,Qe,mt){if(typeof Qe=="object"&&Qe!==null&&Qe.type===S&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case _:e:{for(var vr=Qe.key;Fe!==null;){if(Fe.key===vr){if(vr=Qe.type,vr===S){if(Fe.tag===7){d(Ze,Fe.sibling),mt=E(Fe,Qe.props.children),mt.return=Ze,Ze=mt;break e}}else if(Fe.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===K&&Xe(vr)===Fe.type){d(Ze,Fe.sibling),mt=E(Fe,Qe.props),Pr(mt,Qe),mt.return=Ze,Ze=mt;break e}d(Ze,Fe);break}else u(Ze,Fe);Fe=Fe.sibling}Qe.type===S?(mt=ul(Qe.props.children,Ze.mode,mt,Qe.key),mt.return=Ze,Ze=mt):(mt=Ol(Qe.type,Qe.key,Qe.props,null,Ze.mode,mt),Pr(mt,Qe),mt.return=Ze,Ze=mt)}return V(Ze);case T:e:{for(vr=Qe.key;Fe!==null;){if(Fe.key===vr)if(Fe.tag===4&&Fe.stateNode.containerInfo===Qe.containerInfo&&Fe.stateNode.implementation===Qe.implementation){d(Ze,Fe.sibling),mt=E(Fe,Qe.children||[]),mt.return=Ze,Ze=mt;break e}else{d(Ze,Fe);break}else u(Ze,Fe);Fe=Fe.sibling}mt=fu(Qe,Ze.mode,mt),mt.return=Ze,Ze=mt}return V(Ze);case K:return Qe=Xe(Qe),Zn(Ze,Fe,Qe,mt)}if(xe(Qe))return rr(Ze,Fe,Qe,mt);if(W(Qe)){if(vr=W(Qe),typeof vr!="function")throw Error(i(150));return Qe=vr.call(Qe),Tr(Ze,Fe,Qe,mt)}if(typeof Qe.then=="function")return Zn(Ze,Fe,Ht(Qe),mt);if(Qe.$$typeof===D)return Zn(Ze,Fe,tf(Ze,Qe),mt);Kt(Ze,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint"?(Qe=""+Qe,Fe!==null&&Fe.tag===6?(d(Ze,Fe.sibling),mt=E(Fe,Qe),mt.return=Ze,Ze=mt):(d(Ze,Fe),mt=hu(Qe,Ze.mode,mt),mt.return=Ze,Ze=mt),V(Ze)):d(Ze,Fe)}return function(Ze,Fe,Qe,mt){try{nr=0;var vr=Zn(Ze,Fe,Qe,mt);return _t=null,vr}catch(lr){if(lr===je||lr===Ee)throw lr;var Sn=ia(29,lr,null,Ze.mode);return Sn.lanes=mt,Sn.return=Ze,Sn}}}var Qn=Qr(!0),jr=Qr(!1),qt=!1;function Rt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function di(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Sr(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function zr(o,u,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Nn&2)!==0){var E=g.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),g.pending=u,u=na(o),zo(o,null,d),u}return Uo(o,g,u,d),na(o)}function An(o,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var g=u.lanes;g&=o.pendingLanes,d|=g,u.lanes=d,Ce(o,d)}}function sa(o,u){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var E=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var V={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?E=N=V:N=N.next=V,d=d.next}while(d!==null);N===null?E=N=u:N=N.next=u}else E=N=u;d={baseState:g.baseState,firstBaseUpdate:E,lastBaseUpdate:N,shared:g.shared,callbacks:g.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=u}var Da=!1;function Vn(){if(Da){var o=A;if(o!==null)throw o}}function Ui(o,u,d,g){Da=!1;var E=o.updateQueue;qt=!1;var N=E.firstBaseUpdate,V=E.lastBaseUpdate,fe=E.shared.pending;if(fe!==null){E.shared.pending=null;var ke=fe,et=ke.next;ke.next=null,V===null?N=et:V.next=et,V=ke;var ct=o.alternate;ct!==null&&(ct=ct.updateQueue,fe=ct.lastBaseUpdate,fe!==V&&(fe===null?ct.firstBaseUpdate=et:fe.next=et,ct.lastBaseUpdate=ke))}if(N!==null){var vt=E.baseState;V=0,ct=et=ke=null,fe=N;do{var rt=fe.lane&-536870913,nt=rt!==fe.lane;if(nt?(an&rt)===rt:(g&rt)===rt){rt!==0&&rt===w&&(Da=!0),ct!==null&&(ct=ct.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var rr=o,Tr=fe;rt=u;var Zn=d;switch(Tr.tag){case 1:if(rr=Tr.payload,typeof rr=="function"){vt=rr.call(Zn,vt,rt);break e}vt=rr;break e;case 3:rr.flags=rr.flags&-65537|128;case 0:if(rr=Tr.payload,rt=typeof rr=="function"?rr.call(Zn,vt,rt):rr,rt==null)break e;vt=v({},vt,rt);break e;case 2:qt=!0}}rt=fe.callback,rt!==null&&(o.flags|=64,nt&&(o.flags|=8192),nt=E.callbacks,nt===null?E.callbacks=[rt]:nt.push(rt))}else nt={lane:rt,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},ct===null?(et=ct=nt,ke=vt):ct=ct.next=nt,V|=rt;if(fe=fe.next,fe===null){if(fe=E.shared.pending,fe===null)break;nt=fe,fe=nt.next,nt.next=null,E.lastBaseUpdate=nt,E.shared.pending=null}}while(!0);ct===null&&(ke=vt),E.baseState=ke,E.firstBaseUpdate=et,E.lastBaseUpdate=ct,N===null&&(E.shared.lanes=0),Mc|=V,o.lanes=V,o.memoizedState=vt}}function qa(o,u){if(typeof o!="function")throw Error(i(191,o));o.call(u)}function zi(o,u){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)qa(d[o],u)}var $r=Q(null),mn=Q(0);function pi(o,u){o=Qu,G(mn,o),G($r,u),Qu=o|u.baseLanes}function yn(){G(mn,Qu),G($r,$r.current)}function oa(){Qu=mn.current,P($r),P(mn)}var mi=Q(null),gn=null;function Di(o){var u=o.alternate;G(hn,hn.current&1),G(mi,o),gn===null&&(u===null||$r.current!==null||u.memoizedState!==null)&&(gn=o)}function Ln(o){G(hn,hn.current),G(mi,o),gn===null&&(gn=o)}function Gi(o){o.tag===22?(G(hn,hn.current),G(mi,o),gn===null&&(gn=o)):Hi()}function Hi(){G(hn,hn.current),G(mi,mi.current)}function In(o){P(mi),gn===o&&(gn=null),P(hn)}var hn=Q(0);function Va(o){for(var u=o;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||mv(d)||gv(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Si=0,mr=null,gr=null,vn=null,Ms=!1,mo=!1,us=!1,qi=0,_u=0,yu=null,nf=0;function $n(){throw Error(i(321))}function Nd(o,u){if(u===null)return!1;for(var d=0;d<u.length&&d<o.length;d++)if(!xi(o[d],u[d]))return!1;return!0}function Cd(o,u,d,g,E,N){return Si=N,mr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,oe.H=o===null||o.memoizedState===null?$y:Ag,us=!1,N=d(g,E),us=!1,mo&&(N=Dl(u,d,g,E)),af(o),N}function af(o){oe.H=Id;var u=gr!==null&&gr.next!==null;if(Si=0,vn=gr=mr=null,Ms=!1,_u=0,yu=null,u)throw Error(i(300));o===null||ga||(o=o.dependencies,o!==null&&ef(o)&&(ga=!0))}function Dl(o,u,d,g){mr=o;var E=0;do{if(mo&&(yu=null),_u=0,mo=!1,25<=E)throw Error(i(301));if(E+=1,vn=gr=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}oe.H=Wy,N=u(d,g)}while(mo);return N}function yg(){var o=oe.H,u=o.useState()[0];return u=typeof u.then=="function"?xu(u):u,o=o.useState()[0],(gr!==null?gr.memoizedState:null)!==o&&(mr.flags|=1024),u}function Md(){var o=qi!==0;return qi=0,o}function kd(o,u,d){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~d}function sf(o){if(Ms){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Ms=!1}Si=0,vn=gr=mr=null,mo=!1,_u=qi=0,yu=null}function ma(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?mr.memoizedState=vn=o:vn=vn.next=o,vn}function Ei(){if(gr===null){var o=mr.alternate;o=o!==null?o.memoizedState:null}else o=gr.next;var u=vn===null?mr.memoizedState:vn.next;if(u!==null)vn=u,gr=o;else{if(o===null)throw mr.alternate===null?Error(i(467)):Error(i(310));gr=o,o={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},vn===null?mr.memoizedState=vn=o:vn=vn.next=o}return vn}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xu(o){var u=_u;return _u+=1,yu===null&&(yu=[]),o=lt(yu,o,u),u=mr,(vn===null?u.memoizedState:vn.next)===null&&(u=u.alternate,oe.H=u===null||u.memoizedState===null?$y:Ag),o}function Ec(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return xu(o);if(o.$$typeof===D)return Ra(o)}throw Error(i(438,String(o)))}function qu(o){var u=null,d=mr.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var g=mr.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=ph(),mr.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(o),g=0;g<o;g++)d[g]=X;return u.index++,d}function hl(o,u){return typeof u=="function"?u(o):u}function of(o){var u=Ei();return Tc(u,gr,o)}function Tc(o,u,d){var g=o.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=d;var E=o.baseQueue,N=g.pending;if(N!==null){if(E!==null){var V=E.next;E.next=N.next,N.next=V}u.baseQueue=E=N,g.pending=null}if(N=o.baseState,E===null)o.memoizedState=N;else{u=E.next;var fe=V=null,ke=null,et=u,ct=!1;do{var vt=et.lane&-536870913;if(vt!==et.lane?(an&vt)===vt:(Si&vt)===vt){var rt=et.revertLane;if(rt===0)ke!==null&&(ke=ke.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),vt===w&&(ct=!0);else if((Si&rt)===rt){et=et.next,rt===w&&(ct=!0);continue}else vt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},ke===null?(fe=ke=vt,V=N):ke=ke.next=vt,mr.lanes|=rt,Mc|=rt;vt=et.action,us&&d(N,vt),N=et.hasEagerState?et.eagerState:d(N,vt)}else rt={lane:vt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},ke===null?(fe=ke=rt,V=N):ke=ke.next=rt,mr.lanes|=vt,Mc|=vt;et=et.next}while(et!==null&&et!==u);if(ke===null?V=N:ke.next=fe,!xi(N,o.memoizedState)&&(ga=!0,ct&&(d=A,d!==null)))throw d;o.memoizedState=N,o.baseState=V,o.baseQueue=ke,g.lastRenderedState=N}return E===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function lf(o){var u=Ei(),d=u.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=o;var g=d.dispatch,E=d.pending,N=u.memoizedState;if(E!==null){d.pending=null;var V=E=E.next;do N=o(N,V.action),V=V.next;while(V!==E);xi(N,u.memoizedState)||(ga=!0),u.memoizedState=N,u.baseQueue===null&&(u.baseState=N),d.lastRenderedState=N}return[N,g]}function uf(o,u,d){var g=mr,E=Ei(),N=Zr;if(N){if(d===void 0)throw Error(i(407));d=d()}else d=u();var V=!xi((gr||E).memoizedState,d);if(V&&(E.memoizedState=d,ga=!0),E=E.queue,xg(Od.bind(null,g,E,o),[o]),E.getSnapshot!==u||V||vn!==null&&vn.memoizedState.tag&1){if(g.flags|=2048,$u(9,{destroy:void 0},Pd.bind(null,g,E,d,u),null),ei===null)throw Error(i(349));N||(Si&127)!==0||jl(g,u,d)}return d}function jl(o,u,d){o.flags|=16384,o={getSnapshot:u,value:d},u=mr.updateQueue,u===null?(u=ph(),mr.updateQueue=u,u.stores=[o]):(d=u.stores,d===null?u.stores=[o]:d.push(o))}function Pd(o,u,d,g){u.value=d,u.getSnapshot=g,Pp(u)&&Rd(o)}function Od(o,u,d){return d(function(){Pp(u)&&Rd(o)})}function Pp(o){var u=o.getSnapshot;o=o.value;try{var d=u();return!xi(o,d)}catch{return!0}}function Rd(o){var u=Ns(o,2);u!==null&&xo(u,o,2)}function wu(o){var u=ma();if(typeof o=="function"){var d=o;if(o=d(),us){pr(!0);try{d()}finally{pr(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:o},u}function Op(o,u,d,g){return o.baseState=d,Tc(o,gr,typeof g=="function"?g:hl)}function Rp(o,u,d,g,E){if(Fp(o))throw Error(i(485));if(o=u.action,o!==null){var N={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){N.listeners.push(V)}};oe.T!==null?d(!0):N.isTransition=!1,g(N),d=u.pending,d===null?(N.next=u.pending=N,Dp(u,N)):(N.next=d.next,u.pending=d.next=N)}}function Dp(o,u){var d=u.action,g=u.payload,E=o.state;if(u.isTransition){var N=oe.T,V={};oe.T=V;try{var fe=d(E,g),ke=oe.S;ke!==null&&ke(V,fe),Dd(o,u,fe)}catch(et){Vu(o,u,et)}finally{N!==null&&V.types!==null&&(N.types=V.types),oe.T=N}}else try{N=d(E,g),Dd(o,u,N)}catch(et){Vu(o,u,et)}}function Dd(o,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){jp(o,u,g)},function(g){return Vu(o,u,g)}):jp(o,u,d)}function jp(o,u,d){u.status="fulfilled",u.value=d,cf(u),o.state=d,u=o.pending,u!==null&&(d=u.next,d===u?o.pending=null:(d=d.next,u.next=d,Dp(o,d)))}function Vu(o,u,d){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=d,cf(u),u=u.next;while(u!==g)}o.action=null}function cf(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function mh(o,u){return u}function fl(o,u){if(Zr){var d=ei.formState;if(d!==null){e:{var g=mr;if(Zr){if(pn){t:{for(var E=pn,N=si;E.nodeType!==8;){if(!N){E=null;break t}if(E=dl(E.nextSibling),E===null){E=null;break t}}N=E.data,E=N==="F!"||N==="F"?E:null}if(E){pn=dl(E.nextSibling),g=E.data==="F!";break e}}cl(g)}g=!1}g&&(u=d[0])}}return d=ma(),d.memoizedState=d.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mh,lastRenderedState:u},d.queue=g,d=Hy.bind(null,mr,g),g.dispatch=d,g=wu(!1),N=Tg.bind(null,mr,!1,g.queue),g=ma(),E={state:u,dispatch:null,action:o,pending:null},g.queue=E,d=Rp.bind(null,mr,E,N,d),E.dispatch=d,g.memoizedState=o,[u,d,!1]}function Il(o){var u=Ei();return Fl(u,gr,o)}function Fl(o,u,d){if(u=Tc(o,u,mh)[0],o=of(hl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=xu(u)}catch(V){throw V===je?Ee:V}else g=u;u=Ei();var E=u.queue,N=E.dispatch;return d!==u.memoizedState&&(mr.flags|=2048,$u(9,{destroy:void 0},hf.bind(null,E,d),null)),[g,N,o]}function hf(o,u){o.action=u}function ff(o){var u=Ei(),d=gr;if(d!==null)return Fl(u,d,o);Ei(),u=u.memoizedState,d=Ei();var g=d.queue.dispatch;return d.memoizedState=o,[u,g,!1]}function $u(o,u,d,g){return o={tag:o,create:d,deps:g,inst:u,next:null},u=mr.updateQueue,u===null&&(u=ph(),mr.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,u.lastEffect=o),o}function Ip(){return Ei().memoizedState}function Ac(o,u,d,g){var E=ma();mr.flags|=o,E.memoizedState=$u(1|u,{destroy:void 0},d,g===void 0?null:g)}function Lc(o,u,d,g){var E=Ei();g=g===void 0?null:g;var N=E.memoizedState.inst;gr!==null&&g!==null&&Nd(g,gr.memoizedState.deps)?E.memoizedState=$u(u,N,d,g):(mr.flags|=o,E.memoizedState=$u(1|u,N,d,g))}function Cy(o,u){Ac(8390656,8,o,u)}function xg(o,u){Lc(2048,8,o,u)}function pT(o){mr.flags|=4;var u=mr.updateQueue;if(u===null)u=ph(),mr.updateQueue=u,u.events=[o];else{var d=u.events;d===null?u.events=[o]:d.push(o)}}function My(o){var u=Ei().memoizedState;return pT({ref:u,nextImpl:o}),function(){if((Nn&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}function ky(o,u){return Lc(4,2,o,u)}function Py(o,u){return Lc(4,4,o,u)}function Oy(o,u){if(typeof u=="function"){o=o();var d=u(o);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Ry(o,u,d){d=d!=null?d.concat([o]):null,Lc(4,4,Oy.bind(null,u,o),d)}function wg(){}function Dy(o,u){var d=Ei();u=u===void 0?null:u;var g=d.memoizedState;return u!==null&&Nd(u,g[1])?g[0]:(d.memoizedState=[o,u],o)}function jy(o,u){var d=Ei();u=u===void 0?null:u;var g=d.memoizedState;if(u!==null&&Nd(u,g[1]))return g[0];if(g=o(),us){pr(!0);try{o()}finally{pr(!1)}}return d.memoizedState=[g,u],g}function bg(o,u,d){return d===void 0||(Si&1073741824)!==0&&(an&261930)===0?o.memoizedState=u:(o.memoizedState=d,o=Ix(),mr.lanes|=o,Mc|=o,d)}function Iy(o,u,d,g){return xi(d,u)?d:$r.current!==null?(o=bg(o,d,g),xi(o,u)||(ga=!0),o):(Si&42)===0||(Si&1073741824)!==0&&(an&261930)===0?(ga=!0,o.memoizedState=d):(o=Ix(),mr.lanes|=o,Mc|=o,u)}function Fy(o,u,d,g,E){var N=be.p;be.p=N!==0&&8>N?N:8;var V=oe.T,fe={};oe.T=fe,Tg(o,!1,u,d);try{var ke=E(),et=oe.S;if(et!==null&&et(fe,ke),ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var ct=ee(ke,g);jd(o,u,ct,Vo(o))}else jd(o,u,g,Vo(o))}catch(vt){jd(o,u,{then:function(){},status:"rejected",reason:vt},Vo())}finally{be.p=N,V!==null&&fe.types!==null&&(V.types=fe.types),oe.T=V}}function mT(){}function Sg(o,u,d,g){if(o.tag!==5)throw Error(i(476));var E=By(o).queue;Fy(o,E,u,_e,d===null?mT:function(){return Uy(o),d(g)})}function By(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:_e},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:d},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function Uy(o){var u=By(o);u.next===null&&(u=o.alternate.memoizedState),jd(o,u.next.queue,{},Vo())}function Eg(){return Ra(Qd)}function zy(){return Ei().memoizedState}function Gy(){return Ei().memoizedState}function gT(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var d=Vo();o=Sr(d);var g=zr(u,o,d);g!==null&&(xo(g,u,d),An(g,u,d)),u={cache:Sc()},o.payload=u;return}u=u.return}}function vT(o,u,d){var g=Vo();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Fp(o)?qy(u,d):(d=yc(o,u,d,g),d!==null&&(xo(d,o,g),Vy(d,u,g)))}function Hy(o,u,d){var g=Vo();jd(o,u,d,g)}function jd(o,u,d,g){var E={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Fp(o))qy(u,E);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=u.lastRenderedReducer,N!==null))try{var V=u.lastRenderedState,fe=N(V,d);if(E.hasEagerState=!0,E.eagerState=fe,xi(fe,V))return Uo(o,u,E,0),ei===null&&uu(),!1}catch{}if(d=yc(o,u,E,g),d!==null)return xo(d,o,g),Vy(d,u,g),!0}return!1}function Tg(o,u,d,g){if(g={lane:2,revertLane:nv(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Fp(o)){if(u)throw Error(i(479))}else u=yc(o,d,g,2),u!==null&&xo(u,o,2)}function Fp(o){var u=o.alternate;return o===mr||u!==null&&u===mr}function qy(o,u){mo=Ms=!0;var d=o.pending;d===null?u.next=u:(u.next=d.next,d.next=u),o.pending=u}function Vy(o,u,d){if((d&4194048)!==0){var g=u.lanes;g&=o.pendingLanes,d|=g,u.lanes=d,Ce(o,d)}}var Id={readContext:Ra,use:Ec,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n};Id.useEffectEvent=$n;var $y={readContext:Ra,use:Ec,useCallback:function(o,u){return ma().memoizedState=[o,u===void 0?null:u],o},useContext:Ra,useEffect:Cy,useImperativeHandle:function(o,u,d){d=d!=null?d.concat([o]):null,Ac(4194308,4,Oy.bind(null,u,o),d)},useLayoutEffect:function(o,u){return Ac(4194308,4,o,u)},useInsertionEffect:function(o,u){Ac(4,2,o,u)},useMemo:function(o,u){var d=ma();u=u===void 0?null:u;var g=o();if(us){pr(!0);try{o()}finally{pr(!1)}}return d.memoizedState=[g,u],g},useReducer:function(o,u,d){var g=ma();if(d!==void 0){var E=d(u);if(us){pr(!0);try{d(u)}finally{pr(!1)}}}else E=u;return g.memoizedState=g.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},g.queue=o,o=o.dispatch=vT.bind(null,mr,o),[g.memoizedState,o]},useRef:function(o){var u=ma();return o={current:o},u.memoizedState=o},useState:function(o){o=wu(o);var u=o.queue,d=Hy.bind(null,mr,u);return u.dispatch=d,[o.memoizedState,d]},useDebugValue:wg,useDeferredValue:function(o,u){var d=ma();return bg(d,o,u)},useTransition:function(){var o=wu(!1);return o=Fy.bind(null,mr,o.queue,!0,!1),ma().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,d){var g=mr,E=ma();if(Zr){if(d===void 0)throw Error(i(407));d=d()}else{if(d=u(),ei===null)throw Error(i(349));(an&127)!==0||jl(g,u,d)}E.memoizedState=d;var N={value:d,getSnapshot:u};return E.queue=N,Cy(Od.bind(null,g,N,o),[o]),g.flags|=2048,$u(9,{destroy:void 0},Pd.bind(null,g,N,d,u),null),d},useId:function(){var o=ma(),u=ei.identifierPrefix;if(Zr){var d=kt,g=pt;d=(g&~(1<<32-Dr(g)-1)).toString(32)+d,u="_"+u+"R_"+d,d=qi++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=nf++,u="_"+u+"r_"+d.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:Eg,useFormState:fl,useActionState:fl,useOptimistic:function(o){var u=ma();u.memoizedState=u.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=Tg.bind(null,mr,!0,d),d.dispatch=u,[o,u]},useMemoCache:qu,useCacheRefresh:function(){return ma().memoizedState=gT.bind(null,mr)},useEffectEvent:function(o){var u=ma(),d={impl:o};return u.memoizedState=d,function(){if((Nn&2)!==0)throw Error(i(440));return d.impl.apply(void 0,arguments)}}},Ag={readContext:Ra,use:Ec,useCallback:Dy,useContext:Ra,useEffect:xg,useImperativeHandle:Ry,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:jy,useReducer:of,useRef:Ip,useState:function(){return of(hl)},useDebugValue:wg,useDeferredValue:function(o,u){var d=Ei();return Iy(d,gr.memoizedState,o,u)},useTransition:function(){var o=of(hl)[0],u=Ei().memoizedState;return[typeof o=="boolean"?o:xu(o),u]},useSyncExternalStore:uf,useId:zy,useHostTransitionStatus:Eg,useFormState:Il,useActionState:Il,useOptimistic:function(o,u){var d=Ei();return Op(d,gr,o,u)},useMemoCache:qu,useCacheRefresh:Gy};Ag.useEffectEvent=My;var Wy={readContext:Ra,use:Ec,useCallback:Dy,useContext:Ra,useEffect:xg,useImperativeHandle:Ry,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:jy,useReducer:lf,useRef:Ip,useState:function(){return lf(hl)},useDebugValue:wg,useDeferredValue:function(o,u){var d=Ei();return gr===null?bg(d,o,u):Iy(d,gr.memoizedState,o,u)},useTransition:function(){var o=lf(hl)[0],u=Ei().memoizedState;return[typeof o=="boolean"?o:xu(o),u]},useSyncExternalStore:uf,useId:zy,useHostTransitionStatus:Eg,useFormState:ff,useActionState:ff,useOptimistic:function(o,u){var d=Ei();return gr!==null?Op(d,gr,o,u):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:qu,useCacheRefresh:Gy};Wy.useEffectEvent=My;function Lg(o,u,d,g){u=o.memoizedState,d=d(g,u),d=d==null?u:v({},u,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Ng={enqueueSetState:function(o,u,d){o=o._reactInternals;var g=Vo(),E=Sr(g);E.payload=u,d!=null&&(E.callback=d),u=zr(o,E,g),u!==null&&(xo(u,o,g),An(u,o,g))},enqueueReplaceState:function(o,u,d){o=o._reactInternals;var g=Vo(),E=Sr(g);E.tag=1,E.payload=u,d!=null&&(E.callback=d),u=zr(o,E,g),u!==null&&(xo(u,o,g),An(u,o,g))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var d=Vo(),g=Sr(d);g.tag=2,u!=null&&(g.callback=u),u=zr(o,g,d),u!==null&&(xo(u,o,d),An(u,o,d))}};function Zy(o,u,d,g,E,N,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,N,V):u.prototype&&u.prototype.isPureReactComponent?!oo(d,g)||!oo(E,N):!0}function Yy(o,u,d,g){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==o&&Ng.enqueueReplaceState(u,u.state,null)}function gh(o,u){var d=u;if("ref"in u){d={};for(var g in u)g!=="ref"&&(d[g]=u[g])}if(o=o.defaultProps){d===u&&(d=v({},d));for(var E in o)d[E]===void 0&&(d[E]=o[E])}return d}function Ky(o){lu(o)}function Xy(o){console.error(o)}function Jy(o){lu(o)}function Bp(o,u){try{var d=o.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function Qy(o,u,d){try{var g=o.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Cg(o,u,d){return d=Sr(d),d.tag=3,d.payload={element:null},d.callback=function(){Bp(o,u)},d}function ex(o){return o=Sr(o),o.tag=3,o}function tx(o,u,d,g){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var N=g.value;o.payload=function(){return E(N)},o.callback=function(){Qy(u,d,g)}}var V=d.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(o.callback=function(){Qy(u,d,g),typeof E!="function"&&(kc===null?kc=new Set([this]):kc.add(this));var fe=g.stack;this.componentDidCatch(g.value,{componentStack:fe!==null?fe:""})})}function _T(o,u,d,g,E){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=d.alternate,u!==null&&gu(u,d,E,!0),d=mi.current,d!==null){switch(d.tag){case 31:case 13:return gn===null?Xp():d.alternate===null&&Vi===0&&(Vi=3),d.flags&=-257,d.flags|=65536,d.lanes=E,g===He?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([g]):u.add(g),ev(o,g,E)),!1;case 22:return d.flags|=65536,g===He?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([g]):d.add(g)),ev(o,g,E)),!1}throw Error(i(435,d.tag))}return ev(o,g,E),Xp(),!1}if(Zr)return u=mi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,g!==Cs&&(o=Error(i(422),{cause:g}),du(m(o,d)))):(g!==Cs&&(u=Error(i(423),{cause:g}),du(m(u,d))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,g=m(g,d),E=Cg(o.stateNode,g,E),sa(o,E),Vi!==4&&(Vi=2)),!1;var N=Error(i(520),{cause:g});if(N=m(N,d),Vd===null?Vd=[N]:Vd.push(N),Vi!==4&&(Vi=2),u===null)return!0;g=m(g,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,o=E&-E,d.lanes|=o,o=Cg(d.stateNode,g,o),sa(d,o),!1;case 1:if(u=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(kc===null||!kc.has(N))))return d.flags|=65536,E&=-E,d.lanes|=E,E=ex(E),tx(E,o,d,g),sa(d,E),!1}d=d.return}while(d!==null);return!1}var Mg=Error(i(461)),ga=!1;function cs(o,u,d,g){u.child=o===null?jr(u,null,d,g):Qn(u,o.child,d,g)}function rx(o,u,d,g,E){d=d.render;var N=u.ref;if("ref"in g){var V={};for(var fe in g)fe!=="ref"&&(V[fe]=g[fe])}else V=g;return vu(u),g=Cd(o,u,d,V,N,E),fe=Md(),o!==null&&!ga?(kd(o,u,E),Wu(o,u,E)):(Zr&&fe&&aa(u),u.flags|=1,cs(o,u,g,E),u.child)}function nx(o,u,d,g,E){if(o===null){var N=d.type;return typeof N=="function"&&!zu(N)&&N.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=N,ix(o,u,N,g,E)):(o=Ol(d.type,null,g,u,u.mode,E),o.ref=u.ref,o.return=u,u.child=o)}if(N=o.child,!Fg(o,E)){var V=N.memoizedProps;if(d=d.compare,d=d!==null?d:oo,d(V,g)&&o.ref===u.ref)return Wu(o,u,E)}return u.flags|=1,o=os(N,g),o.ref=u.ref,o.return=u,u.child=o}function ix(o,u,d,g,E){if(o!==null){var N=o.memoizedProps;if(oo(N,g)&&o.ref===u.ref)if(ga=!1,u.pendingProps=g=N,Fg(o,E))(o.flags&131072)!==0&&(ga=!0);else return u.lanes=o.lanes,Wu(o,u,E)}return kg(o,u,d,g,E)}function ax(o,u,d,g){var E=g.children,N=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,o!==null){for(g=u.child=o.child,E=0;g!==null;)E=E|g.lanes|g.childLanes,g=g.sibling;g=E&~N}else g=0,u.child=null;return sx(o,u,N,d,g)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&ye(u,N!==null?N.cachePool:null),N!==null?pi(u,N):yn(),Gi(u);else return g=u.lanes=536870912,sx(o,u,N!==null?N.baseLanes|d:d,d,g)}else N!==null?(ye(u,N.cachePool),pi(u,N),Hi(),u.memoizedState=null):(o!==null&&ye(u,null),yn(),Hi());return cs(o,u,E,d),u.child}function Fd(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function sx(o,u,d,g,E){var N=me();return N=N===null?null:{parent:Ri._currentValue,pool:N},u.memoizedState={baseLanes:d,cachePool:N},o!==null&&ye(u,null),yn(),Gi(u),o!==null&&gu(o,u,g,!0),u.childLanes=E,null}function Up(o,u){return u=Gp({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function ox(o,u,d){return Qn(u,o.child,null,d),o=Up(u,u.pendingProps),o.flags|=2,In(u),u.memoizedState=null,o}function yT(o,u,d){var g=u.pendingProps,E=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(Zr){if(g.mode==="hidden")return o=Up(u,g),u.lanes=536870912,Fd(null,o);if(Ln(u),(o=pn)?(o=yw(o,si),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:tt!==null?{id:pt,overflow:kt}:null,retryLane:536870912,hydrationErrors:null},d=Gu(o),d.return=u,u.child=d,dn=u,pn=null)):o=null,o===null)throw cl(u);return u.lanes=536870912,null}return Up(u,g)}var N=o.memoizedState;if(N!==null){var V=N.dehydrated;if(Ln(u),E)if(u.flags&256)u.flags&=-257,u=ox(o,u,d);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(i(558));else if(ga||gu(o,u,d,!1),E=(d&o.childLanes)!==0,ga||E){if(g=ei,g!==null&&(V=Ge(g,d),V!==0&&V!==N.retryLane))throw N.retryLane=V,Ns(o,V),xo(g,o,V),Mg;Xp(),u=ox(o,u,d)}else o=N.treeContext,pn=dl(V.nextSibling),dn=u,Zr=!0,Oa=null,si=!1,o!==null&&ls(u,o),u=Up(u,g),u.flags|=4096;return u}return o=os(o.child,{mode:g.mode,children:g.children}),o.ref=u.ref,u.child=o,o.return=u,o}function zp(o,u){var d=u.ref;if(d===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(o===null||o.ref!==d)&&(u.flags|=4194816)}}function kg(o,u,d,g,E){return vu(u),d=Cd(o,u,d,g,void 0,E),g=Md(),o!==null&&!ga?(kd(o,u,E),Wu(o,u,E)):(Zr&&g&&aa(u),u.flags|=1,cs(o,u,d,E),u.child)}function lx(o,u,d,g,E,N){return vu(u),u.updateQueue=null,d=Dl(u,g,d,E),af(o),g=Md(),o!==null&&!ga?(kd(o,u,N),Wu(o,u,N)):(Zr&&g&&aa(u),u.flags|=1,cs(o,u,d,N),u.child)}function ux(o,u,d,g,E){if(vu(u),u.stateNode===null){var N=Bi,V=d.contextType;typeof V=="object"&&V!==null&&(N=Ra(V)),N=new d(g,N),u.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Ng,u.stateNode=N,N._reactInternals=u,N=u.stateNode,N.props=g,N.state=u.memoizedState,N.refs={},Rt(u),V=d.contextType,N.context=typeof V=="object"&&V!==null?Ra(V):Bi,N.state=u.memoizedState,V=d.getDerivedStateFromProps,typeof V=="function"&&(Lg(u,d,V,g),N.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(V=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),V!==N.state&&Ng.enqueueReplaceState(N,N.state,null),Ui(u,g,N,E),Vn(),N.state=u.memoizedState),typeof N.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(o===null){N=u.stateNode;var fe=u.memoizedProps,ke=gh(d,fe);N.props=ke;var et=N.context,ct=d.contextType;V=Bi,typeof ct=="object"&&ct!==null&&(V=Ra(ct));var vt=d.getDerivedStateFromProps;ct=typeof vt=="function"||typeof N.getSnapshotBeforeUpdate=="function",fe=u.pendingProps!==fe,ct||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(fe||et!==V)&&Yy(u,N,g,V),qt=!1;var rt=u.memoizedState;N.state=rt,Ui(u,g,N,E),Vn(),et=u.memoizedState,fe||rt!==et||qt?(typeof vt=="function"&&(Lg(u,d,vt,g),et=u.memoizedState),(ke=qt||Zy(u,d,ke,g,rt,et,V))?(ct||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(u.flags|=4194308)):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=et),N.props=g,N.state=et,N.context=V,g=ke):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{N=u.stateNode,di(o,u),V=u.memoizedProps,ct=gh(d,V),N.props=ct,vt=u.pendingProps,rt=N.context,et=d.contextType,ke=Bi,typeof et=="object"&&et!==null&&(ke=Ra(et)),fe=d.getDerivedStateFromProps,(et=typeof fe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==vt||rt!==ke)&&Yy(u,N,g,ke),qt=!1,rt=u.memoizedState,N.state=rt,Ui(u,g,N,E),Vn();var nt=u.memoizedState;V!==vt||rt!==nt||qt||o!==null&&o.dependencies!==null&&ef(o.dependencies)?(typeof fe=="function"&&(Lg(u,d,fe,g),nt=u.memoizedState),(ct=qt||Zy(u,d,ct,g,rt,nt,ke)||o!==null&&o.dependencies!==null&&ef(o.dependencies))?(et||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,nt,ke),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,nt,ke)),typeof N.componentDidUpdate=="function"&&(u.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===o.memoizedProps&&rt===o.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&rt===o.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=nt),N.props=g,N.state=nt,N.context=ke,g=ct):(typeof N.componentDidUpdate!="function"||V===o.memoizedProps&&rt===o.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&rt===o.memoizedState||(u.flags|=1024),g=!1)}return N=g,zp(o,u),g=(u.flags&128)!==0,N||g?(N=u.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:N.render(),u.flags|=1,o!==null&&g?(u.child=Qn(u,o.child,null,E),u.child=Qn(u,null,d,E)):cs(o,u,d,E),u.memoizedState=N.state,o=u.child):o=Wu(o,u,E),o}function cx(o,u,d,g){return Rl(),u.flags|=256,cs(o,u,d,g),u.child}var Pg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Og(o){return{baseLanes:o,cachePool:Te()}}function Rg(o,u,d){return o=o!==null?o.childLanes&~d:0,u&&(o|=qo),o}function hx(o,u,d){var g=u.pendingProps,E=!1,N=(u.flags&128)!==0,V;if((V=N)||(V=o!==null&&o.memoizedState===null?!1:(hn.current&2)!==0),V&&(E=!0,u.flags&=-129),V=(u.flags&32)!==0,u.flags&=-33,o===null){if(Zr){if(E?Di(u):Hi(),(o=pn)?(o=yw(o,si),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:tt!==null?{id:pt,overflow:kt}:null,retryLane:536870912,hydrationErrors:null},d=Gu(o),d.return=u,u.child=d,dn=u,pn=null)):o=null,o===null)throw cl(u);return gv(o)?u.lanes=32:u.lanes=536870912,null}var fe=g.children;return g=g.fallback,E?(Hi(),E=u.mode,fe=Gp({mode:"hidden",children:fe},E),g=ul(g,E,d,null),fe.return=u,g.return=u,fe.sibling=g,u.child=fe,g=u.child,g.memoizedState=Og(d),g.childLanes=Rg(o,V,d),u.memoizedState=Pg,Fd(null,g)):(Di(u),Dg(u,fe))}var ke=o.memoizedState;if(ke!==null&&(fe=ke.dehydrated,fe!==null)){if(N)u.flags&256?(Di(u),u.flags&=-257,u=jg(o,u,d)):u.memoizedState!==null?(Hi(),u.child=o.child,u.flags|=128,u=null):(Hi(),fe=g.fallback,E=u.mode,g=Gp({mode:"visible",children:g.children},E),fe=ul(fe,E,d,null),fe.flags|=2,g.return=u,fe.return=u,g.sibling=fe,u.child=g,Qn(u,o.child,null,d),g=u.child,g.memoizedState=Og(d),g.childLanes=Rg(o,V,d),u.memoizedState=Pg,u=Fd(null,g));else if(Di(u),gv(fe)){if(V=fe.nextSibling&&fe.nextSibling.dataset,V)var et=V.dgst;V=et,g=Error(i(419)),g.stack="",g.digest=V,du({value:g,source:null,stack:null}),u=jg(o,u,d)}else if(ga||gu(o,u,d,!1),V=(d&o.childLanes)!==0,ga||V){if(V=ei,V!==null&&(g=Ge(V,d),g!==0&&g!==ke.retryLane))throw ke.retryLane=g,Ns(o,g),xo(V,o,g),Mg;mv(fe)||Xp(),u=jg(o,u,d)}else mv(fe)?(u.flags|=192,u.child=o.child,u=null):(o=ke.treeContext,pn=dl(fe.nextSibling),dn=u,Zr=!0,Oa=null,si=!1,o!==null&&ls(u,o),u=Dg(u,g.children),u.flags|=4096);return u}return E?(Hi(),fe=g.fallback,E=u.mode,ke=o.child,et=ke.sibling,g=os(ke,{mode:"hidden",children:g.children}),g.subtreeFlags=ke.subtreeFlags&65011712,et!==null?fe=os(et,fe):(fe=ul(fe,E,d,null),fe.flags|=2),fe.return=u,g.return=u,g.sibling=fe,u.child=g,Fd(null,g),g=u.child,fe=o.child.memoizedState,fe===null?fe=Og(d):(E=fe.cachePool,E!==null?(ke=Ri._currentValue,E=E.parent!==ke?{parent:ke,pool:ke}:E):E=Te(),fe={baseLanes:fe.baseLanes|d,cachePool:E}),g.memoizedState=fe,g.childLanes=Rg(o,V,d),u.memoizedState=Pg,Fd(o.child,g)):(Di(u),d=o.child,o=d.sibling,d=os(d,{mode:"visible",children:g.children}),d.return=u,d.sibling=null,o!==null&&(V=u.deletions,V===null?(u.deletions=[o],u.flags|=16):V.push(o)),u.child=d,u.memoizedState=null,d)}function Dg(o,u){return u=Gp({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Gp(o,u){return o=ia(22,o,null,u),o.lanes=0,o}function jg(o,u,d){return Qn(u,o.child,null,d),o=Dg(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function fx(o,u,d){o.lanes|=u;var g=o.alternate;g!==null&&(g.lanes|=u),bc(o.return,u,d)}function Ig(o,u,d,g,E,N){var V=o.memoizedState;V===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:E,treeForkCount:N}:(V.isBackwards=u,V.rendering=null,V.renderingStartTime=0,V.last=g,V.tail=d,V.tailMode=E,V.treeForkCount=N)}function dx(o,u,d){var g=u.pendingProps,E=g.revealOrder,N=g.tail;g=g.children;var V=hn.current,fe=(V&2)!==0;if(fe?(V=V&1|2,u.flags|=128):V&=1,G(hn,V),cs(o,u,g,d),g=Zr?ae:0,!fe&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&fx(o,d,u);else if(o.tag===19)fx(o,d,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(E){case"forwards":for(d=u.child,E=null;d!==null;)o=d.alternate,o!==null&&Va(o)===null&&(E=d),d=d.sibling;d=E,d===null?(E=u.child,u.child=null):(E=d.sibling,d.sibling=null),Ig(u,!1,E,d,N,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,E=u.child,u.child=null;E!==null;){if(o=E.alternate,o!==null&&Va(o)===null){u.child=E;break}o=E.sibling,E.sibling=d,d=E,E=o}Ig(u,!0,d,null,N,g);break;case"together":Ig(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function Wu(o,u,d){if(o!==null&&(u.dependencies=o.dependencies),Mc|=u.lanes,(d&u.childLanes)===0)if(o!==null){if(gu(o,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(i(153));if(u.child!==null){for(o=u.child,d=os(o,o.pendingProps),u.child=d,d.return=u;o.sibling!==null;)o=o.sibling,d=d.sibling=os(o,o.pendingProps),d.return=u;d.sibling=null}return u.child}function Fg(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&ef(o)))}function xT(o,u,d){switch(u.tag){case 3:Oe(u,u.stateNode.containerInfo),mu(u,Ri,o.memoizedState.cache),Rl();break;case 27:case 5:Ie(u);break;case 4:Oe(u,u.stateNode.containerInfo);break;case 10:mu(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Ln(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Di(u),u.flags|=128,null):(d&u.child.childLanes)!==0?hx(o,u,d):(Di(u),o=Wu(o,u,d),o!==null?o.sibling:null);Di(u);break;case 19:var E=(o.flags&128)!==0;if(g=(d&u.childLanes)!==0,g||(gu(o,u,d,!1),g=(d&u.childLanes)!==0),E){if(g)return dx(o,u,d);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),G(hn,hn.current),g)break;return null;case 22:return u.lanes=0,ax(o,u,d,u.pendingProps);case 24:mu(u,Ri,o.memoizedState.cache)}return Wu(o,u,d)}function px(o,u,d){if(o!==null)if(o.memoizedProps!==u.pendingProps)ga=!0;else{if(!Fg(o,d)&&(u.flags&128)===0)return ga=!1,xT(o,u,d);ga=(o.flags&131072)!==0}else ga=!1,Zr&&(u.flags&1048576)!==0&&Ur(u,ae,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(o=Xe(u.elementType),u.type=o,typeof o=="function")zu(o)?(g=gh(o,g),u.tag=1,u=ux(null,u,o,g,d)):(u.tag=0,u=kg(null,u,o,g,d));else{if(o!=null){var E=o.$$typeof;if(E===q){u.tag=11,u=rx(null,u,o,g,d);break e}else if(E===F){u.tag=14,u=nx(null,u,o,g,d);break e}}throw u=de(o)||o,Error(i(306,u,""))}}return u;case 0:return kg(o,u,u.type,u.pendingProps,d);case 1:return g=u.type,E=gh(g,u.pendingProps),ux(o,u,g,E,d);case 3:e:{if(Oe(u,u.stateNode.containerInfo),o===null)throw Error(i(387));g=u.pendingProps;var N=u.memoizedState;E=N.element,di(o,u),Ui(u,g,null,d);var V=u.memoizedState;if(g=V.cache,mu(u,Ri,g),g!==N.cache&&Hu(u,[Ri],d,!0),Vn(),g=V.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:V.cache},u.updateQueue.baseState=N,u.memoizedState=N,u.flags&256){u=cx(o,u,g,d);break e}else if(g!==E){E=m(Error(i(424)),u),du(E),u=cx(o,u,g,d);break e}else for(o=u.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,pn=dl(o.firstChild),dn=u,Zr=!0,Oa=null,si=!0,d=jr(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Rl(),g===E){u=Wu(o,u,d);break e}cs(o,u,g,d)}u=u.child}return u;case 26:return zp(o,u),o===null?(d=Tw(u.type,null,u.pendingProps,null))?u.memoizedState=d:Zr||(d=u.type,o=u.pendingProps,g=im(se.current).createElement(d),g[ne]=u,g[he]=o,hs(g,d,o),Bt(g),u.stateNode=g):u.memoizedState=Tw(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ie(u),o===null&&Zr&&(g=u.stateNode=bw(u.type,u.pendingProps,se.current),dn=u,si=!0,E=pn,Dc(u.type)?(vv=E,pn=dl(g.firstChild)):pn=E),cs(o,u,u.pendingProps.children,d),zp(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Zr&&((E=g=pn)&&(g=KT(g,u.type,u.pendingProps,si),g!==null?(u.stateNode=g,dn=u,pn=dl(g.firstChild),si=!1,E=!0):E=!1),E||cl(u)),Ie(u),E=u.type,N=u.pendingProps,V=o!==null?o.memoizedProps:null,g=N.children,fv(E,N)?g=null:V!==null&&fv(E,V)&&(u.flags|=32),u.memoizedState!==null&&(E=Cd(o,u,yg,null,null,d),Qd._currentValue=E),zp(o,u),cs(o,u,g,d),u.child;case 6:return o===null&&Zr&&((o=d=pn)&&(d=XT(d,u.pendingProps,si),d!==null?(u.stateNode=d,dn=u,pn=null,o=!0):o=!1),o||cl(u)),null;case 13:return hx(o,u,d);case 4:return Oe(u,u.stateNode.containerInfo),g=u.pendingProps,o===null?u.child=Qn(u,null,g,d):cs(o,u,g,d),u.child;case 11:return rx(o,u,u.type,u.pendingProps,d);case 7:return cs(o,u,u.pendingProps,d),u.child;case 8:return cs(o,u,u.pendingProps.children,d),u.child;case 12:return cs(o,u,u.pendingProps.children,d),u.child;case 10:return g=u.pendingProps,mu(u,u.type,g.value),cs(o,u,g.children,d),u.child;case 9:return E=u.type._context,g=u.pendingProps.children,vu(u),E=Ra(E),g=g(E),u.flags|=1,cs(o,u,g,d),u.child;case 14:return nx(o,u,u.type,u.pendingProps,d);case 15:return ix(o,u,u.type,u.pendingProps,d);case 19:return dx(o,u,d);case 31:return yT(o,u,d);case 22:return ax(o,u,d,u.pendingProps);case 24:return vu(u),g=Ra(Ri),o===null?(E=me(),E===null&&(E=ei,N=Sc(),E.pooledCache=N,N.refCount++,N!==null&&(E.pooledCacheLanes|=d),E=N),u.memoizedState={parent:g,cache:E},Rt(u),mu(u,Ri,E)):((o.lanes&d)!==0&&(di(o,u),Ui(u,null,null,d),Vn()),E=o.memoizedState,N=u.memoizedState,E.parent!==g?(E={parent:g,cache:g},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),mu(u,Ri,g)):(g=N.cache,mu(u,Ri,g),g!==E.cache&&Hu(u,[Ri],d,!0))),cs(o,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function Zu(o){o.flags|=4}function Bg(o,u,d,g,E){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(E&335544128)===E)if(o.stateNode.complete)o.flags|=8192;else if(zx())o.flags|=8192;else throw st=He,Je}else o.flags&=-16777217}function mx(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Mw(u))if(zx())o.flags|=8192;else throw st=He,Je}function Hp(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Ji():536870912,o.lanes|=u,gf|=u)}function Bd(o,u){if(!Zr)switch(o.tailMode){case"hidden":u=o.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function gi(o){var u=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(u)for(var E=o.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags&65011712,g|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags,g|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=g,o.childLanes=d,u}function wT(o,u,d){var g=u.pendingProps;switch(fi(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(u),null;case 1:return gi(u),null;case 3:return d=u.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),po(Ri),Re(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(bi(u)?Zu(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,hh())),gi(u),null;case 26:var E=u.type,N=u.memoizedState;return o===null?(Zu(u),N!==null?(gi(u),mx(u,N)):(gi(u),Bg(u,E,null,g,d))):N?N!==o.memoizedState?(Zu(u),gi(u),mx(u,N)):(gi(u),u.flags&=-16777217):(o=o.memoizedProps,o!==g&&Zu(u),gi(u),Bg(u,E,o,g,d)),null;case 27:if(ot(u),d=se.current,E=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==g&&Zu(u);else{if(!g){if(u.stateNode===null)throw Error(i(166));return gi(u),null}o=H.current,bi(u)?wc(u):(o=bw(E,g,d),u.stateNode=o,Zu(u))}return gi(u),null;case 5:if(ot(u),E=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==g&&Zu(u);else{if(!g){if(u.stateNode===null)throw Error(i(166));return gi(u),null}if(N=H.current,bi(u))wc(u);else{var V=im(se.current);switch(N){case 1:N=V.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:N=V.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":N=V.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":N=V.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":N=V.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof g.is=="string"?V.createElement("select",{is:g.is}):V.createElement("select"),g.multiple?N.multiple=!0:g.size&&(N.size=g.size);break;default:N=typeof g.is=="string"?V.createElement(E,{is:g.is}):V.createElement(E)}}N[ne]=u,N[he]=g;e:for(V=u.child;V!==null;){if(V.tag===5||V.tag===6)N.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===u)break e;for(;V.sibling===null;){if(V.return===null||V.return===u)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}u.stateNode=N;e:switch(hs(N,E,g),E){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Zu(u)}}return gi(u),Bg(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,d),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==g&&Zu(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(i(166));if(o=se.current,bi(u)){if(o=u.stateNode,d=u.memoizedProps,g=null,E=dn,E!==null)switch(E.tag){case 27:case 5:g=E.memoizedProps}o[ne]=u,o=!!(o.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||hw(o.nodeValue,d)),o||cl(u,!0)}else o=im(o).createTextNode(g),o[ne]=u,u.stateNode=o}return gi(u),null;case 31:if(d=u.memoizedState,o===null||o.memoizedState!==null){if(g=bi(u),d!==null){if(o===null){if(!g)throw Error(i(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[ne]=u}else Rl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;gi(u),o=!1}else d=hh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return u.flags&256?(In(u),u):(In(u),null);if((u.flags&128)!==0)throw Error(i(558))}return gi(u),null;case 13:if(g=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=bi(u),g!==null&&g.dehydrated!==null){if(o===null){if(!E)throw Error(i(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));E[ne]=u}else Rl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;gi(u),E=!1}else E=hh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(In(u),u):(In(u),null)}return In(u),(u.flags&128)!==0?(u.lanes=d,u):(d=g!==null,o=o!==null&&o.memoizedState!==null,d&&(g=u.child,E=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(E=g.alternate.memoizedState.cachePool.pool),N=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(N=g.memoizedState.cachePool.pool),N!==E&&(g.flags|=2048)),d!==o&&d&&(u.child.flags|=8192),Hp(u,u.updateQueue),gi(u),null);case 4:return Re(),o===null&&ov(u.stateNode.containerInfo),gi(u),null;case 10:return po(u.type),gi(u),null;case 19:if(P(hn),g=u.memoizedState,g===null)return gi(u),null;if(E=(u.flags&128)!==0,N=g.rendering,N===null)if(E)Bd(g,!1);else{if(Vi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(N=Va(o),N!==null){for(u.flags|=128,Bd(g,!1),o=N.updateQueue,u.updateQueue=o,Hp(u,o),u.subtreeFlags=0,o=d,d=u.child;d!==null;)cu(d,o),d=d.sibling;return G(hn,hn.current&1|2),Zr&&tr(u,g.treeForkCount),u.child}o=o.sibling}g.tail!==null&&Jt()>Zp&&(u.flags|=128,E=!0,Bd(g,!1),u.lanes=4194304)}else{if(!E)if(o=Va(N),o!==null){if(u.flags|=128,E=!0,o=o.updateQueue,u.updateQueue=o,Hp(u,o),Bd(g,!0),g.tail===null&&g.tailMode==="hidden"&&!N.alternate&&!Zr)return gi(u),null}else 2*Jt()-g.renderingStartTime>Zp&&d!==536870912&&(u.flags|=128,E=!0,Bd(g,!1),u.lanes=4194304);g.isBackwards?(N.sibling=u.child,u.child=N):(o=g.last,o!==null?o.sibling=N:u.child=N,g.last=N)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Jt(),o.sibling=null,d=hn.current,G(hn,E?d&1|2:d&1),Zr&&tr(u,g.treeForkCount),o):(gi(u),null);case 22:case 23:return In(u),oa(),g=u.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(d&536870912)!==0&&(u.flags&128)===0&&(gi(u),u.subtreeFlags&6&&(u.flags|=8192)):gi(u),d=u.updateQueue,d!==null&&Hp(u,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048),o!==null&&P(le),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),po(Ri),gi(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function bT(o,u){switch(fi(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return po(Ri),Re(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return ot(u),null;case 31:if(u.memoizedState!==null){if(In(u),u.alternate===null)throw Error(i(340));Rl()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(In(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(i(340));Rl()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return P(hn),null;case 4:return Re(),null;case 10:return po(u.type),null;case 22:case 23:return In(u),oa(),o!==null&&P(le),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return po(Ri),null;case 25:return null;default:return null}}function gx(o,u){switch(fi(u),u.tag){case 3:po(Ri),Re();break;case 26:case 27:case 5:ot(u);break;case 4:Re();break;case 31:u.memoizedState!==null&&In(u);break;case 13:In(u);break;case 19:P(hn);break;case 10:po(u.type);break;case 22:case 23:In(u),oa(),o!==null&&P(le);break;case 24:po(Ri)}}function Ud(o,u){try{var d=u.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var E=g.next;d=E;do{if((d.tag&o)===o){g=void 0;var N=d.create,V=d.inst;g=N(),V.destroy=g}d=d.next}while(d!==E)}}catch(fe){Bn(u,u.return,fe)}}function Nc(o,u,d){try{var g=u.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var N=E.next;g=N;do{if((g.tag&o)===o){var V=g.inst,fe=V.destroy;if(fe!==void 0){V.destroy=void 0,E=u;var ke=d,et=fe;try{et()}catch(ct){Bn(E,ke,ct)}}}g=g.next}while(g!==N)}}catch(ct){Bn(u,u.return,ct)}}function vx(o){var u=o.updateQueue;if(u!==null){var d=o.stateNode;try{zi(u,d)}catch(g){Bn(o,o.return,g)}}}function _x(o,u,d){d.props=gh(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(g){Bn(o,u,g)}}function zd(o,u){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof d=="function"?o.refCleanup=d(g):d.current=g}}catch(E){Bn(o,u,E)}}function bu(o,u){var d=o.ref,g=o.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(E){Bn(o,u,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){Bn(o,u,E)}else d.current=null}function yx(o){var u=o.type,d=o.memoizedProps,g=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(E){Bn(o,o.return,E)}}function Ug(o,u,d){try{var g=o.stateNode;qT(g,o.type,d,u),g[he]=u}catch(E){Bn(o,o.return,E)}}function xx(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Dc(o.type)||o.tag===4}function zg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||xx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Dc(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Gg(o,u,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(o),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Ua));else if(g!==4&&(g===27&&Dc(o.type)&&(d=o.stateNode,u=null),o=o.child,o!==null))for(Gg(o,u,d),o=o.sibling;o!==null;)Gg(o,u,d),o=o.sibling}function qp(o,u,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?d.insertBefore(o,u):d.appendChild(o);else if(g!==4&&(g===27&&Dc(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(qp(o,u,d),o=o.sibling;o!==null;)qp(o,u,d),o=o.sibling}function wx(o){var u=o.stateNode,d=o.memoizedProps;try{for(var g=o.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);hs(u,g,d),u[ne]=o,u[he]=d}catch(N){Bn(o,o.return,N)}}var Yu=!1,va=!1,Hg=!1,bx=typeof WeakSet=="function"?WeakSet:Set,$a=null;function ST(o,u){if(o=o.containerInfo,cv=hm,o=As(o),Ca(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var E=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var V=0,fe=-1,ke=-1,et=0,ct=0,vt=o,rt=null;t:for(;;){for(var nt;vt!==d||E!==0&&vt.nodeType!==3||(fe=V+E),vt!==N||g!==0&&vt.nodeType!==3||(ke=V+g),vt.nodeType===3&&(V+=vt.nodeValue.length),(nt=vt.firstChild)!==null;)rt=vt,vt=nt;for(;;){if(vt===o)break t;if(rt===d&&++et===E&&(fe=V),rt===N&&++ct===g&&(ke=V),(nt=vt.nextSibling)!==null)break;vt=rt,rt=vt.parentNode}vt=nt}d=fe===-1||ke===-1?null:{start:fe,end:ke}}else d=null}d=d||{start:0,end:0}}else d=null;for(hv={focusedElem:o,selectionRange:d},hm=!1,$a=u;$a!==null;)if(u=$a,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,$a=o;else for(;$a!==null;){switch(u=$a,N=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)E=o[d],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&N!==null){o=void 0,d=u,E=N.memoizedProps,N=N.memoizedState,g=d.stateNode;try{var rr=gh(d.type,E);o=g.getSnapshotBeforeUpdate(rr,N),g.__reactInternalSnapshotBeforeUpdate=o}catch(Tr){Bn(d,d.return,Tr)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,d=o.nodeType,d===9)pv(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":pv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=u.sibling,o!==null){o.return=u.return,$a=o;break}$a=u.return}}function Sx(o,u,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Xu(o,d),g&4&&Ud(5,d);break;case 1:if(Xu(o,d),g&4)if(o=d.stateNode,u===null)try{o.componentDidMount()}catch(V){Bn(d,d.return,V)}else{var E=gh(d.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(E,u,o.__reactInternalSnapshotBeforeUpdate)}catch(V){Bn(d,d.return,V)}}g&64&&vx(d),g&512&&zd(d,d.return);break;case 3:if(Xu(o,d),g&64&&(o=d.updateQueue,o!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{zi(o,u)}catch(V){Bn(d,d.return,V)}}break;case 27:u===null&&g&4&&wx(d);case 26:case 5:Xu(o,d),u===null&&g&4&&yx(d),g&512&&zd(d,d.return);break;case 12:Xu(o,d);break;case 31:Xu(o,d),g&4&&Ax(o,d);break;case 13:Xu(o,d),g&4&&Lx(o,d),g&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=PT.bind(null,d),JT(o,d))));break;case 22:if(g=d.memoizedState!==null||Yu,!g){u=u!==null&&u.memoizedState!==null||va,E=Yu;var N=va;Yu=g,(va=u)&&!N?Ju(o,d,(d.subtreeFlags&8772)!==0):Xu(o,d),Yu=E,va=N}break;case 30:break;default:Xu(o,d)}}function Ex(o){var u=o.alternate;u!==null&&(o.alternate=null,Ex(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&ht(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ti=null,go=!1;function Ku(o,u,d){for(d=d.child;d!==null;)Tx(o,u,d),d=d.sibling}function Tx(o,u,d){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Mr,d)}catch{}switch(d.tag){case 26:va||bu(d,u),Ku(o,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:va||bu(d,u);var g=Ti,E=go;Dc(d.type)&&(Ti=d.stateNode,go=!1),Ku(o,u,d),Kd(d.stateNode),Ti=g,go=E;break;case 5:va||bu(d,u);case 6:if(g=Ti,E=go,Ti=null,Ku(o,u,d),Ti=g,go=E,Ti!==null)if(go)try{(Ti.nodeType===9?Ti.body:Ti.nodeName==="HTML"?Ti.ownerDocument.body:Ti).removeChild(d.stateNode)}catch(N){Bn(d,u,N)}else try{Ti.removeChild(d.stateNode)}catch(N){Bn(d,u,N)}break;case 18:Ti!==null&&(go?(o=Ti,vw(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),Ef(o)):vw(Ti,d.stateNode));break;case 4:g=Ti,E=go,Ti=d.stateNode.containerInfo,go=!0,Ku(o,u,d),Ti=g,go=E;break;case 0:case 11:case 14:case 15:Nc(2,d,u),va||Nc(4,d,u),Ku(o,u,d);break;case 1:va||(bu(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"&&_x(d,u,g)),Ku(o,u,d);break;case 21:Ku(o,u,d);break;case 22:va=(g=va)||d.memoizedState!==null,Ku(o,u,d),va=g;break;default:Ku(o,u,d)}}function Ax(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Ef(o)}catch(d){Bn(u,u.return,d)}}}function Lx(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ef(o)}catch(d){Bn(u,u.return,d)}}function ET(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new bx),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new bx),u;default:throw Error(i(435,o.tag))}}function Vp(o,u){var d=ET(o);u.forEach(function(g){if(!d.has(g)){d.add(g);var E=OT.bind(null,o,g);g.then(E,E)}})}function vo(o,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var E=d[g],N=o,V=u,fe=V;e:for(;fe!==null;){switch(fe.tag){case 27:if(Dc(fe.type)){Ti=fe.stateNode,go=!1;break e}break;case 5:Ti=fe.stateNode,go=!1;break e;case 3:case 4:Ti=fe.stateNode.containerInfo,go=!0;break e}fe=fe.return}if(Ti===null)throw Error(i(160));Tx(N,V,E),Ti=null,go=!1,N=E.alternate,N!==null&&(N.return=null),E.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)Nx(u,o),u=u.sibling}var Bl=null;function Nx(o,u){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:vo(u,o),_o(o),g&4&&(Nc(3,o,o.return),Ud(3,o),Nc(5,o,o.return));break;case 1:vo(u,o),_o(o),g&512&&(va||d===null||bu(d,d.return)),g&64&&Yu&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var E=Bl;if(vo(u,o),_o(o),g&512&&(va||d===null||bu(d,d.return)),g&4){var N=d!==null?d.memoizedState:null;if(g=o.memoizedState,d===null)if(g===null)if(o.stateNode===null){e:{g=o.type,d=o.memoizedProps,E=E.ownerDocument||E;t:switch(g){case"title":N=E.getElementsByTagName("title")[0],(!N||N[$e]||N[ne]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=E.createElement(g),E.head.insertBefore(N,E.querySelector("head > title"))),hs(N,g,d),N[ne]=o,Bt(N),g=N;break e;case"link":var V=Nw("link","href",E).get(g+(d.href||""));if(V){for(var fe=0;fe<V.length;fe++)if(N=V[fe],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){V.splice(fe,1);break t}}N=E.createElement(g),hs(N,g,d),E.head.appendChild(N);break;case"meta":if(V=Nw("meta","content",E).get(g+(d.content||""))){for(fe=0;fe<V.length;fe++)if(N=V[fe],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){V.splice(fe,1);break t}}N=E.createElement(g),hs(N,g,d),E.head.appendChild(N);break;default:throw Error(i(468,g))}N[ne]=o,Bt(N),g=N}o.stateNode=g}else Cw(E,o.type,o.stateNode);else o.stateNode=Lw(E,g,o.memoizedProps);else N!==g?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,g===null?Cw(E,o.type,o.stateNode):Lw(E,g,o.memoizedProps)):g===null&&o.stateNode!==null&&Ug(o,o.memoizedProps,d.memoizedProps)}break;case 27:vo(u,o),_o(o),g&512&&(va||d===null||bu(d,d.return)),d!==null&&g&4&&Ug(o,o.memoizedProps,d.memoizedProps);break;case 5:if(vo(u,o),_o(o),g&512&&(va||d===null||bu(d,d.return)),o.flags&32){E=o.stateNode;try{Aa(E,"")}catch(rr){Bn(o,o.return,rr)}}g&4&&o.stateNode!=null&&(E=o.memoizedProps,Ug(o,E,d!==null?d.memoizedProps:E)),g&1024&&(Hg=!0);break;case 6:if(vo(u,o),_o(o),g&4){if(o.stateNode===null)throw Error(i(162));g=o.memoizedProps,d=o.stateNode;try{d.nodeValue=g}catch(rr){Bn(o,o.return,rr)}}break;case 3:if(om=null,E=Bl,Bl=am(u.containerInfo),vo(u,o),Bl=E,_o(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Ef(u.containerInfo)}catch(rr){Bn(o,o.return,rr)}Hg&&(Hg=!1,Cx(o));break;case 4:g=Bl,Bl=am(o.stateNode.containerInfo),vo(u,o),_o(o),Bl=g;break;case 12:vo(u,o),_o(o);break;case 31:vo(u,o),_o(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Vp(o,g)));break;case 13:vo(u,o),_o(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Wp=Jt()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Vp(o,g)));break;case 22:E=o.memoizedState!==null;var ke=d!==null&&d.memoizedState!==null,et=Yu,ct=va;if(Yu=et||E,va=ct||ke,vo(u,o),va=ct,Yu=et,_o(o),g&8192)e:for(u=o.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(d===null||ke||Yu||va||vh(o)),d=null,u=o;;){if(u.tag===5||u.tag===26){if(d===null){ke=d=u;try{if(N=ke.stateNode,E)V=N.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{fe=ke.stateNode;var vt=ke.memoizedProps.style,rt=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;fe.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(rr){Bn(ke,ke.return,rr)}}}else if(u.tag===6){if(d===null){ke=u;try{ke.stateNode.nodeValue=E?"":ke.memoizedProps}catch(rr){Bn(ke,ke.return,rr)}}}else if(u.tag===18){if(d===null){ke=u;try{var nt=ke.stateNode;E?_w(nt,!0):_w(ke.stateNode,!1)}catch(rr){Bn(ke,ke.return,rr)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=o.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Vp(o,d))));break;case 19:vo(u,o),_o(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Vp(o,g)));break;case 30:break;case 21:break;default:vo(u,o),_o(o)}}function _o(o){var u=o.flags;if(u&2){try{for(var d,g=o.return;g!==null;){if(xx(g)){d=g;break}g=g.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var E=d.stateNode,N=zg(o);qp(o,N,E);break;case 5:var V=d.stateNode;d.flags&32&&(Aa(V,""),d.flags&=-33);var fe=zg(o);qp(o,fe,V);break;case 3:case 4:var ke=d.stateNode.containerInfo,et=zg(o);Gg(o,et,ke);break;default:throw Error(i(161))}}catch(ct){Bn(o,o.return,ct)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function Cx(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;Cx(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Xu(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Sx(o,u.alternate,u),u=u.sibling}function vh(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Nc(4,u,u.return),vh(u);break;case 1:bu(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&_x(u,u.return,d),vh(u);break;case 27:Kd(u.stateNode);case 26:case 5:bu(u,u.return),vh(u);break;case 22:u.memoizedState===null&&vh(u);break;case 30:vh(u);break;default:vh(u)}o=o.sibling}}function Ju(o,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,E=o,N=u,V=N.flags;switch(N.tag){case 0:case 11:case 15:Ju(E,N,d),Ud(4,N);break;case 1:if(Ju(E,N,d),g=N,E=g.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(et){Bn(g,g.return,et)}if(g=N,E=g.updateQueue,E!==null){var fe=g.stateNode;try{var ke=E.shared.hiddenCallbacks;if(ke!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ke.length;E++)qa(ke[E],fe)}catch(et){Bn(g,g.return,et)}}d&&V&64&&vx(N),zd(N,N.return);break;case 27:wx(N);case 26:case 5:Ju(E,N,d),d&&g===null&&V&4&&yx(N),zd(N,N.return);break;case 12:Ju(E,N,d);break;case 31:Ju(E,N,d),d&&V&4&&Ax(E,N);break;case 13:Ju(E,N,d),d&&V&4&&Lx(E,N);break;case 22:N.memoizedState===null&&Ju(E,N,d),zd(N,N.return);break;case 30:break;default:Ju(E,N,d)}u=u.sibling}}function qg(o,u){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&fh(d))}function Vg(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&fh(o))}function Ul(o,u,d,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Mx(o,u,d,g),u=u.sibling}function Mx(o,u,d,g){var E=u.flags;switch(u.tag){case 0:case 11:case 15:Ul(o,u,d,g),E&2048&&Ud(9,u);break;case 1:Ul(o,u,d,g);break;case 3:Ul(o,u,d,g),E&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&fh(o)));break;case 12:if(E&2048){Ul(o,u,d,g),o=u.stateNode;try{var N=u.memoizedProps,V=N.id,fe=N.onPostCommit;typeof fe=="function"&&fe(V,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ke){Bn(u,u.return,ke)}}else Ul(o,u,d,g);break;case 31:Ul(o,u,d,g);break;case 13:Ul(o,u,d,g);break;case 23:break;case 22:N=u.stateNode,V=u.alternate,u.memoizedState!==null?N._visibility&2?Ul(o,u,d,g):Gd(o,u):N._visibility&2?Ul(o,u,d,g):(N._visibility|=2,df(o,u,d,g,(u.subtreeFlags&10256)!==0||!1)),E&2048&&qg(V,u);break;case 24:Ul(o,u,d,g),E&2048&&Vg(u.alternate,u);break;default:Ul(o,u,d,g)}}function df(o,u,d,g,E){for(E=E&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var N=o,V=u,fe=d,ke=g,et=V.flags;switch(V.tag){case 0:case 11:case 15:df(N,V,fe,ke,E),Ud(8,V);break;case 23:break;case 22:var ct=V.stateNode;V.memoizedState!==null?ct._visibility&2?df(N,V,fe,ke,E):Gd(N,V):(ct._visibility|=2,df(N,V,fe,ke,E)),E&&et&2048&&qg(V.alternate,V);break;case 24:df(N,V,fe,ke,E),E&&et&2048&&Vg(V.alternate,V);break;default:df(N,V,fe,ke,E)}u=u.sibling}}function Gd(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=o,g=u,E=g.flags;switch(g.tag){case 22:Gd(d,g),E&2048&&qg(g.alternate,g);break;case 24:Gd(d,g),E&2048&&Vg(g.alternate,g);break;default:Gd(d,g)}u=u.sibling}}var Hd=8192;function pf(o,u,d){if(o.subtreeFlags&Hd)for(o=o.child;o!==null;)kx(o,u,d),o=o.sibling}function kx(o,u,d){switch(o.tag){case 26:pf(o,u,d),o.flags&Hd&&o.memoizedState!==null&&cA(d,Bl,o.memoizedState,o.memoizedProps);break;case 5:pf(o,u,d);break;case 3:case 4:var g=Bl;Bl=am(o.stateNode.containerInfo),pf(o,u,d),Bl=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=Hd,Hd=16777216,pf(o,u,d),Hd=g):pf(o,u,d));break;default:pf(o,u,d)}}function Px(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function qd(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];$a=g,Rx(g,o)}Px(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ox(o),o=o.sibling}function Ox(o){switch(o.tag){case 0:case 11:case 15:qd(o),o.flags&2048&&Nc(9,o,o.return);break;case 3:qd(o);break;case 12:qd(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,$p(o)):qd(o);break;default:qd(o)}}function $p(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];$a=g,Rx(g,o)}Px(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Nc(8,u,u.return),$p(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,$p(u));break;default:$p(u)}o=o.sibling}}function Rx(o,u){for(;$a!==null;){var d=$a;switch(d.tag){case 0:case 11:case 15:Nc(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:fh(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,$a=g;else e:for(d=o;$a!==null;){g=$a;var E=g.sibling,N=g.return;if(Ex(g),g===d){$a=null;break e}if(E!==null){E.return=N,$a=E;break e}$a=N}}}var TT={getCacheForType:function(o){var u=Ra(Ri),d=u.data.get(o);return d===void 0&&(d=o(),u.data.set(o,d)),d},cacheSignal:function(){return Ra(Ri).controller.signal}},AT=typeof WeakMap=="function"?WeakMap:Map,Nn=0,ei=null,tn=null,an=0,Fn=0,Ho=null,Cc=!1,mf=!1,$g=!1,Qu=0,Vi=0,Mc=0,_h=0,Wg=0,qo=0,gf=0,Vd=null,yo=null,Zg=!1,Wp=0,Dx=0,Zp=1/0,Yp=null,kc=null,ja=0,Pc=null,vf=null,ec=0,Yg=0,Kg=null,jx=null,$d=0,Xg=null;function Vo(){return(Nn&2)!==0&&an!==0?an&-an:oe.T!==null?nv():Y()}function Ix(){if(qo===0)if((an&536870912)===0||Zr){var o=en;en<<=1,(en&3932160)===0&&(en=262144),qo=o}else qo=536870912;return o=mi.current,o!==null&&(o.flags|=32),qo}function xo(o,u,d){(o===ei&&(Fn===2||Fn===9)||o.cancelPendingCommit!==null)&&(_f(o,0),Oc(o,an,qo,!1)),Qt(o,d),((Nn&2)===0||o!==ei)&&(o===ei&&((Nn&2)===0&&(_h|=d),Vi===4&&Oc(o,an,qo,!1)),Su(o))}function Fx(o,u,d){if((Nn&6)!==0)throw Error(i(327));var g=!d&&(u&127)===0&&(u&o.expiredLanes)===0||Sa(o,u),E=g?CT(o,u):Qg(o,u,!0),N=g;do{if(E===0){mf&&!g&&Oc(o,u,0,!1);break}else{if(d=o.current.alternate,N&&!LT(d)){E=Qg(o,u,!1),N=!1;continue}if(E===2){if(N=u,o.errorRecoveryDisabledLanes&N)var V=0;else V=o.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){u=V;e:{var fe=o;E=Vd;var ke=fe.current.memoizedState.isDehydrated;if(ke&&(_f(fe,V).flags|=256),V=Qg(fe,V,!1),V!==2){if($g&&!ke){fe.errorRecoveryDisabledLanes|=N,_h|=N,E=4;break e}N=yo,yo=E,N!==null&&(yo===null?yo=N:yo.push.apply(yo,N))}E=V}if(N=!1,E!==2)continue}}if(E===1){_f(o,0),Oc(o,u,0,!0);break}e:{switch(g=o,N=E,N){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:Oc(g,u,qo,!Cc);break e;case 2:yo=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(E=Wp+300-Jt(),10<E)){if(Oc(g,u,qo,!Cc),Gr(g,0,!0)!==0)break e;ec=u,g.timeoutHandle=mw(Bx.bind(null,g,d,yo,Yp,Zg,u,qo,_h,gf,Cc,N,"Throttled",-0,0),E);break e}Bx(g,d,yo,Yp,Zg,u,qo,_h,gf,Cc,N,null,-0,0)}}break}while(!0);Su(o)}function Bx(o,u,d,g,E,N,V,fe,ke,et,ct,vt,rt,nt){if(o.timeoutHandle=-1,vt=u.subtreeFlags,vt&8192||(vt&16785408)===16785408){vt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ua},kx(u,N,vt);var rr=(N&62914560)===N?Wp-Jt():(N&4194048)===N?Dx-Jt():0;if(rr=hA(vt,rr),rr!==null){ec=N,o.cancelPendingCommit=rr(Wx.bind(null,o,u,N,d,g,E,V,fe,ke,ct,vt,null,rt,nt)),Oc(o,N,V,!et);return}}Wx(o,u,N,d,g,E,V,fe,ke)}function LT(o){for(var u=o;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var E=d[g],N=E.getSnapshot;E=E.value;try{if(!xi(N(),E))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Oc(o,u,d,g){u&=~Wg,u&=~_h,o.suspendedLanes|=u,o.pingedLanes&=~u,g&&(o.warmLanes|=u),g=o.expirationTimes;for(var E=u;0<E;){var N=31-Dr(E),V=1<<N;g[N]=-1,E&=~V}d!==0&&Ba(o,d,u)}function Kp(){return(Nn&6)===0?(Wd(0),!1):!0}function Jg(){if(tn!==null){if(Fn===0)var o=tn.return;else o=tn,fo=Go=null,sf(o),_t=null,nr=0,o=tn;for(;o!==null;)gx(o.alternate,o),o=o.return;tn=null}}function _f(o,u){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,WT(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),ec=0,Jg(),ei=o,tn=d=os(o.current,null),an=u,Fn=0,Ho=null,Cc=!1,mf=Sa(o,u),$g=!1,gf=qo=Wg=_h=Mc=Vi=0,yo=Vd=null,Zg=!1,(u&8)!==0&&(u|=u&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=u;0<g;){var E=31-Dr(g),N=1<<E;u|=o[E],g&=~N}return Qu=u,uu(),d}function Ux(o,u){mr=null,oe.H=Id,u===je||u===Ee?(u=ft(),Fn=3):u===Je?(u=ft(),Fn=4):Fn=u===Mg?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ho=u,tn===null&&(Vi=1,Bp(o,m(u,o.current)))}function zx(){var o=mi.current;return o===null?!0:(an&4194048)===an?gn===null:(an&62914560)===an||(an&536870912)!==0?o===gn:!1}function Gx(){var o=oe.H;return oe.H=Id,o===null?Id:o}function Hx(){var o=oe.A;return oe.A=TT,o}function Xp(){Vi=4,Cc||(an&4194048)!==an&&mi.current!==null||(mf=!0),(Mc&134217727)===0&&(_h&134217727)===0||ei===null||Oc(ei,an,qo,!1)}function Qg(o,u,d){var g=Nn;Nn|=2;var E=Gx(),N=Hx();(ei!==o||an!==u)&&(Yp=null,_f(o,u)),u=!1;var V=Vi;e:do try{if(Fn!==0&&tn!==null){var fe=tn,ke=Ho;switch(Fn){case 8:Jg(),V=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(u=!0);var et=Fn;if(Fn=0,Ho=null,yf(o,fe,ke,et),d&&mf){V=0;break e}break;default:et=Fn,Fn=0,Ho=null,yf(o,fe,ke,et)}}NT(),V=Vi;break}catch(ct){Ux(o,ct)}while(!0);return u&&o.shellSuspendCounter++,fo=Go=null,Nn=g,oe.H=E,oe.A=N,tn===null&&(ei=null,an=0,uu()),V}function NT(){for(;tn!==null;)qx(tn)}function CT(o,u){var d=Nn;Nn|=2;var g=Gx(),E=Hx();ei!==o||an!==u?(Yp=null,Zp=Jt()+500,_f(o,u)):mf=Sa(o,u);e:do try{if(Fn!==0&&tn!==null){u=tn;var N=Ho;t:switch(Fn){case 1:Fn=0,Ho=null,yf(o,u,N,1);break;case 2:case 9:if(Ke(N)){Fn=0,Ho=null,Vx(u);break}u=function(){Fn!==2&&Fn!==9||ei!==o||(Fn=7),Su(o)},N.then(u,u);break e;case 3:Fn=7;break e;case 4:Fn=5;break e;case 7:Ke(N)?(Fn=0,Ho=null,Vx(u)):(Fn=0,Ho=null,yf(o,u,N,7));break;case 5:var V=null;switch(tn.tag){case 26:V=tn.memoizedState;case 5:case 27:var fe=tn;if(V?Mw(V):fe.stateNode.complete){Fn=0,Ho=null;var ke=fe.sibling;if(ke!==null)tn=ke;else{var et=fe.return;et!==null?(tn=et,Jp(et)):tn=null}break t}}Fn=0,Ho=null,yf(o,u,N,5);break;case 6:Fn=0,Ho=null,yf(o,u,N,6);break;case 8:Jg(),Vi=6;break e;default:throw Error(i(462))}}MT();break}catch(ct){Ux(o,ct)}while(!0);return fo=Go=null,oe.H=g,oe.A=E,Nn=d,tn!==null?0:(ei=null,an=0,uu(),Vi)}function MT(){for(;tn!==null&&!sr();)qx(tn)}function qx(o){var u=px(o.alternate,o,Qu);o.memoizedProps=o.pendingProps,u===null?Jp(o):tn=u}function Vx(o){var u=o,d=u.alternate;switch(u.tag){case 15:case 0:u=lx(d,u,u.pendingProps,u.type,void 0,an);break;case 11:u=lx(d,u,u.pendingProps,u.type.render,u.ref,an);break;case 5:sf(u);default:gx(d,u),u=tn=cu(u,Qu),u=px(d,u,Qu)}o.memoizedProps=o.pendingProps,u===null?Jp(o):tn=u}function yf(o,u,d,g){fo=Go=null,sf(u),_t=null,nr=0;var E=u.return;try{if(_T(o,E,u,d,an)){Vi=1,Bp(o,m(d,o.current)),tn=null;return}}catch(N){if(E!==null)throw tn=E,N;Vi=1,Bp(o,m(d,o.current)),tn=null;return}u.flags&32768?(Zr||g===1?o=!0:mf||(an&536870912)!==0?o=!1:(Cc=o=!0,(g===2||g===9||g===3||g===6)&&(g=mi.current,g!==null&&g.tag===13&&(g.flags|=16384))),$x(u,o)):Jp(u)}function Jp(o){var u=o;do{if((u.flags&32768)!==0){$x(u,Cc);return}o=u.return;var d=wT(u.alternate,u,Qu);if(d!==null){tn=d;return}if(u=u.sibling,u!==null){tn=u;return}tn=u=o}while(u!==null);Vi===0&&(Vi=5)}function $x(o,u){do{var d=bT(o.alternate,o);if(d!==null){d.flags&=32767,tn=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(o=o.sibling,o!==null)){tn=o;return}tn=o=d}while(o!==null);Vi=6,tn=null}function Wx(o,u,d,g,E,N,V,fe,ke){o.cancelPendingCommit=null;do Qp();while(ja!==0);if((Nn&6)!==0)throw Error(i(327));if(u!==null){if(u===o.current)throw Error(i(177));if(N=u.lanes|u.childLanes,N|=Uu,Xa(o,d,N,V,fe,ke),o===ei&&(tn=ei=null,an=0),vf=u,Pc=o,ec=d,Yg=N,Kg=E,jx=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,RT(or,function(){return Jx(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=oe.T,oe.T=null,E=be.p,be.p=2,V=Nn,Nn|=4;try{ST(o,u,d)}finally{Nn=V,be.p=E,oe.T=g}}ja=1,Zx(),Yx(),Kx()}}function Zx(){if(ja===1){ja=0;var o=Pc,u=vf,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=oe.T,oe.T=null;var g=be.p;be.p=2;var E=Nn;Nn|=4;try{Nx(u,o);var N=hv,V=As(o.containerInfo),fe=N.focusedElem,ke=N.selectionRange;if(V!==fe&&fe&&fe.ownerDocument&&Ys(fe.ownerDocument.documentElement,fe)){if(ke!==null&&Ca(fe)){var et=ke.start,ct=ke.end;if(ct===void 0&&(ct=et),"selectionStart"in fe)fe.selectionStart=et,fe.selectionEnd=Math.min(ct,fe.value.length);else{var vt=fe.ownerDocument||document,rt=vt&&vt.defaultView||window;if(rt.getSelection){var nt=rt.getSelection(),rr=fe.textContent.length,Tr=Math.min(ke.start,rr),Zn=ke.end===void 0?Tr:Math.min(ke.end,rr);!nt.extend&&Tr>Zn&&(V=Zn,Zn=Tr,Tr=V);var Ze=Bo(fe,Tr),Fe=Bo(fe,Zn);if(Ze&&Fe&&(nt.rangeCount!==1||nt.anchorNode!==Ze.node||nt.anchorOffset!==Ze.offset||nt.focusNode!==Fe.node||nt.focusOffset!==Fe.offset)){var Qe=vt.createRange();Qe.setStart(Ze.node,Ze.offset),nt.removeAllRanges(),Tr>Zn?(nt.addRange(Qe),nt.extend(Fe.node,Fe.offset)):(Qe.setEnd(Fe.node,Fe.offset),nt.addRange(Qe))}}}}for(vt=[],nt=fe;nt=nt.parentNode;)nt.nodeType===1&&vt.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<vt.length;fe++){var mt=vt[fe];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}hm=!!cv,hv=cv=null}finally{Nn=E,be.p=g,oe.T=d}}o.current=u,ja=2}}function Yx(){if(ja===2){ja=0;var o=Pc,u=vf,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=oe.T,oe.T=null;var g=be.p;be.p=2;var E=Nn;Nn|=4;try{Sx(o,u.alternate,u)}finally{Nn=E,be.p=g,oe.T=d}}ja=3}}function Kx(){if(ja===4||ja===3){ja=0,Xt();var o=Pc,u=vf,d=ec,g=jx;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?ja=5:(ja=0,vf=Pc=null,Xx(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(kc=null),Ye(d),u=u.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Mr,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=oe.T,E=be.p,be.p=2,oe.T=null;try{for(var N=o.onRecoverableError,V=0;V<g.length;V++){var fe=g[V];N(fe.value,{componentStack:fe.stack})}}finally{oe.T=u,be.p=E}}(ec&3)!==0&&Qp(),Su(o),E=o.pendingLanes,(d&261930)!==0&&(E&42)!==0?o===Xg?$d++:($d=0,Xg=o):$d=0,Wd(0)}}function Xx(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,fh(u)))}function Qp(){return Zx(),Yx(),Kx(),Jx()}function Jx(){if(ja!==5)return!1;var o=Pc,u=Yg;Yg=0;var d=Ye(ec),g=oe.T,E=be.p;try{be.p=32>d?32:d,oe.T=null,d=Kg,Kg=null;var N=Pc,V=ec;if(ja=0,vf=Pc=null,ec=0,(Nn&6)!==0)throw Error(i(331));var fe=Nn;if(Nn|=4,Ox(N.current),Mx(N,N.current,V,d),Nn=fe,Wd(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Mr,N)}catch{}return!0}finally{be.p=E,oe.T=g,Xx(o,u)}}function Qx(o,u,d){u=m(d,u),u=Cg(o.stateNode,u,2),o=zr(o,u,2),o!==null&&(Qt(o,2),Su(o))}function Bn(o,u,d){if(o.tag===3)Qx(o,o,d);else for(;u!==null;){if(u.tag===3){Qx(u,o,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(kc===null||!kc.has(g))){o=m(d,o),d=ex(2),g=zr(u,d,2),g!==null&&(tx(d,g,u,o),Qt(g,2),Su(g));break}}u=u.return}}function ev(o,u,d){var g=o.pingCache;if(g===null){g=o.pingCache=new AT;var E=new Set;g.set(u,E)}else E=g.get(u),E===void 0&&(E=new Set,g.set(u,E));E.has(d)||($g=!0,E.add(d),o=kT.bind(null,o,u,d),u.then(o,o))}function kT(o,u,d){var g=o.pingCache;g!==null&&g.delete(u),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,ei===o&&(an&d)===d&&(Vi===4||Vi===3&&(an&62914560)===an&&300>Jt()-Wp?(Nn&2)===0&&_f(o,0):Wg|=d,gf===an&&(gf=0)),Su(o)}function ew(o,u){u===0&&(u=Ji()),o=Ns(o,u),o!==null&&(Qt(o,u),Su(o))}function PT(o){var u=o.memoizedState,d=0;u!==null&&(d=u.retryLane),ew(o,d)}function OT(o,u){var d=0;switch(o.tag){case 31:case 13:var g=o.stateNode,E=o.memoizedState;E!==null&&(d=E.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(u),ew(o,d)}function RT(o,u){return Vt(o,u)}var em=null,xf=null,tv=!1,tm=!1,rv=!1,Rc=0;function Su(o){o!==xf&&o.next===null&&(xf===null?em=xf=o:xf=xf.next=o),tm=!0,tv||(tv=!0,jT())}function Wd(o,u){if(!rv&&tm){rv=!0;do for(var d=!1,g=em;g!==null;){if(o!==0){var E=g.pendingLanes;if(E===0)var N=0;else{var V=g.suspendedLanes,fe=g.pingedLanes;N=(1<<31-Dr(42|o)+1)-1,N&=E&~(V&~fe),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,iw(g,N))}else N=an,N=Gr(g,g===ei?N:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(N&3)===0||Sa(g,N)||(d=!0,iw(g,N));g=g.next}while(d);rv=!1}}function DT(){tw()}function tw(){tm=tv=!1;var o=0;Rc!==0&&$T()&&(o=Rc);for(var u=Jt(),d=null,g=em;g!==null;){var E=g.next,N=rw(g,u);N===0?(g.next=null,d===null?em=E:d.next=E,E===null&&(xf=d)):(d=g,(o!==0||(N&3)!==0)&&(tm=!0)),g=E}ja!==0&&ja!==5||Wd(o),Rc!==0&&(Rc=0)}function rw(o,u){for(var d=o.suspendedLanes,g=o.pingedLanes,E=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var V=31-Dr(N),fe=1<<V,ke=E[V];ke===-1?((fe&d)===0||(fe&g)!==0)&&(E[V]=li(fe,u)):ke<=u&&(o.expiredLanes|=fe),N&=~fe}if(u=ei,d=an,d=Gr(o,o===u?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,d===0||o===u&&(Fn===2||Fn===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&jt(g),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Sa(o,d)){if(u=d&-d,u===o.callbackPriority)return u;switch(g!==null&&jt(g),Ye(d)){case 2:case 8:d=Nr;break;case 32:d=or;break;case 268435456:d=_r;break;default:d=or}return g=nw.bind(null,o),d=Vt(d,g),o.callbackPriority=u,o.callbackNode=d,u}return g!==null&&g!==null&&jt(g),o.callbackPriority=2,o.callbackNode=null,2}function nw(o,u){if(ja!==0&&ja!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(Qp()&&o.callbackNode!==d)return null;var g=an;return g=Gr(o,o===ei?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(Fx(o,g,u),rw(o,Jt()),o.callbackNode!=null&&o.callbackNode===d?nw.bind(null,o):null)}function iw(o,u){if(Qp())return null;Fx(o,u,!0)}function jT(){ZT(function(){(Nn&6)!==0?Vt(dr,DT):tw()})}function nv(){if(Rc===0){var o=w;o===0&&(o=cr,cr<<=1,(cr&261888)===0&&(cr=256)),Rc=o}return Rc}function aw(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:fa(""+o)}function sw(o,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,o.id&&d.setAttribute("form",o.id),u.parentNode.insertBefore(d,u),o=new FormData(o),d.parentNode.removeChild(d),o}function IT(o,u,d,g,E){if(u==="submit"&&d&&d.stateNode===E){var N=aw((E[he]||null).action),V=g.submitter;V&&(u=(u=V[he]||null)?aw(u.formAction):V.getAttribute("formAction"),u!==null&&(N=u,V=null));var fe=new bs("action","action",null,g,E);o.push({event:fe,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Rc!==0){var ke=V?sw(E,V):new FormData(E);Sg(d,{pending:!0,data:ke,method:E.method,action:N},null,ke)}}else typeof N=="function"&&(fe.preventDefault(),ke=V?sw(E,V):new FormData(E),Sg(d,{pending:!0,data:ke,method:E.method,action:N},N,ke))},currentTarget:E}]})}}for(var iv=0;iv<Ls.length;iv++){var av=Ls[iv],FT=av.toLowerCase(),BT=av[0].toUpperCase()+av.slice(1);as(FT,"on"+BT)}as(ho,"onAnimationEnd"),as(Bu,"onAnimationIteration"),as(ou,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(Jh,"onTransitionRun"),as(uh,"onTransitionStart"),as(Qh,"onTransitionCancel"),as(Pl,"onTransitionEnd"),Kn("onMouseEnter",["mouseout","mouseover"]),Kn("onMouseLeave",["mouseout","mouseover"]),Kn("onPointerEnter",["pointerout","pointerover"]),Kn("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zd));function ow(o,u){u=(u&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],E=g.event;g=g.listeners;e:{var N=void 0;if(u)for(var V=g.length-1;0<=V;V--){var fe=g[V],ke=fe.instance,et=fe.currentTarget;if(fe=fe.listener,ke!==N&&E.isPropagationStopped())break e;N=fe,E.currentTarget=et;try{N(E)}catch(ct){lu(ct)}E.currentTarget=null,N=ke}else for(V=0;V<g.length;V++){if(fe=g[V],ke=fe.instance,et=fe.currentTarget,fe=fe.listener,ke!==N&&E.isPropagationStopped())break e;N=fe,E.currentTarget=et;try{N(E)}catch(ct){lu(ct)}E.currentTarget=null,N=ke}}}}function rn(o,u){var d=u[Pe];d===void 0&&(d=u[Pe]=new Set);var g=o+"__bubble";d.has(g)||(lw(u,o,2,!1),d.add(g))}function sv(o,u,d){var g=0;u&&(g|=4),lw(d,o,g,u)}var rm="_reactListening"+Math.random().toString(36).slice(2);function ov(o){if(!o[rm]){o[rm]=!0,Hr.forEach(function(d){d!=="selectionchange"&&(UT.has(d)||sv(d,!1,o),sv(d,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[rm]||(u[rm]=!0,sv("selectionchange",!1,u))}}function lw(o,u,d,g){switch(Iw(u)){case 2:var E=pA;break;case 8:E=mA;break;default:E=bv}d=E.bind(null,u,d,o),E=void 0,!Ll||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),g?E!==void 0?o.addEventListener(u,d,{capture:!0,passive:E}):o.addEventListener(u,d,!0):E!==void 0?o.addEventListener(u,d,{passive:E}):o.addEventListener(u,d,!1)}function lv(o,u,d,g,E){var N=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var V=g.tag;if(V===3||V===4){var fe=g.stateNode.containerInfo;if(fe===E)break;if(V===4)for(V=g.return;V!==null;){var ke=V.tag;if((ke===3||ke===4)&&V.stateNode.containerInfo===E)return;V=V.return}for(;fe!==null;){if(V=bt(fe),V===null)return;if(ke=V.tag,ke===5||ke===6||ke===26||ke===27){g=N=V;continue e}fe=fe.parentNode}}g=g.return}ju(function(){var et=N,ct=ko(d),vt=[];e:{var rt=ch.get(o);if(rt!==void 0){var nt=bs,rr=o;switch(o){case"keypress":if(es(d)===0)break e;case"keydown":case"keyup":nt=Xr;break;case"focusin":rr="focus",nt=Oo;break;case"focusout":rr="blur",nt=Oo;break;case"beforeblur":case"afterblur":nt=Oo;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Po;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Oi;break;case ho:case Bu:case ou:nt=k;break;case Pl:nt=Ii;break;case"scroll":case"scrollend":nt=Br;break;case"wheel":nt=ta;break;case"copy":case"cut":case"paste":nt=Se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=ui;break;case"toggle":case"beforetoggle":nt=Do}var Tr=(u&4)!==0,Zn=!Tr&&(o==="scroll"||o==="scrollend"),Ze=Tr?rt!==null?rt+"Capture":null:rt;Tr=[];for(var Fe=et,Qe;Fe!==null;){var mt=Fe;if(Qe=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||Qe===null||Ze===null||(mt=La(Fe,Ze),mt!=null&&Tr.push(Yd(Fe,mt,Qe))),Zn)break;Fe=Fe.return}0<Tr.length&&(rt=new nt(rt,rr,null,d,ct),vt.push({event:rt,listeners:Tr}))}}if((u&7)===0){e:{if(rt=o==="mouseover"||o==="pointerover",nt=o==="mouseout"||o==="pointerout",rt&&d!==to&&(rr=d.relatedTarget||d.fromElement)&&(bt(rr)||rr[ge]))break e;if((nt||rt)&&(rt=ct.window===ct?ct:(rt=ct.ownerDocument)?rt.defaultView||rt.parentWindow:window,nt?(rr=d.relatedTarget||d.toElement,nt=et,rr=rr?bt(rr):null,rr!==null&&(Zn=a(rr),Tr=rr.tag,rr!==Zn||Tr!==5&&Tr!==27&&Tr!==6)&&(rr=null)):(nt=null,rr=et),nt!==rr)){if(Tr=Iu,mt="onMouseLeave",Ze="onMouseEnter",Fe="mouse",(o==="pointerout"||o==="pointerover")&&(Tr=ui,mt="onPointerLeave",Ze="onPointerEnter",Fe="pointer"),Zn=nt==null?rt:gt(nt),Qe=rr==null?rt:gt(rr),rt=new Tr(mt,Fe+"leave",nt,d,ct),rt.target=Zn,rt.relatedTarget=Qe,mt=null,bt(ct)===et&&(Tr=new Tr(Ze,Fe+"enter",rr,d,ct),Tr.target=Qe,Tr.relatedTarget=Zn,mt=Tr),Zn=mt,nt&&rr)t:{for(Tr=zT,Ze=nt,Fe=rr,Qe=0,mt=Ze;mt;mt=Tr(mt))Qe++;mt=0;for(var vr=Fe;vr;vr=Tr(vr))mt++;for(;0<Qe-mt;)Ze=Tr(Ze),Qe--;for(;0<mt-Qe;)Fe=Tr(Fe),mt--;for(;Qe--;){if(Ze===Fe||Fe!==null&&Ze===Fe.alternate){Tr=Ze;break t}Ze=Tr(Ze),Fe=Tr(Fe)}Tr=null}else Tr=null;nt!==null&&uw(vt,rt,nt,Tr,!1),rr!==null&&Zn!==null&&uw(vt,Zn,rr,Tr,!0)}}e:{if(rt=et?gt(et):window,nt=rt.nodeName&&rt.nodeName.toLowerCase(),nt==="select"||nt==="input"&&rt.type==="file")var Sn=Ws;else if(rs(rt))if(Ga)Sn=so;else{Sn=hi;var lr=Ha}else nt=rt.nodeName,!nt||nt.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?et&&Al(et.elementType)&&(Sn=Ws):Sn=Fo;if(Sn&&(Sn=Sn(o,et))){ns(vt,Sn,d,ct);break e}lr&&lr(o,rt,et),o==="focusout"&&et&&rt.type==="number"&&et.memoizedProps.value!=null&&zs(rt,"number",rt.value)}switch(lr=et?gt(et):window,o){case"focusin":(rs(lr)||lr.contentEditable==="true")&&(Ma=lr,uo=et,pa=null);break;case"focusout":pa=uo=Ma=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,cn(vt,d,ct);break;case"selectionchange":if(lo)break;case"keydown":case"keyup":cn(vt,d,ct)}var Vr;if(Vs)e:{switch(o){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else io?ol(o,d)&&(sn="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(sn="onCompositionStart");sn&&($s&&d.locale!=="ko"&&(io||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&io&&(Vr=ro()):(Na=ct,Hs="value"in Na?Na.value:Na.textContent,io=!0)),lr=nm(et,sn),0<lr.length&&(sn=new Ve(sn,o,null,d,ct),vt.push({event:sn,listeners:lr}),Vr?sn.data=Vr:(Vr=kl(d),Vr!==null&&(sn.data=Vr)))),(Vr=Ml?jn(o,d):za(o,d))&&(sn=nm(et,"onBeforeInput"),0<sn.length&&(lr=new Ve("onBeforeInput","beforeinput",null,d,ct),vt.push({event:lr,listeners:sn}),lr.data=Vr)),IT(vt,o,et,d,ct)}ow(vt,u)})}function Yd(o,u,d){return{instance:o,listener:u,currentTarget:d}}function nm(o,u){for(var d=u+"Capture",g=[];o!==null;){var E=o,N=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||N===null||(E=La(o,d),E!=null&&g.unshift(Yd(o,E,N)),E=La(o,u),E!=null&&g.push(Yd(o,E,N))),o.tag===3)return g;o=o.return}return[]}function zT(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function uw(o,u,d,g,E){for(var N=u._reactName,V=[];d!==null&&d!==g;){var fe=d,ke=fe.alternate,et=fe.stateNode;if(fe=fe.tag,ke!==null&&ke===g)break;fe!==5&&fe!==26&&fe!==27||et===null||(ke=et,E?(et=La(d,N),et!=null&&V.unshift(Yd(d,et,ke))):E||(et=La(d,N),et!=null&&V.push(Yd(d,et,ke)))),d=d.return}V.length!==0&&o.push({event:u,listeners:V})}var GT=/\r\n?/g,HT=/\u0000|\uFFFD/g;function cw(o){return(typeof o=="string"?o:""+o).replace(GT,`
`).replace(HT,"")}function hw(o,u){return u=cw(u),cw(o)===u}function Wn(o,u,d,g,E,N){switch(d){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Aa(o,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Aa(o,""+g);break;case"className":qr(o,"class",g);break;case"tabIndex":qr(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(o,d,g);break;case"style":ru(o,g,N);break;case"data":if(u!=="object"){qr(o,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||d!=="href")){o.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(d);break}g=fa(""+g),o.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(u!=="input"&&Wn(o,u,"name",E.name,E,null),Wn(o,u,"formEncType",E.formEncType,E,null),Wn(o,u,"formMethod",E.formMethod,E,null),Wn(o,u,"formTarget",E.formTarget,E,null)):(Wn(o,u,"encType",E.encType,E,null),Wn(o,u,"method",E.method,E,null),Wn(o,u,"target",E.target,E,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(d);break}g=fa(""+g),o.setAttribute(d,g);break;case"onClick":g!=null&&(o.onclick=Ua);break;case"onScroll":g!=null&&rn("scroll",o);break;case"onScrollEnd":g!=null&&rn("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(i(60));o.innerHTML=d}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}d=fa(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,""+g):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":g===!0?o.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,g):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(d,g):o.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(d):o.setAttribute(d,g);break;case"popover":rn("beforetoggle",o),rn("toggle",o),Ut(o,"popover",g);break;case"xlinkActuate":ri(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ri(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ri(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ri(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ri(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ri(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ri(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ri(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ri(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ut(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=nl.get(d)||d,Ut(o,d,g))}}function uv(o,u,d,g,E,N){switch(d){case"style":ru(o,g,N);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(i(60));o.innerHTML=d}}break;case"children":typeof g=="string"?Aa(o,g):(typeof g=="number"||typeof g=="bigint")&&Aa(o,""+g);break;case"onScroll":g!=null&&rn("scroll",o);break;case"onScrollEnd":g!=null&&rn("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wr.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),u=d.slice(2,E?d.length-7:void 0),N=o[he]||null,N=N!=null?N[d]:null,typeof N=="function"&&o.removeEventListener(u,N,E),typeof g=="function")){typeof N!="function"&&N!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(u,g,E);break e}d in o?o[d]=g:g===!0?o.setAttribute(d,""):Ut(o,d,g)}}}function hs(o,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rn("error",o),rn("load",o);var g=!1,E=!1,N;for(N in d)if(d.hasOwnProperty(N)){var V=d[N];if(V!=null)switch(N){case"src":g=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:Wn(o,u,N,V,d,null)}}E&&Wn(o,u,"srcSet",d.srcSet,d,null),g&&Wn(o,u,"src",d.src,d,null);return;case"input":rn("invalid",o);var fe=N=V=E=null,ke=null,et=null;for(g in d)if(d.hasOwnProperty(g)){var ct=d[g];if(ct!=null)switch(g){case"name":E=ct;break;case"type":V=ct;break;case"checked":ke=ct;break;case"defaultChecked":et=ct;break;case"value":N=ct;break;case"defaultValue":fe=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(i(137,u));break;default:Wn(o,u,g,ct,d,null)}}Tl(o,N,fe,ke,et,V,E,!1);return;case"select":rn("invalid",o),g=V=N=null;for(E in d)if(d.hasOwnProperty(E)&&(fe=d[E],fe!=null))switch(E){case"value":N=fe;break;case"defaultValue":V=fe;break;case"multiple":g=fe;default:Wn(o,u,E,fe,d,null)}u=N,d=V,o.multiple=!!g,u!=null?Kr(o,!!g,u,!1):d!=null&&Kr(o,!!g,d,!0);return;case"textarea":rn("invalid",o),N=E=g=null;for(V in d)if(d.hasOwnProperty(V)&&(fe=d[V],fe!=null))switch(V){case"value":g=fe;break;case"defaultValue":E=fe;break;case"children":N=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(91));break;default:Wn(o,u,V,fe,d,null)}Co(o,g,E,N);return;case"option":for(ke in d)d.hasOwnProperty(ke)&&(g=d[ke],g!=null)&&(ke==="selected"?o.selected=g&&typeof g!="function"&&typeof g!="symbol":Wn(o,u,ke,g,d,null));return;case"dialog":rn("beforetoggle",o),rn("toggle",o),rn("cancel",o),rn("close",o);break;case"iframe":case"object":rn("load",o);break;case"video":case"audio":for(g=0;g<Zd.length;g++)rn(Zd[g],o);break;case"image":rn("error",o),rn("load",o);break;case"details":rn("toggle",o);break;case"embed":case"source":case"link":rn("error",o),rn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in d)if(d.hasOwnProperty(et)&&(g=d[et],g!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:Wn(o,u,et,g,d,null)}return;default:if(Al(u)){for(ct in d)d.hasOwnProperty(ct)&&(g=d[ct],g!==void 0&&uv(o,u,ct,g,d,void 0));return}}for(fe in d)d.hasOwnProperty(fe)&&(g=d[fe],g!=null&&Wn(o,u,fe,g,d,null))}function qT(o,u,d,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,N=null,V=null,fe=null,ke=null,et=null,ct=null;for(nt in d){var vt=d[nt];if(d.hasOwnProperty(nt)&&vt!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":ke=vt;default:g.hasOwnProperty(nt)||Wn(o,u,nt,null,g,vt)}}for(var rt in g){var nt=g[rt];if(vt=d[rt],g.hasOwnProperty(rt)&&(nt!=null||vt!=null))switch(rt){case"type":N=nt;break;case"name":E=nt;break;case"checked":et=nt;break;case"defaultChecked":ct=nt;break;case"value":V=nt;break;case"defaultValue":fe=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,u));break;default:nt!==vt&&Wn(o,u,rt,nt,g,vt)}}tu(o,V,fe,ke,et,ct,N,E);return;case"select":nt=V=fe=rt=null;for(N in d)if(ke=d[N],d.hasOwnProperty(N)&&ke!=null)switch(N){case"value":break;case"multiple":nt=ke;default:g.hasOwnProperty(N)||Wn(o,u,N,null,g,ke)}for(E in g)if(N=g[E],ke=d[E],g.hasOwnProperty(E)&&(N!=null||ke!=null))switch(E){case"value":rt=N;break;case"defaultValue":fe=N;break;case"multiple":V=N;default:N!==ke&&Wn(o,u,E,N,g,ke)}u=fe,d=V,g=nt,rt!=null?Kr(o,!!d,rt,!1):!!g!=!!d&&(u!=null?Kr(o,!!d,u,!0):Kr(o,!!d,d?[]:"",!1));return;case"textarea":nt=rt=null;for(fe in d)if(E=d[fe],d.hasOwnProperty(fe)&&E!=null&&!g.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Wn(o,u,fe,null,g,E)}for(V in g)if(E=g[V],N=d[V],g.hasOwnProperty(V)&&(E!=null||N!=null))switch(V){case"value":rt=E;break;case"defaultValue":nt=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:E!==N&&Wn(o,u,V,E,g,N)}Gs(o,rt,nt);return;case"option":for(var rr in d)rt=d[rr],d.hasOwnProperty(rr)&&rt!=null&&!g.hasOwnProperty(rr)&&(rr==="selected"?o.selected=!1:Wn(o,u,rr,null,g,rt));for(ke in g)rt=g[ke],nt=d[ke],g.hasOwnProperty(ke)&&rt!==nt&&(rt!=null||nt!=null)&&(ke==="selected"?o.selected=rt&&typeof rt!="function"&&typeof rt!="symbol":Wn(o,u,ke,rt,g,nt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tr in d)rt=d[Tr],d.hasOwnProperty(Tr)&&rt!=null&&!g.hasOwnProperty(Tr)&&Wn(o,u,Tr,null,g,rt);for(et in g)if(rt=g[et],nt=d[et],g.hasOwnProperty(et)&&rt!==nt&&(rt!=null||nt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,u));break;default:Wn(o,u,et,rt,g,nt)}return;default:if(Al(u)){for(var Zn in d)rt=d[Zn],d.hasOwnProperty(Zn)&&rt!==void 0&&!g.hasOwnProperty(Zn)&&uv(o,u,Zn,void 0,g,rt);for(ct in g)rt=g[ct],nt=d[ct],!g.hasOwnProperty(ct)||rt===nt||rt===void 0&&nt===void 0||uv(o,u,ct,rt,g,nt);return}}for(var Ze in d)rt=d[Ze],d.hasOwnProperty(Ze)&&rt!=null&&!g.hasOwnProperty(Ze)&&Wn(o,u,Ze,null,g,rt);for(vt in g)rt=g[vt],nt=d[vt],!g.hasOwnProperty(vt)||rt===nt||rt==null&&nt==null||Wn(o,u,vt,rt,g,nt)}function fw(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VT(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var E=d[g],N=E.transferSize,V=E.initiatorType,fe=E.duration;if(N&&fe&&fw(V)){for(V=0,fe=E.responseEnd,g+=1;g<d.length;g++){var ke=d[g],et=ke.startTime;if(et>fe)break;var ct=ke.transferSize,vt=ke.initiatorType;ct&&fw(vt)&&(ke=ke.responseEnd,V+=ct*(ke<fe?1:(fe-et)/(ke-et)))}if(--g,u+=8*(N+V)/(E.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var cv=null,hv=null;function im(o){return o.nodeType===9?o:o.ownerDocument}function dw(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pw(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function fv(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var dv=null;function $T(){var o=window.event;return o&&o.type==="popstate"?o===dv?!1:(dv=o,!0):(dv=null,!1)}var mw=typeof setTimeout=="function"?setTimeout:void 0,WT=typeof clearTimeout=="function"?clearTimeout:void 0,gw=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof gw<"u"?function(o){return gw.resolve(null).then(o).catch(YT)}:mw;function YT(o){setTimeout(function(){throw o})}function Dc(o){return o==="head"}function vw(o,u){var d=u,g=0;do{var E=d.nextSibling;if(o.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"||d==="/&"){if(g===0){o.removeChild(E),Ef(u);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")Kd(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Kd(d);for(var N=d.firstChild;N;){var V=N.nextSibling,fe=N.nodeName;N[$e]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=V}}else d==="body"&&Kd(o.ownerDocument.body);d=E}while(d);Ef(u)}function _w(o,u){var d=o;o=0;do{var g=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=g}while(d)}function pv(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":pv(d),ht(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function KT(o,u,d,g){for(;o.nodeType===1;){var E=d;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[$e])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(N=o.getAttribute("rel"),N==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(N!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(N=o.getAttribute("src"),(N!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&N&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var N=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===N)return o}else return o;if(o=dl(o.nextSibling),o===null)break}return null}function XT(o,u,d){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=dl(o.nextSibling),o===null))return null;return o}function yw(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=dl(o.nextSibling),o===null))return null;return o}function mv(o){return o.data==="$?"||o.data==="$~"}function gv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function JT(o,u){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||d.readyState!=="loading")u();else{var g=function(){u(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function dl(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var vv=null;function xw(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(u===0)return dl(o.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}o=o.nextSibling}return null}function ww(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return o;u--}else d!=="/$"&&d!=="/&"||u++}o=o.previousSibling}return null}function bw(o,u,d){switch(u=im(d),o){case"html":if(o=u.documentElement,!o)throw Error(i(452));return o;case"head":if(o=u.head,!o)throw Error(i(453));return o;case"body":if(o=u.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Kd(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);ht(o)}var pl=new Map,Sw=new Set;function am(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var tc=be.d;be.d={f:QT,r:eA,D:tA,C:rA,L:nA,m:iA,X:sA,S:aA,M:oA};function QT(){var o=tc.f(),u=Kp();return o||u}function eA(o){var u=wt(o);u!==null&&u.tag===5&&u.type==="form"?Uy(u):tc.r(o)}var wf=typeof document>"u"?null:document;function Ew(o,u,d){var g=wf;if(g&&typeof u=="string"&&u){var E=un(u);E='link[rel="'+o+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),Sw.has(E)||(Sw.add(E),o={rel:o,crossOrigin:d,href:u},g.querySelector(E)===null&&(u=g.createElement("link"),hs(u,"link",o),Bt(u),g.head.appendChild(u)))}}function tA(o){tc.D(o),Ew("dns-prefetch",o,null)}function rA(o,u){tc.C(o,u),Ew("preconnect",o,u)}function nA(o,u,d){tc.L(o,u,d);var g=wf;if(g&&o&&u){var E='link[rel="preload"][as="'+un(u)+'"]';u==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+un(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+un(d.imageSizes)+'"]')):E+='[href="'+un(o)+'"]';var N=E;switch(u){case"style":N=bf(o);break;case"script":N=Sf(o)}pl.has(N)||(o=v({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:o,as:u},d),pl.set(N,o),g.querySelector(E)!==null||u==="style"&&g.querySelector(Xd(N))||u==="script"&&g.querySelector(Jd(N))||(u=g.createElement("link"),hs(u,"link",o),Bt(u),g.head.appendChild(u)))}}function iA(o,u){tc.m(o,u);var d=wf;if(d&&o){var g=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+un(g)+'"][href="'+un(o)+'"]',N=E;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Sf(o)}if(!pl.has(N)&&(o=v({rel:"modulepreload",href:o},u),pl.set(N,o),d.querySelector(E)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Jd(N)))return}g=d.createElement("link"),hs(g,"link",o),Bt(g),d.head.appendChild(g)}}}function aA(o,u,d){tc.S(o,u,d);var g=wf;if(g&&o){var E=Mt(g).hoistableStyles,N=bf(o);u=u||"default";var V=E.get(N);if(!V){var fe={loading:0,preload:null};if(V=g.querySelector(Xd(N)))fe.loading=5;else{o=v({rel:"stylesheet",href:o,"data-precedence":u},d),(d=pl.get(N))&&_v(o,d);var ke=V=g.createElement("link");Bt(ke),hs(ke,"link",o),ke._p=new Promise(function(et,ct){ke.onload=et,ke.onerror=ct}),ke.addEventListener("load",function(){fe.loading|=1}),ke.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,sm(V,u,g)}V={type:"stylesheet",instance:V,count:1,state:fe},E.set(N,V)}}}function sA(o,u){tc.X(o,u);var d=wf;if(d&&o){var g=Mt(d).hoistableScripts,E=Sf(o),N=g.get(E);N||(N=d.querySelector(Jd(E)),N||(o=v({src:o,async:!0},u),(u=pl.get(E))&&yv(o,u),N=d.createElement("script"),Bt(N),hs(N,"link",o),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(E,N))}}function oA(o,u){tc.M(o,u);var d=wf;if(d&&o){var g=Mt(d).hoistableScripts,E=Sf(o),N=g.get(E);N||(N=d.querySelector(Jd(E)),N||(o=v({src:o,async:!0,type:"module"},u),(u=pl.get(E))&&yv(o,u),N=d.createElement("script"),Bt(N),hs(N,"link",o),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(E,N))}}function Tw(o,u,d,g){var E=(E=se.current)?am(E):null;if(!E)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=bf(d.href),d=Mt(E).hoistableStyles,g=d.get(u),g||(g={type:"style",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=bf(d.href);var N=Mt(E).hoistableStyles,V=N.get(o);if(V||(E=E.ownerDocument||E,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(o,V),(N=E.querySelector(Xd(o)))&&!N._p&&(V.instance=N,V.state.loading=5),pl.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},pl.set(o,d),N||lA(E,o,d,V.state))),u&&g===null)throw Error(i(528,""));return V}if(u&&g!==null)throw Error(i(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Sf(d),d=Mt(E).hoistableScripts,g=d.get(u),g||(g={type:"script",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function bf(o){return'href="'+un(o)+'"'}function Xd(o){return'link[rel="stylesheet"]['+o+"]"}function Aw(o){return v({},o,{"data-precedence":o.precedence,precedence:null})}function lA(o,u,d,g){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=o.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),hs(u,"link",d),Bt(u),o.head.appendChild(u))}function Sf(o){return'[src="'+un(o)+'"]'}function Jd(o){return"script[async]"+o}function Lw(o,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var g=o.querySelector('style[data-href~="'+un(d.href)+'"]');if(g)return u.instance=g,Bt(g),g;var E=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Bt(g),hs(g,"style",E),sm(g,d.precedence,o),u.instance=g;case"stylesheet":E=bf(d.href);var N=o.querySelector(Xd(E));if(N)return u.state.loading|=4,u.instance=N,Bt(N),N;g=Aw(d),(E=pl.get(E))&&_v(g,E),N=(o.ownerDocument||o).createElement("link"),Bt(N);var V=N;return V._p=new Promise(function(fe,ke){V.onload=fe,V.onerror=ke}),hs(N,"link",g),u.state.loading|=4,sm(N,d.precedence,o),u.instance=N;case"script":return N=Sf(d.src),(E=o.querySelector(Jd(N)))?(u.instance=E,Bt(E),E):(g=d,(E=pl.get(N))&&(g=v({},d),yv(g,E)),o=o.ownerDocument||o,E=o.createElement("script"),Bt(E),hs(E,"link",g),o.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,sm(g,d.precedence,o));return u.instance}function sm(o,u,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=g.length?g[g.length-1]:null,N=E,V=0;V<g.length;V++){var fe=g[V];if(fe.dataset.precedence===u)N=fe;else if(N!==E)break}N?N.parentNode.insertBefore(o,N.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(o,u.firstChild))}function _v(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function yv(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var om=null;function Nw(o,u,d){if(om===null){var g=new Map,E=om=new Map;E.set(d,g)}else E=om,g=E.get(d),g||(g=new Map,E.set(d,g));if(g.has(o))return g;for(g.set(o,null),d=d.getElementsByTagName(o),E=0;E<d.length;E++){var N=d[E];if(!(N[$e]||N[ne]||o==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var V=N.getAttribute(u)||"";V=o+V;var fe=g.get(V);fe?fe.push(N):g.set(V,[N])}}return g}function Cw(o,u,d){o=o.ownerDocument||o,o.head.insertBefore(d,u==="title"?o.querySelector("head > title"):null)}function uA(o,u,d){if(d===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(o=u.disabled,typeof u.precedence=="string"&&o==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Mw(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function cA(o,u,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=bf(g.href),N=u.querySelector(Xd(E));if(N){u=N._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=lm.bind(o),u.then(o,o)),d.state.loading|=4,d.instance=N,Bt(N);return}N=u.ownerDocument||u,g=Aw(g),(E=pl.get(E))&&_v(g,E),N=N.createElement("link"),Bt(N);var V=N;V._p=new Promise(function(fe,ke){V.onload=fe,V.onerror=ke}),hs(N,"link",g),d.instance=N}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=lm.bind(o),u.addEventListener("load",d),u.addEventListener("error",d))}}var xv=0;function hA(o,u){return o.stylesheets&&o.count===0&&cm(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var g=setTimeout(function(){if(o.stylesheets&&cm(o,o.stylesheets),o.unsuspend){var N=o.unsuspend;o.unsuspend=null,N()}},6e4+u);0<o.imgBytes&&xv===0&&(xv=62500*VT());var E=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&cm(o,o.stylesheets),o.unsuspend)){var N=o.unsuspend;o.unsuspend=null,N()}},(o.imgBytes>xv?50:800)+u);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(E)}}:null}function lm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cm(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var um=null;function cm(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,um=new Map,u.forEach(fA,o),um=null,lm.call(o))}function fA(o,u){if(!(u.state.loading&4)){var d=um.get(o);if(d)var g=d.get(null);else{d=new Map,um.set(o,d);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<E.length;N++){var V=E[N];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(d.set(V.dataset.precedence,V),g=V)}g&&d.set(null,g)}E=u.instance,V=E.getAttribute("data-precedence"),N=d.get(V)||g,N===g&&d.set(null,E),d.set(V,E),this.count++,g=lm.bind(this),E.addEventListener("load",g),E.addEventListener("error",g),N?N.parentNode.insertBefore(E,N.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),u.state.loading|=4}}var Qd={$$typeof:D,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function dA(o,u,d,g,E,N,V,fe,ke){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=g,this.onUncaughtError=E,this.onCaughtError=N,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ke,this.incompleteTransitions=new Map}function kw(o,u,d,g,E,N,V,fe,ke,et,ct,vt){return o=new dA(o,u,d,V,ke,et,ct,vt,fe),u=1,N===!0&&(u|=24),N=ia(3,null,null,u),o.current=N,N.stateNode=o,u=Sc(),u.refCount++,o.pooledCache=u,u.refCount++,N.memoizedState={element:g,isDehydrated:d,cache:u},Rt(N),o}function Pw(o){return o?(o=Bi,o):Bi}function Ow(o,u,d,g,E,N){E=Pw(E),g.context===null?g.context=E:g.pendingContext=E,g=Sr(u),g.payload={element:d},N=N===void 0?null:N,N!==null&&(g.callback=N),d=zr(o,g,u),d!==null&&(xo(d,o,u),An(d,o,u))}function Rw(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<u?d:u}}function wv(o,u){Rw(o,u),(o=o.alternate)&&Rw(o,u)}function Dw(o){if(o.tag===13||o.tag===31){var u=Ns(o,67108864);u!==null&&xo(u,o,67108864),wv(o,67108864)}}function jw(o){if(o.tag===13||o.tag===31){var u=Vo();u=qe(u);var d=Ns(o,u);d!==null&&xo(d,o,u),wv(o,u)}}var hm=!0;function pA(o,u,d,g){var E=oe.T;oe.T=null;var N=be.p;try{be.p=2,bv(o,u,d,g)}finally{be.p=N,oe.T=E}}function mA(o,u,d,g){var E=oe.T;oe.T=null;var N=be.p;try{be.p=8,bv(o,u,d,g)}finally{be.p=N,oe.T=E}}function bv(o,u,d,g){if(hm){var E=Sv(g);if(E===null)lv(o,u,g,fm,d),Fw(o,g);else if(vA(E,o,u,d,g))g.stopPropagation();else if(Fw(o,g),u&4&&-1<gA.indexOf(o)){for(;E!==null;){var N=wt(E);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var V=Zt(N.pendingLanes);if(V!==0){var fe=N;for(fe.pendingLanes|=2,fe.entangledLanes|=2;V;){var ke=1<<31-Dr(V);fe.entanglements[1]|=ke,V&=~ke}Su(N),(Nn&6)===0&&(Zp=Jt()+500,Wd(0))}}break;case 31:case 13:fe=Ns(N,2),fe!==null&&xo(fe,N,2),Kp(),wv(N,2)}if(N=Sv(g),N===null&&lv(o,u,g,fm,d),N===E)break;E=N}E!==null&&g.stopPropagation()}else lv(o,u,g,null,d)}}function Sv(o){return o=ko(o),Ev(o)}var fm=null;function Ev(o){if(fm=null,o=bt(o),o!==null){var u=a(o);if(u===null)o=null;else{var d=u.tag;if(d===13){if(o=s(u),o!==null)return o;o=null}else if(d===31){if(o=l(u),o!==null)return o;o=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return fm=o,null}function Iw(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case dr:return 2;case Nr:return 8;case or:case Ft:return 32;case _r:return 268435456;default:return 32}default:return 32}}var Tv=!1,jc=null,Ic=null,Fc=null,e0=new Map,t0=new Map,Bc=[],gA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fw(o,u){switch(o){case"focusin":case"focusout":jc=null;break;case"dragenter":case"dragleave":Ic=null;break;case"mouseover":case"mouseout":Fc=null;break;case"pointerover":case"pointerout":e0.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":t0.delete(u.pointerId)}}function r0(o,u,d,g,E,N){return o===null||o.nativeEvent!==N?(o={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:N,targetContainers:[E]},u!==null&&(u=wt(u),u!==null&&Dw(u)),o):(o.eventSystemFlags|=g,u=o.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),o)}function vA(o,u,d,g,E){switch(u){case"focusin":return jc=r0(jc,o,u,d,g,E),!0;case"dragenter":return Ic=r0(Ic,o,u,d,g,E),!0;case"mouseover":return Fc=r0(Fc,o,u,d,g,E),!0;case"pointerover":var N=E.pointerId;return e0.set(N,r0(e0.get(N)||null,o,u,d,g,E)),!0;case"gotpointercapture":return N=E.pointerId,t0.set(N,r0(t0.get(N)||null,o,u,d,g,E)),!0}return!1}function Bw(o){var u=bt(o.target);if(u!==null){var d=a(u);if(d!==null){if(u=d.tag,u===13){if(u=s(d),u!==null){o.blockedOn=u,pe(o.priority,function(){jw(d)});return}}else if(u===31){if(u=l(d),u!==null){o.blockedOn=u,pe(o.priority,function(){jw(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function dm(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var d=Sv(o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);to=g,d.target.dispatchEvent(g),to=null}else return u=wt(d),u!==null&&Dw(u),o.blockedOn=d,!1;u.shift()}return!0}function Uw(o,u,d){dm(o)&&d.delete(u)}function _A(){Tv=!1,jc!==null&&dm(jc)&&(jc=null),Ic!==null&&dm(Ic)&&(Ic=null),Fc!==null&&dm(Fc)&&(Fc=null),e0.forEach(Uw),t0.forEach(Uw)}function pm(o,u){o.blockedOn===u&&(o.blockedOn=null,Tv||(Tv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_A)))}var mm=null;function zw(o){mm!==o&&(mm=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mm===o&&(mm=null);for(var u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],E=o[u+2];if(typeof g!="function"){if(Ev(g||d)===null)continue;break}var N=wt(d);N!==null&&(o.splice(u,3),u-=3,Sg(N,{pending:!0,data:E,method:d.method,action:g},g,E))}}))}function Ef(o){function u(ke){return pm(ke,o)}jc!==null&&pm(jc,o),Ic!==null&&pm(Ic,o),Fc!==null&&pm(Fc,o),e0.forEach(u),t0.forEach(u);for(var d=0;d<Bc.length;d++){var g=Bc[d];g.blockedOn===o&&(g.blockedOn=null)}for(;0<Bc.length&&(d=Bc[0],d.blockedOn===null);)Bw(d),d.blockedOn===null&&Bc.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var E=d[g],N=d[g+1],V=E[he]||null;if(typeof N=="function")V||zw(d);else if(V){var fe=null;if(N&&N.hasAttribute("formAction")){if(E=N,V=N[he]||null)fe=V.formAction;else if(Ev(E)!==null)continue}else fe=V.action;typeof fe=="function"?d[g+1]=fe:(d.splice(g,3),g-=3),zw(d)}}}function Gw(){function o(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(V){return E=V})},focusReset:"manual",scroll:"manual"})}function u(){E!==null&&(E(),E=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,E=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),E!==null&&(E(),E=null)}}}function Av(o){this._internalRoot=o}gm.prototype.render=Av.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(i(409));var d=u.current,g=Vo();Ow(d,g,o,u,null,null)},gm.prototype.unmount=Av.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Ow(o.current,2,null,o,null,null),Kp(),u[ge]=null}};function gm(o){this._internalRoot=o}gm.prototype.unstable_scheduleHydration=function(o){if(o){var u=Y();o={blockedOn:null,target:o,priority:u};for(var d=0;d<Bc.length&&u!==0&&u<Bc[d].priority;d++);Bc.splice(d,0,o),d===0&&Bw(o)}};var Hw=e.version;if(Hw!=="19.2.3")throw Error(i(527,Hw,"19.2.3"));be.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=f(u),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var yA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{Mr=vm.inject(yA),Gt=vm}catch{}}return i0.createRoot=function(o,u){if(!n(o))throw Error(i(299));var d=!1,g="",E=Ky,N=Xy,V=Jy;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(V=u.onRecoverableError)),u=kw(o,1,!1,null,null,d,g,null,E,N,V,Gw),o[ge]=u.current,ov(o),new Av(u)},i0.hydrateRoot=function(o,u,d){if(!n(o))throw Error(i(299));var g=!1,E="",N=Ky,V=Xy,fe=Jy,ke=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(V=d.onCaughtError),d.onRecoverableError!==void 0&&(fe=d.onRecoverableError),d.formState!==void 0&&(ke=d.formState)),u=kw(o,1,!0,u,d??null,g,E,ke,N,V,fe,Gw),u.context=Pw(null),d=u.current,g=Vo(),g=qe(g),E=Sr(g),E.callback=null,zr(d,E,g),d=g,u.current.lanes=d,Qt(u,d),Su(u),o[ge]=u.current,ov(o),new gm(u)},i0.version="19.2.3",i0}var Qw;function MA(){if(Qw)return Cv.exports;Qw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cv.exports=CA(),Cv.exports}var kA=MA();const PA=V1(kA);var Q3=t=>{throw TypeError(t)},OA=(t,e,r)=>e.has(t)||Q3("Cannot "+r),Ov=(t,e,r)=>(OA(t,e,"read from private field"),r?r.call(t):e.get(t)),RA=(t,e,r)=>e.has(t)?Q3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),eb="popstate";function DA(t={}){function e(n,a){let{pathname:s="/",search:l="",hash:c=""}=dc(n.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),z0("",{pathname:s,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){let s=n.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let c=n.location.href,f=c.indexOf("#");l=f===-1?c:c.slice(0,f)}return l+"#"+(typeof a=="string"?a:Pu(a))}function i(n,a){Ki(n.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return IA(e,r,i,t)}function Yr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ki(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jA(){return Math.random().toString(36).substring(2,10)}function tb(t,e){return{usr:t.state,key:t.key,idx:e}}function z0(t,e,r=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?dc(e):e,state:r,key:e&&e.key||i||jA()}}function Pu({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function dc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function IA(t,e,r,i={}){let{window:n=document.defaultView,v5Compat:a=!1}=i,s=n.history,l="POP",c=null,f=p();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function p(){return(s.state||{idx:null}).idx}function v(){l="POP";let C=p(),O=C==null?null:C-f;f=C,c&&c({action:l,location:S.location,delta:O})}function y(C,O){l="PUSH";let I=z0(S.location,C,O);r&&r(I,C),f=p()+1;let D=tb(I,f),q=S.createHref(I);try{s.pushState(D,"",q)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;n.location.assign(q)}a&&c&&c({action:l,location:S.location,delta:1})}function _(C,O){l="REPLACE";let I=z0(S.location,C,O);r&&r(I,C),f=p();let D=tb(I,f),q=S.createHref(I);s.replaceState(D,"",q),a&&c&&c({action:l,location:S.location,delta:0})}function T(C){return eS(C)}let S={get action(){return l},get location(){return t(n,s)},listen(C){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(eb,v),c=C,()=>{n.removeEventListener(eb,v),c=null}},createHref(C){return e(n,C)},createURL:T,encodeLocation(C){let O=T(C);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:_,go(C){return s.go(C)}};return S}function eS(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Yr(r,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Pu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=r+i),new URL(i,r)}var p0,rb=class{constructor(t){if(RA(this,p0,new Map),t)for(let[e,r]of t)this.set(e,r)}get(t){if(Ov(this,p0).has(t))return Ov(this,p0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Ov(this,p0).set(t,e)}};p0=new WeakMap;var FA=new Set(["lazy","caseSensitive","path","id","index","children"]);function BA(t){return FA.has(t)}var UA=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function zA(t){return UA.has(t)}function GA(t){return t.index===!0}function G0(t,e,r=[],i={},n=!1){return t.map((a,s)=>{let l=[...r,String(s)],c=typeof a.id=="string"?a.id:l.join("-");if(Yr(a.index!==!0||!a.children,"Cannot specify children on an index route"),Yr(n||!i[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),GA(a)){let f={...a,id:c};return i[c]=nb(f,e(f)),f}else{let f={...a,id:c,children:void 0};return i[c]=nb(f,e(f)),a.children&&(f.children=G0(a.children,e,l,i,n)),f}})}function nb(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function Vc(t,e,r="/"){return m0(t,e,r,!1)}function m0(t,e,r,i){let n=typeof e=="string"?dc(e):e,a=wl(n.pathname||"/",r);if(a==null)return null;let s=tS(t);qA(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let f=tL(a);l=QA(s[c],f,i)}return l}function HA(t,e){let{route:r,pathname:i,params:n}=t;return{id:r.id,pathname:i,params:n,data:e[r.id],loaderData:e[r.id],handle:r.handle}}function tS(t,e=[],r=[],i="",n=!1){let a=(s,l,c=n,f)=>{let p={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&c)return;Yr(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let v=ku([i,p.relativePath]),y=r.concat(p);s.children&&s.children.length>0&&(Yr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),tS(s.children,e,y,v,c)),!(s.path==null&&!s.index)&&e.push({path:v,score:XA(v,s.index),routesMeta:y})};return t.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))a(s,l);else for(let c of rS(s.path))a(s,l,!0,c)}),e}function rS(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,n=r.endsWith("?"),a=r.replace(/\?$/,"");if(i.length===0)return n?[a,""]:[a];let s=rS(i.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),n&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function qA(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:JA(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var VA=/^:[\w-]+$/,$A=3,WA=2,ZA=1,YA=10,KA=-2,ib=t=>t==="*";function XA(t,e){let r=t.split("/"),i=r.length;return r.some(ib)&&(i+=KA),e&&(i+=WA),r.filter(n=>!ib(n)).reduce((n,a)=>n+(VA.test(a)?$A:a===""?ZA:YA),i)}function JA(t,e){return t.length===e.length&&t.slice(0,-1).every((i,n)=>i===e[n])?t[t.length-1]-e[e.length-1]:0}function QA(t,e,r=!1){let{routesMeta:i}=t,n={},a="/",s=[];for(let l=0;l<i.length;++l){let c=i[l],f=l===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=h1({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),y=c.route;if(!v&&f&&r&&!i[i.length-1].route.index&&(v=h1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!v)return null;Object.assign(n,v.params),s.push({params:n,pathname:ku([a,v.pathname]),pathnameBase:iL(ku([a,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(a=ku([a,v.pathnameBase]))}return s}function h1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=eL(t.path,t.caseSensitive,t.end),n=e.match(r);if(!n)return null;let a=n[0],s=a.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:v},y)=>{if(p==="*"){let T=l[y]||"";s=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const _=l[y];return v&&!_?f[p]=void 0:f[p]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function eL(t,e=!1,r=!0){Ki(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),i]}function tL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ki(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function rL({basename:t,pathname:e}){return e==="/"?t:ku([t,e])}var nS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L_=t=>nS.test(t);function nL(t,e="/"){let{pathname:r,search:i="",hash:n=""}=typeof t=="string"?dc(t):t,a;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?a=ab(r.substring(1),"/"):a=ab(r,e)):a=e,{pathname:a,search:aL(i),hash:sL(n)}}function ab(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Rv(t,e,r,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iS(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function W1(t){let e=iS(t);return e.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase)}function Z1(t,e,r,i=!1){let n;typeof t=="string"?n=dc(t):(n={...t},Yr(!n.pathname||!n.pathname.includes("?"),Rv("?","pathname","search",n)),Yr(!n.pathname||!n.pathname.includes("#"),Rv("#","pathname","hash",n)),Yr(!n.search||!n.search.includes("#"),Rv("#","search","hash",n)));let a=t===""||n.pathname==="",s=a?"/":n.pathname,l;if(s==null)l=r;else{let v=e.length-1;if(!i&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),v-=1;n.pathname=y.join("/")}l=v>=0?e[v]:"/"}let c=nL(n,l),f=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}var ku=t=>t.join("/").replace(/\/\/+/g,"/"),iL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,hp=class{constructor(t,e,r,i=!1){this.status=t,this.statusText=e||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function H0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function fp(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var aS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sS(t,e){let r=t;if(typeof r!="string"||!nS.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let i=r,n=!1;if(aS)try{let a=new URL(window.location.href),s=r.startsWith("//")?new URL(a.protocol+r):new URL(r),l=wl(s.pathname,e);s.origin===a.origin&&l!=null?r=l+s.search+s.hash:n=!0}catch{Ki(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:n,to:r}}var Zc=Symbol("Uninstrumented");function oL(t,e){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(n=>n({id:e.id,index:e.index,path:e.path,instrument(a){let s=Object.keys(r);for(let l of s)a[l]&&r[l].push(a[l])}}));let i={};if(typeof e.lazy=="function"&&r.lazy.length>0){let n=Zf(r.lazy,e.lazy,()=>{});n&&(i.lazy=n)}if(typeof e.lazy=="object"){let n=e.lazy;["middleware","loader","action"].forEach(a=>{let s=n[a],l=r[`lazy.${a}`];if(typeof s=="function"&&l.length>0){let c=Zf(l,s,()=>{});c&&(i.lazy=Object.assign(i.lazy||{},{[a]:c}))}})}return["loader","action"].forEach(n=>{let a=e[n];if(typeof a=="function"&&r[n].length>0){let s=a[Zc]??a,l=Zf(r[n],s,(...c)=>sb(c[0]));l&&(n==="loader"&&s.hydrate===!0&&(l.hydrate=!0),l[Zc]=s,i[n]=l)}}),e.middleware&&e.middleware.length>0&&r.middleware.length>0&&(i.middleware=e.middleware.map(n=>{let a=n[Zc]??n,s=Zf(r.middleware,a,(...l)=>sb(l[0]));return s?(s[Zc]=a,s):n})),i}function lL(t,e){let r={navigate:[],fetch:[]};if(e.forEach(i=>i({instrument(n){let a=Object.keys(n);for(let s of a)n[s]&&r[s].push(n[s])}})),r.navigate.length>0){let i=t.navigate[Zc]??t.navigate,n=Zf(r.navigate,i,(...a)=>{let[s,l]=a;return{to:typeof s=="number"||typeof s=="string"?s:s?Pu(s):".",...ob(t,l??{})}});n&&(n[Zc]=i,t.navigate=n)}if(r.fetch.length>0){let i=t.fetch[Zc]??t.fetch,n=Zf(r.fetch,i,(...a)=>{let[s,,l,c]=a;return{href:l??".",fetcherKey:s,...ob(t,c??{})}});n&&(n[Zc]=i,t.fetch=n)}return t}function Zf(t,e,r){return t.length===0?null:async(...i)=>{let n=await oS(t,r(...i),()=>e(...i),t.length-1);if(n.type==="error")throw n.value;return n.value}}async function oS(t,e,r,i){let n=t[i],a;if(n){let s,l=async()=>(s?console.error("You cannot call instrumented handlers more than once"):s=oS(t,e,r,i-1),a=await s,Yr(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await n(l,e)}catch(c){console.error("An instrumentation function threw an error:",c)}s||await l(),await s}else try{a={type:"success",value:await r()}}catch(s){a={type:"error",value:s}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function sb(t){let{request:e,context:r,params:i,unstable_pattern:n}=t;return{request:uL(e),params:{...i},unstable_pattern:n,context:cL(r)}}function ob(t,e){return{currentUrl:Pu(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function uL(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function cL(t){if(fL(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var hL=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fL(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===hL}var lS=["POST","PUT","PATCH","DELETE"],dL=new Set(lS),pL=["GET",...lS],mL=new Set(pL),uS=new Set([301,302,303,307,308]),gL=new Set([307,308]),Dv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},a0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_L=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),cS="remix-router-transitions",hS=Symbol("ResetLoaderData");function yL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Yr(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.hydrationRouteProperties||[],n=t.mapRouteProperties||_L,a=n;if(t.unstable_instrumentations){let Ce=t.unstable_instrumentations;a=Ge=>({...n(Ge),...oL(Ce.map(qe=>qe.route).filter(Boolean),Ge)})}let s={},l=G0(t.routes,a,void 0,s),c,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let p=t.dataStrategy||EL,v={...t.future},y=null,_=new Set,T=null,S=null,C=null,O=t.hydrationData!=null,I=Vc(l,t.history.location,f),D=!1,q=null,te;if(I==null&&!t.patchRoutesOnNavigation){let Ce=vl(404,{pathname:t.history.location.pathname}),{matches:Ge,route:qe}=_m(l);te=!0,I=Ge,q={[qe.id]:Ce}}else if(I&&!t.hydrationData&&Ji(I,l,t.history.location.pathname).active&&(I=null),I)if(I.some(Ce=>Ce.route.lazy))te=!1;else if(!I.some(Ce=>N_(Ce.route)))te=!0;else{let Ce=t.hydrationData?t.hydrationData.loaderData:null,Ge=t.hydrationData?t.hydrationData.errors:null;if(Ge){let qe=I.findIndex(Ye=>Ge[Ye.route.id]!==void 0);te=I.slice(0,qe+1).every(Ye=>!G2(Ye.route,Ce,Ge))}else te=I.every(qe=>!G2(qe.route,Ce,Ge))}else{te=!1,I=[];let Ce=Ji(null,l,t.history.location.pathname);Ce.active&&Ce.matches&&(D=!0,I=Ce.matches)}let ce,F={historyAction:t.history.action,location:t.history.location,matches:I,initialized:te,navigation:Dv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||q,fetchers:new Map,blockers:new Map},K="POP",B=null,X=!1,j,W=!1,ue=new Map,de=null,xe=!1,oe=!1,be=new Set,_e=new Map,Le=0,Ne=-1,Q=new Map,P=new Set,G=new Map,H=new Map,Z=new Set,se=new Map,Ae,Oe=null;function Re(){if(y=t.history.listen(({action:Ce,location:Ge,delta:qe})=>{if(Ae){Ae(),Ae=void 0;return}Ki(se.size===0||qe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ye=en({currentLocation:F.location,nextLocation:Ge,historyAction:Ce});if(Ye&&qe!=null){let Y=new Promise(pe=>{Ae=pe});t.history.go(qe*-1),cr(Ye,{state:"blocked",location:Ge,proceed(){cr(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Ge}),Y.then(()=>t.history.go(qe))},reset(){let pe=new Map(F.blockers);pe.set(Ye,a0),it({blockers:pe})}}),B?.resolve(),B=null;return}return yt(Ce,Ge)}),r){GL(e,ue);let Ce=()=>HL(e,ue);e.addEventListener("pagehide",Ce),de=()=>e.removeEventListener("pagehide",Ce)}return F.initialized||yt("POP",F.location,{initialHydration:!0}),ce}function Ie(){y&&y(),de&&de(),_.clear(),j&&j.abort(),F.fetchers.forEach((Ce,Ge)=>xn(Ge)),F.blockers.forEach((Ce,Ge)=>ur(Ge))}function ot(Ce){return _.add(Ce),()=>_.delete(Ce)}function it(Ce,Ge={}){Ce.matches&&(Ce.matches=Ce.matches.map(Y=>{let pe=s[Y.route.id],re=Y.route;return re.element!==pe.element||re.errorElement!==pe.errorElement||re.hydrateFallbackElement!==pe.hydrateFallbackElement?{...Y,route:pe}:Y})),F={...F,...Ce};let qe=[],Ye=[];F.fetchers.forEach((Y,pe)=>{Y.state==="idle"&&(Z.has(pe)?qe.push(pe):Ye.push(pe))}),Z.forEach(Y=>{!F.fetchers.has(Y)&&!_e.has(Y)&&qe.push(Y)}),[..._].forEach(Y=>Y(F,{deletedFetchers:qe,newErrors:Ce.errors??null,viewTransitionOpts:Ge.viewTransitionOpts,flushSync:Ge.flushSync===!0})),qe.forEach(Y=>xn(Y)),Ye.forEach(Y=>F.fetchers.delete(Y))}function Tt(Ce,Ge,{flushSync:qe}={}){let Ye=F.actionData!=null&&F.navigation.formMethod!=null&&Is(F.navigation.formMethod)&&F.navigation.state==="loading"&&Ce.state?._isRedirect!==!0,Y;Ge.actionData?Object.keys(Ge.actionData).length>0?Y=Ge.actionData:Y=null:Ye?Y=F.actionData:Y=null;let pe=Ge.loaderData?vb(F.loaderData,Ge.loaderData,Ge.matches||[],Ge.errors):F.loaderData,re=F.blockers;re.size>0&&(re=new Map(re),re.forEach((Pe,ze)=>re.set(ze,a0)));let ne=xe?!1:li(Ce,Ge.matches||F.matches),he=X===!0||F.navigation.formMethod!=null&&Is(F.navigation.formMethod)&&Ce.state?._isRedirect!==!0;c&&(l=c,c=void 0),xe||K==="POP"||(K==="PUSH"?t.history.push(Ce,Ce.state):K==="REPLACE"&&t.history.replace(Ce,Ce.state));let ge;if(K==="POP"){let Pe=ue.get(F.location.pathname);Pe&&Pe.has(Ce.pathname)?ge={currentLocation:F.location,nextLocation:Ce}:ue.has(Ce.pathname)&&(ge={currentLocation:Ce,nextLocation:F.location})}else if(W){let Pe=ue.get(F.location.pathname);Pe?Pe.add(Ce.pathname):(Pe=new Set([Ce.pathname]),ue.set(F.location.pathname,Pe)),ge={currentLocation:F.location,nextLocation:Ce}}it({...Ge,actionData:Y,loaderData:pe,historyAction:K,location:Ce,initialized:!0,navigation:Dv,revalidation:"idle",restoreScrollPosition:ne,preventScrollReset:he,blockers:re},{viewTransitionOpts:ge,flushSync:qe===!0}),K="POP",X=!1,W=!1,xe=!1,oe=!1,B?.resolve(),B=null,Oe?.resolve(),Oe=null}async function Nt(Ce,Ge){if(B?.resolve(),B=null,typeof Ce=="number"){B||(B=wb());let Ue=B.promise;return t.history.go(Ce),Ue}let qe=z2(F.location,F.matches,f,Ce,Ge?.fromRouteId,Ge?.relative),{path:Ye,submission:Y,error:pe}=lb(!1,qe,Ge),re=F.location,ne=z0(F.location,Ye,Ge&&Ge.state);ne={...ne,...t.history.encodeLocation(ne)};let he=Ge&&Ge.replace!=null?Ge.replace:void 0,ge="PUSH";he===!0?ge="REPLACE":he===!1||Y!=null&&Is(Y.formMethod)&&Y.formAction===F.location.pathname+F.location.search&&(ge="REPLACE");let Pe=Ge&&"preventScrollReset"in Ge?Ge.preventScrollReset===!0:void 0,ze=(Ge&&Ge.flushSync)===!0,Be=en({currentLocation:re,nextLocation:ne,historyAction:ge});if(Be){cr(Be,{state:"blocked",location:ne,proceed(){cr(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),Nt(Ce,Ge)},reset(){let Ue=new Map(F.blockers);Ue.set(Be,a0),it({blockers:Ue})}});return}await yt(ge,ne,{submission:Y,pendingError:pe,preventScrollReset:Pe,replace:Ge&&Ge.replace,enableViewTransition:Ge&&Ge.viewTransition,flushSync:ze,callSiteDefaultShouldRevalidate:Ge&&Ge.unstable_defaultShouldRevalidate})}function we(){Oe||(Oe=wb()),Nr(),it({revalidation:"loading"});let Ce=Oe.promise;return F.navigation.state==="submitting"?Ce:F.navigation.state==="idle"?(yt(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),Ce):(yt(K||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:W===!0}),Ce)}async function yt(Ce,Ge,qe){j&&j.abort(),j=null,K=Ce,xe=(qe&&qe.startUninterruptedRevalidation)===!0,Sa(F.location,F.matches),X=(qe&&qe.preventScrollReset)===!0,W=(qe&&qe.enableViewTransition)===!0;let Ye=c||l,Y=qe&&qe.overrideNavigation,pe=qe?.initialHydration&&F.matches&&F.matches.length>0&&!D?F.matches:Vc(Ye,Ge,f),re=(qe&&qe.flushSync)===!0;if(pe&&F.initialized&&!oe&&PL(F.location,Ge)&&!(qe&&qe.submission&&Is(qe.submission.formMethod))){Tt(Ge,{matches:pe},{flushSync:re});return}let ne=Ji(pe,Ye,Ge.pathname);if(ne.active&&ne.matches&&(pe=ne.matches),!pe){let{error:ht,notFoundMatches:bt,route:wt}=xr(Ge.pathname);Tt(Ge,{matches:bt,loaderData:{},errors:{[wt.id]:ht}},{flushSync:re});return}j=new AbortController;let he=Uf(t.history,Ge,j.signal,qe&&qe.submission),ge=t.getContext?await t.getContext():new rb,Pe;if(qe&&qe.pendingError)Pe=[$c(pe).route.id,{type:"error",error:qe.pendingError}];else if(qe&&qe.submission&&Is(qe.submission.formMethod)){let ht=await xt(he,Ge,qe.submission,pe,ge,ne.active,qe&&qe.initialHydration===!0,{replace:qe.replace,flushSync:re});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[bt,wt]=ht.pendingActionResult;if(Yo(wt)&&H0(wt.error)&&wt.error.status===404){j=null,Tt(Ge,{matches:ht.matches,loaderData:{},errors:{[bt]:wt.error}});return}}pe=ht.matches||pe,Pe=ht.pendingActionResult,Y=jv(Ge,qe.submission),re=!1,ne.active=!1,he=Uf(t.history,he.url,he.signal)}let{shortCircuited:ze,matches:Be,loaderData:Ue,errors:$e}=await zt(he,Ge,pe,ge,ne.active,Y,qe&&qe.submission,qe&&qe.fetcherSubmission,qe&&qe.replace,qe&&qe.initialHydration===!0,re,Pe,qe&&qe.callSiteDefaultShouldRevalidate);ze||(j=null,Tt(Ge,{matches:Be||pe,..._b(Pe),loaderData:Ue,errors:$e}))}async function xt(Ce,Ge,qe,Ye,Y,pe,re,ne={}){Nr();let he=UL(Ge,qe);if(it({navigation:he},{flushSync:ne.flushSync===!0}),pe){let ze=await Ni(Ye,Ge.pathname,Ce.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){if(ze.partialMatches.length===0){let{matches:Ue,route:$e}=_m(l);return{matches:Ue,pendingActionResult:[$e.id,{type:"error",error:ze.error}]}}let Be=$c(ze.partialMatches).route.id;return{matches:ze.partialMatches,pendingActionResult:[Be,{type:"error",error:ze.error}]}}else if(ze.matches)Ye=ze.matches;else{let{notFoundMatches:Be,error:Ue,route:$e}=xr(Ge.pathname);return{matches:Be,pendingActionResult:[$e.id,{type:"error",error:Ue}]}}}let ge,Pe=Jm(Ye,Ge);if(!Pe.route.action&&!Pe.route.lazy)ge={type:"error",error:vl(405,{method:Ce.method,pathname:Ge.pathname,routeId:Pe.route.id})};else{let ze=nd(a,s,Ce,Ye,Pe,re?[]:i,Y),Be=await Er(Ce,ze,Y,null);if(ge=Be[Pe.route.id],!ge){for(let Ue of Ye)if(Be[Ue.route.id]){ge=Be[Ue.route.id];break}}if(Ce.signal.aborted)return{shortCircuited:!0}}if(kh(ge)){let ze;return ne&&ne.replace!=null?ze=ne.replace:ze=pb(ge.response.headers.get("Location"),new URL(Ce.url),f,t.history)===F.location.pathname+F.location.search,await Jt(Ce,ge,!0,{submission:qe,replace:ze}),{shortCircuited:!0}}if(Yo(ge)){let ze=$c(Ye,Pe.route.id);return(ne&&ne.replace)!==!0&&(K="PUSH"),{matches:Ye,pendingActionResult:[ze.route.id,ge,Pe.route.id]}}return{matches:Ye,pendingActionResult:[Pe.route.id,ge]}}async function zt(Ce,Ge,qe,Ye,Y,pe,re,ne,he,ge,Pe,ze,Be){let Ue=pe||jv(Ge,re),$e=re||ne||xb(Ue),ht=!xe&&!ge;if(Y){if(ht){let Ut=dt(ze);it({navigation:Ue,...Ut!==void 0?{actionData:Ut}:{}},{flushSync:Pe})}let Ar=await Ni(qe,Ge.pathname,Ce.signal);if(Ar.type==="aborted")return{shortCircuited:!0};if(Ar.type==="error"){if(Ar.partialMatches.length===0){let{matches:qr,route:ri}=_m(l);return{matches:qr,loaderData:{},errors:{[ri.id]:Ar.error}}}let Ut=$c(Ar.partialMatches).route.id;return{matches:Ar.partialMatches,loaderData:{},errors:{[Ut]:Ar.error}}}else if(Ar.matches)qe=Ar.matches;else{let{error:Ut,notFoundMatches:qr,route:ri}=xr(Ge.pathname);return{matches:qr,loaderData:{},errors:{[ri.id]:Ut}}}}let bt=c||l,{dsMatches:wt,revalidatingFetchers:gt}=ub(Ce,Ye,a,s,t.history,F,qe,$e,Ge,ge?[]:i,ge===!0,oe,be,Z,G,P,bt,f,t.patchRoutesOnNavigation!=null,ze,Be);if(Ne=++Le,!t.dataStrategy&&!wt.some(Ar=>Ar.shouldLoad)&&!wt.some(Ar=>Ar.route.middleware&&Ar.route.middleware.length>0)&&gt.length===0){let Ar=Dr();return Tt(Ge,{matches:qe,loaderData:{},errors:ze&&Yo(ze[1])?{[ze[0]]:ze[1].error}:null,..._b(ze),...Ar?{fetchers:new Map(F.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(ht){let Ar={};if(!Y){Ar.navigation=Ue;let Ut=dt(ze);Ut!==void 0&&(Ar.actionData=Ut)}gt.length>0&&(Ar.fetchers=Vt(gt)),it(Ar,{flushSync:Pe})}gt.forEach(Ar=>{Gt(Ar.key),Ar.controller&&_e.set(Ar.key,Ar.controller)});let Mt=()=>gt.forEach(Ar=>Gt(Ar.key));j&&j.signal.addEventListener("abort",Mt);let{loaderResults:Bt,fetcherResults:Hr}=await dr(wt,gt,Ce,Ye);if(Ce.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",Mt),gt.forEach(Ar=>_e.delete(Ar.key));let wr=ym(Bt);if(wr)return await Jt(Ce,wr.result,!0,{replace:he}),{shortCircuited:!0};if(wr=ym(Hr),wr)return P.add(wr.key),await Jt(Ce,wr.result,!0,{replace:he}),{shortCircuited:!0};let{loaderData:nn,errors:Kn}=gb(F,qe,Bt,ze,gt,Hr);ge&&F.errors&&(Kn={...F.errors,...Kn});let Xn=Dr(),Qi=Yt(Ne),Ci=Xn||Qi||gt.length>0;return{matches:qe,loaderData:nn,errors:Kn,...Ci?{fetchers:new Map(F.fetchers)}:{}}}function dt(Ce){if(Ce&&!Yo(Ce[1]))return{[Ce[0]]:Ce[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function Vt(Ce){return Ce.forEach(Ge=>{let qe=F.fetchers.get(Ge.key),Ye=s0(void 0,qe?qe.data:void 0);F.fetchers.set(Ge.key,Ye)}),new Map(F.fetchers)}async function jt(Ce,Ge,qe,Ye){Gt(Ce);let Y=(Ye&&Ye.flushSync)===!0,pe=c||l,re=z2(F.location,F.matches,f,qe,Ge,Ye?.relative),ne=Vc(pe,re,f),he=Ji(ne,pe,re);if(he.active&&he.matches&&(ne=he.matches),!ne){Ft(Ce,Ge,vl(404,{pathname:re}),{flushSync:Y});return}let{path:ge,submission:Pe,error:ze}=lb(!0,re,Ye);if(ze){Ft(Ce,Ge,ze,{flushSync:Y});return}let Be=t.getContext?await t.getContext():new rb,Ue=(Ye&&Ye.preventScrollReset)===!0;if(Pe&&Is(Pe.formMethod)){await sr(Ce,Ge,ge,ne,Be,he.active,Y,Ue,Pe,Ye&&Ye.unstable_defaultShouldRevalidate);return}G.set(Ce,{routeId:Ge,path:ge}),await Xt(Ce,Ge,ge,ne,Be,he.active,Y,Ue,Pe)}async function sr(Ce,Ge,qe,Ye,Y,pe,re,ne,he,ge){Nr(),G.delete(Ce);let Pe=F.fetchers.get(Ce);or(Ce,zL(he,Pe),{flushSync:re});let ze=new AbortController,Be=Uf(t.history,qe,ze.signal,he);if(pe){let ar=await Ni(Ye,new URL(Be.url).pathname,Be.signal,Ce);if(ar.type==="aborted")return;if(ar.type==="error"){Ft(Ce,Ge,ar.error,{flushSync:re});return}else if(ar.matches)Ye=ar.matches;else{Ft(Ce,Ge,vl(404,{pathname:qe}),{flushSync:re});return}}let Ue=Jm(Ye,qe);if(!Ue.route.action&&!Ue.route.lazy){let ar=vl(405,{method:he.formMethod,pathname:qe,routeId:Ge});Ft(Ce,Ge,ar,{flushSync:re});return}_e.set(Ce,ze);let $e=Le,ht=nd(a,s,Be,Ye,Ue,i,Y),bt=await Er(Be,ht,Y,Ce),wt=bt[Ue.route.id];if(!wt){for(let ar of ht)if(bt[ar.route.id]){wt=bt[ar.route.id];break}}if(Be.signal.aborted){_e.get(Ce)===ze&&_e.delete(Ce);return}if(Z.has(Ce)){if(kh(wt)||Yo(wt)){or(Ce,ic(void 0));return}}else{if(kh(wt))if(_e.delete(Ce),Ne>$e){or(Ce,ic(void 0));return}else return P.add(Ce),or(Ce,s0(he)),Jt(Be,wt,!1,{fetcherSubmission:he,preventScrollReset:ne});if(Yo(wt)){Ft(Ce,Ge,wt.error);return}}let gt=F.navigation.location||F.location,Mt=Uf(t.history,gt,ze.signal),Bt=c||l,Hr=F.navigation.state!=="idle"?Vc(Bt,F.navigation.location,f):F.matches;Yr(Hr,"Didn't find any matches after fetcher action");let wr=++Le;Q.set(Ce,wr);let nn=s0(he,wt.data);F.fetchers.set(Ce,nn);let{dsMatches:Kn,revalidatingFetchers:Xn}=ub(Mt,Y,a,s,t.history,F,Hr,he,gt,i,!1,oe,be,Z,G,P,Bt,f,t.patchRoutesOnNavigation!=null,[Ue.route.id,wt],ge);Xn.filter(ar=>ar.key!==Ce).forEach(ar=>{let Ea=ar.key,Ta=F.fetchers.get(Ea),yr=s0(void 0,Ta?Ta.data:void 0);F.fetchers.set(Ea,yr),Gt(Ea),ar.controller&&_e.set(Ea,ar.controller)}),it({fetchers:new Map(F.fetchers)});let Qi=()=>Xn.forEach(ar=>Gt(ar.key));ze.signal.addEventListener("abort",Qi);let{loaderResults:Ci,fetcherResults:Ar}=await dr(Kn,Xn,Mt,Y);if(ze.signal.aborted)return;if(ze.signal.removeEventListener("abort",Qi),Q.delete(Ce),_e.delete(Ce),Xn.forEach(ar=>_e.delete(ar.key)),F.fetchers.has(Ce)){let ar=ic(wt.data);F.fetchers.set(Ce,ar)}let Ut=ym(Ci);if(Ut)return Jt(Mt,Ut.result,!1,{preventScrollReset:ne});if(Ut=ym(Ar),Ut)return P.add(Ut.key),Jt(Mt,Ut.result,!1,{preventScrollReset:ne});let{loaderData:qr,errors:ri}=gb(F,Hr,Ci,void 0,Xn,Ar);Yt(wr),F.navigation.state==="loading"&&wr>Ne?(Yr(K,"Expected pending action"),j&&j.abort(),Tt(F.navigation.location,{matches:Hr,loaderData:qr,errors:ri,fetchers:new Map(F.fetchers)})):(it({errors:ri,loaderData:vb(F.loaderData,qr,Hr,ri),fetchers:new Map(F.fetchers)}),oe=!1)}async function Xt(Ce,Ge,qe,Ye,Y,pe,re,ne,he){let ge=F.fetchers.get(Ce);or(Ce,s0(he,ge?ge.data:void 0),{flushSync:re});let Pe=new AbortController,ze=Uf(t.history,qe,Pe.signal);if(pe){let wt=await Ni(Ye,new URL(ze.url).pathname,ze.signal,Ce);if(wt.type==="aborted")return;if(wt.type==="error"){Ft(Ce,Ge,wt.error,{flushSync:re});return}else if(wt.matches)Ye=wt.matches;else{Ft(Ce,Ge,vl(404,{pathname:qe}),{flushSync:re});return}}let Be=Jm(Ye,qe);_e.set(Ce,Pe);let Ue=Le,$e=nd(a,s,ze,Ye,Be,i,Y),bt=(await Er(ze,$e,Y,Ce))[Be.route.id];if(_e.get(Ce)===Pe&&_e.delete(Ce),!ze.signal.aborted){if(Z.has(Ce)){or(Ce,ic(void 0));return}if(kh(bt))if(Ne>Ue){or(Ce,ic(void 0));return}else{P.add(Ce),await Jt(ze,bt,!1,{preventScrollReset:ne});return}if(Yo(bt)){Ft(Ce,Ge,bt.error);return}or(Ce,ic(bt.data))}}async function Jt(Ce,Ge,qe,{submission:Ye,fetcherSubmission:Y,preventScrollReset:pe,replace:re}={}){qe||(B?.resolve(),B=null),Ge.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let ne=Ge.response.headers.get("Location");Yr(ne,"Expected a Location header on the redirect Response"),ne=pb(ne,new URL(Ce.url),f,t.history);let he=z0(F.location,ne,{_isRedirect:!0});if(r){let $e=!1;if(Ge.response.headers.has("X-Remix-Reload-Document"))$e=!0;else if(L_(ne)){const ht=eS(ne,!0);$e=ht.origin!==e.location.origin||wl(ht.pathname,f)==null}if($e){re?e.location.replace(ne):e.location.assign(ne);return}}j=null;let ge=re===!0||Ge.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:ze,formEncType:Be}=F.navigation;!Ye&&!Y&&Pe&&ze&&Be&&(Ye=xb(F.navigation));let Ue=Ye||Y;if(gL.has(Ge.response.status)&&Ue&&Is(Ue.formMethod))await yt(ge,he,{submission:{...Ue,formAction:ne},preventScrollReset:pe||X,enableViewTransition:qe?W:void 0});else{let $e=jv(he,Ye);await yt(ge,he,{overrideNavigation:$e,fetcherSubmission:Y,preventScrollReset:pe||X,enableViewTransition:qe?W:void 0})}}async function Er(Ce,Ge,qe,Ye){let Y,pe={};try{Y=await AL(p,Ce,Ge,Ye,qe,!1)}catch(re){return Ge.filter(ne=>ne.shouldLoad).forEach(ne=>{pe[ne.route.id]={type:"error",error:re}}),pe}if(Ce.signal.aborted)return pe;if(!Is(Ce.method))for(let re of Ge){if(Y[re.route.id]?.type==="error")break;!Y.hasOwnProperty(re.route.id)&&!F.loaderData.hasOwnProperty(re.route.id)&&(!F.errors||!F.errors.hasOwnProperty(re.route.id))&&re.shouldCallHandler()&&(Y[re.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${re.route.id}`)})}for(let[re,ne]of Object.entries(Y))if(jL(ne)){let he=ne.result;pe[re]={type:"redirect",response:ML(he,Ce,re,Ge,f)}}else pe[re]=await CL(ne);return pe}async function dr(Ce,Ge,qe,Ye){let Y=Er(qe,Ce,Ye,null),pe=Promise.all(Ge.map(async he=>{if(he.matches&&he.match&&he.request&&he.controller){let Pe=(await Er(he.request,he.matches,Ye,he.key))[he.match.route.id];return{[he.key]:Pe}}else return Promise.resolve({[he.key]:{type:"error",error:vl(404,{pathname:he.path})}})})),re=await Y,ne=(await pe).reduce((he,ge)=>Object.assign(he,ge),{});return{loaderResults:re,fetcherResults:ne}}function Nr(){oe=!0,G.forEach((Ce,Ge)=>{_e.has(Ge)&&be.add(Ge),Gt(Ge)})}function or(Ce,Ge,qe={}){F.fetchers.set(Ce,Ge),it({fetchers:new Map(F.fetchers)},{flushSync:(qe&&qe.flushSync)===!0})}function Ft(Ce,Ge,qe,Ye={}){let Y=$c(F.matches,Ge);xn(Ce),it({errors:{[Y.route.id]:qe},fetchers:new Map(F.fetchers)},{flushSync:(Ye&&Ye.flushSync)===!0})}function _r(Ce){return H.set(Ce,(H.get(Ce)||0)+1),Z.has(Ce)&&Z.delete(Ce),F.fetchers.get(Ce)||vL}function Wt(Ce,Ge){Gt(Ce,Ge?.reason),or(Ce,ic(null))}function xn(Ce){let Ge=F.fetchers.get(Ce);_e.has(Ce)&&!(Ge&&Ge.state==="loading"&&Q.has(Ce))&&Gt(Ce),G.delete(Ce),Q.delete(Ce),P.delete(Ce),Z.delete(Ce),be.delete(Ce),F.fetchers.delete(Ce)}function Mr(Ce){let Ge=(H.get(Ce)||0)-1;Ge<=0?(H.delete(Ce),Z.add(Ce)):H.set(Ce,Ge),it({fetchers:new Map(F.fetchers)})}function Gt(Ce,Ge){let qe=_e.get(Ce);qe&&(qe.abort(Ge),_e.delete(Ce))}function pr(Ce){for(let Ge of Ce){let qe=_r(Ge),Ye=ic(qe.data);F.fetchers.set(Ge,Ye)}}function Dr(){let Ce=[],Ge=!1;for(let qe of P){let Ye=F.fetchers.get(qe);Yr(Ye,`Expected fetcher: ${qe}`),Ye.state==="loading"&&(P.delete(qe),Ce.push(qe),Ge=!0)}return pr(Ce),Ge}function Yt(Ce){let Ge=[];for(let[qe,Ye]of Q)if(Ye<Ce){let Y=F.fetchers.get(qe);Yr(Y,`Expected fetcher: ${qe}`),Y.state==="loading"&&(Gt(qe),Q.delete(qe),Ge.push(qe))}return pr(Ge),Ge.length>0}function ln(Ce,Ge){let qe=F.blockers.get(Ce)||a0;return se.get(Ce)!==Ge&&se.set(Ce,Ge),qe}function ur(Ce){F.blockers.delete(Ce),se.delete(Ce)}function cr(Ce,Ge){let qe=F.blockers.get(Ce)||a0;Yr(qe.state==="unblocked"&&Ge.state==="blocked"||qe.state==="blocked"&&Ge.state==="blocked"||qe.state==="blocked"&&Ge.state==="proceeding"||qe.state==="blocked"&&Ge.state==="unblocked"||qe.state==="proceeding"&&Ge.state==="unblocked",`Invalid blocker state transition: ${qe.state} -> ${Ge.state}`);let Ye=new Map(F.blockers);Ye.set(Ce,Ge),it({blockers:Ye})}function en({currentLocation:Ce,nextLocation:Ge,historyAction:qe}){if(se.size===0)return;se.size>1&&Ki(!1,"A router only supports one blocker at a time");let Ye=Array.from(se.entries()),[Y,pe]=Ye[Ye.length-1],re=F.blockers.get(Y);if(!(re&&re.state==="proceeding")&&pe({currentLocation:Ce,nextLocation:Ge,historyAction:qe}))return Y}function xr(Ce){let Ge=vl(404,{pathname:Ce}),qe=c||l,{matches:Ye,route:Y}=_m(qe);return{notFoundMatches:Ye,route:Y,error:Ge}}function Zt(Ce,Ge,qe){if(T=Ce,C=Ge,S=qe||null,!O&&F.navigation===Dv){O=!0;let Ye=li(F.location,F.matches);Ye!=null&&it({restoreScrollPosition:Ye})}return()=>{T=null,C=null,S=null}}function Gr(Ce,Ge){return S&&S(Ce,Ge.map(Ye=>HA(Ye,F.loaderData)))||Ce.key}function Sa(Ce,Ge){if(T&&C){let qe=Gr(Ce,Ge);T[qe]=C()}}function li(Ce,Ge){if(T){let qe=Gr(Ce,Ge),Ye=T[qe];if(typeof Ye=="number")return Ye}return null}function Ji(Ce,Ge,qe){if(t.patchRoutesOnNavigation)if(Ce){if(Object.keys(Ce[0].params).length>0)return{active:!0,matches:m0(Ge,qe,f,!0)}}else return{active:!0,matches:m0(Ge,qe,f,!0)||[]};return{active:!1,matches:null}}async function Ni(Ce,Ge,qe,Ye){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Ce};let Y=Ce;for(;;){let pe=c==null,re=c||l,ne=s;try{await t.patchRoutesOnNavigation({signal:qe,path:Ge,matches:Y,fetcherKey:Ye,patch:(Pe,ze)=>{qe.aborted||cb(Pe,ze,re,ne,a,!1)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:Y}}finally{pe&&!qe.aborted&&(l=[...l])}if(qe.aborted)return{type:"aborted"};let he=Vc(re,Ge,f),ge=null;if(he){if(Object.keys(he[0].params).length===0)return{type:"success",matches:he};if(ge=m0(re,Ge,f,!0),!(ge&&Y.length<ge.length&&Qt(Y,ge.slice(0,Y.length))))return{type:"success",matches:he}}if(ge||(ge=m0(re,Ge,f,!0)),!ge||Qt(Y,ge))return{type:"success",matches:null};Y=ge}}function Qt(Ce,Ge){return Ce.length===Ge.length&&Ce.every((qe,Ye)=>qe.route.id===Ge[Ye].route.id)}function Xa(Ce){s={},c=G0(Ce,a,void 0,s)}function Ba(Ce,Ge,qe=!1){let Ye=c==null;cb(Ce,Ge,c||l,s,a,qe),Ye&&(l=[...l],it({}))}return ce={get basename(){return f},get future(){return v},get state(){return F},get routes(){return l},get window(){return e},initialize:Re,subscribe:ot,enableScrollRestoration:Zt,navigate:Nt,fetch:jt,revalidate:we,createHref:Ce=>t.history.createHref(Ce),encodeLocation:Ce=>t.history.encodeLocation(Ce),getFetcher:_r,resetFetcher:Wt,deleteFetcher:Mr,dispose:Ie,getBlocker:ln,deleteBlocker:ur,patchRoutes:Ba,_internalFetchControllers:_e,_internalSetRoutes:Xa,_internalSetStateDoNotUseOrYouWillBreakYourApp(Ce){it(Ce)}},t.unstable_instrumentations&&(ce=lL(ce,t.unstable_instrumentations.map(Ce=>Ce.router).filter(Boolean))),ce}function xL(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function z2(t,e,r,i,n,a){let s,l;if(n){s=[];for(let f of e)if(s.push(f),f.route.id===n){l=f;break}}else s=e,l=e[e.length-1];let c=Z1(i||".",W1(s),wl(t.pathname,r)||t.pathname,a==="path");if(i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&l){let f=M_(c.search);if(l.route.index&&!f)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&f){let p=new URLSearchParams(c.search),v=p.getAll("index");p.delete("index"),v.filter(_=>_).forEach(_=>p.append("index",_));let y=p.toString();c.search=y?`?${y}`:""}}return r!=="/"&&(c.pathname=rL({basename:r,pathname:c.pathname})),Pu(c)}function lb(t,e,r){if(!r||!xL(r))return{path:e};if(r.formMethod&&!BL(r.formMethod))return{path:e,error:vl(405,{method:r.formMethod})};let i=()=>({path:e,error:vl(400,{type:"invalid-body"})}),a=(r.formMethod||"get").toUpperCase(),s=vS(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Is(a))return i();let v=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,[_,T])=>`${y}${_}=${T}
`,""):String(r.body);return{path:e,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:v}}}else if(r.formEncType==="application/json"){if(!Is(a))return i();try{let v=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:v,text:void 0}}}catch{return i()}}}Yr(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=q2(r.formData),c=r.formData;else if(r.body instanceof FormData)l=q2(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=mb(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=mb(l)}catch{return i()}let f={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Is(f.formMethod))return{path:e,submission:f};let p=dc(e);return t&&p.search&&M_(p.search)&&l.append("index",""),p.search=`?${l}`,{path:Pu(p),submission:f}}function ub(t,e,r,i,n,a,s,l,c,f,p,v,y,_,T,S,C,O,I,D,q){let te=D?Yo(D[1])?D[1].error:D[1].data:void 0,ce=n.createURL(a.location),F=n.createURL(c),K;if(p&&a.errors){let xe=Object.keys(a.errors)[0];K=s.findIndex(oe=>oe.route.id===xe)}else if(D&&Yo(D[1])){let xe=D[0];K=s.findIndex(oe=>oe.route.id===xe)-1}let B=D?D[1].statusCode:void 0,X=B&&B>=400,j={currentUrl:ce,currentParams:a.matches[0]?.params||{},nextUrl:F,nextParams:s[0].params,...l,actionResult:te,actionStatus:B},W=fp(s),ue=s.map((xe,oe)=>{let{route:be}=xe,_e=null;if(K!=null&&oe>K?_e=!1:be.lazy?_e=!0:N_(be)?p?_e=G2(be,a.loaderData,a.errors):wL(a.loaderData,a.matches[oe],xe)&&(_e=!0):_e=!1,_e!==null)return H2(r,i,t,W,xe,f,e,_e);let Le=!1;typeof q=="boolean"?Le=q:X?Le=!1:(v||ce.pathname+ce.search===F.pathname+F.search||ce.search!==F.search||bL(a.matches[oe],xe))&&(Le=!0);let Ne={...j,defaultShouldRevalidate:Le},Q=b0(xe,Ne);return H2(r,i,t,W,xe,f,e,Q,Ne,q)}),de=[];return T.forEach((xe,oe)=>{if(p||!s.some(H=>H.route.id===xe.routeId)||_.has(oe))return;let be=a.fetchers.get(oe),_e=be&&be.state!=="idle"&&be.data===void 0,Le=Vc(C,xe.path,O);if(!Le){if(I&&_e)return;de.push({key:oe,routeId:xe.routeId,path:xe.path,matches:null,match:null,request:null,controller:null});return}if(S.has(oe))return;let Ne=Jm(Le,xe.path),Q=new AbortController,P=Uf(n,xe.path,Q.signal),G=null;if(y.has(oe))y.delete(oe),G=nd(r,i,P,Le,Ne,f,e);else if(_e)v&&(G=nd(r,i,P,Le,Ne,f,e));else{let H;typeof q=="boolean"?H=q:X?H=!1:H=v;let Z={...j,defaultShouldRevalidate:H};b0(Ne,Z)&&(G=nd(r,i,P,Le,Ne,f,e,Z))}G&&de.push({key:oe,routeId:xe.routeId,path:xe.path,matches:G,match:Ne,request:P,controller:Q})}),{dsMatches:ue,revalidatingFetchers:de}}function N_(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function G2(t,e,r){if(t.lazy)return!0;if(!N_(t))return!1;let i=e!=null&&t.id in e,n=r!=null&&r[t.id]!==void 0;return!i&&n?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!n}function wL(t,e,r){let i=!e||r.route.id!==e.route.id,n=!t.hasOwnProperty(r.route.id);return i||n}function bL(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function b0(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function cb(t,e,r,i,n,a){let s;if(t){let f=i[t];Yr(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),s=f.children}else s=r;let l=[],c=[];if(e.forEach(f=>{let p=s.find(v=>fS(f,v));p?c.push({existingRoute:p,newRoute:f}):l.push(f)}),l.length>0){let f=G0(l,n,[t||"_","patch",String(s?.length||"0")],i);s.push(...f)}if(a&&c.length>0)for(let f=0;f<c.length;f++){let{existingRoute:p,newRoute:v}=c[f],y=p,[_]=G0([v],n,[],{},!0);Object.assign(y,{element:_.element?_.element:y.element,errorElement:_.errorElement?_.errorElement:y.errorElement,hydrateFallbackElement:_.hydrateFallbackElement?_.hydrateFallbackElement:y.hydrateFallbackElement})}}function fS(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,i)=>e.children?.some(n=>fS(r,n))):!1}var hb=new WeakMap,dS=({key:t,route:e,manifest:r,mapRouteProperties:i})=>{let n=r[e.id];if(Yr(n,"No route found in manifest"),!n.lazy||typeof n.lazy!="object")return;let a=n.lazy[t];if(!a)return;let s=hb.get(n);s||(s={},hb.set(n,s));let l=s[t];if(l)return l;let c=(async()=>{let f=BA(t),v=n[t]!==void 0&&t!=="hasErrorBoundary";if(f)Ki(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),s[t]=Promise.resolve();else if(v)Ki(!1,`Route "${n.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let y=await a();y!=null&&(Object.assign(n,{[t]:y}),Object.assign(n,i(n)))}typeof n.lazy=="object"&&(n.lazy[t]=void 0,Object.values(n.lazy).every(y=>y===void 0)&&(n.lazy=void 0))})();return s[t]=c,c},fb=new WeakMap;function SL(t,e,r,i,n){let a=r[t.id];if(Yr(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=fb.get(a);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let v=(async()=>{Yr(typeof t.lazy=="function","No lazy route function found");let y=await t.lazy(),_={};for(let T in y){let S=y[T];if(S===void 0)continue;let C=zA(T),I=a[T]!==void 0&&T!=="hasErrorBoundary";C?Ki(!C,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):I?Ki(!I,`Route "${a.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):_[T]=S}Object.assign(a,_),Object.assign(a,{...i(a),lazy:void 0})})();return fb.set(a,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let s=Object.keys(t.lazy),l=[],c;for(let p of s){if(n&&n.includes(p))continue;let v=dS({key:p,route:t,manifest:r,mapRouteProperties:i});v&&(l.push(v),p===e&&(c=v))}let f=l.length>0?Promise.all(l).then(()=>{}):void 0;return f?.catch(()=>{}),c?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:c}}async function db(t){let e=t.matches.filter(n=>n.shouldLoad),r={};return(await Promise.all(e.map(n=>n.resolve()))).forEach((n,a)=>{r[e[a].route.id]=n}),r}async function EL(t){return t.matches.some(e=>e.route.middleware)?pS(t,()=>db(t)):db(t)}function pS(t,e){return TL(t,e,i=>{if(FL(i))throw i;return i},RL,r);function r(i,n,a){if(a)return Promise.resolve(Object.assign(a.value,{[n]:{type:"error",result:i}}));{let{matches:s}=t,l=Math.min(Math.max(s.findIndex(f=>f.route.id===n),0),Math.max(s.findIndex(f=>f.shouldCallHandler()),0)),c=$c(s,s[l].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:i}})}}}async function TL(t,e,r,i,n){let{matches:a,request:s,params:l,context:c,unstable_pattern:f}=t,p=a.flatMap(y=>y.route.middleware?y.route.middleware.map(_=>[y.route.id,_]):[]);return await mS({request:s,params:l,context:c,unstable_pattern:f},p,e,r,i,n)}async function mS(t,e,r,i,n,a,s=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let c=e[s];if(!c)return await r();let[f,p]=c,v,y=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");try{return v={value:await mS(t,e,r,i,n,a,s+1)},v.value}catch(_){return v={value:await a(_,f,v)},v.value}};try{let _=await p(t,y),T=_!=null?i(_):void 0;return n(T)?T:v?T??v.value:(v={value:await y()},v.value)}catch(_){return await a(_,f,v)}}function gS(t,e,r,i,n){let a=dS({key:"middleware",route:i.route,manifest:e,mapRouteProperties:t}),s=SL(i.route,Is(r.method)?"action":"loader",e,t,n);return{middleware:a,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function H2(t,e,r,i,n,a,s,l,c=null,f){let p=!1,v=gS(t,e,r,n,a);return{...n,_lazyPromises:v,shouldLoad:l,shouldRevalidateArgs:c,shouldCallHandler(y){return p=!0,c?typeof f=="boolean"?b0(n,{...c,defaultShouldRevalidate:f}):typeof y=="boolean"?b0(n,{...c,defaultShouldRevalidate:y}):b0(n,c):l},resolve(y){let{lazy:_,loader:T,middleware:S}=n.route,C=p||l||y&&!Is(r.method)&&(_||T),O=S&&S.length>0&&!T&&!_;return C&&(Is(r.method)||!O)?LL({request:r,unstable_pattern:i,match:n,lazyHandlerPromise:v?.handler,lazyRoutePromise:v?.route,handlerOverride:y,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function nd(t,e,r,i,n,a,s,l=null){return i.map(c=>c.route.id!==n.route.id?{...c,shouldLoad:!1,shouldRevalidateArgs:l,shouldCallHandler:()=>!1,_lazyPromises:gS(t,e,r,c,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:H2(t,e,r,fp(i),c,a,s,!0,l))}async function AL(t,e,r,i,n,a){r.some(f=>f._lazyPromises?.middleware)&&await Promise.all(r.map(f=>f._lazyPromises?.middleware));let s={request:e,unstable_pattern:fp(r),params:r[0].params,context:n,matches:r},c=await t({...s,fetcherKey:i,runClientMiddleware:f=>{let p=s;return pS(p,()=>f({...p,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return c}async function LL({request:t,unstable_pattern:e,match:r,lazyHandlerPromise:i,lazyRoutePromise:n,handlerOverride:a,scopedContext:s}){let l,c,f=Is(t.method),p=f?"action":"loader",v=y=>{let _,T=new Promise((O,I)=>_=I);c=()=>_(),t.signal.addEventListener("abort",c);let S=O=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${r.route.id}]`)):y({request:t,unstable_pattern:e,params:r.params,context:s},...O!==void 0?[O]:[]),C=(async()=>{try{return{type:"data",result:await(a?a(I=>S(I)):S())}}catch(O){return{type:"error",result:O}}})();return Promise.race([C,T])};try{let y=f?r.route.action:r.route.loader;if(i||n)if(y){let _,[T]=await Promise.all([v(y).catch(S=>{_=S}),i,n]);if(_!==void 0)throw _;l=T}else{await i;let _=f?r.route.action:r.route.loader;if(_)[l]=await Promise.all([v(_),n]);else if(p==="action"){let T=new URL(t.url),S=T.pathname+T.search;throw vl(405,{method:t.method,pathname:S,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(y)l=await v(y);else{let _=new URL(t.url),T=_.pathname+_.search;throw vl(404,{pathname:T})}}catch(y){return{type:"error",result:y}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function NL(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function CL(t){let{result:e,type:r}=t;if(C_(e)){let i;try{i=await NL(e)}catch(n){return{type:"error",error:n}}return r==="error"?{type:"error",error:new hp(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return r==="error"?yb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:OL(e),statusCode:H0(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:H0(e)?e.status:void 0}:yb(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function ML(t,e,r,i,n){let a=t.headers.get("Location");if(Yr(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!L_(a)){let s=i.slice(0,i.findIndex(l=>l.route.id===r)+1);a=z2(new URL(e.url),s,n,a),t.headers.set("Location",a)}return t}function pb(t,e,r,i){let n=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(L_(t)){let a=t,s=a.startsWith("//")?new URL(e.protocol+a):new URL(a);if(n.includes(s.protocol))throw new Error("Invalid redirect location");let l=wl(s.pathname,r)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}try{let a=i.createURL(t);if(n.includes(a.protocol))throw new Error("Invalid redirect location")}catch{}return t}function Uf(t,e,r,i){let n=t.createURL(vS(e)).toString(),a={signal:r};if(i&&Is(i.formMethod)){let{formMethod:s,formEncType:l}=i;a.method=s.toUpperCase(),l==="application/json"?(a.headers=new Headers({"Content-Type":l}),a.body=JSON.stringify(i.json)):l==="text/plain"?a.body=i.text:l==="application/x-www-form-urlencoded"&&i.formData?a.body=q2(i.formData):a.body=i.formData}return new Request(n,a)}function q2(t){let e=new URLSearchParams;for(let[r,i]of t.entries())e.append(r,typeof i=="string"?i:i.name);return e}function mb(t){let e=new FormData;for(let[r,i]of t.entries())e.append(r,i);return e}function kL(t,e,r,i=!1,n=!1){let a={},s=null,l,c=!1,f={},p=r&&Yo(r[1])?r[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let y=v.route.id,_=e[y];if(Yr(!kh(_),"Cannot handle redirect results in processLoaderData"),Yo(_)){let T=_.error;if(p!==void 0&&(T=p,p=void 0),s=s||{},n)s[y]=T;else{let S=$c(t,y);s[S.route.id]==null&&(s[S.route.id]=T)}i||(a[y]=hS),c||(c=!0,l=H0(_.error)?_.error.status:500),_.headers&&(f[y]=_.headers)}else a[y]=_.data,_.statusCode&&_.statusCode!==200&&!c&&(l=_.statusCode),_.headers&&(f[y]=_.headers)}),p!==void 0&&r&&(s={[r[0]]:p},r[2]&&(a[r[2]]=void 0)),{loaderData:a,errors:s,statusCode:l||200,loaderHeaders:f}}function gb(t,e,r,i,n,a){let{loaderData:s,errors:l}=kL(e,r,i);return n.filter(c=>!c.matches||c.matches.some(f=>f.shouldLoad)).forEach(c=>{let{key:f,match:p,controller:v}=c;if(v&&v.signal.aborted)return;let y=a[f];if(Yr(y,"Did not find corresponding fetcher result"),Yo(y)){let _=$c(t.matches,p?.route.id);l&&l[_.route.id]||(l={...l,[_.route.id]:y.error}),t.fetchers.delete(f)}else if(kh(y))Yr(!1,"Unhandled fetcher revalidation redirect");else{let _=ic(y.data);t.fetchers.set(f,_)}}),{loaderData:s,errors:l}}function vb(t,e,r,i){let n=Object.entries(e).filter(([,a])=>a!==hS).reduce((a,[s,l])=>(a[s]=l,a),{});for(let a of r){let s=a.route.id;if(!e.hasOwnProperty(s)&&t.hasOwnProperty(s)&&a.route.loader&&(n[s]=t[s]),i&&i.hasOwnProperty(s))break}return n}function _b(t){return t?Yo(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function $c(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function _m(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vl(t,{pathname:e,routeId:r,method:i,type:n,message:a}={}){let s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&e&&r?l=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:n==="invalid-body"&&(l="Unable to encode submission body")):t===403?(s="Forbidden",l=`Route "${r}" does not match URL "${e}"`):t===404?(s="Not Found",l=`No route matches URL "${e}"`):t===405&&(s="Method Not Allowed",i&&e&&r?l=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:i&&(l=`Invalid request method "${i.toUpperCase()}"`)),new hp(t||500,s,new Error(l),!0)}function ym(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[i,n]=e[r];if(kh(n))return{key:i,result:n}}}function vS(t){let e=typeof t=="string"?dc(t):t;return Pu({...e,hash:""})}function PL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function OL(t){return new hp(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function RL(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,r])=>typeof e=="string"&&DL(r))}function DL(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function jL(t){return C_(t.result)&&uS.has(t.result.status)}function Yo(t){return t.type==="error"}function kh(t){return(t&&t.type)==="redirect"}function yb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function C_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function IL(t){return uS.has(t)}function FL(t){return C_(t)&&IL(t.status)&&t.headers.has("Location")}function BL(t){return mL.has(t.toUpperCase())}function Is(t){return dL.has(t.toUpperCase())}function M_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Jm(t,e){let r=typeof e=="string"?dc(e).search:e.search;if(t[t.length-1].route.index&&M_(r||""))return t[t.length-1];let i=iS(t);return i[i.length-1]}function xb(t){let{formMethod:e,formAction:r,formEncType:i,text:n,formData:a,json:s}=t;if(!(!e||!r||!i)){if(n!=null)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:void 0,text:n};if(a!=null)return{formMethod:e,formAction:r,formEncType:i,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:s,text:void 0}}}function jv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function UL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function s0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function zL(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ic(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function GL(t,e){try{let r=t.sessionStorage.getItem(cS);if(r){let i=JSON.parse(r);for(let[n,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(n,new Set(a||[]))}}catch{}}function HL(t,e){if(e.size>0){let r={};for(let[i,n]of e)r[i]=[...n];try{t.sessionStorage.setItem(cS,JSON.stringify(r))}catch(i){Ki(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function wb(){let t,e,r=new Promise((i,n)=>{t=async a=>{i(a);try{await r}catch{}},e=async a=>{n(a);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var Hh=ve.createContext(null);Hh.displayName="DataRouter";var dp=ve.createContext(null);dp.displayName="DataRouterState";var _S=ve.createContext(!1);function qL(){return ve.useContext(_S)}var k_=ve.createContext({isTransitioning:!1});k_.displayName="ViewTransition";var yS=ve.createContext(new Map);yS.displayName="Fetchers";var VL=ve.createContext(null);VL.displayName="Await";var tl=ve.createContext(null);tl.displayName="Navigation";var Y1=ve.createContext(null);Y1.displayName="Location";var Sl=ve.createContext({outlet:null,matches:[],isDataRoute:!1});Sl.displayName="Route";var P_=ve.createContext(null);P_.displayName="RouteError";var xS="REACT_ROUTER_ERROR",$L="REDIRECT",WL="ROUTE_ERROR_RESPONSE";function ZL(t){if(t.startsWith(`${xS}:${$L}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function YL(t){if(t.startsWith(`${xS}:${WL}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new hp(e.status,e.statusText,e.data)}catch{}}function KL(t,{relative:e}={}){Yr(xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=ve.useContext(tl),{hash:n,pathname:a,search:s}=pp(t,{relative:e}),l=a;return r!=="/"&&(l=a==="/"?r:ku([r,a])),i.createHref({pathname:l,search:s,hash:n})}function xd(){return ve.useContext(Y1)!=null}function pc(){return Yr(xd(),"useLocation() may be used only in the context of a <Router> component."),ve.useContext(Y1).location}var wS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bS(t){ve.useContext(tl).static||ve.useLayoutEffect(t)}function sh(){let{isDataRoute:t}=ve.useContext(Sl);return t?fN():XL()}function XL(){Yr(xd(),"useNavigate() may be used only in the context of a <Router> component.");let t=ve.useContext(Hh),{basename:e,navigator:r}=ve.useContext(tl),{matches:i}=ve.useContext(Sl),{pathname:n}=pc(),a=JSON.stringify(W1(i)),s=ve.useRef(!1);return bS(()=>{s.current=!0}),ve.useCallback((c,f={})=>{if(Ki(s.current,wS),!s.current)return;if(typeof c=="number"){r.go(c);return}let p=Z1(c,JSON.parse(a),n,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ku([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,a,n,t])}var JL=ve.createContext(null);function QL(t){let e=ve.useContext(Sl).outlet;return ve.useMemo(()=>e&&ve.createElement(JL.Provider,{value:t},e),[e,t])}function eN(){let{matches:t}=ve.useContext(Sl),e=t[t.length-1];return e?e.params:{}}function pp(t,{relative:e}={}){let{matches:r}=ve.useContext(Sl),{pathname:i}=pc(),n=JSON.stringify(W1(r));return ve.useMemo(()=>Z1(t,JSON.parse(n),i,e==="path"),[t,n,i,e])}function tN(t,e,r,i,n){Yr(xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=ve.useContext(tl),{matches:s}=ve.useContext(Sl),l=s[s.length-1],c=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",v=l&&l.route;{let I=v&&v.path||"";ES(f,!v||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=pc(),_;_=y;let T=_.pathname||"/",S=T;if(p!=="/"){let I=p.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=Vc(t,{pathname:S});return Ki(v||C!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ki(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),sN(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},c,I.params),pathname:ku([p,a.encodeLocation?a.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:ku([p,a.encodeLocation?a.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),s,r,i,n)}function rN(){let t=hN(),e=H0(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=ve.createElement(ve.Fragment,null,ve.createElement("p",null," Hey developer "),ve.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ve.createElement("code",{style:a},"ErrorBoundary")," or"," ",ve.createElement("code",{style:a},"errorElement")," prop on your route.")),ve.createElement(ve.Fragment,null,ve.createElement("h2",null,"Unexpected Application Error!"),ve.createElement("h3",{style:{fontStyle:"italic"}},e),r?ve.createElement("pre",{style:n},r):null,s)}var nN=ve.createElement(rN,null),SS=class extends ve.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=YL(t.digest);r&&(t=r)}let e=t!==void 0?ve.createElement(Sl.Provider,{value:this.props.routeContext},ve.createElement(P_.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?ve.createElement(iN,{error:t},e):e}};SS.contextType=_S;var Iv=new WeakMap;function iN({children:t,error:e}){let{basename:r}=ve.useContext(tl);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=ZL(e.digest);if(i){let n=Iv.get(e);if(n)throw n;let a=sS(i.location,r);if(aS&&!Iv.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw Iv.set(e,s),s}return ve.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function aN({routeContext:t,match:e,children:r}){let i=ve.useContext(Hh);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),ve.createElement(Sl.Provider,{value:t},r)}function sN(t,e=[],r=null,i=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=r?.errors;if(s!=null){let p=a.findIndex(v=>v.route.id&&s?.[v.route.id]!==void 0);Yr(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let l=!1,c=-1;if(r)for(let p=0;p<a.length;p++){let v=a[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(c=p),v.route.id){let{loaderData:y,errors:_}=r,T=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||T){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=r&&i?(p,v)=>{i(p,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:fp(r.matches),errorInfo:v})}:void 0;return a.reduceRight((p,v,y)=>{let _,T=!1,S=null,C=null;r&&(_=s&&v.route.id?s[v.route.id]:void 0,S=v.route.errorElement||nN,l&&(c<0&&y===0?(ES("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):c===y&&(T=!0,C=v.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,y+1)),I=()=>{let D;return _?D=S:T?D=C:v.route.Component?D=ve.createElement(v.route.Component,null):v.route.element?D=v.route.element:D=p,ve.createElement(aN,{match:v,routeContext:{outlet:p,matches:O,isDataRoute:r!=null},children:D})};return r&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?ve.createElement(SS,{location:r.location,revalidation:r.revalidation,component:S,error:_,children:I(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:f}):I()},null)}function O_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oN(t){let e=ve.useContext(Hh);return Yr(e,O_(t)),e}function lN(t){let e=ve.useContext(dp);return Yr(e,O_(t)),e}function uN(t){let e=ve.useContext(Sl);return Yr(e,O_(t)),e}function R_(t){let e=uN(t),r=e.matches[e.matches.length-1];return Yr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function cN(){return R_("useRouteId")}function hN(){let t=ve.useContext(P_),e=lN("useRouteError"),r=R_("useRouteError");return t!==void 0?t:e.errors?.[r]}function fN(){let{router:t}=oN("useNavigate"),e=R_("useNavigate"),r=ve.useRef(!1);return bS(()=>{r.current=!0}),ve.useCallback(async(n,a={})=>{Ki(r.current,wS),r.current&&(typeof n=="number"?await t.navigate(n):await t.navigate(n,{fromRouteId:e,...a}))},[t,e])}var bb={};function ES(t,e,r){!e&&!bb[t]&&(bb[t]=!0,Ki(!1,r))}var Sb={};function Eb(t,e){!t&&!Sb[e]&&(Sb[e]=!0,console.warn(e))}var dN="useOptimistic",Tb=TA[dN],pN=()=>{};function mN(t){return Tb?Tb(t):[t,pN]}function gN(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Ki(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:ve.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Ki(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:ve.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Ki(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:ve.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var vN=["HydrateFallback","hydrateFallbackElement"],_N=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",r(i))}})}};function yN({router:t,flushSync:e,onError:r,unstable_useTransitions:i}){i=qL()||i;let[a,s]=ve.useState(t.state),[l,c]=mN(a),[f,p]=ve.useState(),[v,y]=ve.useState({isTransitioning:!1}),[_,T]=ve.useState(),[S,C]=ve.useState(),[O,I]=ve.useState(),D=ve.useRef(new Map),q=ve.useCallback((K,{deletedFetchers:B,newErrors:X,flushSync:j,viewTransitionOpts:W})=>{X&&r&&Object.values(X).forEach(de=>r(de,{location:K.location,params:K.matches[0]?.params??{},unstable_pattern:fp(K.matches)})),K.fetchers.forEach((de,xe)=>{de.data!==void 0&&D.current.set(xe,de.data)}),B.forEach(de=>D.current.delete(de)),Eb(j===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ue=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Eb(W==null||ue,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!W||!ue){e&&j?e(()=>s(K)):i===!1?s(K):ve.startTransition(()=>{i===!0&&c(de=>Ab(de,K)),s(K)});return}if(e&&j){e(()=>{S&&(_?.resolve(),S.skipTransition()),y({isTransitioning:!0,flushSync:!0,currentLocation:W.currentLocation,nextLocation:W.nextLocation})});let de=t.window.document.startViewTransition(()=>{e(()=>s(K))});de.finished.finally(()=>{e(()=>{T(void 0),C(void 0),p(void 0),y({isTransitioning:!1})})}),e(()=>C(de));return}S?(_?.resolve(),S.skipTransition(),I({state:K,currentLocation:W.currentLocation,nextLocation:W.nextLocation})):(p(K),y({isTransitioning:!0,flushSync:!1,currentLocation:W.currentLocation,nextLocation:W.nextLocation}))},[t.window,e,S,_,i,c,r]);ve.useLayoutEffect(()=>t.subscribe(q),[t,q]),ve.useEffect(()=>{v.isTransitioning&&!v.flushSync&&T(new _N)},[v]),ve.useEffect(()=>{if(_&&f&&t.window){let K=f,B=_.promise,X=t.window.document.startViewTransition(async()=>{i===!1?s(K):ve.startTransition(()=>{i===!0&&c(j=>Ab(j,K)),s(K)}),await B});X.finished.finally(()=>{T(void 0),C(void 0),p(void 0),y({isTransitioning:!1})}),C(X)}},[f,_,t.window,i,c]),ve.useEffect(()=>{_&&f&&l.location.key===f.location.key&&_.resolve()},[_,S,l.location,f]),ve.useEffect(()=>{!v.isTransitioning&&O&&(p(O.state),y({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}),I(void 0))},[v.isTransitioning,O]);let te=ve.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:K=>t.navigate(K),push:(K,B,X)=>t.navigate(K,{state:B,preventScrollReset:X?.preventScrollReset}),replace:(K,B,X)=>t.navigate(K,{replace:!0,state:B,preventScrollReset:X?.preventScrollReset})}),[t]),ce=t.basename||"/",F=ve.useMemo(()=>({router:t,navigator:te,static:!1,basename:ce,onError:r}),[t,te,ce,r]);return ve.createElement(ve.Fragment,null,ve.createElement(Hh.Provider,{value:F},ve.createElement(dp.Provider,{value:l},ve.createElement(yS.Provider,{value:D.current},ve.createElement(k_.Provider,{value:v},ve.createElement(bN,{basename:ce,location:l.location,navigationType:l.historyAction,navigator:te,unstable_useTransitions:i},ve.createElement(xN,{routes:t.routes,future:t.future,state:l,onError:r})))))),null)}function Ab(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var xN=ve.memo(wN);function wN({routes:t,future:e,state:r,onError:i}){return tN(t,void 0,r,i,e)}function D_({to:t,replace:e,state:r,relative:i}){Yr(xd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=ve.useContext(tl);Ki(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=ve.useContext(Sl),{pathname:s}=pc(),l=sh(),c=Z1(t,W1(a),s,i==="path"),f=JSON.stringify(c);return ve.useEffect(()=>{l(JSON.parse(f),{replace:e,state:r,relative:i})},[l,f,i,e,r]),null}function TS(t){return QL(t.context)}function bN({basename:t="/",children:e=null,location:r,navigationType:i="POP",navigator:n,static:a=!1,unstable_useTransitions:s}){Yr(!xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=ve.useMemo(()=>({basename:l,navigator:n,static:a,unstable_useTransitions:s,future:{}}),[l,n,a,s]);typeof r=="string"&&(r=dc(r));let{pathname:f="/",search:p="",hash:v="",state:y=null,key:_="default"}=r,T=ve.useMemo(()=>{let S=wl(f,l);return S==null?null:{location:{pathname:S,search:p,hash:v,state:y,key:_},navigationType:i}},[l,f,p,v,y,_,i]);return Ki(T!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:ve.createElement(tl.Provider,{value:c},ve.createElement(Y1.Provider,{children:e,value:T}))}var Qm="get",e1="application/x-www-form-urlencoded";function K1(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function SN(t){return K1(t)&&t.tagName.toLowerCase()==="button"}function EN(t){return K1(t)&&t.tagName.toLowerCase()==="form"}function TN(t){return K1(t)&&t.tagName.toLowerCase()==="input"}function AN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LN(t,e){return t.button===0&&(!e||e==="_self")&&!AN(t)}var xm=null;function NN(){if(xm===null)try{new FormData(document.createElement("form"),0),xm=!1}catch{xm=!0}return xm}var CN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fv(t){return t!=null&&!CN.has(t)?(Ki(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${e1}"`),null):t}function MN(t,e){let r,i,n,a,s;if(EN(t)){let l=t.getAttribute("action");i=l?wl(l,e):null,r=t.getAttribute("method")||Qm,n=Fv(t.getAttribute("enctype"))||e1,a=new FormData(t)}else if(SN(t)||TN(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(i=c?wl(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Qm,n=Fv(t.getAttribute("formenctype"))||Fv(l.getAttribute("enctype"))||e1,a=new FormData(l,t),!NN()){let{name:f,type:p,value:v}=t;if(p==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,v)}}else{if(K1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Qm,i=null,n=e1,s=t}return a&&n==="text/plain"&&(s=a,a=void 0),{action:i,method:r.toLowerCase(),encType:n,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function j_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kN(t,e,r,i){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?n.pathname.endsWith("/")?n.pathname=`${n.pathname}_.${i}`:n.pathname=`${n.pathname}.${i}`:n.pathname==="/"?n.pathname=`_root.${i}`:e&&wl(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${i}`,n}async function PN(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ON(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RN(t,e,r){let i=await Promise.all(t.map(async n=>{let a=e.routes[n.route.id];if(a){let s=await PN(a,r);return s.links?s.links():[]}return[]}));return FN(i.flat(1).filter(ON).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function Lb(t,e,r,i,n,a){let s=(c,f)=>r[f]?c.route.id!==r[f].route.id:!0,l=(c,f)=>r[f].pathname!==c.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,f)=>s(c,f)||l(c,f)):a==="data"?e.filter((c,f)=>{let p=i.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(s(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function DN(t,e,{includeHydrateFallback:r}={}){return jN(t.map(i=>{let n=e.routes[i.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a}).flat(1))}function jN(t){return[...new Set(t)]}function IN(t){let e={},r=Object.keys(t).sort();for(let i of r)e[i]=t[i];return e}function FN(t,e){let r=new Set;return new Set(e),t.reduce((i,n)=>{let a=JSON.stringify(IN(n));return r.has(a)||(r.add(a),i.push({key:a,link:n})),i},[])}function AS(){let t=ve.useContext(Hh);return j_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BN(){let t=ve.useContext(dp);return j_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var I_=ve.createContext(void 0);I_.displayName="FrameworkContext";function LS(){let t=ve.useContext(I_);return j_(t,"You must render this element inside a <HydratedRouter> element"),t}function UN(t,e){let r=ve.useContext(I_),[i,n]=ve.useState(!1),[a,s]=ve.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,y=ve.useRef(null);ve.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let S=O=>{O.forEach(I=>{s(I.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[t]),ve.useEffect(()=>{if(i){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[i]);let _=()=>{n(!0)},T=()=>{n(!1),s(!1)};return r?t!=="intent"?[a,y,{}]:[a,y,{onFocus:o0(l,_),onBlur:o0(c,T),onMouseEnter:o0(f,_),onMouseLeave:o0(p,T),onTouchStart:o0(v,_)}]:[!1,y,{}]}function o0(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function zN({page:t,...e}){let{router:r}=AS(),i=ve.useMemo(()=>Vc(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?ve.createElement(HN,{page:t,matches:i,...e}):null}function GN(t){let{manifest:e,routeModules:r}=LS(),[i,n]=ve.useState([]);return ve.useEffect(()=>{let a=!1;return RN(t,e,r).then(s=>{a||n(s)}),()=>{a=!0}},[t,e,r]),i}function HN({page:t,matches:e,...r}){let i=pc(),{future:n,manifest:a,routeModules:s}=LS(),{basename:l}=AS(),{loaderData:c,matches:f}=BN(),p=ve.useMemo(()=>Lb(t,e,f,a,i,"data"),[t,e,f,a,i]),v=ve.useMemo(()=>Lb(t,e,f,a,i,"assets"),[t,e,f,a,i]),y=ve.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,C=!1;if(e.forEach(I=>{let D=a.routes[I.route.id];!D||!D.hasLoader||(!p.some(q=>q.route.id===I.route.id)&&I.route.id in c&&s[I.route.id]?.shouldRevalidate||D.hasClientLoader?C=!0:S.add(I.route.id))}),S.size===0)return[];let O=kN(t,l,n.unstable_trailingSlashAwareDataRequests,"data");return C&&S.size>0&&O.searchParams.set("_routes",e.filter(I=>S.has(I.route.id)).map(I=>I.route.id).join(",")),[O.pathname+O.search]},[l,n.unstable_trailingSlashAwareDataRequests,c,i,a,p,e,t,s]),_=ve.useMemo(()=>DN(v,a),[v,a]),T=GN(v);return ve.createElement(ve.Fragment,null,y.map(S=>ve.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),_.map(S=>ve.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),T.map(({key:S,link:C})=>ve.createElement("link",{key:S,nonce:r.nonce,...C,crossOrigin:C.crossOrigin??r.crossOrigin})))}function qN(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var VN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VN&&(window.__reactRouterVersion="7.13.0")}catch{}function $N(t,e){return yL({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:DA({window:e?.window}),hydrationData:WN(),routes:t,mapRouteProperties:gN,hydrationRouteProperties:vN,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function WN(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:ZN(t.errors)}),t}function ZN(t){if(!t)return null;let e=Object.entries(t),r={};for(let[i,n]of e)if(n&&n.__type==="RouteErrorResponse")r[i]=new hp(n.status,n.statusText,n.data,n.internal===!0);else if(n&&n.__type==="Error"){if(n.__subType){let a=window[n.__subType];if(typeof a=="function")try{let s=new a(n.message);s.stack="",r[i]=s}catch{}}if(r[i]==null){let a=new Error(n.message);a.stack="",r[i]=a}}else r[i]=n;return r}var NS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F_=ve.forwardRef(function({onClick:e,discover:r="render",prefetch:i="none",relative:n,reloadDocument:a,replace:s,state:l,target:c,to:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:y,..._},T){let{basename:S,unstable_useTransitions:C}=ve.useContext(tl),O=typeof f=="string"&&NS.test(f),I=sS(f,S);f=I.to;let D=KL(f,{relative:n}),[q,te,ce]=UN(i,_),F=JN(f,{replace:s,state:l,target:c,preventScrollReset:p,relative:n,viewTransition:v,unstable_defaultShouldRevalidate:y,unstable_useTransitions:C});function K(X){e&&e(X),X.defaultPrevented||F(X)}let B=ve.createElement("a",{..._,...ce,href:I.absoluteURL||D,onClick:I.isExternal||a?e:K,ref:qN(T,te),target:c,"data-discover":!O&&r==="render"?"true":void 0});return q&&!O?ve.createElement(ve.Fragment,null,B,ve.createElement(zN,{page:D})):B});F_.displayName="Link";var YN=ve.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:i="",end:n=!1,style:a,to:s,viewTransition:l,children:c,...f},p){let v=pp(s,{relative:f.relative}),y=pc(),_=ve.useContext(dp),{navigator:T,basename:S}=ve.useContext(tl),C=_!=null&&nC(v)&&l===!0,O=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,I=y.pathname,D=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(I=I.toLowerCase(),D=D?D.toLowerCase():null,O=O.toLowerCase()),D&&S&&(D=wl(D,S)||D);const q=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let te=I===O||!n&&I.startsWith(O)&&I.charAt(q)==="/",ce=D!=null&&(D===O||!n&&D.startsWith(O)&&D.charAt(O.length)==="/"),F={isActive:te,isPending:ce,isTransitioning:C},K=te?e:void 0,B;typeof i=="function"?B=i(F):B=[i,te?"active":null,ce?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let X=typeof a=="function"?a(F):a;return ve.createElement(F_,{...f,"aria-current":K,className:B,ref:p,style:X,to:s,viewTransition:l},typeof c=="function"?c(F):c)});YN.displayName="NavLink";var KN=ve.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:i,replace:n,state:a,method:s=Qm,action:l,onSubmit:c,relative:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:y,..._},T)=>{let{unstable_useTransitions:S}=ve.useContext(tl),C=tC(),O=rC(l,{relative:f}),I=s.toLowerCase()==="get"?"get":"post",D=typeof l=="string"&&NS.test(l),q=te=>{if(c&&c(te),te.defaultPrevented)return;te.preventDefault();let ce=te.nativeEvent.submitter,F=ce?.getAttribute("formmethod")||s,K=()=>C(ce||te.currentTarget,{fetcherKey:e,method:F,navigate:r,replace:n,state:a,relative:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:y});S&&r!==!1?ve.startTransition(()=>K()):K()};return ve.createElement("form",{ref:T,method:I,action:O,onSubmit:i?c:q,..._,"data-discover":!D&&t==="render"?"true":void 0})});KN.displayName="Form";function XN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CS(t){let e=ve.useContext(Hh);return Yr(e,XN(t)),e}function JN(t,{target:e,replace:r,state:i,preventScrollReset:n,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let f=sh(),p=pc(),v=pp(t,{relative:a});return ve.useCallback(y=>{if(LN(y,e)){y.preventDefault();let _=r!==void 0?r:Pu(p)===Pu(v),T=()=>f(t,{replace:_,state:i,preventScrollReset:n,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l});c?ve.startTransition(()=>T()):T()}},[p,f,v,r,i,e,t,n,a,s,l,c])}var QN=0,eC=()=>`__${String(++QN)}__`;function tC(){let{router:t}=CS("useSubmit"),{basename:e}=ve.useContext(tl),r=cN(),i=t.fetch,n=t.navigate;return ve.useCallback(async(a,s={})=>{let{action:l,method:c,encType:f,formData:p,body:v}=MN(a,e);if(s.navigate===!1){let y=s.fetcherKey||eC();await i(y,r,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await n(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,n,e,r])}function rC(t,{relative:e}={}){let{basename:r}=ve.useContext(tl),i=ve.useContext(Sl);Yr(i,"useFormAction must be used inside a RouteContext");let[n]=i.matches.slice(-1),a={...pp(t||".",{relative:e})},s=pc();if(t==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(p=>p==="")){l.delete("index"),c.filter(v=>v).forEach(v=>l.append("index",v));let p=l.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&n.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:ku([r,a.pathname])),Pu(a)}function nC(t,{relative:e}={}){let r=ve.useContext(k_);Yr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=CS("useViewTransitionState"),n=pp(t,{relative:e});if(!r.isTransitioning)return!1;let a=wl(r.currentLocation.pathname,i)||r.currentLocation.pathname,s=wl(r.nextLocation.pathname,i)||r.nextLocation.pathname;return h1(n.pathname,s)!=null||h1(n.pathname,a)!=null}var MS=J3();function iC(t){return ve.createElement(yN,{flushSync:MS.flushSync,...t})}function X1(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r}function aC(t,e,r,i){function n(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(p){try{f(i.next(p))}catch(v){s(v)}}function c(p){try{f(i.throw(p))}catch(v){s(v)}}function f(p){p.done?a(p.value):n(p.value).then(l,c)}f((i=i.apply(t,e||[])).next())})}const sC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class B_ extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class oC extends B_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nb extends B_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cb extends B_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var V2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(V2||(V2={}));class lC{constructor(e,{headers:r={},customFetch:i,region:n=V2.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=sC(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return aC(this,arguments,void 0,function*(r,i={}){var n;let a,s;try{const{headers:l,method:c,body:f,signal:p,timeout:v}=i;let y={},{region:_}=i;_||(_=this.region);const T=new URL(`${this.url}/${r}`);_&&_!=="any"&&(y["x-region"]=_,T.searchParams.set("forceFunctionRegion",_));let S;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(y["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(y["Content-Type"]="application/json",S=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?S=JSON.stringify(f):S=f;let C=p;v&&(s=new AbortController,a=setTimeout(()=>s.abort(),v),p?(C=s.signal,p.addEventListener("abort",()=>s.abort())):C=s.signal);const O=yield this.fetch(T.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),l),body:S,signal:C}).catch(te=>{throw new oC(te)}),I=O.headers.get("x-relay-error");if(I&&I==="true")throw new Nb(O);if(!O.ok)throw new Cb(O);let D=((n=O.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),q;return D==="application/json"?q=yield O.json():D==="application/octet-stream"||D==="application/pdf"?q=yield O.blob():D==="text/event-stream"?q=O:D==="multipart/form-data"?q=yield O.formData():q=yield O.text(),{data:q,error:null,response:O}}catch(l){return{data:null,error:l,response:l instanceof Cb||l instanceof Nb?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var uC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},cC=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let n=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,l=null,c=null,f=a.status,p=a.statusText;if(a.ok){var v,y;if(r.method!=="HEAD"){var _;const O=await a.text();O===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((_=r.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?l=O:l=JSON.parse(O))}const S=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),C=(y=a.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");S&&C&&C.length>1&&(c=parseInt(C[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,f=406,p="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var T;const S=await a.text();try{s=JSON.parse(S),Array.isArray(s)&&a.status===404&&(l=[],s=null,f=200,p="OK")}catch{a.status===404&&S===""?(f=204,p="No Content"):s={message:S}}if(s&&r.isMaybeSingle&&(!(s==null||(T=s.details)===null||T===void 0)&&T.includes("0 rows"))&&(s=null,f=200,p="OK"),s&&r.shouldThrowOnError)throw new uC(s)}return{error:s,data:l,count:c,status:f,statusText:p}});return this.shouldThrowOnError||(n=n.catch(a=>{var s;let l="";const c=a?.cause;if(c){var f,p,v,y;const T=(f=c?.message)!==null&&f!==void 0?f:"",S=(p=c?.code)!==null&&p!==void 0?p:"";l=`${(v=a?.name)!==null&&v!==void 0?v:"FetchError"}: ${a?.message}`,l+=`

Caused by: ${(y=c?.name)!==null&&y!==void 0?y:"Error"}: ${T}`,S&&(l+=` (${S})`),c?.stack&&(l+=`
${c.stack}`)}else{var _;l=(_=a?.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(s=a?.name)!==null&&s!==void 0?s:"FetchError"}: ${a?.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(t,e)}returns(){return this}overrideTypes(){return this}},hC=class extends cC{select(t){let e=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:n=i}={}){const a=n?`${n}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){const n=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:n=!1,format:a="text"}={}){var s;const l=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Mb=new RegExp("[,()]");var zf=class extends hC{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&Mb.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&Mb.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let n="";i==="plain"?n="pl":i==="phrase"?n="ph":i==="websearch"&&(n="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${n}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},fC=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:i}=e??{},n=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",s),i&&c.append("Prefer",`count=${i}`),new zf({method:n,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;const n="POST",{url:a,headers:s}=this.cloneRequestState();if(e&&s.append("Prefer",`count=${e}`),r||s.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(l.length>0){const c=[...new Set(l)].map(f=>`"${f}"`);a.searchParams.set("columns",c.join(","))}}return new zf({method:n,url:a,headers:s,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:n=!0}={}){var a;const s="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&l.searchParams.set("on_conflict",e),i&&c.append("Prefer",`count=${i}`),n||c.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(f.length>0){const p=[...new Set(f)].map(v=>`"${v}"`);l.searchParams.set("columns",p.join(","))}}return new zf({method:s,url:l,headers:c,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var r;const i="PATCH",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new zf({method:i,url:n,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:i,headers:n}=this.cloneRequestState();return t&&n.append("Prefer",`count=${t}`),new zf({method:r,url:i,headers:n,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},dC=class kS{constructor(e,{headers:r={},schema:i,fetch:n}={}){this.url=e,this.headers=new Headers(r),this.schemaName=i,this.fetch=n}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new fC(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new kS(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:i=!1,get:n=!1,count:a}={}){var s;let l;const c=new URL(`${this.url}/rpc/${e}`);let f;const p=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(p)),v=i&&Object.values(r).some(p);v?(l="POST",f=r):i||n?(l=i?"HEAD":"GET",Object.entries(r).filter(([_,T])=>T!==void 0).map(([_,T])=>[_,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([_,T])=>{c.searchParams.append(_,T)})):(l="POST",f=r);const y=new Headers(this.headers);return v?y.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&y.set("Prefer",`count=${a}`),new zf({method:l,url:c,headers:y,schema:this.schemaName,body:f,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class pC{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const i=r.versions;if(i&&i.node){const n=i.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const mC="2.93.1",gC=`realtime-js/${mC}`,vC="1.0.0",PS="2.0.0",kb=PS,$2=1e4,_C=1e3,yC=100;var qc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(qc||(qc={}));var Ia;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ia||(Ia={}));var $l;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($l||($l={}));var W2;(function(t){t.websocket="websocket"})(W2||(W2={}));var Ah;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ah||(Ah={}));class xC{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const n=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var r,i;const n=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},s=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,r,i){var n,a;const s=e.topic,l=(n=e.ref)!==null&&n!==void 0?n:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(p).length===0?"":JSON.stringify(p);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+f.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+y);let T=new DataView(_),S=0;T.setUint8(S++,this.KINDS.userBroadcastPush),T.setUint8(S++,c.length),T.setUint8(S++,l.length),T.setUint8(S++,s.length),T.setUint8(S++,f.length),T.setUint8(S++,v.length),T.setUint8(S++,r),Array.from(c,O=>T.setUint8(S++,O.charCodeAt(0))),Array.from(l,O=>T.setUint8(S++,O.charCodeAt(0))),Array.from(s,O=>T.setUint8(S++,O.charCodeAt(0))),Array.from(f,O=>T.setUint8(S++,O.charCodeAt(0))),Array.from(v,O=>T.setUint8(S++,O.charCodeAt(0)));var C=new Uint8Array(_.byteLength+i.byteLength);return C.set(new Uint8Array(_),0),C.set(new Uint8Array(i),_.byteLength),C.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[n,a,s,l,c]=i;return r({join_ref:n,ref:a,topic:s,event:l,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),n=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,n)}_decodeUserBroadcast(e,r,i){const n=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const f=i.decode(e.slice(c,c+n));c=c+n;const p=i.decode(e.slice(c,c+a));c=c+a;const v=i.decode(e.slice(c,c+s));c=c+s;const y=e.slice(c,e.byteLength),_=l===this.JSON_ENCODING?JSON.parse(i.decode(y)):y,T={type:this.BROADCAST_EVENT,event:p,payload:_};return s>0&&(T.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class OS{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oi;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oi||(oi={}));const Pb=(t,e,r={})=>{var i;const n=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=wC(s,t,e,n),a),{}):{}},wC=(t,e,r,i)=>{const n=e.find(l=>l.name===t),a=n?.type,s=r[t];return a&&!i.includes(a)?RS(a,s):Z2(s)},RS=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return TC(e,r)}switch(t){case oi.bool:return bC(e);case oi.float4:case oi.float8:case oi.int2:case oi.int4:case oi.int8:case oi.numeric:case oi.oid:return SC(e);case oi.json:case oi.jsonb:return EC(e);case oi.timestamp:return AC(e);case oi.abstime:case oi.date:case oi.daterange:case oi.int4range:case oi.int8range:case oi.money:case oi.reltime:case oi.text:case oi.time:case oi.timestamptz:case oi.timetz:case oi.tsrange:case oi.tstzrange:return Z2(e);default:return Z2(e)}},Z2=t=>t,bC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},SC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},EC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},TC=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>RS(e,l))}return t},AC=t=>typeof t=="string"?t.replace(" ","T"):t,DS=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Bv{constructor(e,r,i={},n=$2){this.channel=e,this.event=r,this.payload=i,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ob;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ob||(Ob={}));class S0{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},n=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=S0.syncState(this.state,n,a,s),this.pendingDiffs.forEach(c=>{this.state=S0.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},n=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=S0.syncDiff(this.state,n,a,s),l())}),this.onJoin((n,a,s)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:a,newPresences:s})}),this.onLeave((n,a,s)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,n){const a=this.cloneDeep(e),s=this.transformState(r),l={},c={};return this.map(a,(f,p)=>{s[f]||(c[f]=p)}),this.map(s,(f,p)=>{const v=a[f];if(v){const y=p.map(C=>C.presence_ref),_=v.map(C=>C.presence_ref),T=p.filter(C=>_.indexOf(C.presence_ref)<0),S=v.filter(C=>y.indexOf(C.presence_ref)<0);T.length>0&&(l[f]=T),S.length>0&&(c[f]=S)}else l[f]=p}),this.syncDiff(a,{joins:l,leaves:c},i,n)}static syncDiff(e,r,i,n){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),n||(n=()=>{}),this.map(a,(l,c)=>{var f;const p=(f=e[l])!==null&&f!==void 0?f:[];if(e[l]=this.cloneDeep(c),p.length>0){const v=e[l].map(_=>_.presence_ref),y=p.filter(_=>v.indexOf(_.presence_ref)<0);e[l].unshift(...y)}i(l,p,c)}),this.map(s,(l,c)=>{let f=e[l];if(!f)return;const p=c.map(v=>v.presence_ref);f=f.filter(v=>p.indexOf(v.presence_ref)<0),e[l]=f,n(l,f,c),f.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const n=e[i];return"metas"in n?r[i]=n.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[i]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Rb||(Rb={}));var E0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(E0||(E0={}));var ac;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ac||(ac={}));class Yf{constructor(e,r={config:{}},i){var n,a;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=Ia.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bv(this,$l.join,this.params,this.timeout),this.rejoinTimer=new OS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ia.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ia.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ia.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ia.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ia.errored,this.rejoinTimer.scheduleTimeout())}),this._on($l.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new S0(this),this.broadcastEndpointURL=DS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ia.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,f=(n=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&n!==void 0?n:[],p=!!this.bindings[E0.PRESENCE]&&this.bindings[E0.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},y={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:p}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(ac.CHANNEL_ERROR,_)),this._onClose(()=>e?.(ac.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e?.(ac.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,C=(T=S?.length)!==null&&T!==void 0?T:0,O=[];for(let I=0;I<C;I++){const D=S[I],{filter:{event:q,schema:te,table:ce,filter:F}}=D,K=_&&_[I];if(K&&K.event===q&&Yf.isFilterValueEqual(K.schema,te)&&Yf.isFilterValueEqual(K.table,ce)&&Yf.isFilterValueEqual(K.filter,F))O.push(Object.assign(Object.assign({},D),{id:K.id}));else{this.unsubscribe(),this.state=Ia.errored,e?.(ac.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(ac.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ia.errored,e?.(ac.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(ac.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===Ia.joined&&e===E0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var n;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(n=i.timeout)!==null&&n!==void 0?n:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const f=await l.json();c=f.error||f.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var i,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((n=f.body)===null||n===void 0?void 0:n.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ia.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($l.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(n=>{i=new Bv(this,$l.leave,{},e),i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ia.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const n=new AbortController,a=setTimeout(()=>n.abort(),i),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(a),s}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Bv(this,e,r,i);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>yC){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var n,a;const s=e.toLocaleLowerCase(),{close:l,error:c,leave:f,join:p}=$l;if(i&&[l,c,f,p].indexOf(s)>=0&&i!==this._joinRef())return;let y=this._onMessage(s,r,i);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(_=>{var T,S,C;return((T=_.filter)===null||T===void 0?void 0:T.event)==="*"||((C=(S=_.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(_=>_.callback(y,i)):(a=this.bindings[s])===null||a===void 0||a.filter(_=>{var T,S,C,O,I,D;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in _){const q=_.id,te=(T=_.filter)===null||T===void 0?void 0:T.event;return q&&((S=r.ids)===null||S===void 0?void 0:S.includes(q))&&(te==="*"||te?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const q=(I=(O=_?.filter)===null||O===void 0?void 0:O.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return q==="*"||q===((D=r?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===s}).map(_=>{if(typeof y=="object"&&"ids"in y){const T=y.data,{schema:S,table:C,commit_timestamp:O,type:I,errors:D}=T;y=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:O,eventType:I,new:{},old:{},errors:D}),this._getPayloadRecords(T))}_.callback(y,i)})}_isClosed(){return this.state===Ia.closed}_isJoined(){return this.state===Ia.joined}_isJoining(){return this.state===Ia.joining}_isLeaving(){return this.state===Ia.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const n=e.toLocaleLowerCase(),a={type:n,filter:r,callback:i};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(n=>{var a;return!(((a=n.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Yf.isEqual(n.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($l.close,{},e)}_onError(e){this._on($l.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ia.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Pb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Pb(e.columns,e.old_record)),r}}const Uv=()=>{},wm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},LC=[1e3,2e3,5e3,1e4],NC=1e4,CC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class MC{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$2,this.transport=null,this.heartbeatIntervalMs=wm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uv,this.ref=0,this.reconnectTimer=null,this.vsn=kb,this.logger=Uv,this.conn=null,this.sendBuffer=[],this.serializer=new xC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${W2.websocket}`,this.httpEndpoint=DS(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pC.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case qc.connecting:return Ah.Connecting;case qc.open:return Ah.Open;case qc.closing:return Ah.Closing;default:return Ah.Closed}}isConnected(){return this.connectionState()===Ah.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,n=this.getChannels().find(a=>a.topic===i);if(n)return n;{const a=new Yf(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:i,payload:n,ref:a}=e,s=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${i} (${a})`,n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(_C,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},wm.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",f)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:n,payload:a,ref:s}=r,l=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${i} ${n} ${l}`.trim(),a),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(n,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===qc.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qc.open||this.conn.readyState===qc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger($l.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${i}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([CC],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,i=!1;if(e)r=e,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:gC};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push($l.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new OS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,n,a,s,l,c,f,p,v,y,_;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:$2,this.heartbeatIntervalMs=(n=e?.heartbeatIntervalMs)!==null&&n!==void 0?n:wm.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:Uv,this.vsn=(c=e?.vsn)!==null&&c!==void 0?c:kb,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(T=>LC[T-1]||NC),this.vsn){case vC:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((T,S)=>S(JSON.stringify(T))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((T,S)=>S(JSON.parse(T)));break;case PS:this.encode=(y=e?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(_=e?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var q0=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kC(t,e,r){const i=new URL(e,t);if(r)for(const[n,a]of Object.entries(r))a!==void 0&&i.searchParams.set(n,a);return i.toString()}async function PC(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function OC(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:n,body:a,headers:s}){const l=kC(t.baseUrl,i,n),c=await PC(t.auth),f=await e(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),p=await f.text(),v=(f.headers.get("content-type")||"").includes("application/json"),y=v&&p?JSON.parse(p):p;if(!f.ok){const _=v?y:void 0,T=_?.error;throw new q0(T?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:T?.type,icebergCode:T?.code,details:_})}return{status:f.status,headers:f.headers,data:y}}}}function bm(t){return t.join("")}var RC=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:bm(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bm(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bm(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bm(t.namespace)}`}),!0}catch(e){if(e instanceof q0&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof q0&&r.status===409)return;throw r}}};function Tf(t){return t.join("")}var DC=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tf(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tf(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tf(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tf(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tf(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tf(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof q0&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof q0&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},jC=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=OC({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new RC(this.client,e),this.tableOps=new DC(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},J1=class extends Error{constructor(t,e="storage",r,i){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=i}};function Q1(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Sm=class extends J1{constructor(t,e,r,i="storage"){super(t,i,e,r),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},jS=class extends J1{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const IC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),FC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Y2=t=>{if(Array.isArray(t))return t.map(r=>Y2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const n=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[n]=Y2(i)}),e},BC=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}function UC(t,e){if(V0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(V0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zC(t){var e=UC(t,"string");return V0(e)=="symbol"?e:e+""}function GC(t,e,r){return(e=zC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Db(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Db(Object(r),!0).forEach(function(i){GC(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const jb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},HC=async(t,e,r,i)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t,a=n.status||500;if(typeof n.json=="function")n.json().then(s=>{const l=s?.statusCode||s?.code||a+"";e(new Sm(jb(s),a,l,i))}).catch(()=>{if(i==="vectors"){const s=a+"";e(new Sm(n.statusText||`HTTP ${a} error`,a,s,i))}else{const s=a+"";e(new Sm(n.statusText||`HTTP ${a} error`,a,s,i))}});else{const s=a+"";e(new Sm(n.statusText||`HTTP ${a} error`,a,s,i))}}else e(new jS(jb(t),t,i))},qC=(t,e,r,i)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!i?Cr(Cr({},n),r):(FC(i)?(n.headers=Cr({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(i)):n.body=i,e?.duplex&&(n.duplex=e.duplex),Cr(Cr({},n),r))};async function l0(t,e,r,i,n,a,s){return new Promise((l,c)=>{t(r,qC(e,i,n,a)).then(f=>{if(!f.ok)throw f;if(i?.noResolveJson)return f;if(s==="vectors"){const p=f.headers.get("content-type");if(!p||!p.includes("application/json"))return{}}return f.json()}).then(f=>l(f)).catch(f=>HC(f,c,i,s))})}function VC(t="storage"){return{get:async(e,r,i,n)=>l0(e,"GET",r,i,n,void 0,t),post:async(e,r,i,n,a)=>l0(e,"POST",r,n,a,i,t),put:async(e,r,i,n,a)=>l0(e,"PUT",r,n,a,i,t),head:async(e,r,i,n)=>l0(e,"HEAD",r,Cr(Cr({},i),{},{noResolveJson:!0}),n,void 0,t),remove:async(e,r,i,n,a)=>l0(e,"DELETE",r,n,a,i,t)}}const $C=VC("storage"),{get:$0,post:Li,put:K2,head:WC,remove:U_}=$C;var wd=class{constructor(t,e={},r,i="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=IC(r),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Q1(r))return{data:null,error:r};throw r}}},ZC=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Q1(e))return{data:null,error:e};throw e}}};let IS;IS=Symbol.toStringTag;var YC=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[IS]="BlobDownloadBuilder",this.promise=null}asStream(){return new ZC(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Q1(e))return{data:null,error:e};throw e}}};const KC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ib={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var XC=class extends wd{constructor(t,e={},r,i){super(t,e,i,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,i){var n=this;return n.handleOperation(async()=>{let a;const s=Cr(Cr({},Ib),i);let l=Cr(Cr({},n.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",n.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",n.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=n.toBase64(n.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(l=Cr(Cr({},l),i.headers));const f=n._removeEmptyFolders(e),p=n._getFinalPath(f),v=await(t=="PUT"?K2:Li)(n.fetch,`${n.url}/object/${p}`,a,Cr({headers:l},s?.duplex?{duplex:s.duplex}:{}));return{path:f,id:v.Id,fullPath:v.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,i){var n=this;const a=n._removeEmptyFolders(t),s=n._getFinalPath(a),l=new URL(n.url+`/object/upload/sign/${s}`);return l.searchParams.set("token",e),n.handleOperation(async()=>{let c;const f=Cr({upsert:Ib.upsert},i),p=Cr(Cr({},n.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{path:a,fullPath:(await K2(n.fetch,l.toString(),c,{headers:p})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t);const n=Cr({},r.headers);e?.upsert&&(n["x-upsert"]="true");const a=await Li(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:n}),s=new URL(r.url+a.url),l=s.searchParams.get("token");if(!l)throw new J1("No token returned by API");return{signedUrl:s.toString(),path:t,token:l}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var i=this;return i.handleOperation(async()=>await Li(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:i.headers}))}async copy(t,e,r){var i=this;return i.handleOperation(async()=>({path:(await Li(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(t,e,r){var i=this;return i.handleOperation(async()=>{let n=i._getFinalPath(t),a=await Li(i.fetch,`${i.url}/object/sign/${n}`,Cr({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:i.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${i.url}${a.signedURL}${s}`)}})}async createSignedUrls(t,e,r){var i=this;return i.handleOperation(async()=>{const n=await Li(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return n.map(s=>Cr(Cr({},s),{},{signedUrl:s.signedURL?encodeURI(`${i.url}${s.signedURL}${a}`):null}))})}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),n=i?`?${i}`:"",a=this._getFinalPath(t),s=()=>$0(this.fetch,`${this.url}/${r}/${a}${n}`,{headers:this.headers,noResolveJson:!0});return new YC(s,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>Y2(await $0(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await WC(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Q1(i)&&i instanceof jS){const n=i.originalError;if([400,404].includes(n?.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const r=this._getFinalPath(t),i=[],n=e?.download?`download=${e.download===!0?"":e.download}`:"";n!==""&&i.push(n);const a=typeof e?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(e?.transform||{});s!==""&&i.push(s);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await U_(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var i=this;return i.handleOperation(async()=>{const n=Cr(Cr(Cr({},KC),e),{},{prefix:t||""});return await Li(i.fetch,`${i.url}/object/list/${i.bucketId}`,n,{headers:i.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const i=Cr({},t);return await Li(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const JC="2.93.1",mp={"X-Client-Info":`storage-js/${JC}`};var QC=class extends wd{constructor(t,e={},r,i){const n=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."));const a=n.href.replace(/\/$/,""),s=Cr(Cr({},mp),e);super(a,s,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await $0(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await $0(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Li(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await K2(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await U_(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},eM=class extends wd{constructor(t,e={},r){const i=t.replace(/\/$/,""),n=Cr(Cr({},mp),e);super(i,n,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const i=r.toString(),n=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return await $0(e.fetch,n,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await U_(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!BC(t))throw new J1("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new jC({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(n,a){const s=n[a];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(n,l),error:null}}catch(c){if(i)throw c;return{data:null,error:c}}}}})}},tM=class extends wd{constructor(t,e={},r){const i=t.replace(/\/$/,""),n=Cr(Cr({},mp),{},{"Content-Type":"application/json"},e);super(i,n,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Li(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Li(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},rM=class extends wd{constructor(t,e={},r){const i=t.replace(/\/$/,""),n=Cr(Cr({},mp),{},{"Content-Type":"application/json"},e);super(i,n,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},nM=class extends wd{constructor(t,e={},r){const i=t.replace(/\/$/,""),n=Cr(Cr({},mp),{},{"Content-Type":"application/json"},e);super(i,n,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},iM=class extends nM{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new aM(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},aM=class extends tM{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new sM(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},sM=class extends rM{constructor(t,e,r,i,n){super(t,e,n),this.vectorBucketName=r,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},oM=class extends QC{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new XC(this.url,this.headers,t,this.fetch)}get vectors(){return new iM(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eM(this.url+"/iceberg",this.headers,this.fetch)}};const FS="2.93.1",Gf=30*1e3,X2=3,zv=X2*Gf,lM="http://localhost:9999",uM="supabase.auth.token",cM={"X-Client-Info":`gotrue-js/${FS}`},J2="X-Supabase-Api-Version",BS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fM=600*1e3;class W0 extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function hr(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class dM extends W0{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function pM(t){return hr(t)&&t.name==="AuthApiError"}class Lh extends W0{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class mc extends W0{constructor(e,r,i,n){super(e,i,n),this.name=r,this.status=i}}class Wo extends mc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gv(t){return hr(t)&&t.name==="AuthSessionMissingError"}class Af extends mc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Em extends mc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Tm extends mc{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mM(t){return hr(t)&&t.name==="AuthImplicitGrantRedirectError"}class Fb extends mc{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gM extends mc{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Q2 extends mc{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Hv(t){return hr(t)&&t.name==="AuthRetryableFetchError"}class Bb extends mc{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class e_ extends mc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const f1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ub=` 	
\r=`.split(""),vM=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ub.length;e+=1)t[Ub[e].charCodeAt(0)]=-2;for(let e=0;e<f1.length;e+=1)t[f1[e].charCodeAt(0)]=e;return t})();function zb(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(f1[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(f1[i]),e.queuedBits-=6}}function US(t,e,r){const i=vM[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Gb(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},i={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},a=s=>{xM(s,i,r)};for(let s=0;s<t.length;s+=1)US(t.charCodeAt(s),n,a);return e.join("")}function _M(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function yM(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const n=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}_M(i,e)}}function xM(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function id(t){const e=[],r={queue:0,queuedBits:0},i=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)US(t.charCodeAt(n),r,i);return new Uint8Array(e)}function wM(t){const e=[];return yM(t,r=>e.push(r)),new Uint8Array(e)}function Ph(t){const e=[],r={queue:0,queuedBits:0},i=n=>{e.push(n)};return t.forEach(n=>zb(n,r,i)),zb(null,r,i),e.join("")}function bM(t){return Math.round(Date.now()/1e3)+t}function SM(){return Symbol("auth-callback")}const ds=()=>typeof window<"u"&&typeof document<"u",yh={tested:!1,writable:!1},zS=()=>{if(!ds())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yh.tested)return yh.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yh.tested=!0,yh.writable=!0}catch{yh.tested=!0,yh.writable=!1}return yh.writable};function EM(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,a)=>{e[a]=n})}catch{}return r.searchParams.forEach((i,n)=>{e[n]=i}),e}const GS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),TM=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Hf=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},xh=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},fs=async(t,e)=>{await t.removeItem(e)};class eg{constructor(){this.promise=new eg.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}eg.promiseConstructor=Promise;function Am(t){const e=t.split(".");if(e.length!==3)throw new e_("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!hM.test(e[i]))throw new e_("JWT not in base64url format");return{header:JSON.parse(Gb(e[0])),payload:JSON.parse(Gb(e[1])),signature:id(e[2]),raw:{header:e[0],payload:e[1]}}}async function AM(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function LM(t,e){return new Promise((i,n)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){i(s);return}}catch(s){if(!e(a,s)){n(s);return}}})()})}function NM(t){return("0"+t.toString(16)).substr(-2)}function CM(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let n="";for(let a=0;a<56;a++)n+=r.charAt(Math.floor(Math.random()*i));return n}return crypto.getRandomValues(e),Array.from(e,NM).join("")}async function MM(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(i);return Array.from(n).map(a=>String.fromCharCode(a)).join("")}async function kM(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await MM(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lf(t,e,r=!1){const i=CM();let n=i;r&&(n+="/PASSWORD_RECOVERY"),await Hf(t,`${e}-code-verifier`,n);const a=await kM(i);return[a,i===a?"plain":"s256"]}const PM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OM(t){const e=t.headers.get(J2);if(!e||!e.match(PM))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function RM(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function DM(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nf(t){if(!jM.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qv(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function IM(t,e){return new Proxy(t,{get:(r,i,n)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,n)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,n)}})}function Hb(t){return JSON.parse(JSON.stringify(t))}const bh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FM=[502,503,504];async function qb(t){var e;if(!TM(t))throw new Q2(bh(t),0);if(FM.includes(t.status))throw new Q2(bh(t),t.status);let r;try{r=await t.json()}catch(a){throw new Lh(bh(a),a)}let i;const n=OM(t);if(n&&n.getTime()>=BS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Bb(bh(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Wo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Bb(bh(r),t.status,r.weak_password.reasons);throw new dM(bh(r),t.status||500,i)}const BM=(t,e,r,i)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),r))};async function Lr(t,e,r,i){var n;const a=Object.assign({},i?.headers);a[J2]||(a[J2]=BS["2024-01-01"].name),i?.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const s=(n=i?.query)!==null&&n!==void 0?n:{};i?.redirectTo&&(s.redirect_to=i.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await UM(t,e,r+l,{headers:a,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(c):{data:Object.assign({},c),error:null}}async function UM(t,e,r,i,n,a){const s=BM(e,i,n,a);let l;try{l=await t(r,Object.assign({},s))}catch(c){throw console.error(c),new Q2(bh(c),0)}if(l.ok||await qb(l),i?.noResolveJson)return l;try{return await l.json()}catch(c){await qb(c)}}function ql(t){var e;let r=null;HM(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=bM(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function Vb(t){const e=ql(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Wc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function zM(t){return{data:t,error:null}}function GM(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:n,verification_type:a}=t,s=X1(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:i,redirect_to:n,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function $b(t){return t}function HM(t){return t.access_token&&t.refresh_token&&t.expires_in}const Vv=["global","local","others"];class qM{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=GS(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Vv[0]){if(Vv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vv.join(", ")}`);try{return await Lr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(hr(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await Lr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wc})}catch(i){if(hr(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=X1(e,["options"]),n=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(n.new_email=i?.newEmail,delete n.newEmail),await Lr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:GM,redirectTo:r?.redirectTo})}catch(r){if(hr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Lr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Wc})}catch(r){if(hr(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,n,a,s,l,c;try{const f={nextPage:null,lastPage:0,total:0},p=await Lr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(a=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:""},xform:$b});if(p.error)throw p.error;const v=await p.json(),y=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(T=>{const S=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(T.split(";")[1].split("=")[1]);f[`${C}Page`]=S}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(hr(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Nf(e);try{return await Lr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wc})}catch(r){if(hr(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Nf(e);try{return await Lr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Wc})}catch(i){if(hr(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Nf(e);try{return await Lr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wc})}catch(i){if(hr(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Nf(e.userId);try{const{data:r,error:i}=await Lr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:i}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Nf(e.userId),Nf(e.id);try{return{data:await Lr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,n,a,s,l,c;try{const f={nextPage:null,lastPage:0,total:0},p=await Lr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(a=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:""},xform:$b});if(p.error)throw p.error;const v=await p.json(),y=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(T=>{const S=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(T.split(";")[1].split("=")[1]);f[`${C}Page`]=S}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(hr(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Lr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Lr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Lr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(hr(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await Lr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Lr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}}function Wb(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Cf={debug:!!(globalThis&&zS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class HS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class VM extends HS{}async function $M(t,e,r){Cf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Cf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async n=>{if(n){Cf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{Cf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Cf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new VM(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Cf.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function WM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qS(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ZM(t){return parseInt(t,16)}function YM(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function KM(t){var e;const{chainId:r,domain:i,expirationTime:n,issuedAt:a=new Date,nonce:s,notBefore:l,requestId:c,resources:f,scheme:p,uri:v,version:y}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=qS(t.address),T=p?`${p}://${i}`:i,S=t.statement?`${t.statement}
`:"",C=`${T} wants you to sign in with your Ethereum account:
${_}

${S}`;let O=`URI: ${v}
Version: ${y}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(n&&(O+=`
Expiration Time: ${n.toISOString()}`),l&&(O+=`
Not Before: ${l.toISOString()}`),c&&(O+=`
Request ID: ${c}`),f){let I=`
Resources:`;for(const D of f){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);I+=`
- ${D}`}O+=I}return`${C}
${O}`}class xa extends Error{constructor({message:e,code:r,cause:i,name:n}){var a;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(a=n??(i instanceof Error?i.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class d1 extends xa{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function XM({error:t,options:e}){var r,i,n;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xa({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new xa({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new xa({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new xa({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new xa({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new xa({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new xa({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new xa({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(VS(s)){if(a.rp.id!==s)return new xa({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new xa({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new xa({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function JM({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xa({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new xa({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(VS(i)){if(r.rpId!==i)return new xa({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new xa({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class QM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const e7=new QM;function t7(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,n=X1(t,["challenge","user","excludeCredentials"]),a=id(e).buffer,s=Object.assign(Object.assign({},r),{id:id(r.id).buffer}),l=Object.assign(Object.assign({},n),{challenge:a,user:s});if(i&&i.length>0){l.excludeCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const f=i[c];l.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:id(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function r7(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=X1(t,["challenge","allowCredentials"]),n=id(e).buffer,a=Object.assign(Object.assign({},i),{challenge:n});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},l),{id:id(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function n7(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ph(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ph(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function i7(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ph(new Uint8Array(n.authenticatorData)),clientDataJSON:Ph(new Uint8Array(n.clientDataJSON)),signature:Ph(new Uint8Array(n.signature)),userHandle:n.userHandle?Ph(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function VS(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Zb(){var t,e;return!!(ds()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function a7(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new d1("Browser returned unexpected credential type",e)}:{data:null,error:new d1("Empty credential response",e)}}catch(e){return{data:null,error:XM({error:e,options:t})}}}async function s7(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new d1("Browser returned unexpected credential type",e)}:{data:null,error:new d1("Empty credential response",e)}}catch(e){return{data:null,error:JM({error:e,options:t})}}}const o7={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},l7={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function p1(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),i={};for(const n of t)if(n)for(const a in n){const s=n[a];if(s!==void 0)if(Array.isArray(s))i[a]=s;else if(r(s))i[a]=s;else if(e(s)){const l=i[a];e(l)?i[a]=p1(l,s):i[a]=p1(s)}else i[a]=s}return i}function u7(t,e){return p1(o7,t,e||{})}function c7(t,e){return p1(l7,t,e||{})}class h7{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:n},a){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:l};const c=n??e7.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${i}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=u7(s.webauthn.credential_options.publicKey,a?.create),{data:p,error:v}=await a7({publicKey:f,signal:c});return p?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}case"request":{const f=c7(s.webauthn.credential_options.publicKey,a?.request),{data:p,error:v}=await s7(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:c}));return p?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}}}catch(s){return hr(s)?{data:null,error:s}:{data:null,error:new Lh("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},a){if(!r)return{data:null,error:new W0("rpId is required for WebAuthn authentication")};try{if(!Zb())return{data:null,error:new Lh("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:n},{request:a});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:i,credential_response:c.credential_response}})}catch(s){return hr(s)?{data:null,error:s}:{data:null,error:new Lh("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},a){if(!r)return{data:null,error:new W0("rpId is required for WebAuthn registration")};try{if(!Zb())return{data:null,error:new Lh("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(p=>{var v;return(v=p.data)===null||v===void 0?void 0:v.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};const{data:c,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:n},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:i,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(s){return hr(s)?{data:null,error:s}:{data:null,error:new Lh("Unexpected error in register",s)}}}}WM();const f7={url:lM,storageKey:uM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Yb(t,e,r){return await r()}const Mf={};class Z0{get jwks(){var e,r;return(r=(e=Mf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Mf[this.storageKey]=Object.assign(Object.assign({},Mf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Mf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Mf[this.storageKey]=Object.assign(Object.assign({},Mf[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},f7),e);if(this.storageKey=a.storageKey,this.instanceID=(r=Z0.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Z0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&ds()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new qM({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=GS(a.fetch),this.lock=a.lock||Yb,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&ds()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=$M:this.lock=Yb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new h7(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:zS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wb(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Wb(this.memoryStorage)),ds()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${FS}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(ds()&&(r=EM(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),ds()&&this.detectSessionInUrl&&i!=="none"){const{data:n,error:a}=await this._getSessionFromURL(r,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),mM(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return hr(r)?this._returnResult({error:r}):this._returnResult({error:new Lh("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,n;try{const a=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:ql}),{data:s,error:l}=a;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(hr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,i,n;try{let a;if("email"in e){const{email:p,password:v,options:y}=e;let _=null,T=null;this.flowType==="pkce"&&([_,T]=await Lf(this.storage,this.storageKey)),a=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:v,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:_,code_challenge_method:T},xform:ql})}else if("phone"in e){const{phone:p,password:v,options:y}=e;a=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(i=y?.data)!==null&&i!==void 0?i:{},channel:(n=y?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:ql})}else throw new Em("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return await fs(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(await fs(this.storage,`${this.storageKey}-code-verifier`),hr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:l}=e;r=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Vb})}else if("phone"in e){const{phone:a,password:s,options:l}=e;r=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Vb})}else throw new Em("You must provide either an email or phone number and a password");const{data:i,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!i||!i.session||!i.user){const a=new Af;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:n})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,n,a,s,l,c,f,p,v,y;let _,T;if("message"in e)_=e.message,T=e.signature;else{const{chain:S,wallet:C,statement:O,options:I}=e;let D;if(ds())if(typeof C=="object")D=C;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")D=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=C}const q=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href),te=await D.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ce=qS(te[0]);let F=(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!F){const B=await D.request({method:"eth_chainId"});F=ZM(B)}const K={domain:q.host,address:ce,statement:O,uri:q.href,version:"1",chainId:F,nonce:(n=I?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(s=(a=I?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=I?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=I?.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=KM(K),T=await D.request({method:"personal_sign",params:[YM(_),ce]})}try{const{data:S,error:C}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:T},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ql});if(C)throw C;if(!S||!S.session||!S.user){const O=new Af;return this._returnResult({data:{user:null,session:null},error:O})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:C})}catch(S){if(hr(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var r,i,n,a,s,l,c,f,p,v,y,_;let T,S;if("message"in e)T=e.message,S=e.signature;else{const{chain:C,wallet:O,statement:I,options:D}=e;let q;if(ds())if(typeof O=="object")q=O;else{const ce=window;if("solana"in ce&&typeof ce.solana=="object"&&("signIn"in ce.solana&&typeof ce.solana.signIn=="function"||"signMessage"in ce.solana&&typeof ce.solana.signMessage=="function"))q=ce.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=O}const te=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){const ce=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),I?{statement:I}:null));let F;if(Array.isArray(ce)&&ce[0]&&typeof ce[0]=="object")F=ce[0];else if(ce&&typeof ce=="object"&&"signedMessage"in ce&&"signature"in ce)F=ce;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)T=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),S=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${te.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(n=(i=D?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((a=D?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((s=D?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((l=D?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((f=D?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((v=(p=D?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||v===void 0)&&v.length?["Resources",...D.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const ce=await q.signMessage(new TextEncoder().encode(T),"utf8");if(!ce||!(ce instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=ce}}try{const{data:C,error:O}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Ph(S)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ql});if(O)throw O;if(!C||!C.session||!C.user){const I=new Af;return this._returnResult({data:{user:null,session:null},error:I})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:O})}catch(C){if(hr(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await xh(this.storage,`${this.storageKey}-code-verifier`),[i,n]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new gM;const{data:a,error:s}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ql});if(await fs(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const l=new Af;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:n??null}),error:s})}catch(a){if(await fs(this.storage,`${this.storageKey}-code-verifier`),hr(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:i,token:n,access_token:a,nonce:s}=e,l=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:n,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ql}),{data:c,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c||!c.session||!c.user){const p=new Af;return this._returnResult({data:{user:null,session:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:f})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,n,a,s;try{if("email"in e){const{email:l,options:c}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Lf(this.storage,this.storageKey));const{error:v}=await Lr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:l,options:c}=e,{data:f,error:p}=await Lr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c?.data)!==null&&n!==void 0?n:{},create_user:(a=c?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(s=c?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Em("You must provide either an email or phone number.")}catch(l){if(await fs(this.storage,`${this.storageKey}-code-verifier`),hr(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,i;try{let n,a;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:s,error:l}=await Lr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:ql});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,f=s.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(n){if(hr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var r,i,n,a,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Lf(this.storage,this.storageKey));const f=await Lr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:zM});return!((a=f.data)===null||a===void 0)&&a.url&&ds()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(l){if(await fs(this.storage,`${this.storageKey}-code-verifier`),hr(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Wo;const{error:n}=await Lr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(hr(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:n,options:a}=e,{error:s}=await Lr(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:n,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:i,type:n,options:a}=e,{data:s,error:l}=await Lr(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:n,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:l})}throw new Em("You must provide either an email or phone number and a type")}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await xh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<zv:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const s=await xh(this.userStorage,this.storageKey+"-user");s?.user?e.user=s.user:e.user=qv()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=IM(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Lr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wc}):await this._useSession(async r=>{var i,n,a;const{data:s,error:l}=r;if(l)throw l;return!(!((i=s.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wo}:await Lr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0,xform:Wc})})}catch(r){if(hr(r))return Gv(r)&&(await this._removeSession(),await fs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:n,error:a}=i;if(a)throw a;if(!n.session)throw new Wo;const s=n.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Lf(this.storage,this.storageKey));const{data:f,error:p}=await Lr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Wc});if(p)throw p;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(i){if(await fs(this.storage,`${this.storageKey}-code-verifier`),hr(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Wo;const r=Date.now()/1e3;let i=r,n=!0,a=null;const{payload:s}=Am(e.access_token);if(s.exp&&(i=s.exp,n=i<=r),n){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(hr(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:s,error:l}=r;if(l)throw l;e=(i=s.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Wo;const{data:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ds())throw new Tm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Tm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Fb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fb("No code detected.");const{data:I,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:n,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:f}=e;if(!a||!l||!s||!f)throw new Tm("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(l);let y=p+v;c&&(y=parseInt(c));const _=y-p;_*1e3<=Gf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const T=y-v;p-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,y,p):p-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,y,p);const{data:S,error:C}=await this._getUser(a);if(C)throw C;const O={provider_token:i,provider_refresh_token:n,access_token:a,expires_in:v,expires_at:y,refresh_token:s,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:e.type},error:null})}catch(i){if(hr(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await xh(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:n,error:a}=r;if(a&&!Gv(a))return this._returnResult({error:a});const s=(i=n.session)===null||i===void 0?void 0:i.access_token;if(s){const{error:l}=await this.admin.signOut(s,e);if(l&&!(pM(l)&&(l.status===404||l.status===401||l.status===403)||Gv(l)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await fs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=SM(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,n;try{const{data:{session:a},error:s}=r;if(s)throw s;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let i=null,n=null;this.flowType==="pkce"&&([i,n]=await Lf(this.storage,this.storageKey,!0));try{return await Lr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await fs(this.storage,`${this.storageKey}-code-verifier`),hr(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:n}=await this._useSession(async a=>{var s,l,c,f,p;const{data:v,error:y}=a;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Lr(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(n)throw n;return ds()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(hr(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:n,data:{session:a}}=r;if(n)throw n;const{options:s,provider:l,token:c,access_token:f,nonce:p}=e,v=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ql}),{data:y,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Af}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:_}))}catch(n){if(await fs(this.storage,`${this.storageKey}-code-verifier`),hr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,n;const{data:a,error:s}=r;if(s)throw s;return await Lr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await LM(async n=>(n>0&&await AM(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await Lr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ql})),(n,a)=>{const s=200*Math.pow(2,n);return a&&Hv(a)&&Date.now()+s-i<Gf})}catch(i){if(this._debug(r,"error",i),hr(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),ds()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const n=await xh(this.storage,this.storageKey);if(n&&this.userStorage){let s=await xh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:n.user},await Hf(this.userStorage,this.storageKey+"-user",s)),n.user=(e=s?.user)!==null&&e!==void 0?e:qv()}else if(n&&!n.user&&!n.user){const s=await xh(this.storage,this.storageKey+"-user");s&&s?.user?(n.user=s.user,await fs(this.storage,this.storageKey+"-user"),await Hf(this.storage,this.storageKey,n)):n.user=qv()}if(this._debug(i,"session from storage",n),!this._isValidSession(n)){this._debug(i,"session is not valid"),n!==null&&await this._removeSession();return}const a=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zv;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${zv}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),Hv(s)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(n.access_token);!l&&s?.user?(n.user=s.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(i,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(i,"error",n),console.error(n);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Wo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new eg;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Wo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(n,"error",a),hr(a)){const s={data:null,error:a};return Hv(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,i=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await fs(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Hf(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const a=Hb(n);await Hf(this.storage,this.storageKey,a)}else{const n=Hb(r);await Hf(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await fs(this.storage,this.storageKey),await fs(this.storage,this.storageKey+"-code-verifier"),await fs(this.storage,this.storageKey+"-user"),this.userStorage&&await fs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ds()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Gf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((i.expires_at*1e3-e)/Gf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Gf}ms, refresh threshold is ${X2} ticks`),n<=X2&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof HS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ds()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const n=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&n.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,s]=await Lf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});n.push(l.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);n.push(a.toString())}return i?.skipBrowserRedirect&&n.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:n,error:a}=r;return a?this._returnResult({data:null,error:a}):await Lr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:f}=await Lr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&c.type==="totp"&&(!((n=c?.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:n,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?n7(e.webauthn.credential_response):i7(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Lr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:n,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await Lr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:t7(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:r7(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const n={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r?.factors)!==null&&e!==void 0?e:[])n.all.push(a),a.status==="verified"&&n[a.factor_type].push(a);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,i,n,a;if(e)try{const{payload:_}=Am(e);let T=null;_.aal&&(T=_.aal);let S=T;const{data:{user:C},error:O}=await this.getUser(e);if(O)return this._returnResult({data:null,error:O});((i=(r=C?.factors)===null||r===void 0?void 0:r.filter(q=>q.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(S="aal2");const D=_.amr||[];return{data:{currentLevel:T,nextLevel:S,currentAuthenticationMethods:D},error:null}}catch(_){if(hr(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Am(s.access_token);let f=null;c.aal&&(f=c.aal);let p=f;((a=(n=s.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:n}=r;return n?this._returnResult({data:null,error:n}):i?await Lr(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Wo})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:n},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!n)return this._returnResult({data:null,error:new Wo});const s=await Lr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&ds()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(i){if(hr(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:n},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!n)return this._returnResult({data:null,error:new Wo});const s=await Lr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&ds()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(i){if(hr(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await Lr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new Wo})})}catch(e){if(hr(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:n}=r;return n?this._returnResult({data:null,error:n}):i?(await Lr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wo})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(l=>l.kid===e);if(i)return i;const n=Date.now();if(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+fM>n)return i;const{data:a,error:s}=await Lr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=n,i=a.keys.find(l=>l.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:_,error:T}=await this.getSession();if(T||!_.session)return this._returnResult({data:null,error:T});i=_.session.access_token}const{header:n,payload:a,signature:s,raw:{header:l,payload:c}}=Am(i);r?.allowExpired||RM(a.exp);const f=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:a,header:n,signature:s},error:null}}const p=DM(n.alg),v=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,s,wM(`${l}.${c}`)))throw new e_("Invalid JWT signature");return{data:{claims:a,header:n,signature:s},error:null}}catch(i){if(hr(i))return this._returnResult({data:null,error:i});throw i}}}Z0.nextInstanceID={};const d7=Z0,p7="2.93.1";let g0="";typeof Deno<"u"?g0="deno":typeof document<"u"?g0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?g0="react-native":g0="node";function m7(){const t=globalThis.process;if(t&&t.platform){const e=t.platform;if(e==="darwin")return"macOS";if(e==="win32")return"Windows";if(e==="linux")return"Linux";if(e==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const e=navigator.userAgentData.platform;if(e==="macOS")return"macOS";if(e==="Windows")return"Windows";if(e==="Linux")return"Linux";if(e==="Android")return"Android";if(e==="iOS")return"iOS"}return null}function g7(){const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node&&typeof window>"u")try{const r=globalThis.require;if(r)return r("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function v7(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return"node"}return null}function _7(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return e.node}return null}function y7(){const t={"X-Client-Info":`supabase-js-${g0}/${p7}`},e=m7();e&&(t["X-Supabase-Client-Platform"]=e);const r=g7();r&&(t["X-Supabase-Client-Platform-Version"]=r);const i=v7();i&&(t["X-Supabase-Client-Runtime"]=i);const n=_7();return n&&(t["X-Supabase-Client-Runtime-Version"]=n),t}const x7=y7(),w7={headers:x7},b7={schema:"public"},S7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},E7={};function Y0(t){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(t)}function T7(t,e){if(Y0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(Y0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A7(t){var e=T7(t,"string");return Y0(e)=="symbol"?e:e+""}function L7(t,e,r){return(e=A7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kb(Object(r),!0).forEach(function(i){L7(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kb(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const N7=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),C7=()=>Headers,M7=(t,e,r)=>{const i=N7(r),n=C7();return async(a,s)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let f=new n(s?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),i(a,Zi(Zi({},s),{},{headers:f}))}};function k7(t){return t.endsWith("/")?t:t+"/"}function P7(t,e){var r,i;const{db:n,auth:a,realtime:s,global:l}=t,{db:c,auth:f,realtime:p,global:v}=e,y={db:Zi(Zi({},c),n),auth:Zi(Zi({},f),a),realtime:Zi(Zi({},p),s),storage:{},global:Zi(Zi(Zi({},v),l),{},{headers:Zi(Zi({},(r=v?.headers)!==null&&r!==void 0?r:{}),(i=l?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function O7(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(k7(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var R7=class extends d7{constructor(t){super(t)}},D7=class{constructor(t,e,r){var i,n;this.supabaseUrl=t,this.supabaseKey=e;const a=O7(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:b7,realtime:E7,auth:Zi(Zi({},S7),{},{storageKey:s}),global:w7},c=P7(r??{},l);if(this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(n=c.global.headers)!==null&&n!==void 0?n:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=c.auth)!==null&&f!==void 0?f:{},this.headers,c.global.fetch)}this.fetch=M7(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Zi({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new dC(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new oM(this.storageUrl.href,this.headers,this.fetch,r?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new lC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:n,storageKey:a,flowType:s,lock:l,debug:c,throwOnError:f},p,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new R7({url:this.authUrl.href,headers:Zi(Zi({},y),p),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:n,flowType:s,lock:l,debug:c,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new MC(this.realtimeUrl.href,Zi(Zi({},t),{},{params:Zi(Zi({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const j7=(t,e,r)=>new D7(t,e,r);function I7(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}I7()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const F7="https://iycvkknpgrpkmutuyigt.supabase.co",B7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml5Y3Zra25wZ3Jwa211dHV5aWd0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0NDE3NDMsImV4cCI6MjA4NTAxNzc0M30.6dCWuR_4j0QSUh7kJdF4_2aMlzgsIaMluyJt52EIHX8",_n=j7(F7,B7,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"supabase-auth-token"},global:{headers:{"x-client-info":"property-tax-survey-app"}}}),Rr=t=>typeof t=="string",u0=()=>{let t,e;const r=new Promise((i,n)=>{t=i,e=n});return r.resolve=t,r.reject=e,r},Xb=t=>t==null?"":""+t,U7=(t,e,r)=>{t.forEach(i=>{e[i]&&(r[i]=e[i])})},z7=/###/g,Jb=t=>t&&t.indexOf("###")>-1?t.replace(z7,"."):t,Qb=t=>!t||Rr(t),T0=(t,e,r)=>{const i=Rr(e)?e.split("."):e;let n=0;for(;n<i.length-1;){if(Qb(t))return{};const a=Jb(i[n]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++n}return Qb(t)?{}:{obj:t,k:Jb(i[n])}},e5=(t,e,r)=>{const{obj:i,k:n}=T0(t,e,Object);if(i!==void 0||e.length===1){i[n]=r;return}let a=e[e.length-1],s=e.slice(0,e.length-1),l=T0(t,s,Object);for(;l.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),l=T0(t,s,Object),l?.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=r},G7=(t,e,r,i)=>{const{obj:n,k:a}=T0(t,e,Object);n[a]=n[a]||[],n[a].push(r)},m1=(t,e)=>{const{obj:r,k:i}=T0(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,i))return r[i]},H7=(t,e,r)=>{const i=m1(t,r);return i!==void 0?i:m1(e,r)},$S=(t,e,r)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?Rr(t[i])||t[i]instanceof String||Rr(e[i])||e[i]instanceof String?r&&(t[i]=e[i]):$S(t[i],e[i],r):t[i]=e[i]);return t},kf=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var q7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const V7=t=>Rr(t)?t.replace(/[&<>"'\/]/g,e=>q7[e]):t;class $7{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const W7=[" ",",","?","!",";"],Z7=new $7(20),Y7=(t,e,r)=>{e=e||"",r=r||"";const i=W7.filter(s=>e.indexOf(s)<0&&r.indexOf(s)<0);if(i.length===0)return!0;const n=Z7.getRegExp(`(${i.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!n.test(t);if(!a){const s=t.indexOf(r);s>0&&!n.test(t.substring(0,s))&&(a=!0)}return a},t_=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const i=e.split(r);let n=t;for(let a=0;a<i.length;){if(!n||typeof n!="object")return;let s,l="";for(let c=a;c<i.length;++c)if(c!==a&&(l+=r),l+=i[c],s=n[l],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<i.length-1)continue;a+=c-a+1;break}n=s}return n},K0=t=>t?.replace("_","-"),K7={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class g1{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||K7,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,i,n){return n&&!this.debug?null:(Rr(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new g1(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new g1(this.logger,e)}}var Cu=new g1;class tg{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const n=this.observers[i].get(r)||0;this.observers[i].set(r,n+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([n,a])=>{for(let s=0;s<a;s++)n(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,a])=>{for(let s=0;s<a;s++)n.apply(n,[e,...r])})}}class t5 extends tg{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,i,n={}){const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,s=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],i&&(Array.isArray(i)?l.push(...i):Rr(i)&&a?l.push(...i.split(a)):l.push(i)));const c=m1(this.data,l);return!c&&!r&&!i&&e.indexOf(".")>-1&&(e=l[0],r=l[1],i=l.slice(2).join(".")),c||!s||!Rr(i)?c:t_(this.data?.[e]?.[r],i,a)}addResource(e,r,i,n,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[e,r];i&&(l=l.concat(s?i.split(s):i)),e.indexOf(".")>-1&&(l=e.split("."),n=r,r=l[1]),this.addNamespaces(r),e5(this.data,l,n),a.silent||this.emit("added",e,r,i,n)}addResources(e,r,i,n={silent:!1}){for(const a in i)(Rr(i[a])||Array.isArray(i[a]))&&this.addResource(e,r,a,i[a],{silent:!0});n.silent||this.emit("added",e,r,i)}addResourceBundle(e,r,i,n,a,s={silent:!1,skipCopy:!1}){let l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),n=i,i=r,r=l[1]),this.addNamespaces(r);let c=m1(this.data,l)||{};s.skipCopy||(i=JSON.parse(JSON.stringify(i))),n?$S(c,i,a):c={...c,...i},e5(this.data,l,c),s.silent||this.emit("added",e,r,i)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(n=>r[n]&&Object.keys(r[n]).length>0)}toJSON(){return this.data}}var WS={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,i,n){return t.forEach(a=>{e=this.processors[a]?.process(e,r,i,n)??e}),e}};const ZS=Symbol("i18next/PATH_KEY");function X7(){const t=[],e=Object.create(null);let r;return e.get=(i,n)=>(r?.revoke?.(),n===ZS?t:(t.push(n),r=Proxy.revocable(i,e),r.proxy)),Proxy.revocable(Object.create(null),e).proxy}function r_(t,e){const{[ZS]:r}=t(X7());return r.join(e?.keySeparator??".")}const r5={},$v=t=>!Rr(t)&&typeof t!="boolean"&&typeof t!="number";class v1 extends tg{constructor(e,r={}){super(),U7(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Cu.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const i={...r};if(e==null)return!1;const n=this.resolve(e,i);if(n?.res===void 0)return!1;const a=$v(n.res);return!(i.returnObjects===!1&&a)}extractFromKey(e,r){let i=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const n=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const s=i&&e.indexOf(i)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Y7(e,i,n);if(s&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Rr(a)?[a]:a};const f=e.split(i);(i!==n||i===n&&this.options.ns.indexOf(f[0])>-1)&&(a=f.shift()),e=f.join(n)}return{key:e,namespaces:Rr(a)?[a]:a}}translate(e,r,i){let n=typeof r=="object"?{...r}:r;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";typeof e=="function"&&(e=r_(e,{...this.options,...n})),Array.isArray(e)||(e=[String(e)]);const a=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],n),f=c[c.length-1];let p=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const v=n.lng||this.language,y=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return y?a?{res:`${f}${p}${l}`,usedKey:l,exactUsedKey:l,usedLng:v,usedNS:f,usedParams:this.getUsedParamsDetails(n)}:`${f}${p}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:v,usedNS:f,usedParams:this.getUsedParamsDetails(n)}:l;const _=this.resolve(e,n);let T=_?.res;const S=_?.usedKey||l,C=_?.exactUsedKey||l,O=["[object Number]","[object Function]","[object RegExp]"],I=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,D=!this.i18nFormat||this.i18nFormat.handleAsObject,q=n.count!==void 0&&!Rr(n.count),te=v1.hasDefaultValue(n),ce=q?this.pluralResolver.getSuffix(v,n.count,n):"",F=n.ordinal&&q?this.pluralResolver.getSuffix(v,n.count,{ordinal:!1}):"",K=q&&!n.ordinal&&n.count===0,B=K&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${ce}`]||n[`defaultValue${F}`]||n.defaultValue;let X=T;D&&!T&&te&&(X=B);const j=$v(X),W=Object.prototype.toString.apply(X);if(D&&X&&j&&O.indexOf(W)<0&&!(Rr(I)&&Array.isArray(X))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ue=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,X,{...n,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(_.res=ue,_.usedParams=this.getUsedParamsDetails(n),_):ue}if(s){const ue=Array.isArray(X),de=ue?[]:{},xe=ue?C:S;for(const oe in X)if(Object.prototype.hasOwnProperty.call(X,oe)){const be=`${xe}${s}${oe}`;te&&!T?de[oe]=this.translate(be,{...n,defaultValue:$v(B)?B[oe]:void 0,joinArrays:!1,ns:c}):de[oe]=this.translate(be,{...n,joinArrays:!1,ns:c}),de[oe]===be&&(de[oe]=X[oe])}T=de}}else if(D&&Rr(I)&&Array.isArray(T))T=T.join(I),T&&(T=this.extendTranslation(T,e,n,i));else{let ue=!1,de=!1;!this.isValidLookup(T)&&te&&(ue=!0,T=B),this.isValidLookup(T)||(de=!0,T=l);const oe=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&de?void 0:T,be=te&&B!==T&&this.options.updateMissing;if(de||ue||be){if(this.logger.log(be?"updateKey":"missingKey",v,f,l,be?B:T),s){const Q=this.resolve(l,{...n,keySeparator:!1});Q&&Q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let _e=[];const Le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Le&&Le[0])for(let Q=0;Q<Le.length;Q++)_e.push(Le[Q]);else this.options.saveMissingTo==="all"?_e=this.languageUtils.toResolveHierarchy(n.lng||this.language):_e.push(n.lng||this.language);const Ne=(Q,P,G)=>{const H=te&&G!==T?G:oe;this.options.missingKeyHandler?this.options.missingKeyHandler(Q,f,P,H,be,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(Q,f,P,H,be,n),this.emit("missingKey",Q,f,P,T)};this.options.saveMissing&&(this.options.saveMissingPlurals&&q?_e.forEach(Q=>{const P=this.pluralResolver.getSuffixes(Q,n);K&&n[`defaultValue${this.options.pluralSeparator}zero`]&&P.indexOf(`${this.options.pluralSeparator}zero`)<0&&P.push(`${this.options.pluralSeparator}zero`),P.forEach(G=>{Ne([Q],l+G,n[`defaultValue${G}`]||B)})}):Ne(_e,l,B))}T=this.extendTranslation(T,e,n,_,i),de&&T===l&&this.options.appendNamespaceToMissingKey&&(T=`${f}${p}${l}`),(de||ue)&&this.options.parseMissingKeyHandler&&(T=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${p}${l}`:l,ue?T:void 0,n))}return a?(_.res=T,_.usedParams=this.getUsedParamsDetails(n),_):T}extendTranslation(e,r,i,n,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const c=Rr(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(c){const v=e.match(this.interpolator.nestingRegexp);f=v&&v.length}let p=i.replace&&!Rr(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,i.lng||this.language||n.usedLng,i),c){const v=e.match(this.interpolator.nestingRegexp),y=v&&v.length;f<y&&(i.nest=!1)}!i.lng&&n&&n.res&&(i.lng=this.language||n.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>a?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${r[0]}`),null):this.translate(...v,r),i)),i.interpolation&&this.interpolator.reset()}const s=i.postProcess||this.options.postProcess,l=Rr(s)?[s]:s;return e!=null&&l?.length&&i.applyPostProcessor!==!1&&(e=WS.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,r={}){let i,n,a,s,l;return Rr(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(i))return;const f=this.extractFromKey(c,r),p=f.key;n=p;let v=f.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const y=r.count!==void 0&&!Rr(r.count),_=y&&!r.ordinal&&r.count===0,T=r.context!==void 0&&(Rr(r.context)||typeof r.context=="number")&&r.context!=="",S=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);v.forEach(C=>{this.isValidLookup(i)||(l=C,!r5[`${S[0]}-${C}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(r5[`${S[0]}-${C}`]=!0,this.logger.warn(`key "${n}" for languages "${S.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(O=>{if(this.isValidLookup(i))return;s=O;const I=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(I,p,O,C,r);else{let q;y&&(q=this.pluralResolver.getSuffix(O,r.count,r));const te=`${this.options.pluralSeparator}zero`,ce=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(r.ordinal&&q.indexOf(ce)===0&&I.push(p+q.replace(ce,this.options.pluralSeparator)),I.push(p+q),_&&I.push(p+te)),T){const F=`${p}${this.options.contextSeparator||"_"}${r.context}`;I.push(F),y&&(r.ordinal&&q.indexOf(ce)===0&&I.push(F+q.replace(ce,this.options.pluralSeparator)),I.push(F+q),_&&I.push(F+te))}}let D;for(;D=I.pop();)this.isValidLookup(i)||(a=D,i=this.getResource(O,C,D,r))}))})}),{res:i,usedKey:n,exactUsedKey:a,usedLng:s,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,i,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,i,n):this.resourceStore.getResource(e,r,i,n)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Rr(e.replace);let n=i?e.replace:e;if(i&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!i){n={...n};for(const a of r)delete n[a]}return n}static hasDefaultValue(e){const r="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&r===i.substring(0,r.length)&&e[i]!==void 0)return!0;return!1}}class n5{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Cu.create("languageUtils")}getScriptPartFromCode(e){if(e=K0(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=K0(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Rr(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(i=>{if(r)return;const n=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(n))&&(r=n)}),!r&&this.options.supportedLngs&&e.forEach(i=>{if(r)return;const n=this.getScriptPartFromCode(i);if(this.isSupportedCode(n))return r=n;const a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Rr(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let i=e[r];return i||(i=e[this.getScriptPartFromCode(r)]),i||(i=e[this.formatLanguageCode(r)]),i||(i=e[this.getLanguagePartFromCode(r)]),i||(i=e.default),i||[]}toResolveHierarchy(e,r){const i=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),n=[],a=s=>{s&&(this.isSupportedCode(s)?n.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Rr(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Rr(e)&&a(this.formatLanguageCode(e)),i.forEach(s=>{n.indexOf(s)<0&&a(this.formatLanguageCode(s))}),n}}const i5={zero:0,one:1,two:2,few:3,many:4,other:5},a5={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class J7{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Cu.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const i=K0(e==="dev"?"en":e),n=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:i,type:n});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(i,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),a5;if(!e.match(/-|_/))return a5;const c=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(c,r)}return this.pluralRulesCache[a]=s,s}needsPlural(e,r={}){let i=this.getRule(e,r);return i||(i=this.getRule("dev",r)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,i={}){return this.getSuffixes(e,i).map(n=>`${r}${n}`)}getSuffixes(e,r={}){let i=this.getRule(e,r);return i||(i=this.getRule("dev",r)),i?i.resolvedOptions().pluralCategories.sort((n,a)=>i5[n]-i5[a]).map(n=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(e,r,i={}){const n=this.getRule(e,i);return n?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${n.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,i))}}const s5=(t,e,r,i=".",n=!0)=>{let a=H7(t,e,r);return!a&&n&&Rr(r)&&(a=t_(t,r,i),a===void 0&&(a=t_(e,r,i))),a},Wv=t=>t.replace(/\$/g,"$$$$");class o5{constructor(e={}){this.logger=Cu.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:i,useRawValueToEscape:n,prefix:a,prefixEscaped:s,suffix:l,suffixEscaped:c,formatSeparator:f,unescapeSuffix:p,unescapePrefix:v,nestingPrefix:y,nestingPrefixEscaped:_,nestingSuffix:T,nestingSuffixEscaped:S,nestingOptionsSeparator:C,maxReplaces:O,alwaysFormat:I}=e.interpolation;this.escape=r!==void 0?r:V7,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=a?kf(a):s||"{{",this.suffix=l?kf(l):c||"}}",this.formatSeparator=f||",",this.unescapePrefix=p?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=y?kf(y):_||kf("$t("),this.nestingSuffix=T?kf(T):S||kf(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=O||1e3,this.alwaysFormat=I!==void 0?I:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,i)=>r?.source===i?(r.lastIndex=0,r):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,i,n){let a,s,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=_=>{if(_.indexOf(this.formatSeparator)<0){const O=s5(r,c,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(O,void 0,i,{...n,...r,interpolationkey:_}):O}const T=_.split(this.formatSeparator),S=T.shift().trim(),C=T.join(this.formatSeparator).trim();return this.format(s5(r,c,S,this.options.keySeparator,this.options.ignoreJSONStructure),C,i,{...n,...r,interpolationkey:S})};this.resetRegExp();const p=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>Wv(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?Wv(this.escape(_)):Wv(_)}].forEach(_=>{for(l=0;a=_.regex.exec(e);){const T=a[1].trim();if(s=f(T),s===void 0)if(typeof p=="function"){const C=p(e,a,n);s=Rr(C)?C:""}else if(n&&Object.prototype.hasOwnProperty.call(n,T))s="";else if(v){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${e}`),s="";else!Rr(s)&&!this.useRawValueToEscape&&(s=Xb(s));const S=_.safeValue(s);if(e=e.replace(a[0],S),v?(_.regex.lastIndex+=s.length,_.regex.lastIndex-=a[0].length):_.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r,i={}){let n,a,s;const l=(c,f)=>{const p=this.nestingOptionsSeparator;if(c.indexOf(p)<0)return c;const v=c.split(new RegExp(`${p}[ ]*{`));let y=`{${v[1]}`;c=v[0],y=this.interpolate(y,s);const _=y.match(/'/g),T=y.match(/"/g);((_?.length??0)%2===0&&!T||T.length%2!==0)&&(y=y.replace(/'/g,'"'));try{s=JSON.parse(y),f&&(s={...f,...s})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,S),`${c}${p}${y}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;n=this.nestingRegexp.exec(e);){let c=[];s={...i},s=s.replace&&!Rr(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const f=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(f!==-1&&(c=n[1].slice(f).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),n[1]=n[1].slice(0,f)),a=r(l.call(this,n[1].trim(),s),s),a&&n[0]===e&&!Rr(a))return a;Rr(a)||(a=Xb(a)),a||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),a=""),c.length&&(a=c.reduce((p,v)=>this.format(p,v,i.lng,{...i,interpolationkey:n[1].trim()}),a.trim())),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}const Q7=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const n=i[1].substring(0,i[1].length-1);e==="currency"&&n.indexOf(":")<0?r.currency||(r.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?r.range||(r.range=n.trim()):n.split(";").forEach(s=>{if(s){const[l,...c]=s.split(":"),f=c.join(":").trim().replace(/^'+|'+$/g,""),p=l.trim();r[p]||(r[p]=f),f==="false"&&(r[p]=!1),f==="true"&&(r[p]=!0),isNaN(f)||(r[p]=parseInt(f,10))}})}return{formatName:e,formatOptions:r}},l5=t=>{const e={};return(r,i,n)=>{let a=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(a={...a,[n.interpolationkey]:void 0});const s=i+JSON.stringify(a);let l=e[s];return l||(l=t(K0(i),n),e[s]=l),l(r)}},ek=t=>(e,r,i)=>t(K0(r),i)(e);class tk{constructor(e={}){this.logger=Cu.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const i=r.cacheInBuiltFormats?l5:ek;this.formats={number:i((n,a)=>{const s=new Intl.NumberFormat(n,{...a});return l=>s.format(l)}),currency:i((n,a)=>{const s=new Intl.NumberFormat(n,{...a,style:"currency"});return l=>s.format(l)}),datetime:i((n,a)=>{const s=new Intl.DateTimeFormat(n,{...a});return l=>s.format(l)}),relativetime:i((n,a)=>{const s=new Intl.RelativeTimeFormat(n,{...a});return l=>s.format(l,a.range||"day")}),list:i((n,a)=>{const s=new Intl.ListFormat(n,{...a});return l=>s.format(l)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=l5(r)}format(e,r,i,n={}){const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{const{formatName:f,formatOptions:p}=Q7(c);if(this.formats[f]){let v=l;try{const y=n?.formatParams?.[n.interpolationkey]||{},_=y.locale||y.lng||n.locale||n.lng||i;v=this.formats[f](l,_,{...p,...n,...y})}catch(y){this.logger.warn(y)}return v}else this.logger.warn(`there was no format function for ${f}`);return l},e)}}const rk=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class nk extends tg{constructor(e,r,i,n={}){super(),this.backend=e,this.store=r,this.services=i,this.languageUtils=i.languageUtils,this.options=n,this.logger=Cu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,n.backend,n)}queueLoad(e,r,i,n){const a={},s={},l={},c={};return e.forEach(f=>{let p=!0;r.forEach(v=>{const y=`${f}|${v}`;!i.reload&&this.store.hasResourceBundle(f,v)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?s[y]===void 0&&(s[y]=!0):(this.state[y]=1,p=!1,s[y]===void 0&&(s[y]=!0),a[y]===void 0&&(a[y]=!0),c[v]===void 0&&(c[v]=!0)))}),p||(l[f]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,r,i){const n=e.split("|"),a=n[0],s=n[1];r&&this.emit("failedLoading",a,s,r),!r&&i&&this.store.addResourceBundle(a,s,i,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&i&&(this.state[e]=0);const l={};this.queue.forEach(c=>{G7(c.loaded,[a],s),rk(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(f=>{l[f]||(l[f]={});const p=c.loaded[f];p.length&&p.forEach(v=>{l[f][v]===void 0&&(l[f][v]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,r,i,n=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:i,tried:n,wait:a,callback:s});return}this.readingCalls++;const l=(f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(f&&p&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,i,n+1,a*2,s)},a);return}s(f,p)},c=this.backend[i].bind(this.backend);if(c.length===2){try{const f=c(e,r);f&&typeof f.then=="function"?f.then(p=>l(null,p)).catch(l):l(null,f)}catch(f){l(f)}return}return c(e,r,l)}prepareLoading(e,r,i={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();Rr(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Rr(r)&&(r=[r]);const a=this.queueLoad(e,r,i,n);if(!a.toLoad.length)return a.pending.length||n(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,r,i){this.prepareLoading(e,r,{},i)}reload(e,r,i){this.prepareLoading(e,r,{reload:!0},i)}loadOne(e,r=""){const i=e.split("|"),n=i[0],a=i[1];this.read(n,a,"read",void 0,void 0,(s,l)=>{s&&this.logger.warn(`${r}loading namespace ${a} for language ${n} failed`,s),!s&&l&&this.logger.log(`${r}loaded namespace ${a} for language ${n}`,l),this.loaded(e,s,l)})}saveMissing(e,r,i,n,a,s={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${i}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const c={...s,isUpdate:a},f=this.backend.create.bind(this.backend);if(f.length<6)try{let p;f.length===5?p=f(e,r,i,n,c):p=f(e,r,i,n),p&&typeof p.then=="function"?p.then(v=>l(null,v)).catch(l):l(null,p)}catch(p){l(p)}else f(e,r,i,n,l,c)}!e||!e[0]||this.store.addResource(e[0],r,i,n)}}}const Zv=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Rr(t[1])&&(e.defaultValue=t[1]),Rr(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(i=>{e[i]=r[i]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),u5=t=>(Rr(t.ns)&&(t.ns=[t.ns]),Rr(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Rr(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Lm=()=>{},ik=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class A0 extends tg{constructor(e={},r){if(super(),this.options=u5(e),this.services={},this.logger=Cu,this.modules={external:[]},ik(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(Rr(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=Zv();this.options={...i,...this.options,...u5(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler),this.options.debug===!0&&typeof console<"u"&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const n=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Cu.init(n(this.modules.logger),this.options):Cu.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=tk;const p=new n5(this.options);this.store=new t5(this.options.resources,this.options);const v=this.services;v.logger=Cu,v.resourceStore=this.store,v.languageUtils=p,v.pluralResolver=new J7(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=n(f),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new o5(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new nk(n(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...T)=>{this.emit(_,...T)}),this.modules.languageDetector&&(v.languageDetector=n(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=n(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new v1(this.services,this.options),this.translator.on("*",(_,...T)=>{this.emit(_,...T)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Lm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...p)=>this.store[f](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...p)=>(this.store[f](...p),this)});const l=u0(),c=()=>{const f=(p,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(v),r(p,v)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,r=Lm){let i=r;const n=Rr(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(n?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const a=[],s=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};n?s(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload?.forEach?.(l=>s(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(l)})}else i(null)}reloadResources(e,r,i){const n=u0();return typeof e=="function"&&(i=e,e=void 0),typeof r=="function"&&(i=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),i||(i=Lm),this.services.backendConnector.reload(e,r,a=>{n.resolve(),i(a)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&WS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const i=this.languages[r];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const i=u0();this.emit("languageChanging",e);const n=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===e&&(n(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve((...f)=>this.t(...f)),r&&r(l,(...f)=>this.t(...f))},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=Rr(l)?l:l&&l[0],f=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Rr(l)?[l]:l);f&&(this.language||n(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,p=>{a(p,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),i}getFixedT(e,r,i){const n=(a,s,...l)=>{let c;typeof s!="object"?c=this.options.overloadTranslationOptionHandler([a,s].concat(l)):c={...s},c.lng=c.lng||n.lng,c.lngs=c.lngs||n.lngs,c.ns=c.ns||n.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||i||n.keyPrefix);const f=this.options.keySeparator||".";let p;return c.keyPrefix&&Array.isArray(a)?p=a.map(v=>(typeof v=="function"&&(v=r_(v,{...this.options,...s})),`${c.keyPrefix}${f}${v}`)):(typeof a=="function"&&(a=r_(a,{...this.options,...s})),p=c.keyPrefix?`${c.keyPrefix}${f}${a}`:a),this.t(p,c)};return Rr(e)?n.lng=e:n.lngs=e,n.ns=r,n.keyPrefix=i,n}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=r.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const s=(l,c)=>{const f=this.services.backendConnector.state[`${l}|${c}`];return f===-1||f===0||f===2};if(r.precheck){const l=r.precheck(this,s);if(l!==void 0)return l}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(i,e)&&(!n||s(a,e)))}loadNamespaces(e,r){const i=u0();return this.options.ns?(Rr(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{i.resolve(),r&&r(n)}),i):(r&&r(),Promise.resolve())}loadLanguages(e,r){const i=u0();Rr(e)&&(e=[e]);const n=this.options.preload||[],a=e.filter(s=>n.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=n.concat(a),this.loadResources(s=>{i.resolve(),r&&r(s)}),i):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const n=new Intl.Locale(e);if(n&&n.getTextInfo){const a=n.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new n5(Zv());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const i=new A0(e,r);return i.createInstance=A0.createInstance,i}cloneInstance(e={},r=Lm){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},a=new A0(n);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},i){const l=Object.keys(this.store.data).reduce((c,f)=>(c[f]={...this.store.data[f]},c[f]=Object.keys(c[f]).reduce((p,v)=>(p[v]={...c[f][v]},p),c[f]),c),{});a.store=new t5(l,n),a.services.resourceStore=a.store}if(e.interpolation){const c={...Zv().interpolation,...this.options.interpolation,...e.interpolation},f={...n,interpolation:c};a.services.interpolator=new o5(f)}return a.translator=new v1(a.services,n),a.translator.on("*",(l,...c)=>{a.emit(l,...c)}),a.init(n,r),a.translator.options=n,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const eo=A0.createInstance();eo.createInstance;eo.dir;eo.init;eo.loadResources;eo.reloadResources;eo.use;eo.changeLanguage;eo.getFixedT;eo.t;eo.exists;eo.setDefaultNamespace;eo.hasLoadedNamespace;eo.loadNamespaces;eo.loadLanguages;const ak=(t,e,r,i)=>{const n=[r,{code:e,...i||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(n,"warn","react-i18next::",!0);Dh(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...n):console?.warn&&console.warn(...n)},c5={},YS=(t,e,r,i)=>{Dh(r)&&c5[r]||(Dh(r)&&(c5[r]=new Date),ak(t,e,r,i))},KS=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},n_=(t,e,r)=>{t.loadNamespaces(e,KS(t,r))},h5=(t,e,r,i)=>{if(Dh(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return n_(t,r,i);r.forEach(n=>{t.options.ns.indexOf(n)<0&&t.options.ns.push(n)}),t.loadLanguages(e,KS(t,i))},sk=(t,e,r={})=>!e.languages||!e.languages.length?(YS(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(i,n)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!n(i.isLanguageChangingTo,t))return!1}}),Dh=t=>typeof t=="string",ok=t=>typeof t=="object"&&t!==null,lk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,uk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},ck=t=>uk[t],hk=t=>t.replace(lk,ck);let i_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:hk,transDefaultProps:void 0};const fk=(t={})=>{i_={...i_,...t}},dk=()=>i_;let XS;const pk=t=>{XS=t},mk=()=>XS,gk={type:"3rdParty",init(t){fk(t.options.react),pk(t)}},vk=ve.createContext();class _k{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Yv={exports:{}},Kv={};var f5;function yk(){if(f5)return Kv;f5=1;var t=$1();function e(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var r=typeof Object.is=="function"?Object.is:e,i=t.useState,n=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(v,y){var _=y(),T=i({inst:{value:_,getSnapshot:y}}),S=T[0].inst,C=T[1];return a(function(){S.value=_,S.getSnapshot=y,c(S)&&C({inst:S})},[v,_,y]),n(function(){return c(S)&&C({inst:S}),v(function(){c(S)&&C({inst:S})})},[v]),s(_),_}function c(v){var y=v.getSnapshot;v=v.value;try{var _=y();return!r(v,_)}catch{return!0}}function f(v,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Kv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Kv}var d5;function xk(){return d5||(d5=1,Yv.exports=yk()),Yv.exports}var wk=xk();const bk=(t,e)=>Dh(e)?e:ok(e)&&Dh(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Sk={t:bk,ready:!1},Ek=()=>()=>{},rg=(t,e={})=>{const{i18n:r}=e,{i18n:i,defaultNS:n}=ve.useContext(vk)||{},a=r||i||mk();a&&!a.reportNamespaces&&(a.reportNamespaces=new _k),a||YS(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=ve.useMemo(()=>({...dk(),...a?.options?.react,...e}),[a,e]),{useSuspense:l,keyPrefix:c}=s,f=n||a?.options?.defaultNS,p=Dh(f)?[f]:f||["translation"],v=ve.useMemo(()=>p,p);a?.reportNamespaces?.addUsedNamespaces?.(v);const y=ve.useRef(0),_=ve.useCallback(B=>{if(!a)return Ek;const{bindI18n:X,bindI18nStore:j}=s,W=()=>{y.current+=1,B()};return X&&a.on(X,W),j&&a.store.on(j,W),()=>{X&&X.split(" ").forEach(ue=>a.off(ue,W)),j&&j.split(" ").forEach(ue=>a.store.off(ue,W))}},[a,s]),T=ve.useRef(),S=ve.useCallback(()=>{if(!a)return Sk;const B=!!(a.isInitialized||a.initializedStoreOnce)&&v.every(xe=>sk(xe,a,s)),X=e.lng||a.language,j=y.current,W=T.current;if(W&&W.ready===B&&W.lng===X&&W.keyPrefix===c&&W.revision===j)return W;const de={t:a.getFixedT(X,s.nsMode==="fallback"?v:v[0],c),ready:B,lng:X,keyPrefix:c,revision:j};return T.current=de,de},[a,v,c,s,e.lng]),[C,O]=ve.useState(0),{t:I,ready:D}=wk.useSyncExternalStore(_,S,S);ve.useEffect(()=>{if(a&&!D&&!l){const B=()=>O(X=>X+1);e.lng?h5(a,e.lng,v,B):n_(a,v,B)}},[a,e.lng,v,D,l,C]);const q=a||{},te=ve.useRef(null),ce=ve.useRef(),F=B=>{const X=Object.getOwnPropertyDescriptors(B);X.__original&&delete X.__original;const j=Object.create(Object.getPrototypeOf(B),X);if(!Object.prototype.hasOwnProperty.call(j,"__original"))try{Object.defineProperty(j,"__original",{value:B,writable:!1,enumerable:!1,configurable:!1})}catch{}return j},K=ve.useMemo(()=>{const B=q,X=B?.language;let j=B;B&&(te.current&&te.current.__original===B?ce.current!==X?(j=F(B),te.current=j,ce.current=X):j=te.current:(j=F(B),te.current=j,ce.current=X));const W=[I,j,D];return W.t=I,W.i18n=j,W.ready=D,W},[I,q,D,q.resolvedLanguage,q.language,q.languages]);if(a&&l&&!D)throw new Promise(B=>{const X=()=>B();e.lng?h5(a,e.lng,v,X):n_(a,v,X)});return K},Tk="modulepreload",Ak=function(t){return"/new_with_database/"+t},p5={},ad=function(e,r,i){let n=Promise.resolve();if(r&&r.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");n=c(r.map(f=>{if(f=Ak(f),f in p5)return;p5[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":Tk,p||(y.as="script"),y.crossOrigin="",y.href=f,l&&y.setAttribute("nonce",l),document.head.appendChild(y),p)return new Promise((_,T)=>{y.addEventListener("load",_),y.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return n.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},JS=ve.createContext(null),gp=()=>{const t=ve.useContext(JS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Lk=({children:t})=>{const[e,r]=ve.useState(null),[i,n]=ve.useState(null),[a,s]=ve.useState(!0),[l,c]=ve.useState(null),f=async F=>{try{const{data:K,error:B}=await _n.from("user_profiles").select("*").eq("id",F).single();if(B){if(console.log("Profile fetch error (may be normal for new users):",B.code),B.code==="PGRST116"){const X=(await _n.auth.getUser()).data.user,{data:j,error:W}=await _n.from("user_profiles").insert({id:F,email:X?.email,role:"surveyor"}).select().single();n(!W&&j?j:{id:F,role:"surveyor",email:X?.email});return}n({id:F,role:"surveyor"});return}n(K)}catch(K){console.error("Error in fetchProfile:",K),n({id:F,role:"surveyor"})}};ve.useEffect(()=>{_n.auth.getSession().then(({data:{session:K}})=>{r(K?.user??null),K?.user&&(f(K.user.id),ad(async()=>{const{dataService:B}=await Promise.resolve().then(()=>m5);return{dataService:B}},[]).then(({dataService:B})=>{B.fetchAll(K.user.id)})),s(!1)});const{data:{subscription:F}}=_n.auth.onAuthStateChange(async(K,B)=>{r(B?.user??null),B?.user?(await f(B.user.id),ad(async()=>{const{dataService:X}=await Promise.resolve().then(()=>m5);return{dataService:X}},void 0).then(({dataService:X})=>{X.fetchAll(B.user.id)})):(n(null),ad(async()=>{const{dataStore:X}=await Promise.resolve().then(()=>Rk);return{dataStore:X}},void 0).then(({dataStore:X})=>{X.clear()}))});return()=>F.unsubscribe()},[]);const p=()=>i?.role==="admin",v=()=>i?.role==="supervisor",ce={user:e,profile:i,loading:a,error:l,isAdmin:p,isSupervisor:v,isSurveyor:()=>i?.role==="surveyor",hasRole:F=>i?.role===F,hasAnyRole:F=>F.includes(i?.role),canManageUsers:()=>p(),canManageZones:()=>p()||v(),canViewAllSurveys:()=>p()||v(),canApproveSurveys:()=>p()||v(),canExportData:()=>p()||v(),updateProfile:async F=>{if(!e)return{error:"Not authenticated"};const{data:K,error:B}=await _n.from("user_profiles").update({...F,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();return B||n(K),{data:K,error:B}},signOut:async()=>{await _n.auth.signOut(),r(null),n(null)},refreshProfile:()=>e&&f(e.id)};return x.jsx(JS.Provider,{value:ce,children:t})},Nm=[{code:"en",name:"English",flag:"",nativeName:"English"},{code:"hi",name:"Hindi",flag:"",nativeName:""},{code:"mr",name:"Marathi",flag:"",nativeName:""}],Nk=({variant:t="dropdown"})=>{const{i18n:e,t:r}=rg(),[i,n]=ve.useState(!1),a=ve.useRef(null),s=Nm.find(c=>c.code===e.language)||Nm[0];ve.useEffect(()=>{const c=f=>{a.current&&!a.current.contains(f.target)&&n(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const l=c=>{e.changeLanguage(c),localStorage.setItem("preferredLanguage",c),n(!1)};return t==="compact"?x.jsx("div",{className:"flex gap-1",children:Nm.map(c=>x.jsx("button",{onClick:()=>l(c.code),className:`px-2 py-1 rounded-lg text-xs font-medium transition-all ${e.language===c.code?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:c.name,children:c.code.toUpperCase()},c.code))}):x.jsxs("div",{className:"relative",ref:a,children:[x.jsxs("button",{onClick:()=>n(!i),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all",children:[x.jsx("span",{className:"text-lg",children:s.flag}),x.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.nativeName}),x.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&x.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50 animate-fadeIn",children:[x.jsx("p",{className:"px-4 py-1 text-xs font-semibold text-gray-400 uppercase tracking-wide",children:r("language.select")}),Nm.map(c=>x.jsxs("button",{onClick:()=>l(c.code),className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${e.language===c.code?"bg-blue-50 text-blue-600":"hover:bg-gray-50 text-gray-700"}`,children:[x.jsx("span",{className:"text-xl",children:c.flag}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium",children:c.nativeName}),x.jsx("p",{className:"text-xs text-gray-400",children:c.name})]}),e.language===c.code&&x.jsx("svg",{className:"w-5 h-5 ml-auto text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},c.code))]})]})},Ck="v3.0.2-POLISHED",Mk=()=>{const{t}=rg(),e=sh(),r=pc(),[i,n]=ve.useState(!1),{profile:a,isAdmin:s,isSupervisor:l,canManageZones:c,signOut:f}=gp(),p=async()=>{await f(),e("/login")},v=()=>{n(!1)};return x.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998] md:hidden",onClick:v}),x.jsx("aside",{className:`fixed md:static inset-y-0 left-0 z-[9999] w-64 bg-gradient-to-b from-slate-900 to-slate-800 text-white transform transition-transform duration-300 ease-in-out ${i?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsxs("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-xl font-bold",children:"INDICES"}),x.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:"Geospatial Survey System"})]}),x.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-slate-700 transition-colors",onClick:v,children:x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[x.jsx(wh,{to:"/dashboard",icon:"",active:r.pathname==="/dashboard",onClick:v,children:t("nav.dashboard")}),x.jsx(wh,{to:"/survey",icon:"",active:r.pathname==="/survey",onClick:v,children:t("nav.surveyMap")}),x.jsx(wh,{to:"/surveyed-buildings",icon:"",active:r.pathname==="/surveyed-buildings",onClick:v,children:t("nav.allBuildings")}),x.jsx(wh,{to:"/my-assignments",icon:"",active:r.pathname==="/my-assignments",onClick:v,children:t("nav.myAssignments")}),c()&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"pt-4 pb-2",children:x.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wider px-4",children:"Management"})}),x.jsx(wh,{to:"/zones",icon:"",active:r.pathname==="/zones",onClick:v,children:t("nav.zones")})]}),s()&&x.jsxs(x.Fragment,{children:[x.jsx(wh,{to:"/users",icon:"",active:r.pathname==="/users",onClick:v,children:t("nav.users")}),x.jsx(wh,{to:"/admin",icon:"",active:r.pathname==="/admin",onClick:v,children:t("nav.admin")})]})]}),x.jsxs("div",{className:"p-4 border-t border-slate-700 space-y-3",children:[a&&x.jsxs("div",{className:"flex items-center gap-3 px-2 py-2",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:a.full_name?.charAt(0)||a.email?.charAt(0)||"?"}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"text-sm font-medium text-white truncate",children:a.full_name||"User"}),x.jsx("p",{className:"text-xs text-slate-400 capitalize",children:t(`roles.${a.role}`)})]})]}),x.jsx("button",{onClick:p,className:"w-full py-3 px-4 bg-red-600 hover:bg-red-700 rounded-lg font-medium transition-colors text-base",children:t("auth.logout")}),x.jsx("div",{className:"text-center pt-2 border-t border-slate-700 mt-2",children:x.jsx("p",{className:"text-xs text-slate-500",children:Ck})})]})]})}),x.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[x.jsx("button",{className:"md:hidden p-3 -ml-2 rounded-lg hover:bg-gray-100 active:bg-gray-200 transition-colors",onClick:()=>n(!0),"aria-label":"Open menu",children:x.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),x.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:t("common.appName")}),x.jsx(Nk,{variant:"compact"})]}),x.jsx("main",{className:"flex-1 overflow-auto",children:x.jsx(TS,{})})]})]})},wh=({to:t,icon:e,children:r,active:i,onClick:n})=>x.jsxs(F_,{to:t,onClick:n,className:`flex items-center space-x-3 py-4 px-4 rounded-lg transition-colors ${i?"bg-blue-600 text-white":"hover:bg-slate-700 text-white"}`,children:[x.jsx("span",{className:"text-2xl",children:e}),x.jsx("span",{className:"font-medium text-base",children:r})]}),kk=()=>x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:x.jsx("div",{className:"w-full max-w-md",children:x.jsx(TS,{})})}),Pk=()=>{const t=sh(),[e,r]=ve.useState(""),[i,n]=ve.useState(""),[a,s]=ve.useState(!1),[l,c]=ve.useState(!0);ve.useEffect(()=>{let p=!0;const v=setTimeout(()=>{p&&c(!1)},3e3);_n.auth.getSession().then(({data:{session:_}})=>{p&&(_&&t("/dashboard",{replace:!0}),c(!1))}).catch(_=>{console.error("Session check failed:",_),p&&c(!1)});const{data:{subscription:y}}=_n.auth.onAuthStateChange((_,T)=>{console.log("Login page - Auth event:",_),_==="SIGNED_IN"&&T&&setTimeout(()=>{t("/dashboard",{replace:!0})},100)});return()=>{p=!1,clearTimeout(v),y.unsubscribe()}},[t]);const f=async p=>{if(!e||!i){alert("Please enter email and password");return}s(!0);try{const{data:v,error:y}=p?await _n.auth.signUp({email:e,password:i,options:{emailRedirectTo:window.location.origin+"/new_with_database/#/dashboard"}}):await _n.auth.signInWithPassword({email:e,password:i});if(y)throw y;p&&(alert("Sign up successful! You can now log in."),s(!1))}catch(v){console.error("Auth error:",v.message),alert(v.message),s(!1)}};return l?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:x.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):x.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[x.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"}),x.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-green-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"})]}),x.jsxs("div",{className:"relative z-10 w-full max-w-md px-6",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-green-500 rounded-2xl shadow-lg mb-4",children:x.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),x.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"INDICES"}),x.jsx("p",{className:"text-blue-300 mt-1 text-sm",children:"Geospatial Survey System"})]}),x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/20",children:[x.jsx("h2",{className:"text-xl font-semibold text-white text-center mb-6",children:"Surveyor Login"}),x.jsxs("form",{className:"space-y-5",onSubmit:p=>{p.preventDefault(),f(!1)},children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"Email"}),x.jsx("input",{type:"email",value:e,onChange:p=>r(p.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"surveyor@example.com",autoComplete:"email"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"Password"}),x.jsx("input",{type:"password",value:i,onChange:p=>n(p.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"",autoComplete:"current-password"})]}),x.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl shadow-lg transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:a?x.jsxs("span",{className:"flex items-center justify-center gap-2",children:[x.jsxs("svg",{className:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Sign In"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-white/20"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 bg-transparent text-gray-400",children:"or"})})]}),x.jsx("button",{type:"button",onClick:()=>f(!0),disabled:a,className:"w-full py-3 px-4 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-xl border border-white/20 transition-all",children:"Create Account"})]})]}),x.jsx("p",{className:"text-center text-gray-500 text-xs mt-6",children:"Powered by INDICES Geospatial Survey System"})]})]})};class Ok{constructor(){this.data={surveys:[],stats:{total:0,today:0,thisWeek:0,thisMonth:0},assignments:[],buildings:[],loading:!1,lastUpdate:null},this.listeners=[]}get(e){return this.data[e]}set(e,r){this.data[e]=r,this.data.lastUpdate=new Date,this.notify()}setMultiple(e){Object.assign(this.data,e),this.data.lastUpdate=new Date,this.notify()}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(r=>r!==e)}}notify(){this.listeners.forEach(e=>e(this.data))}clear(){this.data={surveys:[],stats:{total:0,today:0,thisWeek:0,thisMonth:0},assignments:[],buildings:[],loading:!1,lastUpdate:null},this.notify()}}const ya=new Ok,Rk=Object.freeze(Object.defineProperty({__proto__:null,dataStore:ya},Symbol.toStringTag,{value:"Module"}));function sd(t){const[e,r]=ve.useState(()=>ya.get(t));return ve.useEffect(()=>ya.subscribe(n=>{r(n[t])}),[t]),e}function Dk(){const[t,e]=ve.useState(()=>ya.data);return ve.useEffect(()=>ya.subscribe(e),[]),t}const od={async fetchSurveys(){console.log("[DataService] Fetching surveys..."),ya.set("loading",!0);try{const{data:t,error:e}=await _n.from("surveys").select("*").order("created_at",{ascending:!1});return e?(console.error("[DataService] Survey fetch error:",e),{success:!1,error:e}):(ya.setMultiple({surveys:t||[],loading:!1}),console.log(`[DataService] Loaded ${t?.length||0} surveys`),{success:!0,data:t})}catch(t){return console.error("[DataService] Survey fetch exception:",t),ya.set("loading",!1),{success:!1,error:t}}},async fetchStats(){console.log("[DataService] Fetching stats..."),ya.set("loading",!0);try{const{data:t,error:e}=await _n.from("surveys").select("created_at, status");if(e)return console.error("[DataService] Stats fetch error:",e),ya.set("loading",!1),{success:!1,error:e};const r=new Date,i=new Date(r.getFullYear(),r.getMonth(),r.getDate()),n=new Date(r.setDate(r.getDate()-r.getDay())),a=new Date(r.getFullYear(),r.getMonth(),1),s={total:t.length,today:t.filter(l=>new Date(l.created_at)>=i).length,thisWeek:t.filter(l=>new Date(l.created_at)>=n).length,thisMonth:t.filter(l=>new Date(l.created_at)>=a).length};return ya.setMultiple({stats:s,loading:!1}),console.log("[DataService] Stats calculated:",s),{success:!0,data:s}}catch(t){return console.error("[DataService] Stats fetch exception:",t),ya.set("loading",!1),{success:!1,error:t}}},async fetchAssignments(t){console.log("[DataService] Fetching assignments for user:",t),ya.set("loading",!0);try{const{data:e,error:r}=await _n.from("survey_zones").select("*").eq("assigned_to",t).order("created_at",{ascending:!1});return r?(console.error("[DataService] Assignments fetch error:",r),ya.set("loading",!1),{success:!1,error:r}):(ya.setMultiple({assignments:e||[],loading:!1}),console.log(`[DataService] Loaded ${e?.length||0} assignments`),{success:!0,data:e})}catch(e){return console.error("[DataService] Assignments fetch exception:",e),ya.set("loading",!1),{success:!1,error:e}}},async fetchBuildings(){console.log("[DataService] Fetching buildings..."),ya.set("loading",!0);try{const{data:t,error:e}=await _n.from("surveys").select("*").not("geometry","is",null).order("created_at",{ascending:!1});return e?(console.error("[DataService] Buildings fetch error:",e),ya.set("loading",!1),{success:!1,error:e}):(ya.setMultiple({buildings:t||[],loading:!1}),console.log(`[DataService] Loaded ${t?.length||0} buildings`),{success:!0,data:t})}catch(t){return console.error("[DataService] Buildings fetch exception:",t),ya.set("loading",!1),{success:!1,error:t}}},async fetchAll(t){console.log("[DataService] Fetching ALL data...");const r=(await Promise.allSettled([this.fetchSurveys(),this.fetchStats(),t?this.fetchAssignments(t):Promise.resolve({success:!0}),this.fetchBuildings()])).every(i=>i.status==="fulfilled"&&i.value.success);return console.log("[DataService] Fetch all complete. Success:",r),{success:r}}},m5=Object.freeze(Object.defineProperty({__proto__:null,dataService:od},Symbol.toStringTag,{value:"Module"}));function Gn(t){"@babel/helpers - typeof";return Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gn(t)}var Xl=Uint8Array,Qo=Uint16Array,z_=Int32Array,G_=new Xl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),H_=new Xl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),g5=new Xl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QS=function(t,e){for(var r=new Qo(31),i=0;i<31;++i)r[i]=e+=1<<t[i-1];for(var n=new z_(r[30]),i=1;i<30;++i)for(var a=r[i];a<r[i+1];++a)n[a]=a-r[i]<<5|i;return{b:r,r:n}},eE=QS(G_,2),jk=eE.b,a_=eE.r;jk[28]=258,a_[258]=28;var Ik=QS(H_,0),v5=Ik.r,s_=new Qo(32768);for(var vi=0;vi<32768;++vi){var zc=(vi&43690)>>1|(vi&21845)<<1;zc=(zc&52428)>>2|(zc&13107)<<2,zc=(zc&61680)>>4|(zc&3855)<<4,s_[vi]=((zc&65280)>>8|(zc&255)<<8)>>1}var L0=(function(t,e,r){for(var i=t.length,n=0,a=new Qo(e);n<i;++n)t[n]&&++a[t[n]-1];var s=new Qo(e);for(n=1;n<e;++n)s[n]=s[n-1]+a[n-1]<<1;var l;if(r){l=new Qo(1<<e);var c=15-e;for(n=0;n<i;++n)if(t[n])for(var f=n<<4|t[n],p=e-t[n],v=s[t[n]-1]++<<p,y=v|(1<<p)-1;v<=y;++v)l[s_[v]>>c]=f}else for(l=new Qo(i),n=0;n<i;++n)t[n]&&(l[n]=s_[s[t[n]-1]++]>>15-t[n]);return l}),jh=new Xl(288);for(var vi=0;vi<144;++vi)jh[vi]=8;for(var vi=144;vi<256;++vi)jh[vi]=9;for(var vi=256;vi<280;++vi)jh[vi]=7;for(var vi=280;vi<288;++vi)jh[vi]=8;var _1=new Xl(32);for(var vi=0;vi<32;++vi)_1[vi]=5;var Fk=L0(jh,9,0),Bk=L0(_1,5,0),tE=function(t){return(t+7)/8|0},Uk=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Xl(t.subarray(e,r))},rc=function(t,e,r){r<<=e&7;var i=e/8|0;t[i]|=r,t[i+1]|=r>>8},c0=function(t,e,r){r<<=e&7;var i=e/8|0;t[i]|=r,t[i+1]|=r>>8,t[i+2]|=r>>16},Xv=function(t,e){for(var r=[],i=0;i<t.length;++i)t[i]&&r.push({s:i,f:t[i]});var n=r.length,a=r.slice();if(!n)return{t:nE,l:0};if(n==1){var s=new Xl(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(te,ce){return te.f-ce.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],f=0,p=1,v=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};p!=n-1;)l=r[r[f].f<r[v].f?f++:v++],c=r[f!=p&&r[f].f<r[v].f?f++:v++],r[p++]={s:-1,f:l.f+c.f,l,r:c};for(var y=a[0].s,i=1;i<n;++i)a[i].s>y&&(y=a[i].s);var _=new Qo(y+1),T=o_(r[p-1],_,0);if(T>e){var i=0,S=0,C=T-e,O=1<<C;for(a.sort(function(ce,F){return _[F.s]-_[ce.s]||ce.f-F.f});i<n;++i){var I=a[i].s;if(_[I]>e)S+=O-(1<<T-_[I]),_[I]=e;else break}for(S>>=C;S>0;){var D=a[i].s;_[D]<e?S-=1<<e-_[D]++-1:++i}for(;i>=0&&S;--i){var q=a[i].s;_[q]==e&&(--_[q],++S)}T=e}return{t:new Xl(_),l:T}},o_=function(t,e,r){return t.s==-1?Math.max(o_(t.l,e,r+1),o_(t.r,e,r+1)):e[t.s]=r},_5=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Qo(++e),i=0,n=t[0],a=1,s=function(c){r[i++]=c},l=1;l<=e;++l)if(t[l]==n&&l!=e)++a;else{if(!n&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(n),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(n);a=1,n=t[l]}return{c:r.subarray(0,i),n:e}},h0=function(t,e){for(var r=0,i=0;i<e.length;++i)r+=t[i]*e[i];return r},rE=function(t,e,r){var i=r.length,n=tE(e+2);t[n]=i&255,t[n+1]=i>>8,t[n+2]=t[n]^255,t[n+3]=t[n+1]^255;for(var a=0;a<i;++a)t[n+a+4]=r[a];return(n+4+i)*8},y5=function(t,e,r,i,n,a,s,l,c,f,p){rc(e,p++,r),++n[256];for(var v=Xv(n,15),y=v.t,_=v.l,T=Xv(a,15),S=T.t,C=T.l,O=_5(y),I=O.c,D=O.n,q=_5(S),te=q.c,ce=q.n,F=new Qo(19),K=0;K<I.length;++K)++F[I[K]&31];for(var K=0;K<te.length;++K)++F[te[K]&31];for(var B=Xv(F,7),X=B.t,j=B.l,W=19;W>4&&!X[g5[W-1]];--W);var ue=f+5<<3,de=h0(n,jh)+h0(a,_1)+s,xe=h0(n,y)+h0(a,S)+s+14+3*W+h0(F,X)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&ue<=de&&ue<=xe)return rE(e,p,t.subarray(c,c+f));var oe,be,_e,Le;if(rc(e,p,1+(xe<de)),p+=2,xe<de){oe=L0(y,_,0),be=y,_e=L0(S,C,0),Le=S;var Ne=L0(X,j,0);rc(e,p,D-257),rc(e,p+5,ce-1),rc(e,p+10,W-4),p+=14;for(var K=0;K<W;++K)rc(e,p+3*K,X[g5[K]]);p+=3*W;for(var Q=[I,te],P=0;P<2;++P)for(var G=Q[P],K=0;K<G.length;++K){var H=G[K]&31;rc(e,p,Ne[H]),p+=X[H],H>15&&(rc(e,p,G[K]>>5&127),p+=G[K]>>12)}}else oe=Fk,be=jh,_e=Bk,Le=_1;for(var K=0;K<l;++K){var Z=i[K];if(Z>255){var H=Z>>18&31;c0(e,p,oe[H+257]),p+=be[H+257],H>7&&(rc(e,p,Z>>23&31),p+=G_[H]);var se=Z&31;c0(e,p,_e[se]),p+=Le[se],se>3&&(c0(e,p,Z>>5&8191),p+=H_[se])}else c0(e,p,oe[Z]),p+=be[Z]}return c0(e,p,oe[256]),p+be[256]},zk=new z_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nE=new Xl(0),Gk=function(t,e,r,i,n,a){var s=a.z||t.length,l=new Xl(i+s+5*(1+Math.ceil(s/7e3))+n),c=l.subarray(i,l.length-n),f=a.l,p=(a.r||0)&7;if(e){p&&(c[0]=a.r>>3);for(var v=zk[e-1],y=v>>13,_=v&8191,T=(1<<r)-1,S=a.p||new Qo(32768),C=a.h||new Qo(T+1),O=Math.ceil(r/3),I=2*O,D=function(Nt){return(t[Nt]^t[Nt+1]<<O^t[Nt+2]<<I)&T},q=new z_(25e3),te=new Qo(288),ce=new Qo(32),F=0,K=0,B=a.i||0,X=0,j=a.w||0,W=0;B+2<s;++B){var ue=D(B),de=B&32767,xe=C[ue];if(S[de]=xe,C[ue]=de,j<=B){var oe=s-B;if((F>7e3||X>24576)&&(oe>423||!f)){p=y5(t,c,0,q,te,ce,K,X,W,B-W,p),X=F=K=0,W=B;for(var be=0;be<286;++be)te[be]=0;for(var be=0;be<30;++be)ce[be]=0}var _e=2,Le=0,Ne=_,Q=de-xe&32767;if(oe>2&&ue==D(B-Q))for(var P=Math.min(y,oe)-1,G=Math.min(32767,B),H=Math.min(258,oe);Q<=G&&--Ne&&de!=xe;){if(t[B+_e]==t[B+_e-Q]){for(var Z=0;Z<H&&t[B+Z]==t[B+Z-Q];++Z);if(Z>_e){if(_e=Z,Le=Q,Z>P)break;for(var se=Math.min(Q,Z-2),Ae=0,be=0;be<se;++be){var Oe=B-Q+be&32767,Re=S[Oe],Ie=Oe-Re&32767;Ie>Ae&&(Ae=Ie,xe=Oe)}}}de=xe,xe=S[de],Q+=de-xe&32767}if(Le){q[X++]=268435456|a_[_e]<<18|v5[Le];var ot=a_[_e]&31,it=v5[Le]&31;K+=G_[ot]+H_[it],++te[257+ot],++ce[it],j=B+_e,++F}else q[X++]=t[B],++te[t[B]]}}for(B=Math.max(B,j);B<s;++B)q[X++]=t[B],++te[t[B]];p=y5(t,c,f,q,te,ce,K,X,W,B-W,p),f||(a.r=p&7|c[p/8|0]<<3,p-=7,a.h=C,a.p=S,a.i=B,a.w=j)}else{for(var B=a.w||0;B<s+f;B+=65535){var Tt=B+65535;Tt>=s&&(c[p/8|0]=f,Tt=s),p=rE(c,p+1,t.subarray(B,Tt))}a.i=s}return Uk(l,0,i+tE(p)+n)},iE=function(){var t=1,e=0;return{p:function(r){for(var i=t,n=e,a=r.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)n+=i+=r[s];i=(i&65535)+15*(i>>16),n=(n&65535)+15*(n>>16)}t=i,e=n},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Hk=function(t,e,r,i,n){if(!n&&(n={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Xl(a.length+t.length);s.set(a),s.set(t,a.length),t=s,n.w=a.length}return Gk(t,e.level==null?6:e.level,e.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,i,n)},aE=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},qk=function(t,e){var r=e.level,i=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var n=iE();n.p(e.dictionary),aE(t,2,n.d())}};function l_(t,e){e||(e={});var r=iE();r.p(t);var i=Hk(t,e,e.dictionary?6:2,4);return qk(i,e),aE(i,i.length-4,r.d()),i}var Vk=typeof TextDecoder<"u"&&new TextDecoder,$k=0;try{Vk.decode(nE,{stream:!0}),$k=1}catch{}function Wk(t){if(Array.isArray(t))return t}function Zk(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var i,n,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(i=a.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(p){f=!0,n=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw n}}return l}}function x5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}function Yk(t,e){if(t){if(typeof t=="string")return x5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x5(t,e):void 0}}function Kk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w5(t,e){return Wk(t)||Zk(t,e)||Yk(t,e)||Kk()}function b5(t,e="utf8"){return new TextDecoder(e).decode(t)}const Xk=new TextEncoder;function Jk(t){return Xk.encode(t)}const Qk=1024*8,eP=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Jv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class q_{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Qk,r={}){let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const n=r.offset?r.offset>>>0:0,a=e.byteLength-n;let s=n;(ArrayBuffer.isView(e)||e instanceof q_)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+n),e=e.buffer),i?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,n=new Uint8Array(i);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const i=Jv[r].BYTES_PER_ELEMENT*e,n=this.byteOffset+this.offset,a=this.buffer.slice(n,n+i);if(this.littleEndian===eP&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(n,n+i));l.reverse();const c=new Jv[r](l.buffer);return this.offset+=i,c.reverse(),c}const s=new Jv[r](a);return this.offset+=i,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let i=0;i<e;i++)r+=this.readChar();return r}readUtf8(e=1){return b5(this.readBytes(e))}decodeText(e=1,r="utf8"){return b5(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(Jk(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function bd(t){let e=t.length;for(;--e>=0;)t[e]=0}const tP=3,rP=258,sE=29,nP=256,iP=nP+1+sE,oE=30,aP=512,sP=new Array((iP+2)*2);bd(sP);const oP=new Array(oE*2);bd(oP);const lP=new Array(aP);bd(lP);const uP=new Array(rP-tP+1);bd(uP);const cP=new Array(sE);bd(cP);const hP=new Array(oE);bd(hP);const fP=(t,e,r,i)=>{let n=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do n=n+e[i++]|0,a=a+n|0;while(--s);n%=65521,a%=65521}return n|a<<16|0};var u_=fP;const dP=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},pP=new Uint32Array(dP()),mP=(t,e,r,i)=>{const n=pP,a=i+r;t^=-1;for(let s=i;s<a;s++)t=t>>>8^n[(t^e[s])&255];return t^-1};var Eu=mP,c_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},lE={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const gP=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var vP=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const i in r)gP(r,i)&&(t[i]=r[i])}}return t},_P=t=>{let e=0;for(let i=0,n=t.length;i<n;i++)e+=t[i].length;const r=new Uint8Array(e);for(let i=0,n=0,a=t.length;i<a;i++){let s=t[i];r.set(s,n),n+=s.length}return r},uE={assign:vP,flattenChunks:_P};let cE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cE=!1}const X0=new Uint8Array(256);for(let t=0;t<256;t++)X0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;X0[254]=X0[254]=1;var yP=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,i,n,a,s=t.length,l=0;for(n=0;n<s;n++)r=t.charCodeAt(n),(r&64512)===55296&&n+1<s&&(i=t.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),a=0,n=0;a<l;n++)r=t.charCodeAt(n),(r&64512)===55296&&n+1<s&&(i=t.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const xP=(t,e)=>{if(e<65534&&t.subarray&&cE)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let i=0;i<e;i++)r+=String.fromCharCode(t[i]);return r};var wP=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,n;const a=new Array(r*2);for(n=0,i=0;i<r;){let s=t[i++];if(s<128){a[n++]=s;continue}let l=X0[s];if(l>4){a[n++]=65533,i+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&i<r;)s=s<<6|t[i++]&63,l--;if(l>1){a[n++]=65533;continue}s<65536?a[n++]=s:(s-=65536,a[n++]=55296|s>>10&1023,a[n++]=56320|s&1023)}return xP(a,n)},bP=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+X0[t[r]]>e?r:e},h_={string2buf:yP,buf2string:wP,utf8border:bP};function SP(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var EP=SP;const Cm=16209,TP=16191;var AP=function(e,r){let i,n,a,s,l,c,f,p,v,y,_,T,S,C,O,I,D,q,te,ce,F,K,B,X;const j=e.state;i=e.next_in,B=e.input,n=i+(e.avail_in-5),a=e.next_out,X=e.output,s=a-(r-e.avail_out),l=a+(e.avail_out-257),c=j.dmax,f=j.wsize,p=j.whave,v=j.wnext,y=j.window,_=j.hold,T=j.bits,S=j.lencode,C=j.distcode,O=(1<<j.lenbits)-1,I=(1<<j.distbits)-1;e:do{T<15&&(_+=B[i++]<<T,T+=8,_+=B[i++]<<T,T+=8),D=S[_&O];t:for(;;){if(q=D>>>24,_>>>=q,T-=q,q=D>>>16&255,q===0)X[a++]=D&65535;else if(q&16){te=D&65535,q&=15,q&&(T<q&&(_+=B[i++]<<T,T+=8),te+=_&(1<<q)-1,_>>>=q,T-=q),T<15&&(_+=B[i++]<<T,T+=8,_+=B[i++]<<T,T+=8),D=C[_&I];r:for(;;){if(q=D>>>24,_>>>=q,T-=q,q=D>>>16&255,q&16){if(ce=D&65535,q&=15,T<q&&(_+=B[i++]<<T,T+=8,T<q&&(_+=B[i++]<<T,T+=8)),ce+=_&(1<<q)-1,ce>c){e.msg="invalid distance too far back",j.mode=Cm;break e}if(_>>>=q,T-=q,q=a-s,ce>q){if(q=ce-q,q>p&&j.sane){e.msg="invalid distance too far back",j.mode=Cm;break e}if(F=0,K=y,v===0){if(F+=f-q,q<te){te-=q;do X[a++]=y[F++];while(--q);F=a-ce,K=X}}else if(v<q){if(F+=f+v-q,q-=v,q<te){te-=q;do X[a++]=y[F++];while(--q);if(F=0,v<te){q=v,te-=q;do X[a++]=y[F++];while(--q);F=a-ce,K=X}}}else if(F+=v-q,q<te){te-=q;do X[a++]=y[F++];while(--q);F=a-ce,K=X}for(;te>2;)X[a++]=K[F++],X[a++]=K[F++],X[a++]=K[F++],te-=3;te&&(X[a++]=K[F++],te>1&&(X[a++]=K[F++]))}else{F=a-ce;do X[a++]=X[F++],X[a++]=X[F++],X[a++]=X[F++],te-=3;while(te>2);te&&(X[a++]=X[F++],te>1&&(X[a++]=X[F++]))}}else if((q&64)===0){D=C[(D&65535)+(_&(1<<q)-1)];continue r}else{e.msg="invalid distance code",j.mode=Cm;break e}break}}else if((q&64)===0){D=S[(D&65535)+(_&(1<<q)-1)];continue t}else if(q&32){j.mode=TP;break e}else{e.msg="invalid literal/length code",j.mode=Cm;break e}break}}while(i<n&&a<l);te=T>>3,i-=te,T-=te<<3,_&=(1<<T)-1,e.next_in=i,e.next_out=a,e.avail_in=i<n?5+(n-i):5-(i-n),e.avail_out=a<l?257+(l-a):257-(a-l),j.hold=_,j.bits=T};const Pf=15,S5=852,E5=592,T5=0,Qv=1,A5=2,LP=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),NP=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),CP=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),MP=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),kP=(t,e,r,i,n,a,s,l)=>{const c=l.bits;let f=0,p=0,v=0,y=0,_=0,T=0,S=0,C=0,O=0,I=0,D,q,te,ce,F,K=null,B;const X=new Uint16Array(Pf+1),j=new Uint16Array(Pf+1);let W=null,ue,de,xe;for(f=0;f<=Pf;f++)X[f]=0;for(p=0;p<i;p++)X[e[r+p]]++;for(_=c,y=Pf;y>=1&&X[y]===0;y--);if(_>y&&(_=y),y===0)return n[a++]=1<<24|64<<16|0,n[a++]=1<<24|64<<16|0,l.bits=1,0;for(v=1;v<y&&X[v]===0;v++);for(_<v&&(_=v),C=1,f=1;f<=Pf;f++)if(C<<=1,C-=X[f],C<0)return-1;if(C>0&&(t===T5||y!==1))return-1;for(j[1]=0,f=1;f<Pf;f++)j[f+1]=j[f]+X[f];for(p=0;p<i;p++)e[r+p]!==0&&(s[j[e[r+p]]++]=p);if(t===T5?(K=W=s,B=20):t===Qv?(K=LP,W=NP,B=257):(K=CP,W=MP,B=0),I=0,p=0,f=v,F=a,T=_,S=0,te=-1,O=1<<_,ce=O-1,t===Qv&&O>S5||t===A5&&O>E5)return 1;for(;;){ue=f-S,s[p]+1<B?(de=0,xe=s[p]):s[p]>=B?(de=W[s[p]-B],xe=K[s[p]-B]):(de=96,xe=0),D=1<<f-S,q=1<<T,v=q;do q-=D,n[F+(I>>S)+q]=ue<<24|de<<16|xe|0;while(q!==0);for(D=1<<f-1;I&D;)D>>=1;if(D!==0?(I&=D-1,I+=D):I=0,p++,--X[f]===0){if(f===y)break;f=e[r+s[p]]}if(f>_&&(I&ce)!==te){for(S===0&&(S=_),F+=v,T=f-S,C=1<<T;T+S<y&&(C-=X[T+S],!(C<=0));)T++,C<<=1;if(O+=1<<T,t===Qv&&O>S5||t===A5&&O>E5)return 1;te=I&ce,n[te]=_<<24|T<<16|F-a|0}}return I!==0&&(n[F+I]=f-S<<24|64<<16|0),l.bits=_,0};var N0=kP;const PP=0,hE=1,fE=2,{Z_FINISH:L5,Z_BLOCK:OP,Z_TREES:Mm,Z_OK:Ih,Z_STREAM_END:RP,Z_NEED_DICT:DP,Z_STREAM_ERROR:bl,Z_DATA_ERROR:dE,Z_MEM_ERROR:pE,Z_BUF_ERROR:jP,Z_DEFLATED:N5}=lE,ng=16180,C5=16181,M5=16182,k5=16183,P5=16184,O5=16185,R5=16186,D5=16187,j5=16188,I5=16189,y1=16190,nc=16191,e2=16192,F5=16193,t2=16194,B5=16195,U5=16196,z5=16197,G5=16198,km=16199,Pm=16200,H5=16201,q5=16202,V5=16203,$5=16204,W5=16205,r2=16206,Z5=16207,Y5=16208,Ai=16209,mE=16210,gE=16211,IP=852,FP=592,BP=15,UP=BP,K5=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function zP(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<ng||e.mode>gE?1:0},vE=t=>{if(qh(t))return bl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=ng,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(IP),e.distcode=e.distdyn=new Int32Array(FP),e.sane=1,e.back=-1,Ih},_E=t=>{if(qh(t))return bl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,vE(t)},yE=(t,e)=>{let r;if(qh(t))return bl;const i=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?bl:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,_E(t))},xE=(t,e)=>{if(!t)return bl;const r=new zP;t.state=r,r.strm=t,r.window=null,r.mode=ng;const i=yE(t,e);return i!==Ih&&(t.state=null),i},GP=t=>xE(t,UP);let X5=!0,n2,i2;const HP=t=>{if(X5){n2=new Int32Array(512),i2=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(N0(hE,t.lens,0,288,n2,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;N0(fE,t.lens,0,32,i2,0,t.work,{bits:5}),X5=!1}t.lencode=n2,t.lenbits=9,t.distcode=i2,t.distbits=5},wE=(t,e,r,i)=>{let n;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(n=a.wsize-a.wnext,n>i&&(n=i),a.window.set(e.subarray(r-i,r-i+n),a.wnext),i-=n,i?(a.window.set(e.subarray(r-i,r),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0},qP=(t,e)=>{let r,i,n,a,s,l,c,f,p,v,y,_,T,S,C=0,O,I,D,q,te,ce,F,K;const B=new Uint8Array(4);let X,j;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qh(t)||!t.output||!t.input&&t.avail_in!==0)return bl;r=t.state,r.mode===nc&&(r.mode=e2),s=t.next_out,n=t.output,c=t.avail_out,a=t.next_in,i=t.input,l=t.avail_in,f=r.hold,p=r.bits,v=l,y=c,K=Ih;e:for(;;)switch(r.mode){case ng:if(r.wrap===0){r.mode=e2;break}for(;p<16;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=f&255,B[1]=f>>>8&255,r.check=Eu(r.check,B,2,0),f=0,p=0,r.mode=C5;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",r.mode=Ai;break}if((f&15)!==N5){t.msg="unknown compression method",r.mode=Ai;break}if(f>>>=4,p-=4,F=(f&15)+8,r.wbits===0&&(r.wbits=F),F>15||F>r.wbits){t.msg="invalid window size",r.mode=Ai;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=f&512?I5:nc,f=0,p=0;break;case C5:for(;p<16;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}if(r.flags=f,(r.flags&255)!==N5){t.msg="unknown compression method",r.mode=Ai;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Ai;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=Eu(r.check,B,2,0)),f=0,p=0,r.mode=M5;case M5:for(;p<32;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,B[2]=f>>>16&255,B[3]=f>>>24&255,r.check=Eu(r.check,B,4,0)),f=0,p=0,r.mode=k5;case k5:for(;p<16;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=Eu(r.check,B,2,0)),f=0,p=0,r.mode=P5;case P5:if(r.flags&1024){for(;p<16;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=Eu(r.check,B,2,0)),f=0,p=0}else r.head&&(r.head.extra=null);r.mode=O5;case O5:if(r.flags&1024&&(_=r.length,_>l&&(_=l),_&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(i.subarray(a,a+_),F)),r.flags&512&&r.wrap&4&&(r.check=Eu(r.check,i,_,a)),l-=_,a+=_,r.length-=_),r.length))break e;r.length=0,r.mode=R5;case R5:if(r.flags&2048){if(l===0)break e;_=0;do F=i[a+_++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F));while(F&&_<l);if(r.flags&512&&r.wrap&4&&(r.check=Eu(r.check,i,_,a)),l-=_,a+=_,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=D5;case D5:if(r.flags&4096){if(l===0)break e;_=0;do F=i[a+_++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F));while(F&&_<l);if(r.flags&512&&r.wrap&4&&(r.check=Eu(r.check,i,_,a)),l-=_,a+=_,F)break e}else r.head&&(r.head.comment=null);r.mode=j5;case j5:if(r.flags&512){for(;p<16;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}if(r.wrap&4&&f!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Ai;break}f=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=nc;break;case I5:for(;p<32;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}t.adler=r.check=K5(f),f=0,p=0,r.mode=y1;case y1:if(r.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=f,r.bits=p,DP;t.adler=r.check=1,r.mode=nc;case nc:if(e===OP||e===Mm)break e;case e2:if(r.last){f>>>=p&7,p-=p&7,r.mode=r2;break}for(;p<3;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}switch(r.last=f&1,f>>>=1,p-=1,f&3){case 0:r.mode=F5;break;case 1:if(HP(r),r.mode=km,e===Mm){f>>>=2,p-=2;break e}break;case 2:r.mode=U5;break;case 3:t.msg="invalid block type",r.mode=Ai}f>>>=2,p-=2;break;case F5:for(f>>>=p&7,p-=p&7;p<32;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Ai;break}if(r.length=f&65535,f=0,p=0,r.mode=t2,e===Mm)break e;case t2:r.mode=B5;case B5:if(_=r.length,_){if(_>l&&(_=l),_>c&&(_=c),_===0)break e;n.set(i.subarray(a,a+_),s),l-=_,a+=_,c-=_,s+=_,r.length-=_;break}r.mode=nc;break;case U5:for(;p<14;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}if(r.nlen=(f&31)+257,f>>>=5,p-=5,r.ndist=(f&31)+1,f>>>=5,p-=5,r.ncode=(f&15)+4,f>>>=4,p-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Ai;break}r.have=0,r.mode=z5;case z5:for(;r.have<r.ncode;){for(;p<3;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}r.lens[W[r.have++]]=f&7,f>>>=3,p-=3}for(;r.have<19;)r.lens[W[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,X={bits:r.lenbits},K=N0(PP,r.lens,0,19,r.lencode,0,r.work,X),r.lenbits=X.bits,K){t.msg="invalid code lengths set",r.mode=Ai;break}r.have=0,r.mode=G5;case G5:for(;r.have<r.nlen+r.ndist;){for(;C=r.lencode[f&(1<<r.lenbits)-1],O=C>>>24,I=C>>>16&255,D=C&65535,!(O<=p);){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}if(D<16)f>>>=O,p-=O,r.lens[r.have++]=D;else{if(D===16){for(j=O+2;p<j;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}if(f>>>=O,p-=O,r.have===0){t.msg="invalid bit length repeat",r.mode=Ai;break}F=r.lens[r.have-1],_=3+(f&3),f>>>=2,p-=2}else if(D===17){for(j=O+3;p<j;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}f>>>=O,p-=O,F=0,_=3+(f&7),f>>>=3,p-=3}else{for(j=O+7;p<j;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}f>>>=O,p-=O,F=0,_=11+(f&127),f>>>=7,p-=7}if(r.have+_>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Ai;break}for(;_--;)r.lens[r.have++]=F}}if(r.mode===Ai)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Ai;break}if(r.lenbits=9,X={bits:r.lenbits},K=N0(hE,r.lens,0,r.nlen,r.lencode,0,r.work,X),r.lenbits=X.bits,K){t.msg="invalid literal/lengths set",r.mode=Ai;break}if(r.distbits=6,r.distcode=r.distdyn,X={bits:r.distbits},K=N0(fE,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,X),r.distbits=X.bits,K){t.msg="invalid distances set",r.mode=Ai;break}if(r.mode=km,e===Mm)break e;case km:r.mode=Pm;case Pm:if(l>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=f,r.bits=p,AP(t,y),s=t.next_out,n=t.output,c=t.avail_out,a=t.next_in,i=t.input,l=t.avail_in,f=r.hold,p=r.bits,r.mode===nc&&(r.back=-1);break}for(r.back=0;C=r.lencode[f&(1<<r.lenbits)-1],O=C>>>24,I=C>>>16&255,D=C&65535,!(O<=p);){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}if(I&&(I&240)===0){for(q=O,te=I,ce=D;C=r.lencode[ce+((f&(1<<q+te)-1)>>q)],O=C>>>24,I=C>>>16&255,D=C&65535,!(q+O<=p);){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}f>>>=q,p-=q,r.back+=q}if(f>>>=O,p-=O,r.back+=O,r.length=D,I===0){r.mode=W5;break}if(I&32){r.back=-1,r.mode=nc;break}if(I&64){t.msg="invalid literal/length code",r.mode=Ai;break}r.extra=I&15,r.mode=H5;case H5:if(r.extra){for(j=r.extra;p<j;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=q5;case q5:for(;C=r.distcode[f&(1<<r.distbits)-1],O=C>>>24,I=C>>>16&255,D=C&65535,!(O<=p);){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}if((I&240)===0){for(q=O,te=I,ce=D;C=r.distcode[ce+((f&(1<<q+te)-1)>>q)],O=C>>>24,I=C>>>16&255,D=C&65535,!(q+O<=p);){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}f>>>=q,p-=q,r.back+=q}if(f>>>=O,p-=O,r.back+=O,I&64){t.msg="invalid distance code",r.mode=Ai;break}r.offset=D,r.extra=I&15,r.mode=V5;case V5:if(r.extra){for(j=r.extra;p<j;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Ai;break}r.mode=$5;case $5:if(c===0)break e;if(_=y-c,r.offset>_){if(_=r.offset-_,_>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Ai;break}_>r.wnext?(_-=r.wnext,T=r.wsize-_):T=r.wnext-_,_>r.length&&(_=r.length),S=r.window}else S=n,T=s-r.offset,_=r.length;_>c&&(_=c),c-=_,r.length-=_;do n[s++]=S[T++];while(--_);r.length===0&&(r.mode=Pm);break;case W5:if(c===0)break e;n[s++]=r.length,c--,r.mode=Pm;break;case r2:if(r.wrap){for(;p<32;){if(l===0)break e;l--,f|=i[a++]<<p,p+=8}if(y-=c,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Eu(r.check,n,y,s-y):u_(r.check,n,y,s-y)),y=c,r.wrap&4&&(r.flags?f:K5(f))!==r.check){t.msg="incorrect data check",r.mode=Ai;break}f=0,p=0}r.mode=Z5;case Z5:if(r.wrap&&r.flags){for(;p<32;){if(l===0)break e;l--,f+=i[a++]<<p,p+=8}if(r.wrap&4&&f!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Ai;break}f=0,p=0}r.mode=Y5;case Y5:K=RP;break e;case Ai:K=dE;break e;case mE:return pE;case gE:default:return bl}return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=f,r.bits=p,(r.wsize||y!==t.avail_out&&r.mode<Ai&&(r.mode<r2||e!==L5))&&wE(t,t.output,t.next_out,y-t.avail_out),v-=t.avail_in,y-=t.avail_out,t.total_in+=v,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Eu(r.check,n,y,t.next_out-y):u_(r.check,n,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===nc?128:0)+(r.mode===km||r.mode===t2?256:0),(v===0&&y===0||e===L5)&&K===Ih&&(K=jP),K},VP=t=>{if(qh(t))return bl;let e=t.state;return e.window&&(e.window=null),t.state=null,Ih},$P=(t,e)=>{if(qh(t))return bl;const r=t.state;return(r.wrap&2)===0?bl:(r.head=e,e.done=!1,Ih)},WP=(t,e)=>{const r=e.length;let i,n,a;return qh(t)||(i=t.state,i.wrap!==0&&i.mode!==y1)?bl:i.mode===y1&&(n=1,n=u_(n,e,r,0),n!==i.check)?dE:(a=wE(t,e,r,r),a?(i.mode=mE,pE):(i.havedict=1,Ih))};var ZP=_E,YP=yE,KP=vE,XP=GP,JP=xE,QP=qP,eO=VP,tO=$P,rO=WP,nO="pako inflate (from Nodeca project)",oc={inflateReset:ZP,inflateReset2:YP,inflateResetKeep:KP,inflateInit:XP,inflateInit2:JP,inflate:QP,inflateEnd:eO,inflateGetHeader:tO,inflateSetDictionary:rO,inflateInfo:nO};function iO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var aO=iO;const bE=Object.prototype.toString,{Z_NO_FLUSH:sO,Z_FINISH:oO,Z_OK:J0,Z_STREAM_END:a2,Z_NEED_DICT:s2,Z_STREAM_ERROR:lO,Z_DATA_ERROR:J5,Z_MEM_ERROR:uO}=lE;function vp(t){this.options=uE.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new EP,this.strm.avail_out=0;let r=oc.inflateInit2(this.strm,e.windowBits);if(r!==J0)throw new Error(c_[r]);if(this.header=new aO,oc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=h_.string2buf(e.dictionary):bE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=oc.inflateSetDictionary(this.strm,e.dictionary),r!==J0)))throw new Error(c_[r])}vp.prototype.push=function(t,e){const r=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let a,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?oO:sO,bE.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),a=oc.inflate(r,s),a===s2&&n&&(a=oc.inflateSetDictionary(r,n),a===J0?a=oc.inflate(r,s):a===J5&&(a=s2));r.avail_in>0&&a===a2&&r.state.wrap>0&&t[r.next_in]!==0;)oc.inflateReset(r),a=oc.inflate(r,s);switch(a){case lO:case J5:case s2:case uO:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===a2))if(this.options.to==="string"){let c=h_.utf8border(r.output,r.next_out),f=r.next_out-c,p=h_.buf2string(r.output,c);r.next_out=f,r.avail_out=i-f,f&&r.output.set(r.output.subarray(c,c+f),0),this.onData(p)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===J0&&l===0)){if(a===a2)return a=oc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};vp.prototype.onData=function(t){this.chunks.push(t)};vp.prototype.onEnd=function(t){t===J0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=uE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function cO(t,e){const r=new vp(e);if(r.push(t),r.err)throw r.msg||c_[r.err];return r.result}var hO=vp,fO=cO,dO={Inflate:hO,inflate:fO};const{Inflate:pO,inflate:mO}=dO;var Q5=pO,gO=mO;const SE=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;SE[t]=e}const e4=4294967295;function vO(t,e,r){let i=t;for(let n=0;n<r;n++)i=SE[(i^e[n])&255]^i>>>8;return i}function _O(t,e){return(vO(e4,t,e)^e4)>>>0}function t4(t,e,r){const i=t.readUint32(),n=_O(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(n!==i)throw new Error(`CRC mismatch for chunk ${r}. Expected ${i}, found ${n}`)}function EE(t,e,r){for(let i=0;i<r;i++)e[i]=t[i]}function TE(t,e,r,i){let n=0;for(;n<i;n++)e[n]=t[n];for(;n<r;n++)e[n]=t[n]+e[n-i]&255}function AE(t,e,r,i){let n=0;if(r.length===0)for(;n<i;n++)e[n]=t[n];else for(;n<i;n++)e[n]=t[n]+r[n]&255}function LE(t,e,r,i,n){let a=0;if(r.length===0){for(;a<n;a++)e[a]=t[a];for(;a<i;a++)e[a]=t[a]+(e[a-n]>>1)&255}else{for(;a<n;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<i;a++)e[a]=t[a]+(e[a-n]+r[a]>>1)&255}}function NE(t,e,r,i,n){let a=0;if(r.length===0){for(;a<n;a++)e[a]=t[a];for(;a<i;a++)e[a]=t[a]+e[a-n]&255}else{for(;a<n;a++)e[a]=t[a]+r[a]&255;for(;a<i;a++)e[a]=t[a]+yO(e[a-n],r[a],r[a-n])&255}}function yO(t,e,r){const i=t+e-r,n=Math.abs(i-t),a=Math.abs(i-e),s=Math.abs(i-r);return n<=a&&n<=s?t:a<=s?e:r}function xO(t,e,r,i,n,a){switch(t){case 0:EE(e,r,n);break;case 1:TE(e,r,n,a);break;case 2:AE(e,r,i,n);break;case 3:LE(e,r,i,n,a);break;case 4:NE(e,r,i,n,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const wO=new Uint16Array([255]),bO=new Uint8Array(wO.buffer),SO=bO[0]===255;function EO(t){const{data:e,width:r,height:i,channels:n,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*n,c=new Uint8Array(i*r*l);let f=0;for(let p=0;p<7;p++){const v=s[p],y=Math.ceil((r-v.x)/v.xStep),_=Math.ceil((i-v.y)/v.yStep);if(y<=0||_<=0)continue;const T=y*l,S=new Uint8Array(T);for(let C=0;C<_;C++){const O=e[f++],I=e.subarray(f,f+T);f+=T;const D=new Uint8Array(T);xO(O,I,D,S,T,l),S.set(D);for(let q=0;q<y;q++){const te=v.x+q*v.xStep,ce=v.y+C*v.yStep;if(!(te>=r||ce>=i))for(let F=0;F<l;F++)c[(ce*r+te)*l+F]=D[q*l+F]}}}if(a===16){const p=new Uint16Array(c.buffer);if(SO)for(let v=0;v<p.length;v++)p[v]=TO(p[v]);return p}else return c}function TO(t){return(t&255)<<8|t>>8&255}const AO=new Uint16Array([255]),LO=new Uint8Array(AO.buffer),NO=LO[0]===255,CO=new Uint8Array(0);function r4(t){const{data:e,width:r,height:i,channels:n,depth:a}=t,s=Math.ceil(a/8)*n,l=Math.ceil(a/8*n*r),c=new Uint8Array(i*l);let f=CO,p=0,v,y;for(let _=0;_<i;_++){switch(v=e.subarray(p+1,p+1+l),y=c.subarray(_*l,(_+1)*l),e[p]){case 0:EE(v,y,l);break;case 1:TE(v,y,l,s);break;case 2:AE(v,y,f,l);break;case 3:LE(v,y,f,l,s);break;case 4:NE(v,y,f,l,s);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=y,p+=l+1}if(a===16){const _=new Uint16Array(c.buffer);if(NO)for(let T=0;T<_.length;T++)_[T]=MO(_[T]);return _}else return c}function MO(t){return(t&255)<<8|t>>8&255}const t1=Uint8Array.of(137,80,78,71,13,10,26,10);function n4(t){if(!kO(t.readBytes(t1.length)))throw new Error("wrong PNG signature")}function kO(t){if(t.length<t1.length)return!1;for(let e=0;e<t1.length;e++)if(t[e]!==t1[e])return!1;return!0}const PO="tEXt",OO=0,CE=new TextDecoder("latin1");function RO(t){if(jO(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const DO=/^[\u0000-\u00FF]*$/;function jO(t){if(!DO.test(t))throw new Error("invalid latin1 text")}function IO(t,e,r){const i=ME(e);t[i]=FO(e,r-i.length-1)}function ME(t){for(t.mark();t.readByte()!==OO;);const e=t.offset;t.reset();const r=CE.decode(t.readBytes(e-t.offset-1));return t.skip(1),RO(r),r}function FO(t,e){return CE.decode(t.readBytes(e))}const $o={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},o2={UNKNOWN:-1,DEFLATE:0},i4={UNKNOWN:-1,ADAPTIVE:0},l2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Om={NONE:0,BACKGROUND:1,PREVIOUS:2},u2={SOURCE:0,OVER:1};class BO extends q_{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new Q5,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=o2.UNKNOWN,this._filterMethod=i4.UNKNOWN,this._interlaceMethod=l2.UNKNOWN,this._colorType=$o.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(n4(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(n4(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case PO:IO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?t4(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?t4(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=UO(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case $o.GREYSCALE:i=1;break;case $o.TRUECOLOUR:i=3;break;case $o.INDEXED_COLOUR:i=1;break;case $o.GREYSCALE_ALPHA:i=2;break;case $o.TRUECOLOUR_ALPHA:i=4;break;case $o.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==o2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let n=0;n<r;n++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case $o.GREYSCALE:case $o.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case $o.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case $o.UNKNOWN:case $o.GREYSCALE_ALPHA:case $o.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=ME(this),i=this.readUint8();if(i!==o2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const n=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:gO(n)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=r4({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const n=this._apng.frames.at(e-1);this.disposeFrame(i,n,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,i){switch(e.disposeOp){case Om.NONE:break;case Om.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let a=0;a<this._png.width;a++){const s=(n*e.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[s+l]=0}break;case Om.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const i=1<<this._png.depth,n=(a,s)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,c=(a*r.width+s)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case u2.SOURCE:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:c}=n(a,s);for(let f=0;f<this._png.channels;f++)e.data[l+f]=r.data[c+f]}break;case u2.OVER:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:c}=n(a,s);for(let f=0;f<this._png.channels;f++){const p=r.data[c+this._png.channels-1]/i,v=f%(this._png.channels-1)===0?1:r.data[c+f],y=Math.floor(p*v+(1-p)*e.data[l+f]);e.data[l+f]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==i4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===l2.NO_INTERLACE)this._png.data=r4({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===l2.ADAM7)this._png.data=EO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Om.NONE,blendOp:u2.SOURCE,data:e}),this._inflator=new Q5,this._writingDataChunks=!1}}function UO(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var a4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(a4||(a4={}));function zO(t,e){return new BO(t,e).decode()}var Or=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function c2(){Or.console&&typeof Or.console.log=="function"&&Or.console.log.apply(Or.console,arguments)}var ti={log:c2,warn:function(t){Or.console&&(typeof Or.console.warn=="function"?Or.console.warn.apply(Or.console,arguments):c2.call(null,arguments))},error:function(t){Or.console&&(typeof Or.console.error=="function"?Or.console.error.apply(Or.console,arguments):c2(t))}};function h2(t,e,r){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){Sh(i.response,e,r)},i.onerror=function(){ti.error("could not download file")},i.send()}function s4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Rm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Sh=Or.saveAs||((typeof window>"u"?"undefined":Gn(window))!=="object"||window!==Or?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var i=Or.URL||Or.webkitURL,n=document.createElement("a");e=e||t.name||"download",n.download=e,n.rel="noopener",typeof t=="string"?(n.href=t,n.origin!==location.origin?s4(n.href)?h2(t,e,r):Rm(n,n.target="_blank"):Rm(n)):(n.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(n.href)},4e4),setTimeout(function(){Rm(n)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(s4(t))h2(t,e,r);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){Rm(i)})}else navigator.msSaveOrOpenBlob((function(n,a){return a===void 0?a={autoBom:!1}:Gn(a)!=="object"&&(ti.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(t,r),e)}:function(t,e,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return h2(t,e,r);var n=t.type==="application/octet-stream",a=/constructor/i.test(Or.HTMLElement)||Or.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||n&&a)&&(typeof FileReader>"u"?"undefined":Gn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=s?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},l.readAsDataURL(t)}else{var c=Or.URL||Or.webkitURL,f=c.createObjectURL(t);i?i.location=f:location.href=f,i=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});function kE(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],i=0;i<r.length;i++){var n=r[i].re,a=r[i].process,s=n.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+l+c+f}}var r1=Or.atob.bind(Or),o4=Or.btoa.bind(Or);function f2(t,e){var r=t[0],i=t[1],n=t[2],a=t[3];r=Ps(r,i,n,a,e[0],7,-680876936),a=Ps(a,r,i,n,e[1],12,-389564586),n=Ps(n,a,r,i,e[2],17,606105819),i=Ps(i,n,a,r,e[3],22,-1044525330),r=Ps(r,i,n,a,e[4],7,-176418897),a=Ps(a,r,i,n,e[5],12,1200080426),n=Ps(n,a,r,i,e[6],17,-1473231341),i=Ps(i,n,a,r,e[7],22,-45705983),r=Ps(r,i,n,a,e[8],7,1770035416),a=Ps(a,r,i,n,e[9],12,-1958414417),n=Ps(n,a,r,i,e[10],17,-42063),i=Ps(i,n,a,r,e[11],22,-1990404162),r=Ps(r,i,n,a,e[12],7,1804603682),a=Ps(a,r,i,n,e[13],12,-40341101),n=Ps(n,a,r,i,e[14],17,-1502002290),r=Os(r,i=Ps(i,n,a,r,e[15],22,1236535329),n,a,e[1],5,-165796510),a=Os(a,r,i,n,e[6],9,-1069501632),n=Os(n,a,r,i,e[11],14,643717713),i=Os(i,n,a,r,e[0],20,-373897302),r=Os(r,i,n,a,e[5],5,-701558691),a=Os(a,r,i,n,e[10],9,38016083),n=Os(n,a,r,i,e[15],14,-660478335),i=Os(i,n,a,r,e[4],20,-405537848),r=Os(r,i,n,a,e[9],5,568446438),a=Os(a,r,i,n,e[14],9,-1019803690),n=Os(n,a,r,i,e[3],14,-187363961),i=Os(i,n,a,r,e[8],20,1163531501),r=Os(r,i,n,a,e[13],5,-1444681467),a=Os(a,r,i,n,e[2],9,-51403784),n=Os(n,a,r,i,e[7],14,1735328473),r=Rs(r,i=Os(i,n,a,r,e[12],20,-1926607734),n,a,e[5],4,-378558),a=Rs(a,r,i,n,e[8],11,-2022574463),n=Rs(n,a,r,i,e[11],16,1839030562),i=Rs(i,n,a,r,e[14],23,-35309556),r=Rs(r,i,n,a,e[1],4,-1530992060),a=Rs(a,r,i,n,e[4],11,1272893353),n=Rs(n,a,r,i,e[7],16,-155497632),i=Rs(i,n,a,r,e[10],23,-1094730640),r=Rs(r,i,n,a,e[13],4,681279174),a=Rs(a,r,i,n,e[0],11,-358537222),n=Rs(n,a,r,i,e[3],16,-722521979),i=Rs(i,n,a,r,e[6],23,76029189),r=Rs(r,i,n,a,e[9],4,-640364487),a=Rs(a,r,i,n,e[12],11,-421815835),n=Rs(n,a,r,i,e[15],16,530742520),r=Ds(r,i=Rs(i,n,a,r,e[2],23,-995338651),n,a,e[0],6,-198630844),a=Ds(a,r,i,n,e[7],10,1126891415),n=Ds(n,a,r,i,e[14],15,-1416354905),i=Ds(i,n,a,r,e[5],21,-57434055),r=Ds(r,i,n,a,e[12],6,1700485571),a=Ds(a,r,i,n,e[3],10,-1894986606),n=Ds(n,a,r,i,e[10],15,-1051523),i=Ds(i,n,a,r,e[1],21,-2054922799),r=Ds(r,i,n,a,e[8],6,1873313359),a=Ds(a,r,i,n,e[15],10,-30611744),n=Ds(n,a,r,i,e[6],15,-1560198380),i=Ds(i,n,a,r,e[13],21,1309151649),r=Ds(r,i,n,a,e[4],6,-145523070),a=Ds(a,r,i,n,e[11],10,-1120210379),n=Ds(n,a,r,i,e[2],15,718787259),i=Ds(i,n,a,r,e[9],21,-343485551),t[0]=Yc(r,t[0]),t[1]=Yc(i,t[1]),t[2]=Yc(n,t[2]),t[3]=Yc(a,t[3])}function ig(t,e,r,i,n,a){return e=Yc(Yc(e,t),Yc(i,a)),Yc(e<<n|e>>>32-n,r)}function Ps(t,e,r,i,n,a,s){return ig(e&r|~e&i,t,e,n,a,s)}function Os(t,e,r,i,n,a,s){return ig(e&i|r&~i,t,e,n,a,s)}function Rs(t,e,r,i,n,a,s){return ig(e^r^i,t,e,n,a,s)}function Ds(t,e,r,i,n,a,s){return ig(r^(e|~i),t,e,n,a,s)}function PE(t){var e,r=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)f2(i,GO(t.substring(e-64,e)));t=t.substring(e-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)n[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),e>55)for(f2(i,n),e=0;e<16;e++)n[e]=0;return n[14]=8*r,f2(i,n),i}function GO(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var l4="0123456789abcdef".split("");function HO(t){for(var e="",r=0;r<4;r++)e+=l4[t>>8*r+4&15]+l4[t>>8*r&15];return e}function qO(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function f_(t){return PE(t).map(qO).join("")}var VO=(function(t){for(var e=0;e<t.length;e++)t[e]=HO(t[e]);return t.join("")})(PE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Yc(t,e){if(VO){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}function d_(t,e){var r,i,n,a;if(t!==r){for(var s=(n=t,a=1+(256/t.length|0),new Array(a+1).join(n)),l=[],c=0;c<256;c++)l[c]=c;var f=0;for(c=0;c<256;c++){var p=l[c];f=(f+p+s.charCodeAt(c))%256,l[c]=l[f],l[f]=p}r=t,i=l}else l=i;var v=e.length,y=0,_=0,T="";for(c=0;c<v;c++)_=(_+(p=l[y=(y+1)%256]))%256,l[y]=l[_],l[_]=p,s=l[(l[y]+l[_])%256],T+=String.fromCharCode(e.charCodeAt(c)^s);return T}var u4={print:4,modify:8,copy:16,"annot-forms":32};function qf(t,e,r,i){this.v=1,this.r=2;var n=192;t.forEach(function(l){if(u4.perm!==void 0)throw new Error("Invalid permission: "+l);n+=u4[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^n)),this.encryptionKey=f_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=d_(this.encryptionKey,this.padding)}function Vf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,i=0;i<r;i++){var n=t.charCodeAt(i);e+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):t[i]}return e}function c4(t){if(Gn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,i,n){if(n=n||!1,typeof r!="string"||typeof i!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[i,!!n],a},this.unsubscribe=function(r){for(var i in e)if(e[i][r])return delete e[i][r],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var i=Array.prototype.slice.call(arguments,1),n=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,i)}catch(l){Or.console&&ti.error("jsPDF PubSub Error",l.message,l)}s[1]&&n.push(a)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function x1(t){if(!(this instanceof x1))return new x1(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function OE(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Nh(t,e,r,i,n){if(!(this instanceof Nh))return new Nh(t,e,r,i,n);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,OE.call(this,i,n)}function Kf(t,e,r,i,n){if(!(this instanceof Kf))return new Kf(t,e,r,i,n);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,OE.call(this,i,n)}function fr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],n=arguments[2],a=arguments[3],s=[],l=1,c=16,f="S",p=null;Gn(t=t||{})==="object"&&(r=t.orientation,i=t.unit||i,n=t.format||n,a=t.compress||t.compressPdf||a,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),f=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),i=i||"mm",r=(""+(r||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,y={},_={internal:{},__private__:{}};_.__private__.PubSub=c4;var T="1.3",S=_.__private__.getPdfVersion=function(){return T};_.__private__.setPdfVersion=function(k){T=k};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return C};var O=_.__private__.getPageFormat=function(k){return C[k]};n=n||"a4";var I="compat",D="advanced",q=I;function te(){this.saveGraphicsState(),we(new Qt(_r,0,0,-_r,0,Oo()*_r).toString()+" cm"),this.setFontSize(this.getFontSize()/_r),f="n",q=D}function ce(){this.restoreGraphicsState(),f="S",q=I}var F=_.__private__.combineFontStyleAndFontWeight=function(k,J){if(k=="bold"&&J=="normal"||k=="bold"&&J==400||k=="normal"&&J=="italic"||k=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(k=J==400||J==="normal"?k==="italic"?"italic":"normal":J!=700&&J!=="bold"||k!=="normal"?(J==700?"bold":J)+""+k:"bold"),k};_.advancedAPI=function(k){var J=q===I;return J&&te.call(this),typeof k!="function"||(k(this),J&&ce.call(this)),this},_.compatAPI=function(k){var J=q===D;return J&&ce.call(this),typeof k!="function"||(k(this),J&&te.call(this)),this},_.isAdvancedAPI=function(){return q===D};var K,B=function(k){if(q!==D)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=_.roundToPrecision=_.__private__.roundToPrecision=function(k,J){var Se=e||J;if(isNaN(k)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(Se).replace(/0+$/,"")};K=_.hpf=_.__private__.hpf=typeof c=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,c)}:c==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,16)};var j=_.f2=_.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return X(k,2)},W=_.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return X(k,3)},ue=_.scale=_.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return q===I?k*_r:q===D?k:void 0},de=function(k){return ue((function(J){return q===I?Oo()-J:q===D?J:void 0})(k))};_.__private__.setPrecision=_.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(e=parseInt(k,10))};var xe,oe="00000000000000000000000000000000",be=_.__private__.getFileId=function(){return oe},_e=_.__private__.setFileId=function(k){return oe=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(ni=new qf(p.userPermissions,p.userPassword,p.ownerPassword,oe)),oe};_.setFileId=function(k){return _e(k),this},_.getFileId=function(){return be()};var Le=_.__private__.convertDateToPDFDate=function(k){var J=k.getTimezoneOffset(),Se=J<0?"+":"-",De=Math.floor(Math.abs(J/60)),Ve=Math.abs(J%60),at=[Se,H(De),"'",H(Ve),"'"].join("");return["D:",k.getFullYear(),H(k.getMonth()+1),H(k.getDate()),H(k.getHours()),H(k.getMinutes()),H(k.getSeconds()),at].join("")},Ne=_.__private__.convertPDFDateToDate=function(k){var J=parseInt(k.substr(2,4),10),Se=parseInt(k.substr(6,2),10)-1,De=parseInt(k.substr(8,2),10),Ve=parseInt(k.substr(10,2),10),at=parseInt(k.substr(12,2),10),St=parseInt(k.substr(14,2),10);return new Date(J,Se,De,Ve,at,St,0)},Q=_.__private__.setCreationDate=function(k){var J;if(k===void 0&&(k=new Date),k instanceof Date)J=Le(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=k}return xe=J},P=_.__private__.getCreationDate=function(k){var J=xe;return k==="jsDate"&&(J=Ne(xe)),J};_.setCreationDate=function(k){return Q(k),this},_.getCreationDate=function(k){return P(k)};var G,H=_.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},Z=_.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},se=0,Ae=[],Oe=[],Re=0,Ie=[],ot=[],it=!1,Tt=Oe;_.__private__.setCustomOutputDestination=function(k){it=!0,Tt=k};var Nt=function(k){it||(Tt=k)};_.__private__.resetCustomOutputDestination=function(){it=!1,Tt=Oe};var we=_.__private__.out=function(k){return k=k.toString(),Re+=k.length+1,Tt.push(k),Tt},yt=_.__private__.write=function(k){return we(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},xt=_.__private__.getArrayBuffer=function(k){for(var J=k.length,Se=new ArrayBuffer(J),De=new Uint8Array(Se);J--;)De[J]=k.charCodeAt(J);return Se},zt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return zt};var dt=t.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(k){return dt=q===D?k/_r:k,this};var Vt,jt=_.__private__.getFontSize=_.getFontSize=function(){return q===I?dt:dt*_r},sr=t.R2L||!1;_.__private__.setR2L=_.setR2L=function(k){return sr=k,this},_.__private__.getR2L=_.getR2L=function(){return sr};var Xt,Jt=_.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))Vt=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');Vt=k}else Vt=parseInt(k,10)};_.__private__.getZoomMode=function(){return Vt};var Er,dr=_.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');Xt=k};_.__private__.getPageMode=function(){return Xt};var Nr=_.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');Er=k};_.__private__.getLayoutMode=function(){return Er},_.__private__.setDisplayMode=_.setDisplayMode=function(k,J,Se){return Jt(k),Nr(J),dr(Se),this};var or={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(k){if(Object.keys(or).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return or[k]},_.__private__.getDocumentProperties=function(){return or},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(k){for(var J in or)or.hasOwnProperty(J)&&k[J]&&(or[J]=k[J]);return this},_.__private__.setDocumentProperty=function(k,J){if(Object.keys(or).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return or[k]=J};var Ft,_r,Wt,xn,Mr,Gt={},pr={},Dr=[],Yt={},ln={},ur={},cr={},en=null,xr=0,Zt=[],Gr=new c4(_),Sa=t.hotfixes||[],li={},Ji={},Ni=[],Qt=function k(J,Se,De,Ve,at,St){if(!(this instanceof k))return new k(J,Se,De,Ve,at,St);isNaN(J)&&(J=1),isNaN(Se)&&(Se=0),isNaN(De)&&(De=0),isNaN(Ve)&&(Ve=1),isNaN(at)&&(at=0),isNaN(St)&&(St=0),this._matrix=[J,Se,De,Ve,at,St]};Object.defineProperty(Qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qt.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(K).join(k)},Qt.prototype.multiply=function(k){var J=k.sx*this.sx+k.shy*this.shx,Se=k.sx*this.shy+k.shy*this.sy,De=k.shx*this.sx+k.sy*this.shx,Ve=k.shx*this.shy+k.sy*this.sy,at=k.tx*this.sx+k.ty*this.shx+this.tx,St=k.tx*this.shy+k.ty*this.sy+this.ty;return new Qt(J,Se,De,Ve,at,St)},Qt.prototype.decompose=function(){var k=this.sx,J=this.shy,Se=this.shx,De=this.sy,Ve=this.tx,at=this.ty,St=Math.sqrt(k*k+J*J),$t=(k/=St)*Se+(J/=St)*De;Se-=k*$t,De-=J*$t;var er=Math.sqrt(Se*Se+De*De);return $t/=er,k*(De/=er)<J*(Se/=er)&&(k=-k,J=-J,$t=-$t,St=-St),{scale:new Qt(St,0,0,er,0,0),translate:new Qt(1,0,0,1,Ve,at),rotate:new Qt(k,J,-J,k,0,0),skew:new Qt(1,0,$t,1,0,0)}},Qt.prototype.toString=function(k){return this.join(" ")},Qt.prototype.inversed=function(){var k=this.sx,J=this.shy,Se=this.shx,De=this.sy,Ve=this.tx,at=this.ty,St=1/(k*De-J*Se),$t=De*St,er=-J*St,br=-Se*St,kr=k*St;return new Qt($t,er,br,kr,-$t*Ve-br*at,-er*Ve-kr*at)},Qt.prototype.applyToPoint=function(k){var J=k.x*this.sx+k.y*this.shx+this.tx,Se=k.x*this.shy+k.y*this.sy+this.ty;return new bs(J,Se)},Qt.prototype.applyToRectangle=function(k){var J=this.applyToPoint(k),Se=this.applyToPoint(new bs(k.x+k.w,k.y+k.h));return new no(J.x,J.y,Se.x-J.x,Se.y-J.y)},Qt.prototype.clone=function(){var k=this.sx,J=this.shy,Se=this.shx,De=this.sy,Ve=this.tx,at=this.ty;return new Qt(k,J,Se,De,Ve,at)},_.Matrix=Qt;var Xa=_.matrixMult=function(k,J){return J.multiply(k)},Ba=new Qt(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Ba;var Ce=function(k,J){if(!ln[k]){var Se=(J instanceof Nh?"Sh":"P")+(Object.keys(Yt).length+1).toString(10);J.id=Se,ln[k]=Se,Yt[Se]=J,Gr.publish("addPattern",J)}};_.ShadingPattern=Nh,_.TilingPattern=Kf,_.addShadingPattern=function(k,J){return B("addShadingPattern()"),Ce(k,J),this},_.beginTilingPattern=function(k){B("beginTilingPattern()"),Cl(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},_.endTilingPattern=function(k,J){B("endTilingPattern()"),J.stream=ot[G].join(`
`),Ce(k,J),Gr.publish("endTilingPattern",J),Ni.pop().restore()};var Ge,qe=_.__private__.newObject=function(){var k=Ye();return Y(k,!0),k},Ye=_.__private__.newObjectDeferred=function(){return se++,Ae[se]=function(){return Re},se},Y=function(k,J){return J=typeof J=="boolean"&&J,Ae[k]=Re,J&&we(k+" 0 obj"),k},pe=_.__private__.newAdditionalObject=function(){var k={objId:Ye(),content:""};return Ie.push(k),k},re=Ye(),ne=Ye(),he=_.__private__.decodeColorString=function(k){var J=k.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var Se=parseFloat(J[0]);J=[Se,Se,Se,"r"]}for(var De="#",Ve=0;Ve<3;Ve++)De+=("0"+Math.floor(255*parseFloat(J[Ve])).toString(16)).slice(-2);return De},ge=_.__private__.encodeColorString=function(k){var J;typeof k=="string"&&(k={ch1:k});var Se=k.ch1,De=k.ch2,Ve=k.ch3,at=k.ch4,St=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var $t=new kE(Se);if($t.ok)Se=$t.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var er=parseInt(Se.substr(1),16);Se=er>>16&255,De=er>>8&255,Ve=255&er}if(De===void 0||at===void 0&&Se===De&&De===Ve)J=typeof Se=="string"?Se+" "+St[0]:k.precision===2?j(Se/255)+" "+St[0]:W(Se/255)+" "+St[0];else if(at===void 0||Gn(at)==="object"){if(at&&!isNaN(at.a)&&at.a===0)return["1.","1.","1.",St[1]].join(" ");J=typeof Se=="string"?[Se,De,Ve,St[1]].join(" "):k.precision===2?[j(Se/255),j(De/255),j(Ve/255),St[1]].join(" "):[W(Se/255),W(De/255),W(Ve/255),St[1]].join(" ")}else J=typeof Se=="string"?[Se,De,Ve,at,St[2]].join(" "):k.precision===2?[j(Se),j(De),j(Ve),j(at),St[2]].join(" "):[W(Se),W(De),W(Ve),W(at),St[2]].join(" ");return J},Pe=_.__private__.getFilters=function(){return s},ze=_.__private__.putStream=function(k){var J=(k=k||{}).data||"",Se=k.filters||Pe(),De=k.alreadyAppliedFilters||[],Ve=k.addLength1||!1,at=J.length,St=k.objectId,$t=function(Oi){return Oi};if(p!==null&&St===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&($t=ni.encryptor(St,0));var er={};Se===!0&&(Se=["FlateEncode"]);var br=k.additionalKeyValues||[],kr=(er=fr.API.processDataByFilters!==void 0?fr.API.processDataByFilters(J,Se):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(er.data.length!==0&&(br.push({key:"Length",value:er.data.length}),Ve===!0&&br.push({key:"Length1",value:at})),kr.length!=0)if(kr.split("/").length-1==1)br.push({key:"Filter",value:kr});else{br.push({key:"Filter",value:"["+kr+"]"});for(var Xr=0;Xr<br.length;Xr+=1)if(br[Xr].key==="DecodeParms"){for(var Jn=[],ui=0;ui<er.reverseChain.split("/").length-1;ui+=1)Jn.push("null");Jn.push(br[Xr].value),br[Xr].value="["+Jn.join(" ")+"]"}}we("<<");for(var wn=0;wn<br.length;wn++)we("/"+br[wn].key+" "+br[wn].value);we(">>"),er.data.length!==0&&(we("stream"),we($t(er.data)),we("endstream"))},Be=_.__private__.putPage=function(k){var J=k.number,Se=k.data,De=k.objId,Ve=k.contentsObjId;Y(De,!0),we("<</Type /Page"),we("/Parent "+k.rootDictionaryObjId+" 0 R"),we("/Resources "+k.resourceDictionaryObjId+" 0 R"),we("/MediaBox ["+parseFloat(K(k.mediaBox.bottomLeftX))+" "+parseFloat(K(k.mediaBox.bottomLeftY))+" "+K(k.mediaBox.topRightX)+" "+K(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&we("/CropBox ["+K(k.cropBox.bottomLeftX)+" "+K(k.cropBox.bottomLeftY)+" "+K(k.cropBox.topRightX)+" "+K(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&we("/BleedBox ["+K(k.bleedBox.bottomLeftX)+" "+K(k.bleedBox.bottomLeftY)+" "+K(k.bleedBox.topRightX)+" "+K(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&we("/TrimBox ["+K(k.trimBox.bottomLeftX)+" "+K(k.trimBox.bottomLeftY)+" "+K(k.trimBox.topRightX)+" "+K(k.trimBox.topRightY)+"]"),k.artBox!==null&&we("/ArtBox ["+K(k.artBox.bottomLeftX)+" "+K(k.artBox.bottomLeftY)+" "+K(k.artBox.topRightX)+" "+K(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&we("/UserUnit "+k.userUnit),Gr.publish("putPage",{objId:De,pageContext:Zt[J],pageNumber:J,page:Se}),we("/Contents "+Ve+" 0 R"),we(">>"),we("endobj");var at=Se.join(`
`);return q===D&&(at+=`
Q`),Y(Ve,!0),ze({data:at,filters:Pe(),objectId:Ve}),we("endobj"),De},Ue=_.__private__.putPages=function(){var k,J,Se=[];for(k=1;k<=xr;k++)Zt[k].objId=Ye(),Zt[k].contentsObjId=Ye();for(k=1;k<=xr;k++)Se.push(Be({number:k,data:ot[k],objId:Zt[k].objId,contentsObjId:Zt[k].contentsObjId,mediaBox:Zt[k].mediaBox,cropBox:Zt[k].cropBox,bleedBox:Zt[k].bleedBox,trimBox:Zt[k].trimBox,artBox:Zt[k].artBox,userUnit:Zt[k].userUnit,rootDictionaryObjId:re,resourceDictionaryObjId:ne}));Y(re,!0),we("<</Type /Pages");var De="/Kids [";for(J=0;J<xr;J++)De+=Se[J]+" 0 R ";we(De+"]"),we("/Count "+xr),we(">>"),we("endobj"),Gr.publish("postPutPages")},$e=function(k){Gr.publish("putFont",{font:k,out:we,newObject:qe,putStream:ze}),k.isAlreadyPutted!==!0&&(k.objectNumber=qe(),we("<<"),we("/Type /Font"),we("/BaseFont /"+Vf(k.postScriptName)),we("/Subtype /Type1"),typeof k.encoding=="string"&&we("/Encoding /"+k.encoding),we("/FirstChar 32"),we("/LastChar 255"),we(">>"),we("endobj"))},ht=function(k){k.objectNumber=qe();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[K(k.x),K(k.y),K(k.x+k.width),K(k.y+k.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var Se=k.pages[1].join(`
`);ze({data:Se,additionalKeyValues:J,objectId:k.objectNumber}),we("endobj")},bt=function(k,J){J||(J=21);var Se=qe(),De=(function(St,$t){var er,br=[],kr=1/($t-1);for(er=0;er<1;er+=kr)br.push(er);if(br.push(1),St[0].offset!=0){var Xr={offset:0,color:St[0].color};St.unshift(Xr)}if(St[St.length-1].offset!=1){var Jn={offset:1,color:St[St.length-1].color};St.push(Jn)}for(var ui="",wn=0,Oi=0;Oi<br.length;Oi++){for(er=br[Oi];er>St[wn+1].offset;)wn++;var ci=St[wn].offset,Ii=(er-ci)/(St[wn+1].offset-ci),Ss=St[wn].color,ta=St[wn+1].color;ui+=Z(Math.round((1-Ii)*Ss[0]+Ii*ta[0]).toString(16))+Z(Math.round((1-Ii)*Ss[1]+Ii*ta[1]).toString(16))+Z(Math.round((1-Ii)*Ss[2]+Ii*ta[2]).toString(16))}return ui.trim()})(k.colors,J),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+J+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze({data:De,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),we("endobj"),k.objectNumber=qe(),we("<< /ShadingType "+k.type),we("/ColorSpace /DeviceRGB");var at="/Coords ["+K(parseFloat(k.coords[0]))+" "+K(parseFloat(k.coords[1]))+" ";k.type===2?at+=K(parseFloat(k.coords[2]))+" "+K(parseFloat(k.coords[3])):at+=K(parseFloat(k.coords[2]))+" "+K(parseFloat(k.coords[3]))+" "+K(parseFloat(k.coords[4]))+" "+K(parseFloat(k.coords[5])),we(at+="]"),k.matrix&&we("/Matrix ["+k.matrix.toString()+"]"),we("/Function "+Se+" 0 R"),we("/Extend [true true]"),we(">>"),we("endobj")},wt=function(k,J){var Se=Ye(),De=qe();J.push({resourcesOid:Se,objectOid:De}),k.objectNumber=De;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+k.boundingBox.map(K).join(" ")+"]"}),Ve.push({key:"XStep",value:K(k.xStep)}),Ve.push({key:"YStep",value:K(k.yStep)}),Ve.push({key:"Resources",value:Se+" 0 R"}),k.matrix&&Ve.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),ze({data:k.stream,additionalKeyValues:Ve,objectId:k.objectNumber}),we("endobj")},gt=function(k){for(var J in k.objectNumber=qe(),we("<<"),k)switch(J){case"opacity":we("/ca "+j(k[J]));break;case"stroke-opacity":we("/CA "+j(k[J]))}we(">>"),we("endobj")},Mt=function(k){Y(k.resourcesOid,!0),we("<<"),we("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var J in we("/Font <<"),Gt)Gt.hasOwnProperty(J)&&(v===!1||v===!0&&y.hasOwnProperty(J))&&we("/"+J+" "+Gt[J].objectNumber+" 0 R");we(">>")})(),(function(){if(Object.keys(Yt).length>0){for(var J in we("/Shading <<"),Yt)Yt.hasOwnProperty(J)&&Yt[J]instanceof Nh&&Yt[J].objectNumber>=0&&we("/"+J+" "+Yt[J].objectNumber+" 0 R");Gr.publish("putShadingPatternDict"),we(">>")}})(),(function(J){if(Object.keys(Yt).length>0){for(var Se in we("/Pattern <<"),Yt)Yt.hasOwnProperty(Se)&&Yt[Se]instanceof _.TilingPattern&&Yt[Se].objectNumber>=0&&Yt[Se].objectNumber<J&&we("/"+Se+" "+Yt[Se].objectNumber+" 0 R");Gr.publish("putTilingPatternDict"),we(">>")}})(k.objectOid),(function(){if(Object.keys(ur).length>0){var J;for(J in we("/ExtGState <<"),ur)ur.hasOwnProperty(J)&&ur[J].objectNumber>=0&&we("/"+J+" "+ur[J].objectNumber+" 0 R");Gr.publish("putGStateDict"),we(">>")}})(),(function(){for(var J in we("/XObject <<"),li)li.hasOwnProperty(J)&&li[J].objectNumber>=0&&we("/"+J+" "+li[J].objectNumber+" 0 R");Gr.publish("putXobjectDict"),we(">>")})(),we(">>"),we("endobj")},Bt=function(k){pr[k.fontName]=pr[k.fontName]||{},pr[k.fontName][k.fontStyle]=k.id},Hr=function(k,J,Se,De,Ve){var at={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:k,fontName:J,fontStyle:Se,encoding:De,isStandardFont:Ve||!1,metadata:{}};return Gr.publish("addFont",{font:at,instance:this}),Gt[at.id]=at,Bt(at),at.id},wr=_.__private__.pdfEscape=_.pdfEscape=function(k,J){return(function(Se,De){var Ve,at,St,$t,er,br,kr,Xr,Jn;if(St=(De=De||{}).sourceEncoding||"Unicode",er=De.outputEncoding,(De.autoencode||er)&&Gt[Ft].metadata&&Gt[Ft].metadata[St]&&Gt[Ft].metadata[St].encoding&&($t=Gt[Ft].metadata[St].encoding,!er&&Gt[Ft].encoding&&(er=Gt[Ft].encoding),!er&&$t.codePages&&(er=$t.codePages[0]),typeof er=="string"&&(er=$t[er]),er)){for(kr=!1,br=[],Ve=0,at=Se.length;Ve<at;Ve++)(Xr=er[Se.charCodeAt(Ve)])?br.push(String.fromCharCode(Xr)):br.push(Se[Ve]),br[Ve].charCodeAt(0)>>8&&(kr=!0);Se=br.join("")}for(Ve=Se.length;kr===void 0&&Ve!==0;)Se.charCodeAt(Ve-1)>>8&&(kr=!0),Ve--;if(!kr)return Se;for(br=De.noBOM?[]:[254,255],Ve=0,at=Se.length;Ve<at;Ve++){if((Jn=(Xr=Se.charCodeAt(Ve))>>8)>>8)throw new Error("Character at position "+Ve+" of string '"+Se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");br.push(Jn),br.push(Xr-(Jn<<8))}return String.fromCharCode.apply(void 0,br)})(k,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nn=_.__private__.beginPage=function(k){ot[++xr]=[],Zt[xr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},Qi(xr),Nt(ot[G])},Kn=function(k,J){var Se,De,Ve;switch(r=J||r,typeof k=="string"&&(Se=O(k.toLowerCase()),Array.isArray(Se)&&(De=Se[0],Ve=Se[1])),Array.isArray(k)&&(De=k[0]*_r,Ve=k[1]*_r),isNaN(De)&&(De=n[0],Ve=n[1]),(De>14400||Ve>14400)&&(ti.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),Ve=Math.min(14400,Ve)),n=[De,Ve],r.substr(0,1)){case"l":Ve>De&&(n=[Ve,De]);break;case"p":De>Ve&&(n=[Ve,De])}nn(n),Ct(ko),we(Na),iu!==0&&we(iu+" J"),ki!==0&&we(ki+" j"),Gr.publish("addPage",{pageNumber:xr})},Xn=function(k){k>0&&k<=xr&&(ot.splice(k,1),Zt.splice(k,1),xr--,G>xr&&(G=xr),this.setPage(G))},Qi=function(k){k>0&&k<=xr&&(G=k)},Ci=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return ot.length-1},Ar=function(k,J,Se){var De,Ve=void 0;return Se=Se||{},k=k!==void 0?k:Gt[Ft].fontName,J=J!==void 0?J:Gt[Ft].fontStyle,De=k.toLowerCase(),pr[De]!==void 0&&pr[De][J]!==void 0?Ve=pr[De][J]:pr[k]!==void 0&&pr[k][J]!==void 0?Ve=pr[k][J]:Se.disableWarning===!1&&ti.warn("Unable to look up font label for font '"+k+"', '"+J+"'. Refer to getFontList() for available fonts."),Ve||Se.noFallback||(Ve=pr.times[J])==null&&(Ve=pr.times.normal),Ve},Ut=_.__private__.putInfo=function(){var k=qe(),J=function(De){return De};for(var Se in p!==null&&(J=ni.encryptor(k,0)),we("<<"),we("/Producer ("+wr(J("jsPDF "+fr.version))+")"),or)or.hasOwnProperty(Se)&&or[Se]&&we("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+wr(J(or[Se]))+")");we("/CreationDate ("+wr(J(xe))+")"),we(">>"),we("endobj")},qr=_.__private__.putCatalog=function(k){var J=(k=k||{}).rootDictionaryObjId||re;switch(qe(),we("<<"),we("/Type /Catalog"),we("/Pages "+J+" 0 R"),Vt||(Vt="fullwidth"),Vt){case"fullwidth":we("/OpenAction [3 0 R /FitH null]");break;case"fullheight":we("/OpenAction [3 0 R /FitV null]");break;case"fullpage":we("/OpenAction [3 0 R /Fit]");break;case"original":we("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+Vt;Se.substr(Se.length-1)==="%"&&(Vt=parseInt(Vt)/100),typeof Vt=="number"&&we("/OpenAction [3 0 R /XYZ null null "+j(Vt)+"]")}switch(Er||(Er="continuous"),Er){case"continuous":we("/PageLayout /OneColumn");break;case"single":we("/PageLayout /SinglePage");break;case"two":case"twoleft":we("/PageLayout /TwoColumnLeft");break;case"tworight":we("/PageLayout /TwoColumnRight")}Xt&&we("/PageMode /"+Xt),Gr.publish("putCatalog"),we(">>"),we("endobj")},ri=_.__private__.putTrailer=function(){we("trailer"),we("<<"),we("/Size "+(se+1)),we("/Root "+se+" 0 R"),we("/Info "+(se-1)+" 0 R"),p!==null&&we("/Encrypt "+ni.oid+" 0 R"),we("/ID [ <"+oe+"> <"+oe+"> ]"),we(">>")},ar=_.__private__.putHeader=function(){we("%PDF-"+T),we("%")},Ea=_.__private__.putXRef=function(){var k="0000000000";we("xref"),we("0 "+(se+1)),we("0000000000 65535 f ");for(var J=1;J<=se;J++)typeof Ae[J]=="function"?we((k+Ae[J]()).slice(-10)+" 00000 n "):Ae[J]!==void 0?we((k+Ae[J]).slice(-10)+" 00000 n "):we("0000000000 00000 n ")},Ta=_.__private__.buildDocument=function(){var k;se=0,Re=0,Oe=[],Ae=[],Ie=[],re=Ye(),ne=Ye(),Nt(Oe),Gr.publish("buildDocument"),ar(),Ue(),(function(){Gr.publish("putAdditionalObjects");for(var Se=0;Se<Ie.length;Se++){var De=Ie[Se];Y(De.objId,!0),we(De.content),we("endobj")}Gr.publish("postPutAdditionalObjects")})(),k=[],(function(){for(var Se in Gt)Gt.hasOwnProperty(Se)&&(v===!1||v===!0&&y.hasOwnProperty(Se))&&$e(Gt[Se])})(),(function(){var Se;for(Se in ur)ur.hasOwnProperty(Se)&&gt(ur[Se])})(),(function(){for(var Se in li)li.hasOwnProperty(Se)&&ht(li[Se])})(),(function(Se){var De;for(De in Yt)Yt.hasOwnProperty(De)&&(Yt[De]instanceof Nh?bt(Yt[De]):Yt[De]instanceof Kf&&wt(Yt[De],Se))})(k),Gr.publish("putResources"),k.forEach(Mt),Mt({resourcesOid:ne,objectOid:Number.MAX_SAFE_INTEGER}),Gr.publish("postPutResources"),p!==null&&(ni.oid=qe(),we("<<"),we("/Filter /Standard"),we("/V "+ni.v),we("/R "+ni.r),we("/U <"+ni.toHexString(ni.U)+">"),we("/O <"+ni.toHexString(ni.O)+">"),we("/P "+ni.P),we(">>"),we("endobj")),Ut(),qr();var J=Re;return Ea(),ri(),we("startxref"),we(""+J),we("%%EOF"),Nt(ot[G]),Oe.join(`
`)},yr=_.__private__.getBlob=function(k){return new Blob([xt(k)],{type:"application/pdf"})},Dn=_.output=_.__private__.output=(Ge=function(k,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",k){case void 0:return Ta();case"save":_.save(J.filename);break;case"arraybuffer":return xt(Ta());case"blob":return yr(Ta());case"bloburi":case"bloburl":if(Or.URL!==void 0&&typeof Or.URL.createObjectURL=="function")return Or.URL&&Or.URL.createObjectURL(yr(Ta()))||void 0;ti.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",De=Ta();try{Se=o4(De)}catch{Se=o4(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+J.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",at=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Ve=J.pdfObjectUrl,at="");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+at+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",$t=Or.open();return $t!==null&&$t.document.write(St),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',br=Or.open();if(br!==null){br.document.write(er);var kr=this;br.document.documentElement.querySelector("#pdfViewer").onload=function(){br.document.title=J.filename,br.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kr.output("bloburl"))}}return br}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Or)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',Jn=Or.open();if(Jn!==null&&(Jn.document.write(Xr),Jn.document.title=J.filename),Jn||typeof safari>"u")return Jn;break;case"datauri":case"dataurl":return Or.document.location.href=this.output("datauristring",J);default:return null}},Ge.foo=function(){try{return Ge.apply(this,arguments)}catch(Se){var k=Se.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var J="Error in function "+k.split(`
`)[0].split("<")[0]+": "+Se.message;if(!Or.console)throw new Error(J);Or.console.error(J,Se),Or.alert&&alert(J)}},Ge.foo.bar=Ge,Ge.foo),ea=function(k){return Array.isArray(Sa)===!0&&Sa.indexOf(k)>-1};switch(i){case"pt":_r=1;break;case"mm":_r=72/25.4;break;case"cm":_r=72/2.54;break;case"in":_r=72;break;case"px":_r=ea("px_scaling")==1?.75:96/72;break;case"pc":case"em":_r=12;break;case"ex":_r=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);_r=i}var ni=null;Q(),_e();var un=_.__private__.getPageInfo=_.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Zt[k].objId,pageNumber:k,pageContext:Zt[k]}},tu=_.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in Zt)if(Zt[J].objId===k)break;return un(J)},Tl=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Zt[G].objId,pageNumber:G,pageContext:Zt[G]}};_.addPage=function(){return Kn.apply(this,arguments),this},_.setPage=function(){return Qi.apply(this,arguments),Nt.call(this,ot[G]),this},_.insertPage=function(k){return this.addPage(),this.movePage(G,k),this},_.movePage=function(k,J){var Se,De;if(k>J){Se=ot[k],De=Zt[k];for(var Ve=k;Ve>J;Ve--)ot[Ve]=ot[Ve-1],Zt[Ve]=Zt[Ve-1];ot[J]=Se,Zt[J]=De,this.setPage(J)}else if(k<J){Se=ot[k],De=Zt[k];for(var at=k;at<J;at++)ot[at]=ot[at+1],Zt[at]=Zt[at+1];ot[J]=Se,Zt[J]=De,this.setPage(J)}return this},_.deletePage=function(){return Xn.apply(this,arguments),this},_.__private__.text=_.text=function(k,J,Se,De,Ve){var at,St,$t,er,br,kr,Xr,Jn,ui,wn=(De=De||{}).scope||this;if(typeof k=="number"&&typeof J=="number"&&(typeof Se=="string"||Array.isArray(Se))){var Oi=Se;Se=J,J=k,k=Oi}if(arguments[3]instanceof Qt==0?($t=arguments[4],er=arguments[5],Gn(Xr=arguments[3])==="object"&&Xr!==null||(typeof $t=="string"&&(er=$t,$t=null),typeof Xr=="string"&&(er=Xr,Xr=null),typeof Xr=="number"&&($t=Xr,Xr=null),De={flags:Xr,angle:$t,align:er})):(B("The transform parameter of text() with a Matrix value"),ui=Ve),isNaN(J)||isNaN(Se)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return wn;var ci,Ii="",Ss=typeof De.lineHeightFactor=="number"?De.lineHeightFactor:to,ta=wn.internal.scaleFactor;function Ro(cn){return cn=cn.split("	").join(Array(De.TabLen||9).join(" ")),wr(cn,Xr)}function Do(cn){for(var Jr,kn=cn.concat(),ai=[],co=kn.length;co--;)typeof(Jr=kn.shift())=="string"?ai.push(Jr):Array.isArray(cn)&&(Jr.length===1||Jr[1]===void 0&&Jr[2]===void 0)?ai.push(Jr[0]):ai.push([Jr[0],Jr[1],Jr[2]]);return ai}function ra(cn,Jr){var kn;if(typeof cn=="string")kn=Jr(cn)[0];else if(Array.isArray(cn)){for(var ai,co,wi=cn.concat(),ho=[],Bu=wi.length;Bu--;)typeof(ai=wi.shift())=="string"?ho.push(Jr(ai)[0]):Array.isArray(ai)&&typeof ai[0]=="string"&&(co=Jr(ai[0],ai[1],ai[2]),ho.push([co[0],co[1],co[2]]));kn=ho}return kn}var Vs=!1,Es=!0;if(typeof k=="string")Vs=!0;else if(Array.isArray(k)){var Ml=k.concat();St=[];for(var $s,yi=Ml.length;yi--;)(typeof($s=Ml.shift())!="string"||Array.isArray($s)&&typeof $s[0]!="string")&&(Es=!1);Vs=Es}if(Vs===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var sl=dt/wn.internal.scaleFactor,ol=sl*(Ss-1);switch(De.baseline){case"bottom":Se-=ol;break;case"top":Se+=sl-ol;break;case"hanging":Se+=sl-2*ol;break;case"middle":Se+=sl/2-ol}if((kr=De.maxWidth||0)>0&&(typeof k=="string"?k=wn.splitTextToSize(k,kr):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(cn,Jr){return cn.concat(wn.splitTextToSize(Jr,kr))},[]))),at={text:k,x:J,y:Se,options:De,mutex:{pdfEscape:wr,activeFontKey:Ft,fonts:Gt,activeFontSize:dt}},Gr.publish("preProcessText",at),k=at.text,$t=(De=at.options).angle,ui instanceof Qt==0&&$t&&typeof $t=="number"){$t*=Math.PI/180,De.rotationDirection===0&&($t=-$t),q===D&&($t=-$t);var kl=Math.cos($t),io=Math.sin($t);ui=new Qt(kl,io,-io,kl,0,0)}else $t&&$t instanceof Qt&&(ui=$t);q!==D||ui||(ui=Ba),(br=De.charSpace||es)!==void 0&&(Ii+=K(ue(br))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jn=De.horizontalScale)!==void 0&&(Ii+=K(100*Jn)+` Tz
`),De.lang;var jn=-1,za=De.renderingMode!==void 0?De.renderingMode:De.stroke,au=wn.internal.getCurrentPageInfo().pageContext;switch(za){case 0:case!1:case"fill":jn=0;break;case 1:case!0:case"stroke":jn=1;break;case 2:case"fillThenStroke":jn=2;break;case 3:case"invisible":jn=3;break;case 4:case"fillAndAddForClipping":jn=4;break;case 5:case"strokeAndAddPathForClipping":jn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":jn=6;break;case 7:case"addToPathForClipping":jn=7}var rs=au.usedRenderingMode!==void 0?au.usedRenderingMode:-1;jn!==-1?Ii+=jn+` Tr
`:rs!==-1&&(Ii+=`0 Tr
`),jn!==-1&&(au.usedRenderingMode=jn),er=De.align||"left";var ns,da=dt*Ss,jo=wn.internal.pageSize.getWidth(),Io=Gt[Ft];br=De.charSpace||es,kr=De.maxWidth||0,Xr=Object.assign({autoencode:!0,noBOM:!0},De.flags);var Ts=[],Ws=function(cn){return wn.getStringUnitWidth(cn,{font:Io,charSpace:br,fontSize:dt,doKerning:!1})*dt/ta};if(Object.prototype.toString.call(k)==="[object Array]"){var Ga;St=Do(k),er!=="left"&&(ns=St.map(Ws));var ii,is=0;if(er==="right"){J-=ns[0],k=[],yi=St.length;for(var ao=0;ao<yi;ao++)ao===0?(ii=La(J),Ga=Mi(Se)):(ii=ue(is-ns[ao]),Ga=-da),k.push([St[ao],ii,Ga]),is=ns[ao]}else if(er==="center"){J-=ns[0]/2,k=[],yi=St.length;for(var Zs=0;Zs<yi;Zs++)Zs===0?(ii=La(J),Ga=Mi(Se)):(ii=ue((is-ns[Zs])/2),Ga=-da),k.push([St[Zs],ii,Ga]),is=ns[Zs]}else if(er==="left"){k=[],yi=St.length;for(var su=0;su<yi;su++)k.push(St[su])}else if(er==="justify"&&Io.encoding==="Identity-H"){k=[],yi=St.length,kr=kr!==0?kr:jo;for(var Ha=0,hi=0;hi<yi;hi++)if(Ga=hi===0?Mi(Se):-da,ii=hi===0?La(J):Ha,hi<yi-1){var Fo=ue((kr-ns[hi])/(St[hi].split(" ").length-1)),so=St[hi].split(" ");k.push([so[0]+" ",ii,Ga]),Ha=0;for(var Fi=1;Fi<so.length;Fi++){var xi=(Ws(so[Fi-1]+" "+so[Fi])-Ws(so[Fi]))*ta+Fo;Fi==so.length-1?k.push([so[Fi],xi,0]):k.push([so[Fi]+" ",xi,0]),Ha-=xi}}else k.push([St[hi],ii,Ga]);k.push(["",Ha,0])}else{if(er!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],yi=St.length,kr=kr!==0?kr:jo,hi=0;hi<yi;hi++){Ga=hi===0?Mi(Se):-da,ii=hi===0?La(J):0;var oo=St[hi].split(" ").length-1,ll=oo>0?(kr-ns[hi])/oo:0;hi<yi-1?Ts.push(K(ue(ll))):Ts.push(0),k.push([St[hi],ii,Ga])}}}(typeof De.R2L=="boolean"?De.R2L:sr)===!0&&(k=ra(k,function(cn,Jr,kn){return[cn.split("").reverse().join(""),Jr,kn]})),at={text:k,x:J,y:Se,options:De,mutex:{pdfEscape:wr,activeFontKey:Ft,fonts:Gt,activeFontSize:dt}},Gr.publish("postProcessText",at),k=at.text,ci=at.mutex.isHex||!1;var Bo=Gt[Ft].encoding;Bo!=="WinAnsiEncoding"&&Bo!=="StandardEncoding"||(k=ra(k,function(cn,Jr,kn){return[Ro(cn),Jr,kn]})),St=Do(k),k=[];for(var Ys,As,Ca,lo=Array.isArray(St[0])?1:0,Ma="",uo=function(cn,Jr,kn){var ai="";return kn instanceof Qt?(kn=typeof De.angle=="number"?Xa(kn,new Qt(1,0,0,1,cn,Jr)):Xa(new Qt(1,0,0,1,cn,Jr),kn),q===D&&(kn=Xa(new Qt(1,0,0,-1,0,0),kn)),ai=kn.join(" ")+` Tm
`):ai=K(cn)+" "+K(Jr)+` Td
`,ai},pa=0;pa<St.length;pa++){switch(Ma="",lo){case 1:Ca=(ci?"<":"(")+St[pa][0]+(ci?">":")"),Ys=parseFloat(St[pa][1]),As=parseFloat(St[pa][2]);break;case 0:Ca=(ci?"<":"(")+St[pa]+(ci?">":")"),Ys=La(J),As=Mi(Se)}Ts!==void 0&&Ts[pa]!==void 0&&(Ma=Ts[pa]+` Tw
`),pa===0?k.push(Ma+uo(Ys,As,ui)+Ca):lo===0?k.push(Ma+Ca):lo===1&&k.push(Ma+uo(Ys,As,ui)+Ca)}k=lo===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var ka=`BT
/`;return ka+=Ft+" "+dt+` Tf
`,ka+=K(dt*Ss)+` TL
`,ka+=Mn+`
`,ka+=Ii,ka+=k,we(ka+="ET"),y[Ft]=!0,wn};var zs=_.__private__.clip=_.clip=function(k){return we(k==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return zs("evenodd")},_.__private__.discardPath=_.discardPath=function(){return we("n"),this};var Kr=_.__private__.isValidStyle=function(k){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(J=!0),J};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(k){return Kr(k)&&(f=k),this};var Gs=_.__private__.getStyle=_.getStyle=function(k){var J=f;switch(k){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=k}return J},Co=_.close=function(){return we("h"),this};_.stroke=function(){return we("S"),this},_.fill=function(k){return Aa("f",k),this},_.fillEvenOdd=function(k){return Aa("f*",k),this},_.fillStroke=function(k){return Aa("B",k),this},_.fillStrokeEvenOdd=function(k){return Aa("B*",k),this};var Aa=function(k,J){Gn(J)==="object"?ru(J,k):we(k)},Mo=function(k){k===null||q===D&&k===void 0||(k=Gs(k),we(k))};function rl(k,J,Se,De,Ve){var at=new Kf(J||this.boundingBox,Se||this.xStep,De||this.yStep,this.gState,Ve||this.matrix);at.stream=this.stream;var St=k+"$$"+this.cloneIndex+++"$$";return Ce(St,at),at}var ru=function(k,J){var Se=ln[k.key],De=Yt[Se];if(De instanceof Nh)we("q"),we(Al(J)),De.gState&&_.setGState(De.gState),we(k.matrix.toString()+" cm"),we("/"+Se+" sh"),we("Q");else if(De instanceof Kf){var Ve=new Qt(1,0,0,-1,0,Oo());k.matrix&&(Ve=Ve.multiply(k.matrix||Ba),Se=rl.call(De,k.key,k.boundingBox,k.xStep,k.yStep,Ve).id),we("q"),we("/Pattern cs"),we("/"+Se+" scn"),De.gState&&_.setGState(De.gState),we(J),we("Q")}},Al=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},nl=_.moveTo=function(k,J){return we(K(ue(k))+" "+K(de(J))+" m"),this},nu=_.lineTo=function(k,J){return we(K(ue(k))+" "+K(de(J))+" l"),this},fa=_.curveTo=function(k,J,Se,De,Ve,at){return we([K(ue(k)),K(de(J)),K(ue(Se)),K(de(De)),K(ue(Ve)),K(de(at)),"c"].join(" ")),this};_.__private__.line=_.line=function(k,J,Se,De,Ve){if(isNaN(k)||isNaN(J)||isNaN(Se)||isNaN(De)||!Kr(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return q===I?this.lines([[Se-k,De-J]],k,J,[1,1],Ve||"S"):this.lines([[Se-k,De-J]],k,J,[1,1]).stroke()},_.__private__.lines=_.lines=function(k,J,Se,De,Ve,at){var St,$t,er,br,kr,Xr,Jn,ui,wn,Oi,ci,Ii;if(typeof k=="number"&&(Ii=Se,Se=J,J=k,k=Ii),De=De||[1,1],at=at||!1,isNaN(J)||isNaN(Se)||!Array.isArray(k)||!Array.isArray(De)||!Kr(Ve)||typeof at!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nl(J,Se),St=De[0],$t=De[1],br=k.length,Oi=J,ci=Se,er=0;er<br;er++)(kr=k[er]).length===2?(Oi=kr[0]*St+Oi,ci=kr[1]*$t+ci,nu(Oi,ci)):(Xr=kr[0]*St+Oi,Jn=kr[1]*$t+ci,ui=kr[2]*St+Oi,wn=kr[3]*$t+ci,Oi=kr[4]*St+Oi,ci=kr[5]*$t+ci,fa(Xr,Jn,ui,wn,Oi,ci));return at&&Co(),Mo(Ve),this},_.path=function(k){for(var J=0;J<k.length;J++){var Se=k[J],De=Se.c;switch(Se.op){case"m":nl(De[0],De[1]);break;case"l":nu(De[0],De[1]);break;case"c":fa.apply(this,De);break;case"h":Co()}}return this},_.__private__.rect=_.rect=function(k,J,Se,De,Ve){if(isNaN(k)||isNaN(J)||isNaN(Se)||isNaN(De)||!Kr(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return q===I&&(De=-De),we([K(ue(k)),K(de(J)),K(ue(Se)),K(ue(De)),"re"].join(" ")),Mo(Ve),this},_.__private__.triangle=_.triangle=function(k,J,Se,De,Ve,at,St){if(isNaN(k)||isNaN(J)||isNaN(Se)||isNaN(De)||isNaN(Ve)||isNaN(at)||!Kr(St))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-k,De-J],[Ve-Se,at-De],[k-Ve,J-at]],k,J,[1,1],St,!0),this},_.__private__.roundedRect=_.roundedRect=function(k,J,Se,De,Ve,at,St){if(isNaN(k)||isNaN(J)||isNaN(Se)||isNaN(De)||isNaN(Ve)||isNaN(at)||!Kr(St))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Se),at=Math.min(at,.5*De),this.lines([[Se-2*Ve,0],[Ve*$t,0,Ve,at-at*$t,Ve,at],[0,De-2*at],[0,at*$t,-Ve*$t,at,-Ve,at],[2*Ve-Se,0],[-Ve*$t,0,-Ve,-at*$t,-Ve,-at],[0,2*at-De],[0,-at*$t,Ve*$t,-at,Ve,-at]],k+Ve,J,[1,1],St,!0),this},_.__private__.ellipse=_.ellipse=function(k,J,Se,De,Ve){if(isNaN(k)||isNaN(J)||isNaN(Se)||isNaN(De)||!Kr(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var at=4/3*(Math.SQRT2-1)*Se,St=4/3*(Math.SQRT2-1)*De;return nl(k+Se,J),fa(k+Se,J-St,k+at,J-De,k,J-De),fa(k-at,J-De,k-Se,J-St,k-Se,J),fa(k-Se,J+St,k-at,J+De,k,J+De),fa(k+at,J+De,k+Se,J+St,k+Se,J),Mo(Ve),this},_.__private__.circle=_.circle=function(k,J,Se,De){if(isNaN(k)||isNaN(J)||isNaN(Se)||!Kr(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,J,Se,Se,De)},_.setFont=function(k,J,Se){return Se&&(J=F(J,Se)),Ft=Ar(k,J,{disableWarning:!1}),this};var Ua=_.__private__.getFont=_.getFont=function(){return Gt[Ar.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var k,J,Se={};for(k in pr)if(pr.hasOwnProperty(k))for(J in Se[k]=[],pr[k])pr[k].hasOwnProperty(J)&&Se[k].push(J);return Se},_.addFont=function(k,J,Se,De,Ve){var at=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&at.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&at.indexOf(arguments[3])==-1&&(Se=F(Se,De)),Hr.call(this,k,J,Se,Ve=Ve||"Identity-H")};var to,ko=t.lineWidth||.200025,il=_.__private__.getLineWidth=_.getLineWidth=function(){return ko},Ct=_.__private__.setLineWidth=_.setLineWidth=function(k){return ko=k,we(K(ue(k))+" w"),this};_.__private__.setLineDash=fr.API.setLineDash=fr.API.setLineDashPattern=function(k,J){if(k=k||[],J=J||0,isNaN(J)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(Se){return K(ue(Se))}).join(" "),J=K(ue(J)),we("["+k+"] "+J+" d"),this};var Ja=_.__private__.getLineHeight=_.getLineHeight=function(){return dt*to};_.__private__.getLineHeight=_.getLineHeight=function(){return dt*to};var fn=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(to=k),this},ju=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return to};fn(t.lineHeight);var La=_.__private__.getHorizontalCoordinate=function(k){return ue(k)},Mi=_.__private__.getVerticalCoordinate=function(k){return q===D?k:Zt[G].mediaBox.topRightY-Zt[G].mediaBox.bottomLeftY-ue(k)},Ll=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(k){return K(La(k))},Qa=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(k){return K(Mi(k))},Na=t.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return he(Na)},_.__private__.setStrokeColor=_.setDrawColor=function(k,J,Se,De){return Na=ge({ch1:k,ch2:J,ch3:Se,ch4:De,pdfColorType:"draw",precision:2}),we(Na),this};var Hs=t.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return he(Hs)},_.__private__.setFillColor=_.setFillColor=function(k,J,Se,De){return Hs=ge({ch1:k,ch2:J,ch3:Se,ch4:De,pdfColorType:"fill",precision:2}),we(Hs),this};var Mn=t.textColor||"0 g",ro=_.__private__.getTextColor=_.getTextColor=function(){return he(Mn)};_.__private__.setTextColor=_.setTextColor=function(k,J,Se,De){return Mn=ge({ch1:k,ch2:J,ch3:Se,ch4:De,pdfColorType:"text",precision:3}),this};var es=t.charSpace,Nl=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(es||0)};_.__private__.setCharSpace=_.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return es=k,this};var iu=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(k){var J=_.CapJoinStyles[k];if(J===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return iu=J,we(J+" J"),this};var ki=0;_.__private__.setLineJoin=_.setLineJoin=function(k){var J=_.CapJoinStyles[k];if(J===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ki=J,we(J+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return we(K(ue(k))+" M"),this},_.GState=x1,_.setGState=function(k){(k=typeof k=="string"?ur[cr[k]]:ws(null,k)).equals(en)||(we("/"+k.id+" gs"),en=k)};var ws=function(k,J){if(!k||!cr[k]){var Se=!1;for(var De in ur)if(ur.hasOwnProperty(De)&&ur[De].equals(J)){Se=!0;break}if(Se)J=ur[De];else{var Ve="GS"+(Object.keys(ur).length+1).toString(10);ur[Ve]=J,J.id=Ve}return k&&(cr[k]=J.id),Gr.publish("addGState",J),J}};_.addGState=function(k,J){return ws(k,J),this},_.saveGraphicsState=function(){return we("q"),Dr.push({key:Ft,size:dt,color:Mn}),this},_.restoreGraphicsState=function(){we("Q");var k=Dr.pop();return Ft=k.key,dt=k.size,Mn=k.color,en=null,this},_.setCurrentTransformationMatrix=function(k){return we(k.toString()+" cm"),this},_.comment=function(k){return we("#"+k),this};var bs=function(k,J){var Se=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(at){isNaN(at)||(Se=parseFloat(at))}});var De=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(at){isNaN(at)||(De=parseFloat(at))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(at){Ve=at.toString()}}),this},no=function(k,J,Se,De){bs.call(this,k,J),this.type="rect";var Ve=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(St){isNaN(St)||(Ve=parseFloat(St))}});var at=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return at},set:function(St){isNaN(St)||(at=parseFloat(St))}}),this},Br=function(){this.page=xr,this.currentPage=G,this.pages=ot.slice(0),this.pagesContext=Zt.slice(0),this.x=Wt,this.y=xn,this.matrix=Mr,this.width=ts(G),this.height=Iu(G),this.outputDestination=Tt,this.id="",this.objectNumber=-1};Br.prototype.restore=function(){xr=this.page,G=this.currentPage,Zt=this.pagesContext,ot=this.pages,Wt=this.x,xn=this.y,Mr=this.matrix,al(G,this.width),qs(G,this.height),Tt=this.outputDestination};var Cl=function(k,J,Se,De,Ve){Ni.push(new Br),xr=G=0,ot=[],Wt=k,xn=J,Mr=Ve,nn([Se,De])};for(var Pi in _.beginFormObject=function(k,J,Se,De,Ve){return Cl(k,J,Se,De,Ve),this},_.endFormObject=function(k){return(function(J){if(Ji[J])Ni.pop().restore();else{var Se=new Br,De="Xo"+(Object.keys(li).length+1).toString(10);Se.id=De,Ji[J]=De,li[De]=Se,Gr.publish("addFormObject",Se),Ni.pop().restore()}})(k),this},_.doFormObject=function(k,J){var Se=li[Ji[k]];return we("q"),we(J.toString()+" cm"),we("/"+Se.id+" Do"),we("Q"),this},_.getFormObject=function(k){var J=li[Ji[k]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},_.save=function(k,J){return k=k||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(Sh(yr(Ta()),k),typeof Sh.unload=="function"&&Or.setTimeout&&setTimeout(Sh.unload,911),this):new Promise(function(Se,De){try{var Ve=Sh(yr(Ta()),k);typeof Sh.unload=="function"&&Or.setTimeout&&setTimeout(Sh.unload,911),Se(Ve)}catch(at){De(at.message)}})},fr.API)fr.API.hasOwnProperty(Pi)&&(Pi==="events"&&fr.API.events.length?(function(k,J){var Se,De,Ve;for(Ve=J.length-1;Ve!==-1;Ve--)Se=J[Ve][0],De=J[Ve][1],k.subscribe.apply(k,[Se].concat(typeof De=="function"?[De]:De))})(Gr,fr.API.events):_[Pi]=fr.API[Pi]);function ts(k){return Zt[k].mediaBox.topRightX-Zt[k].mediaBox.bottomLeftX}function al(k,J){Zt[k].mediaBox.topRightX=J+Zt[k].mediaBox.bottomLeftX}function Iu(k){return Zt[k].mediaBox.topRightY-Zt[k].mediaBox.bottomLeftY}function qs(k,J){Zt[k].mediaBox.topRightY=J+Zt[k].mediaBox.bottomLeftY}var Po=_.getPageWidth=function(k){return ts(k=k||G)/_r},Fu=_.setPageWidth=function(k,J){al(k,J*_r)},Oo=_.getPageHeight=function(k){return Iu(k=k||G)/_r},_c=_.setPageHeight=function(k,J){qs(k,J*_r)};return _.internal={pdfEscape:wr,getStyle:Gs,getFont:Ua,getFontSize:jt,getCharSpace:Nl,getTextColor:ro,getLineHeight:Ja,getLineHeightFactor:ju,getLineWidth:il,write:yt,getHorizontalCoordinate:La,getVerticalCoordinate:Mi,getCoordinateString:Ll,getVerticalCoordinateString:Qa,collections:{},newObject:qe,newAdditionalObject:pe,newObjectDeferred:Ye,newObjectDeferredBegin:Y,getFilters:Pe,putStream:ze,events:Gr,scaleFactor:_r,pageSize:{getWidth:function(){return Po(G)},setWidth:function(k){Fu(G,k)},getHeight:function(){return Oo(G)},setHeight:function(k){_c(G,k)}},encryptionOptions:p,encryption:ni,getEncryptor:function(k){return p!==null?ni.encryptor(k,0):function(J){return J}},output:Dn,getNumberOfPages:Ci,get pages(){return ot},out:we,f2:j,f3:W,getPageInfo:un,getPageInfoByObjId:tu,getCurrentPageInfo:Tl,getPDFVersion:S,Point:bs,Rectangle:no,Matrix:Qt,hasHotfix:ea},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Po(G)},set:function(k){Fu(G,k)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Oo(G)},set:function(k){_c(G,k)},enumerable:!0,configurable:!0}),(function(k){for(var J=0,Se=zt.length;J<Se;J++){var De=Hr.call(this,k[J][0],k[J][1],k[J][2],zt[J][3],!0);v===!1&&(y[De]=!0);var Ve=k[J][0].split("-");Bt({id:De,fontName:Ve[0],fontStyle:Ve[1]||""})}Gr.publish("addFonts",{fonts:Gt,dictionary:pr})}).call(_,zt),Ft="F1",Kn(n,r),Gr.publish("initialized"),_}qf.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},qf.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qf.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},qf.prototype.processOwnerPassword=function(t,e){return d_(f_(e).substr(0,5),t)},qf.prototype.encryptor=function(t,e){var r=f_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return d_(r,i)}},x1.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Gn(t)!==Gn(this))return!1;var i=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&i--;return i===0},fr.API={events:[]},fr.version="4.0.0";var $i=fr.API,V_=1,Vh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Of=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fr=function(t){return t.toFixed(2)},Gc=function(t){return t.toFixed(5)};$i.__acroform__={};var Lo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},h4=function(t){return t*V_},Au=function(t){var e=new DE,r=ir.internal.getHeight(t)||0,i=ir.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Fr(i)),Number(Fr(r))],e},$O=$i.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},WO=$i.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},ZO=$i.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ua=$i.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ZO(t,e-1)},ca=$i.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $O(t,e-1)},ha=$i.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return WO(t,e-1)},YO=$i.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,n=t[0],a=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=r(n)||0,c.lowerLeft_Y=i(a+l)||0,c.upperRight_X=r(n+s)||0,c.upperRight_Y=i(a)||0,[Number(Fr(c.lowerLeft_X)),Number(Fr(c.lowerLeft_Y)),Number(Fr(c.upperRight_X)),Number(Fr(c.upperRight_Y))]},KO=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,i=p_(t,r),n=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+n+" "+Fr(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Au(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},p_=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},n=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");n=t.multiline?n.map(function(j){return j.split(`
`)}):n.map(function(j){return[j]});var a=r,s=ir.internal.getHeight(t)||0;s=s<0?-s:s;var l=ir.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(j,W,ue){if(j+1<n.length){var de=W+" "+n[j+1][0];return Dm(de,t,ue).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var f,p,v=Dm("3",t,a).height,y=t.multiline?s-a:(s-v)/2,_=y+=2,T=0,S=0,C=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Dm(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var O="",I=0,D=0;D<n.length;D++)if(n.hasOwnProperty(D)){var q=!1;if(n[D].length!==1&&C!==n[D].length-1){if((v+2)*(I+2)+2>s)continue e;O+=n[D][C],q=!0,S=D,D--}else{O=(O+=n[D][C]+" ").substr(O.length-1)==" "?O.substr(0,O.length-1):O;var te=parseInt(D),ce=c(te,O,a),F=D>=n.length-1;if(ce&&!F){O+=" ",C=0;continue}if(ce||F){if(F)S=te;else if(t.multiline&&(v+2)*(I+2)+2>s)continue e}else{if(!t.multiline||(v+2)*(I+2)+2>s)continue e;S=te}}for(var K="",B=T;B<=S;B++){var X=n[B];if(t.multiline){if(B===S){K+=X[C]+" ",C=(C+1)%X.length;continue}if(B===T){K+=X[X.length-1]+" ";continue}}K+=X[0]+" "}switch(K=K.substr(K.length-1)==" "?K.substr(0,K.length-1):K,p=Dm(K,t,a).width,t.textAlign){case"right":f=l-p-2;break;case"center":f=(l-p)/2;break;default:f=2}e+=Fr(f)+" "+Fr(_)+` Td
`,e+="("+Vh(K)+`) Tj
`,e+=-Fr(f)+` 0 Td
`,_=-(a+2),p=0,T=q?S:S+1,I++,O=""}break}return i.text=e,i.fontSize=a,i},Dm=function(t,e,r){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),n=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},XO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JO=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===r.type&&i.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},QO=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Jl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(XO)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");V_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new jE,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in i)if(i.hasOwnProperty(n)){var a=i[n];a.objId=void 0,a.hasAnnotation&&JO(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(i,n){var a=!i;for(var s in i||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var l=i[s],c=[],f=l.Rect;if(l.Rect&&(l.Rect=YO(l.Rect,n)),n.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ir.createDefaultAppearanceStream(l),Gn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=KO(l);c.push({key:"AP",value:"<</N "+p+">>"}),n.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var v="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var _=l.appearanceStreamContent[y];if(v+="/"+y+" ",v+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var s in _)if(_.hasOwnProperty(s)){var T=_[s];typeof T=="function"&&(T=T.call(n,l)),v+="/"+s+" "+T+" ",n.internal.acroformPlugin.xForms.indexOf(T)>=0||n.internal.acroformPlugin.xForms.push(T)}}else typeof(T=_)=="function"&&(T=T.call(n,l)),v+="/"+s+" "+T,n.internal.acroformPlugin.xForms.indexOf(T)>=0||n.internal.acroformPlugin.xForms.push(T);v+=">>"}c.push({key:"AP",value:`<<
`+v+">>"})}n.internal.putStream({additionalKeyValues:c,objectId:l.objId}),n.internal.out("endobj")}a&&(function(S,C){for(var O in S)if(S.hasOwnProperty(O)){var I=O,D=S[O];C.internal.newObjectDeferredBegin(D.objId,!0),Gn(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete S[I]}})(n.internal.acroformPlugin.xForms,n)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},RE=$i.__acroform__.arrayToPdfArray=function(t,e,r){var i=function(s){return s};if(Array.isArray(t)){for(var n="[",a=0;a<t.length;a++)switch(a!==0&&(n+=" "),Gn(t[a])){case"boolean":case"number":case"object":n+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(i=r.internal.getEncryptor(e)),n+="("+Vh(i(t[a].toString()))+")"):n+=t[a].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},d2=function(t,e,r){var i=function(n){return n};return e!==void 0&&r&&(i=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Vh(i(t))+")"},Mu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Mu.prototype.toString=function(){return this.objId+" 0 R"},Mu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Mu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var i=e[r],n=this[i];n&&(Array.isArray(n)?t.push({key:i,value:RE(n,this.objId,this.scope)}):n instanceof Mu?(n.scope=this.scope,t.push({key:i,value:n.objId+" 0 R"})):typeof n!="function"&&t.push({key:i,value:n}))}return t};var DE=function(){Mu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Lo(DE,Mu);var jE=function(){Mu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(i){return i};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Vh(r(t))+")"}},set:function(r){t=r}})};Lo(jE,Mu);var Jl=function t(){Mu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute F supplied.');e=O}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ua(e,3)},set:function(O){O?this.F=ca(e,3):this.F=ha(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute Ff supplied.');r=O}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(O){i=O!==void 0?O:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(O){i[0]=O}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(O){i[1]=O}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(O){i[2]=O}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(O){i[3]=O}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(O){switch(O){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=O;break;default:throw new Error('Invalid value "'+O+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof w1)return;a="FieldObject"+t.FieldNum++}var O=function(I){return I};return this.scope&&(O=this.scope.internal.getEncryptor(this.objId)),"("+Vh(O(a))+")"},set:function(O){a=O.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(O){a=O}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(O){s=O}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(O){l=O}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(O){c=O}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/V_:f},set:function(O){f=O}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(O){p=O}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof w1||this instanceof Oh))return d2(v,this.objId,this.scope)},set:function(O){O=O.toString(),v=O}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Wa==0?d2(y,this.objId,this.scope):y},set:function(O){O=O.toString(),y=this instanceof Wa==0?O.substr(0,1)==="("?Of(O.substr(1,O.length-2)):Of(O):O}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wa==1?Of(y.substr(1,y.length-1)):y},set:function(O){O=O.toString(),y=this instanceof Wa==1?"/"+O:O}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(O){this.V=O}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Wa==0?d2(_,this.objId,this.scope):_},set:function(O){O=O.toString(),_=this instanceof Wa==0?O.substr(0,1)==="("?Of(O.substr(1,O.length-2)):Of(O):O}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wa==1?Of(_.substr(1,_.length-1)):_},set:function(O){O=O.toString(),_=this instanceof Wa==1?"/"+O:O}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(O){O=!!O,S=O}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(O){T=O}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,1)},set:function(O){O?this.Ff=ca(this.Ff,1):this.Ff=ha(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,2)},set:function(O){O?this.Ff=ca(this.Ff,2):this.Ff=ha(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,3)},set:function(O){O?this.Ff=ca(this.Ff,3):this.Ff=ha(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(O){if([0,1,2].indexOf(O)===-1)throw new Error('Invalid value "'+O+'" for attribute Q supplied.');C=O}}),Object.defineProperty(this,"textAlign",{get:function(){var O;switch(C){case 0:default:O="left";break;case 1:O="center";break;case 2:O="right"}return O},configurable:!0,enumerable:!0,set:function(O){switch(O){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};Lo(Jl,Mu);var ld=function(){Jl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return RE(e,this.objId,this.scope)},set:function(r){var i,n;n=[],typeof(i=r)=="string"&&(n=(function(a,s,l){l||(l=1);for(var c,f=[];c=s.exec(a);)f.push(c[l]);return f})(i,/\((.*?)\)/g)),e=n}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,i){for(i=i||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,18)},set:function(r){r?this.Ff=ca(this.Ff,18):this.Ff=ha(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ca(this.Ff,19):this.Ff=ha(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,20)},set:function(r){r?(this.Ff=ca(this.Ff,20),e.sort()):this.Ff=ha(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,22)},set:function(r){r?this.Ff=ca(this.Ff,22):this.Ff=ha(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(r){r?this.Ff=ca(this.Ff,23):this.Ff=ha(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,27)},set:function(r){r?this.Ff=ca(this.Ff,27):this.Ff=ha(this.Ff,27)}}),this.hasAppearanceStream=!1};Lo(ld,Jl);var ud=function(){ld.call(this),this.fontName="helvetica",this.combo=!1};Lo(ud,ld);var cd=function(){ud.call(this),this.combo=!0};Lo(cd,ud);var n1=function(){cd.call(this),this.edit=!0};Lo(n1,cd);var Wa=function(){Jl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,15)},set:function(r){r?this.Ff=ca(this.Ff,15):this.Ff=ha(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,16)},set:function(r){r?this.Ff=ca(this.Ff,16):this.Ff=ha(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,17)},set:function(r){r?this.Ff=ca(this.Ff,17):this.Ff=ha(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(r){r?this.Ff=ca(this.Ff,26):this.Ff=ha(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,n=[];for(i in n.push("<<"),e)n.push("/"+i+" ("+Vh(r(e[i]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){Gn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Lo(Wa,Jl);var i1=function(){Wa.call(this),this.pushButton=!0};Lo(i1,Wa);var hd=function(){Wa.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Lo(hd,Wa);var w1=function(){var t,e;Jl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(n){e=n}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),i)s.push("/"+a+" ("+Vh(n(i[a]))+")");return s.push(">>"),s.join(`
`)},set:function(n){Gn(n)==="object"&&(i=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(n){typeof n=="string"&&(i.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ir.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Lo(w1,Jl),hd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},hd.prototype.createOption=function(t){var e=new w1;return e.Parent=this,e.optionName=t,this.Kids.push(e),eR.call(this.scope,e),e};var a1=function(){Wa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ir.CheckBox.createAppearanceStream()};Lo(a1,Wa);var Oh=function(){Jl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,13)},set:function(e){e?this.Ff=ca(this.Ff,13):this.Ff=ha(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,21)},set:function(e){e?this.Ff=ca(this.Ff,21):this.Ff=ha(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(e){e?this.Ff=ca(this.Ff,23):this.Ff=ha(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,24)},set:function(e){e?this.Ff=ca(this.Ff,24):this.Ff=ha(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,25)},set:function(e){e?this.Ff=ca(this.Ff,25):this.Ff=ha(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(e){e?this.Ff=ca(this.Ff,26):this.Ff=ha(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Lo(Oh,Jl);var s1=function(){Oh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,14)},set:function(t){t?this.Ff=ca(this.Ff,14):this.Ff=ha(this.Ff,14)}}),this.password=!0};Lo(s1,Oh);var ir={CheckBox:{createAppearanceStream:function(){return{N:{On:ir.CheckBox.YesNormal},D:{On:ir.CheckBox.YesPushDown,Off:ir.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Au(t);e.scope=t.scope;var r=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=p_(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+i+" "+Fr(a.fontSize)+" Tf "+n),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Au(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),n=[],a=ir.internal.getHeight(t),s=ir.internal.getWidth(t),l=p_(t,t.caption);return n.push("1 g"),n.push("0 0 "+Fr(s)+" "+Fr(a)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Fr(s-1)+" "+Fr(a-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+Fr(l.fontSize)+" Tf "+i),n.push(l.text),n.push("ET"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Au(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ir.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ir.RadioButton.Circle.YesNormal,e.D[t]=ir.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Au(t);e.scope=t.scope;var r=[],i=ir.internal.getWidth(t)<=ir.internal.getHeight(t)?ir.internal.getWidth(t)/4:ir.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var n=ir.internal.Bezier_C,a=Number((i*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Gc(ir.internal.getWidth(t)/2)+" "+Gc(ir.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Au(t);e.scope=t.scope;var r=[],i=ir.internal.getWidth(t)<=ir.internal.getHeight(t)?ir.internal.getWidth(t)/4:ir.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),a=Number((n*ir.internal.Bezier_C).toFixed(5)),s=Number((i*ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Gc(ir.internal.getWidth(t)/2)+" "+Gc(ir.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Gc(ir.internal.getWidth(t)/2)+" "+Gc(ir.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Au(t);e.scope=t.scope;var r=[],i=ir.internal.getWidth(t)<=ir.internal.getHeight(t)?ir.internal.getWidth(t)/4:ir.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),a=Number((n*ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Gc(ir.internal.getWidth(t)/2)+" "+Gc(ir.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ir.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ir.RadioButton.Cross.YesNormal,e.D[t]=ir.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Au(t);e.scope=t.scope;var r=[],i=ir.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Fr(ir.internal.getWidth(t)-2)+" "+Fr(ir.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Fr(i.x1.x)+" "+Fr(i.x1.y)+" m"),r.push(Fr(i.x2.x)+" "+Fr(i.x2.y)+" l"),r.push(Fr(i.x4.x)+" "+Fr(i.x4.y)+" m"),r.push(Fr(i.x3.x)+" "+Fr(i.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Au(t);e.scope=t.scope;var r=ir.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Fr(ir.internal.getWidth(t)-2)+" "+Fr(ir.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Fr(r.x1.x)+" "+Fr(r.x1.y)+" m"),i.push(Fr(r.x2.x)+" "+Fr(r.x2.y)+" l"),i.push(Fr(r.x4.x)+" "+Fr(r.x4.y)+" m"),i.push(Fr(r.x3.x)+" "+Fr(r.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Au(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ir.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ir.internal.getWidth(t),r=ir.internal.getHeight(t),i=Math.min(e,r);return{x1:{x:(e-i)/2,y:(r-i)/2+i},x2:{x:(e-i)/2+i,y:(r-i)/2},x3:{x:(e-i)/2,y:(r-i)/2},x4:{x:(e-i)/2+i,y:(r-i)/2+i}}}},ir.internal.getWidth=function(t){var e=0;return Gn(t)==="object"&&(e=h4(t.Rect[2])),e},ir.internal.getHeight=function(t){var e=0;return Gn(t)==="object"&&(e=h4(t.Rect[3])),e};var eR=$i.addField=function(t){if(QO(this,t),!(t instanceof Jl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};$i.AcroFormChoiceField=ld,$i.AcroFormListBox=ud,$i.AcroFormComboBox=cd,$i.AcroFormEditBox=n1,$i.AcroFormButton=Wa,$i.AcroFormPushButton=i1,$i.AcroFormRadioButton=hd,$i.AcroFormCheckBox=a1,$i.AcroFormTextField=Oh,$i.AcroFormPasswordField=s1,$i.AcroFormAppearance=ir,$i.AcroForm={ChoiceField:ld,ListBox:ud,ComboBox:cd,EditBox:n1,Button:Wa,PushButton:i1,RadioButton:hd,CheckBox:a1,TextField:Oh,PasswordField:s1,Appearance:ir},fr.AcroForm={ChoiceField:ld,ListBox:ud,ComboBox:cd,EditBox:n1,Button:Wa,PushButton:i1,RadioButton:hd,CheckBox:a1,TextField:Oh,PasswordField:s1,Appearance:ir};fr.AcroForm;function IE(t){return t.reduce(function(e,r,i){return e[r]=i,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(j,W){var ue,de,xe,oe,be,_e=r;if((W=W||r)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(ce(j))for(be in i)for(xe=i[be],ue=0;ue<xe.length;ue+=1){for(oe=!0,de=0;de<xe[ue].length;de+=1)if(xe[ue][de]!==void 0&&xe[ue][de]!==j[de]){oe=!1;break}if(oe===!0){_e=be;break}}else for(be in i)for(xe=i[be],ue=0;ue<xe.length;ue+=1){for(oe=!0,de=0;de<xe[ue].length;de+=1)if(xe[ue][de]!==void 0&&xe[ue][de]!==j.charCodeAt(de)){oe=!1;break}if(oe===!0){_e=be;break}}return _e===r&&W!==r&&(_e=W),_e},a=function j(W){for(var ue=this.internal.write,de=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:W.width}),oe.push({key:"Height",value:W.height}),W.colorSpace===O.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===O.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)&&W.transparency.length>0){for(var be="",_e=0,Le=W.transparency.length;_e<Le;_e++)be+=W.transparency[_e]+" "+W.transparency[_e]+" ";oe.push({key:"Mask",value:"["+be+"]"})}W.sMask!==void 0&&oe.push({key:"SMask",value:W.objectId+1+" 0 R"});var Ne=W.filter!==void 0?["/"+W.filter]:void 0;if(de({data:W.data,additionalKeyValues:oe,alreadyAppliedFilters:Ne,objectId:W.objectId}),ue("endobj"),"sMask"in W&&W.sMask!==void 0){var Q,P=(Q=W.sMaskBitsPerComponent)!==null&&Q!==void 0?Q:W.bitsPerComponent,G={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:W.sMask};"filter"in W&&(G.decodeParameters="/Predictor ".concat(W.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(W.width),G.filter=W.filter),j.call(this,G)}if(W.colorSpace===O.INDEXED){var H=this.internal.newObject();de({data:K(new Uint8Array(W.palette)),objectId:H}),ue("endobj")}},s=function(){var j=this.internal.collections[e+"images"];for(var W in j)a.call(this,j[W])},l=function(){var j,W=this.internal.collections[e+"images"],ue=this.internal.write;for(var de in W)ue("/I"+(j=W[de]).index,j.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},f=function(){var j=this.internal.collections[e+"images"];return c.call(this),j},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},v=function(j){return typeof t["process"+j.toUpperCase()]=="function"},y=function(j){return Gn(j)==="object"&&j.nodeType===1},_=function(j,W){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var ue=""+j.getAttribute("src");if(ue.indexOf("data:image/")===0)return r1(unescape(ue).split("base64,").pop());var de=t.loadFile(ue,!0);if(de!==void 0)return de}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var xe;switch(W){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return r1(j.toDataURL(xe,1).split("base64,").pop())}},T=function(j){var W=this.internal.collections[e+"images"];if(W){for(var ue in W)if(j===W[ue].alias)return W[ue]}},S=function(j,W,ue){return j||W||(j=-96,W=-96),j<0&&(j=-1*ue.width*72/j/this.internal.scaleFactor),W<0&&(W=-1*ue.height*72/W/this.internal.scaleFactor),j===0&&(j=W*ue.width/ue.height),W===0&&(W=j*ue.height/ue.width),[j,W]},C=function(j,W,ue,de,xe,oe){var be=S.call(this,ue,de,xe),_e=this.internal.getCoordinateString,Le=this.internal.getVerticalCoordinateString,Ne=f.call(this);if(ue=be[0],de=be[1],Ne[xe.index]=xe,oe){oe*=Math.PI/180;var Q=Math.cos(oe),P=Math.sin(oe),G=function(Z){return Z.toFixed(4)},H=[G(Q),G(P),G(-1*P),G(Q),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,_e(j),Le(W+de),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([_e(ue),"0","0",_e(de),"0","0","cm"].join(" "))):this.internal.write([_e(ue),"0","0",_e(de),_e(j),Le(W+de),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},O=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=t.__addimage__.sHashCode=function(j){var W,ue,de=0;if(typeof j=="string")for(ue=j.length,W=0;W<ue;W++)de=(de<<5)-de+j.charCodeAt(W),de|=0;else if(ce(j))for(ue=j.byteLength/2,W=0;W<ue;W++)de=(de<<5)-de+j[W],de|=0;return de},q=t.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var W=!0;return j.length===0&&(W=!1),j.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(W=!1),W},te=t.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var W=j.indexOf(",");return W<0?null:j.substring(0,W).trim().endsWith("base64")?j.substring(W+1):null};t.__addimage__.isArrayBuffer=function(j){return j instanceof ArrayBuffer};var ce=t.__addimage__.isArrayBufferView=function(j){return j instanceof Int8Array||j instanceof Uint8Array||j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array},F=t.__addimage__.binaryStringToUint8Array=function(j){for(var W=j.length,ue=new Uint8Array(W),de=0;de<W;de++)ue[de]=j.charCodeAt(de);return ue},K=t.__addimage__.arrayBufferToBinaryString=function(j){for(var W="",ue=ce(j)?j:new Uint8Array(j),de=0;de<ue.length;de+=8192)W+=String.fromCharCode.apply(null,ue.subarray(de,de+8192));return W};t.addImage=function(){var j,W,ue,de,xe,oe,be,_e,Le;if(typeof arguments[1]=="number"?(W=r,ue=arguments[1],de=arguments[2],xe=arguments[3],oe=arguments[4],be=arguments[5],_e=arguments[6],Le=arguments[7]):(W=arguments[1],ue=arguments[2],de=arguments[3],xe=arguments[4],oe=arguments[5],be=arguments[6],_e=arguments[7],Le=arguments[8]),Gn(j=arguments[0])==="object"&&!y(j)&&"imageData"in j){var Ne=j;j=Ne.imageData,W=Ne.format||W||r,ue=Ne.x||ue||0,de=Ne.y||de||0,xe=Ne.w||Ne.width||xe,oe=Ne.h||Ne.height||oe,be=Ne.alias||be,_e=Ne.compression||_e,Le=Ne.rotation||Ne.angle||Le}var Q=this.internal.getFilters();if(_e===void 0&&Q.indexOf("FlateEncode")!==-1&&(_e="SLOW"),isNaN(ue)||isNaN(de))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var P=B.call(this,j,W,be,_e);return C.call(this,ue,de,xe,oe,P,Le),this};var B=function(j,W,ue,de){var xe,oe,be;if(typeof j=="string"&&n(j)===r){j=unescape(j);var _e=X(j,!1);(_e!==""||(_e=t.loadFile(j,!0))!==void 0)&&(j=_e)}if(y(j)&&(j=_(j,W)),W=n(j,W),!v(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((be=ue)==null||be.length===0)&&(ue=(function(Le){return typeof Le=="string"||ce(Le)?D(Le):ce(Le.data)?D(Le.data):null})(j)),(xe=T.call(this,ue))||(j instanceof Uint8Array||W==="RGBA"||(oe=j,j=F(j)),xe=this["process"+W.toUpperCase()](j,p.call(this),ue,(function(Le){return Le&&typeof Le=="string"&&(Le=Le.toUpperCase()),Le in t.image_compression?Le:I.NONE})(de),oe)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},X=t.__addimage__.convertBase64ToBinaryString=function(j,W){W=typeof W!="boolean"||W;var ue,de="";if(typeof j=="string"){var xe;ue=(xe=te(j))!==null&&xe!==void 0?xe:j;try{de=r1(ue)}catch(oe){if(W)throw q(ue)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return de};t.getImageProperties=function(j){var W,ue,de="";if(y(j)&&(j=_(j)),typeof j=="string"&&n(j)===r&&((de=X(j,!1))===""&&(de=t.loadFile(j)||""),j=de),ue=n(j),!v(ue))throw new Error("addImage does not support files of type '"+ue+"', please ensure that a plugin for '"+ue+"' support is added.");if(j instanceof Uint8Array||(j=F(j)),!(W=this["process"+ue.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=ue,W}})(fr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};fr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var i,n,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,p=!1,v=0;v<f.length&&!p;v++)switch((i=f[v]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){i=f[y];var _=this.internal.pdfEscape,T=this.internal.getEncryptor(r.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),O=this.internal.getEncryptor(S.objId),I=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(n="/Rect ["+s(i.bounds.x)+" "+l(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y)+"] ")+"/Contents ("+_(O(i.contents))+")",a+=" /Popup "+C.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+_(O(I))+") >>",S.content=a;var D=S.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+s(i.bounds.x+30)+" "+l(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+l(i.bounds.y)+"] ")+" /Parent "+D,i.open&&(a+=" /Open true"),a+=" >>",C.content=a,this.internal.write(S.objId,"0 R",C.objId,"0 R");break;case"freetext":n="/Rect ["+s(i.bounds.x)+" "+l(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y+i.bounds.h)+"] ";var q=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+_(T(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var te=this.annotations._nameMap[i.options.name];i.options.pageNumber=te.page,i.options.top=te.y}else i.options.top||(i.options.top=0);if(n="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+_(T(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;default:var ce=l(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+ce+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var i=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":i.pageContext.annotations.push(r)}},t.link=function(r,i,n,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:f(i),w:c(r+n),h:f(i+a)},options:s,type:"link"})},t.textWithLink=function(r,i,n,a){var s,l,c=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var p=this.splitTextToSize(r,l).length;s=Math.ceil(f*p)}else l=c,s=f;return this.text(r,i,n,a),n+=.2*f,a.align==="center"&&(i-=c/2),a.align==="right"&&(i-=c),this.link(i,n-f,l,s,a),c},t.getTextWidth=function(r){var i=this.internal.getFontSize();return this.getStringUnitWidth(r)*i/this.internal.scaleFactor}})(fr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=t.__arabicParser__.isArabicEndLetter=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(S){return s(S)&&n.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(S){var C=0,O=r,I="",D=0;for(C=0;C<S.length;C+=1)O[S.charCodeAt(C)]!==void 0?(D++,typeof(O=O[S.charCodeAt(C)])=="number"&&(I+=String.fromCharCode(O),O=r,D=0),C===S.length-1&&(O=r,I+=S.charAt(C-(D-1)),C-=D-1,D=0)):(O=r,I+=S.charAt(C-D),C-=D,D=0);return I};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&i[S.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(S,C,O){return s(S)?a(S)===!1?-1:!f(S)||!s(C)&&!s(O)||!s(O)&&l(C)||l(S)&&!s(C)||l(S)&&c(C)||l(S)&&l(C)?0:p(S)&&s(C)&&!l(C)&&s(O)&&f(O)?3:l(S)||!s(O)?1:2:-1},_=function(S){var C=0,O=0,I=0,D="",q="",te="",ce=(S=S||"").split("\\s+"),F=[];for(C=0;C<ce.length;C+=1){for(F.push(""),O=0;O<ce[C].length;O+=1)D=ce[C][O],q=ce[C][O-1],te=ce[C][O+1],s(D)?(I=y(D,q,te),F[C]+=I!==-1?String.fromCharCode(e[D.charCodeAt(0)][I]):D):F[C]+=D;F[C]=v(F[C])}return F.join(" ")},T=t.__arabicParser__.processArabic=t.processArabic=function(){var S,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,O=[];if(Array.isArray(C)){var I=0;for(O=[],I=0;I<C.length;I+=1)Array.isArray(C[I])?O.push([_(C[I][0]),C[I][1],C[I][2]]):O.push([_(C[I])]);S=O}else S=_(C);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",T])})(fr.API),fr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,i){var n;if((r=r||"2d")!=="2d")return null;for(n in i)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=i[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(fr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(S){_=S}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(S){T=S}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return i.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,f){i.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,_=0,T=0,S=0,C=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var O=f.maxWidth;O>0?typeof c=="string"?c=this.splitTextToSize(c,O):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(D,q){return D.concat(C.splitTextToSize(q,O))},[])):c=Array.isArray(c)?c:[c];for(var I=0;I<c.length;I++)_<(S=this.getStringUnitWidth(c[I],{font:v})*p)&&(_=S);return _!==0&&(T=c.length),{w:_/=y,h:Math.max((T*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=v.top,_&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};t.table=function(c,f,p,v,y){if(i.call(this),!p)throw new Error("No data for PDF table.");var _,T,S,C,O=[],I=[],D=[],q={},te={},ce=[],F=[],K=(y=y||{}).autoSize||!1,B=y.printHeaders!==!1,X=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,j=y.margins||Object.assign({width:this.getPageWidth()},e),W=typeof y.padding=="number"?y.padding:3,ue=y.headerBackgroundColor||"#c8c8c8",de=y.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=ue,this.internal.__cell__.headerTextColor=de,this.setFontSize(X),v==null)I=O=Object.keys(p[0]),D=O.map(function(){return"left"});else if(Array.isArray(v)&&Gn(v[0])==="object")for(O=v.map(function(Ne){return Ne.name}),I=v.map(function(Ne){return Ne.prompt||Ne.name||""}),D=v.map(function(Ne){return Ne.align||"left"}),_=0;_<v.length;_+=1)te[v[_].name]=.7499990551181103*v[_].width;else Array.isArray(v)&&typeof v[0]=="string"&&(I=O=v,D=O.map(function(){return"left"}));if(K||Array.isArray(v)&&typeof v[0]=="string")for(_=0;_<O.length;_+=1){for(q[C=O[_]]=p.map(function(Ne){return Ne[C]}),this.setFont(void 0,"bold"),ce.push(this.getTextDimensions(I[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=q[C],this.setFont(void 0,"normal"),S=0;S<T.length;S+=1)ce.push(this.getTextDimensions(T[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);te[C]=Math.max.apply(null,ce)+W+W,ce=[]}if(B){var xe={};for(_=0;_<O.length;_+=1)xe[O[_]]={},xe[O[_]].text=I[_],xe[O[_]].align=D[_];var oe=l.call(this,xe,te);F=O.map(function(Ne){return new a(c,f,te[Ne],oe,xe[Ne].text,void 0,xe[Ne].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var be=v.reduce(function(Ne,Q){return Ne[Q.name]=Q.align,Ne},{});for(_=0;_<p.length;_+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:_,data:p[_]},this);var _e=l.call(this,p[_],te);for(S=0;S<O.length;S+=1){var Le=p[_][O[S]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:_,col:S,data:Le},this),s.call(this,new a(c,f,te[O[S]],_e,Le,_+2,be[O[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var l=function(c,f){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(_){var T=c[_];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,f[_]-p-p)},this).map(function(_){return this.getLineHeightFactor()*_.length*v/y+p+p},this).reduce(function(_,T){return Math.max(_,T)},0)};t.setTableHeaderRow=function(c){i.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){p=this.internal.__cell__.tableHeaderRow[_].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=c;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,p),this.setTextColor(T)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}})(fr.API);var FE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},BE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],m_=IE(BE),UE=[100,200,300,400,500,600,700,800,900],tR=IE(UE);function p2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(a){return FE[a=a||"normal"]?a:"normal"})(t.style),i=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),n=(function(a){return typeof m_[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:r,weight:i,stretch:n,src:t.src||[],ref:t.ref||{name:e,style:[n,r,i].join(" ")}}}function f4(t,e,r,i){var n;for(n=r;n>=0&&n<e.length;n+=i)if(t[e[n]])return t[e[n]];for(n=r;n>=0&&n<e.length;n-=i)if(t[e[n]])return t[e[n]]}var rR={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},d4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function p4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function m4(t){return t.trimLeft()}function nR(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function iR(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jm,g4,v4,Rf,Im,_4,y4,x4,m2=["times"];function w4(t,e,r,i,n){var a=4,s=S4;switch(n){case fr.API.image_compression.FAST:a=1,s=b4;break;case fr.API.image_compression.MEDIUM:a=6,s=E4;break;case fr.API.image_compression.SLOW:a=9,s=T4}t=(function(c,f,p,v){for(var y,_=c.length/f,T=new Uint8Array(c.length+_),S=[aR,b4,S4,E4,T4],C=0;C<_;C+=1){var O=C*f,I=c.subarray(O,O+f);if(v)T.set(v(I,p,y),O+C);else{for(var D=S.length,q=[],te=0;te<D;te+=1)q[te]=S[te](I,p,y);var ce=oR(q.concat());T.set(q[ce],O+C)}y=I}return T})(t,e,Math.ceil(r*i/8),s);var l=l_(t,{level:a});return fr.API.__addimage__.arrayBufferToBinaryString(l)}function aR(t){var e=Array.apply([],t);return e.unshift(0),e}function b4(t,e){var r=t.length,i=[];i[0]=1;for(var n=0;n<r;n+=1){var a=t[n-e]||0;i[n+1]=t[n]-a+256&255}return i}function S4(t,e,r){var i=t.length,n=[];n[0]=2;for(var a=0;a<i;a+=1){var s=r&&r[a]||0;n[a+1]=t[a]-s+256&255}return n}function E4(t,e,r){var i=t.length,n=[];n[0]=3;for(var a=0;a<i;a+=1){var s=t[a-e]||0,l=r&&r[a]||0;n[a+1]=t[a]+256-(s+l>>>1)&255}return n}function T4(t,e,r){var i=t.length,n=[];n[0]=4;for(var a=0;a<i;a+=1){var s=sR(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);n[a+1]=t[a]-s+256&255}return n}function sR(t,e,r){if(t===e&&e===r)return t;var i=Math.abs(e-r),n=Math.abs(t-r),a=Math.abs(t+e-r-r);return i<=n&&i<=a?t:n<=a?e:r}function oR(t){var e=t.map(function(r){return r.reduce(function(i,n){return i+Math.abs(n)},0)});return e.indexOf(Math.min.apply(null,e))}function g2(t,e,r){var i=e*r,n=Math.floor(i/8),a=16-(i-8*n+r),s=(1<<r)-1;return zE(t,n)>>a&s}function A4(t,e,r,i){var n=r*i,a=Math.floor(n/8),s=16-(n-8*a+i),l=(1<<i)-1,c=(e&l)<<s;(function(f,p,v){if(p+1<f.byteLength)f.setUint16(p,v,!1);else{var y=v>>8&255;f.setUint8(p,y)}})(t,a,zE(t,a)&~(l<<s)&65535|c)}function zE(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function lR(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,n=t[e++],a=n>>7,s=1<<1+(7&n);t[e++],t[e++];var l=null,c=null;a&&(l=e,c=s,e+=3*s);var f=!0,p=[],v=0,y=null,_=0,T=null;for(this.width=r,this.height=i;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,T=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];v=t[e++]|t[e++]<<8,y=t[e++],1&S||(y=null),_=S>>2&7,e++;break;case 254:for(;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var C=t[e++]|t[e++]<<8,O=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,q=t[e++],te=q>>6&1,ce=1<<1+(7&q),F=l,K=c,B=!1;q>>7&&(B=!0,F=e,K=ce,e+=3*ce);var X=e;for(e++;;){var j;if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}p.push({x:C,y:O,width:I,height:D,has_local_palette:B,palette_offset:F,palette_size:K,data_offset:X,data_length:e-X,transparent_index:y,interlaced:!!te,delay:v,disposal:_});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return T},this.frameInfo=function(W){if(W<0||W>=p.length)throw new Error("Frame index out of range.");return p[W]},this.decodeAndBlitFrameBGRA=function(W,ue){var de=this.frameInfo(W),xe=de.width*de.height,oe=new Uint8Array(xe);L4(t,de.data_offset,oe,xe);var be=de.palette_offset,_e=de.transparent_index;_e===null&&(_e=256);var Le=de.width,Ne=r-Le,Q=Le,P=4*(de.y*r+de.x),G=4*((de.y+de.height)*r+de.x),H=P,Z=4*Ne;de.interlaced===!0&&(Z+=4*r*7);for(var se=8,Ae=0,Oe=oe.length;Ae<Oe;++Ae){var Re=oe[Ae];if(Q===0&&(Q=Le,(H+=Z)>=G&&(Z=4*Ne+4*r*(se-1),H=P+(Le+Ne)*(se<<1),se>>=1)),Re===_e)H+=4;else{var Ie=t[be+3*Re],ot=t[be+3*Re+1],it=t[be+3*Re+2];ue[H++]=it,ue[H++]=ot,ue[H++]=Ie,ue[H++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(W,ue){var de=this.frameInfo(W),xe=de.width*de.height,oe=new Uint8Array(xe);L4(t,de.data_offset,oe,xe);var be=de.palette_offset,_e=de.transparent_index;_e===null&&(_e=256);var Le=de.width,Ne=r-Le,Q=Le,P=4*(de.y*r+de.x),G=4*((de.y+de.height)*r+de.x),H=P,Z=4*Ne;de.interlaced===!0&&(Z+=4*r*7);for(var se=8,Ae=0,Oe=oe.length;Ae<Oe;++Ae){var Re=oe[Ae];if(Q===0&&(Q=Le,(H+=Z)>=G&&(Z=4*Ne+4*r*(se-1),H=P+(Le+Ne)*(se<<1),se>>=1)),Re===_e)H+=4;else{var Ie=t[be+3*Re],ot=t[be+3*Re+1],it=t[be+3*Re+2];ue[H++]=Ie,ue[H++]=ot,ue[H++]=it,ue[H++]=255}--Q}}}function L4(t,e,r,i){for(var n=t[e++],a=1<<n,s=a+1,l=s+1,c=n+1,f=(1<<c)-1,p=0,v=0,y=0,_=t[e++],T=new Int32Array(4096),S=null;;){for(;p<16&&_!==0;)v|=t[e++]<<p,p+=8,_===1?_=t[e++]:--_;if(p<c)break;var C=v&f;if(v>>=c,p-=c,C!==a){if(C===s)break;for(var O=C<l?C:S,I=0,D=O;D>a;)D=T[D]>>8,++I;var q=D;if(y+I+(O!==C?1:0)>i)return void ti.log("Warning, gif stream longer than expected.");r[y++]=q;var te=y+=I;for(O!==C&&(r[y++]=q),D=O;I--;)D=T[D],r[--te]=255&D,D>>=8;S!==null&&l<4096&&(T[l++]=S<<8|q,l>=f+1&&c<12&&(++c,f=f<<1|1)),S=C}else l=s+1,f=(1<<(c=n+1))-1,S=null}return y!==i&&ti.log("Warning, gif stream shorter than expected."),r}function v2(t){var e,r,i,n,a,s=Math.floor,l=new Array(64),c=new Array(64),f=new Array(64),p=new Array(64),v=new Array(65535),y=new Array(65535),_=new Array(64),T=new Array(64),S=[],C=0,O=7,I=new Array(64),D=new Array(64),q=new Array(64),te=new Array(256),ce=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],K=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ue=[0,1,2,3,4,5,6,7,8,9,10,11],de=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(P,G){for(var H=0,Z=0,se=new Array,Ae=1;Ae<=16;Ae++){for(var Oe=1;Oe<=P[Ae];Oe++)se[G[Z]]=[],se[G[Z]][0]=H,se[G[Z]][1]=Ae,Z++,H++;H*=2}return se}function be(P){for(var G=P[0],H=P[1]-1;H>=0;)G&1<<H&&(C|=1<<O),H--,--O<0&&(C==255?(_e(255),_e(0)):_e(C),O=7,C=0)}function _e(P){S.push(P)}function Le(P){_e(P>>8&255),_e(255&P)}function Ne(P,G,H,Z,se){for(var Ae,Oe=se[0],Re=se[240],Ie=(function(dt,Vt){var jt,sr,Xt,Jt,Er,dr,Nr,or,Ft,_r,Wt=0;for(Ft=0;Ft<8;++Ft){jt=dt[Wt],sr=dt[Wt+1],Xt=dt[Wt+2],Jt=dt[Wt+3],Er=dt[Wt+4],dr=dt[Wt+5],Nr=dt[Wt+6];var xn=jt+(or=dt[Wt+7]),Mr=jt-or,Gt=sr+Nr,pr=sr-Nr,Dr=Xt+dr,Yt=Xt-dr,ln=Jt+Er,ur=Jt-Er,cr=xn+ln,en=xn-ln,xr=Gt+Dr,Zt=Gt-Dr;dt[Wt]=cr+xr,dt[Wt+4]=cr-xr;var Gr=.707106781*(Zt+en);dt[Wt+2]=en+Gr,dt[Wt+6]=en-Gr;var Sa=.382683433*((cr=ur+Yt)-(Zt=pr+Mr)),li=.5411961*cr+Sa,Ji=1.306562965*Zt+Sa,Ni=.707106781*(xr=Yt+pr),Qt=Mr+Ni,Xa=Mr-Ni;dt[Wt+5]=Xa+li,dt[Wt+3]=Xa-li,dt[Wt+1]=Qt+Ji,dt[Wt+7]=Qt-Ji,Wt+=8}for(Wt=0,Ft=0;Ft<8;++Ft){jt=dt[Wt],sr=dt[Wt+8],Xt=dt[Wt+16],Jt=dt[Wt+24],Er=dt[Wt+32],dr=dt[Wt+40],Nr=dt[Wt+48];var Ba=jt+(or=dt[Wt+56]),Ce=jt-or,Ge=sr+Nr,qe=sr-Nr,Ye=Xt+dr,Y=Xt-dr,pe=Jt+Er,re=Jt-Er,ne=Ba+pe,he=Ba-pe,ge=Ge+Ye,Pe=Ge-Ye;dt[Wt]=ne+ge,dt[Wt+32]=ne-ge;var ze=.707106781*(Pe+he);dt[Wt+16]=he+ze,dt[Wt+48]=he-ze;var Be=.382683433*((ne=re+Y)-(Pe=qe+Ce)),Ue=.5411961*ne+Be,$e=1.306562965*Pe+Be,ht=.707106781*(ge=Y+qe),bt=Ce+ht,wt=Ce-ht;dt[Wt+40]=wt+Ue,dt[Wt+24]=wt-Ue,dt[Wt+8]=bt+$e,dt[Wt+56]=bt-$e,Wt++}for(Ft=0;Ft<64;++Ft)_r=dt[Ft]*Vt[Ft],_[Ft]=_r>0?_r+.5|0:_r-.5|0;return _})(P,G),ot=0;ot<64;++ot)T[F[ot]]=Ie[ot];var it=T[0]-H;H=T[0],it==0?be(Z[0]):(be(Z[y[Ae=32767+it]]),be(v[Ae]));for(var Tt=63;Tt>0&&T[Tt]==0;)Tt--;if(Tt==0)return be(Oe),H;for(var Nt,we=1;we<=Tt;){for(var yt=we;T[we]==0&&we<=Tt;)++we;var xt=we-yt;if(xt>=16){Nt=xt>>4;for(var zt=1;zt<=Nt;++zt)be(Re);xt&=15}Ae=32767+T[we],be(se[(xt<<4)+y[Ae]]),be(v[Ae]),we++}return Tt!=63&&be(Oe),H}function Q(P){P=Math.min(Math.max(P,1),100),a!=P&&((function(G){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var se=s((H[Z]*G+50)/100);se=Math.min(Math.max(se,1),255),l[F[Z]]=se}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Oe=0;Oe<64;Oe++){var Re=s((Ae[Oe]*G+50)/100);Re=Math.min(Math.max(Re,1),255),c[F[Oe]]=Re}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ot=0,it=0;it<8;it++)for(var Tt=0;Tt<8;Tt++)f[ot]=1/(l[F[ot]]*Ie[it]*Ie[Tt]*8),p[ot]=1/(c[F[ot]]*Ie[it]*Ie[Tt]*8),ot++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),a=P)}this.encode=function(P,G){G&&Q(G),S=new Array,C=0,O=7,Le(65496),Le(65504),Le(16),_e(74),_e(70),_e(73),_e(70),_e(0),_e(1),_e(1),_e(0),Le(1),Le(1),_e(0),_e(0),(function(){Le(65499),Le(132),_e(0);for(var sr=0;sr<64;sr++)_e(l[sr]);_e(1);for(var Xt=0;Xt<64;Xt++)_e(c[Xt])})(),(function(sr,Xt){Le(65472),Le(17),_e(8),Le(Xt),Le(sr),_e(3),_e(1),_e(17),_e(0),_e(2),_e(17),_e(1),_e(3),_e(17),_e(1)})(P.width,P.height),(function(){Le(65476),Le(418),_e(0);for(var sr=0;sr<16;sr++)_e(K[sr+1]);for(var Xt=0;Xt<=11;Xt++)_e(B[Xt]);_e(16);for(var Jt=0;Jt<16;Jt++)_e(X[Jt+1]);for(var Er=0;Er<=161;Er++)_e(j[Er]);_e(1);for(var dr=0;dr<16;dr++)_e(W[dr+1]);for(var Nr=0;Nr<=11;Nr++)_e(ue[Nr]);_e(17);for(var or=0;or<16;or++)_e(de[or+1]);for(var Ft=0;Ft<=161;Ft++)_e(xe[Ft])})(),Le(65498),Le(12),_e(3),_e(1),_e(0),_e(2),_e(17),_e(3),_e(17),_e(0),_e(63),_e(0);var H=0,Z=0,se=0;C=0,O=7,this.encode.displayName="_encode_";for(var Ae,Oe,Re,Ie,ot,it,Tt,Nt,we,yt=P.data,xt=P.width,zt=P.height,dt=4*xt,Vt=0;Vt<zt;){for(Ae=0;Ae<dt;){for(ot=dt*Vt+Ae,Tt=-1,Nt=0,we=0;we<64;we++)it=ot+(Nt=we>>3)*dt+(Tt=4*(7&we)),Vt+Nt>=zt&&(it-=dt*(Vt+1+Nt-zt)),Ae+Tt>=dt&&(it-=Ae+Tt-dt+4),Oe=yt[it++],Re=yt[it++],Ie=yt[it++],I[we]=(ce[Oe]+ce[Re+256|0]+ce[Ie+512|0]>>16)-128,D[we]=(ce[Oe+768|0]+ce[Re+1024|0]+ce[Ie+1280|0]>>16)-128,q[we]=(ce[Oe+1280|0]+ce[Re+1536|0]+ce[Ie+1792|0]>>16)-128;H=Ne(I,f,H,e,i),Z=Ne(D,p,Z,r,n),se=Ne(q,p,se,r,n),Ae+=32}Vt+=8}if(O>=0){var jt=[];jt[1]=O+1,jt[0]=(1<<O+1)-1,be(jt)}return Le(65497),new Uint8Array(S)},t=t||50,(function(){for(var P=String.fromCharCode,G=0;G<256;G++)te[G]=P(G)})(),e=oe(K,B),r=oe(W,ue),i=oe(X,j),n=oe(de,xe),(function(){for(var P=1,G=2,H=1;H<=15;H++){for(var Z=P;Z<G;Z++)y[32767+Z]=H,v[32767+Z]=[],v[32767+Z][1]=H,v[32767+Z][0]=Z;for(var se=-(G-1);se<=-P;se++)y[32767+se]=H,v[32767+se]=[],v[32767+se][1]=H,v[32767+se][0]=G-1+se;P<<=1,G<<=1}})(),(function(){for(var P=0;P<256;P++)ce[P]=19595*P,ce[P+256|0]=38470*P,ce[P+512|0]=7471*P+32768,ce[P+768|0]=-11059*P,ce[P+1024|0]=-21709*P,ce[P+1280|0]=32768*P+8421375,ce[P+1536|0]=-27439*P,ce[P+1792|0]=-5329*P})(),Q(t)}function zl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function N4(t){function e(B){if(!B)throw Error("assert :P")}function r(B,X,j){for(var W=0;4>W;W++)if(B[X+W]!=j.charCodeAt(W))return!0;return!1}function i(B,X,j,W,ue){for(var de=0;de<ue;de++)B[X+de]=j[W+de]}function n(B,X,j,W){for(var ue=0;ue<W;ue++)B[X+ue]=j}function a(B){return new Int32Array(B)}function s(B,X){for(var j=[],W=0;W<B;W++)j.push(new X);return j}function l(B,X){var j=[];return(function W(ue,de,xe){for(var oe=xe[de],be=0;be<oe&&(ue.push(xe.length>de+1?[]:new X),!(xe.length<de+1));be++)W(ue[be],de+1,xe)})(j,0,B),j}var c=function(){var B=this;function X(w,A){for(var R=1<<A-1>>>0;w&R;)R>>>=1;return R?(w&R-1)+R:w}function j(w,A,R,U,ee){e(!(U%R));do w[A+(U-=R)]=ee;while(0<U)}function W(w,A,R,U,ee){if(e(2328>=ee),512>=ee)var ie=a(512);else if((ie=a(ee))==null)return 0;return(function(le,me,ye,Te,je,Je){var Ee,He,Ke=me,lt=1<<ye,Xe=a(16),st=a(16);for(e(je!=0),e(Te!=null),e(le!=null),e(0<ye),He=0;He<je;++He){if(15<Te[He])return 0;++Xe[Te[He]]}if(Xe[0]==je)return 0;for(st[1]=0,Ee=1;15>Ee;++Ee){if(Xe[Ee]>1<<Ee)return 0;st[Ee+1]=st[Ee]+Xe[Ee]}for(He=0;He<je;++He)Ee=Te[He],0<Te[He]&&(Je[st[Ee]++]=He);if(st[15]==1)return(Te=new ue).g=0,Te.value=Je[0],j(le,Ke,1,lt,Te),lt;var ft,Lt=-1,_t=lt-1,nr=0,Ht=1,Pr=1,Kt=1<<ye;for(He=0,Ee=1,je=2;Ee<=ye;++Ee,je<<=1){if(Ht+=Pr<<=1,0>(Pr-=Xe[Ee]))return 0;for(;0<Xe[Ee];--Xe[Ee])(Te=new ue).g=Ee,Te.value=Je[He++],j(le,Ke+nr,je,Kt,Te),nr=X(nr,Ee)}for(Ee=ye+1,je=2;15>=Ee;++Ee,je<<=1){if(Ht+=Pr<<=1,0>(Pr-=Xe[Ee]))return 0;for(;0<Xe[Ee];--Xe[Ee]){if(Te=new ue,(nr&_t)!=Lt){for(Ke+=Kt,ft=1<<(Lt=Ee)-ye;15>Lt&&!(0>=(ft-=Xe[Lt]));)++Lt,ft<<=1;lt+=Kt=1<<(ft=Lt-ye),le[me+(Lt=nr&_t)].g=ft+ye,le[me+Lt].value=Ke-me-Lt}Te.g=Ee-ye,Te.value=Je[He++],j(le,Ke+(nr>>ye),je,Kt,Te),nr=X(nr,Ee)}}return Ht!=2*st[15]-1?0:lt})(w,A,R,U,ee,ie)}function ue(){this.value=this.g=0}function de(){this.value=this.g=0}function xe(){this.G=s(5,ue),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ws,de)}function oe(w,A,R,U){e(w!=null),e(A!=null),e(2147483648>U),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=A,w.pa=R,w.Jd=A,w.Yc=R+U,w.Zc=4<=U?R+U-4+1:R,Oe(w)}function be(w,A){for(var R=0;0<A--;)R|=Ie(w,128)<<A;return R}function _e(w,A){var R=be(w,A);return Re(w)?-R:R}function Le(w,A,R,U){var ee,ie=0;for(e(w!=null),e(A!=null),e(4294967288>U),w.Sb=U,w.Ra=0,w.u=0,w.h=0,4<U&&(U=4),ee=0;ee<U;++ee)ie+=A[R+ee]<<8*ee;w.Ra=ie,w.bb=U,w.oa=A,w.pa=R}function Ne(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<is-8>>>0,++w.bb,w.u-=8;Z(w)&&(w.h=1,w.u=0)}function Q(w,A){if(e(0<=A),!w.h&&A<=ii){var R=H(w)&Ga[A];return w.u+=A,Ne(w),R}return w.h=1,w.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(w){return w.Ra>>>(w.u&is-1)>>>0}function Z(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>is}function se(w,A){w.u=A,w.h=Z(w)}function Ae(w){w.u>=ao&&(e(w.u>=ao),Ne(w))}function Oe(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function Re(w){return be(w,1)}function Ie(w,A){var R=w.Ca;0>w.b&&Oe(w);var U=w.b,ee=R*A>>>8,ie=(w.I>>>U>ee)+0;for(ie?(R-=ee,w.I-=ee+1<<U>>>0):R=ee+1,U=R,ee=0;256<=U;)ee+=8,U>>=8;return U=7^ee+Zs[U],w.b-=U,w.Ca=(R<<U)-1,ie}function ot(w,A,R){w[A+0]=R>>24&255,w[A+1]=R>>16&255,w[A+2]=R>>8&255,w[A+3]=255&R}function it(w,A){return w[A+0]|w[A+1]<<8}function Tt(w,A){return it(w,A)|w[A+2]<<16}function Nt(w,A){return it(w,A)|it(w,A+2)<<16}function we(w,A){var R=1<<A;return e(w!=null),e(0<A),w.X=a(R),w.X==null?0:(w.Mb=32-A,w.Xa=A,1)}function yt(w,A){e(w!=null),e(A!=null),e(w.Xa==A.Xa),i(A.X,0,w.X,0,1<<A.Xa)}function xt(){this.X=[],this.Xa=this.Mb=0}function zt(w,A,R,U){e(R!=null),e(U!=null);var ee=R[0],ie=U[0];return ee==0&&(ee=(w*ie+A/2)/A),ie==0&&(ie=(A*ee+w/2)/w),0>=ee||0>=ie?0:(R[0]=ee,U[0]=ie,1)}function dt(w,A){return w+(1<<A)-1>>>A}function Vt(w,A){return((4278255360&w)+(4278255360&A)>>>0&4278255360)+((16711935&w)+(16711935&A)>>>0&16711935)>>>0}function jt(w,A){B[A]=function(R,U,ee,ie,le,me,ye){var Te;for(Te=0;Te<le;++Te){var je=B[w](me[ye+Te-1],ee,ie+Te);me[ye+Te]=Vt(R[U+Te],je)}}}function sr(){this.ud=this.hd=this.jd=0}function Xt(w,A){return((4278124286&(w^A))>>>1)+(w&A)>>>0}function Jt(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Er(w,A){return Jt(w+(w-A+.5>>1))}function dr(w,A,R){return Math.abs(A-R)-Math.abs(w-R)}function Nr(w,A,R,U,ee,ie,le){for(U=ie[le-1],R=0;R<ee;++R)ie[le+R]=U=Vt(w[A+R],U)}function or(w,A,R,U,ee){var ie;for(ie=0;ie<R;++ie){var le=w[A+ie],me=le>>8&255,ye=16711935&(ye=(ye=16711935&le)+((me<<16)+me));U[ee+ie]=(4278255360&le)+ye>>>0}}function Ft(w,A){A.jd=255&w,A.hd=w>>8&255,A.ud=w>>16&255}function _r(w,A,R,U,ee,ie){var le;for(le=0;le<U;++le){var me=A[R+le],ye=me>>>8,Te=me,je=255&(je=(je=me>>>16)+((w.jd<<24>>24)*(ye<<24>>24)>>>5));Te=255&(Te=(Te+=(w.hd<<24>>24)*(ye<<24>>24)>>>5)+((w.ud<<24>>24)*(je<<24>>24)>>>5)),ee[ie+le]=(4278255360&me)+(je<<16)+Te}}function Wt(w,A,R,U,ee){B[A]=function(ie,le,me,ye,Te,je,Je,Ee,He){for(ye=Je;ye<Ee;++ye)for(Je=0;Je<He;++Je)Te[je++]=ee(me[U(ie[le++])])},B[w]=function(ie,le,me,ye,Te,je,Je){var Ee=8>>ie.b,He=ie.Ea,Ke=ie.K[0],lt=ie.w;if(8>Ee)for(ie=(1<<ie.b)-1,lt=(1<<Ee)-1;le<me;++le){var Xe,st=0;for(Xe=0;Xe<He;++Xe)Xe&ie||(st=U(ye[Te++])),je[Je++]=ee(Ke[st&lt]),st>>=Ee}else B["VP8LMapColor"+R](ye,Te,Ke,lt,je,Je,le,me,He)}}function xn(w,A,R,U,ee){for(R=A+R;A<R;){var ie=w[A++];U[ee++]=ie>>16&255,U[ee++]=ie>>8&255,U[ee++]=255&ie}}function Mr(w,A,R,U,ee){for(R=A+R;A<R;){var ie=w[A++];U[ee++]=ie>>16&255,U[ee++]=ie>>8&255,U[ee++]=255&ie,U[ee++]=ie>>24&255}}function Gt(w,A,R,U,ee){for(R=A+R;A<R;){var ie=(le=w[A++])>>16&240|le>>12&15,le=240&le|le>>28&15;U[ee++]=ie,U[ee++]=le}}function pr(w,A,R,U,ee){for(R=A+R;A<R;){var ie=(le=w[A++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;U[ee++]=ie,U[ee++]=le}}function Dr(w,A,R,U,ee){for(R=A+R;A<R;){var ie=w[A++];U[ee++]=255&ie,U[ee++]=ie>>8&255,U[ee++]=ie>>16&255}}function Yt(w,A,R,U,ee,ie){if(ie==0)for(R=A+R;A<R;)ot(U,((ie=w[A++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),ee+=32;else i(U,ee,w,A,R)}function ln(w,A){B[A][0]=B[w+"0"],B[A][1]=B[w+"1"],B[A][2]=B[w+"2"],B[A][3]=B[w+"3"],B[A][4]=B[w+"4"],B[A][5]=B[w+"5"],B[A][6]=B[w+"6"],B[A][7]=B[w+"7"],B[A][8]=B[w+"8"],B[A][9]=B[w+"9"],B[A][10]=B[w+"10"],B[A][11]=B[w+"11"],B[A][12]=B[w+"12"],B[A][13]=B[w+"13"],B[A][14]=B[w+"0"],B[A][15]=B[w+"0"]}function ur(w){return w==hu||w==Gu||w==fu||w==h}function cr(){this.eb=[],this.size=this.A=this.fb=0}function en(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new cr,this.f.kb=new en,this.sd=null}function Zt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Sa(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function li(w,A){var R=w.T,U=A.ba.f.RGBA,ee=U.eb,ie=U.fb+w.ka*U.A,le=bi[A.ba.S],me=w.y,ye=w.O,Te=w.f,je=w.N,Je=w.ea,Ee=w.W,He=A.cc,Ke=A.dc,lt=A.Mc,Xe=A.Nc,st=w.ka,ft=w.ka+w.T,Lt=w.U,_t=Lt+1>>1;for(st==0?le(me,ye,null,null,Te,je,Je,Ee,Te,je,Je,Ee,ee,ie,null,null,Lt):(le(A.ec,A.fc,me,ye,He,Ke,lt,Xe,Te,je,Je,Ee,ee,ie-U.A,ee,ie,Lt),++R);st+2<ft;st+=2)He=Te,Ke=je,lt=Je,Xe=Ee,je+=w.Rc,Ee+=w.Rc,ie+=2*U.A,le(me,(ye+=2*w.fa)-w.fa,me,ye,He,Ke,lt,Xe,Te,je,Je,Ee,ee,ie-U.A,ee,ie,Lt);return ye+=w.fa,w.j+ft<w.o?(i(A.ec,A.fc,me,ye,Lt),i(A.cc,A.dc,Te,je,_t),i(A.Mc,A.Nc,Je,Ee,_t),R--):1&ft||le(me,ye,null,null,Te,je,Je,Ee,Te,je,Je,Ee,ee,ie+U.A,null,null,Lt),R}function Ji(w,A,R){var U=w.F,ee=[w.J];if(U!=null){var ie=w.U,le=A.ba.S,me=le==cu||le==fu;A=A.ba.f.RGBA;var ye=[0],Te=w.ka;ye[0]=w.T,w.Kb&&(Te==0?--ye[0]:(--Te,ee[0]-=w.width),w.j+w.ka+w.T==w.o&&(ye[0]=w.o-w.j-Te));var je=A.eb;Te=A.fb+Te*A.A,w=lu(U,ee[0],w.width,ie,ye,je,Te+(me?0:3),A.A),e(R==ye),w&&ur(le)&&Ls(je,Te,me,ie,ye,A.A)}return 0}function Ni(w){var A=w.ma,R=A.ba.S,U=11>R,ee=R==ia||R==os||R==cu||R==Ol||R==12||ur(R);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!jo(A.Oa,w,ee?11:12))return 0;if(ee&&ur(R)&&Do(),w.da)alert("todo:use_scaling");else{if(U){if(A.Ib=Sa,w.Kb){if(R=w.U+1>>1,A.memory=a(w.U+2*R),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+w.U,A.Mc=A.cc,A.Nc=A.dc+R,A.Ib=li,Do()}}else alert("todo:EmitYUV");ee&&(A.Jb=Ji,U&&ta())}if(U&&!vu){for(w=0;256>w;++w)Ra[w]=89858*(w-128)+bc>>po,gg[w]=-22014*(w-128)+bc,kp[w]=-45773*(w-128),tf[w]=113618*(w-128)+bc>>po;for(w=Hu;w<gu;++w)A=76283*(w-16)+bc>>po,vg[w-Hu]=Ut(A,255),_g[w-Hu]=Ut(A+8>>4,15);vu=1}return 1}function Qt(w){var A=w.ma,R=w.U,U=w.T;return e(!(1&w.ka)),0>=R||0>=U?0:(R=A.Ib(w,A),A.Jb!=null&&A.Jb(w,A,R),A.Dc+=R,1)}function Xa(w){w.ma.memory=null}function Ba(w,A,R,U){return Q(w,8)!=47?0:(A[0]=Q(w,14)+1,R[0]=Q(w,14)+1,U[0]=Q(w,1),Q(w,3)!=0?0:!w.h)}function Ce(w,A){if(4>w)return w+1;var R=w-2>>1;return(2+(1&w)<<R)+Q(A,R)+1}function Ge(w,A){return 120<A?A-120:1<=(R=((R=Me[A-1])>>4)*w+(8-(15&R)))?R:1;var R}function qe(w,A,R){var U=H(R),ee=w[A+=255&U].g-8;return 0<ee&&(se(R,R.u+8),U=H(R),A+=w[A].value,A+=U&(1<<ee)-1),se(R,R.u+w[A].g),w[A].value}function Ye(w,A,R){return R.g+=w.g,R.value+=w.value<<A>>>0,e(8>=R.g),w.g}function Y(w,A,R){var U=w.xc;return e((A=U==0?0:w.vc[w.md*(R>>U)+(A>>U)])<w.Wb),w.Ya[A]}function pe(w,A,R,U){var ee=w.ab,ie=w.c*A,le=w.C;A=le+A;var me=R,ye=U;for(U=w.Ta,R=w.Ua;0<ee--;){var Te=w.gc[ee],je=le,Je=A,Ee=me,He=ye,Ke=(ye=U,me=R,Te.Ea);switch(e(je<Je),e(Je<=Te.nc),Te.hc){case 2:hi(Ee,He,(Je-je)*Ke,ye,me);break;case 0:var lt=je,Xe=Je,st=ye,ft=me,Lt=(Kt=Te).Ea;lt==0&&(su(Ee,He,null,null,1,st,ft),Nr(Ee,He+1,0,0,Lt-1,st,ft+1),He+=Lt,ft+=Lt,++lt);for(var _t=1<<Kt.b,nr=_t-1,Ht=dt(Lt,Kt.b),Pr=Kt.K,Kt=Kt.w+(lt>>Kt.b)*Ht;lt<Xe;){var Qr=Pr,Qn=Kt,jr=1;for(Ha(Ee,He,st,ft-Lt,1,st,ft);jr<Lt;){var qt=(jr&~nr)+_t;qt>Lt&&(qt=Lt),(0,oo[Qr[Qn++]>>8&15])(Ee,He+ +jr,st,ft+jr-Lt,qt-jr,st,ft+jr),jr=qt}He+=Lt,ft+=Lt,++lt&nr||(Kt+=Ht)}Je!=Te.nc&&i(ye,me-Ke,ye,me+(Je-je-1)*Ke,Ke);break;case 1:for(Ke=Ee,Xe=He,Lt=(Ee=Te.Ea)-(ft=Ee&~(st=(He=1<<Te.b)-1)),lt=dt(Ee,Te.b),_t=Te.K,Te=Te.w+(je>>Te.b)*lt;je<Je;){for(nr=_t,Ht=Te,Pr=new sr,Kt=Xe+ft,Qr=Xe+Ee;Xe<Kt;)Ft(nr[Ht++],Pr),ll(Pr,Ke,Xe,He,ye,me),Xe+=He,me+=He;Xe<Qr&&(Ft(nr[Ht++],Pr),ll(Pr,Ke,Xe,Lt,ye,me),Xe+=Lt,me+=Lt),++je&st||(Te+=lt)}break;case 3:if(Ee==ye&&He==me&&0<Te.b){for(Xe=ye,Ee=Ke=me+(Je-je)*Ke-(ft=(Je-je)*dt(Te.Ea,Te.b)),He=ye,st=me,lt=[],ft=(Lt=ft)-1;0<=ft;--ft)lt[ft]=He[st+ft];for(ft=Lt-1;0<=ft;--ft)Xe[Ee+ft]=lt[ft];Fo(Te,je,Je,ye,Ke,ye,me)}else Fo(Te,je,Je,Ee,He,ye,me)}me=U,ye=R}ye!=R&&i(U,R,me,ye,ie)}function re(w,A){var R=w.V,U=w.Ba+w.c*w.C,ee=A-w.C;if(e(A<=w.l.o),e(16>=ee),0<ee){var ie=w.l,le=w.Ta,me=w.Ua,ye=ie.width;if(pe(w,ee,R,U),ee=me=[me],e((R=w.C)<(U=A)),e(ie.v<ie.va),U>ie.o&&(U=ie.o),R<ie.j){var Te=ie.j-R;R=ie.j,ee[0]+=Te*ye}if(R>=U?R=0:(ee[0]+=4*ie.v,ie.ka=R-ie.j,ie.U=ie.va-ie.v,ie.T=U-R,R=1),R){if(me=me[0],11>(R=w.ca).S){var je=R.f.RGBA,Je=(U=R.S,ee=ie.U,ie=ie.T,Te=je.eb,je.A),Ee=ie;for(je=je.fb+w.Ma*je.A;0<Ee--;){var He=le,Ke=me,lt=ee,Xe=Te,st=je;switch(U){case xc:Bo(He,Ke,lt,Xe,st);break;case ia:Ys(He,Ke,lt,Xe,st);break;case hu:Ys(He,Ke,lt,Xe,st),Ls(Xe,st,0,lt,1,0);break;case zu:lo(He,Ke,lt,Xe,st);break;case os:Yt(He,Ke,lt,Xe,st,1);break;case Gu:Yt(He,Ke,lt,Xe,st,1),Ls(Xe,st,0,lt,1,0);break;case cu:Yt(He,Ke,lt,Xe,st,0);break;case fu:Yt(He,Ke,lt,Xe,st,0),Ls(Xe,st,1,lt,1,0);break;case Ol:As(He,Ke,lt,Xe,st);break;case h:As(He,Ke,lt,Xe,st),as(Xe,st,lt,1,0);break;case ul:Ca(He,Ke,lt,Xe,st);break;default:e(0)}me+=ye,je+=Je}w.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=R.height)}}w.C=A,e(w.C<=w.i)}function ne(w){var A;if(0<w.ua)return 0;for(A=0;A<w.Wb;++A){var R=w.Ya[A].G,U=w.Ya[A].H;if(0<R[1][U[1]+0].g||0<R[2][U[2]+0].g||0<R[3][U[3]+0].g)return 0}return 1}function he(w,A,R,U,ee,ie){if(w.Z!=0){var le=w.qd,me=w.rd;for(e(bn[w.Z]!=null);A<R;++A)bn[w.Z](le,me,U,ee,U,ee,ie),le=U,me=ee,ee+=ie;w.qd=le,w.rd=me}}function ge(w,A){var R=w.l.ma,U=R.Z==0||R.Z==1?w.l.j:w.C;if(U=w.C<U?U:w.C,e(A<=w.l.o),A>U){var ee=w.l.width,ie=R.ca,le=R.tb+ee*U,me=w.V,ye=w.Ba+w.c*U,Te=w.gc;e(w.ab==1),e(Te[0].hc==3),Fi(Te[0],U,A,me,ye,ie,le),he(R,U,A,ie,le,ee)}w.C=w.Ma=A}function Pe(w,A,R,U,ee,ie,le){var me=w.$/U,ye=w.$%U,Te=w.m,je=w.s,Je=R+w.$,Ee=Je;ee=R+U*ee;var He=R+U*ie,Ke=280+je.ua,lt=w.Pb?me:16777216,Xe=0<je.ua?je.Wa:null,st=je.wc,ft=Je<He?Y(je,ye,me):null;e(w.C<ie),e(He<=ee);var Lt=!1;e:for(;;){for(;Lt||Je<He;){var _t=0;if(me>=lt){var nr=Je-R;e((lt=w).Pb),lt.wd=lt.m,lt.xd=nr,0<lt.s.ua&&yt(lt.s.Wa,lt.s.vb),lt=me+tt}if(ye&st||(ft=Y(je,ye,me)),e(ft!=null),ft.Qb&&(A[Je]=ft.qb,Lt=!0),!Lt)if(Ae(Te),ft.jc){_t=Te,nr=A;var Ht=Je,Pr=ft.pd[H(_t)&Ws-1];e(ft.jc),256>Pr.g?(se(_t,_t.u+Pr.g),nr[Ht]=Pr.value,_t=0):(se(_t,_t.u+Pr.g-256),e(256<=Pr.value),_t=Pr.value),_t==0&&(Lt=!0)}else _t=qe(ft.G[0],ft.H[0],Te);if(Te.h)break;if(Lt||256>_t){if(!Lt)if(ft.nd)A[Je]=(ft.qb|_t<<8)>>>0;else{if(Ae(Te),Lt=qe(ft.G[1],ft.H[1],Te),Ae(Te),nr=qe(ft.G[2],ft.H[2],Te),Ht=qe(ft.G[3],ft.H[3],Te),Te.h)break;A[Je]=(Ht<<24|Lt<<16|_t<<8|nr)>>>0}if(Lt=!1,++Je,++ye>=U&&(ye=0,++me,le!=null&&me<=ie&&!(me%16)&&le(w,me),Xe!=null))for(;Ee<Je;)_t=A[Ee++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t}else if(280>_t){if(_t=Ce(_t-256,Te),nr=qe(ft.G[4],ft.H[4],Te),Ae(Te),nr=Ge(U,nr=Ce(nr,Te)),Te.h)break;if(Je-R<nr||ee-Je<_t)break e;for(Ht=0;Ht<_t;++Ht)A[Je+Ht]=A[Je+Ht-nr];for(Je+=_t,ye+=_t;ye>=U;)ye-=U,++me,le!=null&&me<=ie&&!(me%16)&&le(w,me);if(e(Je<=ee),ye&st&&(ft=Y(je,ye,me)),Xe!=null)for(;Ee<Je;)_t=A[Ee++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t}else{if(!(_t<Ke))break e;for(Lt=_t-280,e(Xe!=null);Ee<Je;)_t=A[Ee++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t;_t=Je,e(!(Lt>>>(nr=Xe).Xa)),A[_t]=nr.X[Lt],Lt=!0}Lt||e(Te.h==Z(Te))}if(w.Pb&&Te.h&&Je<ee)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&yt(w.s.vb,w.s.Wa);else{if(Te.h)break e;le?.(w,me>ie?ie:me),w.a=0,w.$=Je-R}return 1}return w.a=3,0}function ze(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var A=w.Wa;A!=null&&(A.X=null),w.vb=null,e(w!=null)}function Be(){var w=new br;return w==null?null:(w.a=0,w.xb=wc,ln("Predictor","VP8LPredictors"),ln("Predictor","VP8LPredictors_C"),ln("PredictorAdd","VP8LPredictorsAdd"),ln("PredictorAdd","VP8LPredictorsAdd_C"),hi=or,ll=_r,Bo=xn,Ys=Mr,As=Gt,Ca=pr,lo=Dr,B.VP8LMapColor32b=so,B.VP8LMapColor8b=xi,w)}function Ue(w,A,R,U,ee){var ie=1,le=[w],me=[A],ye=U.m,Te=U.s,je=null,Je=0;e:for(;;){if(R)for(;ie&&Q(ye,1);){var Ee=le,He=me,Ke=U,lt=1,Xe=Ke.m,st=Ke.gc[Ke.ab],ft=Q(Xe,2);if(Ke.Oc&1<<ft)ie=0;else{switch(Ke.Oc|=1<<ft,st.hc=ft,st.Ea=Ee[0],st.nc=He[0],st.K=[null],++Ke.ab,e(4>=Ke.ab),ft){case 0:case 1:st.b=Q(Xe,3)+2,lt=Ue(dt(st.Ea,st.b),dt(st.nc,st.b),0,Ke,st.K),st.K=st.K[0];break;case 3:var Lt,_t=Q(Xe,8)+1,nr=16<_t?0:4<_t?1:2<_t?2:3;if(Ee[0]=dt(st.Ea,nr),st.b=nr,Lt=lt=Ue(_t,1,0,Ke,st.K)){var Ht,Pr=_t,Kt=st,Qr=1<<(8>>Kt.b),Qn=a(Qr);if(Qn==null)Lt=0;else{var jr=Kt.K[0],qt=Kt.w;for(Qn[0]=Kt.K[0][0],Ht=1;Ht<1*Pr;++Ht)Qn[Ht]=Vt(jr[qt+Ht],Qn[Ht-1]);for(;Ht<4*Qr;++Ht)Qn[Ht]=0;Kt.K[0]=null,Kt.K[0]=Qn,Lt=1}}lt=Lt;break;case 2:break;default:e(0)}ie=lt}}if(le=le[0],me=me[0],ie&&Q(ye,1)&&!(ie=1<=(Je=Q(ye,4))&&11>=Je)){U.a=3;break e}var Rt;if(Rt=ie)t:{var di,Sr,zr,An=U,sa=le,Da=me,Vn=Je,Ui=R,qa=An.m,zi=An.s,$r=[null],mn=1,pi=0,yn=We[Vn];r:for(;;){if(Ui&&Q(qa,1)){var oa=Q(qa,3)+2,mi=dt(sa,oa),gn=dt(Da,oa),Di=mi*gn;if(!Ue(mi,gn,0,An,$r))break r;for($r=$r[0],zi.xc=oa,di=0;di<Di;++di){var Ln=$r[di]>>8&65535;$r[di]=Ln,Ln>=mn&&(mn=Ln+1)}}if(qa.h)break r;for(Sr=0;5>Sr;++Sr){var Gi=M[Sr];!Sr&&0<Vn&&(Gi+=1<<Vn),pi<Gi&&(pi=Gi)}var Hi=s(mn*yn,ue),In=mn,hn=s(In,xe);if(hn==null)var Va=null;else e(65536>=In),Va=hn;var Si=a(pi);if(Va==null||Si==null||Hi==null){An.a=1;break r}var mr=Hi;for(di=zr=0;di<mn;++di){var gr=Va[di],vn=gr.G,Ms=gr.H,mo=0,us=1,qi=0;for(Sr=0;5>Sr;++Sr){Gi=M[Sr],vn[Sr]=mr,Ms[Sr]=zr,!Sr&&0<Vn&&(Gi+=1<<Vn);i:{var _u,yu=Gi,nf=An,$n=Si,Nd=mr,Cd=zr,af=0,Dl=nf.m,yg=Q(Dl,1);if(n($n,0,0,yu),yg){var Md=Q(Dl,1)+1,kd=Q(Dl,1),sf=Q(Dl,kd==0?1:8);$n[sf]=1,Md==2&&($n[sf=Q(Dl,8)]=1);var ma=1}else{var Ei=a(19),ph=Q(Dl,4)+4;if(19<ph){nf.a=3;var xu=0;break i}for(_u=0;_u<ph;++_u)Ei[ae[_u]]=Q(Dl,3);var Ec=void 0,qu=void 0,hl=nf,of=Ei,Tc=yu,lf=$n,uf=0,jl=hl.m,Pd=8,Od=s(128,ue);n:for(;W(Od,0,7,of,19);){if(Q(jl,1)){var Pp=2+2*Q(jl,3);if((Ec=2+Q(jl,Pp))>Tc)break n}else Ec=Tc;for(qu=0;qu<Tc&&Ec--;){Ae(jl);var Rd=Od[0+(127&H(jl))];se(jl,jl.u+Rd.g);var wu=Rd.value;if(16>wu)lf[qu++]=wu,wu!=0&&(Pd=wu);else{var Op=wu==16,Rp=wu-16,Dp=b[Rp],Dd=Q(jl,m[Rp])+Dp;if(qu+Dd>Tc)break n;for(var jp=Op?Pd:0;0<Dd--;)lf[qu++]=jp}}uf=1;break n}uf||(hl.a=3),ma=uf}(ma=ma&&!Dl.h)&&(af=W(Nd,Cd,8,$n,yu)),ma&&af!=0?xu=af:(nf.a=3,xu=0)}if(xu==0)break r;if(us&&z[Sr]==1&&(us=mr[zr].g==0),mo+=mr[zr].g,zr+=xu,3>=Sr){var Vu,cf=Si[0];for(Vu=1;Vu<Gi;++Vu)Si[Vu]>cf&&(cf=Si[Vu]);qi+=cf}}if(gr.nd=us,gr.Qb=0,us&&(gr.qb=(vn[3][Ms[3]+0].value<<24|vn[1][Ms[1]+0].value<<16|vn[2][Ms[2]+0].value)>>>0,mo==0&&256>vn[0][Ms[0]+0].value&&(gr.Qb=1,gr.qb+=vn[0][Ms[0]+0].value<<8)),gr.jc=!gr.Qb&&6>qi,gr.jc){var mh,fl=gr;for(mh=0;mh<Ws;++mh){var Il=mh,Fl=fl.pd[Il],hf=fl.G[0][fl.H[0]+Il];256<=hf.value?(Fl.g=hf.g+256,Fl.value=hf.value):(Fl.g=0,Fl.value=0,Il>>=Ye(hf,8,Fl),Il>>=Ye(fl.G[1][fl.H[1]+Il],16,Fl),Il>>=Ye(fl.G[2][fl.H[2]+Il],0,Fl),Ye(fl.G[3][fl.H[3]+Il],24,Fl))}}}zi.vc=$r,zi.Wb=mn,zi.Ya=Va,zi.yc=Hi,Rt=1;break t}Rt=0}if(!(ie=Rt)){U.a=3;break e}if(0<Je){if(Te.ua=1<<Je,!we(Te.Wa,Je)){U.a=1,ie=0;break e}}else Te.ua=0;var ff=U,$u=le,Ip=me,Ac=ff.s,Lc=Ac.xc;if(ff.c=$u,ff.i=Ip,Ac.md=dt($u,Lc),Ac.wc=Lc==0?-1:(1<<Lc)-1,R){U.xb=cl;break e}if((je=a(le*me))==null){U.a=1,ie=0;break e}ie=(ie=Pe(U,je,0,le,me,me,null))&&!ye.h;break e}return ie?(ee!=null?ee[0]=je:(e(je==null),e(R)),U.$=0,R||ze(Te)):ze(Te),ie}function $e(w,A){var R=w.c*w.i,U=R+A+16*A;return e(w.c<=A),w.V=a(U),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+R+A,1)}function ht(w,A){var R=w.C,U=A-R,ee=w.V,ie=w.Ba+w.c*R;for(e(A<=w.l.o);0<U;){var le=16<U?16:U,me=w.l.ma,ye=w.l.width,Te=ye*le,je=me.ca,Je=me.tb+ye*R,Ee=w.Ta,He=w.Ua;pe(w,le,ee,ie),ss(Ee,He,je,Je,Te),he(me,R,R+le,je,Je,ye),U-=le,ee+=le*w.c,R+=le}e(R==A),w.C=w.Ma=A}function bt(){this.ub=this.yd=this.td=this.Rb=0}function wt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Mt(){this.Yb=(function(){var w=[];return(function A(R,U,ee){for(var ie=ee[U],le=0;le<ie&&(R.push(ee.length>U+1?[]:0),!(ee.length<U+1));le++)A(R[le],U+1,ee)})(w,0,[3,11]),w})()}function Bt(){this.jb=a(3),this.Wc=l([4,8],Mt),this.Xc=l([4,17],Mt)}function Hr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function wr(){this.ld=this.La=this.dd=this.tc=0}function nn(){this.Na=this.la=0}function Kn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xn(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qi(){this.uc=this.M=this.Nb=0,this.wa=Array(new wr),this.Y=0,this.ya=Array(new Xn),this.aa=0,this.l=new qr}function Ci(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ar(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new bt,this.Kc=new wt,this.ed=new Hr,this.Qa=new gt,this.Ic=this.$c=this.Aa=0,this.D=new Qi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,P),this.ia=0,this.pb=s(4,Kn),this.Pa=new Bt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ci),this.Hd=0,this.rb=Array(new nn),this.sb=0,this.wa=Array(new wr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xn),this.L=this.aa=0,this.gd=l([4,2],wr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ut(w,A){return 0>w?0:w>A?A:w}function qr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ri(){var w=new Ar;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,tr||(tr=yr)),w}function ar(w,A,R){return w.a==0&&(w.a=A,w.sc=R,w.cb=0),0}function Ea(w,A,R){return 3<=R&&w[A+0]==157&&w[A+1]==1&&w[A+2]==42}function Ta(w,A){if(w==null)return 0;if(w.a=0,w.sc="OK",A==null)return ar(w,2,"null VP8Io passed to VP8GetHeaders()");var R=A.data,U=A.w,ee=A.ha;if(4>ee)return ar(w,7,"Truncated header.");var ie=R[U+0]|R[U+1]<<8|R[U+2]<<16,le=w.Od;if(le.Rb=!(1&ie),le.td=ie>>1&7,le.yd=ie>>4&1,le.ub=ie>>5,3<le.td)return ar(w,3,"Incorrect keyframe parameters.");if(!le.yd)return ar(w,4,"Frame not displayable.");U+=3,ee-=3;var me=w.Kc;if(le.Rb){if(7>ee)return ar(w,7,"cannot parse picture header");if(!Ea(R,U,ee))return ar(w,3,"Bad code word");me.c=16383&(R[U+4]<<8|R[U+3]),me.Td=R[U+4]>>6,me.i=16383&(R[U+6]<<8|R[U+5]),me.Ud=R[U+6]>>6,U+=7,ee-=7,w.za=me.c+15>>4,w.Ub=me.i+15>>4,A.width=me.c,A.height=me.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,n((ie=w.Pa).jb,0,255,ie.jb.length),e((ie=w.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,n(ie.Zb,0,0,ie.Zb.length),n(ie.Lb,0,0,ie.Lb)}if(le.ub>ee)return ar(w,7,"bad partition length");oe(ie=w.m,R,U,le.ub),U+=le.ub,ee-=le.ub,le.Rb&&(me.Ld=Re(ie),me.Kd=Re(ie)),me=w.Qa;var ye,Te=w.Pa;if(e(ie!=null),e(me!=null),me.Cb=Re(ie),me.Cb){if(me.Bb=Re(ie),Re(ie)){for(me.Fb=Re(ie),ye=0;4>ye;++ye)me.Zb[ye]=Re(ie)?_e(ie,7):0;for(ye=0;4>ye;++ye)me.Lb[ye]=Re(ie)?_e(ie,6):0}if(me.Bb)for(ye=0;3>ye;++ye)Te.jb[ye]=Re(ie)?be(ie,8):255}else me.Bb=0;if(ie.Ka)return ar(w,3,"cannot parse segment header");if((me=w.ed).zd=Re(ie),me.Tb=be(ie,6),me.wb=be(ie,3),me.Pc=Re(ie),me.Pc&&Re(ie)){for(Te=0;4>Te;++Te)Re(ie)&&(me.vd[Te]=_e(ie,6));for(Te=0;4>Te;++Te)Re(ie)&&(me.od[Te]=_e(ie,6))}if(w.L=me.Tb==0?0:me.zd?1:2,ie.Ka)return ar(w,3,"cannot parse filter header");var je=ee;if(ee=ye=U,U=ye+je,me=je,w.Xb=(1<<be(w.m,2))-1,je<3*(Te=w.Xb))R=7;else{for(ye+=3*Te,me-=3*Te,je=0;je<Te;++je){var Je=R[ee+0]|R[ee+1]<<8|R[ee+2]<<16;Je>me&&(Je=me),oe(w.Jc[+je],R,ye,Je),ye+=Je,me-=Je,ee+=3}oe(w.Jc[+Te],R,ye,me),R=ye<U?0:5}if(R!=0)return ar(w,R,"cannot parse partitions");for(R=be(ye=w.m,7),ee=Re(ye)?_e(ye,4):0,U=Re(ye)?_e(ye,4):0,me=Re(ye)?_e(ye,4):0,Te=Re(ye)?_e(ye,4):0,ye=Re(ye)?_e(ye,4):0,je=w.Qa,Je=0;4>Je;++Je){if(je.Cb){var Ee=je.Zb[Je];je.Fb||(Ee+=R)}else{if(0<Je){w.pb[Je]=w.pb[0];continue}Ee=R}var He=w.pb[Je];He.Sc[0]=pt[Ut(Ee+ee,127)],He.Sc[1]=kt[Ut(Ee+0,127)],He.Eb[0]=2*pt[Ut(Ee+U,127)],He.Eb[1]=101581*kt[Ut(Ee+me,127)]>>16,8>He.Eb[1]&&(He.Eb[1]=8),He.Qc[0]=pt[Ut(Ee+Te,117)],He.Qc[1]=kt[Ut(Ee+ye,127)],He.lc=Ee+ye}if(!le.Rb)return ar(w,4,"Not a key frame.");for(Re(ie),le=w.Pa,R=0;4>R;++R){for(ee=0;8>ee;++ee)for(U=0;3>U;++U)for(me=0;11>me;++me)Te=Ie(ie,pn[R][ee][U][me])?be(ie,8):ls[R][ee][U][me],le.Wc[R][ee].Yb[U][me]=Te;for(ee=0;17>ee;++ee)le.Xc[R][ee]=le.Wc[R][Zr[ee]]}return w.kc=Re(ie),w.kc&&(w.Bd=be(ie,8)),w.cb=1}function yr(w,A,R,U,ee,ie,le){var me=A[ee].Yb[R];for(R=0;16>ee;++ee){if(!Ie(w,me[R+0]))return ee;for(;!Ie(w,me[R+1]);)if(me=A[++ee].Yb[0],R=0,ee==16)return 16;var ye=A[ee+1].Yb;if(Ie(w,me[R+2])){var Te=w,je=0;if(Ie(Te,(Ee=me)[(Je=R)+3]))if(Ie(Te,Ee[Je+6])){for(me=0,Je=2*(je=Ie(Te,Ee[Je+8]))+(Ee=Ie(Te,Ee[Je+9+je])),je=0,Ee=Ur[Je];Ee[me];++me)je+=je+Ie(Te,Ee[me]);je+=3+(8<<Je)}else Ie(Te,Ee[Je+7])?(je=7+2*Ie(Te,165),je+=Ie(Te,145)):je=5+Ie(Te,159);else je=Ie(Te,Ee[Je+4])?3+Ie(Te,Ee[Je+5]):2;me=ye[2]}else je=1,me=ye[1];ye=le+aa[ee],0>(Te=w).b&&Oe(Te);var Je,Ee=Te.b,He=(Je=Te.Ca>>1)-(Te.I>>Ee)>>31;--Te.b,Te.Ca+=He,Te.Ca|=1,Te.I-=(Je+1&He)<<Ee,ie[ye]=((je^He)-He)*U[(0<ee)+0]}return 16}function Dn(w){var A=w.rb[w.sb-1];A.la=0,A.Na=0,n(w.zc,0,0,w.zc.length),w.ja=0}function ea(w,A,R,U,ee){ee=w[A+R+32*U]+(ee>>3),w[A+R+32*U]=-256&ee?0>ee?0:255:ee}function ni(w,A,R,U,ee,ie){ea(w,A,0,R,U+ee),ea(w,A,1,R,U+ie),ea(w,A,2,R,U-ie),ea(w,A,3,R,U-ee)}function un(w){return(20091*w>>16)+w}function tu(w,A,R,U){var ee,ie=0,le=a(16);for(ee=0;4>ee;++ee){var me=w[A+0]+w[A+8],ye=w[A+0]-w[A+8],Te=(35468*w[A+4]>>16)-un(w[A+12]),je=un(w[A+4])+(35468*w[A+12]>>16);le[ie+0]=me+je,le[ie+1]=ye+Te,le[ie+2]=ye-Te,le[ie+3]=me-je,ie+=4,A++}for(ee=ie=0;4>ee;++ee)me=(w=le[ie+0]+4)+le[ie+8],ye=w-le[ie+8],Te=(35468*le[ie+4]>>16)-un(le[ie+12]),ea(R,U,0,0,me+(je=un(le[ie+4])+(35468*le[ie+12]>>16))),ea(R,U,1,0,ye+Te),ea(R,U,2,0,ye-Te),ea(R,U,3,0,me-je),ie++,U+=32}function Tl(w,A,R,U){var ee=w[A+0]+4,ie=35468*w[A+4]>>16,le=un(w[A+4]),me=35468*w[A+1]>>16;ni(R,U,0,ee+le,w=un(w[A+1]),me),ni(R,U,1,ee+ie,w,me),ni(R,U,2,ee-ie,w,me),ni(R,U,3,ee-le,w,me)}function zs(w,A,R,U,ee){tu(w,A,R,U),ee&&tu(w,A+16,R,U+4)}function Kr(w,A,R,U){uo(w,A+0,R,U,1),uo(w,A+32,R,U+128,1)}function Gs(w,A,R,U){var ee;for(w=w[A+0]+4,ee=0;4>ee;++ee)for(A=0;4>A;++A)ea(R,U,A,ee,w)}function Co(w,A,R,U){w[A+0]&&cn(w,A+0,R,U),w[A+16]&&cn(w,A+16,R,U+4),w[A+32]&&cn(w,A+32,R,U+128),w[A+48]&&cn(w,A+48,R,U+128+4)}function Aa(w,A,R,U){var ee,ie=a(16);for(ee=0;4>ee;++ee){var le=w[A+0+ee]+w[A+12+ee],me=w[A+4+ee]+w[A+8+ee],ye=w[A+4+ee]-w[A+8+ee],Te=w[A+0+ee]-w[A+12+ee];ie[0+ee]=le+me,ie[8+ee]=le-me,ie[4+ee]=Te+ye,ie[12+ee]=Te-ye}for(ee=0;4>ee;++ee)le=(w=ie[0+4*ee]+3)+ie[3+4*ee],me=ie[1+4*ee]+ie[2+4*ee],ye=ie[1+4*ee]-ie[2+4*ee],Te=w-ie[3+4*ee],R[U+0]=le+me>>3,R[U+16]=Te+ye>>3,R[U+32]=le-me>>3,R[U+48]=Te-ye>>3,U+=64}function Mo(w,A,R){var U,ee=A-32,ie=na,le=255-w[ee-1];for(U=0;U<R;++U){var me,ye=ie,Te=le+w[A-1];for(me=0;me<R;++me)w[A+me]=ye[Te+w[ee+me]];A+=32}}function rl(w,A){Mo(w,A,4)}function ru(w,A){Mo(w,A,8)}function Al(w,A){Mo(w,A,16)}function nl(w,A){var R;for(R=0;16>R;++R)i(w,A+32*R,w,A-32,16)}function nu(w,A){var R;for(R=16;0<R;--R)n(w,A,w[A-1],16),A+=32}function fa(w,A,R){var U;for(U=0;16>U;++U)n(A,R+32*U,w,16)}function Ua(w,A){var R,U=16;for(R=0;16>R;++R)U+=w[A-1+32*R]+w[A+R-32];fa(U>>5,w,A)}function to(w,A){var R,U=8;for(R=0;16>R;++R)U+=w[A-1+32*R];fa(U>>4,w,A)}function ko(w,A){var R,U=8;for(R=0;16>R;++R)U+=w[A+R-32];fa(U>>4,w,A)}function il(w,A){fa(128,w,A)}function Ct(w,A,R){return w+2*A+R+2>>2}function Ja(w,A){var R,U=A-32;for(U=new Uint8Array([Ct(w[U-1],w[U+0],w[U+1]),Ct(w[U+0],w[U+1],w[U+2]),Ct(w[U+1],w[U+2],w[U+3]),Ct(w[U+2],w[U+3],w[U+4])]),R=0;4>R;++R)i(w,A+32*R,U,0,U.length)}function fn(w,A){var R=w[A-1],U=w[A-1+32],ee=w[A-1+64],ie=w[A-1+96];ot(w,A+0,16843009*Ct(w[A-1-32],R,U)),ot(w,A+32,16843009*Ct(R,U,ee)),ot(w,A+64,16843009*Ct(U,ee,ie)),ot(w,A+96,16843009*Ct(ee,ie,ie))}function ju(w,A){var R,U=4;for(R=0;4>R;++R)U+=w[A+R-32]+w[A-1+32*R];for(U>>=3,R=0;4>R;++R)n(w,A+32*R,U,4)}function La(w,A){var R=w[A-1+0],U=w[A-1+32],ee=w[A-1+64],ie=w[A-1-32],le=w[A+0-32],me=w[A+1-32],ye=w[A+2-32],Te=w[A+3-32];w[A+0+96]=Ct(U,ee,w[A-1+96]),w[A+1+96]=w[A+0+64]=Ct(R,U,ee),w[A+2+96]=w[A+1+64]=w[A+0+32]=Ct(ie,R,U),w[A+3+96]=w[A+2+64]=w[A+1+32]=w[A+0+0]=Ct(le,ie,R),w[A+3+64]=w[A+2+32]=w[A+1+0]=Ct(me,le,ie),w[A+3+32]=w[A+2+0]=Ct(ye,me,le),w[A+3+0]=Ct(Te,ye,me)}function Mi(w,A){var R=w[A+1-32],U=w[A+2-32],ee=w[A+3-32],ie=w[A+4-32],le=w[A+5-32],me=w[A+6-32],ye=w[A+7-32];w[A+0+0]=Ct(w[A+0-32],R,U),w[A+1+0]=w[A+0+32]=Ct(R,U,ee),w[A+2+0]=w[A+1+32]=w[A+0+64]=Ct(U,ee,ie),w[A+3+0]=w[A+2+32]=w[A+1+64]=w[A+0+96]=Ct(ee,ie,le),w[A+3+32]=w[A+2+64]=w[A+1+96]=Ct(ie,le,me),w[A+3+64]=w[A+2+96]=Ct(le,me,ye),w[A+3+96]=Ct(me,ye,ye)}function Ll(w,A){var R=w[A-1+0],U=w[A-1+32],ee=w[A-1+64],ie=w[A-1-32],le=w[A+0-32],me=w[A+1-32],ye=w[A+2-32],Te=w[A+3-32];w[A+0+0]=w[A+1+64]=ie+le+1>>1,w[A+1+0]=w[A+2+64]=le+me+1>>1,w[A+2+0]=w[A+3+64]=me+ye+1>>1,w[A+3+0]=ye+Te+1>>1,w[A+0+96]=Ct(ee,U,R),w[A+0+64]=Ct(U,R,ie),w[A+0+32]=w[A+1+96]=Ct(R,ie,le),w[A+1+32]=w[A+2+96]=Ct(ie,le,me),w[A+2+32]=w[A+3+96]=Ct(le,me,ye),w[A+3+32]=Ct(me,ye,Te)}function Qa(w,A){var R=w[A+0-32],U=w[A+1-32],ee=w[A+2-32],ie=w[A+3-32],le=w[A+4-32],me=w[A+5-32],ye=w[A+6-32],Te=w[A+7-32];w[A+0+0]=R+U+1>>1,w[A+1+0]=w[A+0+64]=U+ee+1>>1,w[A+2+0]=w[A+1+64]=ee+ie+1>>1,w[A+3+0]=w[A+2+64]=ie+le+1>>1,w[A+0+32]=Ct(R,U,ee),w[A+1+32]=w[A+0+96]=Ct(U,ee,ie),w[A+2+32]=w[A+1+96]=Ct(ee,ie,le),w[A+3+32]=w[A+2+96]=Ct(ie,le,me),w[A+3+64]=Ct(le,me,ye),w[A+3+96]=Ct(me,ye,Te)}function Na(w,A){var R=w[A-1+0],U=w[A-1+32],ee=w[A-1+64],ie=w[A-1+96];w[A+0+0]=R+U+1>>1,w[A+2+0]=w[A+0+32]=U+ee+1>>1,w[A+2+32]=w[A+0+64]=ee+ie+1>>1,w[A+1+0]=Ct(R,U,ee),w[A+3+0]=w[A+1+32]=Ct(U,ee,ie),w[A+3+32]=w[A+1+64]=Ct(ee,ie,ie),w[A+3+64]=w[A+2+64]=w[A+0+96]=w[A+1+96]=w[A+2+96]=w[A+3+96]=ie}function Hs(w,A){var R=w[A-1+0],U=w[A-1+32],ee=w[A-1+64],ie=w[A-1+96],le=w[A-1-32],me=w[A+0-32],ye=w[A+1-32],Te=w[A+2-32];w[A+0+0]=w[A+2+32]=R+le+1>>1,w[A+0+32]=w[A+2+64]=U+R+1>>1,w[A+0+64]=w[A+2+96]=ee+U+1>>1,w[A+0+96]=ie+ee+1>>1,w[A+3+0]=Ct(me,ye,Te),w[A+2+0]=Ct(le,me,ye),w[A+1+0]=w[A+3+32]=Ct(R,le,me),w[A+1+32]=w[A+3+64]=Ct(U,R,le),w[A+1+64]=w[A+3+96]=Ct(ee,U,R),w[A+1+96]=Ct(ie,ee,U)}function Mn(w,A){var R;for(R=0;8>R;++R)i(w,A+32*R,w,A-32,8)}function ro(w,A){var R;for(R=0;8>R;++R)n(w,A,w[A-1],8),A+=32}function es(w,A,R){var U;for(U=0;8>U;++U)n(A,R+32*U,w,8)}function Nl(w,A){var R,U=8;for(R=0;8>R;++R)U+=w[A+R-32]+w[A-1+32*R];es(U>>4,w,A)}function iu(w,A){var R,U=4;for(R=0;8>R;++R)U+=w[A+R-32];es(U>>3,w,A)}function ki(w,A){var R,U=4;for(R=0;8>R;++R)U+=w[A-1+32*R];es(U>>3,w,A)}function ws(w,A){es(128,w,A)}function bs(w,A,R){var U=w[A-R],ee=w[A+0],ie=3*(ee-U)+Ns[1020+w[A-2*R]-w[A+R]],le=zo[112+(ie+4>>3)];w[A-R]=na[255+U+zo[112+(ie+3>>3)]],w[A+0]=na[255+ee-le]}function no(w,A,R,U){var ee=w[A+0],ie=w[A+R];return Bi[255+w[A-2*R]-w[A-R]]>U||Bi[255+ie-ee]>U}function Br(w,A,R,U){return 4*Bi[255+w[A-R]-w[A+0]]+Bi[255+w[A-2*R]-w[A+R]]<=U}function Cl(w,A,R,U,ee){var ie=w[A-3*R],le=w[A-2*R],me=w[A-R],ye=w[A+0],Te=w[A+R],je=w[A+2*R],Je=w[A+3*R];return 4*Bi[255+me-ye]+Bi[255+le-Te]>U?0:Bi[255+w[A-4*R]-ie]<=ee&&Bi[255+ie-le]<=ee&&Bi[255+le-me]<=ee&&Bi[255+Je-je]<=ee&&Bi[255+je-Te]<=ee&&Bi[255+Te-ye]<=ee}function Pi(w,A,R,U){var ee=2*U+1;for(U=0;16>U;++U)Br(w,A+U,R,ee)&&bs(w,A+U,R)}function ts(w,A,R,U){var ee=2*U+1;for(U=0;16>U;++U)Br(w,A+U*R,1,ee)&&bs(w,A+U*R,1)}function al(w,A,R,U){var ee;for(ee=3;0<ee;--ee)Pi(w,A+=4*R,R,U)}function Iu(w,A,R,U){var ee;for(ee=3;0<ee;--ee)ts(w,A+=4,R,U)}function qs(w,A,R,U,ee,ie,le,me){for(ie=2*ie+1;0<ee--;){if(Cl(w,A,R,ie,le))if(no(w,A,R,me))bs(w,A,R);else{var ye=w,Te=A,je=R,Je=ye[Te-2*je],Ee=ye[Te-je],He=ye[Te+0],Ke=ye[Te+je],lt=ye[Te+2*je],Xe=27*(ft=Ns[1020+3*(He-Ee)+Ns[1020+Je-Ke]])+63>>7,st=18*ft+63>>7,ft=9*ft+63>>7;ye[Te-3*je]=na[255+ye[Te-3*je]+ft],ye[Te-2*je]=na[255+Je+st],ye[Te-je]=na[255+Ee+Xe],ye[Te+0]=na[255+He-Xe],ye[Te+je]=na[255+Ke-st],ye[Te+2*je]=na[255+lt-ft]}A+=U}}function Po(w,A,R,U,ee,ie,le,me){for(ie=2*ie+1;0<ee--;){if(Cl(w,A,R,ie,le))if(no(w,A,R,me))bs(w,A,R);else{var ye=w,Te=A,je=R,Je=ye[Te-je],Ee=ye[Te+0],He=ye[Te+je],Ke=zo[112+(4+(lt=3*(Ee-Je))>>3)],lt=zo[112+(lt+3>>3)],Xe=Ke+1>>1;ye[Te-2*je]=na[255+ye[Te-2*je]+Xe],ye[Te-je]=na[255+Je+lt],ye[Te+0]=na[255+Ee-Ke],ye[Te+je]=na[255+He-Xe]}A+=U}}function Fu(w,A,R,U,ee,ie){qs(w,A,R,1,16,U,ee,ie)}function Oo(w,A,R,U,ee,ie){qs(w,A,1,R,16,U,ee,ie)}function _c(w,A,R,U,ee,ie){var le;for(le=3;0<le;--le)Po(w,A+=4*R,R,1,16,U,ee,ie)}function k(w,A,R,U,ee,ie){var le;for(le=3;0<le;--le)Po(w,A+=4,1,R,16,U,ee,ie)}function J(w,A,R,U,ee,ie,le,me){qs(w,A,ee,1,8,ie,le,me),qs(R,U,ee,1,8,ie,le,me)}function Se(w,A,R,U,ee,ie,le,me){qs(w,A,1,ee,8,ie,le,me),qs(R,U,1,ee,8,ie,le,me)}function De(w,A,R,U,ee,ie,le,me){Po(w,A+4*ee,ee,1,8,ie,le,me),Po(R,U+4*ee,ee,1,8,ie,le,me)}function Ve(w,A,R,U,ee,ie,le,me){Po(w,A+4,1,ee,8,ie,le,me),Po(R,U+4,1,ee,8,ie,le,me)}function at(){this.ba=new xr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function St(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function er(){this.ua=0,this.Wa=new xt,this.vb=new xt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new ue}function br(){this.xb=this.a=0,this.l=new qr,this.ca=new xr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new er,this.ab=0,this.gc=s(4,$t),this.Oc=0}function kr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xr(w,A,R,U,ee,ie,le){for(w=w==null?0:w[A+0],A=0;A<le;++A)ee[ie+A]=w+R[U+A]&255,w=ee[ie+A]}function Jn(w,A,R,U,ee,ie,le){var me;if(w==null)Xr(null,null,R,U,ee,ie,le);else for(me=0;me<le;++me)ee[ie+me]=w[A+me]+R[U+me]&255}function ui(w,A,R,U,ee,ie,le){if(w==null)Xr(null,null,R,U,ee,ie,le);else{var me,ye=w[A+0],Te=ye,je=ye;for(me=0;me<le;++me)Te=je+(ye=w[A+me])-Te,je=R[U+me]+(-256&Te?0>Te?0:255:Te)&255,Te=ye,ee[ie+me]=je}}function wn(w,A,R,U){var ee=A.width,ie=A.o;if(e(w!=null&&A!=null),0>R||0>=U||R+U>ie)return null;if(!w.Cc){if(w.ga==null){var le;if(w.ga=new kr,(le=w.ga==null)||(le=A.width*A.o,e(w.Gb.length==0),w.Gb=a(le),w.Uc=0,w.Gb==null?le=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,le=1),le=!le),!le){le=w.ga;var me=w.Fa,ye=w.P,Te=w.qc,je=w.mb,Je=w.nb,Ee=ye+1,He=Te-1,Ke=le.l;if(e(me!=null&&je!=null&&A!=null),bn[0]=null,bn[1]=Xr,bn[2]=Jn,bn[3]=ui,le.ca=je,le.tb=Je,le.c=A.width,le.i=A.height,e(0<le.c&&0<le.i),1>=Te)A=0;else if(le.$a=3&me[ye+0],le.Z=me[ye+0]>>2&3,le.Lc=me[ye+0]>>4&3,ye=me[ye+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||ye)A=0;else if(Ke.put=Qt,Ke.ac=Ni,Ke.bc=Xa,Ke.ma=le,Ke.width=A.width,Ke.height=A.height,Ke.Da=A.Da,Ke.v=A.v,Ke.va=A.va,Ke.j=A.j,Ke.o=A.o,le.$a)e:{e(le.$a==1),A=Be();t:for(;;){if(A==null){A=0;break e}if(e(le!=null),le.mc=A,A.c=le.c,A.i=le.i,A.l=le.l,A.l.ma=le,A.l.width=le.c,A.l.height=le.i,A.a=0,Le(A.m,me,Ee,He),!Ue(le.c,le.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&ne(A.s)?(le.ic=1,me=A.c*A.i,A.Ta=null,A.Ua=0,A.V=a(me),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(le.ic=0,A=$e(A,le.c)),!A))break t;A=1;break e}le.mc=null,A=0}else A=He>=le.c*le.i;le=!A}if(le)return null;w.ga.Lc!=1?w.Ga=0:U=ie-R}e(w.ga!=null),e(R+U<=ie);e:{if(A=(me=w.ga).c,ie=me.l.o,me.$a==0){if(Ee=w.rc,He=w.Vc,Ke=w.Fa,ye=w.P+1+R*A,Te=w.mb,je=w.nb+R*A,e(ye<=w.P+w.qc),me.Z!=0)for(e(bn[me.Z]!=null),le=0;le<U;++le)bn[me.Z](Ee,He,Ke,ye,Te,je,A),Ee=Te,He=je,je+=A,ye+=A;else for(le=0;le<U;++le)i(Te,je,Ke,ye,A),Ee=Te,He=je,je+=A,ye+=A;w.rc=Ee,w.Vc=He}else{if(e(me.mc!=null),A=R+U,e((le=me.mc)!=null),e(A<=le.i),le.C>=A)A=1;else if(me.ic||ta(),me.ic){me=le.V,Ee=le.Ba,He=le.c;var lt=le.i,Xe=(Ke=1,ye=le.$/He,Te=le.$%He,je=le.m,Je=le.s,le.$),st=He*lt,ft=He*A,Lt=Je.wc,_t=Xe<ft?Y(Je,Te,ye):null;e(Xe<=st),e(A<=lt),e(ne(Je));t:for(;;){for(;!je.h&&Xe<ft;){if(Te&Lt||(_t=Y(Je,Te,ye)),e(_t!=null),Ae(je),256>(lt=qe(_t.G[0],_t.H[0],je)))me[Ee+Xe]=lt,++Xe,++Te>=He&&(Te=0,++ye<=A&&!(ye%16)&&ge(le,ye));else{if(!(280>lt)){Ke=0;break t}lt=Ce(lt-256,je);var nr,Ht=qe(_t.G[4],_t.H[4],je);if(Ae(je),!(Xe>=(Ht=Ge(He,Ht=Ce(Ht,je)))&&st-Xe>=lt)){Ke=0;break t}for(nr=0;nr<lt;++nr)me[Ee+Xe+nr]=me[Ee+Xe+nr-Ht];for(Xe+=lt,Te+=lt;Te>=He;)Te-=He,++ye<=A&&!(ye%16)&&ge(le,ye);Xe<ft&&Te&Lt&&(_t=Y(Je,Te,ye))}e(je.h==Z(je))}ge(le,ye>A?A:ye);break t}!Ke||je.h&&Xe<st?(Ke=0,le.a=je.h?5:3):le.$=Xe,A=Ke}else A=Pe(le,le.V,le.Ba,le.c,le.i,A,ht);if(!A){U=0;break e}}R+U>=ie&&(w.Cc=1),U=1}if(!U)return null;if(w.Cc&&((U=w.ga)!=null&&(U.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+R*ee}function Oi(w,A,R,U,ee,ie){for(;0<ee--;){var le,me=w,ye=A+(R?1:0),Te=w,je=A+(R?0:3);for(le=0;le<U;++le){var Je=Te[je+4*le];Je!=255&&(Je*=32897,me[ye+4*le+0]=me[ye+4*le+0]*Je>>23,me[ye+4*le+1]=me[ye+4*le+1]*Je>>23,me[ye+4*le+2]=me[ye+4*le+2]*Je>>23)}A+=ie}}function ci(w,A,R,U,ee){for(;0<U--;){var ie;for(ie=0;ie<R;++ie){var le=w[A+2*ie+0],me=15&(Te=w[A+2*ie+1]),ye=4369*me,Te=(240&Te|Te>>4)*ye>>16;w[A+2*ie+0]=(240&le|le>>4)*ye>>16&240|(15&le|le<<4)*ye>>16>>4&15,w[A+2*ie+1]=240&Te|me}A+=ee}}function Ii(w,A,R,U,ee,ie,le,me){var ye,Te,je=255;for(Te=0;Te<ee;++Te){for(ye=0;ye<U;++ye){var Je=w[A+ye];ie[le+4*ye]=Je,je&=Je}A+=R,le+=me}return je!=255}function Ss(w,A,R,U,ee){var ie;for(ie=0;ie<ee;++ie)R[U+ie]=w[A+ie]>>8}function ta(){Ls=Oi,as=ci,lu=Ii,ss=Ss}function Ro(w,A,R){B[w]=function(U,ee,ie,le,me,ye,Te,je,Je,Ee,He,Ke,lt,Xe,st,ft,Lt){var _t,nr=Lt-1>>1,Ht=me[ye+0]|Te[je+0]<<16,Pr=Je[Ee+0]|He[Ke+0]<<16;e(U!=null);var Kt=3*Ht+Pr+131074>>2;for(A(U[ee+0],255&Kt,Kt>>16,lt,Xe),ie!=null&&(Kt=3*Pr+Ht+131074>>2,A(ie[le+0],255&Kt,Kt>>16,st,ft)),_t=1;_t<=nr;++_t){var Qr=me[ye+_t]|Te[je+_t]<<16,Qn=Je[Ee+_t]|He[Ke+_t]<<16,jr=Ht+Qr+Pr+Qn+524296,qt=jr+2*(Qr+Pr)>>3;Kt=qt+Ht>>1,Ht=(jr=jr+2*(Ht+Qn)>>3)+Qr>>1,A(U[ee+2*_t-1],255&Kt,Kt>>16,lt,Xe+(2*_t-1)*R),A(U[ee+2*_t-0],255&Ht,Ht>>16,lt,Xe+(2*_t-0)*R),ie!=null&&(Kt=jr+Pr>>1,Ht=qt+Qn>>1,A(ie[le+2*_t-1],255&Kt,Kt>>16,st,ft+(2*_t-1)*R),A(ie[le+2*_t+0],255&Ht,Ht>>16,st,ft+(2*_t+0)*R)),Ht=Qr,Pr=Qn}1&Lt||(Kt=3*Ht+Pr+131074>>2,A(U[ee+Lt-1],255&Kt,Kt>>16,lt,Xe+(Lt-1)*R),ie!=null&&(Kt=3*Pr+Ht+131074>>2,A(ie[le+Lt-1],255&Kt,Kt>>16,st,ft+(Lt-1)*R)))}}function Do(){bi[xc]=Rl,bi[ia]=du,bi[zu]=hh,bi[os]=pu,bi[cu]=Go,bi[Ol]=fo,bi[ul]=mu,bi[hu]=du,bi[Gu]=pu,bi[fu]=Go,bi[h]=fo}function ra(w){return w&-16384?0>w?0:255:w>>ef}function Vs(w,A){return ra((19077*w>>8)+(26149*A>>8)-14234)}function Es(w,A,R){return ra((19077*w>>8)-(6419*A>>8)-(13320*R>>8)+8708)}function Ml(w,A){return ra((19077*w>>8)+(33050*A>>8)-17685)}function $s(w,A,R,U,ee){U[ee+0]=Vs(w,R),U[ee+1]=Es(w,A,R),U[ee+2]=Ml(w,A)}function yi(w,A,R,U,ee){U[ee+0]=Ml(w,A),U[ee+1]=Es(w,A,R),U[ee+2]=Vs(w,R)}function sl(w,A,R,U,ee){var ie=Es(w,A,R);A=ie<<3&224|Ml(w,A)>>3,U[ee+0]=248&Vs(w,R)|ie>>5,U[ee+1]=A}function ol(w,A,R,U,ee){var ie=240&Ml(w,A)|15;U[ee+0]=240&Vs(w,R)|Es(w,A,R)>>4,U[ee+1]=ie}function kl(w,A,R,U,ee){U[ee+0]=255,$s(w,A,R,U,ee+1)}function io(w,A,R,U,ee){yi(w,A,R,U,ee),U[ee+3]=255}function jn(w,A,R,U,ee){$s(w,A,R,U,ee),U[ee+3]=255}function za(w,A,R){B[w]=function(U,ee,ie,le,me,ye,Te,je,Je){for(var Ee=je+(-2&Je)*R;je!=Ee;)A(U[ee+0],ie[le+0],me[ye+0],Te,je),A(U[ee+1],ie[le+0],me[ye+0],Te,je+R),ee+=2,++le,++ye,je+=2*R;1&Je&&A(U[ee+0],ie[le+0],me[ye+0],Te,je)}}function au(w,A,R){return R==0?w==0?A==0?6:5:A==0?4:0:R}function rs(w,A,R,U,ee){switch(w>>>30){case 3:uo(A,R,U,ee,0);break;case 2:pa(A,R,U,ee);break;case 1:cn(A,R,U,ee)}}function ns(w,A){var R,U,ee=A.M,ie=A.Nb,le=w.oc,me=w.pc+40,ye=w.oc,Te=w.pc+584,je=w.oc,Je=w.pc+600;for(R=0;16>R;++R)le[me+32*R-1]=129;for(R=0;8>R;++R)ye[Te+32*R-1]=129,je[Je+32*R-1]=129;for(0<ee?le[me-1-32]=ye[Te-1-32]=je[Je-1-32]=129:(n(le,me-32-1,127,21),n(ye,Te-32-1,127,9),n(je,Je-32-1,127,9)),U=0;U<w.za;++U){var Ee=A.ya[A.aa+U];if(0<U){for(R=-1;16>R;++R)i(le,me+32*R-4,le,me+32*R+12,4);for(R=-1;8>R;++R)i(ye,Te+32*R-4,ye,Te+32*R+4,4),i(je,Je+32*R-4,je,Je+32*R+4,4)}var He=w.Gd,Ke=w.Hd+U,lt=Ee.ad,Xe=Ee.Hc;if(0<ee&&(i(le,me-32,He[Ke].y,0,16),i(ye,Te-32,He[Ke].f,0,8),i(je,Je-32,He[Ke].ea,0,8)),Ee.Za){var st=le,ft=me-32+16;for(0<ee&&(U>=w.za-1?n(st,ft,He[Ke].y[15],4):i(st,ft,He[Ke+1].y,0,4)),R=0;4>R;R++)st[ft+128+R]=st[ft+256+R]=st[ft+384+R]=st[ft+0+R];for(R=0;16>R;++R,Xe<<=2)st=le,ft=me+Ri[R],si[Ee.Ob[R]](st,ft),rs(Xe,lt,16*+R,st,ft)}else if(st=au(U,ee,Ee.Ob[0]),Oa[st](le,me),Xe!=0)for(R=0;16>R;++R,Xe<<=2)rs(Xe,lt,16*+R,le,me+Ri[R]);for(R=Ee.Gc,st=au(U,ee,Ee.Dd),Cs[st](ye,Te),Cs[st](je,Je),Xe=lt,st=ye,ft=Te,255&(Ee=0|R)&&(170&Ee?ka(Xe,256,st,ft):Jr(Xe,256,st,ft)),Ee=je,Xe=Je,255&(R>>=8)&&(170&R?ka(lt,320,Ee,Xe):Jr(lt,320,Ee,Xe)),ee<w.Ub-1&&(i(He[Ke].y,0,le,me+480,16),i(He[Ke].f,0,ye,Te+224,8),i(He[Ke].ea,0,je,Je+224,8)),R=8*ie*w.B,He=w.sa,Ke=w.ta+16*U+16*ie*w.R,lt=w.qa,Ee=w.ra+8*U+R,Xe=w.Ha,st=w.Ia+8*U+R,R=0;16>R;++R)i(He,Ke+R*w.R,le,me+32*R,16);for(R=0;8>R;++R)i(lt,Ee+R*w.B,ye,Te+32*R,8),i(Xe,st+R*w.B,je,Je+32*R,8)}}function da(w,A,R,U,ee,ie,le,me,ye){var Te=[0],je=[0],Je=0,Ee=ye!=null?ye.kd:0,He=ye??new St;if(w==null||12>R)return 7;He.data=w,He.w=A,He.ha=R,A=[A],R=[R],He.gb=[He.gb];e:{var Ke=A,lt=R,Xe=He.gb;if(e(w!=null),e(lt!=null),e(Xe!=null),Xe[0]=0,12<=lt[0]&&!r(w,Ke[0],"RIFF")){if(r(w,Ke[0]+8,"WEBP")){Xe=3;break e}var st=Nt(w,Ke[0]+4);if(12>st||4294967286<st){Xe=3;break e}if(Ee&&st>lt[0]-8){Xe=7;break e}Xe[0]=st,Ke[0]+=12,lt[0]-=12}Xe=0}if(Xe!=0)return Xe;for(st=0<He.gb[0],R=R[0];;){e:{var ft=w;lt=A,Xe=R;var Lt=Te,_t=je,nr=Ke=[0];if((Kt=Je=[Je])[0]=0,8>Xe[0])Xe=7;else{if(!r(ft,lt[0],"VP8X")){if(Nt(ft,lt[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var Ht=Nt(ft,lt[0]+8),Pr=1+Tt(ft,lt[0]+12);if(2147483648<=Pr*(ft=1+Tt(ft,lt[0]+15))){Xe=3;break e}nr!=null&&(nr[0]=Ht),Lt!=null&&(Lt[0]=Pr),_t!=null&&(_t[0]=ft),lt[0]+=18,Xe[0]-=18,Kt[0]=1}Xe=0}}if(Je=Je[0],Ke=Ke[0],Xe!=0)return Xe;if(lt=!!(2&Ke),!st&&Je)return 3;if(ie!=null&&(ie[0]=!!(16&Ke)),le!=null&&(le[0]=lt),me!=null&&(me[0]=0),le=Te[0],Ke=je[0],Je&&lt&&ye==null){Xe=0;break}if(4>R){Xe=7;break}if(st&&Je||!st&&!Je&&!r(w,A[0],"ALPH")){R=[R],He.na=[He.na],He.P=[He.P],He.Sa=[He.Sa];e:{Ht=w,Xe=A,st=R;var Kt=He.gb;Lt=He.na,_t=He.P,nr=He.Sa,Pr=22,e(Ht!=null),e(st!=null),ft=Xe[0];var Qr=st[0];for(e(Lt!=null),e(nr!=null),Lt[0]=null,_t[0]=null,nr[0]=0;;){if(Xe[0]=ft,st[0]=Qr,8>Qr){Xe=7;break e}var Qn=Nt(Ht,ft+4);if(4294967286<Qn){Xe=3;break e}var jr=8+Qn+1&-2;if(Pr+=jr,0<Kt&&Pr>Kt){Xe=3;break e}if(!r(Ht,ft,"VP8 ")||!r(Ht,ft,"VP8L")){Xe=0;break e}if(Qr[0]<jr){Xe=7;break e}r(Ht,ft,"ALPH")||(Lt[0]=Ht,_t[0]=ft+8,nr[0]=Qn),ft+=jr,Qr-=jr}}if(R=R[0],He.na=He.na[0],He.P=He.P[0],He.Sa=He.Sa[0],Xe!=0)break}R=[R],He.Ja=[He.Ja],He.xa=[He.xa];e:if(Kt=w,Xe=A,st=R,Lt=He.gb[0],_t=He.Ja,nr=He.xa,Ht=Xe[0],ft=!r(Kt,Ht,"VP8 "),Pr=!r(Kt,Ht,"VP8L"),e(Kt!=null),e(st!=null),e(_t!=null),e(nr!=null),8>st[0])Xe=7;else{if(ft||Pr){if(Kt=Nt(Kt,Ht+4),12<=Lt&&Kt>Lt-12){Xe=3;break e}if(Ee&&Kt>st[0]-8){Xe=7;break e}_t[0]=Kt,Xe[0]+=8,st[0]-=8,nr[0]=Pr}else nr[0]=5<=st[0]&&Kt[Ht+0]==47&&!(Kt[Ht+4]>>5),_t[0]=st[0];Xe=0}if(R=R[0],He.Ja=He.Ja[0],He.xa=He.xa[0],A=A[0],Xe!=0)break;if(4294967286<He.Ja)return 3;if(me==null||lt||(me[0]=He.xa?2:1),le=[le],Ke=[Ke],He.xa){if(5>R){Xe=7;break}me=le,Ee=Ke,lt=ie,w==null||5>R?w=0:5<=R&&w[A+0]==47&&!(w[A+4]>>5)?(st=[0],Kt=[0],Lt=[0],Le(_t=new G,w,A,R),Ba(_t,st,Kt,Lt)?(me!=null&&(me[0]=st[0]),Ee!=null&&(Ee[0]=Kt[0]),lt!=null&&(lt[0]=Lt[0]),w=1):w=0):w=0}else{if(10>R){Xe=7;break}me=Ke,w==null||10>R||!Ea(w,A+3,R-3)?w=0:(Ee=w[A+0]|w[A+1]<<8|w[A+2]<<16,lt=16383&(w[A+7]<<8|w[A+6]),w=16383&(w[A+9]<<8|w[A+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=He.Ja||!lt||!w?w=0:(le&&(le[0]=lt),me&&(me[0]=w),w=1))}if(!w||(le=le[0],Ke=Ke[0],Je&&(Te[0]!=le||je[0]!=Ke)))return 3;ye!=null&&(ye[0]=He,ye.offset=A-ye.w,e(4294967286>A-ye.w),e(ye.offset==ye.ha-R));break}return Xe==0||Xe==7&&Je&&ye==null?(ie!=null&&(ie[0]|=He.na!=null&&0<He.na.length),U!=null&&(U[0]=le),ee!=null&&(ee[0]=Ke),0):Xe}function jo(w,A,R){var U=A.width,ee=A.height,ie=0,le=0,me=U,ye=ee;if(A.Da=w!=null&&0<w.Da,A.Da&&(me=w.cd,ye=w.bd,ie=w.v,le=w.j,11>R||(ie&=-2,le&=-2),0>ie||0>le||0>=me||0>=ye||ie+me>U||le+ye>ee))return 0;if(A.v=ie,A.j=le,A.va=ie+me,A.o=le+ye,A.U=me,A.T=ye,A.da=w!=null&&0<w.da,A.da){if(!zt(me,ye,R=[w.ib],ie=[w.hb]))return 0;A.ib=R[0],A.hb=ie[0]}return A.ob=w!=null&&w.ob,A.Kb=w==null||!w.Sd,A.da&&(A.ob=A.ib<3*U/4&&A.hb<3*ee/4,A.Kb=0),1}function Io(w){if(w==null)return 2;if(11>w.S){var A=w.f.RGBA;A.fb+=(w.height-1)*A.A,A.A=-A.A}else A=w.f.kb,w=w.height,A.O+=(w-1)*A.fa,A.fa=-A.fa,A.N+=(w-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(w-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(w-1)*A.lb,A.lb=-A.lb);return 0}function Ts(w,A,R,U){if(U==null||0>=w||0>=A)return 2;if(R!=null){if(R.Da){var ee=R.cd,ie=R.bd,le=-2&R.v,me=-2&R.j;if(0>le||0>me||0>=ee||0>=ie||le+ee>w||me+ie>A)return 2;w=ee,A=ie}if(R.da){if(!zt(w,A,ee=[R.ib],ie=[R.hb]))return 2;w=ee[0],A=ie[0]}}U.width=w,U.height=A;e:{var ye=U.width,Te=U.height;if(w=U.S,0>=ye||0>=Te||!(w>=xc&&13>w))w=2;else{if(0>=U.Rd&&U.sd==null){le=ie=ee=A=0;var je=(me=ye*rf[w])*Te;if(11>w||(ie=(Te+1)/2*(A=(ye+1)/2),w==12&&(le=(ee=ye)*Te)),(Te=a(je+2*ie+le))==null){w=1;break e}U.sd=Te,11>w?((ye=U.f.RGBA).eb=Te,ye.fb=0,ye.A=me,ye.size=je):((ye=U.f.kb).y=Te,ye.O=0,ye.fa=me,ye.Fd=je,ye.f=Te,ye.N=0+je,ye.Ab=A,ye.Cd=ie,ye.ea=Te,ye.W=0+je+ie,ye.Db=A,ye.Ed=ie,w==12&&(ye.F=Te,ye.J=0+je+2*ie),ye.Tc=le,ye.lb=ee)}if(A=1,ee=U.S,ie=U.width,le=U.height,ee>=xc&&13>ee)if(11>ee)w=U.f.RGBA,A&=(me=Math.abs(w.A))*(le-1)+ie<=w.size,A&=me>=ie*rf[ee],A&=w.eb!=null;else{w=U.f.kb,me=(ie+1)/2,je=(le+1)/2,ye=Math.abs(w.fa),Te=Math.abs(w.Ab);var Je=Math.abs(w.Db),Ee=Math.abs(w.lb),He=Ee*(le-1)+ie;A&=ye*(le-1)+ie<=w.Fd,A&=Te*(je-1)+me<=w.Cd,A=(A&=Je*(je-1)+me<=w.Ed)&ye>=ie&Te>=me&Je>=me,A&=w.y!=null,A&=w.f!=null,A&=w.ea!=null,ee==12&&(A&=Ee>=ie,A&=He<=w.Tc,A&=w.F!=null)}else A=0;w=A?0:2}}return w!=0||R!=null&&R.fd&&(w=Io(U)),w}var Ws=64,Ga=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ii=24,is=32,ao=8,Zs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];jt("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(w){return w},B.Predictor2=function(w,A,R){return A[R+0]},B.Predictor3=function(w,A,R){return A[R+1]},B.Predictor4=function(w,A,R){return A[R-1]},B.Predictor5=function(w,A,R){return Xt(Xt(w,A[R+1]),A[R+0])},B.Predictor6=function(w,A,R){return Xt(w,A[R-1])},B.Predictor7=function(w,A,R){return Xt(w,A[R+0])},B.Predictor8=function(w,A,R){return Xt(A[R-1],A[R+0])},B.Predictor9=function(w,A,R){return Xt(A[R+0],A[R+1])},B.Predictor10=function(w,A,R){return Xt(Xt(w,A[R-1]),Xt(A[R+0],A[R+1]))},B.Predictor11=function(w,A,R){var U=A[R+0];return 0>=dr(U>>24&255,w>>24&255,(A=A[R-1])>>24&255)+dr(U>>16&255,w>>16&255,A>>16&255)+dr(U>>8&255,w>>8&255,A>>8&255)+dr(255&U,255&w,255&A)?U:w},B.Predictor12=function(w,A,R){var U=A[R+0];return(Jt((w>>24&255)+(U>>24&255)-((A=A[R-1])>>24&255))<<24|Jt((w>>16&255)+(U>>16&255)-(A>>16&255))<<16|Jt((w>>8&255)+(U>>8&255)-(A>>8&255))<<8|Jt((255&w)+(255&U)-(255&A)))>>>0},B.Predictor13=function(w,A,R){var U=A[R-1];return(Er((w=Xt(w,A[R+0]))>>24&255,U>>24&255)<<24|Er(w>>16&255,U>>16&255)<<16|Er(w>>8&255,U>>8&255)<<8|Er(255&w,255&U))>>>0};var su=B.PredictorAdd0;B.PredictorAdd1=Nr,jt("Predictor2","PredictorAdd2"),jt("Predictor3","PredictorAdd3"),jt("Predictor4","PredictorAdd4"),jt("Predictor5","PredictorAdd5"),jt("Predictor6","PredictorAdd6"),jt("Predictor7","PredictorAdd7"),jt("Predictor8","PredictorAdd8"),jt("Predictor9","PredictorAdd9"),jt("Predictor10","PredictorAdd10"),jt("Predictor11","PredictorAdd11"),jt("Predictor12","PredictorAdd12"),jt("Predictor13","PredictorAdd13");var Ha=B.PredictorAdd2;Wt("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),Wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var hi,Fo=B.ColorIndexInverseTransform,so=B.MapARGB,Fi=B.VP8LColorIndexInverseTransformAlpha,xi=B.MapAlpha,oo=B.VP8LPredictorsAdd=[];oo.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var ll,Bo,Ys,As,Ca,lo,Ma,uo,pa,ka,cn,Jr,kn,ai,co,wi,ho,Bu,ou,Jh,uh,Qh,Pl,ch,Ls,as,lu,ss,Pa=a(511),Uu=a(2041),uu=a(225),Uo=a(767),yc=0,Ns=Uu,zo=uu,na=Uo,Bi=Pa,xc=0,ia=1,zu=2,os=3,cu=4,Ol=5,ul=6,hu=7,Gu=8,fu=9,h=10,m=[2,3,7],b=[3,3,11],M=[280,256,256,256,40],z=[0,1,1,1,0],ae=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Me=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],We=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tt=8,pt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],kt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tr=null,Ur=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ls=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],dn=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],pn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Zr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Oa=[],si=[],Cs=[],cl=1,wc=2,bn=[],bi=[];Ro("UpsampleRgbLinePair",$s,3),Ro("UpsampleBgrLinePair",yi,3),Ro("UpsampleRgbaLinePair",jn,4),Ro("UpsampleBgraLinePair",io,4),Ro("UpsampleArgbLinePair",kl,4),Ro("UpsampleRgba4444LinePair",ol,2),Ro("UpsampleRgb565LinePair",sl,2);var Rl=B.UpsampleRgbLinePair,hh=B.UpsampleBgrLinePair,du=B.UpsampleRgbaLinePair,pu=B.UpsampleBgraLinePair,Go=B.UpsampleArgbLinePair,fo=B.UpsampleRgba4444LinePair,mu=B.UpsampleRgb565LinePair,po=16,bc=1<<po-1,Hu=-227,gu=482,ef=6,vu=0,Ra=a(256),tf=a(256),kp=a(256),gg=a(256),vg=a(gu-Hu),_g=a(gu-Hu);za("YuvToRgbRow",$s,3),za("YuvToBgrRow",yi,3),za("YuvToRgbaRow",jn,4),za("YuvToBgraRow",io,4),za("YuvToArgbRow",kl,4),za("YuvToRgba4444Row",ol,2),za("YuvToRgb565Row",sl,2);var Ri=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sc=[0,2,8],fh=[8,7,6,4,4,2,2,2,1,1,1,1],dh=1;this.WebPDecodeRGBA=function(w,A,R,U,ee){var ie=ia,le=new at,me=new xr;le.ba=me,me.S=ie,me.width=[me.width],me.height=[me.height];var ye=me.width,Te=me.height,je=new Zt;if(je==null||w==null)var Je=2;else e(je!=null),Je=da(w,A,R,je.width,je.height,je.Pd,je.Qd,je.format,null);if(Je!=0?ye=0:(ye!=null&&(ye[0]=je.width[0]),Te!=null&&(Te[0]=je.height[0]),ye=1),ye){me.width=me.width[0],me.height=me.height[0],U!=null&&(U[0]=me.width),ee!=null&&(ee[0]=me.height);e:{if(U=new qr,(ee=new St).data=w,ee.w=A,ee.ha=R,ee.kd=1,A=[0],e(ee!=null),((w=da(ee.data,ee.w,ee.ha,null,null,null,A,null,ee))==0||w==7)&&A[0]&&(w=4),(A=w)==0){if(e(le!=null),U.data=ee.data,U.w=ee.w+ee.offset,U.ha=ee.ha-ee.offset,U.put=Qt,U.ac=Ni,U.bc=Xa,U.ma=le,ee.xa){if((w=Be())==null){le=1;break e}if((function(Ee,He){var Ke=[0],lt=[0],Xe=[0];t:for(;;){if(Ee==null)return 0;if(He==null)return Ee.a=2,0;if(Ee.l=He,Ee.a=0,Le(Ee.m,He.data,He.w,He.ha),!Ba(Ee.m,Ke,lt,Xe)){Ee.a=3;break t}if(Ee.xb=wc,He.width=Ke[0],He.height=lt[0],!Ue(Ke[0],lt[0],1,Ee,null))break t;return 1}return e(Ee.a!=0),0})(w,U)){if(U=(A=Ts(U.width,U.height,le.Oa,le.ba))==0){t:{U=w;r:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((R=U.l)!=null),e((ee=R.ma)!=null),U.xb!=0){if(U.ca=ee.ba,U.tb=ee.tb,e(U.ca!=null),!jo(ee.Oa,R,os)){U.a=2;break r}if(!$e(U,R.width)||R.da)break r;if((R.da||ur(U.ca.S))&&ta(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&ta()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!we(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!Pe(U,U.V,U.Ba,U.c,U.i,R.o,re))break r;ee.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(A=w.a)}else A=w.a}else{if((w=new ri)==null){le=1;break e}if(w.Fa=ee.na,w.P=ee.P,w.qc=ee.Sa,Ta(w,U)){if((A=Ts(U.width,U.height,le.Oa,le.ba))==0){if(w.Aa=0,R=le.Oa,e((ee=w)!=null),R!=null){if(0<(ye=0>(ye=R.Md)?0:100<ye?255:255*ye/100)){for(Te=je=0;4>Te;++Te)12>(Je=ee.pb[Te]).lc&&(Je.ia=ye*fh[0>Je.lc?0:Je.lc]>>3),je|=Je.ia;je&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=R.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(Ee,He){if(Ee==null)return 0;if(He==null)return ar(Ee,2,"NULL VP8Io parameter in VP8Decode().");if(!Ee.cb&&!Ta(Ee,He))return 0;if(e(Ee.cb),He.ac==null||He.ac(He)){He.ob&&(Ee.L=0);var Ke=Sc[Ee.L];if(Ee.L==2?(Ee.yb=0,Ee.zb=0):(Ee.yb=He.v-Ke>>4,Ee.zb=He.j-Ke>>4,0>Ee.yb&&(Ee.yb=0),0>Ee.zb&&(Ee.zb=0)),Ee.Va=He.o+15+Ke>>4,Ee.Hb=He.va+15+Ke>>4,Ee.Hb>Ee.za&&(Ee.Hb=Ee.za),Ee.Va>Ee.Ub&&(Ee.Va=Ee.Ub),0<Ee.L){var lt=Ee.ed;for(Ke=0;4>Ke;++Ke){var Xe;if(Ee.Qa.Cb){var st=Ee.Qa.Lb[Ke];Ee.Qa.Fb||(st+=lt.Tb)}else st=lt.Tb;for(Xe=0;1>=Xe;++Xe){var ft=Ee.gd[Ke][Xe],Lt=st;if(lt.Pc&&(Lt+=lt.vd[0],Xe&&(Lt+=lt.od[0])),0<(Lt=0>Lt?0:63<Lt?63:Lt)){var _t=Lt;0<lt.wb&&(_t=4<lt.wb?_t>>2:_t>>1)>9-lt.wb&&(_t=9-lt.wb),1>_t&&(_t=1),ft.dd=_t,ft.tc=2*Lt+_t,ft.ld=40<=Lt?2:15<=Lt?1:0}else ft.tc=0;ft.La=Xe}}}Ke=0}else ar(Ee,6,"Frame setup failed"),Ke=Ee.a;if(Ke=Ke==0){if(Ke){Ee.$c=0,0<Ee.Aa||(Ee.Ic=dh);t:{Ke=Ee.Ic,lt=4*(_t=Ee.za);var nr=32*_t,Ht=_t+1,Pr=0<Ee.L?_t*(0<Ee.Aa?2:1):0,Kt=(Ee.Aa==2?2:1)*_t;if((ft=lt+832+(Xe=3*(16*Ke+Sc[Ee.L])/2*nr)+(st=Ee.Fa!=null&&0<Ee.Fa.length?Ee.Kc.c*Ee.Kc.i:0))!=ft)Ke=0;else{if(ft>Ee.Vb){if(Ee.Vb=0,Ee.Ec=a(ft),Ee.Fc=0,Ee.Ec==null){Ke=ar(Ee,1,"no memory during frame initialization.");break t}Ee.Vb=ft}ft=Ee.Ec,Lt=Ee.Fc,Ee.Ac=ft,Ee.Bc=Lt,Lt+=lt,Ee.Gd=s(nr,Ci),Ee.Hd=0,Ee.rb=s(Ht+1,nn),Ee.sb=1,Ee.wa=Pr?s(Pr,wr):null,Ee.Y=0,Ee.D.Nb=0,Ee.D.wa=Ee.wa,Ee.D.Y=Ee.Y,0<Ee.Aa&&(Ee.D.Y+=_t),e(!0),Ee.oc=ft,Ee.pc=Lt,Lt+=832,Ee.ya=s(Kt,Xn),Ee.aa=0,Ee.D.ya=Ee.ya,Ee.D.aa=Ee.aa,Ee.Aa==2&&(Ee.D.aa+=_t),Ee.R=16*_t,Ee.B=8*_t,_t=(nr=Sc[Ee.L])*Ee.R,nr=nr/2*Ee.B,Ee.sa=ft,Ee.ta=Lt+_t,Ee.qa=Ee.sa,Ee.ra=Ee.ta+16*Ke*Ee.R+nr,Ee.Ha=Ee.qa,Ee.Ia=Ee.ra+8*Ke*Ee.B+nr,Ee.$c=0,Lt+=Xe,Ee.mb=st?ft:null,Ee.nb=st?Lt:null,e(Lt+st<=Ee.Fc+Ee.Vb),Dn(Ee),n(Ee.Ac,Ee.Bc,0,lt),Ke=1}}if(Ke){if(He.ka=0,He.y=Ee.sa,He.O=Ee.ta,He.f=Ee.qa,He.N=Ee.ra,He.ea=Ee.Ha,He.Vd=Ee.Ia,He.fa=Ee.R,He.Rc=Ee.B,He.F=null,He.J=0,!yc){for(Ke=-255;255>=Ke;++Ke)Pa[255+Ke]=0>Ke?-Ke:Ke;for(Ke=-1020;1020>=Ke;++Ke)Uu[1020+Ke]=-128>Ke?-128:127<Ke?127:Ke;for(Ke=-112;112>=Ke;++Ke)uu[112+Ke]=-16>Ke?-16:15<Ke?15:Ke;for(Ke=-255;510>=Ke;++Ke)Uo[255+Ke]=0>Ke?0:255<Ke?255:Ke;yc=1}Ma=Aa,uo=zs,ka=Kr,cn=Gs,Jr=Co,pa=Tl,kn=Fu,ai=Oo,co=J,wi=Se,ho=_c,Bu=k,ou=De,Jh=Ve,uh=Pi,Qh=ts,Pl=al,ch=Iu,si[0]=ju,si[1]=rl,si[2]=Ja,si[3]=fn,si[4]=La,si[5]=Ll,si[6]=Mi,si[7]=Qa,si[8]=Hs,si[9]=Na,Oa[0]=Ua,Oa[1]=Al,Oa[2]=nl,Oa[3]=nu,Oa[4]=to,Oa[5]=ko,Oa[6]=il,Cs[0]=Nl,Cs[1]=ru,Cs[2]=Mn,Cs[3]=ro,Cs[4]=ki,Cs[5]=iu,Cs[6]=ws,Ke=1}else Ke=0}Ke&&(Ke=(function(Qr,Qn){for(Qr.M=0;Qr.M<Qr.Va;++Qr.M){var jr,qt=Qr.Jc[Qr.M&Qr.Xb],Rt=Qr.m,di=Qr;for(jr=0;jr<di.za;++jr){var Sr=Rt,zr=di,An=zr.Ac,sa=zr.Bc+4*jr,Da=zr.zc,Vn=zr.ya[zr.aa+jr];if(zr.Qa.Bb?Vn.$b=Ie(Sr,zr.Pa.jb[0])?2+Ie(Sr,zr.Pa.jb[2]):Ie(Sr,zr.Pa.jb[1]):Vn.$b=0,zr.kc&&(Vn.Ad=Ie(Sr,zr.Bd)),Vn.Za=!Ie(Sr,145)+0,Vn.Za){var Ui=Vn.Ob,qa=0;for(zr=0;4>zr;++zr){var zi,$r=Da[0+zr];for(zi=0;4>zi;++zi){$r=dn[An[sa+zi]][$r];for(var mn=fi[Ie(Sr,$r[0])];0<mn;)mn=fi[2*mn+Ie(Sr,$r[mn])];$r=-mn,An[sa+zi]=$r}i(Ui,qa,An,sa,4),qa+=4,Da[0+zr]=$r}}else $r=Ie(Sr,156)?Ie(Sr,128)?1:3:Ie(Sr,163)?2:0,Vn.Ob[0]=$r,n(An,sa,$r,4),n(Da,0,$r,4);Vn.Dd=Ie(Sr,142)?Ie(Sr,114)?Ie(Sr,183)?1:3:2:0}if(di.m.Ka)return ar(Qr,7,"Premature end-of-partition0 encountered.");for(;Qr.ja<Qr.za;++Qr.ja){if(di=qt,Sr=(Rt=Qr).rb[Rt.sb-1],An=Rt.rb[Rt.sb+Rt.ja],jr=Rt.ya[Rt.aa+Rt.ja],sa=Rt.kc?jr.Ad:0)Sr.la=An.la=0,jr.Za||(Sr.Na=An.Na=0),jr.Hc=0,jr.Gc=0,jr.ia=0;else{var pi,yn;if(Sr=An,An=di,sa=Rt.Pa.Xc,Da=Rt.ya[Rt.aa+Rt.ja],Vn=Rt.pb[Da.$b],zr=Da.ad,Ui=0,qa=Rt.rb[Rt.sb-1],$r=zi=0,n(zr,Ui,0,384),Da.Za)var oa=0,mi=sa[3];else{mn=a(16);var gn=Sr.Na+qa.Na;if(gn=tr(An,sa[1],gn,Vn.Eb,0,mn,0),Sr.Na=qa.Na=(0<gn)+0,1<gn)Ma(mn,0,zr,Ui);else{var Di=mn[0]+3>>3;for(mn=0;256>mn;mn+=16)zr[Ui+mn]=Di}oa=1,mi=sa[0]}var Ln=15&Sr.la,Gi=15&qa.la;for(mn=0;4>mn;++mn){var Hi=1&Gi;for(Di=yn=0;4>Di;++Di)Ln=Ln>>1|(Hi=(gn=tr(An,mi,gn=Hi+(1&Ln),Vn.Sc,oa,zr,Ui))>oa)<<7,yn=yn<<2|(3<gn?3:1<gn?2:zr[Ui+0]!=0),Ui+=16;Ln>>=4,Gi=Gi>>1|Hi<<7,zi=(zi<<8|yn)>>>0}for(mi=Ln,oa=Gi>>4,pi=0;4>pi;pi+=2){for(yn=0,Ln=Sr.la>>4+pi,Gi=qa.la>>4+pi,mn=0;2>mn;++mn){for(Hi=1&Gi,Di=0;2>Di;++Di)gn=Hi+(1&Ln),Ln=Ln>>1|(Hi=0<(gn=tr(An,sa[2],gn,Vn.Qc,0,zr,Ui)))<<3,yn=yn<<2|(3<gn?3:1<gn?2:zr[Ui+0]!=0),Ui+=16;Ln>>=2,Gi=Gi>>1|Hi<<5}$r|=yn<<4*pi,mi|=Ln<<4<<pi,oa|=(240&Gi)<<pi}Sr.la=mi,qa.la=oa,Da.Hc=zi,Da.Gc=$r,Da.ia=43690&$r?0:Vn.ia,sa=!(zi|$r)}if(0<Rt.L&&(Rt.wa[Rt.Y+Rt.ja]=Rt.gd[jr.$b][jr.Za],Rt.wa[Rt.Y+Rt.ja].La|=!sa),di.Ka)return ar(Qr,7,"Premature end-of-file encountered.")}if(Dn(Qr),Rt=Qn,di=1,jr=(qt=Qr).D,Sr=0<qt.L&&qt.M>=qt.zb&&qt.M<=qt.Va,qt.Aa==0)t:{if(jr.M=qt.M,jr.uc=Sr,ns(qt,jr),di=1,jr=(yn=qt.D).Nb,Sr=($r=Sc[qt.L])*qt.R,An=$r/2*qt.B,mn=16*jr*qt.R,Di=8*jr*qt.B,sa=qt.sa,Da=qt.ta-Sr+mn,Vn=qt.qa,zr=qt.ra-An+Di,Ui=qt.Ha,qa=qt.Ia-An+Di,Gi=(Ln=yn.M)==0,zi=Ln>=qt.Va-1,qt.Aa==2&&ns(qt,yn),yn.uc)for(Hi=(gn=qt).D.M,e(gn.D.uc),yn=gn.yb;yn<gn.Hb;++yn){oa=yn,mi=Hi;var In=(hn=(qi=gn).D).Nb;pi=qi.R;var hn=hn.wa[hn.Y+oa],Va=qi.sa,Si=qi.ta+16*In*pi+16*oa,mr=hn.dd,gr=hn.tc;if(gr!=0)if(e(3<=gr),qi.L==1)0<oa&&Qh(Va,Si,pi,gr+4),hn.La&&ch(Va,Si,pi,gr),0<mi&&uh(Va,Si,pi,gr+4),hn.La&&Pl(Va,Si,pi,gr);else{var vn=qi.B,Ms=qi.qa,mo=qi.ra+8*In*vn+8*oa,us=qi.Ha,qi=qi.Ia+8*In*vn+8*oa;In=hn.ld,0<oa&&(ai(Va,Si,pi,gr+4,mr,In),wi(Ms,mo,us,qi,vn,gr+4,mr,In)),hn.La&&(Bu(Va,Si,pi,gr,mr,In),Jh(Ms,mo,us,qi,vn,gr,mr,In)),0<mi&&(kn(Va,Si,pi,gr+4,mr,In),co(Ms,mo,us,qi,vn,gr+4,mr,In)),hn.La&&(ho(Va,Si,pi,gr,mr,In),ou(Ms,mo,us,qi,vn,gr,mr,In))}}if(qt.ia&&alert("todo:DitherRow"),Rt.put!=null){if(yn=16*Ln,Ln=16*(Ln+1),Gi?(Rt.y=qt.sa,Rt.O=qt.ta+mn,Rt.f=qt.qa,Rt.N=qt.ra+Di,Rt.ea=qt.Ha,Rt.W=qt.Ia+Di):(yn-=$r,Rt.y=sa,Rt.O=Da,Rt.f=Vn,Rt.N=zr,Rt.ea=Ui,Rt.W=qa),zi||(Ln-=$r),Ln>Rt.o&&(Ln=Rt.o),Rt.F=null,Rt.J=null,qt.Fa!=null&&0<qt.Fa.length&&yn<Ln&&(Rt.J=wn(qt,Rt,yn,Ln-yn),Rt.F=qt.mb,Rt.F==null&&Rt.F.length==0)){di=ar(qt,3,"Could not decode alpha data.");break t}yn<Rt.j&&($r=Rt.j-yn,yn=Rt.j,e(!(1&$r)),Rt.O+=qt.R*$r,Rt.N+=qt.B*($r>>1),Rt.W+=qt.B*($r>>1),Rt.F!=null&&(Rt.J+=Rt.width*$r)),yn<Ln&&(Rt.O+=Rt.v,Rt.N+=Rt.v>>1,Rt.W+=Rt.v>>1,Rt.F!=null&&(Rt.J+=Rt.v),Rt.ka=yn-Rt.j,Rt.U=Rt.va-Rt.v,Rt.T=Ln-yn,di=Rt.put(Rt))}jr+1!=qt.Ic||zi||(i(qt.sa,qt.ta-Sr,sa,Da+16*qt.R,Sr),i(qt.qa,qt.ra-An,Vn,zr+8*qt.B,An),i(qt.Ha,qt.Ia-An,Ui,qa+8*qt.B,An))}if(!di)return ar(Qr,6,"Output aborted.")}return 1})(Ee,He)),He.bc!=null&&He.bc(He),Ke&=1}return Ke?(Ee.cb=0,Ke):0})(w,U)||(A=w.a)}}else A=w.a}A==0&&le.Oa!=null&&le.Oa.fd&&(A=Io(le.ba))}le=A}ie=le!=0?null:11>ie?me.f.RGBA.eb:me.f.kb.y}else ie=null;return ie};var rf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(B,X){for(var j="",W=0;W<4;W++)j+=String.fromCharCode(B[X++]);return j}function p(B,X){return B[X+0]|B[X+1]<<8}function v(B,X){return(B[X+0]|B[X+1]<<8|B[X+2]<<16)>>>0}function y(B,X){return(B[X+0]|B[X+1]<<8|B[X+2]<<16|B[X+3]<<24)>>>0}new c;var _=[0],T=[0],S=[],C=new c,O=t,I=(function(B,X){var j={},W=0,ue=!1,de=0,xe=0;if(j.frames=[],!(function(P,G){for(var H=0;H<4;H++)if(P[G+H]!="RIFF".charCodeAt(H))return!0;return!1})(B,X)){for(y(B,X+=4),X+=8;X<B.length;){var oe=f(B,X),be=y(B,X+=4);X+=4;var _e=be+(1&be);switch(oe){case"VP8 ":case"VP8L":j.frames[W]===void 0&&(j.frames[W]={}),(Q=j.frames[W]).src_off=ue?xe:X-8,Q.src_size=de+be+8,W++,ue&&(ue=!1,de=0,xe=0);break;case"VP8X":(Q=j.header={}).feature_flags=B[X];var Le=X+4;Q.canvas_width=1+v(B,Le),Le+=3,Q.canvas_height=1+v(B,Le),Le+=3;break;case"ALPH":ue=!0,de=_e+8,xe=X-8;break;case"ANIM":(Q=j.header).bgcolor=y(B,X),Le=X+4,Q.loop_count=p(B,Le),Le+=2;break;case"ANMF":var Ne,Q;(Q=j.frames[W]={}).offset_x=2*v(B,X),X+=3,Q.offset_y=2*v(B,X),X+=3,Q.width=1+v(B,X),X+=3,Q.height=1+v(B,X),X+=3,Q.duration=v(B,X),X+=3,Ne=B[X++],Q.dispose=1&Ne,Q.blend=Ne>>1&1}oe!="ANMF"&&(X+=_e)}return j}})(O,0);I.response=O,I.rgbaoutput=!0,I.dataurl=!1;var D=I.header?I.header:null,q=I.frames?I.frames:null;if(D){D.loop_counter=D.loop_count,_=[D.canvas_height],T=[D.canvas_width];for(var te=0;te<q.length&&q[te].blend!=0;te++);}var ce=q[0],F=C.WebPDecodeRGBA(O,ce.src_off,ce.src_size,T,_);ce.rgba=F,ce.imgwidth=T[0],ce.imgheight=_[0];for(var K=0;K<T[0]*_[0]*4;K++)S[K]=F[K];return this.width=T,this.height=_,this.data=S,this}(function(t){var e,r,i,n,a,s,l,c,f,p=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new c,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new s,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new s,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,r=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,f=new p}]);var v=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=P;Object.defineProperty(this,"pdf",{get:function(){return G}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(we){H=!!we}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(we){Z=!!we}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(we){isNaN(we)||(se=we)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(we){isNaN(we)||(Ae=we)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(we){var yt;typeof we=="number"?yt=[we,we,we,we]:((yt=new Array(4))[0]=we[0],yt[1]=we.length>=2?we[1]:yt[0],yt[2]=we.length>=3?we[2]:yt[0],yt[3]=we.length>=4?we[3]:yt[1]),f.margin=yt}});var Oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Oe},set:function(we){Oe=we}});var Re=0;Object.defineProperty(this,"lastBreak",{get:function(){return Re},set:function(we){Re=we}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(we){Ie=we}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(we){we instanceof p&&(f=we)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(we){f.path=we}});var ot=[];Object.defineProperty(this,"ctxStack",{get:function(){return ot},set:function(we){ot=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var yt;yt=y(we),this.ctx.fillStyle=yt.style,this.ctx.isFillTransparent=yt.a===0,this.ctx.fillOpacity=yt.a,this.pdf.setFillColor(yt.r,yt.g,yt.b,{a:yt.a}),this.pdf.setTextColor(yt.r,yt.g,yt.b,{a:yt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var yt=y(we);this.ctx.strokeStyle=yt.style,this.ctx.isStrokeTransparent=yt.a===0,this.ctx.strokeOpacity=yt.a,yt.a===0?this.pdf.setDrawColor(255,255,255):(yt.a,this.pdf.setDrawColor(yt.r,yt.g,yt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var it=null,Tt=null,Nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Nt},set:function(we){it=null,Tt=null,Nt=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var yt;if(this.ctx.font=we,(yt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(we))!==null){var xt=yt[1];yt[2];var zt=yt[3],dt=yt[4];yt[5];var Vt=yt[6],jt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(dt)[2];dt=Math.floor(jt==="px"?parseFloat(dt)*this.pdf.internal.scaleFactor:jt==="em"?parseFloat(dt)*this.pdf.getFontSize():parseFloat(dt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(dt);var sr=(function(Wt){var xn,Mr,Gt=[],pr=Wt.trim();if(pr==="")return m2;if(pr in d4)return[d4[pr]];for(;pr!=="";){switch(Mr=null,xn=(pr=m4(pr)).charAt(0)){case'"':case"'":Mr=nR(pr.substring(1),xn);break;default:Mr=iR(pr)}if(Mr===null||(Gt.push(Mr[0]),(pr=m4(Mr[1]))!==""&&pr.charAt(0)!==","))return m2;pr=pr.replace(/^,/,"")}return Gt})(Vt);if(this.fontFaces){var Xt=(function(Wt,xn){var Mr=Wt.getFontList(),Gt=JSON.stringify(Mr);if(it===null||Tt!==Gt){var pr=(function(Dr){var Yt=[];return Object.keys(Dr).forEach(function(ln){Dr[ln].forEach(function(ur){var cr=null;switch(ur){case"bold":cr={family:ln,weight:"bold"};break;case"italic":cr={family:ln,style:"italic"};break;case"bolditalic":cr={family:ln,weight:"bold",style:"italic"};break;case"":case"normal":cr={family:ln}}cr!==null&&(cr.ref={name:ln,style:ur},Yt.push(cr))})}),Yt})(Mr);it=(function(Dr){for(var Yt={},ln=0;ln<Dr.length;++ln){var ur=p2(Dr[ln]),cr=ur.family,en=ur.stretch,xr=ur.style,Zt=ur.weight;Yt[cr]=Yt[cr]||{},Yt[cr][en]=Yt[cr][en]||{},Yt[cr][en][xr]=Yt[cr][en][xr]||{},Yt[cr][en][xr][Zt]=ur}return Yt})(pr.concat(xn)),Tt=Gt}return it})(this.pdf,this.fontFaces),Jt=sr.map(function(Wt){return{family:Wt,stretch:"normal",weight:zt,style:xt}}),Er=(function(Wt,xn,Mr){for(var Gt=(Mr=Mr||{}).defaultFontFamily||"times",pr=Object.assign({},rR,Mr.genericFontFamilies||{}),Dr=null,Yt=null,ln=0;ln<xn.length;++ln)if(pr[(Dr=p2(xn[ln])).family]&&(Dr.family=pr[Dr.family]),Wt.hasOwnProperty(Dr.family)){Yt=Wt[Dr.family];break}if(!(Yt=Yt||Wt[Gt]))throw new Error("Could not find a font-family for the rule '"+p4(Dr)+"' and default family '"+Gt+"'.");if(Yt=(function(ur,cr){if(cr[ur])return cr[ur];var en=m_[ur],xr=en<=m_.normal?-1:1,Zt=f4(cr,BE,en,xr);if(!Zt)throw new Error("Could not find a matching font-stretch value for "+ur);return Zt})(Dr.stretch,Yt),Yt=(function(ur,cr){if(cr[ur])return cr[ur];for(var en=FE[ur],xr=0;xr<en.length;++xr)if(cr[en[xr]])return cr[en[xr]];throw new Error("Could not find a matching font-style for "+ur)})(Dr.style,Yt),!(Yt=(function(ur,cr){if(cr[ur])return cr[ur];if(ur===400&&cr[500])return cr[500];if(ur===500&&cr[400])return cr[400];var en=tR[ur],xr=f4(cr,UE,en,ur<400?-1:1);if(!xr)throw new Error("Could not find a matching font-weight for value "+ur);return xr})(Dr.weight,Yt)))throw new Error("Failed to resolve a font for the rule '"+p4(Dr)+"'.");return Yt})(Xt,Jt);this.pdf.setFont(Er.ref.name,Er.ref.style)}else{var dr="";(zt==="bold"||parseInt(zt,10)>=700||xt==="bold")&&(dr="bold"),xt==="italic"&&(dr+="italic"),dr.length===0&&(dr="normal");for(var Nr="",or={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ft=0;Ft<sr.length;Ft++){if(this.pdf.internal.getFont(sr[Ft],dr,{noFallback:!0,disableWarning:!0})!==void 0){Nr=sr[Ft];break}if(dr==="bolditalic"&&this.pdf.internal.getFont(sr[Ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nr=sr[Ft],dr="bold";else if(this.pdf.internal.getFont(sr[Ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nr=sr[Ft],dr="normal";break}}if(Nr===""){for(var _r=0;_r<sr.length;_r++)if(or[sr[_r]]){Nr=or[sr[_r]];break}}Nr=Nr===""?"Times":Nr,this.pdf.setFont(Nr,dr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};v.prototype.setLineDash=function(P){this.lineDash=P},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){q.call(this,"fill",!1)},v.prototype.stroke=function(){q.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(P,G){if(isNaN(P)||isNaN(G))throw ti.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new s(P,G));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new s(P,G)},v.prototype.closePath=function(){var P=new s(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Gn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){P=new s(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(P.x,P.y)},v.prototype.lineTo=function(P,G){if(isNaN(P)||isNaN(G))throw ti.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new s(P,G));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new s(H.x,H.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},v.prototype.quadraticCurveTo=function(P,G,H,Z){if(isNaN(H)||isNaN(Z)||isNaN(P)||isNaN(G))throw ti.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new s(H,Z)),Ae=this.ctx.transform.applyToPoint(new s(P,G));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:se.x,y:se.y}),this.ctx.lastPoint=new s(se.x,se.y)},v.prototype.bezierCurveTo=function(P,G,H,Z,se,Ae){if(isNaN(se)||isNaN(Ae)||isNaN(P)||isNaN(G)||isNaN(H)||isNaN(Z))throw ti.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Oe=this.ctx.transform.applyToPoint(new s(se,Ae)),Re=this.ctx.transform.applyToPoint(new s(P,G)),Ie=this.ctx.transform.applyToPoint(new s(H,Z));this.path.push({type:"bct",x1:Re.x,y1:Re.y,x2:Ie.x,y2:Ie.y,x:Oe.x,y:Oe.y}),this.ctx.lastPoint=new s(Oe.x,Oe.y)},v.prototype.arc=function(P,G,H,Z,se,Ae){if(isNaN(P)||isNaN(G)||isNaN(H)||isNaN(Z)||isNaN(se))throw ti.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var Oe=this.ctx.transform.applyToPoint(new s(P,G));P=Oe.x,G=Oe.y;var Re=this.ctx.transform.applyToPoint(new s(0,H)),Ie=this.ctx.transform.applyToPoint(new s(0,0));H=Math.sqrt(Math.pow(Re.x-Ie.x,2)+Math.pow(Re.y-Ie.y,2))}Math.abs(se-Z)>=2*Math.PI&&(Z=0,se=2*Math.PI),this.path.push({type:"arc",x:P,y:G,radius:H,startAngle:Z,endAngle:se,counterclockwise:Ae})},v.prototype.arcTo=function(P,G,H,Z,se){throw new Error("arcTo not implemented.")},v.prototype.rect=function(P,G,H,Z){if(isNaN(P)||isNaN(G)||isNaN(H)||isNaN(Z))throw ti.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,G),this.lineTo(P+H,G),this.lineTo(P+H,G+Z),this.lineTo(P,G+Z),this.lineTo(P,G),this.lineTo(P+H,G),this.lineTo(P,G)},v.prototype.fillRect=function(P,G,H,Z){if(isNaN(P)||isNaN(G)||isNaN(H)||isNaN(Z))throw ti.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,G,H,Z),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},v.prototype.strokeRect=function(P,G,H,Z){if(isNaN(P)||isNaN(G)||isNaN(H)||isNaN(Z))throw ti.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(P,G,H,Z),this.stroke())},v.prototype.clearRect=function(P,G,H,Z){if(isNaN(P)||isNaN(G)||isNaN(H)||isNaN(Z))throw ti.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,G,H,Z))},v.prototype.save=function(P){P=typeof P!="boolean"||P;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},v.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(G),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(P){var G,H,Z,se;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))G=0,H=0,Z=0,se=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(Ae!==null)G=parseInt(Ae[1]),H=parseInt(Ae[2]),Z=parseInt(Ae[3]),se=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)G=parseInt(Ae[1]),H=parseInt(Ae[2]),Z=parseInt(Ae[3]),se=parseFloat(Ae[4]);else{if(se=1,typeof P=="string"&&P.charAt(0)!=="#"){var Oe=new kE(P);P=Oe.ok?Oe.toHex():"#000000"}P.length===4?(G=P.substring(1,2),G+=G,H=P.substring(2,3),H+=H,Z=P.substring(3,4),Z+=Z):(G=P.substring(1,3),H=P.substring(3,5),Z=P.substring(5,7)),G=parseInt(G,16),H=parseInt(H,16),Z=parseInt(Z,16)}}return{r:G,g:H,b:Z,a:se,style:P}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(P,G,H,Z){if(isNaN(G)||isNaN(H)||typeof P!="string")throw ti.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!_.call(this)){var se=_e(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;W.call(this,{text:P,x:G,y:H,scale:Ae,angle:se,align:this.textAlign,maxWidth:Z})}},v.prototype.strokeText=function(P,G,H,Z){if(isNaN(G)||isNaN(H)||typeof P!="string")throw ti.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){Z=isNaN(Z)?void 0:Z;var se=_e(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;W.call(this,{text:P,x:G,y:H,scale:Ae,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:Z})}},v.prototype.measureText=function(P){if(typeof P!="string")throw ti.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,H=this.pdf.internal.scaleFactor,Z=G.internal.getFontSize(),se=G.getStringUnitWidth(P)*Z/G.internal.scaleFactor;return new function(Ae){var Oe=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Oe}}),this}({width:se*=Math.round(96*H/72*1e4)/1e4})},v.prototype.scale=function(P,G){if(isNaN(P)||isNaN(G))throw ti.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new c(P,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},v.prototype.rotate=function(P){if(isNaN(P))throw ti.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},v.prototype.translate=function(P,G){if(isNaN(P)||isNaN(G))throw ti.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new c(1,0,0,1,P,G);this.ctx.transform=this.ctx.transform.multiply(H)},v.prototype.transform=function(P,G,H,Z,se,Ae){if(isNaN(P)||isNaN(G)||isNaN(H)||isNaN(Z)||isNaN(se)||isNaN(Ae))throw ti.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Oe=new c(P,G,H,Z,se,Ae);this.ctx.transform=this.ctx.transform.multiply(Oe)},v.prototype.setTransform=function(P,G,H,Z,se,Ae){P=isNaN(P)?1:P,G=isNaN(G)?0:G,H=isNaN(H)?0:H,Z=isNaN(Z)?1:Z,se=isNaN(se)?0:se,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new c(P,G,H,Z,se,Ae)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(P,G,H,Z,se,Ae,Oe,Re,Ie){var ot=this.pdf.getImageProperties(P),it=1,Tt=1,Nt=1,we=1;Z!==void 0&&Re!==void 0&&(Nt=Re/Z,we=Ie/se,it=ot.width/Z*Re/Z,Tt=ot.height/se*Ie/se),Ae===void 0&&(Ae=G,Oe=H,G=0,H=0),Z!==void 0&&Re===void 0&&(Re=Z,Ie=se),Z===void 0&&Re===void 0&&(Re=ot.width,Ie=ot.height);var yt=this.ctx.transform.decompose(),xt=_e(yt.rotate.shx),zt=new c,dt=(zt=(zt=(zt=zt.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale)).applyToRectangle(new l(Ae-G*Nt,Oe-H*we,Z*it,se*Tt));if(this.autoPaging){for(var Vt,jt=C.call(this,dt),sr=[],Xt=0;Xt<jt.length;Xt+=1)sr.indexOf(jt[Xt])===-1&&sr.push(jt[Xt]);D(sr);for(var Jt=sr[0],Er=sr[sr.length-1],dr=Jt;dr<Er+1;dr++){this.pdf.setPage(dr);var Nr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],or=dr===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_r=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=dr===1?0:Ft+(dr-2)*_r;if(this.ctx.clip_path.length!==0){var xn=this.path;Vt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Vt,this.posX+this.margin[3],-Wt+or+this.ctx.prevPageLastElemOffset),te.call(this,"fill",!0),this.path=xn}var Mr=JSON.parse(JSON.stringify(dt));Mr=I([Mr],this.posX+this.margin[3],-Wt+or+this.ctx.prevPageLastElemOffset)[0];var Gt=(dr>Jt||dr<Er)&&S.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nr,_r,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Mr.x,Mr.y,Mr.w,Mr.h,null,null,xt),Gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,xt)};var C=function(P,G,H){var Z=[];G=G||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":Z.push(Math.floor((P.y+se)/H)+1);break;case"arc":Z.push(Math.floor((P.y+se-P.radius)/H)+1),Z.push(Math.floor((P.y+se+P.radius)/H)+1);break;case"qct":var Ae=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);Z.push(Math.floor((Ae.y+se)/H)+1),Z.push(Math.floor((Ae.y+Ae.h+se)/H)+1);break;case"bct":var Oe=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);Z.push(Math.floor((Oe.y+se)/H)+1),Z.push(Math.floor((Oe.y+Oe.h+se)/H)+1);break;case"rect":Z.push(Math.floor((P.y+se)/H)+1),Z.push(Math.floor((P.y+P.h+se)/H)+1)}for(var Re=0;Re<Z.length;Re+=1)for(;this.pdf.internal.getNumberOfPages()<Z[Re];)O.call(this);return Z},O=function(){var P=this.fillStyle,G=this.strokeStyle,H=this.font,Z=this.lineCap,se=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=G,this.font=H,this.lineCap=Z,this.lineWidth=se,this.lineJoin=Ae},I=function(P,G,H){for(var Z=0;Z<P.length;Z++)switch(P[Z].type){case"bct":P[Z].x2+=G,P[Z].y2+=H;case"qct":P[Z].x1+=G,P[Z].y1+=H;default:P[Z].x+=G,P[Z].y+=H}return P},D=function(P){return P.sort(function(G,H){return G-H})},q=function(P,G){var H=this.fillStyle,Z=this.strokeStyle,se=this.lineCap,Ae=this.lineWidth,Oe=Math.abs(Ae*this.ctx.transform.scaleX),Re=this.lineJoin;if(this.autoPaging){for(var Ie,ot,it=JSON.parse(JSON.stringify(this.path)),Tt=JSON.parse(JSON.stringify(this.path)),Nt=[],we=0;we<Tt.length;we++)if(Tt[we].x!==void 0)for(var yt=C.call(this,Tt[we]),xt=0;xt<yt.length;xt+=1)Nt.indexOf(yt[xt])===-1&&Nt.push(yt[xt]);for(var zt=0;zt<Nt.length;zt++)for(;this.pdf.internal.getNumberOfPages()<Nt[zt];)O.call(this);D(Nt);for(var dt=Nt[0],Vt=Nt[Nt.length-1],jt=dt;jt<Vt+1;jt++){this.pdf.setPage(jt),this.fillStyle=H,this.strokeStyle=Z,this.lineCap=se,this.lineWidth=Oe,this.lineJoin=Re;var sr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xt=jt===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Er=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dr=jt===1?0:Jt+(jt-2)*Er;if(this.ctx.clip_path.length!==0){var Nr=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Ie,this.posX+this.margin[3],-dr+Xt+this.ctx.prevPageLastElemOffset),te.call(this,P,!0),this.path=Nr}if(ot=JSON.parse(JSON.stringify(it)),this.path=I(ot,this.posX+this.margin[3],-dr+Xt+this.ctx.prevPageLastElemOffset),G===!1||jt===0){var or=(jt>dt||jt<Vt)&&S.call(this);or&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sr,Er,null).clip().discardPath()),te.call(this,P,G),or&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}this.path=it}else this.lineWidth=Oe,te.call(this,P,G),this.lineWidth=Ae},te=function(P,G){if((P!=="stroke"||G||!T.call(this))&&(P==="stroke"||G||!_.call(this))){for(var H,Z,se=[],Ae=this.path,Oe=0;Oe<Ae.length;Oe++){var Re=Ae[Oe];switch(Re.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:Re,deltas:[],abs:[]});break;case"lt":var Ie=se.length;if(Ae[Oe-1]&&!isNaN(Ae[Oe-1].x)&&(H=[Re.x-Ae[Oe-1].x,Re.y-Ae[Oe-1].y],Ie>0)){for(;Ie>=0;Ie--)if(se[Ie-1].close!==!0&&se[Ie-1].begin!==!0){se[Ie-1].deltas.push(H),se[Ie-1].abs.push(Re);break}}break;case"bct":H=[Re.x1-Ae[Oe-1].x,Re.y1-Ae[Oe-1].y,Re.x2-Ae[Oe-1].x,Re.y2-Ae[Oe-1].y,Re.x-Ae[Oe-1].x,Re.y-Ae[Oe-1].y],se[se.length-1].deltas.push(H);break;case"qct":var ot=Ae[Oe-1].x+2/3*(Re.x1-Ae[Oe-1].x),it=Ae[Oe-1].y+2/3*(Re.y1-Ae[Oe-1].y),Tt=Re.x+2/3*(Re.x1-Re.x),Nt=Re.y+2/3*(Re.y1-Re.y),we=Re.x,yt=Re.y;H=[ot-Ae[Oe-1].x,it-Ae[Oe-1].y,Tt-Ae[Oe-1].x,Nt-Ae[Oe-1].y,we-Ae[Oe-1].x,yt-Ae[Oe-1].y],se[se.length-1].deltas.push(H);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(Re)}}Z=G?null:P==="stroke"?"stroke":"fill";for(var xt=!1,zt=0;zt<se.length;zt++)if(se[zt].arc)for(var dt=se[zt].abs,Vt=0;Vt<dt.length;Vt++){var jt=dt[Vt];jt.type==="arc"?K.call(this,jt.x,jt.y,jt.radius,jt.startAngle,jt.endAngle,jt.counterclockwise,void 0,G,!xt):ue.call(this,jt.x,jt.y),xt=!0}else if(se[zt].close===!0)this.pdf.internal.out("h"),xt=!1;else if(se[zt].begin!==!0){var sr=se[zt].start.x,Xt=se[zt].start.y;de.call(this,se[zt].deltas,sr,Xt),xt=!0}Z&&B.call(this,Z),G&&X.call(this)}},ce=function(P){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-H;case"top":return P+G-H;case"hanging":return P+G-2*H;case"middle":return P+G/2-H;default:return P}},F=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(G,H){this.colorStops.push([G,H])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var K=function(P,G,H,Z,se,Ae,Oe,Re,Ie){for(var ot=oe.call(this,H,Z,se,Ae),it=0;it<ot.length;it++){var Tt=ot[it];it===0&&(Ie?j.call(this,Tt.x1+P,Tt.y1+G):ue.call(this,Tt.x1+P,Tt.y1+G)),xe.call(this,P,G,Tt.x2,Tt.y2,Tt.x3,Tt.y3,Tt.x4,Tt.y4)}Re?X.call(this):B.call(this,Oe)},B=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(P,G){this.pdf.internal.out(r(P)+" "+i(G)+" m")},W=function(P){var G;switch(P.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var H,Z,se,Ae=this.pdf.getTextDimensions(P.text),Oe=ce.call(this,P.y),Re=F.call(this,Oe)-Ae.h,Ie=this.ctx.transform.applyToPoint(new s(P.x,Oe));if(this.autoPaging){var ot=this.ctx.transform.decompose(),it=new c;it=(it=(it=it.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale);for(var Tt=this.ctx.transform.applyToRectangle(new l(P.x,Oe,Ae.w,Ae.h)),Nt=it.applyToRectangle(new l(P.x,Re,Ae.w,Ae.h)),we=C.call(this,Nt),yt=[],xt=0;xt<we.length;xt+=1)yt.indexOf(we[xt])===-1&&yt.push(we[xt]);D(yt);for(var zt=yt[0],dt=yt[yt.length-1],Vt=zt;Vt<dt+1;Vt++){this.pdf.setPage(Vt);var jt=Vt===1?this.posY+this.margin[0]:this.margin[0],sr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[2],Jt=Xt-this.margin[0],Er=this.pdf.internal.pageSize.width-this.margin[1],dr=Er-this.margin[3],Nr=Vt===1?0:sr+(Vt-2)*Jt;if(this.ctx.clip_path.length!==0){var or=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(H,this.posX+this.margin[3],-1*Nr+jt),te.call(this,"fill",!0),this.path=or}var Ft=I([JSON.parse(JSON.stringify(Nt))],this.posX+this.margin[3],-Nr+jt+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*P.scale),se=this.lineWidth,this.lineWidth=se*P.scale);var _r=this.autoPaging!=="text";if(_r||Ft.y+Ft.h<=Xt){if(_r||Ft.y>=jt&&Ft.x<=Er){var Wt=_r?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Er-Ft.x)[0],xn=I([JSON.parse(JSON.stringify(Tt))],this.posX+this.margin[3],-Nr+jt+this.ctx.prevPageLastElemOffset)[0],Mr=_r&&(Vt>zt||Vt<dt)&&S.call(this);Mr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dr,Jt,null).clip().discardPath()),this.pdf.text(Wt,xn.x,xn.y,{angle:P.angle,align:G,renderingMode:P.renderingMode}),Mr&&this.pdf.restoreGraphicsState()}}else Ft.y<Xt&&(this.ctx.prevPageLastElemOffset+=Xt-Ft.y);P.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=se)}}else P.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*P.scale),se=this.lineWidth,this.lineWidth=se*P.scale),this.pdf.text(P.text,Ie.x+this.posX,Ie.y+this.posY,{angle:P.angle,align:G,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=se)},ue=function(P,G,H,Z){H=H||0,Z=Z||0,this.pdf.internal.out(r(P+H)+" "+i(G+Z)+" l")},de=function(P,G,H){return this.pdf.lines(P,G,H,null,null)},xe=function(P,G,H,Z,se,Ae,Oe,Re){this.pdf.internal.out([e(n(H+P)),e(a(Z+G)),e(n(se+P)),e(a(Ae+G)),e(n(Oe+P)),e(a(Re+G)),"c"].join(" "))},oe=function(P,G,H,Z){for(var se=2*Math.PI,Ae=Math.PI/2;G>H;)G-=se;var Oe=Math.abs(H-G);Oe<se&&Z&&(Oe=se-Oe);for(var Re=[],Ie=Z?-1:1,ot=G;Oe>1e-5;){var it=ot+Ie*Math.min(Oe,Ae);Re.push(be.call(this,P,ot,it)),Oe-=Math.abs(it-ot),ot=it}return Re},be=function(P,G,H){var Z=(H-G)/2,se=P*Math.cos(Z),Ae=P*Math.sin(Z),Oe=se,Re=-Ae,Ie=Oe*Oe+Re*Re,ot=Ie+Oe*se+Re*Ae,it=4/3*(Math.sqrt(2*Ie*ot)-ot)/(Oe*Ae-Re*se),Tt=Oe-it*Re,Nt=Re+it*Oe,we=Tt,yt=-Nt,xt=Z+G,zt=Math.cos(xt),dt=Math.sin(xt);return{x1:P*Math.cos(G),y1:P*Math.sin(G),x2:Tt*zt-Nt*dt,y2:Tt*dt+Nt*zt,x3:we*zt-yt*dt,y3:we*dt+yt*zt,x4:P*Math.cos(H),y4:P*Math.sin(H)}},_e=function(P){return 180*P/Math.PI},Le=function(P,G,H,Z,se,Ae){var Oe=P+.5*(H-P),Re=G+.5*(Z-G),Ie=se+.5*(H-se),ot=Ae+.5*(Z-Ae),it=Math.min(P,se,Oe,Ie),Tt=Math.max(P,se,Oe,Ie),Nt=Math.min(G,Ae,Re,ot),we=Math.max(G,Ae,Re,ot);return new l(it,Nt,Tt-it,we-Nt)},Ne=function(P,G,H,Z,se,Ae,Oe,Re){var Ie,ot,it,Tt,Nt,we,yt,xt,zt,dt,Vt,jt,sr,Xt,Jt=H-P,Er=Z-G,dr=se-H,Nr=Ae-Z,or=Oe-se,Ft=Re-Ae;for(ot=0;ot<41;ot++)zt=(yt=(it=P+(Ie=ot/40)*Jt)+Ie*((Nt=H+Ie*dr)-it))+Ie*(Nt+Ie*(se+Ie*or-Nt)-yt),dt=(xt=(Tt=G+Ie*Er)+Ie*((we=Z+Ie*Nr)-Tt))+Ie*(we+Ie*(Ae+Ie*Ft-we)-xt),ot==0?(Vt=zt,jt=dt,sr=zt,Xt=dt):(Vt=Math.min(Vt,zt),jt=Math.min(jt,dt),sr=Math.max(sr,zt),Xt=Math.max(Xt,dt));return new l(Math.round(Vt),Math.round(jt),Math.round(sr-Vt),Math.round(Xt-jt))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,G,H=(P=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:G}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(fr.API),(function(t){var e=function(s){var l,c,f,p,v,y,_,T,S,C;for(c=[],f=0,p=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;p>f;f+=4)(v=(s.charCodeAt(f)<<24)+(s.charCodeAt(f+1)<<16)+(s.charCodeAt(f+2)<<8)+s.charCodeAt(f+3))!==0?(y=(v=((v=((v=((v=(v-(C=v%85))/85)-(S=v%85))/85)-(T=v%85))/85)-(_=v%85))/85)%85,c.push(y+33,_+33,T+33,S+33,C+33)):c.push(122);return(function(O,I){for(var D=I;D>0;D--)O.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var l,c,f,p,v,y=String,_="length",T=255,S="charCodeAt",C="slice",O="replace";for(s[C](-2),s=s[C](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),f=[],p=0,v=(s+=l="uuuuu"[C](s[_]%5||5))[_];v>p;p+=5)c=52200625*(s[S](p)-33)+614125*(s[S](p+1)-33)+7225*(s[S](p+2)-33)+85*(s[S](p+3)-33)+(s[S](p+4)-33),f.push(T&c>>24,T&c>>16,T&c>>8,T&c);return(function(I,D){for(var q=D;q>0;q--)I.pop()})(f,l[_]),y.fromCharCode.apply(y,f)},i=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",f=0;f<s.length;f+=2)c+=String.fromCharCode("0x"+(s[f]+s[f+1]));return c},a=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return(l=l_(l)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};t.processDataByFilters=function(s,l){var c=0,f=s||"",p=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=n(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=i(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(fr.API),(function(t){t.loadFile=function(e,r,i){return(function(n,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,f,p){var v=new XMLHttpRequest,y=0,_=function(T){var S=T.length,C=[],O=String.fromCharCode;for(y=0;y<S;y+=1)C.push(O(255&T.charCodeAt(y)));return C.join("")};if(v.open("GET",c,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?p(_(this.responseText)):p(void 0)}),v.send(null),f&&v.status===200)return _(v.responseText)})(n,a,s)}catch{}return l})(e,r,i)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(fr.API),(function(t){function e(){return(Or.html2canvas?Promise.resolve(Or.html2canvas):ad(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Or.DOMPurify?Promise.resolve(Or.DOMPurify):ad(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var i=function(l){var c=Gn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},n=function(l,c){var f=document.createElement(l);for(var p in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[p]=c.style[p];return f},a=function l(c,f){for(var p=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),v=c.firstChild;v;v=v.nextSibling)f!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||p.appendChild(l(v,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(p.width=c.width,p.height=c.height,p.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(p.value=c.value),p.addEventListener("load",function(){p.scrollTop=c.scrollTop,p.scrollLeft=c.scrollLeft},!0)),p},s=function l(c){var f=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),p=l.convert(Promise.resolve(),f);return(p=p.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(f){switch(i(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(f){return this.set({src:n("div",{innerHTML:l,dompurify:f})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var f=this.opt.jsPDF,p=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var _=0;_<p.length;++_){var T=p[_],S=T.src.find(function(C){return C.format==="truetype"});S&&f.addFont(S.url,T.ref.name,T.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,f.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(i(l)!=="object")return this;var c=Object.keys(l||{}).map(function(f){if(f in s.template.prop)return function(){this.prop[f]=l[f]};switch(f){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[f]=l[f]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var f=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(f):f})},s.prototype.setMargin=function(l){return this.then(function(){switch(i(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(l=l||fr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,f,p){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,f,p){return this.setProgress(l?this.progress.val+l:null,c||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},s.prototype.then=function(l,c){var f=this;return this.thenCore(l,c,function(p,v){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return f.updateProgress(null,p),y}).then(p,v).then(function(y){return f.updateProgress(1),y})})},s.prototype.thenCore=function(l,c,f){f=f||Promise.prototype.then;var p=this;l&&(l=l.bind(p)),c&&(c=c.bind(p));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:s.convert(Object.assign({},p),Promise.prototype),y=f.call(v,l,c);return s.convert(y,p.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(f){c=c.thenCore(f)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,fr.getPageSize=function(l,c,f){if(Gn(l)==="object"){var p=l;l=p.orientation,c=p.unit||c,f=p.format||f}c=c||"mm",f=f||"a4",l=(""+(l||"P")).toLowerCase();var v,y=(""+f).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+c}var T,S=0,C=0;if(_.hasOwnProperty(y))S=_[y][1]/v,C=_[y][0]/v;else try{S=f[1],C=f[0]}catch{throw new Error("Invalid format: "+f)}if(l==="p"||l==="portrait")l="p",C>S&&(T=C,C=S,S=T);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",S>C&&(T=C,C=S,S=T)}return{width:C,height:S,unit:c,k:v,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(p2):null;var f=new s(c);return c.worker?f:f.from(l).doCallback()}})(fr.API),fr.API.addJS=function(t){return v4=t,this.internal.events.subscribe("postPutResources",function(){jm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),g4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+v4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jm!==void 0&&g4!==void 0&&this.internal.out("/Names <</JavaScript "+jm+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),a=0;a<n.length;a++){var s=n[a],l=i.exec(s);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var v=r.internal.newObject();p.push(v);var y=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var _=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<p.length;a++)r.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+_+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(i,n,a){var s={title:n,options:a,children:[]};return i==null&&(i=this.root),i.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(i){i.id=r.internal.newObjectDeferred();for(var n=0;n<i.children.length;n++)this.genIds_r(i.children[n])},r.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},r.outline.renderItems=function(i){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var s=i.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},r.outline.line=function(i){this.ctx.val+=i+`\r
`},r.outline.makeRef=function(i){return i.id+" 0 R"},r.outline.makeString=function(i){return"("+r.internal.pdfEscape(i)+")"},r.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(i,n){for(var a=0;a<n.children.length;a++)i.count++,this.count_r(i,n.children[a]);return i.count}}])})(fr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,i,n,a,s,l){var c,f=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(v){for(var y,_=256*v.charCodeAt(4)+v.charCodeAt(5),T=v.length,S={width:0,height:0,numcomponents:1},C=4;C<T;C+=2){if(C+=_,e.indexOf(v.charCodeAt(C+1))!==-1){y=256*v.charCodeAt(C+5)+v.charCodeAt(C+6),S={width:256*v.charCodeAt(C+7)+v.charCodeAt(C+8),height:y,numcomponents:v.charCodeAt(C+9)};break}_=256*v.charCodeAt(C+2)+v.charCodeAt(C+3)}return S})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:f,index:i,alias:n}}return p}})(fr.API),fr.API.processPNG=function(t,e,r,i){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var n,a=zO(t,{checkCrc:!0}),s=a.width,l=a.height,c=a.channels,f=a.palette,p=a.depth;n=f&&c===1?(function(K){for(var B=K.width,X=K.height,j=K.data,W=K.palette,ue=K.depth,de=!1,xe=[],oe=[],be=void 0,_e=!1,Le=0,Ne=0;Ne<W.length;Ne++){var Q=w5(W[Ne],4),P=Q[0],G=Q[1],H=Q[2],Z=Q[3];xe.push(P,G,H),Z!=null&&(Z===0?(Le++,oe.length<1&&oe.push(Ne)):Z<255&&(_e=!0))}if(_e||Le>1){de=!0,oe=void 0;var se=B*X;be=new Uint8Array(se);for(var Ae=new DataView(j.buffer),Oe=0;Oe<se;Oe++){var Re=g2(Ae,Oe,ue),Ie=w5(W[Re],4)[3];be[Oe]=Ie}}else Le===0&&(oe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:de?8:void 0,colorBytes:j,alphaBytes:be,needSMask:de,palette:xe,mask:oe}})(a):c===2||c===4?(function(K){for(var B=K.data,X=K.width,j=K.height,W=K.channels,ue=K.depth,de=W===2?"DeviceGray":"DeviceRGB",xe=W-1,oe=X*j,be=xe,_e=oe*be,Le=1*oe,Ne=Math.ceil(_e*ue/8),Q=Math.ceil(Le*ue/8),P=new Uint8Array(Ne),G=new Uint8Array(Q),H=new DataView(B.buffer),Z=new DataView(P.buffer),se=new DataView(G.buffer),Ae=!1,Oe=0;Oe<oe;Oe++){for(var Re=Oe*W,Ie=0;Ie<be;Ie++)A4(Z,g2(H,Re+Ie,ue),Oe*be+Ie,ue);var ot=g2(H,Re+be,ue);ot<(1<<ue)-1&&(Ae=!0),A4(se,ot,1*Oe,ue)}return{colorSpace:de,colorsPerPixel:xe,sMaskBitsPerComponent:Ae?ue:void 0,colorBytes:P,alphaBytes:G,needSMask:Ae}})(a):(function(K){var B=K.data,X=K.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:X,colorsPerPixel:X==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(j){for(var W=j.length,ue=new Uint8Array(2*W),de=new DataView(ue.buffer,ue.byteOffset,ue.byteLength),xe=0;xe<W;xe++)de.setUint16(2*xe,j[xe],!1);return ue})(B):B,needSMask:!1}})(a);var v,y,_,T=n,S=T.colorSpace,C=T.colorsPerPixel,O=T.sMaskBitsPerComponent,I=T.colorBytes,D=T.alphaBytes,q=T.needSMask,te=T.palette,ce=T.mask,F=null;return i!==fr.API.image_compression.NONE&&typeof l_=="function"?(F=(function(K){var B;switch(K){case fr.API.image_compression.FAST:B=11;break;case fr.API.image_compression.MEDIUM:B=13;break;case fr.API.image_compression.SLOW:B=14;break;default:B=12}return B})(i),v=this.decode.FLATE_DECODE,y="/Predictor ".concat(F," /Colors ").concat(C," /BitsPerComponent ").concat(p," /Columns ").concat(s),t=w4(I,Math.ceil(s*C*p/8),C,p,i),q&&(_=w4(D,Math.ceil(s*O/8),1,O,i))):(v=void 0,y=void 0,t=I,q&&(_=D)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:r,data:t,index:e,filter:v,decodeParameters:y,transparency:ce,palette:te,sMask:_,predictor:F,width:s,height:l,bitsPerComponent:p,sMaskBitsPerComponent:O,colorSpace:S}}},(function(t){t.processGIF89A=function(e,r,i,n){var a=new lR(e),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:s,height:l},p=new v2(100).encode(f,100);return t.processJPEG.call(this,p,r,i,n)},t.processGIF87A=t.processGIF89A})(fr.API),zl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:n,green:i,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){ti.log("bit decode error:"+r)}},zl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,n=0;n<e;n++)for(var a=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*n*4,l=0;l<8&&8*n+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},zl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<t;n++){var a=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*n*4,l=a>>4,c=15&a,f=this.palette[l];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*n+1>=this.width)break;f=this.palette[c],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},zl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*i;if(n<this.palette.length){var s=this.palette[n];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},zl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,f=a>>15?255:0,p=i*this.width*4+4*n;this.data[p]=c,this.data[p+1]=l,this.data[p+2]=s,this.data[p+3]=f}this.pos+=t}},zl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,f=(s>>11)/e*255|0,p=n*this.width*4+4*a;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=255}this.pos+=t}},zl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=n,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},zl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=n,this.data[l+2]=i,this.data[l+3]=s}},zl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,i,n){var a=new zl(e,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},f=new v2(100).encode(c,100);return t.processJPEG.call(this,f,r,i,n)}})(fr.API),N4.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,i,n){var a=new N4(e),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},f=new v2(100).encode(c,100);return t.processJPEG.call(this,f,r,i,n)}})(fr.API),fr.API.processRGBA=function(t,e,r){for(var i=t.data,n=i.length,a=new Uint8Array(n/4*3),s=new Uint8Array(n/4),l=0,c=0,f=0;f<n;f+=4){var p=i[f],v=i[f+1],y=i[f+2],_=i[f+3];a[l++]=p,a[l++]=v,a[l++]=y,s[c++]=_}var T=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:T,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},fr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Rf=fr.API,Im=Rf.getCharWidthsArray=function(t,e){var r,i,n=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:n.metadata.Unicode.widths,c=l.fof?l.fof:1,f=e.kerning?e.kerning:n.metadata.Unicode.kerning,p=f.fof?f.fof:1,v=e.doKerning!==!1,y=0,_=t.length,T=0,S=l[0]||c,C=[];for(r=0;r<_;r++)i=t.charCodeAt(r),typeof n.metadata.widthOfString=="function"?C.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(i))+s*(1e3/a)||0)/1e3):(y=v&&Gn(f[i])==="object"&&!isNaN(parseInt(f[i][T],10))?f[i][T]/p:0,C.push((l[i]||S)/c+y)),T=i;return C},_4=Rf.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),n=e.charSpace||this.internal.getCharSpace();return Rf.processArabic&&(t=Rf.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,r,n)/r:Im.apply(this,arguments).reduce(function(a,s){return a+s},0)},y4=function(t,e,r,i){for(var n=[],a=0,s=t.length,l=0;a!==s&&l+e[a]<r;)l+=e[a],a++;n.push(t.slice(0,a));var c=a;for(l=0;a!==s;)l+e[a]>i&&(n.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&n.push(t.slice(c,a)),n},x4=function(t,e,r){r||(r={});var i,n,a,s,l,c,f,p=[],v=[p],y=r.textIndent||0,_=0,T=0,S=t.split(" "),C=Im.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var O=Array(c).join(" "),I=[];S.map(function(q){(q=q.split(/\s*\n/)).length>1?I=I.concat(q.map(function(te,ce){return(ce&&te.length?`
`:"")+te})):I.push(q[0])}),S=I,c=_4.apply(this,[O,r])}for(a=0,s=S.length;a<s;a++){var D=0;if(i=S[a],c&&i[0]==`
`&&(i=i.substr(1),D=1),y+_+(T=(n=Im.apply(this,[i,r])).reduce(function(q,te){return q+te},0))>e||D){if(T>e){for(l=y4.apply(this,[i,n,e-(y+_),e]),p.push(l.shift()),p=[l.pop()];l.length;)v.push([l.shift()]);T=n.slice(i.length-(p[0]?p[0].length:0)).reduce(function(q,te){return q+te},0)}else p=[i];v.push(p),y=T+c,_=C}else p.push(i),y+=_+T,_=C}return f=c?function(q,te){return(te?O:"")+q.join(" ")}:function(q){return q.join(" ")},v.map(f)},Rf.splitTextToSize=function(t,e,r){var i,n=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle),y="Unicode";return v.metadata[y]?{widths:v.metadata[y].widths||{0:1},kerning:v.metadata[y].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/n;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,a.lineIndent=r.lineIndent;var l,c,f=[];for(l=0,c=i.length;l<c;l++)f=f.concat(x4.apply(this,[i[l],s,a]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",i={},n={},a=0;a<16;a++)i[r[a]]=e[a],n[e[a]]=r[a];var s=function(y){return"0x"+parseInt(y,10).toString(16)},l=t.__fontmetrics__.compress=function(y){var _,T,S,C,O=["{"];for(var I in y){if(_=y[I],isNaN(parseInt(I,10))?T="'"+I+"'":(I=parseInt(I,10),T=(T=s(I).slice(2)).slice(0,-1)+n[T.slice(-1)]),typeof _=="number")_<0?(S=s(_).slice(3),C="-"):(S=s(_).slice(2),C=""),S=C+S.slice(0,-1)+n[S.slice(-1)];else{if(Gn(_)!=="object")throw new Error("Don't know what to do with value type "+Gn(_)+".");S=l(_)}O.push(T+S)}return O.push("}"),O.join("")},c=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,T,S,C,O={},I=1,D=O,q=[],te="",ce="",F=y.length-1,K=1;K<F;K+=1)(C=y[K])=="'"?_?(S=_.join(""),_=void 0):_=[]:_?_.push(C):C=="{"?(q.push([D,S]),D={},S=void 0):C=="}"?((T=q.pop())[0][T[1]]=D,S=void 0,D=T[0]):C=="-"?I=-1:S===void 0?i.hasOwnProperty(C)?(te+=i[C],S=parseInt(te,16)*I,I=1,te=""):te+=C:i.hasOwnProperty(C)?(ce+=i[C],D[S]=parseInt(ce,16)*I,I=1,S=void 0,ce=""):ce+=C;return O},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},v={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var _=y.font,T=v.Unicode[_.postScriptName];T&&(_.metadata.Unicode={},_.metadata.Unicode.widths=T.widths,_.metadata.Unicode.kerning=T.kerning);var S=p.Unicode[_.postScriptName];S&&(_.metadata.Unicode.encoding=S,_.encoding=S.codePages[0])}])})(fr.API),(function(t){var e=function(r){for(var i=r.length,n=new Uint8Array(i),a=0;a<i;a++)n[a]=r.charCodeAt(a);return n};t.API.events.push(["addFont",function(r){var i=void 0,n=r.font,a=r.instance;if(!n.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(i=a.existsFileInVFS(n.postScriptName)===!1?a.loadFile(n.postScriptName):a.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(r1(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(n,i)}}])})(fr),fr.API.addSvgAsImage=function(t,e,r,i,n,a,s,l){if(isNaN(e)||isNaN(r))throw ti.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(n))throw ti.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=n;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(Or.canvg?Promise.resolve(Or.canvg):ad(()=>import("./index.es-DHzyfSaL.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(f,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){v.addImage(c.toDataURL("image/jpeg",1),e,r,i,n,s,l)})},fr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var n=0;n<this.internal.pages[i].length;n++)this.internal.pages[i][n]=this.internal.pages[i][n].replace(e,r);return this},fr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var i,n,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],f=0,p=0,v=0;function y(T,S){var C,O=!1;for(C=0;C<T.length;C+=1)T[C]===S&&(O=!0);return O}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var _=l.length;for(v=0;v<_;v+=1)r[l[v]].value=r[l[v]].defaultValue,r[l[v]].explicitSet=!1}if(Gn(t)==="object"){for(n in t)if(a=t[n],y(l,n)&&a!==void 0){if(r[n].type==="boolean"&&typeof a=="boolean")r[n].value=a;else if(r[n].type==="name"&&y(r[n].valueSet,a))r[n].value=a;else if(r[n].type==="integer"&&Number.isInteger(a))r[n].value=a;else if(r[n].type==="array"){for(f=0;f<a.length;f+=1)if(i=!0,a[f].length===1&&typeof a[f][0]=="number")c.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(i=!1);i===!0&&c.push([a[f][0]-1,a[f][1]-1].join(" "))}r[n].value="["+c.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,S=[];for(T in r)r[T].explicitSet===!0&&(r[T].type==="name"?S.push("/"+T+" /"+r[T].value):S.push("/"+T+" "+r[T].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+s.length+l.length+n.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(n+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(fr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],v=0,y=a.length;v<y;++v){if(l=s.metadata.characterToGlyph(a.charCodeAt(v)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(v),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(f[4-l.length],l)}return p.join("")},i=function(a){var s,l,c,f,p,v,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],v=0,y=(l=Object.keys(a).sort(function(_,T){return _-T})).length;v<y;v++)s=l[v],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(f=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+f+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,f=s.newObject,p=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var v=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),_="",T=0;T<y.length;T++)_+=String.fromCharCode(y[T]);var S=f();p({data:_,addLength1:!0,objectId:S}),c("endobj");var C=f();p({data:i(l.metadata.toUnicode),addLength1:!0,objectId:C}),c("endobj");var O=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Vf(l.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var I=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+Vf(l.fontName)),c("/FontDescriptor "+O+" 0 R"),c("/W "+t.API.PDFObject.convert(v)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+C+" 0 R"),c("/BaseFont /"+Vf(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+I+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,f=s.newObject,p=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var v=l.metadata.rawData,y="",_=0;_<v.length;_++)y+=String.fromCharCode(v[_]);var T=f();p({data:y,addLength1:!0,objectId:T}),c("endobj");var S=f();p({data:i(l.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var C=f();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+T+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Vf(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=f();for(var O=0;O<l.metadata.hmtx.widths.length;O++)l.metadata.hmtx.widths[O]=parseInt(l.metadata.hmtx.widths[O]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Vf(l.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var n=function(a){var s,l=a.text||"",c=a.x,f=a.y,p=a.options||{},v=a.mutex||{},y=v.pdfEscape,_=v.activeFontKey,T=v.fonts,S=_,C="",O=0,I="",D=T[S].encoding;if(T[S].encoding!=="Identity-H")return{text:l,x:c,y:f,options:p,mutex:v};for(I=l,S=_,Array.isArray(l)&&(I=l[0]),O=0;O<I.length;O+=1)T[S].metadata.hasOwnProperty("cmap")&&(s=T[S].metadata.cmap.unicode.codeMap[I[O].charCodeAt(0)]),s||I[O].charCodeAt(0)<256&&T[S].metadata.hasOwnProperty("Unicode")?C+=I[O]:C+="";var q="";return parseInt(S.slice(1))<14||D==="WinAnsiEncoding"?q=y(C,S).split("").map(function(te){return te.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(q=r(C,T[S])),v.isHex=!0,{text:q,x:c,y:f,options:p,mutex:v}};e.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?l.push([n(Object.assign({},c,{text:s[f][0]})).text,s[f][1],s[f][2]]):l.push(n(Object.assign({},c,{text:s[f]})).text);a.text=l}else a.text=n(Object.assign({},c,{text:s})).text}])})(fr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,i){return e.call(this),this.internal.vFS[r]=i,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(fr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var n,a,s,l,c,f,p,v=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],O=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,D=0;this.__bidiEngine__={};var q=function(j){var W=j.charCodeAt(),ue=W>>8,de=S[ue];return de!==void 0?v[256*de+(255&W)]:ue===252||ue===253?"AL":O.test(ue)?"L":ue===8?"R":"N"},te=function(j){for(var W,ue=0;ue<j.length;ue++){if((W=q(j.charAt(ue)))==="L")return!1;if(W==="R")return!0}return!1},ce=function(j,W,ue,de){var xe,oe,be,_e,Le=W[de];switch(Le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"N":case"AN":break;case"EN":I&&(Le="AN");break;case"AL":I=!0,Le="R";break;case"WS":case"BN":Le="N";break;case"CS":de<1||de+1>=W.length||(xe=ue[de-1])!=="EN"&&xe!=="AN"||(oe=W[de+1])!=="EN"&&oe!=="AN"?Le="N":I&&(oe="AN"),Le=oe===xe?oe:"N";break;case"ES":Le=(xe=de>0?ue[de-1]:"B")==="EN"&&de+1<W.length&&W[de+1]==="EN"?"EN":"N";break;case"ET":if(de>0&&ue[de-1]==="EN"){Le="EN";break}if(I){Le="N";break}for(be=de+1,_e=W.length;be<_e&&W[be]==="ET";)be++;Le=be<_e&&W[be]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(_e=W.length,be=de+1;be<_e&&W[be]==="NSM";)be++;if(be<_e){var Ne=j[de],Q=Ne>=1425&&Ne<=2303||Ne===64286;if(xe=W[be],Q&&(xe==="R"||xe==="AL")){Le="R";break}}}Le=de<1||(xe=W[de-1])==="B"?"N":ue[de-1];break;case"B":I=!1,n=!0,Le=D;break;case"S":a=!0,Le="N"}return Le},F=function(j,W,ue){var de=j.split("");return ue&&K(de,ue,{hiLevel:D}),de.reverse(),W&&W.reverse(),de.join("")},K=function(j,W,ue){var de,xe,oe,be,_e,Le=-1,Ne=j.length,Q=0,P=[],G=D?_:y,H=[];for(I=!1,n=!1,a=!1,xe=0;xe<Ne;xe++)H[xe]=q(j[xe]);for(oe=0;oe<Ne;oe++){if(_e=Q,P[oe]=ce(j,H,P,oe),de=240&(Q=G[_e][T[P[oe]]]),Q&=15,W[oe]=be=G[Q][5],de>0)if(de===16){for(xe=Le;xe<oe;xe++)W[xe]=1;Le=-1}else Le=-1;if(G[Q][6])Le===-1&&(Le=oe);else if(Le>-1){for(xe=Le;xe<oe;xe++)W[xe]=be;Le=-1}H[oe]==="B"&&(W[oe]=0),ue.hiLevel|=be}a&&(function(Z,se,Ae){for(var Oe=0;Oe<Ae;Oe++)if(Z[Oe]==="S"){se[Oe]=D;for(var Re=Oe-1;Re>=0&&Z[Re]==="WS";Re--)se[Re]=D}})(H,W,Ne)},B=function(j,W,ue,de,xe){if(!(xe.hiLevel<j)){if(j===1&&D===1&&!n)return W.reverse(),void(ue&&ue.reverse());for(var oe,be,_e,Le,Ne=W.length,Q=0;Q<Ne;){if(de[Q]>=j){for(_e=Q+1;_e<Ne&&de[_e]>=j;)_e++;for(Le=Q,be=_e-1;Le<be;Le++,be--)oe=W[Le],W[Le]=W[be],W[be]=oe,ue&&(oe=ue[Le],ue[Le]=ue[be],ue[be]=oe);Q=_e}Q++}}},X=function(j,W,ue){var de=j.split(""),xe={hiLevel:D};return ue||(ue=[]),K(de,ue,xe),(function(oe,be,_e){if(_e.hiLevel!==0&&p)for(var Le,Ne=0;Ne<oe.length;Ne++)be[Ne]===1&&(Le=C.indexOf(oe[Ne]))>=0&&(oe[Ne]=C[Le+1])})(de,ue,xe),B(2,de,W,ue,xe),B(1,de,W,ue,xe),de.join("")};return this.__bidiEngine__.doBidiReorder=function(j,W,ue){if((function(xe,oe){if(oe)for(var be=0;be<xe.length;be++)oe[be]=be;l===void 0&&(l=te(xe)),f===void 0&&(f=te(xe))})(j,W),s||!c||f)if(s&&c&&l^f)D=l?1:0,j=F(j,W,ue);else if(!s&&c&&f)D=l?1:0,j=X(j,W,ue),j=F(j,W);else if(!s||l||c||f){if(s&&!c&&l^f)j=F(j,W),l?(D=0,j=X(j,W,ue)):(D=1,j=X(j,W,ue),j=F(j,W));else if(s&&l&&!c&&f)D=1,j=X(j,W,ue),j=F(j,W);else if(!s&&!c&&l^f){var de=p;l?(D=1,j=X(j,W,ue),D=0,p=!1,j=X(j,W,ue),p=de):(D=0,j=X(j,W,ue),j=F(j,W),D=1,p=!1,j=X(j,W,ue),p=de,j=F(j,W))}}else D=0,j=X(j,W,ue);else D=l?1:0,j=X(j,W,ue);return j},this.__bidiEngine__.setOptions=function(j){j&&(s=j.isInputVisual,c=j.isOutputVisual,l=j.isInputRtl,f=j.isOutputRtl,p=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var n=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(n)==="[object Array]"){var l=0;for(s=[],l=0;l<n.length;l+=1)Object.prototype.toString.call(n[l])==="[object Array]"?s.push([r.doBidiReorder(n[l][0]),n[l][1],n[l][2]]):s.push([r.doBidiReorder(n[l])]);i.text=s}else i.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])})(fr),fr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new eh(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new SR(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new uR(this.contents),this.head=new hR(this),this.name=new gR(this),this.cmap=new GE(this),this.toUnicode={},this.hhea=new fR(this),this.maxp=new vR(this),this.hmtx=new _R(this),this.post=new pR(this),this.os2=new dR(this),this.loca=new bR(this),this.glyf=new yR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,i,n,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,f;for(f=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,i){var n,a,s,l;for(s=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)n=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(n))+i*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var i;return r==null&&(r=!1),i=r?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t})();var Ql,eh=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,i;for(i=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)i[r]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var r,i,n;for(n=[],r=0,i=e.length;0<=i?r<i:r>i;r=0<=i?++r:--r)n.push(this.writeByte(e.charCodeAt(r)));return n},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,i,n,a,s,l,c;return e=this.readByte(),r=this.readByte(),i=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^i)+4294967296*(255^n)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*i+4294967296*n+16777216*a+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var r,i;return r=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,i;for(r=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)r.push(this.readByte());return r},t.prototype.write=function(e){var r,i,n,a;for(a=[],i=0,n=e.length;i<n;i++)r=e[i],a.push(this.writeByte(r));return a},t})(),uR=(function(){var t;function e(r){var i,n,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,a=this.tableCount;0<=a?n<a:n>a;n=0<=a?++n:--n)i={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(r){var i,n,a,s,l,c,f,p,v,y,_,T,S;for(S in _=Object.keys(r).length,c=Math.log(2),v=16*Math.floor(Math.log(_)/c),s=Math.floor(v/c),p=16*_-v,(n=new eh).writeInt(this.scalarType),n.writeShort(_),n.writeShort(v),n.writeShort(s),n.writeShort(p),a=16*_,f=n.pos+a,l=null,T=[],r)for(y=r[S],n.writeString(S),n.writeInt(t(y)),n.writeInt(f),n.writeInt(y.length),T=T.concat(y),S==="head"&&(l=f),f+=y.length;f%4;)T.push(0),f++;return n.write(T),i=2981146554-t(n.data),n.pos=l+8,n.writeUInt32(i),n.data},t=function(r){var i,n,a,s;for(r=HE.call(r);r.length%4;)r.push(0);for(a=new eh(r),n=0,i=0,s=r.length;i<s;i=i+=4)n+=a.readUInt32();return 4294967295&n},e})(),cR={}.hasOwnProperty,Du=function(t,e){for(var r in e)cR.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Ql=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var hR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Ql),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new eh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),C4=(function(){function t(e,r){var i,n,a,s,l,c,f,p,v,y,_,T,S,C,O,I,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(_=e.readUInt16(),y=_/2,e.pos+=6,a=(function(){var q,te;for(te=[],c=q=0;0<=y?q<y:q>y;c=0<=y?++q:--q)te.push(e.readUInt16());return te})(),e.pos+=2,S=(function(){var q,te;for(te=[],c=q=0;0<=y?q<y:q>y;c=0<=y?++q:--q)te.push(e.readUInt16());return te})(),f=(function(){var q,te;for(te=[],c=q=0;0<=y?q<y:q>y;c=0<=y?++q:--q)te.push(e.readUInt16());return te})(),p=(function(){var q,te;for(te=[],c=q=0;0<=y?q<y:q>y;c=0<=y?++q:--q)te.push(e.readUInt16());return te})(),n=(this.length-e.pos+this.offset)/2,l=(function(){var q,te;for(te=[],c=q=0;0<=n?q<n:q>n;c=0<=n?++q:--q)te.push(e.readUInt16());return te})(),c=O=0,D=a.length;O<D;c=++O)for(C=a[c],i=I=T=S[c];T<=C?I<=C:I>=C;i=T<=C?++I:--I)p[c]===0?s=i+f[c]:(s=l[p[c]/2+(i-T)-(y-c)]||0)!==0&&(s+=f[c]),this.codeMap[i]=65535&s}e.pos=v}return t.encode=function(e,r){var i,n,a,s,l,c,f,p,v,y,_,T,S,C,O,I,D,q,te,ce,F,K,B,X,j,W,ue,de,xe,oe,be,_e,Le,Ne,Q,P,G,H,Z,se,Ae,Oe,Re,Ie,ot,it;switch(de=new eh,s=Object.keys(e).sort(function(Tt,Nt){return Tt-Nt}),r){case"macroman":for(S=0,C=(function(){var Tt=[];for(T=0;T<256;++T)Tt.push(0);return Tt})(),I={0:0},a={},xe=0,Le=s.length;xe<Le;xe++)I[Re=e[n=s[xe]]]==null&&(I[Re]=++S),a[n]={old:e[n],new:I[e[n]]},C[n]=I[e[n]];return de.writeUInt16(1),de.writeUInt16(0),de.writeUInt32(12),de.writeUInt16(0),de.writeUInt16(262),de.writeUInt16(0),de.write(C),{charMap:a,subtable:de.data,maxGlyphID:S+1};case"unicode":for(W=[],v=[],D=0,I={},i={},O=f=null,oe=0,Ne=s.length;oe<Ne;oe++)I[te=e[n=s[oe]]]==null&&(I[te]=++D),i[n]={old:te,new:I[te]},l=I[te]-n,O!=null&&l===f||(O&&v.push(O),W.push(n),f=l),O=n;for(O&&v.push(O),v.push(65535),W.push(65535),X=2*(B=W.length),K=2*Math.pow(Math.log(B)/Math.LN2,2),y=Math.log(K/2)/Math.LN2,F=2*B-K,c=[],ce=[],_=[],T=be=0,Q=W.length;be<Q;T=++be){if(j=W[T],p=v[T],j===65535){c.push(0),ce.push(0);break}if(j-(ue=i[j].new)>=32768)for(c.push(0),ce.push(2*(_.length+B-T)),n=_e=j;j<=p?_e<=p:_e>=p;n=j<=p?++_e:--_e)_.push(i[n].new);else c.push(ue-j),ce.push(0)}for(de.writeUInt16(3),de.writeUInt16(1),de.writeUInt32(12),de.writeUInt16(4),de.writeUInt16(16+8*B+2*_.length),de.writeUInt16(0),de.writeUInt16(X),de.writeUInt16(K),de.writeUInt16(y),de.writeUInt16(F),Ae=0,P=v.length;Ae<P;Ae++)n=v[Ae],de.writeUInt16(n);for(de.writeUInt16(0),Oe=0,G=W.length;Oe<G;Oe++)n=W[Oe],de.writeUInt16(n);for(Ie=0,H=c.length;Ie<H;Ie++)l=c[Ie],de.writeUInt16(l);for(ot=0,Z=ce.length;ot<Z;ot++)q=ce[ot],de.writeUInt16(q);for(it=0,se=_.length;it<se;it++)S=_[it],de.writeUInt16(S);return{charMap:i,subtable:de.data,maxGlyphID:D+1}}},t})(),GE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Ql),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,i,n;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)r=new C4(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var i,n;return r==null&&(r="macroman"),i=C4.encode(e,r),(n=new eh).writeUInt16(0),n.writeUInt16(1),i.table=n.data.concat(i.subtable),i},t})(),fR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Ql),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),dR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Ql),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,i;for(i=[],r=0;r<10;++r)i.push(e.readByte());return i})(),this.charRange=(function(){var r,i;for(i=[],r=0;r<4;++r)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),pR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Ql),t.prototype.tag="post",t.prototype.parse=function(e){var r,i,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(i=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],n=[];e.pos<this.offset+this.length;)r=e.readByte(),n.push(this.names.push(e.readString(r)));return n;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var s,l,c;for(c=[],a=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;a=0<=l?++s:--s)c.push(e.readUInt32());return c}).call(this)}},t})(),mR=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},gR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Ql),t.prototype.tag="name",t.prototype.parse=function(e){var r,i,n,a,s,l,c,f,p,v,y;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=p=0,v=i.length;p<v;a=++p)n=i[a],e.pos=n.offset,f=e.readString(n.length),s=new mR(f,n),c[y=n.nameID]==null&&(c[y]=[]),c[n.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),vR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Ql),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),_R=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Ql),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,i,n,a,s,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],r=f=0;0<=n?f<n:f>n;r=0<=n?++f:--f)p.push(e.readInt16());return p})(),this.widths=(function(){var f,p,v,y;for(y=[],f=0,p=(v=this.metrics).length;f<p;f++)a=v[f],y.push(a.advance);return y}).call(this),i=this.widths[this.widths.length-1],c=[],r=s=0;0<=n?s<n:s>n;r=0<=n?++s:--s)c.push(this.widths.push(i));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),HE=[].slice,yR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Ql),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,i,n,a,s,l,c,f,p,v;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(e),(n=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+i,s=(l=new eh(r.read(n))).readShort(),f=l.readShort(),v=l.readShort(),c=l.readShort(),p=l.readShort(),this.cache[e]=s===-1?new wR(l,f,v,c,p):new xR(l,s,f,v,c,p),this.cache[e]))},t.prototype.encode=function(e,r,i){var n,a,s,l,c;for(s=[],a=[],l=0,c=r.length;l<c;l++)n=e[r[l]],a.push(s.length),n&&(s=s.concat(n.encode(i)));return a.push(s.length),{table:s,offsets:a}},t})(),xR=(function(){function t(e,r,i,n,a,s){this.raw=e,this.numberOfContours=r,this.xMin=i,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),wR=(function(){function t(e,r,i,n,a){var s,l;for(this.raw=e,this.xMin=r,this.yMin=i,this.xMax=n,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,i;for(r=new eh(HE.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),bR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Ql),t.prototype.tag="loca",t.prototype.parse=function(e){var r,i;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var n,a;for(a=[],i=0,n=this.length;i<n;i+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var n,a;for(a=[],i=0,n=this.length;i<n;i+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var i=new Uint32Array(this.offsets.length),n=0,a=0,s=0;s<i.length;++s)if(i[s]=n,a<r.length&&r[a]==s){++a,i[s]=n;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(n+=c)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},t})(),SR=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,i,n,a;for(r in n=this.font.cmap.tables[0].codeMap,e={},a=this.subset)i=a[r],e[r]=n[i];return e},t.prototype.glyphsFor=function(e){var r,i,n,a,s,l,c;for(n={},s=0,l=e.length;s<l;s++)n[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],n)(i=n[a])!=null&&i.compound&&r.push.apply(r,i.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))i=c[a],n[a]=i;return n},t.prototype.encode=function(e,r){var i,n,a,s,l,c,f,p,v,y,_,T,S,C,O;for(n in i=GE.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),_={0:0},O=i.charMap)_[(c=O[n]).old]=c.new;for(T in y=i.maxGlyphID,s)T in _||(_[T]=y++);return p=(function(I){var D,q;for(D in q={},I)q[I[D]]=D;return q})(_),v=Object.keys(p).sort(function(I,D){return I-D}),S=(function(){var I,D,q;for(q=[],I=0,D=v.length;I<D;I++)l=v[I],q.push(p[l]);return q})(),a=this.font.glyf.encode(s,S,_),f=this.font.loca.encode(a.offsets,S),C={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},t})();fr.API.PDFObject=(function(){var t;function e(){}return t=function(r,i){return(Array(i+1).join("0")+r).slice(-i)},e.convert=function(r){var i,n,a,s;if(Array.isArray(r))return"["+(function(){var l,c,f;for(f=[],l=0,c=r.length;l<c;l++)i=r[l],f.push(e.convert(i));return f})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in a=["<<"],r)s=r[n],a.push("/"+n+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e})();const _2=async t=>{try{const r=await(await fetch(t)).blob();return new Promise((i,n)=>{const a=new FileReader;a.onloadend=()=>i(a.result),a.onerror=n,a.readAsDataURL(r)})}catch(e){return console.error("Error loading image:",e),null}},ER=(t,e)=>new Promise(r=>{const i=document.createElement("canvas");i.width=600,i.height=450;const n=i.getContext("2d"),a=n.createLinearGradient(0,0,i.width,i.height);a.addColorStop(0,"#f8fafc"),a.addColorStop(1,"#e2e8f0"),n.fillStyle=a,n.fillRect(0,0,i.width,i.height),n.strokeStyle="#cbd5e1",n.lineWidth=.3;for(let c=0;c<=i.width;c+=25)n.beginPath(),n.moveTo(c,0),n.lineTo(c,i.height),n.stroke();for(let c=0;c<=i.height;c+=25)n.beginPath(),n.moveTo(0,c),n.lineTo(i.width,c),n.stroke();if(n.shadowColor="rgba(0, 0, 0, 0.1)",n.shadowBlur=10,n.strokeStyle="#64748b",n.lineWidth=3,n.strokeRect(5,5,i.width-10,i.height-10),n.shadowBlur=0,t&&t.type==="Polygon"){const c=t.coordinates[0],f=c.map(F=>F[0]),p=c.map(F=>F[1]),v=Math.min(...f),y=Math.max(...f),_=Math.min(...p),T=Math.max(...p),S=60,C=(i.width-2*S)/(y-v),O=(i.height-2*S)/(T-_),I=Math.min(C,O),D=F=>S+(F-v)*I,q=F=>i.height-(S+(F-_)*I);n.shadowColor="rgba(37, 99, 235, 0.3)",n.shadowBlur=15,n.shadowOffsetX=5,n.shadowOffsetY=5;const te=n.createLinearGradient(0,0,i.width,i.height);te.addColorStop(0,"rgba(59, 130, 246, 0.2)"),te.addColorStop(1,"rgba(37, 99, 235, 0.3)"),n.fillStyle=te,n.beginPath(),c.forEach((F,K)=>{const B=D(F[0]),X=q(F[1]);K===0?n.moveTo(B,X):n.lineTo(B,X)}),n.closePath(),n.fill(),n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0,n.strokeStyle="#1d4ed8",n.lineWidth=3,n.stroke(),c.forEach((F,K)=>{if(K<c.length-1){const B=D(F[0]),X=q(F[1]);n.beginPath(),n.arc(B,X,8,0,2*Math.PI),n.fillStyle="rgba(37, 99, 235, 0.3)",n.fill(),n.beginPath(),n.arc(B,X,5,0,2*Math.PI),n.fillStyle="#1e40af",n.fill(),n.beginPath(),n.arc(B,X,2,0,2*Math.PI),n.fillStyle="#ffffff",n.fill(),n.fillStyle="#1e293b",n.font="bold 10px Arial",n.fillText(`P${K+1}`,B+10,X-10)}}),n.font="bold 11px Arial",n.textAlign="center";for(let F=0;F<c.length-1;F++){const K=c[F],B=c[(F+1)%(c.length-1)]||c[F+1],X=D(K[0]),j=q(K[1]),W=D(B[0]),ue=q(B[1]),de=6371e3,xe=K[1]*Math.PI/180,oe=B[1]*Math.PI/180,be=(B[1]-K[1])*Math.PI/180,_e=(B[0]-K[0])*Math.PI/180,Le=Math.sin(be/2)*Math.sin(be/2)+Math.cos(xe)*Math.cos(oe)*Math.sin(_e/2)*Math.sin(_e/2),Ne=2*Math.atan2(Math.sqrt(Le),Math.sqrt(1-Le)),Q=de*Ne,P=(X+W)/2,G=(j+ue)/2;n.fillStyle="#1e40af";const H=55,Z=18;n.beginPath(),n.roundRect(P-H/2,G-Z/2,H,Z,4),n.fill(),n.fillStyle="#ffffff",n.fillText(`${Q.toFixed(1)}m`,P,G+4)}const ce=i.width/2;n.fillStyle="#059669",n.beginPath(),n.roundRect(ce-60,20,120,30,6),n.fill(),n.fillStyle="#ffffff",n.font="bold 14px Arial",n.fillText(`Area: ${e||0} m`,ce,40)}const s=i.width-50,l=50;n.beginPath(),n.arc(s,l,20,0,2*Math.PI),n.fillStyle="#ffffff",n.fill(),n.strokeStyle="#64748b",n.lineWidth=2,n.stroke(),n.fillStyle="#dc2626",n.beginPath(),n.moveTo(s,l-12),n.lineTo(s-6,l+5),n.lineTo(s,l),n.lineTo(s+6,l+5),n.closePath(),n.fill(),n.fillStyle="#1e293b",n.font="bold 10px Arial",n.textAlign="center",n.fillText("N",s,l+15),n.fillStyle="#64748b",n.font="9px Arial",n.textAlign="left",n.fillText("Scale: Approximate",15,i.height-15),r(i.toDataURL("image/png"))}),Pn={primary:[37,99,235],primaryDark:[30,64,175],success:[5,150,105],warning:[245,158,11],danger:[220,38,38],gray:[100,116,139],grayLight:[241,245,249],white:[255,255,255],black:[15,23,42]},qE=async t=>{const e=new fr("p","mm","a4"),r=e.internal.pageSize.getWidth(),i=e.internal.pageSize.getHeight(),n=12,a=r-2*n;let s=0;const l=X=>e.setTextColor(X[0],X[1],X[2]),c=X=>e.setFillColor(X[0],X[1],X[2]),f=X=>e.setDrawColor(X[0],X[1],X[2]),p=(X=50)=>s>i-X?(e.addPage(),s=n+10,!0):!1,v=(X,j,W)=>(c(Pn.primary),e.roundedRect(n,W,a,10,2,2,"F"),c(Pn.primaryDark),e.rect(n,W,4,10,"F"),e.setFontSize(11),e.setFont("helvetica","bold"),l(Pn.white),e.text(`${j}  ${X}`,n+8,W+7),W+14),y=(X,j,W,ue,de=80)=>{e.setFontSize(8),e.setFont("helvetica","normal"),l(Pn.gray),e.text(X,W,ue),e.setFontSize(9),e.setFont("helvetica","bold"),l(Pn.black);const xe=j!=null&&j!==""?String(j):"";e.text(xe.substring(0,40),W,ue+4)},_=(X,j,W,ue)=>{f(Pn.gray),e.setLineWidth(.3),e.rect(W,ue-3,3.5,3.5),j&&(c(Pn.success),e.rect(W+.5,ue-2.5,2.5,2.5,"F")),e.setFontSize(8),e.setFont("helvetica","normal"),l(Pn.black),e.text(X,W+5,ue)},T=(X,j,W,ue,de,xe,oe)=>{c(oe),e.roundedRect(X,j,W,ue,2,2,"F"),e.setFontSize(8),e.setFont("helvetica","normal"),l(Pn.white),e.text(de,X+W/2,j+6,{align:"center"}),e.setFontSize(14),e.setFont("helvetica","bold"),e.text(String(xe||""),X+W/2,j+14,{align:"center"})};c(Pn.primary),e.rect(0,0,r,45,"F"),c(Pn.primaryDark),e.rect(0,40,r,5,"F"),c(Pn.white),e.circle(20,20,10,"F"),e.setFontSize(6),l(Pn.primary),e.text("LOGO",20,21,{align:"center"}),e.setFontSize(20),e.setFont("helvetica","bold"),l(Pn.white),e.text("Property Tax Assessment Report",35,18),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Annexure-A Form | Official Survey Document",35,26),e.setFontSize(8),e.text(`Generated: ${new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,r-n,18,{align:"right"}),e.text(`Document ID: ${t.id?.substring(0,8)||"N/A"}`,r-n,24,{align:"right"}),s=52;const S=(a-9)/4;if(T(n,s,S,18,"Building ID",t.building_id||"N/A",Pn.primary),T(n+S+3,s,S,18,"Total Area",`${t.area_sqm||0} m`,Pn.success),T(n+(S+3)*2,s,S,18,"Floor",`${t.floor_number||1}/${t.total_floors||1}`,Pn.warning),T(n+(S+3)*3,s,S,18,"Status",t.status||"Pending",Pn.gray),s+=25,t.geometry)try{c(Pn.grayLight),e.roundedRect(n,s,a,75,3,3,"F"),f([203,213,225]),e.setLineWidth(.5),e.roundedRect(n,s,a,75,3,3);const X=await ER(t.geometry,t.area_sqm);e.addImage(X,"PNG",n+5,s+3,a-10,69),s+=80}catch(X){console.error("Error adding CAD diagram:",X),s+=10}p(60),s=v("Owner Information","",s);const C=n+3,O=n+a/3+3,I=n+a/3*2+3;if(y("Owner Name",t.owner_name,C,s),y("Phone Number",t.phone_number,O,s),y("Aadhaar Number",t.aadhaar_number,I,s),s+=12,y("Email Address",t.email_address,C,s),y("Family Members",t.family_members_count,O,s),y("Ownership Type",t.ownership_type,I,s),s+=12,y("Occupier Name",t.occupier_name,C,s),s+=15,p(50),s=v("Location Details","",s),y("7/12 Survey/Gat No",t.survey_gat_no,C,s),y("City Survey No",t.city_survey_no,O,s),y("Layout/Plot No",t.layout_name_plot_no,I,s),s+=12,y("Building Name",t.building_name,C,s),y("Nearest Road Type",t.nearest_road_type,O,s),y("Pin Code",t.pin_code,I,s),s+=12,y("Property Type",t.property_type,C,s),y("Usage Type",t.usage_type,O,s),y("Usage Sub-Type",t.usage_sub_type,I,s),s+=12,y("Full Address with Floor",t.address_with_floor,C,s,a-6),s+=15,p(50),s=v("Construction Details","",s),y("Construction Type",t.construction_type,C,s),y("Year of Construction",t.year_of_construction,O,s),t.year_of_construction){const X=new Date().getFullYear()-t.year_of_construction;y("Building Age",`${X} years`,I,s)}s+=12,y("Permission No",t.permission_no,C,s),y("Permission Date",t.permission_date,O,s),s+=10,_("Building Permission",t.building_permission,C,s),_("Occupancy Certificate",t.occupancy_certificate,O,s),s+=12,p(50),s=v("Water Supply Details","",s),_("Water Connection Available",t.water_connection,C,s),s+=8,t.water_connection&&(y("Connection Type",t.water_connection_type,C,s),y("Authorization",t.water_authorized,O,s),y("Pipe Size",t.pipe_size,I,s),s+=12,y("Meter No",t.water_meter_no,C,s),y("Consumer No",t.water_consumer_no,O,s),y("Connection Date",t.water_connection_date,I,s),s+=12),s+=5,p(50),s=v("Sanitation & Utilities","",s);const D=C,q=n+a/2;_("Has Toilet",t.has_toilet,D,s),_("Electricity Connection",t.electricity_connection,q,s),s+=7,_("Septic Tank",t.has_septic_tank,D,s),_("Solar Panels",t.has_solar,q,s),s+=7,_("Sewerage Connection",t.has_sewerage,D,s),_("Rain Water Harvesting",t.has_rainwater_harvesting,q,s),s+=7,_("Property Tax Paid",t.tax_paid,D,s),t.has_toilet&&t.toilet_count&&y("Toilet Count",t.toilet_count,q,s-2),s+=12,p(60),s=v("Assessment Details","",s),y("ULB Name",t.ulb_name,C,s),y("District",t.district,O,s),y("Town",t.town,I,s),s+=12,y("Zone No",t.zone_no,C,s),y("New Ward No",t.new_ward_no,O,s),y("Old Ward No",t.old_ward_no,I,s),s+=12,y("Old Property No",t.old_property_no,C,s),y("New Property No",t.new_property_no,O,s),s+=12,c([240,253,244]),e.roundedRect(n,s,a,16,2,2,"F"),s+=4,y("Total Carpet Area (m)",t.total_carpet_area,C,s),y("Exempted Area (m)",t.exempted_area,O,s),y("Assessable Area (m)",t.assessable_area,I,s),s+=18,p(80),s=v("Photo Documentation","",s);let te=n+5;const ce=45,F=55;if(t.owner_photo_url)try{const X=await _2(t.owner_photo_url);X&&(c(Pn.grayLight),e.roundedRect(te-2,s,ce+4,F+12,2,2,"F"),e.addImage(X,"JPEG",te,s+2,ce,F),e.setFontSize(7),e.setFont("helvetica","bold"),l(Pn.gray),e.text("Owner Photo",te+ce/2,s+F+8,{align:"center"}),te+=ce+15)}catch(X){console.error("Error adding owner photo:",X)}if(t.building_photo_url)try{const X=await _2(t.building_photo_url);X&&(c(Pn.grayLight),e.roundedRect(te-2,s,ce+4,F+12,2,2,"F"),e.addImage(X,"JPEG",te,s+2,ce,F),e.setFontSize(7),e.setFont("helvetica","bold"),l(Pn.gray),e.text("Building Front",te+ce/2,s+F+8,{align:"center"}),te+=ce+15)}catch(X){console.error("Error adding building photo 1:",X)}if(t.building_photo_url_2)try{const X=await _2(t.building_photo_url_2);X&&(c(Pn.grayLight),e.roundedRect(te-2,s,ce+4,F+12,2,2,"F"),e.addImage(X,"JPEG",te,s+2,ce,F),e.setFontSize(7),e.setFont("helvetica","bold"),l(Pn.gray),e.text("Building Side",te+ce/2,s+F+8,{align:"center"}))}catch(X){console.error("Error adding building photo 2:",X)}s+=F+20,p(30),c(Pn.grayLight),e.roundedRect(n,s,a,20,2,2,"F"),s+=6,e.setFontSize(8),e.setFont("helvetica","bold"),l(Pn.gray),e.text("Survey Metadata",n+5,s),s+=6,e.setFont("helvetica","normal"),e.setFontSize(7),e.text(`Survey ID: ${t.id||"N/A"}`,n+5,s),e.text(`Created: ${t.created_at?new Date(t.created_at).toLocaleString("en-IN"):"N/A"}`,n+70,s),e.text(`Surveyor ID: ${t.surveyor_id?.substring(0,12)||"N/A"}...`,n+140,s);const K=e.internal.getNumberOfPages();for(let X=1;X<=K;X++)e.setPage(X),f(Pn.primary),e.setLineWidth(.5),e.line(n,i-12,r-n,i-12),e.setFontSize(7),l(Pn.gray),e.text("Property Tax Assessment System | Annexure-A Form | Official Document | Confidential",r/2,i-8,{align:"center"}),e.setFont("helvetica","bold"),l(Pn.primary),e.text(`Page ${X} of ${K}`,r-n,i-8,{align:"right"});const B=`Annexure_A_${t.building_id||t.id?.substring(0,8)||"Survey"}_${new Date().toISOString().split("T")[0]}.pdf`;e.save(B)},VE=ve.createContext(),$E=()=>{const t=ve.useContext(VE);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},TR=({children:t})=>{const[e,r]=ve.useState([]),i=ve.useCallback((f,p="info",v=4e3)=>{const y=Date.now();return r(_=>[..._,{id:y,message:f,type:p,duration:v}]),y},[]),n=ve.useCallback(f=>{r(p=>p.filter(v=>v.id!==f))},[]),a=ve.useCallback((f,p)=>i(f,"success",p),[i]),s=ve.useCallback((f,p)=>i(f,"error",p),[i]),l=ve.useCallback((f,p)=>i(f,"info",p),[i]),c=ve.useCallback((f,p)=>i(f,"warning",p),[i]);return x.jsxs(VE.Provider,{value:{success:a,error:s,info:l,warning:c,removeToast:n},children:[t,x.jsx(AR,{toasts:e,removeToast:n})]})},AR=({toasts:t,removeToast:e})=>x.jsx("div",{className:"fixed bottom-4 right-4 z-[10000] flex flex-col gap-2 max-w-sm w-full px-4 sm:px-0",children:t.map(r=>x.jsx(LR,{...r,onClose:()=>e(r.id)},r.id))}),LR=({id:t,message:e,type:r,duration:i,onClose:n})=>{const[a,s]=ve.useState(!1),[l,c]=ve.useState(100);ve.useEffect(()=>{setTimeout(()=>s(!0),10);const y=Date.now(),_=setInterval(()=>{const S=Date.now()-y,C=Math.max(0,100-S/i*100);c(C)},50),T=setTimeout(()=>{s(!1),setTimeout(n,300)},i);return()=>{clearInterval(_),clearTimeout(T)}},[i,n]);const f={success:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),error:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),warning:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),info:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},p={success:"bg-green-500 text-white",error:"bg-red-500 text-white",warning:"bg-yellow-500 text-white",info:"bg-blue-500 text-white"},v={success:"bg-green-300",error:"bg-red-300",warning:"bg-yellow-300",info:"bg-blue-300"};return x.jsx("div",{className:`transform transition-all duration-300 ease-out ${a?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:x.jsxs("div",{className:`${p[r]} rounded-xl shadow-lg overflow-hidden`,children:[x.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[x.jsx("div",{className:"flex-shrink-0",children:f[r]}),x.jsx("p",{className:"flex-1 text-sm font-medium",children:e}),x.jsx("button",{onClick:()=>{s(!1),setTimeout(n,300)},className:"flex-shrink-0 p-1 rounded-full hover:bg-white/20 transition-colors",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"h-1 bg-black/10",children:x.jsx("div",{className:`h-full ${v[r]} transition-all duration-100 ease-linear`,style:{width:`${l}%`}})})]})})};var b1={};b1.version="0.18.5";var WE=1252,NR=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],ZE=function(t){NR.indexOf(t)!=-1&&(WE=t)};function CR(){ZE(1252)}var Q0=function(t){ZE(t)};function MR(){Q0(1200),CR()}var Fm=function(e){return String.fromCharCode(e)},M4=function(e){return String.fromCharCode(e)},S1,Kc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ep(t){for(var e="",r=0,i=0,n=0,a=0,s=0,l=0,c=0,f=0;f<t.length;)r=t.charCodeAt(f++),a=r>>2,i=t.charCodeAt(f++),s=(r&3)<<4|i>>4,n=t.charCodeAt(f++),l=(i&15)<<2|n>>6,c=n&63,isNaN(i)?l=c=64:isNaN(n)&&(c=64),e+=Kc.charAt(a)+Kc.charAt(s)+Kc.charAt(l)+Kc.charAt(c);return e}function hc(t){var e="",r=0,i=0,n=0,a=0,s=0,l=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)a=Kc.indexOf(t.charAt(f++)),s=Kc.indexOf(t.charAt(f++)),r=a<<2|s>>4,e+=String.fromCharCode(r),l=Kc.indexOf(t.charAt(f++)),i=(s&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(i)),c=Kc.indexOf(t.charAt(f++)),n=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(n));return e}var Cn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),gc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Fh(t){return Cn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function k4(t){return Cn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Wl=function(e){return Cn?gc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function ag(t){if(typeof ArrayBuffer>"u")return Wl(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),i=0;i!=t.length;++i)r[i]=t.charCodeAt(i)&255;return e}function _p(t){if(Array.isArray(t))return t.map(function(i){return String.fromCharCode(i)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function kR(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var vs=Cn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:gc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var i=new Uint8Array(r),n=0;for(e=0,r=0;e<t.length;r+=n,++e)if(n=t[e].length,t[e]instanceof Uint8Array)i.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";i.set(new Uint8Array(t[e]),r)}return i}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function PR(t){for(var e=[],r=0,i=t.length+250,n=Fh(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)n[r++]=s;else if(s<2048)n[r++]=192|s>>6&31,n[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var l=t.charCodeAt(++a)&1023;n[r++]=240|s>>8&7,n[r++]=128|s>>2&63,n[r++]=128|l>>6&15|(s&3)<<4,n[r++]=128|l&63}else n[r++]=224|s>>12&15,n[r++]=128|s>>6&63,n[r++]=128|s&63;r>i&&(e.push(n.slice(0,r)),r=0,n=Fh(65535),i=65530)}return e.push(n.slice(0,r)),vs(e)}var C0=/\u0000/g,Bm=/[\u0001-\u0006]/g;function fd(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Zl(t,e){var r=""+t;return r.length>=e?r:Yi("0",e-r.length)+r}function $_(t,e){var r=""+t;return r.length>=e?r:Yi(" ",e-r.length)+r}function E1(t,e){var r=""+t;return r.length>=e?r:r+Yi(" ",e-r.length)}function OR(t,e){var r=""+Math.round(t);return r.length>=e?r:Yi("0",e-r.length)+r}function RR(t,e){var r=""+t;return r.length>=e?r:Yi("0",e-r.length)+r}var P4=Math.pow(2,32);function Df(t,e){if(t>P4||t<-P4)return OR(t,e);var r=Math.round(t);return RR(r,e)}function T1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var O4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],y2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function DR(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Xi={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},R4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},jR={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function A1(t,e,r){for(var i=t<0?-1:1,n=t*i,a=0,s=1,l=0,c=1,f=0,p=0,v=Math.floor(n);f<e&&(v=Math.floor(n),l=v*s+a,p=v*f+c,!(n-v<5e-8));)n=1/(n-v),a=s,s=l,c=f,f=p;if(p>e&&(f>e?(p=c,l=a):(p=f,l=s)),!r)return[0,i*l,p];var y=Math.floor(i*l/p);return[y,i*l-y*p,p]}function Um(t,e,r){if(t>2958465||t<0)return null;var i=t|0,n=Math.floor(86400*(t-i)),a=0,s=[],l={D:i,T:n,u:86400*(t-i)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(i+=1462),l.u>.9999&&(l.u=0,++n==86400&&(l.T=n=0,++i,++l.D)),i===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(i===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{i>60&&--i;var c=new Date(1900,0,1);c.setDate(c.getDate()+i-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),i<60&&(a=(a+6)%7),r&&(a=HR(c,s))}return l.y=s[0],l.m=s[1],l.d=s[2],l.S=n%60,n=Math.floor(n/60),l.M=n%60,n=Math.floor(n/60),l.H=n,l.q=a,l}var YE=new Date(1899,11,31,0,0,0),IR=YE.getTime(),FR=new Date(1900,2,1,0,0,0);function KE(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=FR&&(r+=1440*60*1e3),(r-(IR+(t.getTimezoneOffset()-YE.getTimezoneOffset())*6e4))/(1440*60*1e3)}function W_(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function BR(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function UR(t){var e=t<0?12:11,r=W_(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function zR(t){var e=W_(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function GR(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=UR(t):e===10?r=t.toFixed(10).substr(0,12):r=zR(t),W_(BR(r.toUpperCase()))}function g_(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):GR(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return th(14,KE(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function HR(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function qR(t,e,r,i){var n="",a=0,s=0,l=r.y,c,f=0;switch(t){case 98:l=r.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,f=2;break;default:c=l%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:c=r.m,f=e.length;break;case 3:return y2[r.m-1][1];case 5:return y2[r.m-1][0];default:return y2[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=r.d,f=e.length;break;case 3:return O4[r.q][0];default:return O4[r.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(r.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=r.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=r.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Zl(r.S,e.length):(i>=2?s=i===3?1e3:100:s=i===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(n=Zl(a,2+i),e==="ss"?n.substr(0,2):"."+n.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:c=l,f=1;break}var p=f>0?Zl(c,f):"";return p}function Xc(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,i=t.substr(0,r);r!=t.length;r+=e)i+=(i.length>0?",":"")+t.substr(r,e);return i}var XE=/%/g;function VR(t,e,r){var i=e.replace(XE,""),n=e.length-i.length;return lc(t,i,r*Math.pow(10,2*n))+Yi("%",n)}function $R(t,e,r){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return lc(t,e.substr(0,i),r/Math.pow(10,3*(e.length-i)))}function JE(t,e){var r,i=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+JE(t,-e);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%n;if(a<0&&(a+=n),r=(e/Math.pow(10,a)).toPrecision(i+1+(n+a)%n),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,n)+"."+r.substr(2+n),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,f,p){return c+f+p.substr(0,(n+a)%n)+"."+p.substr(a)+"E"})}else r=e.toExponential(i);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var QE=/# (\?+)( ?)\/( ?)(\d+)/;function WR(t,e,r){var i=parseInt(t[4],10),n=Math.round(e*i),a=Math.floor(n/i),s=n-a*i,l=i;return r+(a===0?"":""+a)+" "+(s===0?Yi(" ",t[1].length+1+t[4].length):$_(s,t[1].length)+t[2]+"/"+t[3]+Zl(l,t[4].length))}function ZR(t,e,r){return r+(e===0?"":""+e)+Yi(" ",t[1].length+2+t[4].length)}var e6=/^#*0*\.([0#]+)/,t6=/\).*[0#]/,r6=/\(###\) ###\\?-####/;function Ks(t){for(var e="",r,i=0;i!=t.length;++i)switch(r=t.charCodeAt(i)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function D4(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function j4(t,e){var r=t-Math.floor(t),i=Math.pow(10,e);return e<(""+Math.round(r*i)).length?0:Math.round(r*i)}function YR(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function KR(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function ml(t,e,r){if(t.charCodeAt(0)===40&&!e.match(t6)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ml("n",i,r):"("+ml("n",i,-r)+")"}if(e.charCodeAt(e.length-1)===44)return $R(t,e,r);if(e.indexOf("%")!==-1)return VR(t,e,r);if(e.indexOf("E")!==-1)return JE(e,r);if(e.charCodeAt(0)===36)return"$"+ml(t,e.substr(e.charAt(1)==" "?2:1),r);var n,a,s,l,c=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+Df(c,e.length);if(e.match(/^[#?]+$/))return n=Df(r,0),n==="0"&&(n=""),n.length>e.length?n:Ks(e.substr(0,e.length-n.length))+n;if(a=e.match(QE))return WR(a,c,f);if(e.match(/^#+0+$/))return f+Df(c,e.length-e.indexOf("0"));if(a=e.match(e6))return n=D4(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Ks(a[1])).replace(/\.$/,"."+Ks(a[1])).replace(/\.(\d*)$/,function(T,S){return"."+S+Yi("0",Ks(a[1]).length-S.length)}),e.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+D4(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+Xc(Df(c,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ml(t,e,-r):Xc(""+(Math.floor(r)+YR(r,a[1].length)))+"."+Zl(j4(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return ml(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return n=fd(ml(t,e.replace(/[\\-]/g,""),r)),s=0,fd(fd(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return s<n.length?n.charAt(s++):T==="0"?"0":""}));if(e.match(r6))return n=ml(t,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=A1(c,Math.pow(10,s)-1,!1),n=""+f,p=lc("n",a[1],l[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),n+=p+a[2]+"/"+a[3],p=E1(l[2],s),p.length<a[4].length&&(p=Ks(a[4].substr(a[4].length-p.length))+p),n+=p,n;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=A1(c,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?$_(l[1],s)+a[2]+"/"+a[3]+E1(l[2],s):Yi(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return n=Df(r,0),e.length<=n.length?n:Ks(e.substr(0,e.length-n.length))+n;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=n.indexOf(".");var v=e.indexOf(".")-s,y=e.length-n.length-v;return Ks(e.substr(0,v)+n+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=j4(r,a[1].length),r<0?"-"+ml(t,e,-r):Xc(KR(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Zl(0,3-T.length):"")+T})+"."+Zl(s,a[1].length);switch(e){case"###,##0.00":return ml(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var _=Xc(Df(c,0));return _!=="0"?f+_:"";case"###,###.00":return ml(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ml(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function XR(t,e,r){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return lc(t,e.substr(0,i),r/Math.pow(10,3*(e.length-i)))}function JR(t,e,r){var i=e.replace(XE,""),n=e.length-i.length;return lc(t,i,r*Math.pow(10,2*n))+Yi("%",n)}function n6(t,e){var r,i=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+n6(t,-e);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%n;if(a<0&&(a+=n),r=(e/Math.pow(10,a)).toPrecision(i+1+(n+a)%n),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,f,p){return c+f+p.substr(0,(n+a)%n)+"."+p.substr(a)+"E"})}else r=e.toExponential(i);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Lu(t,e,r){if(t.charCodeAt(0)===40&&!e.match(t6)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Lu("n",i,r):"("+Lu("n",i,-r)+")"}if(e.charCodeAt(e.length-1)===44)return XR(t,e,r);if(e.indexOf("%")!==-1)return JR(t,e,r);if(e.indexOf("E")!==-1)return n6(e,r);if(e.charCodeAt(0)===36)return"$"+Lu(t,e.substr(e.charAt(1)==" "?2:1),r);var n,a,s,l,c=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+Zl(c,e.length);if(e.match(/^[#?]+$/))return n=""+r,r===0&&(n=""),n.length>e.length?n:Ks(e.substr(0,e.length-n.length))+n;if(a=e.match(QE))return ZR(a,c,f);if(e.match(/^#+0+$/))return f+Zl(c,e.length-e.indexOf("0"));if(a=e.match(e6))return n=(""+r).replace(/^([^\.]+)$/,"$1."+Ks(a[1])).replace(/\.$/,"."+Ks(a[1])),n=n.replace(/\.(\d*)$/,function(T,S){return"."+S+Yi("0",Ks(a[1]).length-S.length)}),e.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+Xc(""+c);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Lu(t,e,-r):Xc(""+r)+"."+Yi("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Lu(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return n=fd(Lu(t,e.replace(/[\\-]/g,""),r)),s=0,fd(fd(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return s<n.length?n.charAt(s++):T==="0"?"0":""}));if(e.match(r6))return n=Lu(t,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=A1(c,Math.pow(10,s)-1,!1),n=""+f,p=lc("n",a[1],l[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),n+=p+a[2]+"/"+a[3],p=E1(l[2],s),p.length<a[4].length&&(p=Ks(a[4].substr(a[4].length-p.length))+p),n+=p,n;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=A1(c,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?$_(l[1],s)+a[2]+"/"+a[3]+E1(l[2],s):Yi(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return n=""+r,e.length<=n.length?n:Ks(e.substr(0,e.length-n.length))+n;if(a=e.match(/^([#0]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=n.indexOf(".");var v=e.indexOf(".")-s,y=e.length-n.length-v;return Ks(e.substr(0,v)+n+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Lu(t,e,-r):Xc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Zl(0,3-T.length):"")+T})+"."+Zl(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var _=Xc(""+c);return _!=="0"?f+_:"";default:if(e.match(/\.[0#?]*$/))return Lu(t,e.slice(0,e.lastIndexOf(".")),r)+Ks(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function lc(t,e,r){return(r|0)===r?Lu(t,e,r):ml(t,e,r)}function QR(t){for(var e=[],r=!1,i=0,n=0;i<t.length;++i)switch(t.charCodeAt(i)){case 34:r=!r;break;case 95:case 42:case 92:++i;break;case 59:e[e.length]=t.substr(n,i-n),n=i+1}if(e[e.length]=t.substr(n),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var i6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function a6(t){for(var e=0,r="",i="";e<t.length;)switch(r=t.charAt(e)){case"G":T1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(i=r;t.charAt(e++)!=="]"&&e<t.length;)i+=t.charAt(e);if(i.match(i6))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function e9(t,e,r,i){for(var n=[],a="",s=0,l="",c="t",f,p,v,y="H";s<t.length;)switch(l=t.charAt(s)){case"G":if(!T1(t,s))throw new Error("unrecognized character "+l+" in "+t);n[n.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(v=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(v);n[n.length]={t:"t",v:a},++s;break;case"\\":var _=t.charAt(++s),T=_==="("||_===")"?_:"t";n[n.length]={t:T,v:_},++s;break;case"_":n[n.length]={t:"t",v:" "},s+=2;break;case"@":n[n.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(f==null&&(f=Um(e,r,t.charAt(s+1)==="2"),f==null))return"";n[n.length]={t:"X",v:t.substr(s,2)},c=l,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=Um(e,r),f==null))return"";for(a=l;++s<t.length&&t.charAt(s).toLowerCase()===l;)a+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=y),n[n.length]={t:l,v:a},c=l;break;case"A":case"a":case"":var S={t:l,v:l};if(f==null&&(f=Um(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(f!=null&&(S.v=f.H>=12?"P":"A"),S.t="T",y="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(f!=null&&(S.v=f.H>=12?"PM":"AM"),S.t="T",s+=5,y="h"):t.substr(s,5).toUpperCase()==="/"?(f!=null&&(S.v=f.H>=12?"":""),S.t="T",s+=5,y="h"):(S.t="t",++s),f==null&&S.t==="T")return"";n[n.length]=S,c=l;break;case"[":for(a=l;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(i6)){if(f==null&&(f=Um(e,r),f==null))return"";n[n.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",a6(t)||(n[n.length]={t:"t",v:a}));break;case".":if(f!=null){for(a=l;++s<t.length&&(l=t.charAt(s))==="0";)a+=l;n[n.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++s<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(s))>-1;)a+=l;n[n.length]={t:"n",v:a};break;case"?":for(a=l;t.charAt(++s)===l;)a+=l;n[n.length]={t:l,v:a},c=l;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":n[n.length]={t:i===1?"t":l,v:l},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);n[n.length]={t:"D",v:a};break;case" ":n[n.length]={t:l,v:l},++s;break;case"$":n[n.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);n[n.length]={t:"t",v:l},++s;break}var C=0,O=0,I;for(s=n.length-1,c="t";s>=0;--s)switch(n[s].t){case"h":case"H":n[s].t=y,c="h",C<1&&(C=1);break;case"s":(I=n[s].v.match(/\.0+$/))&&(O=Math.max(O,I[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":c=n[s].t;break;case"m":c==="s"&&(n[s].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&n[s].v.match(/[Hh]/)&&(C=1),C<2&&n[s].v.match(/[Mm]/)&&(C=2),C<3&&n[s].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var D="",q;for(s=0;s<n.length;++s)switch(n[s].t){case"t":case"T":case" ":case"D":break;case"X":n[s].v="",n[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[s].v=qR(n[s].t.charCodeAt(0),n[s].v,f,O),n[s].t="t";break;case"n":case"?":for(q=s+1;n[q]!=null&&((l=n[q].t)==="?"||l==="D"||(l===" "||l==="t")&&n[q+1]!=null&&(n[q+1].t==="?"||n[q+1].t==="t"&&n[q+1].v==="/")||n[s].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(n[q].v==="/"||n[q].v===" "&&n[q+1]!=null&&n[q+1].t=="?"));)n[s].v+=n[q].v,n[q]={v:"",t:";"},++q;D+=n[s].v,s=q-1;break;case"G":n[s].t="t",n[s].v=g_(e,r);break}var te="",ce,F;if(D.length>0){D.charCodeAt(0)==40?(ce=e<0&&D.charCodeAt(0)===45?-e:e,F=lc("n",D,ce)):(ce=e<0&&i>1?-e:e,F=lc("n",D,ce),ce<0&&n[0]&&n[0].t=="t"&&(F=F.substr(1),n[0].v="-"+n[0].v)),q=F.length-1;var K=n.length;for(s=0;s<n.length;++s)if(n[s]!=null&&n[s].t!="t"&&n[s].v.indexOf(".")>-1){K=s;break}var B=n.length;if(K===n.length&&F.indexOf("E")===-1){for(s=n.length-1;s>=0;--s)n[s]==null||"n?".indexOf(n[s].t)===-1||(q>=n[s].v.length-1?(q-=n[s].v.length,n[s].v=F.substr(q+1,n[s].v.length)):q<0?n[s].v="":(n[s].v=F.substr(0,q+1),q=-1),n[s].t="t",B=s);q>=0&&B<n.length&&(n[B].v=F.substr(0,q+1)+n[B].v)}else if(K!==n.length&&F.indexOf("E")===-1){for(q=F.indexOf(".")-1,s=K;s>=0;--s)if(!(n[s]==null||"n?".indexOf(n[s].t)===-1)){for(p=n[s].v.indexOf(".")>-1&&s===K?n[s].v.indexOf(".")-1:n[s].v.length-1,te=n[s].v.substr(p+1);p>=0;--p)q>=0&&(n[s].v.charAt(p)==="0"||n[s].v.charAt(p)==="#")&&(te=F.charAt(q--)+te);n[s].v=te,n[s].t="t",B=s}for(q>=0&&B<n.length&&(n[B].v=F.substr(0,q+1)+n[B].v),q=F.indexOf(".")+1,s=K;s<n.length;++s)if(!(n[s]==null||"n?(".indexOf(n[s].t)===-1&&s!==K)){for(p=n[s].v.indexOf(".")>-1&&s===K?n[s].v.indexOf(".")+1:0,te=n[s].v.substr(0,p);p<n[s].v.length;++p)q<F.length&&(te+=F.charAt(q++));n[s].v=te,n[s].t="t",B=s}}}for(s=0;s<n.length;++s)n[s]!=null&&"n?".indexOf(n[s].t)>-1&&(ce=i>1&&e<0&&s>0&&n[s-1].v==="-"?-e:e,n[s].v=lc(n[s].t,n[s].v,ce),n[s].t="t");var X="";for(s=0;s!==n.length;++s)n[s]!=null&&(X+=n[s].v);return X}var I4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function F4(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function t9(t,e){var r=QR(t),i=r.length,n=r[i-1].indexOf("@");if(i<4&&n>-1&&--i,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[i,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(I4),l=r[1].match(I4);return F4(e,s)?[i,r[0]]:F4(e,l)?[i,r[1]]:[i,r[s!=null&&l!=null?2:1]]}return[i,a]}function th(t,e,r){r==null&&(r={});var i="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?i=r.dateNF:i=t;break;case"number":t==14&&r.dateNF?i=r.dateNF:i=(r.table!=null?r.table:Xi)[t],i==null&&(i=r.table&&r.table[R4[t]]||Xi[R4[t]]),i==null&&(i=jR[t]||"General");break}if(T1(i,0))return g_(e,r);e instanceof Date&&(e=KE(e,r.date1904));var n=t9(i,e);if(T1(n[1]))return g_(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return e9(n[1],e,r,n[0])}function s6(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Xi[r]==null){e<0&&(e=r);continue}if(Xi[r]==t){e=r;break}}e<0&&(e=391)}return Xi[e]=t,e}function sg(t){for(var e=0;e!=392;++e)t[e]!==void 0&&s6(t[e],e)}function og(){Xi=DR()}var o6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function r9(t){var e=typeof t=="number"?Xi[t]:t;return e=e.replace(o6,"(\\d+)"),new RegExp("^"+e+"$")}function n9(t,e,r){var i=-1,n=-1,a=-1,s=-1,l=-1,c=-1;(e.match(o6)||[]).forEach(function(v,y){var _=parseInt(r[y+1],10);switch(v.toLowerCase().charAt(0)){case"y":i=_;break;case"d":a=_;break;case"h":s=_;break;case"s":c=_;break;case"m":s>=0?l=_:n=_;break}}),c>=0&&l==-1&&n>=0&&(l=n,n=-1);var f=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var p=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&l==-1&&c==-1?f:i==-1&&n==-1&&a==-1?p:f+"T"+p}var i9=(function(){var t={};t.version="1.2.0";function e(){for(var F=0,K=new Array(256),B=0;B!=256;++B)F=B,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,K[B]=F;return typeof Int32Array<"u"?new Int32Array(K):K}var r=e();function i(F){var K=0,B=0,X=0,j=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(X=0;X!=256;++X)j[X]=F[X];for(X=0;X!=256;++X)for(B=F[X],K=256+X;K<4096;K+=256)B=j[K]=B>>>8^F[B&255];var W=[];for(X=1;X!=16;++X)W[X-1]=typeof Int32Array<"u"?j.subarray(X*256,X*256+256):j.slice(X*256,X*256+256);return W}var n=i(r),a=n[0],s=n[1],l=n[2],c=n[3],f=n[4],p=n[5],v=n[6],y=n[7],_=n[8],T=n[9],S=n[10],C=n[11],O=n[12],I=n[13],D=n[14];function q(F,K){for(var B=K^-1,X=0,j=F.length;X<j;)B=B>>>8^r[(B^F.charCodeAt(X++))&255];return~B}function te(F,K){for(var B=K^-1,X=F.length-15,j=0;j<X;)B=D[F[j++]^B&255]^I[F[j++]^B>>8&255]^O[F[j++]^B>>16&255]^C[F[j++]^B>>>24]^S[F[j++]]^T[F[j++]]^_[F[j++]]^y[F[j++]]^v[F[j++]]^p[F[j++]]^f[F[j++]]^c[F[j++]]^l[F[j++]]^s[F[j++]]^a[F[j++]]^r[F[j++]];for(X+=15;j<X;)B=B>>>8^r[(B^F[j++])&255];return~B}function ce(F,K){for(var B=K^-1,X=0,j=F.length,W=0,ue=0;X<j;)W=F.charCodeAt(X++),W<128?B=B>>>8^r[(B^W)&255]:W<2048?(B=B>>>8^r[(B^(192|W>>6&31))&255],B=B>>>8^r[(B^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,ue=F.charCodeAt(X++)&1023,B=B>>>8^r[(B^(240|W>>8&7))&255],B=B>>>8^r[(B^(128|W>>2&63))&255],B=B>>>8^r[(B^(128|ue>>6&15|(W&3)<<4))&255],B=B>>>8^r[(B^(128|ue&63))&255]):(B=B>>>8^r[(B^(224|W>>12&15))&255],B=B>>>8^r[(B^(128|W>>6&63))&255],B=B>>>8^r[(B^(128|W&63))&255]);return~B}return t.table=r,t.bstr=q,t.buf=te,t.str=ce,t})(),Yn=(function(){var e={};e.version="1.2.1";function r(Y,pe){for(var re=Y.split("/"),ne=pe.split("/"),he=0,ge=0,Pe=Math.min(re.length,ne.length);he<Pe;++he){if(ge=re[he].length-ne[he].length)return ge;if(re[he]!=ne[he])return re[he]<ne[he]?-1:1}return re.length-ne.length}function i(Y){if(Y.charAt(Y.length-1)=="/")return Y.slice(0,-1).indexOf("/")===-1?Y:i(Y.slice(0,-1));var pe=Y.lastIndexOf("/");return pe===-1?Y:Y.slice(0,pe+1)}function n(Y){if(Y.charAt(Y.length-1)=="/")return n(Y.slice(0,-1));var pe=Y.lastIndexOf("/");return pe===-1?Y:Y.slice(pe+1)}function a(Y,pe){typeof pe=="string"&&(pe=new Date(pe));var re=pe.getHours();re=re<<6|pe.getMinutes(),re=re<<5|pe.getSeconds()>>>1,Y.write_shift(2,re);var ne=pe.getFullYear()-1980;ne=ne<<4|pe.getMonth()+1,ne=ne<<5|pe.getDate(),Y.write_shift(2,ne)}function s(Y){var pe=Y.read_shift(2)&65535,re=Y.read_shift(2)&65535,ne=new Date,he=re&31;re>>>=5;var ge=re&15;re>>>=4,ne.setMilliseconds(0),ne.setFullYear(re+1980),ne.setMonth(ge-1),ne.setDate(he);var Pe=pe&31;pe>>>=5;var ze=pe&63;return pe>>>=6,ne.setHours(pe),ne.setMinutes(ze),ne.setSeconds(Pe<<1),ne}function l(Y){Ko(Y,0);for(var pe={},re=0;Y.l<=Y.length-4;){var ne=Y.read_shift(2),he=Y.read_shift(2),ge=Y.l+he,Pe={};ne===21589&&(re=Y.read_shift(1),re&1&&(Pe.mtime=Y.read_shift(4)),he>5&&(re&2&&(Pe.atime=Y.read_shift(4)),re&4&&(Pe.ctime=Y.read_shift(4))),Pe.mtime&&(Pe.mt=new Date(Pe.mtime*1e3))),Y.l=ge,pe[ne]=Pe}return pe}var c;function f(){return c||(c={})}function p(Y,pe){if(Y[0]==80&&Y[1]==75)return cr(Y,pe);if((Y[0]|32)==109&&(Y[1]|32)==105)return Qt(Y,pe);if(Y.length<512)throw new Error("CFB file size "+Y.length+" < 512");var re=3,ne=512,he=0,ge=0,Pe=0,ze=0,Be=0,Ue=[],$e=Y.slice(0,512);Ko($e,0);var ht=v($e);switch(re=ht[0],re){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(ht[1]==0)return cr(Y,pe);default:throw new Error("Major Version: Expected 3 or 4 saw "+re)}ne!==512&&($e=Y.slice(0,ne),Ko($e,28));var bt=Y.slice(0,ne);y($e,re);var wt=$e.read_shift(4,"i");if(re===3&&wt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+wt);$e.l+=4,Pe=$e.read_shift(4,"i"),$e.l+=4,$e.chk("00100000","Mini Stream Cutoff Size: "),ze=$e.read_shift(4,"i"),he=$e.read_shift(4,"i"),Be=$e.read_shift(4,"i"),ge=$e.read_shift(4,"i");for(var gt=-1,Mt=0;Mt<109&&(gt=$e.read_shift(4,"i"),!(gt<0));++Mt)Ue[Mt]=gt;var Bt=_(Y,ne);C(Be,ge,Bt,ne,Ue);var Hr=I(Bt,Pe,Ue,ne);Hr[Pe].name="!Directory",he>0&&ze!==ue&&(Hr[ze].name="!MiniFAT"),Hr[Ue[0]].name="!FAT",Hr.fat_addrs=Ue,Hr.ssz=ne;var wr={},nn=[],Kn=[],Xn=[];D(Pe,Hr,Bt,nn,he,wr,Kn,ze),T(Kn,Xn,nn),nn.shift();var Qi={FileIndex:Kn,FullPaths:Xn};return pe&&pe.raw&&(Qi.raw={header:bt,sectors:Bt}),Qi}function v(Y){if(Y[Y.l]==80&&Y[Y.l+1]==75)return[0,0];Y.chk(de,"Header Signature: "),Y.l+=16;var pe=Y.read_shift(2,"u");return[Y.read_shift(2,"u"),pe]}function y(Y,pe){var re=9;switch(Y.l+=2,re=Y.read_shift(2)){case 9:if(pe!=3)throw new Error("Sector Shift: Expected 9 saw "+re);break;case 12:if(pe!=4)throw new Error("Sector Shift: Expected 12 saw "+re);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+re)}Y.chk("0600","Mini Sector Shift: "),Y.chk("000000000000","Reserved: ")}function _(Y,pe){for(var re=Math.ceil(Y.length/pe)-1,ne=[],he=1;he<re;++he)ne[he-1]=Y.slice(he*pe,(he+1)*pe);return ne[re-1]=Y.slice(re*pe),ne}function T(Y,pe,re){for(var ne=0,he=0,ge=0,Pe=0,ze=0,Be=re.length,Ue=[],$e=[];ne<Be;++ne)Ue[ne]=$e[ne]=ne,pe[ne]=re[ne];for(;ze<$e.length;++ze)ne=$e[ze],he=Y[ne].L,ge=Y[ne].R,Pe=Y[ne].C,Ue[ne]===ne&&(he!==-1&&Ue[he]!==he&&(Ue[ne]=Ue[he]),ge!==-1&&Ue[ge]!==ge&&(Ue[ne]=Ue[ge])),Pe!==-1&&(Ue[Pe]=ne),he!==-1&&ne!=Ue[ne]&&(Ue[he]=Ue[ne],$e.lastIndexOf(he)<ze&&$e.push(he)),ge!==-1&&ne!=Ue[ne]&&(Ue[ge]=Ue[ne],$e.lastIndexOf(ge)<ze&&$e.push(ge));for(ne=1;ne<Be;++ne)Ue[ne]===ne&&(ge!==-1&&Ue[ge]!==ge?Ue[ne]=Ue[ge]:he!==-1&&Ue[he]!==he&&(Ue[ne]=Ue[he]));for(ne=1;ne<Be;++ne)if(Y[ne].type!==0){if(ze=ne,ze!=Ue[ze])do ze=Ue[ze],pe[ne]=pe[ze]+"/"+pe[ne];while(ze!==0&&Ue[ze]!==-1&&ze!=Ue[ze]);Ue[ne]=-1}for(pe[0]+="/",ne=1;ne<Be;++ne)Y[ne].type!==2&&(pe[ne]+="/")}function S(Y,pe,re){for(var ne=Y.start,he=Y.size,ge=[],Pe=ne;re&&he>0&&Pe>=0;)ge.push(pe.slice(Pe*W,Pe*W+W)),he-=W,Pe=Ch(re,Pe*4);return ge.length===0?ut(0):vs(ge).slice(0,Y.size)}function C(Y,pe,re,ne,he){var ge=ue;if(Y===ue){if(pe!==0)throw new Error("DIFAT chain shorter than expected")}else if(Y!==-1){var Pe=re[Y],ze=(ne>>>2)-1;if(!Pe)return;for(var Be=0;Be<ze&&(ge=Ch(Pe,Be*4))!==ue;++Be)he.push(ge);C(Ch(Pe,ne-4),pe-1,re,ne,he)}}function O(Y,pe,re,ne,he){var ge=[],Pe=[];he||(he=[]);var ze=ne-1,Be=0,Ue=0;for(Be=pe;Be>=0;){he[Be]=!0,ge[ge.length]=Be,Pe.push(Y[Be]);var $e=re[Math.floor(Be*4/ne)];if(Ue=Be*4&ze,ne<4+Ue)throw new Error("FAT boundary crossed: "+Be+" 4 "+ne);if(!Y[$e])break;Be=Ch(Y[$e],Ue)}return{nodes:ge,data:$4([Pe])}}function I(Y,pe,re,ne){var he=Y.length,ge=[],Pe=[],ze=[],Be=[],Ue=ne-1,$e=0,ht=0,bt=0,wt=0;for($e=0;$e<he;++$e)if(ze=[],bt=$e+pe,bt>=he&&(bt-=he),!Pe[bt]){Be=[];var gt=[];for(ht=bt;ht>=0;){gt[ht]=!0,Pe[ht]=!0,ze[ze.length]=ht,Be.push(Y[ht]);var Mt=re[Math.floor(ht*4/ne)];if(wt=ht*4&Ue,ne<4+wt)throw new Error("FAT boundary crossed: "+ht+" 4 "+ne);if(!Y[Mt]||(ht=Ch(Y[Mt],wt),gt[ht]))break}ge[bt]={nodes:ze,data:$4([Be])}}return ge}function D(Y,pe,re,ne,he,ge,Pe,ze){for(var Be=0,Ue=ne.length?2:0,$e=pe[Y].data,ht=0,bt=0,wt;ht<$e.length;ht+=128){var gt=$e.slice(ht,ht+128);Ko(gt,64),bt=gt.read_shift(2),wt=J_(gt,0,bt-Ue),ne.push(wt);var Mt={name:wt,type:gt.read_shift(1),color:gt.read_shift(1),L:gt.read_shift(4,"i"),R:gt.read_shift(4,"i"),C:gt.read_shift(4,"i"),clsid:gt.read_shift(16),state:gt.read_shift(4,"i"),start:0,size:0},Bt=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Bt!==0&&(Mt.ct=q(gt,gt.l-8));var Hr=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Hr!==0&&(Mt.mt=q(gt,gt.l-8)),Mt.start=gt.read_shift(4,"i"),Mt.size=gt.read_shift(4,"i"),Mt.size<0&&Mt.start<0&&(Mt.size=Mt.type=0,Mt.start=ue,Mt.name=""),Mt.type===5?(Be=Mt.start,he>0&&Be!==ue&&(pe[Be].name="!StreamData")):Mt.size>=4096?(Mt.storage="fat",pe[Mt.start]===void 0&&(pe[Mt.start]=O(re,Mt.start,pe.fat_addrs,pe.ssz)),pe[Mt.start].name=Mt.name,Mt.content=pe[Mt.start].data.slice(0,Mt.size)):(Mt.storage="minifat",Mt.size<0?Mt.size=0:Be!==ue&&Mt.start!==ue&&pe[Be]&&(Mt.content=S(Mt,pe[Be].data,(pe[ze]||{}).data))),Mt.content&&Ko(Mt.content,0),ge[wt]=Mt,Pe.push(Mt)}}function q(Y,pe){return new Date((Jo(Y,pe+4)/1e7*Math.pow(2,32)+Jo(Y,pe)/1e7-11644473600)*1e3)}function te(Y,pe){return f(),p(c.readFileSync(Y),pe)}function ce(Y,pe){var re=pe&&pe.type;switch(re||Cn&&Buffer.isBuffer(Y)&&(re="buffer"),re||"base64"){case"file":return te(Y,pe);case"base64":return p(Wl(hc(Y)),pe);case"binary":return p(Wl(Y),pe)}return p(Y,pe)}function F(Y,pe){var re=pe||{},ne=re.root||"Root Entry";if(Y.FullPaths||(Y.FullPaths=[]),Y.FileIndex||(Y.FileIndex=[]),Y.FullPaths.length!==Y.FileIndex.length)throw new Error("inconsistent CFB structure");Y.FullPaths.length===0&&(Y.FullPaths[0]=ne+"/",Y.FileIndex[0]={name:ne,type:5}),re.CLSID&&(Y.FileIndex[0].clsid=re.CLSID),K(Y)}function K(Y){var pe="Sh33tJ5";if(!Yn.find(Y,"/"+pe)){var re=ut(4);re[0]=55,re[1]=re[3]=50,re[2]=54,Y.FileIndex.push({name:pe,type:2,content:re,size:4,L:69,R:69,C:69}),Y.FullPaths.push(Y.FullPaths[0]+pe),B(Y)}}function B(Y,pe){F(Y);for(var re=!1,ne=!1,he=Y.FullPaths.length-1;he>=0;--he){var ge=Y.FileIndex[he];switch(ge.type){case 0:ne?re=!0:(Y.FileIndex.pop(),Y.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(ge.R*ge.L*ge.C)&&(re=!0),ge.R>-1&&ge.L>-1&&ge.R==ge.L&&(re=!0);break;default:re=!0;break}}if(!(!re&&!pe)){var Pe=new Date(1987,1,19),ze=0,Be=Object.create?Object.create(null):{},Ue=[];for(he=0;he<Y.FullPaths.length;++he)Be[Y.FullPaths[he]]=!0,Y.FileIndex[he].type!==0&&Ue.push([Y.FullPaths[he],Y.FileIndex[he]]);for(he=0;he<Ue.length;++he){var $e=i(Ue[he][0]);ne=Be[$e],ne||(Ue.push([$e,{name:n($e).replace("/",""),type:1,clsid:oe,ct:Pe,mt:Pe,content:null}]),Be[$e]=!0)}for(Ue.sort(function(wt,gt){return r(wt[0],gt[0])}),Y.FullPaths=[],Y.FileIndex=[],he=0;he<Ue.length;++he)Y.FullPaths[he]=Ue[he][0],Y.FileIndex[he]=Ue[he][1];for(he=0;he<Ue.length;++he){var ht=Y.FileIndex[he],bt=Y.FullPaths[he];if(ht.name=n(bt).replace("/",""),ht.L=ht.R=ht.C=-(ht.color=1),ht.size=ht.content?ht.content.length:0,ht.start=0,ht.clsid=ht.clsid||oe,he===0)ht.C=Ue.length>1?1:-1,ht.size=0,ht.type=5;else if(bt.slice(-1)=="/"){for(ze=he+1;ze<Ue.length&&i(Y.FullPaths[ze])!=bt;++ze);for(ht.C=ze>=Ue.length?-1:ze,ze=he+1;ze<Ue.length&&i(Y.FullPaths[ze])!=i(bt);++ze);ht.R=ze>=Ue.length?-1:ze,ht.type=1}else i(Y.FullPaths[he+1]||"")==i(bt)&&(ht.R=he+1),ht.type=2}}}function X(Y,pe){var re=pe||{};if(re.fileType=="mad")return Xa(Y,re);if(B(Y),re.fileType==="zip")return xr(Y,re);var ne=(function(wt){for(var gt=0,Mt=0,Bt=0;Bt<wt.FileIndex.length;++Bt){var Hr=wt.FileIndex[Bt];if(Hr.content){var wr=Hr.content.length;wr>0&&(wr<4096?gt+=wr+63>>6:Mt+=wr+511>>9)}}for(var nn=wt.FullPaths.length+3>>2,Kn=gt+7>>3,Xn=gt+127>>7,Qi=Kn+Mt+nn+Xn,Ci=Qi+127>>7,Ar=Ci<=109?0:Math.ceil((Ci-109)/127);Qi+Ci+Ar+127>>7>Ci;)Ar=++Ci<=109?0:Math.ceil((Ci-109)/127);var Ut=[1,Ar,Ci,Xn,nn,Mt,gt,0];return wt.FileIndex[0].size=gt<<6,Ut[7]=(wt.FileIndex[0].start=Ut[0]+Ut[1]+Ut[2]+Ut[3]+Ut[4]+Ut[5])+(Ut[6]+7>>3),Ut})(Y),he=ut(ne[7]<<9),ge=0,Pe=0;{for(ge=0;ge<8;++ge)he.write_shift(1,xe[ge]);for(ge=0;ge<8;++ge)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),ge=0;ge<3;++ge)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,ne[2]),he.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:ue),he.write_shift(4,ne[3]),he.write_shift(-4,ne[1]?ne[0]-1:ue),he.write_shift(4,ne[1]),ge=0;ge<109;++ge)he.write_shift(-4,ge<ne[2]?ne[1]+ge:-1)}if(ne[1])for(Pe=0;Pe<ne[1];++Pe){for(;ge<236+Pe*127;++ge)he.write_shift(-4,ge<ne[2]?ne[1]+ge:-1);he.write_shift(-4,Pe===ne[1]-1?ue:Pe+1)}var ze=function(wt){for(Pe+=wt;ge<Pe-1;++ge)he.write_shift(-4,ge+1);wt&&(++ge,he.write_shift(-4,ue))};for(Pe=ge=0,Pe+=ne[1];ge<Pe;++ge)he.write_shift(-4,be.DIFSECT);for(Pe+=ne[2];ge<Pe;++ge)he.write_shift(-4,be.FATSECT);ze(ne[3]),ze(ne[4]);for(var Be=0,Ue=0,$e=Y.FileIndex[0];Be<Y.FileIndex.length;++Be)$e=Y.FileIndex[Be],$e.content&&(Ue=$e.content.length,!(Ue<4096)&&($e.start=Pe,ze(Ue+511>>9)));for(ze(ne[6]+7>>3);he.l&511;)he.write_shift(-4,be.ENDOFCHAIN);for(Pe=ge=0,Be=0;Be<Y.FileIndex.length;++Be)$e=Y.FileIndex[Be],$e.content&&(Ue=$e.content.length,!(!Ue||Ue>=4096)&&($e.start=Pe,ze(Ue+63>>6)));for(;he.l&511;)he.write_shift(-4,be.ENDOFCHAIN);for(ge=0;ge<ne[4]<<2;++ge){var ht=Y.FullPaths[ge];if(!ht||ht.length===0){for(Be=0;Be<17;++Be)he.write_shift(4,0);for(Be=0;Be<3;++Be)he.write_shift(4,-1);for(Be=0;Be<12;++Be)he.write_shift(4,0);continue}$e=Y.FileIndex[ge],ge===0&&($e.start=$e.size?$e.start-1:ue);var bt=ge===0&&re.root||$e.name;if(Ue=2*(bt.length+1),he.write_shift(64,bt,"utf16le"),he.write_shift(2,Ue),he.write_shift(1,$e.type),he.write_shift(1,$e.color),he.write_shift(-4,$e.L),he.write_shift(-4,$e.R),he.write_shift(-4,$e.C),$e.clsid)he.write_shift(16,$e.clsid,"hex");else for(Be=0;Be<4;++Be)he.write_shift(4,0);he.write_shift(4,$e.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,$e.start),he.write_shift(4,$e.size),he.write_shift(4,0)}for(ge=1;ge<Y.FileIndex.length;++ge)if($e=Y.FileIndex[ge],$e.size>=4096)if(he.l=$e.start+1<<9,Cn&&Buffer.isBuffer($e.content))$e.content.copy(he,he.l,0,$e.size),he.l+=$e.size+511&-512;else{for(Be=0;Be<$e.size;++Be)he.write_shift(1,$e.content[Be]);for(;Be&511;++Be)he.write_shift(1,0)}for(ge=1;ge<Y.FileIndex.length;++ge)if($e=Y.FileIndex[ge],$e.size>0&&$e.size<4096)if(Cn&&Buffer.isBuffer($e.content))$e.content.copy(he,he.l,0,$e.size),he.l+=$e.size+63&-64;else{for(Be=0;Be<$e.size;++Be)he.write_shift(1,$e.content[Be]);for(;Be&63;++Be)he.write_shift(1,0)}if(Cn)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function j(Y,pe){var re=Y.FullPaths.map(function(Be){return Be.toUpperCase()}),ne=re.map(function(Be){var Ue=Be.split("/");return Ue[Ue.length-(Be.slice(-1)=="/"?2:1)]}),he=!1;pe.charCodeAt(0)===47?(he=!0,pe=re[0].slice(0,-1)+pe):he=pe.indexOf("/")!==-1;var ge=pe.toUpperCase(),Pe=he===!0?re.indexOf(ge):ne.indexOf(ge);if(Pe!==-1)return Y.FileIndex[Pe];var ze=!ge.match(Bm);for(ge=ge.replace(C0,""),ze&&(ge=ge.replace(Bm,"!")),Pe=0;Pe<re.length;++Pe)if((ze?re[Pe].replace(Bm,"!"):re[Pe]).replace(C0,"")==ge||(ze?ne[Pe].replace(Bm,"!"):ne[Pe]).replace(C0,"")==ge)return Y.FileIndex[Pe];return null}var W=64,ue=-2,de="d0cf11e0a1b11ae1",xe=[208,207,17,224,161,177,26,225],oe="00000000000000000000000000000000",be={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ue,FREESECT:-1,HEADER_SIGNATURE:de,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:oe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _e(Y,pe,re){f();var ne=X(Y,re);c.writeFileSync(pe,ne)}function Le(Y){for(var pe=new Array(Y.length),re=0;re<Y.length;++re)pe[re]=String.fromCharCode(Y[re]);return pe.join("")}function Ne(Y,pe){var re=X(Y,pe);switch(pe&&pe.type||"buffer"){case"file":return f(),c.writeFileSync(pe.filename,re),re;case"binary":return typeof re=="string"?re:Le(re);case"base64":return ep(typeof re=="string"?re:Le(re));case"buffer":if(Cn)return Buffer.isBuffer(re)?re:gc(re);case"array":return typeof re=="string"?Wl(re):re}return re}var Q;function P(Y){try{var pe=Y.InflateRaw,re=new pe;if(re._processChunk(new Uint8Array([3,0]),re._finishFlushFlag),re.bytesRead)Q=Y;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function G(Y,pe){if(!Q)return ln(Y,pe);var re=Q.InflateRaw,ne=new re,he=ne._processChunk(Y.slice(Y.l),ne._finishFlushFlag);return Y.l+=ne.bytesRead,he}function H(Y){return Q?Q.deflateRawSync(Y):_r(Y)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Oe(Y){var pe=(Y<<1|Y<<11)&139536|(Y<<5|Y<<15)&558144;return(pe>>16|pe>>8|pe)&255}for(var Re=typeof Uint8Array<"u",Ie=Re?new Uint8Array(256):[],ot=0;ot<256;++ot)Ie[ot]=Oe(ot);function it(Y,pe){var re=Ie[Y&255];return pe<=8?re>>>8-pe:(re=re<<8|Ie[Y>>8&255],pe<=16?re>>>16-pe:(re=re<<8|Ie[Y>>16&255],re>>>24-pe))}function Tt(Y,pe){var re=pe&7,ne=pe>>>3;return(Y[ne]|(re<=6?0:Y[ne+1]<<8))>>>re&3}function Nt(Y,pe){var re=pe&7,ne=pe>>>3;return(Y[ne]|(re<=5?0:Y[ne+1]<<8))>>>re&7}function we(Y,pe){var re=pe&7,ne=pe>>>3;return(Y[ne]|(re<=4?0:Y[ne+1]<<8))>>>re&15}function yt(Y,pe){var re=pe&7,ne=pe>>>3;return(Y[ne]|(re<=3?0:Y[ne+1]<<8))>>>re&31}function xt(Y,pe){var re=pe&7,ne=pe>>>3;return(Y[ne]|(re<=1?0:Y[ne+1]<<8))>>>re&127}function zt(Y,pe,re){var ne=pe&7,he=pe>>>3,ge=(1<<re)-1,Pe=Y[he]>>>ne;return re<8-ne||(Pe|=Y[he+1]<<8-ne,re<16-ne)||(Pe|=Y[he+2]<<16-ne,re<24-ne)||(Pe|=Y[he+3]<<24-ne),Pe&ge}function dt(Y,pe,re){var ne=pe&7,he=pe>>>3;return ne<=5?Y[he]|=(re&7)<<ne:(Y[he]|=re<<ne&255,Y[he+1]=(re&7)>>8-ne),pe+3}function Vt(Y,pe,re){var ne=pe&7,he=pe>>>3;return re=(re&1)<<ne,Y[he]|=re,pe+1}function jt(Y,pe,re){var ne=pe&7,he=pe>>>3;return re<<=ne,Y[he]|=re&255,re>>>=8,Y[he+1]=re,pe+8}function sr(Y,pe,re){var ne=pe&7,he=pe>>>3;return re<<=ne,Y[he]|=re&255,re>>>=8,Y[he+1]=re&255,Y[he+2]=re>>>8,pe+16}function Xt(Y,pe){var re=Y.length,ne=2*re>pe?2*re:pe+5,he=0;if(re>=pe)return Y;if(Cn){var ge=k4(ne);if(Y.copy)Y.copy(ge);else for(;he<Y.length;++he)ge[he]=Y[he];return ge}else if(Re){var Pe=new Uint8Array(ne);if(Pe.set)Pe.set(Y);else for(;he<re;++he)Pe[he]=Y[he];return Pe}return Y.length=ne,Y}function Jt(Y){for(var pe=new Array(Y),re=0;re<Y;++re)pe[re]=0;return pe}function Er(Y,pe,re){var ne=1,he=0,ge=0,Pe=0,ze=0,Be=Y.length,Ue=Re?new Uint16Array(32):Jt(32);for(ge=0;ge<32;++ge)Ue[ge]=0;for(ge=Be;ge<re;++ge)Y[ge]=0;Be=Y.length;var $e=Re?new Uint16Array(Be):Jt(Be);for(ge=0;ge<Be;++ge)Ue[he=Y[ge]]++,ne<he&&(ne=he),$e[ge]=0;for(Ue[0]=0,ge=1;ge<=ne;++ge)Ue[ge+16]=ze=ze+Ue[ge-1]<<1;for(ge=0;ge<Be;++ge)ze=Y[ge],ze!=0&&($e[ge]=Ue[ze+16]++);var ht=0;for(ge=0;ge<Be;++ge)if(ht=Y[ge],ht!=0)for(ze=it($e[ge],ne)>>ne-ht,Pe=(1<<ne+4-ht)-1;Pe>=0;--Pe)pe[ze|Pe<<ht]=ht&15|ge<<4;return ne}var dr=Re?new Uint16Array(512):Jt(512),Nr=Re?new Uint16Array(32):Jt(32);if(!Re){for(var or=0;or<512;++or)dr[or]=0;for(or=0;or<32;++or)Nr[or]=0}(function(){for(var Y=[],pe=0;pe<32;pe++)Y.push(5);Er(Y,Nr,32);var re=[];for(pe=0;pe<=143;pe++)re.push(8);for(;pe<=255;pe++)re.push(9);for(;pe<=279;pe++)re.push(7);for(;pe<=287;pe++)re.push(8);Er(re,dr,288)})();var Ft=(function(){for(var pe=Re?new Uint8Array(32768):[],re=0,ne=0;re<Ae.length-1;++re)for(;ne<Ae[re+1];++ne)pe[ne]=re;for(;ne<32768;++ne)pe[ne]=29;var he=Re?new Uint8Array(259):[];for(re=0,ne=0;re<se.length-1;++re)for(;ne<se[re+1];++ne)he[ne]=re;function ge(ze,Be){for(var Ue=0;Ue<ze.length;){var $e=Math.min(65535,ze.length-Ue),ht=Ue+$e==ze.length;for(Be.write_shift(1,+ht),Be.write_shift(2,$e),Be.write_shift(2,~$e&65535);$e-- >0;)Be[Be.l++]=ze[Ue++]}return Be.l}function Pe(ze,Be){for(var Ue=0,$e=0,ht=Re?new Uint16Array(32768):[];$e<ze.length;){var bt=Math.min(65535,ze.length-$e);if(bt<10){for(Ue=dt(Be,Ue,+($e+bt==ze.length)),Ue&7&&(Ue+=8-(Ue&7)),Be.l=Ue/8|0,Be.write_shift(2,bt),Be.write_shift(2,~bt&65535);bt-- >0;)Be[Be.l++]=ze[$e++];Ue=Be.l*8;continue}Ue=dt(Be,Ue,+($e+bt==ze.length)+2);for(var wt=0;bt-- >0;){var gt=ze[$e];wt=(wt<<5^gt)&32767;var Mt=-1,Bt=0;if((Mt=ht[wt])&&(Mt|=$e&-32768,Mt>$e&&(Mt-=32768),Mt<$e))for(;ze[Mt+Bt]==ze[$e+Bt]&&Bt<250;)++Bt;if(Bt>2){gt=he[Bt],gt<=22?Ue=jt(Be,Ue,Ie[gt+1]>>1)-1:(jt(Be,Ue,3),Ue+=5,jt(Be,Ue,Ie[gt-23]>>5),Ue+=3);var Hr=gt<8?0:gt-4>>2;Hr>0&&(sr(Be,Ue,Bt-se[gt]),Ue+=Hr),gt=pe[$e-Mt],Ue=jt(Be,Ue,Ie[gt]>>3),Ue-=3;var wr=gt<4?0:gt-2>>1;wr>0&&(sr(Be,Ue,$e-Mt-Ae[gt]),Ue+=wr);for(var nn=0;nn<Bt;++nn)ht[wt]=$e&32767,wt=(wt<<5^ze[$e])&32767,++$e;bt-=Bt-1}else gt<=143?gt=gt+48:Ue=Vt(Be,Ue,1),Ue=jt(Be,Ue,Ie[gt]),ht[wt]=$e&32767,++$e}Ue=jt(Be,Ue,0)-1}return Be.l=(Ue+7)/8|0,Be.l}return function(Be,Ue){return Be.length<8?ge(Be,Ue):Pe(Be,Ue)}})();function _r(Y){var pe=ut(50+Math.floor(Y.length*1.1)),re=Ft(Y,pe);return pe.slice(0,re)}var Wt=Re?new Uint16Array(32768):Jt(32768),xn=Re?new Uint16Array(32768):Jt(32768),Mr=Re?new Uint16Array(128):Jt(128),Gt=1,pr=1;function Dr(Y,pe){var re=yt(Y,pe)+257;pe+=5;var ne=yt(Y,pe)+1;pe+=5;var he=we(Y,pe)+4;pe+=4;for(var ge=0,Pe=Re?new Uint8Array(19):Jt(19),ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Be=1,Ue=Re?new Uint8Array(8):Jt(8),$e=Re?new Uint8Array(8):Jt(8),ht=Pe.length,bt=0;bt<he;++bt)Pe[Z[bt]]=ge=Nt(Y,pe),Be<ge&&(Be=ge),Ue[ge]++,pe+=3;var wt=0;for(Ue[0]=0,bt=1;bt<=Be;++bt)$e[bt]=wt=wt+Ue[bt-1]<<1;for(bt=0;bt<ht;++bt)(wt=Pe[bt])!=0&&(ze[bt]=$e[wt]++);var gt=0;for(bt=0;bt<ht;++bt)if(gt=Pe[bt],gt!=0){wt=Ie[ze[bt]]>>8-gt;for(var Mt=(1<<7-gt)-1;Mt>=0;--Mt)Mr[wt|Mt<<gt]=gt&7|bt<<3}var Bt=[];for(Be=1;Bt.length<re+ne;)switch(wt=Mr[xt(Y,pe)],pe+=wt&7,wt>>>=3){case 16:for(ge=3+Tt(Y,pe),pe+=2,wt=Bt[Bt.length-1];ge-- >0;)Bt.push(wt);break;case 17:for(ge=3+Nt(Y,pe),pe+=3;ge-- >0;)Bt.push(0);break;case 18:for(ge=11+xt(Y,pe),pe+=7;ge-- >0;)Bt.push(0);break;default:Bt.push(wt),Be<wt&&(Be=wt);break}var Hr=Bt.slice(0,re),wr=Bt.slice(re);for(bt=re;bt<286;++bt)Hr[bt]=0;for(bt=ne;bt<30;++bt)wr[bt]=0;return Gt=Er(Hr,Wt,286),pr=Er(wr,xn,30),pe}function Yt(Y,pe){if(Y[0]==3&&!(Y[1]&3))return[Fh(pe),2];for(var re=0,ne=0,he=k4(pe||1<<18),ge=0,Pe=he.length>>>0,ze=0,Be=0;(ne&1)==0;){if(ne=Nt(Y,re),re+=3,ne>>>1)ne>>1==1?(ze=9,Be=5):(re=Dr(Y,re),ze=Gt,Be=pr);else{re&7&&(re+=8-(re&7));var Ue=Y[re>>>3]|Y[(re>>>3)+1]<<8;if(re+=32,Ue>0)for(!pe&&Pe<ge+Ue&&(he=Xt(he,ge+Ue),Pe=he.length);Ue-- >0;)he[ge++]=Y[re>>>3],re+=8;continue}for(;;){!pe&&Pe<ge+32767&&(he=Xt(he,ge+32767),Pe=he.length);var $e=zt(Y,re,ze),ht=ne>>>1==1?dr[$e]:Wt[$e];if(re+=ht&15,ht>>>=4,(ht>>>8&255)===0)he[ge++]=ht;else{if(ht==256)break;ht-=257;var bt=ht<8?0:ht-4>>2;bt>5&&(bt=0);var wt=ge+se[ht];bt>0&&(wt+=zt(Y,re,bt),re+=bt),$e=zt(Y,re,Be),ht=ne>>>1==1?Nr[$e]:xn[$e],re+=ht&15,ht>>>=4;var gt=ht<4?0:ht-2>>1,Mt=Ae[ht];for(gt>0&&(Mt+=zt(Y,re,gt),re+=gt),!pe&&Pe<wt&&(he=Xt(he,wt+100),Pe=he.length);ge<wt;)he[ge]=he[ge-Mt],++ge}}}return pe?[he,re+7>>>3]:[he.slice(0,ge),re+7>>>3]}function ln(Y,pe){var re=Y.slice(Y.l||0),ne=Yt(re,pe);return Y.l+=ne[1],ne[0]}function ur(Y,pe){if(Y)typeof console<"u"&&console.error(pe);else throw new Error(pe)}function cr(Y,pe){var re=Y;Ko(re,0);var ne=[],he=[],ge={FileIndex:ne,FullPaths:he};F(ge,{root:pe.root});for(var Pe=re.length-4;(re[Pe]!=80||re[Pe+1]!=75||re[Pe+2]!=5||re[Pe+3]!=6)&&Pe>=0;)--Pe;re.l=Pe+4,re.l+=4;var ze=re.read_shift(2);re.l+=6;var Be=re.read_shift(4);for(re.l=Be,Pe=0;Pe<ze;++Pe){re.l+=20;var Ue=re.read_shift(4),$e=re.read_shift(4),ht=re.read_shift(2),bt=re.read_shift(2),wt=re.read_shift(2);re.l+=8;var gt=re.read_shift(4),Mt=l(re.slice(re.l+ht,re.l+ht+bt));re.l+=ht+bt+wt;var Bt=re.l;re.l=gt+4,en(re,Ue,$e,ge,Mt),re.l=Bt}return ge}function en(Y,pe,re,ne,he){Y.l+=2;var ge=Y.read_shift(2),Pe=Y.read_shift(2),ze=s(Y);if(ge&8257)throw new Error("Unsupported ZIP encryption");for(var Be=Y.read_shift(4),Ue=Y.read_shift(4),$e=Y.read_shift(4),ht=Y.read_shift(2),bt=Y.read_shift(2),wt="",gt=0;gt<ht;++gt)wt+=String.fromCharCode(Y[Y.l++]);if(bt){var Mt=l(Y.slice(Y.l,Y.l+bt));(Mt[21589]||{}).mt&&(ze=Mt[21589].mt),((he||{})[21589]||{}).mt&&(ze=he[21589].mt)}Y.l+=bt;var Bt=Y.slice(Y.l,Y.l+Ue);switch(Pe){case 8:Bt=G(Y,$e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Pe)}var Hr=!1;ge&8&&(Be=Y.read_shift(4),Be==134695760&&(Be=Y.read_shift(4),Hr=!0),Ue=Y.read_shift(4),$e=Y.read_shift(4)),Ue!=pe&&ur(Hr,"Bad compressed size: "+pe+" != "+Ue),$e!=re&&ur(Hr,"Bad uncompressed size: "+re+" != "+$e),Ce(ne,wt,Bt,{unsafe:!0,mt:ze})}function xr(Y,pe){var re=pe||{},ne=[],he=[],ge=ut(1),Pe=re.compression?8:0,ze=0,Be=0,Ue=0,$e=0,ht=0,bt=Y.FullPaths[0],wt=bt,gt=Y.FileIndex[0],Mt=[],Bt=0;for(Be=1;Be<Y.FullPaths.length;++Be)if(wt=Y.FullPaths[Be].slice(bt.length),gt=Y.FileIndex[Be],!(!gt.size||!gt.content||wt=="Sh33tJ5")){var Hr=$e,wr=ut(wt.length);for(Ue=0;Ue<wt.length;++Ue)wr.write_shift(1,wt.charCodeAt(Ue)&127);wr=wr.slice(0,wr.l),Mt[ht]=i9.buf(gt.content,0);var nn=gt.content;Pe==8&&(nn=H(nn)),ge=ut(30),ge.write_shift(4,67324752),ge.write_shift(2,20),ge.write_shift(2,ze),ge.write_shift(2,Pe),gt.mt?a(ge,gt.mt):ge.write_shift(4,0),ge.write_shift(-4,Mt[ht]),ge.write_shift(4,nn.length),ge.write_shift(4,gt.content.length),ge.write_shift(2,wr.length),ge.write_shift(2,0),$e+=ge.length,ne.push(ge),$e+=wr.length,ne.push(wr),$e+=nn.length,ne.push(nn),ge=ut(46),ge.write_shift(4,33639248),ge.write_shift(2,0),ge.write_shift(2,20),ge.write_shift(2,ze),ge.write_shift(2,Pe),ge.write_shift(4,0),ge.write_shift(-4,Mt[ht]),ge.write_shift(4,nn.length),ge.write_shift(4,gt.content.length),ge.write_shift(2,wr.length),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(4,0),ge.write_shift(4,Hr),Bt+=ge.l,he.push(ge),Bt+=wr.length,he.push(wr),++ht}return ge=ut(22),ge.write_shift(4,101010256),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,ht),ge.write_shift(2,ht),ge.write_shift(4,Bt),ge.write_shift(4,$e),ge.write_shift(2,0),vs([vs(ne),vs(he),ge])}var Zt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Gr(Y,pe){if(Y.ctype)return Y.ctype;var re=Y.name||"",ne=re.match(/\.([^\.]+)$/);return ne&&Zt[ne[1]]||pe&&(ne=(re=pe).match(/[\.\\]([^\.\\])+$/),ne&&Zt[ne[1]])?Zt[ne[1]]:"application/octet-stream"}function Sa(Y){for(var pe=ep(Y),re=[],ne=0;ne<pe.length;ne+=76)re.push(pe.slice(ne,ne+76));return re.join(`\r
`)+`\r
`}function li(Y){var pe=Y.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var $e=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+($e.length==1?"0"+$e:$e)});pe=pe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),pe.charAt(0)==`
`&&(pe="=0D"+pe.slice(1)),pe=pe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var re=[],ne=pe.split(`\r
`),he=0;he<ne.length;++he){var ge=ne[he];if(ge.length==0){re.push("");continue}for(var Pe=0;Pe<ge.length;){var ze=76,Be=ge.slice(Pe,Pe+ze);Be.charAt(ze-1)=="="?ze--:Be.charAt(ze-2)=="="?ze-=2:Be.charAt(ze-3)=="="&&(ze-=3),Be=ge.slice(Pe,Pe+ze),Pe+=ze,Pe<ge.length&&(Be+="="),re.push(Be)}}return re.join(`\r
`)}function Ji(Y){for(var pe=[],re=0;re<Y.length;++re){for(var ne=Y[re];re<=Y.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+Y[++re];pe.push(ne)}for(var he=0;he<pe.length;++he)pe[he]=pe[he].replace(/[=][0-9A-Fa-f]{2}/g,function(ge){return String.fromCharCode(parseInt(ge.slice(1),16))});return Wl(pe.join(`\r
`))}function Ni(Y,pe,re){for(var ne="",he="",ge="",Pe,ze=0;ze<10;++ze){var Be=pe[ze];if(!Be||Be.match(/^\s*$/))break;var Ue=Be.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":ne=Ue[2].trim();break;case"content-type":ge=Ue[2].trim();break;case"content-transfer-encoding":he=Ue[2].trim();break}}switch(++ze,he.toLowerCase()){case"base64":Pe=Wl(hc(pe.slice(ze).join("")));break;case"quoted-printable":Pe=Ji(pe.slice(ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var $e=Ce(Y,ne.slice(re.length),Pe,{unsafe:!0});ge&&($e.ctype=ge)}function Qt(Y,pe){if(Le(Y.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var re=pe&&pe.root||"",ne=(Cn&&Buffer.isBuffer(Y)?Y.toString("binary"):Le(Y)).split(`\r
`),he=0,ge="";for(he=0;he<ne.length;++he)if(ge=ne[he],!!/^Content-Location:/i.test(ge)&&(ge=ge.slice(ge.indexOf("file")),re||(re=ge.slice(0,ge.lastIndexOf("/")+1)),ge.slice(0,re.length)!=re))for(;re.length>0&&(re=re.slice(0,re.length-1),re=re.slice(0,re.lastIndexOf("/")+1),ge.slice(0,re.length)!=re););var Pe=(ne[1]||"").match(/boundary="(.*?)"/);if(!Pe)throw new Error("MAD cannot find boundary");var ze="--"+(Pe[1]||""),Be=[],Ue=[],$e={FileIndex:Be,FullPaths:Ue};F($e);var ht,bt=0;for(he=0;he<ne.length;++he){var wt=ne[he];wt!==ze&&wt!==ze+"--"||(bt++&&Ni($e,ne.slice(ht,he),re),ht=he)}return $e}function Xa(Y,pe){var re=pe||{},ne=re.boundary||"SheetJS";ne="------="+ne;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],ge=Y.FullPaths[0],Pe=ge,ze=Y.FileIndex[0],Be=1;Be<Y.FullPaths.length;++Be)if(Pe=Y.FullPaths[Be].slice(ge.length),ze=Y.FileIndex[Be],!(!ze.size||!ze.content||Pe=="Sh33tJ5")){Pe=Pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Bt){return"_x"+Bt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Bt){return"_u"+Bt.charCodeAt(0).toString(16)+"_"});for(var Ue=ze.content,$e=Cn&&Buffer.isBuffer(Ue)?Ue.toString("binary"):Le(Ue),ht=0,bt=Math.min(1024,$e.length),wt=0,gt=0;gt<=bt;++gt)(wt=$e.charCodeAt(gt))>=32&&wt<128&&++ht;var Mt=ht>=bt*4/5;he.push(ne),he.push("Content-Location: "+(re.root||"file:///C:/SheetJS/")+Pe),he.push("Content-Transfer-Encoding: "+(Mt?"quoted-printable":"base64")),he.push("Content-Type: "+Gr(ze,Pe)),he.push(""),he.push(Mt?li($e):Sa($e))}return he.push(ne+`--\r
`),he.join(`\r
`)}function Ba(Y){var pe={};return F(pe,Y),pe}function Ce(Y,pe,re,ne){var he=ne&&ne.unsafe;he||F(Y);var ge=!he&&Yn.find(Y,pe);if(!ge){var Pe=Y.FullPaths[0];pe.slice(0,Pe.length)==Pe?Pe=pe:(Pe.slice(-1)!="/"&&(Pe+="/"),Pe=(Pe+pe).replace("//","/")),ge={name:n(pe),type:2},Y.FileIndex.push(ge),Y.FullPaths.push(Pe),he||Yn.utils.cfb_gc(Y)}return ge.content=re,ge.size=re?re.length:0,ne&&(ne.CLSID&&(ge.clsid=ne.CLSID),ne.mt&&(ge.mt=ne.mt),ne.ct&&(ge.ct=ne.ct)),ge}function Ge(Y,pe){F(Y);var re=Yn.find(Y,pe);if(re){for(var ne=0;ne<Y.FileIndex.length;++ne)if(Y.FileIndex[ne]==re)return Y.FileIndex.splice(ne,1),Y.FullPaths.splice(ne,1),!0}return!1}function qe(Y,pe,re){F(Y);var ne=Yn.find(Y,pe);if(ne){for(var he=0;he<Y.FileIndex.length;++he)if(Y.FileIndex[he]==ne)return Y.FileIndex[he].name=n(re),Y.FullPaths[he]=re,!0}return!1}function Ye(Y){B(Y,!0)}return e.find=j,e.read=ce,e.parse=p,e.write=Ne,e.writeFile=_e,e.utils={cfb_new:Ba,cfb_add:Ce,cfb_del:Ge,cfb_mov:qe,cfb_gc:Ye,ReadShift:k0,CheckField:T6,prep_blob:Ko,bconcat:vs,use_zlib:P,_deflateRaw:_r,_inflateRaw:ln,consts:be},e})();function a9(t){return typeof t=="string"?ag(t):Array.isArray(t)?kR(t):t}function yp(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=ag(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var i=r=="utf8"?rp(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(i,t);if(typeof Blob<"u"){var n=new Blob([a9(i)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,t);if(typeof saveAs<"u")return saveAs(n,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(t);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=_p(e)),l.write(e),l.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+t)}function xs(t){for(var e=Object.keys(t),r=[],i=0;i<e.length;++i)Object.prototype.hasOwnProperty.call(t,e[i])&&r.push(e[i]);return r}function B4(t,e){for(var r=[],i=xs(t),n=0;n!==i.length;++n)r[t[i[n]][e]]==null&&(r[t[i[n]][e]]=i[n]);return r}function Z_(t){for(var e=[],r=xs(t),i=0;i!==r.length;++i)e[t[r[i]]]=r[i];return e}function lg(t){for(var e=[],r=xs(t),i=0;i!==r.length;++i)e[t[r[i]]]=parseInt(r[i],10);return e}function s9(t){for(var e=[],r=xs(t),i=0;i!==r.length;++i)e[t[r[i]]]==null&&(e[t[r[i]]]=[]),e[t[r[i]]].push(r[i]);return e}var L1=new Date(1899,11,30,0,0,0);function To(t,e){var r=t.getTime(),i=L1.getTime()+(t.getTimezoneOffset()-L1.getTimezoneOffset())*6e4;return(r-i)/(1440*60*1e3)}var l6=new Date,o9=L1.getTime()+(l6.getTimezoneOffset()-L1.getTimezoneOffset())*6e4,U4=l6.getTimezoneOffset();function u6(t){var e=new Date;return e.setTime(t*24*60*60*1e3+o9),e.getTimezoneOffset()!==U4&&e.setTime(e.getTime()+(e.getTimezoneOffset()-U4)*6e4),e}var z4=new Date("2017-02-19T19:06:09.000Z"),c6=isNaN(z4.getFullYear())?new Date("2/19/17"):z4,l9=c6.getFullYear()==2017;function Qs(t,e){var r=new Date(t);if(l9)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(c6.getFullYear()==1917&&!isNaN(r.getFullYear())){var i=r.getFullYear();return t.indexOf(""+i)>-1||r.setFullYear(r.getFullYear()+100),r}var n=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function ug(t,e){if(Cn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var i=[],n=0;n!=t.length;++n)i.push(String.fromCharCode(t[n]));return i.join("")}function Ao(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Ao(t[r]));return e}function Yi(t,e){for(var r="";r.length<e;)r+=t;return r}function uc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,i=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(i))||(i=i.replace(/[(](.*)[)]/,function(n,a){return r=-r,a}),!isNaN(e=Number(i)))?e/r:e}var u9=["january","february","march","april","may","june","july","august","september","october","november","december"];function tp(t){var e=new Date(t),r=new Date(NaN),i=e.getYear(),n=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&u9.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return i<0||i>8099?r:(n>0||a>1)&&i!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Wr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var i;return Cn?i=gc(r):i=PR(r),Yn.utils.cfb_add(t,e,i)}Yn.utils.cfb_add(t,e,r)}else t.file(e,r)}function Y_(){return Yn.utils.cfb_new()}var ba=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,c9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},K_=Z_(c9),X_=/[&<>'"]/g,h9=/[\u0000-\u0008\u000b-\u001f]/g;function Hn(t){var e=t+"";return e.replace(X_,function(r){return K_[r]}).replace(h9,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function G4(t){return Hn(t).replace(/ /g,"_x0020_")}var h6=/[\u0000-\u001f]/g;function f9(t){var e=t+"";return e.replace(X_,function(r){return K_[r]}).replace(/\n/g,"<br/>").replace(h6,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function d9(t){var e=t+"";return e.replace(X_,function(r){return K_[r]}).replace(h6,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function p9(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function m9(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function x2(t){for(var e="",r=0,i=0,n=0,a=0,s=0,l=0;r<t.length;){if(i=t.charCodeAt(r++),i<128){e+=String.fromCharCode(i);continue}if(n=t.charCodeAt(r++),i>191&&i<224){s=(i&31)<<6,s|=n&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(r++),i<240){e+=String.fromCharCode((i&15)<<12|(n&63)<<6|a&63);continue}s=t.charCodeAt(r++),l=((i&7)<<18|(n&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function H4(t){var e=Fh(2*t.length),r,i,n=1,a=0,s=0,l;for(i=0;i<t.length;i+=n)n=1,(l=t.charCodeAt(i))<128?r=l:l<224?(r=(l&31)*64+(t.charCodeAt(i+1)&63),n=2):l<240?(r=(l&15)*4096+(t.charCodeAt(i+1)&63)*64+(t.charCodeAt(i+2)&63),n=3):(n=4,r=(l&7)*262144+(t.charCodeAt(i+1)&63)*4096+(t.charCodeAt(i+2)&63)*64+(t.charCodeAt(i+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function q4(t){return gc(t,"binary").toString("utf8")}var zm="foo bar baz",M0=Cn&&(q4(zm)==x2(zm)&&q4||H4(zm)==x2(zm)&&H4)||x2,rp=Cn?function(t){return gc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,i=0,n=0;r<t.length;)switch(i=t.charCodeAt(r++),!0){case i<128:e.push(String.fromCharCode(i));break;case i<2048:e.push(String.fromCharCode(192+(i>>6))),e.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,n=t.charCodeAt(r++)-56320+(i<<10),e.push(String.fromCharCode(240+(n>>18&7))),e.push(String.fromCharCode(144+(n>>12&63))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)));break;default:e.push(String.fromCharCode(224+(i>>12))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)))}return e.join("")},g9=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var i=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<t.length;++n)i=i.replace(t[n][0],t[n][1]);return i}})(),f6=/(^\s|\s$|\n)/;function _s(t,e){return"<"+t+(e.match(f6)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function np(t){return xs(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Pt(t,e,r){return"<"+t+(r!=null?np(r):"")+(e!=null?(e.match(f6)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function v_(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function v9(t,e){switch(typeof t){case"string":var r=Pt("vt:lpwstr",Hn(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Pt((t|0)==t?"vt:i4":"vt:r8",Hn(String(t)));case"boolean":return Pt("vt:bool",t?"true":"false")}if(t instanceof Date)return Pt("vt:filetime",v_(t));throw new Error("Unable to serialize "+t)}var Za={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Sd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Xo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function _9(t,e){for(var r=1-2*(t[e+7]>>>7),i=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),n=t[e+6]&15,a=5;a>=0;--a)n=n*256+t[e+a];return i==2047?n==0?r*(1/0):NaN:(i==0?i=-1022:(i-=1023,n+=Math.pow(2,52)),r*Math.pow(2,i-52)*n)}function y9(t,e,r){var i=(e<0||1/e==-1/0?1:0)<<7,n=0,a=0,s=i?-e:e;isFinite(s)?s==0?n=a=0:(n=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-n),n<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?n=-1022:(a-=Math.pow(2,52),n+=1023)):(n=2047,a=isNaN(e)?26985:0);for(var l=0;l<=5;++l,a/=256)t[r+l]=a&255;t[r+6]=(n&15)<<4|a&15,t[r+7]=n>>4|i}var V4=function(t){for(var e=[],r=10240,i=0;i<t[0].length;++i)if(t[0][i])for(var n=0,a=t[0][i].length;n<a;n+=r)e.push.apply(e,t[0][i].slice(n,n+r));return e},$4=Cn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:gc(e)})):V4(t)}:V4,W4=function(t,e,r){for(var i=[],n=e;n<r;n+=2)i.push(String.fromCharCode(v0(t,n)));return i.join("").replace(C0,"")},J_=Cn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(C0,""):W4(t,e,r)}:W4,Z4=function(t,e,r){for(var i=[],n=e;n<e+r;++n)i.push(("0"+t[n].toString(16)).slice(-2));return i.join("")},d6=Cn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Z4(t,e,r)}:Z4,Y4=function(t,e,r){for(var i=[],n=e;n<r;n++)i.push(String.fromCharCode($f(t,n)));return i.join("")},xp=Cn?function(e,r,i){return Buffer.isBuffer(e)?e.toString("utf8",r,i):Y4(e,r,i)}:Y4,p6=function(t,e){var r=Jo(t,e);return r>0?xp(t,e+4,e+4+r-1):""},m6=p6,g6=function(t,e){var r=Jo(t,e);return r>0?xp(t,e+4,e+4+r-1):""},v6=g6,_6=function(t,e){var r=2*Jo(t,e);return r>0?xp(t,e+4,e+4+r-1):""},y6=_6,x6=function(e,r){var i=Jo(e,r);return i>0?J_(e,r+4,r+4+i):""},w6=x6,b6=function(t,e){var r=Jo(t,e);return r>0?xp(t,e+4,e+4+r):""},S6=b6,E6=function(t,e){return _9(t,e)},N1=E6,Q_=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Cn&&(m6=function(e,r){if(!Buffer.isBuffer(e))return p6(e,r);var i=e.readUInt32LE(r);return i>0?e.toString("utf8",r+4,r+4+i-1):""},v6=function(e,r){if(!Buffer.isBuffer(e))return g6(e,r);var i=e.readUInt32LE(r);return i>0?e.toString("utf8",r+4,r+4+i-1):""},y6=function(e,r){if(!Buffer.isBuffer(e))return _6(e,r);var i=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+i-1)},w6=function(e,r){if(!Buffer.isBuffer(e))return x6(e,r);var i=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+i)},S6=function(e,r){if(!Buffer.isBuffer(e))return b6(e,r);var i=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+i)},N1=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):E6(e,r)},Q_=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var $f=function(t,e){return t[e]},v0=function(t,e){return t[e+1]*256+t[e]},x9=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Jo=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Ch=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},w9=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function k0(t,e){var r="",i,n,a=[],s,l,c,f;switch(e){case"dbcs":if(f=this.l,Cn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)r+=String.fromCharCode(v0(this,f)),f+=2;t*=2;break;case"utf8":r=xp(this,this.l,this.l+t);break;case"utf16le":t*=2,r=J_(this,this.l,this.l+t);break;case"wstr":return k0.call(this,t,"dbcs");case"lpstr-ansi":r=m6(this,this.l),t=4+Jo(this,this.l);break;case"lpstr-cp":r=v6(this,this.l),t=4+Jo(this,this.l);break;case"lpwstr":r=y6(this,this.l),t=4+2*Jo(this,this.l);break;case"lpp4":t=4+Jo(this,this.l),r=w6(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Jo(this,this.l),r=S6(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=$f(this,this.l+t++))!==0;)a.push(Fm(s));r=a.join("");break;case"_wstr":for(t=0,r="";(s=v0(this,this.l+t))!==0;)a.push(Fm(s)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",f=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return s=$f(this,f),this.l=f+1,l=k0.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Fm(v0(this,f))),f+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return s=$f(this,f),this.l=f+1,l=k0.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Fm($f(this,f))),f+=1}r=a.join("");break;default:switch(t){case 1:return i=$f(this,this.l),this.l++,i;case 2:return i=(e==="i"?x9:v0)(this,this.l),this.l+=2,i;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(i=(t>0?Ch:w9)(this,this.l),this.l+=4,i):(n=Jo(this,this.l),this.l+=4,n);case 8:case-8:if(e==="f")return t==8?n=N1(this,this.l):n=N1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;t=8;case 16:r=d6(this,this.l,t);break}}return this.l+=t,r}var b9=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},S9=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},E9=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function T9(t,e,r){var i=0,n=0;if(r==="dbcs"){for(n=0;n!=e.length;++n)E9(this,e.charCodeAt(n),this.l+2*n);i=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=e.length;++n)this[this.l+n]=e.charCodeAt(n)&255;i=e.length}else if(r==="hex"){for(;n<t;++n)this[this.l++]=parseInt(e.slice(2*n,2*n+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(n=0;n<Math.min(e.length,t);++n){var s=e.charCodeAt(n);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:i=1,this[this.l]=e&255;break;case 2:i=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:i=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:i=4,b9(this,e,this.l);break;case 8:if(i=8,r==="f"){y9(this,e,this.l);break}case 16:break;case-4:i=4,S9(this,e,this.l);break}return this.l+=i,this}function T6(t,e){var r=d6(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ko(t,e){t.l=e,t.read_shift=k0,t.chk=T6,t.write_shift=T9}function Ou(t,e){t.l+=e}function ut(t){var e=Fh(t);return Ko(e,0),e}function Eo(){var t=[],e=Cn?256:2048,r=function(f){var p=ut(f);return Ko(p,0),p},i=r(e),n=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&t.push(i),i=null)},a=function(f){return i&&f<i.length-i.l?i:(n(),i=r(Math.max(f+1,e)))},s=function(){return n(),vs(t)},l=function(f){n(),i=f,i.l==null&&(i.l=i.length),a(e)};return{next:a,push:l,end:s,_bufs:t}}function Et(t,e,r,i){var n=+e,a;if(!isNaN(n)){i||(i=_U[n].p||(r||[]).length||0),a=1+(n>=128?1:0)+1,i>=128&&++a,i>=16384&&++a,i>=2097152&&++a;var s=t.next(a);n<=127?s.write_shift(1,n):(s.write_shift(1,(n&127)+128),s.write_shift(1,n>>7));for(var l=0;l!=4;++l)if(i>=128)s.write_shift(1,(i&127)+128),i>>=7;else{s.write_shift(1,i);break}i>0&&Q_(r)&&t.push(r)}}function P0(t,e,r){var i=Ao(t);if(e.s?(i.cRel&&(i.c+=e.s.c),i.rRel&&(i.r+=e.s.r)):(i.cRel&&(i.c+=e.c),i.rRel&&(i.r+=e.r)),!r||r.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function K4(t,e,r){var i=Ao(t);return i.s=P0(i.s,e.s,r),i.e=P0(i.e,e.s,r),i}function O0(t,e){if(t.cRel&&t.c<0)for(t=Ao(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ao(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=qn(t);return!t.cRel&&t.cRel!=null&&(r=N9(r)),!t.rRel&&t.rRel!=null&&(r=A9(r)),r}function w2(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Bs(t.s.c)+":"+(t.e.cRel?"":"$")+Bs(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ys(t.s.r)+":"+(t.e.rRel?"":"$")+ys(t.e.r):O0(t.s,e.biff)+":"+O0(t.e,e.biff)}function ey(t){return parseInt(L9(t),10)-1}function ys(t){return""+(t+1)}function A9(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function L9(t){return t.replace(/\$(\d+)$/,"$1")}function ty(t){for(var e=C9(t),r=0,i=0;i!==e.length;++i)r=26*r+e.charCodeAt(i)-64;return r-1}function Bs(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function N9(t){return t.replace(/^([A-Z])/,"$$$1")}function C9(t){return t.replace(/^\$([A-Z])/,"$1")}function M9(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ya(t){for(var e=0,r=0,i=0;i<t.length;++i){var n=t.charCodeAt(i);n>=48&&n<=57?e=10*e+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:e-1}}function qn(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function el(t){var e=t.indexOf(":");return e==-1?{s:Ya(t),e:Ya(t)}:{s:Ya(t.slice(0,e)),e:Ya(t.slice(e+1))}}function wa(t,e){return typeof e>"u"||typeof e=="number"?wa(t.s,t.e):(typeof t!="string"&&(t=qn(t)),typeof e!="string"&&(e=qn(e)),t==e?t:t+":"+e)}function _i(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,i=0,n=0,a=t.length;for(r=0;i<a&&!((n=t.charCodeAt(i)-64)<1||n>26);++i)r=26*r+n;for(e.s.c=--r,r=0;i<a&&!((n=t.charCodeAt(i)-48)<0||n>9);++i)r=10*r+n;if(e.s.r=--r,i===a||n!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++i,r=0;i!=a&&!((n=t.charCodeAt(i)-64)<1||n>26);++i)r=26*r+n;for(e.e.c=--r,r=0;i!=a&&!((n=t.charCodeAt(i)-48)<0||n>9);++i)r=10*r+n;return e.e.r=--r,e}function X4(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=th(t.z,r?To(e):e)}catch{}try{return t.w=th((t.XF||{}).numFmtId||(r?14:0),r?To(e):e)}catch{return""+e}}function fc(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?wp[t.v]||t.v:e==null?X4(t,t.v):X4(t,e))}function $h(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",i={};return i[r]=t,{SheetNames:[r],Sheets:i}}function A6(t,e,r){var i=r||{},n=t?Array.isArray(t):i.dense,a=t||(n?[]:{}),s=0,l=0;if(a&&i.origin!=null){if(typeof i.origin=="number")s=i.origin;else{var c=typeof i.origin=="string"?Ya(i.origin):i.origin;s=c.r,l=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var p=_i(a["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),s==-1&&(f.e.r=s=p.e.r+1)}for(var v=0;v!=e.length;++v)if(e[v]){if(!Array.isArray(e[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[v].length;++y)if(!(typeof e[v][y]>"u")){var _={v:e[v][y]},T=s+v,S=l+y;if(f.s.r>T&&(f.s.r=T),f.s.c>S&&(f.s.c=S),f.e.r<T&&(f.e.r=T),f.e.c<S&&(f.e.c=S),e[v][y]&&typeof e[v][y]=="object"&&!Array.isArray(e[v][y])&&!(e[v][y]instanceof Date))_=e[v][y];else if(Array.isArray(_.v)&&(_.f=e[v][y][1],_.v=_.v[0]),_.v===null)if(_.f)_.t="n";else if(i.nullError)_.t="e",_.v=0;else if(i.sheetStubs)_.t="z";else continue;else typeof _.v=="number"?_.t="n":typeof _.v=="boolean"?_.t="b":_.v instanceof Date?(_.z=i.dateNF||Xi[14],i.cellDates?(_.t="d",_.w=th(_.z,To(_.v))):(_.t="n",_.v=To(_.v),_.w=th(_.z,_.v))):_.t="s";if(n)a[T]||(a[T]=[]),a[T][S]&&a[T][S].z&&(_.z=a[T][S].z),a[T][S]=_;else{var C=qn({c:S,r:T});a[C]&&a[C].z&&(_.z=a[C].z),a[C]=_}}}return f.s.c<1e7&&(a["!ref"]=wa(f)),a}function Ed(t,e){return A6(null,t,e)}function k9(t){return t.read_shift(4,"i")}function Yl(t,e){return e||(e=ut(4)),e.write_shift(4,t),e}function Us(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ka(t,e){var r=!1;return e==null&&(r=!0,e=ut(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function P9(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function O9(t,e){return e||(e=ut(4)),e.write_shift(2,0),e.write_shift(2,0),e}function ry(t,e){var r=t.l,i=t.read_shift(1),n=Us(t),a=[],s={t:n,h:n};if((i&1)!==0){for(var l=t.read_shift(4),c=0;c!=l;++c)a.push(P9(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function R9(t,e){var r=!1;return e==null&&(r=!0,e=ut(15+4*t.t.length)),e.write_shift(1,0),Ka(t.t,e),r?e.slice(0,e.l):e}var D9=ry;function j9(t,e){var r=!1;return e==null&&(r=!0,e=ut(23+4*t.t.length)),e.write_shift(1,1),Ka(t.t,e),e.write_shift(4,1),O9({},e),r?e.slice(0,e.l):e}function El(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Wh(t,e){return e==null&&(e=ut(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Zh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Yh(t,e){return e==null&&(e=ut(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var I9=Us,L6=Ka;function ny(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function C1(t,e){var r=!1;return e==null&&(r=!0,e=ut(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var F9=Us,__=ny,iy=C1;function N6(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,i=e[0]&2;t.l+=4;var n=i===0?N1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Ch(e,0)>>2;return r?n/100:n}function C6(t,e){e==null&&(e=ut(4));var r=0,i=0,n=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?i=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(i=1,r=1),i)e.write_shift(-4,((r?n:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function M6(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function B9(t,e){return e||(e=ut(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Kh=M6,Td=B9;function Ad(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Bh(t,e){return(e||ut(8)).write_shift(8,t,"f")}function U9(t){var e={},r=t.read_shift(1),i=r>>>1,n=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(1);switch(t.l++,i){case 0:e.auto=1;break;case 1:e.index=n;var f=Y9[n];f&&(e.rgb=l3(f));break;case 2:e.rgb=l3([s,l,c]);break;case 3:e.theme=n;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function M1(t,e){if(e||(e=ut(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var i=t.rgb||"FFFFFF";typeof i=="number"&&(i=("000000"+i.toString(16)).slice(-6)),e.write_shift(1,parseInt(i.slice(0,2),16)),e.write_shift(1,parseInt(i.slice(2,4),16)),e.write_shift(1,parseInt(i.slice(4,6),16)),e.write_shift(1,255)}return e}function z9(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function G9(t,e){e||(e=ut(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var k6=2,Zo=3,Gm=11,k1=19,Hm=64,H9=65,q9=71,V9=4108,$9=4126,gs=80,J4={1:{n:"CodePage",t:k6},2:{n:"Category",t:gs},3:{n:"PresentationFormat",t:gs},4:{n:"ByteCount",t:Zo},5:{n:"LineCount",t:Zo},6:{n:"ParagraphCount",t:Zo},7:{n:"SlideCount",t:Zo},8:{n:"NoteCount",t:Zo},9:{n:"HiddenCount",t:Zo},10:{n:"MultimediaClipCount",t:Zo},11:{n:"ScaleCrop",t:Gm},12:{n:"HeadingPairs",t:V9},13:{n:"TitlesOfParts",t:$9},14:{n:"Manager",t:gs},15:{n:"Company",t:gs},16:{n:"LinksUpToDate",t:Gm},17:{n:"CharacterCount",t:Zo},19:{n:"SharedDoc",t:Gm},22:{n:"HyperlinksChanged",t:Gm},23:{n:"AppVersion",t:Zo,p:"version"},24:{n:"DigSig",t:H9},26:{n:"ContentType",t:gs},27:{n:"ContentStatus",t:gs},28:{n:"Language",t:gs},29:{n:"Version",t:gs},255:{},2147483648:{n:"Locale",t:k1},2147483651:{n:"Behavior",t:k1},1919054434:{}},Q4={1:{n:"CodePage",t:k6},2:{n:"Title",t:gs},3:{n:"Subject",t:gs},4:{n:"Author",t:gs},5:{n:"Keywords",t:gs},6:{n:"Comments",t:gs},7:{n:"Template",t:gs},8:{n:"LastAuthor",t:gs},9:{n:"RevNumber",t:gs},10:{n:"EditTime",t:Hm},11:{n:"LastPrinted",t:Hm},12:{n:"CreatedDate",t:Hm},13:{n:"ModifiedDate",t:Hm},14:{n:"PageCount",t:Zo},15:{n:"WordCount",t:Zo},16:{n:"CharCount",t:Zo},17:{n:"Thumbnail",t:q9},18:{n:"Application",t:gs},19:{n:"DocSecurity",t:Zo},255:{},2147483648:{n:"Locale",t:k1},2147483651:{n:"Behavior",t:k1},1919054434:{}};function W9(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Z9=W9([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Y9=Ao(Z9),wp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},K9={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},qm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function P6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function O6(t,e){var r=s9(K9),i=[],n;i[i.length]=ba,i[i.length]=Pt("Types",null,{xmlns:Za.CT,"xmlns:xsd":Za.xsd,"xmlns:xsi":Za.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Pt("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){t[c]&&t[c].length>0&&(n=t[c][0],i[i.length]=Pt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:qm[c][e.bookType]||qm[c].xlsx}))},s=function(c){(t[c]||[]).forEach(function(f){i[i.length]=Pt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:qm[c][e.bookType]||qm[c].xlsx})})},l=function(c){(t[c]||[]).forEach(function(f){i[i.length]=Pt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[c][0]})})};return a("workbooks"),s("sheets"),s("charts"),l("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),s("metadata"),l("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var Tn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function R6(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function dd(t){var e=[ba,Pt("Relationships",null,{xmlns:Za.RELS})];return xs(t["!id"]).forEach(function(r){e[e.length]=Pt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function zn(t,e,r,i,n,a){if(n||(n={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,n.Id="rId"+e,n.Type=i,n.Target=r,[Tn.HLINK,Tn.XPATH,Tn.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),t["!id"][n.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][n.Id]=n,t[("/"+n.Target).replace("//","/")]=n,e}function X9(t){var e=[ba];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function e3(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function J9(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Q9(t){var e=[ba];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(e3(t[r][0],t[r][1])),e.push(J9("",t[r][0]));return e.push(e3("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function D6(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+b1.version+"</meta:generator></office:meta></office:document-meta>"}var Rh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function b2(t,e,r,i,n){n[t]!=null||e==null||e===""||(n[t]=e,e=Hn(e),i[i.length]=r?Pt(t,e,r):_s(t,e))}function j6(t,e){var r=e||{},i=[ba,Pt("cp:coreProperties",null,{"xmlns:cp":Za.CORE_PROPS,"xmlns:dc":Za.dc,"xmlns:dcterms":Za.dcterms,"xmlns:dcmitype":Za.dcmitype,"xmlns:xsi":Za.xsi})],n={};if(!t&&!r.Props)return i.join("");t&&(t.CreatedDate!=null&&b2("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:v_(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},i,n),t.ModifiedDate!=null&&b2("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:v_(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},i,n));for(var a=0;a!=Rh.length;++a){var s=Rh[a],l=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&b2(s[0],l,null,i,n)}return i.length>2&&(i[i.length]="</cp:coreProperties>",i[1]=i[1].replace("/>",">")),i.join("")}var pd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],I6=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function F6(t){var e=[],r=Pt;return t||(t={}),t.Application="SheetJS",e[e.length]=ba,e[e.length]=Pt("Properties",null,{xmlns:Za.EXT_PROPS,"xmlns:vt":Za.vt}),pd.forEach(function(i){if(t[i[1]]!==void 0){var n;switch(i[2]){case"string":n=Hn(String(t[i[1]]));break;case"bool":n=t[i[1]]?"true":"false";break}n!==void 0&&(e[e.length]=r(i[0],n))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(i){return"<vt:lpstr>"+Hn(i)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function B6(t){var e=[ba,Pt("Properties",null,{xmlns:Za.CUST_PROPS,"xmlns:vt":Za.vt})];if(!t)return e.join("");var r=1;return xs(t).forEach(function(n){++r,e[e.length]=Pt("property",v9(t[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Hn(n)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var t3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function eD(t,e){var r=[];return xs(t3).map(function(i){for(var n=0;n<Rh.length;++n)if(Rh[n][1]==i)return Rh[n];for(n=0;n<pd.length;++n)if(pd[n][1]==i)return pd[n];throw i}).forEach(function(i){if(t[i[1]]!=null){var n=e&&e.Props&&e.Props[i[1]]!=null?e.Props[i[1]]:t[i[1]];i[2]==="date"&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"Z")),typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),r.push(_s(t3[i[1]]||i[1],n))}}),Pt("DocumentProperties",r.join(""),{xmlns:Xo.o})}function tD(t,e){var r=["Worksheets","SheetNames"],i="CustomDocumentProperties",n=[];return t&&xs(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<Rh.length;++s)if(a==Rh[s][1])return;for(s=0;s<pd.length;++s)if(a==pd[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var l=t[a],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),n.push(Pt(G4(a),l,{"dt:dt":c}))}}),e&&xs(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=e[a],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s instanceof Date?(l="dateTime.tz",s=s.toISOString()):s=String(s),n.push(Pt(G4(a),s,{"dt:dt":l}))}}),"<"+i+' xmlns="'+Xo.o+'">'+n.join("")+"</"+i+">"}function rD(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,i=r%Math.pow(2,32),n=(r-i)/Math.pow(2,32);i*=1e7,n*=1e7;var a=i/Math.pow(2,32)|0;a>0&&(i=i%Math.pow(2,32),n+=a);var s=ut(8);return s.write_shift(4,i),s.write_shift(4,n),s}function r3(t,e){var r=ut(4),i=ut(4);switch(r.write_shift(4,t==80?31:t),t){case 3:i.write_shift(-4,e);break;case 5:i=ut(8),i.write_shift(8,e,"f");break;case 11:i.write_shift(4,e?1:0);break;case 64:i=rD(e);break;case 31:case 80:for(i=ut(4+2*(e.length+1)+(e.length%2?0:2)),i.write_shift(4,e.length+1),i.write_shift(0,e,"dbcs");i.l!=i.length;)i.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return vs([r,i])}var U6=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function nD(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function n3(t,e,r){var i=ut(8),n=[],a=[],s=8,l=0,c=ut(8),f=ut(8);if(c.write_shift(4,2),c.write_shift(4,1200),f.write_shift(4,1),a.push(c),n.push(f),s+=8+c.length,!e){f=ut(8),f.write_shift(4,0),n.unshift(f);var p=[ut(4)];for(p[0].write_shift(4,t.length),l=0;l<t.length;++l){var v=t[l][0];for(c=ut(8+2*(v.length+1)+(v.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,v.length+1),c.write_shift(0,v,"dbcs");c.l!=c.length;)c.write_shift(1,0);p.push(c)}c=vs(p),a.unshift(c),s+=8+c.length}for(l=0;l<t.length;++l)if(!(e&&!e[t[l][0]])&&!(U6.indexOf(t[l][0])>-1||I6.indexOf(t[l][0])>-1)&&t[l][1]!=null){var y=t[l][1],_=0;if(e){_=+e[t[l][0]];var T=r[_];if(T.p=="version"&&typeof y=="string"){var S=y.split(".");y=(+S[0]<<16)+(+S[1]||0)}c=r3(T.t,y)}else{var C=nD(y);C==-1&&(C=31,y=String(y)),c=r3(C,y)}a.push(c),f=ut(8),f.write_shift(4,e?_:2+l),n.push(f),s+=8+c.length}var O=8*(a.length+1);for(l=0;l<a.length;++l)n[l].write_shift(4,O),O+=a[l].length;return i.write_shift(4,s),i.write_shift(4,a.length),vs([i].concat(n).concat(a))}function i3(t,e,r,i,n,a){var s=ut(n?68:48),l=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Yn.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,n?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,n?68:48);var c=n3(t,r,i);if(l.push(c),n){var f=n3(n,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+c.length),l.push(f)}return vs(l)}function iD(t,e){e||(e=ut(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function aD(t,e){return t.read_shift(e)===1}function Xs(t,e){return e||(e=ut(2)),e.write_shift(2,+!!t),e}function z6(t){return t.read_shift(2,"u")}function _l(t,e){return e||(e=ut(2)),e.write_shift(2,t),e}function G6(t,e,r){return r||(r=ut(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function H6(t,e,r){var i=t.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(n="dbcs-cont")}else r.biff==12&&(n="wstr");r.biff>=2&&r.biff<=5&&(n="cpstr");var s=i?t.read_shift(i,n):"";return s}function sD(t){var e=t.t||"",r=ut(3);r.write_shift(2,e.length),r.write_shift(1,1);var i=ut(2*e.length);i.write_shift(2*e.length,e,"utf16le");var n=[r,i];return vs(n)}function oD(t,e,r){var i;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var n=t.read_shift(1);return n===0?i=t.read_shift(e,"sbcs-cont"):i=t.read_shift(e,"dbcs-cont"),i}function lD(t,e,r){var i=t.read_shift(r&&r.biff==2?1:2);return i===0?(t.l++,""):oD(t,i,r)}function uD(t,e,r){if(r.biff>5)return lD(t,e,r);var i=t.read_shift(1);return i===0?(t.l++,""):t.read_shift(i,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function q6(t,e,r){return r||(r=ut(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function a3(t,e){e||(e=ut(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function cD(t){var e=ut(512),r=0,i=t.Target;i.slice(0,7)=="file://"&&(i=i.slice(7));var n=i.indexOf("#"),a=n>-1?31:23;switch(i.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(a==28)i=i.slice(1),a3(i,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var l=n>-1?i.slice(0,n):i;for(e.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)e.write_shift(2,l.charCodeAt(r));e.write_shift(2,0),a&8&&a3(n>-1?i.slice(n+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var c=0;i.slice(c*3,c*3+3)=="../"||i.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,i.length-3*c+1),r=0;r<i.length-3*c;++r)e.write_shift(1,i.charCodeAt(r+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Uh(t,e,r,i){return i||(i=ut(6)),i.write_shift(2,t),i.write_shift(2,e),i.write_shift(2,r||0),i}function hD(t,e,r){var i=r.biff>8?4:2,n=t.read_shift(i),a=t.read_shift(i,"i"),s=t.read_shift(i,"i");return[n,a,s]}function fD(t){var e=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),n=t.read_shift(2);return{s:{c:i,r:e},e:{c:n,r}}}function V6(t,e){return e||(e=ut(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function ay(t,e,r){var i=1536,n=16;switch(r.bookType){case"biff8":break;case"biff5":i=1280,n=8;break;case"biff4":i=4,n=6;break;case"biff3":i=3,n=6;break;case"biff2":i=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=ut(n);return a.write_shift(2,i),a.write_shift(2,e),n>4&&a.write_shift(2,29282),n>6&&a.write_shift(2,1997),n>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function dD(t,e){var r=!e||e.biff==8,i=ut(r?112:54);for(i.write_shift(e.biff==8?2:1,7),r&&i.write_shift(1,0),i.write_shift(4,859007059),i.write_shift(4,5458548|(r?0:536870912));i.l<i.length;)i.write_shift(1,r?0:32);return i}function pD(t,e){var r=!e||e.biff>=8?2:1,i=ut(8+r*t.name.length);i.write_shift(4,t.pos),i.write_shift(1,t.hs||0),i.write_shift(1,t.dt),i.write_shift(1,t.name.length),e.biff>=8&&i.write_shift(1,1),i.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var n=i.slice(0,i.l);return n.l=i.l,n}function mD(t,e){var r=ut(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var i=[],n=0;n<t.length;++n)i[n]=sD(t[n]);var a=vs([r].concat(i));return a.parts=[r.length].concat(i.map(function(s){return s.length})),a}function gD(){var t=ut(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function vD(t){var e=ut(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function _D(t,e){var r=t.name||"Arial",i=e&&e.biff==5,n=i?15+r.length:16+2*r.length,a=ut(n);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),i||a.write_shift(1,1),a.write_shift((i?1:2)*r.length,r,i?"sbcs":"utf16le"),a}function yD(t,e,r,i){var n=ut(10);return Uh(t,e,i,n),n.write_shift(4,r),n}function xD(t,e,r,i,n){var a=!n||n.biff==8,s=ut(8+ +a+(1+a)*r.length);return Uh(t,e,i,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function wD(t,e,r,i){var n=r&&r.biff==5;i||(i=ut(n?3+e.length:5+2*e.length)),i.write_shift(2,t),i.write_shift(n?1:2,e.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*e.length,e,n?"sbcs":"utf16le");var a=i.length>i.l?i.slice(0,i.l):i;return a.l==null&&(a.l=a.length),a}function bD(t,e){var r=e.biff==8||!e.biff?4:2,i=ut(2*r+6);return i.write_shift(r,t.s.r),i.write_shift(r,t.e.r+1),i.write_shift(2,t.s.c),i.write_shift(2,t.e.c+1),i.write_shift(2,0),i}function s3(t,e,r,i){var n=r&&r.biff==5;i||(i=ut(n?16:20)),i.write_shift(2,0),t.style?(i.write_shift(2,t.numFmtId||0),i.write_shift(2,65524)):(i.write_shift(2,t.numFmtId||0),i.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&n&&(a|=1024),i.write_shift(4,a),i.write_shift(4,0),n||i.write_shift(4,0),i.write_shift(2,0),i}function SD(t){var e=ut(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function ED(t,e,r,i,n,a){var s=ut(8);return Uh(t,e,i,s),G6(r,a,s),s}function TD(t,e,r,i){var n=ut(14);return Uh(t,e,i,n),Bh(r,n),n}function AD(t,e,r){if(r.biff<8)return LD(t,e,r);for(var i=[],n=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)i.push(hD(t,r.biff>8?12:6,r));if(t.l!=n)throw new Error("Bad ExternSheet: "+t.l+" != "+n);return i}function LD(t,e,r){t[t.l+1]==3&&t[t.l]++;var i=H6(t,e,r);return i.charCodeAt(0)==3?i.slice(1):i}function ND(t){var e=ut(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)V6(t[r],e);return e}function CD(t){var e=ut(24),r=Ya(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var i="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)e.write_shift(1,parseInt(i[n],16));return vs([e,cD(t[1])])}function MD(t){var e=t[1].Tooltip,r=ut(10+2*(e.length+1));r.write_shift(2,2048);var i=Ya(t[0]);r.write_shift(2,i.r),r.write_shift(2,i.r),r.write_shift(2,i.c),r.write_shift(2,i.c);for(var n=0;n<e.length;++n)r.write_shift(2,e.charCodeAt(n));return r.write_shift(2,0),r}function kD(t){return t||(t=ut(4)),t.write_shift(2,1),t.write_shift(2,1),t}function PD(t,e,r){if(!r.cellStyles)return Ou(t,e);var i=r&&r.biff>=12?4:2,n=t.read_shift(i),a=t.read_shift(i),s=t.read_shift(i),l=t.read_shift(i),c=t.read_shift(2);i==2&&(t.l+=2);var f={s:n,e:a,w:s,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(f.level=c>>8&7),f}function OD(t,e){var r=ut(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var i=0;return t.hidden&&(i|=1),r.write_shift(1,i),i=t.level||0,r.write_shift(1,i),r.write_shift(2,0),r}function RD(t){for(var e=ut(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function DD(t,e,r){var i=ut(15);return Sp(i,t,e),i.write_shift(8,r,"f"),i}function jD(t,e,r){var i=ut(9);return Sp(i,t,e),i.write_shift(2,r),i}var ID=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Z_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var f=[],p=Fh(1);switch(c.type){case"base64":p=Wl(hc(l));break;case"binary":p=Wl(l);break;case"buffer":case"array":p=l;break}Ko(p,0);var v=p.read_shift(1),y=!!(v&136),_=!1,T=!1;switch(v){case 2:break;case 3:break;case 48:_=!0,y=!0;break;case 49:_=!0,y=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var S=0,C=521;v==2&&(S=p.read_shift(2)),p.l+=3,v!=2&&(S=p.read_shift(4)),S>1048576&&(S=1e6),v!=2&&(C=p.read_shift(2));var O=p.read_shift(2),I=c.codepage||1252;v!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(I=t[p[p.l]]),p.l+=1,p.l+=2),T&&(p.l+=36);for(var D=[],q={},te=Math.min(p.length,v==2?521:C-10-(_?264:0)),ce=T?32:11;p.l<te&&p[p.l]!=13;)switch(q={},q.name=S1.utils.decode(I,p.slice(p.l,p.l+ce)).replace(/[\u0000\r\n].*$/g,""),p.l+=ce,q.type=String.fromCharCode(p.read_shift(1)),v!=2&&!T&&(q.offset=p.read_shift(4)),q.len=p.read_shift(1),v==2&&(q.offset=p.read_shift(2)),q.dec=p.read_shift(1),q.name.length&&D.push(q),v!=2&&(p.l+=T?13:14),q.type){case"B":(!_||q.len!=8)&&c.WTF&&console.log("Skipping "+q.name+":"+q.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+q.name+":"+q.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+q.type)}if(p[p.l]!==13&&(p.l=C-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=C;var F=0,K=0;for(f[0]=[],K=0;K!=D.length;++K)f[0][K]=D[K].name;for(;S-- >0;){if(p[p.l]===42){p.l+=O;continue}for(++p.l,f[++F]=[],K=0,K=0;K!=D.length;++K){var B=p.slice(p.l,p.l+D[K].len);p.l+=D[K].len,Ko(B,0);var X=S1.utils.decode(I,B);switch(D[K].type){case"C":X.trim().length&&(f[F][K]=X.replace(/\s+$/,""));break;case"D":X.length===8?f[F][K]=new Date(+X.slice(0,4),+X.slice(4,6)-1,+X.slice(6,8)):f[F][K]=X;break;case"F":f[F][K]=parseFloat(X.trim());break;case"+":case"I":f[F][K]=T?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(X.trim().toUpperCase()){case"Y":case"T":f[F][K]=!0;break;case"N":case"F":f[F][K]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+X+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));f[F][K]="##MEMO##"+(T?parseInt(X.trim(),10):B.read_shift(4));break;case"N":X=X.replace(/\u0000/g,"").trim(),X&&X!="."&&(f[F][K]=+X||0);break;case"@":f[F][K]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":f[F][K]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":f[F][K]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[F][K]=-B.read_shift(-8,"f");break;case"B":if(_&&D[K].len==8){f[F][K]=B.read_shift(8,"f");break}case"G":case"P":B.l+=D[K].len;break;case"0":if(D[K].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+D[K].type)}}}if(v!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return c&&c.sheetRows&&(f=f.slice(0,c.sheetRows)),c.DBF=D,f}function i(l,c){var f=c||{};f.dateNF||(f.dateNF="yyyymmdd");var p=Ed(r(l,f),f);return p["!cols"]=f.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete f.DBF,p}function n(l,c){try{return $h(i(l,c),c)}catch(f){if(c&&c.WTF)throw f}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(l,c){var f=c||{};if(+f.codepage>=0&&Q0(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var p=Eo(),v=j1(l,{header:1,raw:!0,cellDates:!0}),y=v[0],_=v.slice(1),T=l["!cols"]||[],S=0,C=0,O=0,I=1;for(S=0;S<y.length;++S){if(((T[S]||{}).DBF||{}).name){y[S]=T[S].DBF.name,++O;continue}if(y[S]!=null){if(++O,typeof y[S]=="number"&&(y[S]=y[S].toString(10)),typeof y[S]!="string")throw new Error("DBF Invalid column name "+y[S]+" |"+typeof y[S]+"|");if(y.indexOf(y[S])!==S){for(C=0;C<1024;++C)if(y.indexOf(y[S]+"_"+C)==-1){y[S]+="_"+C;break}}}}var D=_i(l["!ref"]),q=[],te=[],ce=[];for(S=0;S<=D.e.c-D.s.c;++S){var F="",K="",B=0,X=[];for(C=0;C<_.length;++C)_[C][S]!=null&&X.push(_[C][S]);if(X.length==0||y[S]==null){q[S]="?";continue}for(C=0;C<X.length;++C){switch(typeof X[C]){case"number":K="B";break;case"string":K="C";break;case"boolean":K="L";break;case"object":K=X[C]instanceof Date?"D":"C";break;default:K="C"}B=Math.max(B,String(X[C]).length),F=F&&F!=K?"C":K}B>250&&(B=250),K=((T[S]||{}).DBF||{}).type,K=="C"&&T[S].DBF.len>B&&(B=T[S].DBF.len),F=="B"&&K=="N"&&(F="N",ce[S]=T[S].DBF.dec,B=T[S].DBF.len),te[S]=F=="C"||K=="N"?B:a[F]||0,I+=te[S],q[S]=F}var j=p.next(32);for(j.write_shift(4,318902576),j.write_shift(4,_.length),j.write_shift(2,296+32*O),j.write_shift(2,I),S=0;S<4;++S)j.write_shift(4,0);for(j.write_shift(4,0|(+e[WE]||3)<<8),S=0,C=0;S<y.length;++S)if(y[S]!=null){var W=p.next(32),ue=(y[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,ue,"sbcs"),W.write_shift(1,q[S]=="?"?"C":q[S],"sbcs"),W.write_shift(4,C),W.write_shift(1,te[S]||a[q[S]]||0),W.write_shift(1,ce[S]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),C+=te[S]||a[q[S]]||0}var de=p.next(264);for(de.write_shift(4,13),S=0;S<65;++S)de.write_shift(4,0);for(S=0;S<_.length;++S){var xe=p.next(I);for(xe.write_shift(1,0),C=0;C<y.length;++C)if(y[C]!=null)switch(q[C]){case"L":xe.write_shift(1,_[S][C]==null?63:_[S][C]?84:70);break;case"B":xe.write_shift(8,_[S][C]||0,"f");break;case"N":var oe="0";for(typeof _[S][C]=="number"&&(oe=_[S][C].toFixed(ce[C]||0)),O=0;O<te[C]-oe.length;++O)xe.write_shift(1,32);xe.write_shift(1,oe,"sbcs");break;case"D":_[S][C]?(xe.write_shift(4,("0000"+_[S][C].getFullYear()).slice(-4),"sbcs"),xe.write_shift(2,("00"+(_[S][C].getMonth()+1)).slice(-2),"sbcs"),xe.write_shift(2,("00"+_[S][C].getDate()).slice(-2),"sbcs")):xe.write_shift(8,"00000000","sbcs");break;case"C":var be=String(_[S][C]!=null?_[S][C]:"").slice(0,te[C]);for(xe.write_shift(1,be,"sbcs"),O=0;O<te[C]-be.length;++O)xe.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:n,to_sheet:i,from_sheet:s}})(),FD=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+xs(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,_){var T=t[_];return typeof T=="number"?M4(T):T},i=function(y,_,T){var S=_.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return S==59?y:M4(S)};t["|"]=254;function n(y,_){switch(_.type){case"base64":return a(hc(y),_);case"binary":return a(y,_);case"buffer":return a(Cn&&Buffer.isBuffer(y)?y.toString("binary"):_p(y),_);case"array":return a(ug(y),_)}throw new Error("Unrecognized type "+_.type)}function a(y,_){var T=y.split(/[\n\r]+/),S=-1,C=-1,O=0,I=0,D=[],q=[],te=null,ce={},F=[],K=[],B=[],X=0,j;for(+_.codepage>=0&&Q0(+_.codepage);O!==T.length;++O){X=0;var W=T[O].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(e,r),ue=W.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),de=ue[0],xe;if(W.length>0)switch(de){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ue[1].charAt(0)=="P"&&q.push(W.slice(3).replace(/;;/g,";"));break;case"C":var oe=!1,be=!1,_e=!1,Le=!1,Ne=-1,Q=-1;for(I=1;I<ue.length;++I)switch(ue[I].charAt(0)){case"A":break;case"X":C=parseInt(ue[I].slice(1))-1,be=!0;break;case"Y":for(S=parseInt(ue[I].slice(1))-1,be||(C=0),j=D.length;j<=S;++j)D[j]=[];break;case"K":xe=ue[I].slice(1),xe.charAt(0)==='"'?xe=xe.slice(1,xe.length-1):xe==="TRUE"?xe=!0:xe==="FALSE"?xe=!1:isNaN(uc(xe))?isNaN(tp(xe).getDate())||(xe=Qs(xe)):(xe=uc(xe),te!==null&&a6(te)&&(xe=u6(xe))),oe=!0;break;case"E":Le=!0;var P=jj(ue[I].slice(1),{r:S,c:C});D[S][C]=[D[S][C],P];break;case"S":_e=!0,D[S][C]=[D[S][C],"S5S"];break;case"G":break;case"R":Ne=parseInt(ue[I].slice(1))-1;break;case"C":Q=parseInt(ue[I].slice(1))-1;break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+W)}if(oe&&(D[S][C]&&D[S][C].length==2?D[S][C][0]=xe:D[S][C]=xe,te=null),_e){if(Le)throw new Error("SYLK shared formula cannot have own formula");var G=Ne>-1&&D[Ne][Q];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");D[S][C][1]=Ij(G[1],{r:S-Ne,c:C-Q})}break;case"F":var H=0;for(I=1;I<ue.length;++I)switch(ue[I].charAt(0)){case"X":C=parseInt(ue[I].slice(1))-1,++H;break;case"Y":for(S=parseInt(ue[I].slice(1))-1,j=D.length;j<=S;++j)D[j]=[];break;case"M":X=parseInt(ue[I].slice(1))/20;break;case"F":break;case"G":break;case"P":te=q[parseInt(ue[I].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=ue[I].slice(1).split(" "),j=parseInt(B[0],10);j<=parseInt(B[1],10);++j)X=parseInt(B[2],10),K[j-1]=X===0?{hidden:!0}:{wch:X},sy(K[j-1]);break;case"C":C=parseInt(ue[I].slice(1))-1,K[C]||(K[C]={});break;case"R":S=parseInt(ue[I].slice(1))-1,F[S]||(F[S]={}),X>0?(F[S].hpt=X,F[S].hpx=K6(X)):X===0&&(F[S].hidden=!0);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+W)}H<1&&(te=null);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+W)}}return F.length>0&&(ce["!rows"]=F),K.length>0&&(ce["!cols"]=K),_&&_.sheetRows&&(D=D.slice(0,_.sheetRows)),[D,ce]}function s(y,_){var T=n(y,_),S=T[0],C=T[1],O=Ed(S,_);return xs(C).forEach(function(I){O[I]=C[I]}),O}function l(y,_){return $h(s(y,_),_)}function c(y,_,T,S){var C="C;Y"+(T+1)+";X"+(S+1)+";K";switch(y.t){case"n":C+=y.v||0,y.f&&!y.F&&(C+=";E"+ly(y.f,{r:T,c:S}));break;case"b":C+=y.v?"TRUE":"FALSE";break;case"e":C+=y.w||y.v;break;case"d":C+='"'+(y.w||y.v)+'"';break;case"s":C+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function f(y,_){_.forEach(function(T,S){var C="F;W"+(S+1)+" "+(S+1)+" ";T.hidden?C+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=P1(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=O1(T.wpx)),typeof T.wch=="number"&&(C+=Math.round(T.wch))),C.charAt(C.length-1)!=" "&&y.push(C)})}function p(y,_){_.forEach(function(T,S){var C="F;";T.hidden?C+="M0;":T.hpt?C+="M"+20*T.hpt+";":T.hpx&&(C+="M"+20*R1(T.hpx)+";"),C.length>2&&y.push(C+"R"+(S+1))})}function v(y,_){var T=["ID;PWXL;N;E"],S=[],C=_i(y["!ref"]),O,I=Array.isArray(y),D=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),y["!cols"]&&f(T,y["!cols"]),y["!rows"]&&p(T,y["!rows"]),T.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var q=C.s.r;q<=C.e.r;++q)for(var te=C.s.c;te<=C.e.c;++te){var ce=qn({r:q,c:te});O=I?(y[q]||[])[te]:y[ce],!(!O||O.v==null&&(!O.f||O.F))&&S.push(c(O,y,q,te))}return T.join(D)+D+S.join(D)+D+"E"+D}return{to_workbook:l,to_sheet:s,from_sheet:v}})(),BD=(function(){function t(a,s){switch(s.type){case"base64":return e(hc(a),s);case"binary":return e(a,s);case"buffer":return e(Cn&&Buffer.isBuffer(a)?a.toString("binary"):_p(a),s);case"array":return e(ug(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var l=a.split(`
`),c=-1,f=-1,p=0,v=[];p!==l.length;++p){if(l[p].trim()==="BOT"){v[++c]=[],f=0;continue}if(!(c<0)){var y=l[p].trim().split(","),_=y[0],T=y[1];++p;for(var S=l[p]||"";(S.match(/["]/g)||[]).length&1&&p<l.length-1;)S+=`
`+l[++p];switch(S=S.trim(),+_){case-1:if(S==="BOT"){v[++c]=[],f=0;continue}else if(S!=="EOD")throw new Error("Unrecognized DIF special command "+S);break;case 0:S==="TRUE"?v[c][f]=!0:S==="FALSE"?v[c][f]=!1:isNaN(uc(T))?isNaN(tp(T).getDate())?v[c][f]=T:v[c][f]=Qs(T):v[c][f]=uc(T),++f;break;case 1:S=S.slice(1,S.length-1),S=S.replace(/""/g,'"'),S&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),v[c][f++]=S!==""?S:null;break}if(S==="EOD")break}}return s&&s.sheetRows&&(v=v.slice(0,s.sheetRows)),v}function r(a,s){return Ed(t(a,s),s)}function i(a,s){return $h(r(a,s),s)}var n=(function(){var a=function(c,f,p,v,y){c.push(f),c.push(p+","+v),c.push('"'+y.replace(/"/g,'""')+'"')},s=function(c,f,p,v){c.push(f+","+p),c.push(f==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(c){var f=[],p=_i(c["!ref"]),v,y=Array.isArray(c);a(f,"TABLE",0,1,"sheetjs"),a(f,"VECTORS",0,p.e.r-p.s.r+1,""),a(f,"TUPLES",0,p.e.c-p.s.c+1,""),a(f,"DATA",0,0,"");for(var _=p.s.r;_<=p.e.r;++_){s(f,-1,0,"BOT");for(var T=p.s.c;T<=p.e.c;++T){var S=qn({r:_,c:T});if(v=y?(c[_]||[])[T]:c[S],!v){s(f,1,0,"");continue}switch(v.t){case"n":var C=v.w;!C&&v.v!=null&&(C=v.v),C==null?v.f&&!v.F?s(f,1,0,"="+v.f):s(f,1,0,""):s(f,0,C,"V");break;case"b":s(f,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":s(f,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=th(v.z||Xi[14],To(Qs(v.v)))),s(f,0,v.w,"V");break;default:s(f,1,0,"")}}}s(f,-1,0,"EOD");var O=`\r
`,I=f.join(O);return I}})();return{to_workbook:i,to_sheet:r,from_sheet:n}})(),$6=(function(){function t(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(v,y){for(var _=v.split(`
`),T=-1,S=-1,C=0,O=[];C!==_.length;++C){var I=_[C].trim().split(":");if(I[0]==="cell"){var D=Ya(I[1]);if(O.length<=D.r)for(T=O.length;T<=D.r;++T)O[T]||(O[T]=[]);switch(T=D.r,S=D.c,I[2]){case"t":O[T][S]=t(I[3]);break;case"v":O[T][S]=+I[3];break;case"vtf":var q=I[I.length-1];case"vtc":I[3]==="nl"?O[T][S]=!!+I[4]:O[T][S]=+I[4],I[2]=="vtf"&&(O[T][S]=[O[T][S],q])}}}return y&&y.sheetRows&&(O=O.slice(0,y.sheetRows)),O}function i(v,y){return Ed(r(v,y),y)}function n(v,y){return $h(i(v,y),y)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function f(v){if(!v||!v["!ref"])return"";for(var y=[],_=[],T,S="",C=el(v["!ref"]),O=Array.isArray(v),I=C.s.r;I<=C.e.r;++I)for(var D=C.s.c;D<=C.e.c;++D)if(S=qn({r:I,c:D}),T=O?(v[I]||[])[D]:v[S],!(!T||T.v==null||T.t==="z")){switch(_=["cell",S,"t"],T.t){case"s":case"str":_.push(e(T.v));break;case"n":T.f?(_[2]="vtf",_[3]="n",_[4]=T.v,_[5]=e(T.f)):(_[2]="v",_[3]=T.v);break;case"b":_[2]="vt"+(T.f?"f":"c"),_[3]="nl",_[4]=T.v?"1":"0",_[5]=e(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var q=To(Qs(T.v));_[2]="vtc",_[3]="nd",_[4]=""+q,_[5]=T.w||th(T.z||Xi[14],q);break;case"e":continue}y.push(_.join(":"))}return y.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(v){return[a,s,l,s,f(v),c].join(`
`)}return{to_workbook:n,to_sheet:i,from_sheet:p}})(),UD=(function(){function t(p,v,y,_,T){T.raw?v[y][_]=p:p===""||(p==="TRUE"?v[y][_]=!0:p==="FALSE"?v[y][_]=!1:isNaN(uc(p))?isNaN(tp(p).getDate())?v[y][_]=p:v[y][_]=Qs(p):v[y][_]=uc(p))}function e(p,v){var y=v||{},_=[];if(!p||p.length===0)return _;for(var T=p.split(/[\r\n]/),S=T.length-1;S>=0&&T[S].length===0;)--S;for(var C=10,O=0,I=0;I<=S;++I)O=T[I].indexOf(" "),O==-1?O=T[I].length:O++,C=Math.max(C,O);for(I=0;I<=S;++I){_[I]=[];var D=0;for(t(T[I].slice(0,C).trim(),_,I,D,y),D=1;D<=(T[I].length-C)/10+1;++D)t(T[I].slice(C+(D-1)*10,C+D*10).trim(),_,I,D,y)}return y.sheetRows&&(_=_.slice(0,y.sheetRows)),_}var r={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function n(p){for(var v={},y=!1,_=0,T=0;_<p.length;++_)(T=p.charCodeAt(_))==34?y=!y:!y&&T in r&&(v[T]=(v[T]||0)+1);T=[];for(_ in v)Object.prototype.hasOwnProperty.call(v,_)&&T.push([v[_],_]);if(!T.length){v=i;for(_ in v)Object.prototype.hasOwnProperty.call(v,_)&&T.push([v[_],_])}return T.sort(function(S,C){return S[0]-C[0]||i[S[1]]-i[C[1]]}),r[T.pop()[1]]||44}function a(p,v){var y=v||{},_="",T=y.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(_=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(_=p.charAt(4),p=p.slice(6)):_=n(p.slice(0,1024)):y&&y.FS?_=y.FS:_=n(p.slice(0,1024));var C=0,O=0,I=0,D=0,q=0,te=_.charCodeAt(0),ce=!1,F=0,K=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var B=y.dateNF!=null?r9(y.dateNF):null;function X(){var j=p.slice(D,q),W={};if(j.charAt(0)=='"'&&j.charAt(j.length-1)=='"'&&(j=j.slice(1,-1).replace(/""/g,'"')),j.length===0)W.t="z";else if(y.raw)W.t="s",W.v=j;else if(j.trim().length===0)W.t="s",W.v=j;else if(j.charCodeAt(0)==61)j.charCodeAt(1)==34&&j.charCodeAt(j.length-1)==34?(W.t="s",W.v=j.slice(2,-1).replace(/""/g,'"')):Fj(j)?(W.t="n",W.f=j.slice(1)):(W.t="s",W.v=j);else if(j=="TRUE")W.t="b",W.v=!0;else if(j=="FALSE")W.t="b",W.v=!1;else if(!isNaN(I=uc(j)))W.t="n",y.cellText!==!1&&(W.w=j),W.v=I;else if(!isNaN(tp(j).getDate())||B&&j.match(B)){W.z=y.dateNF||Xi[14];var ue=0;B&&j.match(B)&&(j=n9(j,y.dateNF,j.match(B)||[]),ue=1),y.cellDates?(W.t="d",W.v=Qs(j,ue)):(W.t="n",W.v=To(Qs(j,ue))),y.cellText!==!1&&(W.w=th(W.z,W.v instanceof Date?To(W.v):W.v)),y.cellNF||delete W.z}else W.t="s",W.v=j;if(W.t=="z"||(y.dense?(T[C]||(T[C]=[]),T[C][O]=W):T[qn({c:O,r:C})]=W),D=q+1,K=p.charCodeAt(D),S.e.c<O&&(S.e.c=O),S.e.r<C&&(S.e.r=C),F==te)++O;else if(O=0,++C,y.sheetRows&&y.sheetRows<=C)return!0}e:for(;q<p.length;++q)switch(F=p.charCodeAt(q)){case 34:K===34&&(ce=!ce);break;case te:case 10:case 13:if(!ce&&X())break e;break}return q-D>0&&X(),T["!ref"]=wa(S),T}function s(p,v){return!(v&&v.PRN)||v.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?a(p,v):Ed(e(p,v),v)}function l(p,v){var y="",_=v.type=="string"?[0,0,0,0]:JU(p,v);switch(v.type){case"base64":y=hc(p);break;case"binary":y=p;break;case"buffer":v.codepage==65001?y=p.toString("utf8"):v.codepage&&typeof S1<"u"||(y=Cn&&Buffer.isBuffer(p)?p.toString("binary"):_p(p));break;case"array":y=ug(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+v.type)}return _[0]==239&&_[1]==187&&_[2]==191?y=M0(y.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?y=M0(y):v.type=="binary"&&typeof S1<"u",y.slice(0,19)=="socialcalc:version:"?$6.to_sheet(v.type=="string"?y:M0(y),v):s(y,v)}function c(p,v){return $h(l(p,v),v)}function f(p){for(var v=[],y=_i(p["!ref"]),_,T=Array.isArray(p),S=y.s.r;S<=y.e.r;++S){for(var C=[],O=y.s.c;O<=y.e.c;++O){var I=qn({r:S,c:O});if(_=T?(p[S]||[])[O]:p[I],!_||_.v==null){C.push("          ");continue}for(var D=(_.w||(fc(_),_.w)||"").slice(0,10);D.length<10;)D+=" ";C.push(D+(O===0?" ":""))}v.push(C.join(""))}return v.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:f}})(),o3=(function(){function t(P,G,H){if(P){Ko(P,P.l||0);for(var Z=H.Enum||Ne;P.l<P.length;){var se=P.read_shift(2),Ae=Z[se]||Z[65535],Oe=P.read_shift(2),Re=P.l+Oe,Ie=Ae.f&&Ae.f(P,Oe,H);if(P.l=Re,G(Ie,Ae,se))return}}}function e(P,G){switch(G.type){case"base64":return r(Wl(hc(P)),G);case"binary":return r(Wl(P),G);case"buffer":case"array":return r(P,G)}throw"Unsupported type "+G.type}function r(P,G){if(!P)return P;var H=G||{},Z=H.dense?[]:{},se="Sheet1",Ae="",Oe=0,Re={},Ie=[],ot=[],it={s:{r:0,c:0},e:{r:0,c:0}},Tt=H.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)H.Enum=Ne,t(P,function(xt,zt,dt){switch(dt){case 0:H.vers=xt,xt>=4096&&(H.qpro=!0);break;case 6:it=xt;break;case 204:xt&&(Ae=xt);break;case 222:Ae=xt;break;case 15:case 51:H.qpro||(xt[1].v=xt[1].v.slice(1));case 13:case 14:case 16:dt==14&&(xt[2]&112)==112&&(xt[2]&15)>1&&(xt[2]&15)<15&&(xt[1].z=H.dateNF||Xi[14],H.cellDates&&(xt[1].t="d",xt[1].v=u6(xt[1].v))),H.qpro&&xt[3]>Oe&&(Z["!ref"]=wa(it),Re[se]=Z,Ie.push(se),Z=H.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},Oe=xt[3],se=Ae||"Sheet"+(Oe+1),Ae="");var Vt=H.dense?(Z[xt[0].r]||[])[xt[0].c]:Z[qn(xt[0])];if(Vt){Vt.t=xt[1].t,Vt.v=xt[1].v,xt[1].z!=null&&(Vt.z=xt[1].z),xt[1].f!=null&&(Vt.f=xt[1].f);break}H.dense?(Z[xt[0].r]||(Z[xt[0].r]=[]),Z[xt[0].r][xt[0].c]=xt[1]):Z[qn(xt[0])]=xt[1];break}},H);else if(P[2]==26||P[2]==14)H.Enum=Q,P[2]==14&&(H.qpro=!0,P.l=0),t(P,function(xt,zt,dt){switch(dt){case 204:se=xt;break;case 22:xt[1].v=xt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(xt[3]>Oe&&(Z["!ref"]=wa(it),Re[se]=Z,Ie.push(se),Z=H.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},Oe=xt[3],se="Sheet"+(Oe+1)),Tt>0&&xt[0].r>=Tt)break;H.dense?(Z[xt[0].r]||(Z[xt[0].r]=[]),Z[xt[0].r][xt[0].c]=xt[1]):Z[qn(xt[0])]=xt[1],it.e.c<xt[0].c&&(it.e.c=xt[0].c),it.e.r<xt[0].r&&(it.e.r=xt[0].r);break;case 27:xt[14e3]&&(ot[xt[14e3][0]]=xt[14e3][1]);break;case 1537:ot[xt[0]]=xt[1],xt[0]==Oe&&(se=xt[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(Z["!ref"]=wa(it),Re[Ae||se]=Z,Ie.push(Ae||se),!ot.length)return{SheetNames:Ie,Sheets:Re};for(var Nt={},we=[],yt=0;yt<ot.length;++yt)Re[Ie[yt]]?(we.push(ot[yt]||Ie[yt]),Nt[ot[yt]]=Re[ot[yt]]||Re[Ie[yt]]):(we.push(ot[yt]),Nt[ot[yt]]={"!ref":"A1"});return{SheetNames:we,Sheets:Nt}}function i(P,G){var H=G||{};if(+H.codepage>=0&&Q0(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=Eo(),se=_i(P["!ref"]),Ae=Array.isArray(P),Oe=[];Ot(Z,0,a(1030)),Ot(Z,6,c(se));for(var Re=Math.min(se.e.r,8191),Ie=se.s.r;Ie<=Re;++Ie)for(var ot=ys(Ie),it=se.s.c;it<=se.e.c;++it){Ie===se.s.r&&(Oe[it]=Bs(it));var Tt=Oe[it]+ot,Nt=Ae?(P[Ie]||[])[it]:P[Tt];if(!(!Nt||Nt.t=="z"))if(Nt.t=="n")(Nt.v|0)==Nt.v&&Nt.v>=-32768&&Nt.v<=32767?Ot(Z,13,_(Ie,it,Nt.v)):Ot(Z,14,S(Ie,it,Nt.v));else{var we=fc(Nt);Ot(Z,15,v(Ie,it,we.slice(0,239)))}}return Ot(Z,1),Z.end()}function n(P,G){var H=G||{};if(+H.codepage>=0&&Q0(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=Eo();Ot(Z,0,s(P));for(var se=0,Ae=0;se<P.SheetNames.length;++se)(P.Sheets[P.SheetNames[se]]||{})["!ref"]&&Ot(Z,27,Le(P.SheetNames[se],Ae++));var Oe=0;for(se=0;se<P.SheetNames.length;++se){var Re=P.Sheets[P.SheetNames[se]];if(!(!Re||!Re["!ref"])){for(var Ie=_i(Re["!ref"]),ot=Array.isArray(Re),it=[],Tt=Math.min(Ie.e.r,8191),Nt=Ie.s.r;Nt<=Tt;++Nt)for(var we=ys(Nt),yt=Ie.s.c;yt<=Ie.e.c;++yt){Nt===Ie.s.r&&(it[yt]=Bs(yt));var xt=it[yt]+we,zt=ot?(Re[Nt]||[])[yt]:Re[xt];if(!(!zt||zt.t=="z"))if(zt.t=="n")Ot(Z,23,X(Nt,yt,Oe,zt.v));else{var dt=fc(zt);Ot(Z,22,F(Nt,yt,Oe,dt.slice(0,239)))}}++Oe}}return Ot(Z,1),Z.end()}function a(P){var G=ut(2);return G.write_shift(2,P),G}function s(P){var G=ut(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var H=0,Z=0,se=0,Ae=0;Ae<P.SheetNames.length;++Ae){var Oe=P.SheetNames[Ae],Re=P.Sheets[Oe];if(!(!Re||!Re["!ref"])){++se;var Ie=el(Re["!ref"]);H<Ie.e.r&&(H=Ie.e.r),Z<Ie.e.c&&(Z=Ie.e.c)}}return H>8191&&(H=8191),G.write_shift(2,H),G.write_shift(1,se),G.write_shift(1,Z),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function l(P,G,H){var Z={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&H.qpro?(Z.s.c=P.read_shift(1),P.l++,Z.s.r=P.read_shift(2),Z.e.c=P.read_shift(1),P.l++,Z.e.r=P.read_shift(2),Z):(Z.s.c=P.read_shift(2),Z.s.r=P.read_shift(2),G==12&&H.qpro&&(P.l+=2),Z.e.c=P.read_shift(2),Z.e.r=P.read_shift(2),G==12&&H.qpro&&(P.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function c(P){var G=ut(8);return G.write_shift(2,P.s.c),G.write_shift(2,P.s.r),G.write_shift(2,P.e.c),G.write_shift(2,P.e.r),G}function f(P,G,H){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(Z[0].c=P.read_shift(1),Z[3]=P.read_shift(1),Z[0].r=P.read_shift(2),P.l+=2):(Z[2]=P.read_shift(1),Z[0].c=P.read_shift(2),Z[0].r=P.read_shift(2)),Z}function p(P,G,H){var Z=P.l+G,se=f(P,G,H);if(se[1].t="s",H.vers==20768){P.l++;var Ae=P.read_shift(1);return se[1].v=P.read_shift(Ae,"utf8"),se}return H.qpro&&P.l++,se[1].v=P.read_shift(Z-P.l,"cstr"),se}function v(P,G,H){var Z=ut(7+H.length);Z.write_shift(1,255),Z.write_shift(2,G),Z.write_shift(2,P),Z.write_shift(1,39);for(var se=0;se<Z.length;++se){var Ae=H.charCodeAt(se);Z.write_shift(1,Ae>=128?95:Ae)}return Z.write_shift(1,0),Z}function y(P,G,H){var Z=f(P,G,H);return Z[1].v=P.read_shift(2,"i"),Z}function _(P,G,H){var Z=ut(7);return Z.write_shift(1,255),Z.write_shift(2,G),Z.write_shift(2,P),Z.write_shift(2,H,"i"),Z}function T(P,G,H){var Z=f(P,G,H);return Z[1].v=P.read_shift(8,"f"),Z}function S(P,G,H){var Z=ut(13);return Z.write_shift(1,255),Z.write_shift(2,G),Z.write_shift(2,P),Z.write_shift(8,H,"f"),Z}function C(P,G,H){var Z=P.l+G,se=f(P,G,H);if(se[1].v=P.read_shift(8,"f"),H.qpro)P.l=Z;else{var Ae=P.read_shift(2);q(P.slice(P.l,P.l+Ae),se),P.l+=Ae}return se}function O(P,G,H){var Z=G&32768;return G&=-32769,G=(Z?P:0)+(G>=8192?G-16384:G),(Z?"":"$")+(H?Bs(G):ys(G))}var I={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},D=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function q(P,G){Ko(P,0);for(var H=[],Z=0,se="",Ae="",Oe="",Re="";P.l<P.length;){var Ie=P[P.l++];switch(Ie){case 0:H.push(P.read_shift(8,"f"));break;case 1:Ae=O(G[0].c,P.read_shift(2),!0),se=O(G[0].r,P.read_shift(2),!1),H.push(Ae+se);break;case 2:{var ot=O(G[0].c,P.read_shift(2),!0),it=O(G[0].r,P.read_shift(2),!1);Ae=O(G[0].c,P.read_shift(2),!0),se=O(G[0].r,P.read_shift(2),!1),H.push(ot+it+":"+Ae+se)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(P.read_shift(2));break;case 6:{for(var Tt="";Ie=P[P.l++];)Tt+=String.fromCharCode(Ie);H.push('"'+Tt.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:Re=H.pop(),Oe=H.pop(),H.push(["AND","OR"][Ie-20]+"("+Oe+","+Re+")");break;default:if(Ie<32&&D[Ie])Re=H.pop(),Oe=H.pop(),H.push(Oe+D[Ie]+Re);else if(I[Ie]){if(Z=I[Ie][1],Z==69&&(Z=P[P.l++]),Z>H.length){console.error("WK1 bad formula parse 0x"+Ie.toString(16)+":|"+H.join("|")+"|");return}var Nt=H.slice(-Z);H.length-=Z,H.push(I[Ie][0]+"("+Nt.join(",")+")")}else return Ie<=7?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=24?console.error("WK1 unsupported op "+Ie.toString(16)):Ie<=30?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=115?console.error("WK1 unsupported function opcode "+Ie.toString(16)):console.error("WK1 unrecognized opcode "+Ie.toString(16))}}H.length==1?G[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function te(P){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=P.read_shift(2),G[3]=P[P.l++],G[0].c=P[P.l++],G}function ce(P,G){var H=te(P);return H[1].t="s",H[1].v=P.read_shift(G-4,"cstr"),H}function F(P,G,H,Z){var se=ut(6+Z.length);se.write_shift(2,P),se.write_shift(1,H),se.write_shift(1,G),se.write_shift(1,39);for(var Ae=0;Ae<Z.length;++Ae){var Oe=Z.charCodeAt(Ae);se.write_shift(1,Oe>=128?95:Oe)}return se.write_shift(1,0),se}function K(P,G){var H=te(P);H[1].v=P.read_shift(2);var Z=H[1].v>>1;if(H[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return H[1].v=Z,H}function B(P,G){var H=te(P),Z=P.read_shift(4),se=P.read_shift(4),Ae=P.read_shift(2);if(Ae==65535)return Z===0&&se===3221225472?(H[1].t="e",H[1].v=15):Z===0&&se===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var Oe=Ae&32768;return Ae=(Ae&32767)-16446,H[1].v=(1-Oe*2)*(se*Math.pow(2,Ae+32)+Z*Math.pow(2,Ae)),H}function X(P,G,H,Z){var se=ut(14);if(se.write_shift(2,P),se.write_shift(1,H),se.write_shift(1,G),Z==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var Ae=0,Oe=0,Re=0,Ie=0;return Z<0&&(Ae=1,Z=-Z),Oe=Math.log2(Z)|0,Z/=Math.pow(2,Oe-31),Ie=Z>>>0,(Ie&2147483648)==0&&(Z/=2,++Oe,Ie=Z>>>0),Z-=Ie,Ie|=2147483648,Ie>>>=0,Z*=Math.pow(2,32),Re=Z>>>0,se.write_shift(4,Re),se.write_shift(4,Ie),Oe+=16383+(Ae?32768:0),se.write_shift(2,Oe),se}function j(P,G){var H=B(P);return P.l+=G-14,H}function W(P,G){var H=te(P),Z=P.read_shift(4);return H[1].v=Z>>6,H}function ue(P,G){var H=te(P),Z=P.read_shift(8,"f");return H[1].v=Z,H}function de(P,G){var H=ue(P);return P.l+=G-10,H}function xe(P,G){return P[P.l+G-1]==0?P.read_shift(G,"cstr"):""}function oe(P,G){var H=P[P.l++];H>G-1&&(H=G-1);for(var Z="";Z.length<H;)Z+=String.fromCharCode(P[P.l++]);return Z}function be(P,G,H){if(!(!H.qpro||G<21)){var Z=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var se=P.read_shift(G-21,"cstr");return[Z,se]}}function _e(P,G){for(var H={},Z=P.l+G;P.l<Z;){var se=P.read_shift(2);if(se==14e3){for(H[se]=[0,""],H[se][0]=P.read_shift(2);P[P.l];)H[se][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return H}function Le(P,G){var H=ut(5+P.length);H.write_shift(2,14e3),H.write_shift(2,G);for(var Z=0;Z<P.length;++Z){var se=P.charCodeAt(Z);H[H.l++]=se>127?95:se}return H[H.l++]=0,H}var Ne={0:{n:"BOF",f:z6},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:xe},222:{n:"SHEETNAMELP",f:oe},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ce},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:K},25:{n:"FORMULA19",f:j},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:_e},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:ue},40:{n:"FORMULA28",f:de},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:xe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:be},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:n,to_workbook:e}})(),zD=/^\s|\s$|[\t\n\r]/;function W6(t,e){if(!e.bookSST)return"";var r=[ba];r[r.length]=Pt("sst",null,{xmlns:Sd[0],count:t.Count,uniqueCount:t.Unique});for(var i=0;i!=t.length;++i)if(t[i]!=null){var n=t[i],a="<si>";n.r?a+=n.r:(a+="<t",n.t||(n.t=""),n.t.match(zD)&&(a+=' xml:space="preserve"'),a+=">"+Hn(n.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function GD(t){return[t.read_shift(4),t.read_shift(4)]}function HD(t,e){return e||(e=ut(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var qD=R9;function VD(t){var e=Eo();Et(e,159,HD(t));for(var r=0;r<t.length;++r)Et(e,19,qD(t[r]));return Et(e,160),e.end()}function $D(t){for(var e=[],r=t.split(""),i=0;i<r.length;++i)e[i]=r[i].charCodeAt(0);return e}function Z6(t){var e=0,r,i=$D(t),n=i.length+1,a,s,l,c,f;for(r=Fh(n),r[0]=i.length,a=1;a!=n;++a)r[a]=i[a-1];for(a=n-1;a>=0;--a)s=r[a],l=(e&16384)===0?0:1,c=e<<1&32767,f=l|c,e=f^s;return e^52811}var WD=(function(){function t(n,a){switch(a.type){case"base64":return e(hc(n),a);case"binary":return e(n,a);case"buffer":return e(Cn&&Buffer.isBuffer(n)?n.toString("binary"):_p(n),a);case"array":return e(ug(n),a)}throw new Error("Unrecognized type "+a.type)}function e(n,a){var s=a||{},l=s.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(p,v){Array.isArray(l)&&(l[v]=[]);for(var y=/\\\w+\b/g,_=0,T,S=-1;T=y.exec(p);){switch(T[0]){case"\\cell":var C=p.slice(_,y.lastIndex-T[0].length);if(C[0]==" "&&(C=C.slice(1)),++S,C.length){var O={v:C,t:"s"};Array.isArray(l)?l[v][S]=O:l[qn({r:v,c:S})]=O}break}_=y.lastIndex}S>f.e.c&&(f.e.c=S)}),l["!ref"]=wa(f),l}function r(n,a){return $h(t(n,a),a)}function i(n){for(var a=["{\\rtf1\\ansi"],s=_i(n["!ref"]),l,c=Array.isArray(n),f=s.s.r;f<=s.e.r;++f){a.push("\\trowd\\trautofit1");for(var p=s.s.c;p<=s.e.c;++p)a.push("\\cellx"+(p+1));for(a.push("\\pard\\intbl"),p=s.s.c;p<=s.e.c;++p){var v=qn({r:f,c:p});l=c?(n[f]||[])[p]:n[v],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(fc(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:i}})();function l3(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var ZD=6,cc=ZD;function P1(t){return Math.floor((t+Math.round(128/cc)/256)*cc)}function O1(t){return Math.floor((t-5)/cc*100+.5)/100}function y_(t){return Math.round((t*cc+5)/cc*256)/256}function sy(t){t.width?(t.wpx=P1(t.width),t.wch=O1(t.wpx),t.MDW=cc):t.wpx?(t.wch=O1(t.wpx),t.width=y_(t.wch),t.MDW=cc):typeof t.wch=="number"&&(t.width=y_(t.wch),t.wpx=P1(t.width),t.MDW=cc),t.customWidth&&delete t.customWidth}var YD=96,Y6=YD;function R1(t){return t*96/Y6}function K6(t){return t*Y6/96}function KD(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&(e[e.length]=Pt("numFmt",null,{numFmtId:i,formatCode:Hn(t[i])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Pt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function XD(t){var e=[];return e[e.length]=Pt("cellXfs",null),t.forEach(function(r){e[e.length]=Pt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Pt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function X6(t,e){var r=[ba,Pt("styleSheet",null,{xmlns:Sd[0],"xmlns:vt":Za.vt})],i;return t.SSF&&(i=KD(t.SSF))!=null&&(r[r.length]=i),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(i=XD(e.cellXfs))&&(r[r.length]=i),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function JD(t,e){var r=t.read_shift(2),i=Us(t);return[r,i]}function QD(t,e,r){r||(r=ut(6+4*e.length)),r.write_shift(2,t),Ka(e,r);var i=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),i}function ej(t,e,r){var i={};i.sz=t.read_shift(2)/20;var n=z9(t);n.fItalic&&(i.italic=1),n.fCondense&&(i.condense=1),n.fExtend&&(i.extend=1),n.fShadow&&(i.shadow=1),n.fOutline&&(i.outline=1),n.fStrikeout&&(i.strike=1);var a=t.read_shift(2);switch(a===700&&(i.bold=1),t.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(i.underline=s);var l=t.read_shift(1);l>0&&(i.family=l);var c=t.read_shift(1);switch(c>0&&(i.charset=c),t.l++,i.color=U9(t),t.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=Us(t),i}function tj(t,e){e||(e=ut(153)),e.write_shift(2,t.sz*20),G9(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),M1(t.color,e);var i=0;return i=2,e.write_shift(1,i),Ka(t.name,e),e.length>e.l?e.slice(0,e.l):e}var rj=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],S2,nj=Ou;function u3(t,e){e||(e=ut(84)),S2||(S2=Z_(rj));var r=S2[t.patternType];r==null&&(r=40),e.write_shift(4,r);var i=0;if(r!=40)for(M1({auto:1},e),M1({auto:1},e);i<12;++i)e.write_shift(4,0);else{for(;i<4;++i)e.write_shift(4,0);for(;i<12;++i)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function ij(t,e){var r=t.l+e,i=t.read_shift(2),n=t.read_shift(2);return t.l=r,{ixfe:i,numFmtId:n}}function J6(t,e,r){r||(r=ut(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var i=0;return r.write_shift(1,i),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function f0(t,e){return e||(e=ut(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var aj=Ou;function sj(t,e){return e||(e=ut(51)),e.write_shift(1,0),f0(null,e),f0(null,e),f0(null,e),f0(null,e),f0(null,e),e.length>e.l?e.slice(0,e.l):e}function oj(t,e){return e||(e=ut(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),C1(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function lj(t,e,r){var i=ut(2052);return i.write_shift(4,t),C1(e,i),C1(r,i),i.length>i.l?i.slice(0,i.l):i}function uj(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var n=i[0];n<=i[1];++n)e[n]!=null&&++r}),r!=0&&(Et(t,615,Yl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var n=i[0];n<=i[1];++n)e[n]!=null&&Et(t,44,QD(n,e[n]))}),Et(t,616))}}function cj(t){var e=1;Et(t,611,Yl(e)),Et(t,43,tj({sz:12,color:{theme:1},name:"Calibri",family:2})),Et(t,612)}function hj(t){var e=2;Et(t,603,Yl(e)),Et(t,45,u3({patternType:"none"})),Et(t,45,u3({patternType:"gray125"})),Et(t,604)}function fj(t){var e=1;Et(t,613,Yl(e)),Et(t,46,sj()),Et(t,614)}function dj(t){var e=1;Et(t,626,Yl(e)),Et(t,47,J6({numFmtId:0},65535)),Et(t,627)}function pj(t,e){Et(t,617,Yl(e.length)),e.forEach(function(r){Et(t,47,J6(r,0))}),Et(t,618)}function mj(t){var e=1;Et(t,619,Yl(e)),Et(t,48,oj({xfId:0,name:"Normal"})),Et(t,620)}function gj(t){var e=0;Et(t,505,Yl(e)),Et(t,506)}function vj(t){var e=0;Et(t,508,lj(e,"TableStyleMedium9","PivotStyleMedium4")),Et(t,509)}function _j(t,e){var r=Eo();return Et(r,278),uj(r,t.SSF),cj(r),hj(r),fj(r),dj(r),pj(r,e.cellXfs),mj(r),gj(r),vj(r),Et(r,279),r.end()}function Q6(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[ba];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function yj(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Us(t)}}function xj(t){var e=ut(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ka(t.name,e),e.slice(0,e.l)}function wj(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function bj(t){var e=ut(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function Sj(t,e){var r=ut(8+2*e.length);return r.write_shift(4,t),Ka(e,r),r.slice(0,r.l)}function Ej(t){return t.l+=4,t.read_shift(4)!=0}function Tj(t,e){var r=ut(8);return r.write_shift(4,t),r.write_shift(4,1),r}function Aj(){var t=Eo();return Et(t,332),Et(t,334,Yl(1)),Et(t,335,xj({name:"XLDAPR",version:12e4,flags:3496657072})),Et(t,336),Et(t,339,Sj(1,"XLDAPR")),Et(t,52),Et(t,35,Yl(514)),Et(t,4096,Yl(0)),Et(t,4097,_l(1)),Et(t,36),Et(t,53),Et(t,340),Et(t,337,Tj(1)),Et(t,51,bj([[1,0]])),Et(t,338),Et(t,333),t.end()}function e8(){var t=[ba];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Lj(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=qn(r);var i=t.read_shift(1);return i&2&&(e.l="1"),i&8&&(e.a="1"),e}var Xf=1024;function t8(t,e){for(var r=[21600,21600],i=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),n=[Pt("xml",null,{"xmlns:v":Xo.v,"xmlns:o":Xo.o,"xmlns:x":Xo.x,"xmlns:mv":Xo.mv}).replace(/\/>/,">"),Pt("o:shapelayout",Pt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Pt("v:shapetype",[Pt("v:stroke",null,{joinstyle:"miter"}),Pt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:i})];Xf<t*1e3;)Xf+=1e3;return e.forEach(function(a){var s=Ya(a[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Pt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Pt("v:fill",c,l),p={on:"t",obscured:"t"};++Xf,n=n.concat(["<v:shape"+np({id:"_x0000_s"+Xf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Pt("v:shadow",null,p),Pt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",_s("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),_s("x:AutoFill","False"),_s("x:Row",String(s.r)),_s("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function r8(t){var e=[ba,Pt("comments",null,{xmlns:Sd[0]})],r=[];return e.push("<authors>"),t.forEach(function(i){i[1].forEach(function(n){var a=Hn(n.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),n.T&&n.ID&&r.indexOf("tc="+n.ID)==-1&&(r.push("tc="+n.ID),e.push("<author>tc="+n.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(i){var n=0,a=[];if(i[1][0]&&i[1][0].T&&i[1][0].ID?n=r.indexOf("tc="+i[1][0].ID):i[1].forEach(function(c){c.a&&(n=r.indexOf(Hn(c.a))),a.push(c.t||"")}),e.push('<comment ref="'+i[0]+'" authorId="'+n+'"><text>'),a.length<=1)e.push(_s("t",Hn(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,l=1;l<a.length;++l)s+=`Reply:
    `+a[l]+`
`;e.push(_s("t",Hn(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Nj(t,e,r){var i=[ba,Pt("ThreadedComments",null,{xmlns:Za.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(n){var a="";(n[1]||[]).forEach(function(s,l){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var c={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?a=c.id:c.parentId=a,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),i.push(Pt("threadedComment",_s("text",s.t||""),c))})}),i.push("</ThreadedComments>"),i.join("")}function Cj(t){var e=[ba,Pt("personList",null,{xmlns:Za.TCMNT,"xmlns:x":Sd[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,i){e.push(Pt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+i).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Mj(t){var e={};e.iauthor=t.read_shift(4);var r=Kh(t);return e.rfx=r.s,e.ref=qn(r.s),t.l+=16,e}function kj(t,e){return e==null&&(e=ut(36)),e.write_shift(4,t[1].iauthor),Td(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Pj=Us;function Oj(t){return Ka(t.slice(0,54))}function Rj(t){var e=Eo(),r=[];return Et(e,628),Et(e,630),t.forEach(function(i){i[1].forEach(function(n){r.indexOf(n.a)>-1||(r.push(n.a.slice(0,54)),Et(e,632,Oj(n.a)))})}),Et(e,631),Et(e,633),t.forEach(function(i){i[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var a={s:Ya(i[0]),e:Ya(i[0])};Et(e,635,kj([a,n])),n.t&&n.t.length>0&&Et(e,637,j9(n)),Et(e,636),delete n.iauthor})}),Et(e,634),Et(e,629),e.end()}function Dj(t,e){e.FullPaths.forEach(function(r,i){if(i!=0){var n=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&Yn.utils.cfb_add(t,n,e.FileIndex[i].content)}})}var n8=["xlsb","xlsm","xlam","biff8","xla"],jj=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(i,n,a,s){var l=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1));var f=a.length>0?parseInt(a,10)|0:0,p=s.length>0?parseInt(s,10)|0:0;return l?p+=e.c:--p,c?f+=e.r:--f,n+(l?"":"$")+Bs(p)+(c?"":"$")+ys(f)}return function(n,a){return e=a,n.replace(t,r)}})(),oy=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ly=(function(){return function(e,r){return e.replace(oy,function(i,n,a,s,l,c){var f=ty(s)-(a?0:r.c),p=ey(c)-(l?0:r.r),v=p==0?"":l?p+1:"["+p+"]",y=f==0?"":a?f+1:"["+f+"]";return n+"R"+v+"C"+y})}})();function Ij(t,e){return t.replace(oy,function(r,i,n,a,s,l){return i+(n=="$"?n+a:Bs(ty(a)+e.c))+(s=="$"?s+l:ys(ey(l)+e.r))})}function Fj(t){return t.length!=1}function _a(t){t.l+=1}function rh(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function i8(t,e,r){var i=2;if(r){if(r.biff>=2&&r.biff<=5)return a8(t);r.biff==12&&(i=4)}var n=t.read_shift(i),a=t.read_shift(i),s=rh(t),l=rh(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function a8(t){var e=rh(t),r=rh(t),i=t.read_shift(1),n=t.read_shift(1);return{s:{r:e[0],c:i,cRel:e[1],rRel:e[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function Bj(t,e,r){if(r.biff<8)return a8(t);var i=t.read_shift(r.biff==12?4:2),n=t.read_shift(r.biff==12?4:2),a=rh(t),s=rh(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:n,c:s[0],cRel:s[1],rRel:s[2]}}}function s8(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return Uj(t);var i=t.read_shift(r&&r.biff==12?4:2),n=rh(t);return{r:i,c:n[0],cRel:n[1],rRel:n[2]}}function Uj(t){var e=rh(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function zj(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Gj(t,e,r){var i=r&&r.biff?r.biff:8;if(i>=2&&i<=5)return Hj(t);var n=t.read_shift(i>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;n>524287;)n-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:n,c:a,cRel:s,rRel:l}}function Hj(t){var e=t.read_shift(2),r=t.read_shift(1),i=(e&32768)>>15,n=(e&16384)>>14;return e&=16383,i==1&&e>=8192&&(e=e-16384),n==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:n,rRel:i}}function qj(t,e,r){var i=(t[t.l++]&96)>>5,n=i8(t,r.biff>=2&&r.biff<=5?6:8,r);return[i,n]}function Vj(t,e,r){var i=(t[t.l++]&96)>>5,n=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=i8(t,a,r);return[i,n,s]}function $j(t,e,r){var i=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[i]}function Wj(t,e,r){var i=(t[t.l++]&96)>>5,n=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[i,n]}function Zj(t,e,r){var i=(t[t.l++]&96)>>5,n=Bj(t,e-1,r);return[i,n]}function Yj(t,e,r){var i=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[i]}function c3(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function Kj(t,e,r){t.l+=2;for(var i=t.read_shift(r&&r.biff==2?1:2),n=[],a=0;a<=i;++a)n.push(t.read_shift(r&&r.biff==2?1:2));return n}function Xj(t,e,r){var i=t[t.l+1]&255?1:0;return t.l+=2,[i,t.read_shift(r&&r.biff==2?1:2)]}function Jj(t,e,r){var i=t[t.l+1]&255?1:0;return t.l+=2,[i,t.read_shift(r&&r.biff==2?1:2)]}function Qj(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function eI(t,e,r){var i=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[i]}function o8(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function tI(t){return t.read_shift(2),o8(t)}function rI(t){return t.read_shift(2),o8(t)}function nI(t,e,r){var i=(t[t.l]&96)>>5;t.l+=1;var n=s8(t,0,r);return[i,n]}function iI(t,e,r){var i=(t[t.l]&96)>>5;t.l+=1;var n=Gj(t,0,r);return[i,n]}function aI(t,e,r){var i=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=s8(t,0,r);return[i,n,a]}function sI(t,e,r){var i=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(r&&r.biff<=3?1:2);return[sF[n],c8[n],i]}function oI(t,e,r){var i=t[t.l++],n=t.read_shift(1),a=r&&r.biff<=3?[i==88?-1:0,t.read_shift(1)]:lI(t);return[n,(a[0]===0?c8:aF)[a[1]]]}function lI(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function uI(t,e,r){t.l+=r&&r.biff==2?3:4}function cI(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var i=t.read_shift(2),n=t.read_shift(r&&r.biff==2?1:2);return[i,n]}function hI(t){return t.l++,wp[t.read_shift(1)]}function fI(t){return t.l++,t.read_shift(2)}function dI(t){return t.l++,t.read_shift(1)!==0}function pI(t){return t.l++,Ad(t)}function mI(t,e,r){return t.l++,H6(t,e-1,r)}function gI(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=aD(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=wp[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Ad(t);break;case 2:r[1]=uD(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function vI(t,e,r){for(var i=t.read_shift(r.biff==12?4:2),n=[],a=0;a!=i;++a)n.push((r.biff==12?Kh:fD)(t));return n}function _I(t,e,r){var i=0,n=0;r.biff==12?(i=t.read_shift(4),n=t.read_shift(4)):(n=1+t.read_shift(1),i=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--i,--n==0&&(n=256));for(var a=0,s=[];a!=i&&(s[a]=[]);++a)for(var l=0;l!=n;++l)s[a][l]=gI(t,r.biff);return s}function yI(t,e,r){var i=t.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,a=t.read_shift(n);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[i,0,a]}function xI(t,e,r){if(r.biff==5)return wI(t);var i=t.read_shift(1)>>>5&3,n=t.read_shift(2),a=t.read_shift(4);return[i,n,a]}function wI(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var i=t.read_shift(2);return t.l+=12,[e,r,i]}function bI(t,e,r){var i=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var n=t.read_shift(r&&r.biff==2?1:2);return[i,n]}function SI(t,e,r){var i=t.read_shift(1)>>>5&3,n=t.read_shift(r&&r.biff==2?1:2);return[i,n]}function EI(t,e,r){var i=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[i]}function TI(t,e,r){var i=(t[t.l++]&96)>>5,n=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[i,n]}var AI=Ou,LI=Ou,NI=Ou;function bp(t,e,r){return t.l+=2,[zj(t)]}function uy(t){return t.l+=6,[]}var CI=bp,MI=uy,kI=uy,PI=bp;function l8(t){return t.l+=2,[z6(t),t.read_shift(2)&1]}var OI=bp,RI=l8,DI=uy,jI=bp,II=bp,FI=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function BI(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(4),n=t.read_shift(2),a=t.read_shift(2),s=FI[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:i,c:n,C:a}}function UI(t){return t.l+=2,[t.read_shift(4)]}function zI(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function GI(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function HI(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function qI(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function VI(t){return t.l+=4,[0,0]}var h3={1:{n:"PtgExp",f:cI},2:{n:"PtgTbl",f:NI},3:{n:"PtgAdd",f:_a},4:{n:"PtgSub",f:_a},5:{n:"PtgMul",f:_a},6:{n:"PtgDiv",f:_a},7:{n:"PtgPower",f:_a},8:{n:"PtgConcat",f:_a},9:{n:"PtgLt",f:_a},10:{n:"PtgLe",f:_a},11:{n:"PtgEq",f:_a},12:{n:"PtgGe",f:_a},13:{n:"PtgGt",f:_a},14:{n:"PtgNe",f:_a},15:{n:"PtgIsect",f:_a},16:{n:"PtgUnion",f:_a},17:{n:"PtgRange",f:_a},18:{n:"PtgUplus",f:_a},19:{n:"PtgUminus",f:_a},20:{n:"PtgPercent",f:_a},21:{n:"PtgParen",f:_a},22:{n:"PtgMissArg",f:_a},23:{n:"PtgStr",f:mI},26:{n:"PtgSheet",f:zI},27:{n:"PtgEndSheet",f:GI},28:{n:"PtgErr",f:hI},29:{n:"PtgBool",f:dI},30:{n:"PtgInt",f:fI},31:{n:"PtgNum",f:pI},32:{n:"PtgArray",f:Yj},33:{n:"PtgFunc",f:sI},34:{n:"PtgFuncVar",f:oI},35:{n:"PtgName",f:yI},36:{n:"PtgRef",f:nI},37:{n:"PtgArea",f:qj},38:{n:"PtgMemArea",f:bI},39:{n:"PtgMemErr",f:AI},40:{n:"PtgMemNoMem",f:LI},41:{n:"PtgMemFunc",f:SI},42:{n:"PtgRefErr",f:EI},43:{n:"PtgAreaErr",f:$j},44:{n:"PtgRefN",f:iI},45:{n:"PtgAreaN",f:Zj},46:{n:"PtgMemAreaN",f:HI},47:{n:"PtgMemNoMemN",f:qI},57:{n:"PtgNameX",f:xI},58:{n:"PtgRef3d",f:aI},59:{n:"PtgArea3d",f:Vj},60:{n:"PtgRefErr3d",f:TI},61:{n:"PtgAreaErr3d",f:Wj},255:{}},$I={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},WI={1:{n:"PtgElfLel",f:l8},2:{n:"PtgElfRw",f:jI},3:{n:"PtgElfCol",f:CI},6:{n:"PtgElfRwV",f:II},7:{n:"PtgElfColV",f:PI},10:{n:"PtgElfRadical",f:OI},11:{n:"PtgElfRadicalS",f:DI},13:{n:"PtgElfColS",f:MI},15:{n:"PtgElfColSV",f:kI},16:{n:"PtgElfRadicalLel",f:RI},25:{n:"PtgList",f:BI},29:{n:"PtgSxName",f:UI},255:{}},ZI={0:{n:"PtgAttrNoop",f:VI},1:{n:"PtgAttrSemi",f:eI},2:{n:"PtgAttrIf",f:Jj},4:{n:"PtgAttrChoose",f:Kj},8:{n:"PtgAttrGoto",f:Xj},16:{n:"PtgAttrSum",f:uI},32:{n:"PtgAttrBaxcel",f:c3},33:{n:"PtgAttrBaxcel",f:c3},64:{n:"PtgAttrSpace",f:tI},65:{n:"PtgAttrSpaceSemi",f:rI},128:{n:"PtgAttrIfError",f:Qj},255:{}};function YI(t,e,r,i){if(i.biff<8)return Ou(t,e);for(var n=t.l+e,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=_I(t,0,i),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=vI(t,r[s][1],i),a.push(r[s][2]);break;case"PtgExp":i&&i.biff==12&&(r[s][1][1]=t.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=n-t.l,e!==0&&a.push(Ou(t,e)),a}function KI(t,e,r){for(var i=t.l+e,n,a,s=[];i!=t.l;)e=i-t.l,a=t[t.l],n=h3[a]||h3[$I[a]],(a===24||a===25)&&(n=(a===24?WI:ZI)[t[t.l+1]]),!n||!n.f?Ou(t,e):s.push([n.n,n.f(t,e,r)]);return s}function XI(t){for(var e=[],r=0;r<t.length;++r){for(var i=t[r],n=[],a=0;a<i.length;++a){var s=i[a];s?s[0]===2?n.push('"'+s[1].replace(/"/g,'""')+'"'):n.push(s[1]):n.push("")}e.push(n.join(","))}return e.join(";")}var JI={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function QI(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function u8(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var i=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!i)return"SH33TJSERR1";var n="";if(r.biff>8)switch(t[i[0]][0]){case 357:return n=i[1]==-1?"#REF":t.SheetNames[i[1]],i[1]==i[2]?n:n+":"+t.SheetNames[i[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[i[0]][0];default:return"SH33TJSSRC"+t[i[0]][0]}switch(t[i[0]][0][0]){case 1025:return n=i[1]==-1?"#REF":t.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?n:n+":"+t.SheetNames[i[2]];case 14849:return t[i[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[i[0]][0][3]?(n=i[1]==-1?"#REF":t[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?n:n+":"+t[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function f3(t,e,r){var i=u8(t,e,r);return i=="#REF"?i:QI(i,r)}function _d(t,e,r,i,n){var a=n&&n.biff||8,s={s:{c:0,r:0}},l=[],c,f,p,v=0,y=0,_,T="";if(!t[0]||!t[0][0])return"";for(var S=-1,C="",O=0,I=t[0].length;O<I;++O){var D=t[0][O];switch(D[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),f=l.pop(),S>=0){switch(t[0][S][1][0]){case 0:C=Yi(" ",t[0][S][1][1]);break;case 1:C=Yi("\r",t[0][S][1][1]);break;default:if(C="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}f=f+C,S=-1}l.push(f+JI[D[0]]+c);break;case"PtgIsect":c=l.pop(),f=l.pop(),l.push(f+" "+c);break;case"PtgUnion":c=l.pop(),f=l.pop(),l.push(f+","+c);break;case"PtgRange":c=l.pop(),f=l.pop(),l.push(f+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=P0(D[1][1],s,n),l.push(O0(p,a));break;case"PtgRefN":p=r?P0(D[1][1],r,n):D[1][1],l.push(O0(p,a));break;case"PtgRef3d":v=D[1][1],p=P0(D[1][2],s,n),T=f3(i,v,n),l.push(T+"!"+O0(p,a));break;case"PtgFunc":case"PtgFuncVar":var q=D[1][0],te=D[1][1];q||(q=0),q&=127;var ce=q==0?[]:l.slice(-q);l.length-=q,te==="User"&&(te=ce.shift()),l.push(te+"("+ce.join(",")+")");break;case"PtgBool":l.push(D[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(D[1]);break;case"PtgNum":l.push(String(D[1]));break;case"PtgStr":l.push('"'+D[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(D[1]);break;case"PtgAreaN":_=K4(D[1][1],r?{s:r}:s,n),l.push(w2(_,n));break;case"PtgArea":_=K4(D[1][1],s,n),l.push(w2(_,n));break;case"PtgArea3d":v=D[1][1],_=D[1][2],T=f3(i,v,n),l.push(T+"!"+w2(_,n));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=D[1][2];var F=(i.names||[])[y-1]||(i[0]||[])[y],K=F?F.Name:"SH33TJSNAME"+String(y);K&&K.slice(0,6)=="_xlfn."&&!n.xlfn&&(K=K.slice(6)),l.push(K);break;case"PtgNameX":var B=D[1][1];y=D[1][2];var X;if(n.biff<=5)B<0&&(B=-B),i[B]&&(X=i[B][y]);else{var j="";if(((i[B]||[])[0]||[])[0]==14849||(((i[B]||[])[0]||[])[0]==1025?i[B][y]&&i[B][y].itab>0&&(j=i.SheetNames[i[B][y].itab-1]+"!"):j=i.SheetNames[y-1]+"!"),i[B]&&i[B][y])j+=i[B][y].Name;else if(i[0]&&i[0][y])j+=i[0][y].Name;else{var W=(u8(i,B,n)||"").split(";;");W[y-1]?j=W[y-1]:j+="SH33TJSERRX"}l.push(j);break}X||(X={Name:"SH33TJSERRY"}),l.push(X.Name);break;case"PtgParen":var ue="(",de=")";if(S>=0){switch(C="",t[0][S][1][0]){case 2:ue=Yi(" ",t[0][S][1][1])+ue;break;case 3:ue=Yi("\r",t[0][S][1][1])+ue;break;case 4:de=Yi(" ",t[0][S][1][1])+de;break;case 5:de=Yi("\r",t[0][S][1][1])+de;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}S=-1}l.push(ue+l.pop()+de);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":p={c:D[1][1],r:D[1][0]};var xe={c:r.c,r:r.r};if(i.sharedf[qn(p)]){var oe=i.sharedf[qn(p)];l.push(_d(oe,s,xe,i,n))}else{var be=!1;for(c=0;c!=i.arrayf.length;++c)if(f=i.arrayf[c],!(p.c<f[0].s.c||p.c>f[0].e.c)&&!(p.r<f[0].s.r||p.r>f[0].e.r)){l.push(_d(f[1],s,xe,i,n)),be=!0;break}be||l.push(D[1])}break;case"PtgArray":l.push("{"+XI(D[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=O;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+D[1].idx+"[#"+D[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(D));default:throw new Error("Unrecognized Formula Token: "+String(D))}var _e=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&S>=0&&_e.indexOf(t[0][O][0])==-1){D=t[0][S];var Le=!0;switch(D[1][0]){case 4:Le=!1;case 0:C=Yi(" ",D[1][1]);break;case 5:Le=!1;case 1:C=Yi("\r",D[1][1]);break;default:if(C="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+D[1][0])}l.push((Le?C:"")+l.pop()+(Le?"":C)),S=-1}}if(l.length>1&&n.WTF)throw new Error("bad formula stack");return l[0]}function eF(t){if(t==null){var e=ut(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Bh(t);return Bh(0)}function tF(t,e,r,i,n){var a=Uh(e,r,n),s=eF(t.v),l=ut(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var f=ut(t.bf.length),p=0;p<t.bf.length;++p)f[p]=t.bf[p];var v=vs([a,s,l,f]);return v}function cg(t,e,r){var i=t.read_shift(4),n=KI(t,i,r),a=t.read_shift(4),s=a>0?YI(t,a,n,r):null;return[n,s]}var rF=cg,hg=cg,nF=cg,iF=cg,aF={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},c8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},sF={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function oF(t){var e="of:="+t.replace(oy,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function lF(t){return t.replace(/\./,"!")}var R0=typeof Map<"u";function cy(t,e,r){var i=0,n=t.length;if(r){if(R0?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=R0?r.get(e):r[e];i<a.length;++i)if(t[a[i]].t===e)return t.Count++,a[i]}}else for(;i<n;++i)if(t[i].t===e)return t.Count++,i;return t[n]={t:e},t.Count++,t.Unique++,r&&(R0?(r.has(e)||r.set(e,[]),r.get(e).push(n)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(n))),n}function fg(t,e){var r={min:t+1,max:t+1},i=-1;return e.MDW&&(cc=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?i=O1(e.wpx):e.wch!=null&&(i=e.wch),i>-1?(r.width=y_(i),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function h8(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function oh(t,e,r){var i=r.revssf[e.z!=null?e.z:"General"],n=60,a=t.length;if(i==null&&r.ssf){for(;n<392;++n)if(r.ssf[n]==null){s6(e.z,n),r.ssf[n]=e.z,r.revssf[e.z]=i=n;break}}for(n=0;n!=a;++n)if(t[n].numFmtId===i)return n;return t[a]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function uF(t,e,r){if(t&&t["!ref"]){var i=_i(t["!ref"]);if(i.e.c<i.s.c||i.e.r<i.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function cF(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+wa(t[r])+'"/>';return e+"</mergeCells>"}function hF(t,e,r,i,n){var a=!1,s={},l=null;if(i.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[r];try{e.Workbook&&(c=e.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,s.codeName=rp(Hn(c))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),l=(l||"")+Pt("outlinePr",null,f)}!a&&!l||(n[n.length]=Pt("sheetPr",l,s))}var fF=["objects","scenarios","selectLockedCells","selectUnlockedCells"],dF=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function pF(t){var e={sheet:1};return fF.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),dF.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=Z6(t.password).toString(16).toUpperCase()),Pt("sheetProtection",null,e)}function mF(t){return h8(t),Pt("pageMargins",null,t)}function gF(t,e){for(var r=["<cols>"],i,n=0;n!=e.length;++n)(i=e[n])&&(r[r.length]=Pt("col",null,fg(n,i)));return r[r.length]="</cols>",r.join("")}function vF(t,e,r,i){var n=typeof t.ref=="string"?t.ref:wa(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=el(n);s.s.r==s.e.r&&(s.e.r=el(e["!ref"]).e.r,n=wa(s));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==i){c.Ref="'"+r.SheetNames[i]+"'!"+n;break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+r.SheetNames[i]+"'!"+n}),Pt("autoFilter",null,{ref:n})}function _F(t,e,r,i){var n={workbookViewId:"0"};return(((i||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=i.Workbook.Views[0].RTL?"1":"0"),Pt("sheetViews",Pt("sheetView",null,n),{})}function yF(t,e,r,i){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var n="",a=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":n=t.v?"1":"0";break;case"n":n=""+t.v;break;case"e":n=wp[t.v];break;case"d":i&&i.cellDates?n=Qs(t.v,-1).toISOString():(t=Ao(t),t.t="n",n=""+(t.v=To(Qs(t.v)))),typeof t.z>"u"&&(t.z=Xi[14]);break;default:n=t.v;break}var l=_s("v",Hn(n)),c={r:e},f=oh(i.cellXfs,t,i);switch(f!==0&&(c.s=f),t.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(i&&i.bookSST){l=_s("v",""+cy(i.Strings,t.v,i.revStrings)),c.t="s";break}c.t="str";break}if(t.t!=a&&(t.t=a,t.v=s),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;l=Pt("f",Hn(t.f),p)+(t.v!=null?l:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(c.cm=1),Pt("c",l,c)}function xF(t,e,r,i){var n=[],a=[],s=_i(t["!ref"]),l="",c,f="",p=[],v=0,y=0,_=t["!rows"],T=Array.isArray(t),S={r:f},C,O=-1;for(y=s.s.c;y<=s.e.c;++y)p[y]=Bs(y);for(v=s.s.r;v<=s.e.r;++v){for(a=[],f=ys(v),y=s.s.c;y<=s.e.c;++y){c=p[y]+f;var I=T?(t[v]||[])[y]:t[c];I!==void 0&&(l=yF(I,c,t,e))!=null&&a.push(l)}(a.length>0||_&&_[v])&&(S={r:f},_&&_[v]&&(C=_[v],C.hidden&&(S.hidden=1),O=-1,C.hpx?O=R1(C.hpx):C.hpt&&(O=C.hpt),O>-1&&(S.ht=O,S.customHeight=1),C.level&&(S.outlineLevel=C.level)),n[n.length]=Pt("row",a.join(""),S))}if(_)for(;v<_.length;++v)_&&_[v]&&(S={r:v+1},C=_[v],C.hidden&&(S.hidden=1),O=-1,C.hpx?O=R1(C.hpx):C.hpt&&(O=C.hpt),O>-1&&(S.ht=O,S.customHeight=1),C.level&&(S.outlineLevel=C.level),n[n.length]=Pt("row","",S));return n.join("")}function f8(t,e,r,i){var n=[ba,Pt("worksheet",null,{xmlns:Sd[0],"xmlns:r":Za.r})],a=r.SheetNames[t],s=0,l="",c=r.Sheets[a];c==null&&(c={});var f=c["!ref"]||"A1",p=_i(f);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),f=wa(p)}i||(i={}),c["!comments"]=[];var v=[];hF(c,r,t,e,n),n[n.length]=Pt("dimension",null,{ref:f}),n[n.length]=_F(c,e,t,r),e.sheetFormat&&(n[n.length]=Pt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(n[n.length]=gF(c,c["!cols"])),n[s=n.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=xF(c,e),l.length>0&&(n[n.length]=l)),n.length>s+1&&(n[n.length]="</sheetData>",n[s]=n[s].replace("/>",">")),c["!protect"]&&(n[n.length]=pF(c["!protect"])),c["!autofilter"]!=null&&(n[n.length]=vF(c["!autofilter"],c,r,t)),c["!merges"]!=null&&c["!merges"].length>0&&(n[n.length]=cF(c["!merges"]));var y=-1,_,T=-1;return c["!links"].length>0&&(n[n.length]="<hyperlinks>",c["!links"].forEach(function(S){S[1].Target&&(_={ref:S[0]},S[1].Target.charAt(0)!="#"&&(T=zn(i,-1,Hn(S[1].Target).replace(/#.*$/,""),Tn.HLINK),_["r:id"]="rId"+T),(y=S[1].Target.indexOf("#"))>-1&&(_.location=Hn(S[1].Target.slice(y+1))),S[1].Tooltip&&(_.tooltip=Hn(S[1].Tooltip)),n[n.length]=Pt("hyperlink",null,_))}),n[n.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(n[n.length]=mF(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(n[n.length]=_s("ignoredErrors",Pt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),v.length>0&&(T=zn(i,-1,"../drawings/drawing"+(t+1)+".xml",Tn.DRAW),n[n.length]=Pt("drawing",null,{"r:id":"rId"+T}),c["!drawing"]=v),c["!comments"].length>0&&(T=zn(i,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Tn.VML),n[n.length]=Pt("legacyDrawing",null,{"r:id":"rId"+T}),c["!legacy"]=T),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function wF(t,e){var r={},i=t.l+e;r.r=t.read_shift(4),t.l+=4;var n=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=i,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=n/20),r}function bF(t,e,r){var i=ut(145),n=(r["!rows"]||[])[t]||{};i.write_shift(4,t),i.write_shift(4,0);var a=320;n.hpx?a=R1(n.hpx)*20:n.hpt&&(a=n.hpt*20),i.write_shift(2,a),i.write_shift(1,0);var s=0;n.level&&(s|=n.level),n.hidden&&(s|=16),(n.hpx||n.hpt)&&(s|=32),i.write_shift(1,s),i.write_shift(1,0);var l=0,c=i.l;i.l+=4;for(var f={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var v=-1,y=-1,_=p<<10;_<p+1<<10;++_){f.c=_;var T=Array.isArray(r)?(r[f.r]||[])[f.c]:r[qn(f)];T&&(v<0&&(v=_),y=_)}v<0||(++l,i.write_shift(4,v),i.write_shift(4,y))}var S=i.l;return i.l=c,i.write_shift(4,l),i.l=S,i.length>i.l?i.slice(0,i.l):i}function SF(t,e,r,i){var n=bF(i,r,e);(n.length>17||(e["!rows"]||[])[i])&&Et(t,0,n)}var EF=Kh,TF=Td;function AF(){}function LF(t,e){var r={},i=t[t.l];return++t.l,r.above=!(i&64),r.left=!(i&128),t.l+=18,r.name=I9(t),r}function NF(t,e,r){r==null&&(r=ut(84+4*t.length));var i=192;e&&(e.above&&(i&=-65),e.left&&(i&=-129)),r.write_shift(1,i);for(var n=1;n<3;++n)r.write_shift(1,0);return M1({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),L6(t,r),r.slice(0,r.l)}function CF(t){var e=El(t);return[e]}function MF(t,e,r){return r==null&&(r=ut(8)),Wh(e,r)}function kF(t){var e=Zh(t);return[e]}function PF(t,e,r){return r==null&&(r=ut(4)),Yh(e,r)}function OF(t){var e=El(t),r=t.read_shift(1);return[e,r,"b"]}function RF(t,e,r){return r==null&&(r=ut(9)),Wh(e,r),r.write_shift(1,t.v?1:0),r}function DF(t){var e=Zh(t),r=t.read_shift(1);return[e,r,"b"]}function jF(t,e,r){return r==null&&(r=ut(5)),Yh(e,r),r.write_shift(1,t.v?1:0),r}function IF(t){var e=El(t),r=t.read_shift(1);return[e,r,"e"]}function FF(t,e,r){return r==null&&(r=ut(9)),Wh(e,r),r.write_shift(1,t.v),r}function BF(t){var e=Zh(t),r=t.read_shift(1);return[e,r,"e"]}function UF(t,e,r){return r==null&&(r=ut(8)),Yh(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function zF(t){var e=El(t),r=t.read_shift(4);return[e,r,"s"]}function GF(t,e,r){return r==null&&(r=ut(12)),Wh(e,r),r.write_shift(4,e.v),r}function HF(t){var e=Zh(t),r=t.read_shift(4);return[e,r,"s"]}function qF(t,e,r){return r==null&&(r=ut(8)),Yh(e,r),r.write_shift(4,e.v),r}function VF(t){var e=El(t),r=Ad(t);return[e,r,"n"]}function $F(t,e,r){return r==null&&(r=ut(16)),Wh(e,r),Bh(t.v,r),r}function WF(t){var e=Zh(t),r=Ad(t);return[e,r,"n"]}function ZF(t,e,r){return r==null&&(r=ut(12)),Yh(e,r),Bh(t.v,r),r}function YF(t){var e=El(t),r=N6(t);return[e,r,"n"]}function KF(t,e,r){return r==null&&(r=ut(12)),Wh(e,r),C6(t.v,r),r}function XF(t){var e=Zh(t),r=N6(t);return[e,r,"n"]}function JF(t,e,r){return r==null&&(r=ut(8)),Yh(e,r),C6(t.v,r),r}function QF(t){var e=El(t),r=ry(t);return[e,r,"is"]}function eB(t){var e=El(t),r=Us(t);return[e,r,"str"]}function tB(t,e,r){return r==null&&(r=ut(12+4*t.v.length)),Wh(e,r),Ka(t.v,r),r.length>r.l?r.slice(0,r.l):r}function rB(t){var e=Zh(t),r=Us(t);return[e,r,"str"]}function nB(t,e,r){return r==null&&(r=ut(8+4*t.v.length)),Yh(e,r),Ka(t.v,r),r.length>r.l?r.slice(0,r.l):r}function iB(t,e,r){var i=t.l+e,n=El(t);n.r=r["!row"];var a=t.read_shift(1),s=[n,a,"b"];if(r.cellFormula){t.l+=2;var l=hg(t,i-t.l,r);s[3]=_d(l,null,n,r.supbooks,r)}else t.l=i;return s}function aB(t,e,r){var i=t.l+e,n=El(t);n.r=r["!row"];var a=t.read_shift(1),s=[n,a,"e"];if(r.cellFormula){t.l+=2;var l=hg(t,i-t.l,r);s[3]=_d(l,null,n,r.supbooks,r)}else t.l=i;return s}function sB(t,e,r){var i=t.l+e,n=El(t);n.r=r["!row"];var a=Ad(t),s=[n,a,"n"];if(r.cellFormula){t.l+=2;var l=hg(t,i-t.l,r);s[3]=_d(l,null,n,r.supbooks,r)}else t.l=i;return s}function oB(t,e,r){var i=t.l+e,n=El(t);n.r=r["!row"];var a=Us(t),s=[n,a,"str"];if(r.cellFormula){t.l+=2;var l=hg(t,i-t.l,r);s[3]=_d(l,null,n,r.supbooks,r)}else t.l=i;return s}var lB=Kh,uB=Td;function cB(t,e){return e==null&&(e=ut(4)),e.write_shift(4,t),e}function hB(t,e){var r=t.l+e,i=Kh(t),n=ny(t),a=Us(t),s=Us(t),l=Us(t);t.l=r;var c={rfx:i,relId:n,loc:a,display:l};return s&&(c.Tooltip=s),c}function fB(t,e){var r=ut(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Td({s:Ya(t[0]),e:Ya(t[0])},r),iy("rId"+e,r);var i=t[1].Target.indexOf("#"),n=i==-1?"":t[1].Target.slice(i+1);return Ka(n||"",r),Ka(t[1].Tooltip||"",r),Ka("",r),r.slice(0,r.l)}function dB(){}function pB(t,e,r){var i=t.l+e,n=M6(t),a=t.read_shift(1),s=[n];if(s[2]=a,r.cellFormula){var l=rF(t,i-t.l,r);s[1]=l}else t.l=i;return s}function mB(t,e,r){var i=t.l+e,n=Kh(t),a=[n];if(r.cellFormula){var s=iF(t,i-t.l,r);a[1]=s,t.l=i}else t.l=i;return a}function gB(t,e,r){r==null&&(r=ut(18));var i=fg(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(i.width||10)*256),r.write_shift(4,0);var n=0;return e.hidden&&(n|=1),typeof i.width=="number"&&(n|=2),e.level&&(n|=e.level<<8),r.write_shift(2,n),r}var d8=["left","right","top","bottom","header","footer"];function vB(t){var e={};return d8.forEach(function(r){e[r]=Ad(t)}),e}function _B(t,e){return e==null&&(e=ut(48)),h8(t),d8.forEach(function(r){Bh(t[r],e)}),e}function yB(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function xB(t,e,r){r==null&&(r=ut(30));var i=924;return(((e||{}).Views||[])[0]||{}).RTL&&(i|=32),r.write_shift(2,i),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function wB(t){var e=ut(24);return e.write_shift(4,4),e.write_shift(4,1),Td(t,e),e}function bB(t,e){return e==null&&(e=ut(66)),e.write_shift(2,t.password?Z6(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function SB(){}function EB(){}function TB(t,e,r,i,n,a,s){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=Ao(e),e.z=e.z||Xi[14],e.v=To(Qs(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var c={r,c:i};switch(c.s=oh(n.cellXfs,e,n),e.l&&a["!links"].push([qn(c),e.l]),e.c&&a["!comments"].push([qn(c),e.c]),e.t){case"s":case"str":return n.bookSST?(l=cy(n.Strings,e.v,n.revStrings),c.t="s",c.v=l,s?Et(t,18,qF(e,c)):Et(t,7,GF(e,c))):(c.t="str",s?Et(t,17,nB(e,c)):Et(t,6,tB(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?Et(t,13,JF(e,c)):Et(t,2,KF(e,c)):s?Et(t,16,ZF(e,c)):Et(t,5,$F(e,c)),!0;case"b":return c.t="b",s?Et(t,15,jF(e,c)):Et(t,4,RF(e,c)),!0;case"e":return c.t="e",s?Et(t,14,UF(e,c)):Et(t,3,FF(e,c)),!0}return s?Et(t,12,PF(e,c)):Et(t,1,MF(e,c)),!0}function AB(t,e,r,i){var n=_i(e["!ref"]||"A1"),a,s="",l=[];Et(t,145);var c=Array.isArray(e),f=n.e.r;e["!rows"]&&(f=Math.max(n.e.r,e["!rows"].length-1));for(var p=n.s.r;p<=f;++p){s=ys(p),SF(t,e,n,p);var v=!1;if(p<=n.e.r)for(var y=n.s.c;y<=n.e.c;++y){p===n.s.r&&(l[y]=Bs(y)),a=l[y]+s;var _=c?(e[p]||[])[y]:e[a];if(!_){v=!1;continue}v=TB(t,_,p,y,i,e,v)}}Et(t,146)}function LB(t,e){!e||!e["!merges"]||(Et(t,177,cB(e["!merges"].length)),e["!merges"].forEach(function(r){Et(t,176,uB(r))}),Et(t,178))}function NB(t,e){!e||!e["!cols"]||(Et(t,390),e["!cols"].forEach(function(r,i){r&&Et(t,60,gB(i,r))}),Et(t,391))}function CB(t,e){!e||!e["!ref"]||(Et(t,648),Et(t,649,wB(_i(e["!ref"]))),Et(t,650))}function MB(t,e,r){e["!links"].forEach(function(i){if(i[1].Target){var n=zn(r,-1,i[1].Target.replace(/#.*$/,""),Tn.HLINK);Et(t,494,fB(i,n))}}),delete e["!links"]}function kB(t,e,r,i){if(e["!comments"].length>0){var n=zn(i,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Tn.VML);Et(t,551,iy("rId"+n)),e["!legacy"]=n}}function PB(t,e,r,i){if(e["!autofilter"]){var n=e["!autofilter"],a=typeof n.ref=="string"?n.ref:wa(n.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,l=el(a);l.s.r==l.e.r&&(l.e.r=el(e["!ref"]).e.r,a=wa(l));for(var c=0;c<s.length;++c){var f=s[c];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==i){f.Ref="'"+r.SheetNames[i]+"'!"+a;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+r.SheetNames[i]+"'!"+a}),Et(t,161,Td(_i(a))),Et(t,162)}}function OB(t,e,r){Et(t,133),Et(t,137,xB(e,r)),Et(t,138),Et(t,134)}function RB(t,e){e["!protect"]&&Et(t,535,bB(e["!protect"]))}function DB(t,e,r,i){var n=Eo(),a=r.SheetNames[t],s=r.Sheets[a]||{},l=a;try{r&&r.Workbook&&(l=r.Workbook.Sheets[t].CodeName||l)}catch{}var c=_i(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Et(n,129),(r.vbaraw||s["!outline"])&&Et(n,147,NF(l,s["!outline"])),Et(n,148,TF(c)),OB(n,s,r.Workbook),NB(n,s),AB(n,s,t,e),RB(n,s),PB(n,s,r,t),LB(n,s),MB(n,s,i),s["!margins"]&&Et(n,476,_B(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&CB(n,s),kB(n,s,t,i),Et(n,130),n.end()}function jB(t,e){t.l+=10;var r=Us(t);return{name:r}}var IB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function FB(t){return!t.Workbook||!t.Workbook.WBProps?"false":m9(t.Workbook.WBProps.date1904)?"true":"false"}var BB="][*?/\\".split("");function p8(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return BB.forEach(function(i){if(t.indexOf(i)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function UB(t,e,r){t.forEach(function(i,n){p8(i);for(var a=0;a<n;++a)if(i==t[a])throw new Error("Duplicate Sheet Name: "+i);if(r){var s=e&&e[n]&&e[n].CodeName||i;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function zB(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];UB(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)uF(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function m8(t){var e=[ba];e[e.length]=Pt("workbook",null,{xmlns:Sd[0],"xmlns:r":Za.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,i={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(IB.forEach(function(l){t.Workbook.WBProps[l[0]]!=null&&t.Workbook.WBProps[l[0]]!=l[1]&&(i[l[0]]=t.Workbook.WBProps[l[0]])}),t.Workbook.WBProps.CodeName&&(i.codeName=t.Workbook.WBProps.CodeName,delete i.CodeName)),e[e.length]=Pt("workbookPr",null,i);var n=t.Workbook&&t.Workbook.Sheets||[],a=0;if(n&&n[0]&&n[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!n[a]||!n[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:Hn(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),n[a])switch(n[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=Pt("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(e[e.length]=Pt("definedName",Hn(l.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function GB(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=__(t),r.name=Us(t),r}function HB(t,e){return e||(e=ut(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),iy(t.strRelID,e),Ka(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function qB(t,e){var r={},i=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var n=e>8?Us(t):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(i&65536),r.backupFile=!!(i&64),r.checkCompatibility=!!(i&4096),r.date1904=!!(i&1),r.filterPrivacy=!!(i&8),r.hidePivotFieldList=!!(i&1024),r.promptedSolutions=!!(i&16),r.publishItems=!!(i&2048),r.refreshAllConnections=!!(i&262144),r.saveExternalLinkValues=!!(i&128),r.showBorderUnselectedTables=!!(i&4),r.showInkAnnotation=!!(i&32),r.showObjects=["all","placeholders","none"][i>>13&3],r.showPivotChartFilter=!!(i&32768),r.updateLinks=["userSet","never","always"][i>>8&3],r}function VB(t,e){e||(e=ut(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),L6(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function $B(t,e,r){var i=t.l+e;t.l+=4,t.l+=1;var n=t.read_shift(4),a=F9(t),s=nF(t,0,r),l=ny(t);t.l=i;var c={Name:a,Ptg:s};return n<268435455&&(c.Sheet=n),l&&(c.Comment=l),c}function WB(t,e){Et(t,143);for(var r=0;r!=e.SheetNames.length;++r){var i=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,n={Hidden:i,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Et(t,156,HB(n))}Et(t,144)}function ZB(t,e){e||(e=ut(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Ka("SheetJS",e),Ka(b1.version,e),Ka(b1.version,e),Ka("7262",e),e.length>e.l?e.slice(0,e.l):e}function YB(t,e){e||(e=ut(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function KB(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,i=0,n=-1,a=-1;i<r.length;++i)!r[i]||!r[i].Hidden&&n==-1?n=i:r[i].Hidden==1&&a==-1&&(a=i);a>n||(Et(t,135),Et(t,158,YB(n)),Et(t,136))}}function XB(t,e){var r=Eo();return Et(r,131),Et(r,128,ZB()),Et(r,153,VB(t.Workbook&&t.Workbook.WBProps||null)),KB(r,t),WB(r,t),Et(r,132),r.end()}function JB(t,e,r){return(e.slice(-4)===".bin"?XB:m8)(t)}function QB(t,e,r,i,n){return(e.slice(-4)===".bin"?DB:f8)(t,r,i,n)}function eU(t,e,r){return(e.slice(-4)===".bin"?_j:X6)(t,r)}function tU(t,e,r){return(e.slice(-4)===".bin"?VD:W6)(t,r)}function rU(t,e,r){return(e.slice(-4)===".bin"?Rj:r8)(t)}function nU(t){return(t.slice(-4)===".bin"?Aj:e8)()}function iU(t,e){var r=[];return t.Props&&r.push(eD(t.Props,e)),t.Custprops&&r.push(tD(t.Props,t.Custprops)),r.join("")}function aU(){return""}function sU(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(i,n){var a=[];a.push(Pt("NumberFormat",null,{"ss:Format":Hn(Xi[i.numFmtId])}));var s={"ss:ID":"s"+(21+n)};r.push(Pt("Style",a.join(""),s))}),Pt("Styles",r.join(""))}function g8(t){return Pt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+ly(t.Ref,{r:0,c:0})})}function oU(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],i=0;i<e.length;++i){var n=e[i];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||r.push(g8(n)))}return Pt("Names",r.join(""))}function lU(t,e,r,i){if(!t||!((i||{}).Workbook||{}).Names)return"";for(var n=i.Workbook.Names,a=[],s=0;s<n.length;++s){var l=n[s];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||a.push(g8(l)))}return a.join("")}function uU(t,e,r,i){if(!t)return"";var n=[];if(t["!margins"]&&(n.push("<PageSetup>"),t["!margins"].header&&n.push(Pt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&n.push(Pt("Footer",null,{"x:Margin":t["!margins"].footer})),n.push(Pt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),n.push("</PageSetup>")),i&&i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[r])if(i.Workbook.Sheets[r].Hidden)n.push(Pt("Visible",i.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(i.Workbook.Sheets[a]&&!i.Workbook.Sheets[a].Hidden);++a);a==r&&n.push("<Selected/>")}return((((i||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),t["!protect"]&&(n.push(_s("ProtectContents","True")),t["!protect"].objects&&n.push(_s("ProtectObjects","True")),t["!protect"].scenarios&&n.push(_s("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?n.push(_s("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&n.push(_s("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&n.push("<"+s[1]+"/>")})),n.length==0?"":Pt("WorksheetOptions",n.join(""),{xmlns:Xo.x})}function cU(t){return t.map(function(e){var r=p9(e.t||""),i=Pt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Pt("Comment",i,{"ss:Author":e.a})}).join("")}function hU(t,e,r,i,n,a,s){if(!t||t.v==null&&t.f==null)return"";var l={};if(t.f&&(l["ss:Formula"]="="+Hn(ly(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var c=Ya(t.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(t.l&&t.l.Target&&(l["ss:HRef"]=Hn(t.l.Target),t.l.Tooltip&&(l["x:HRefScreenTip"]=Hn(t.l.Tooltip))),r["!merges"])for(var f=r["!merges"],p=0;p!=f.length;++p)f[p].s.c!=s.c||f[p].s.r!=s.r||(f[p].e.c>f[p].s.c&&(l["ss:MergeAcross"]=f[p].e.c-f[p].s.c),f[p].e.r>f[p].s.r&&(l["ss:MergeDown"]=f[p].e.r-f[p].s.r));var v="",y="";switch(t.t){case"z":if(!i.sheetStubs)return"";break;case"n":v="Number",y=String(t.v);break;case"b":v="Boolean",y=t.v?"1":"0";break;case"e":v="Error",y=wp[t.v];break;case"d":v="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Xi[14]);break;case"s":v="String",y=d9(t.v||"");break}var _=oh(i.cellXfs,t,i);l["ss:StyleID"]="s"+(21+_),l["ss:Index"]=s.c+1;var T=t.v!=null?y:"",S=t.t=="z"?"":'<Data ss:Type="'+v+'">'+T+"</Data>";return(t.c||[]).length>0&&(S+=cU(t.c)),Pt("Cell",S,l)}function fU(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=K6(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function dU(t,e,r,i){if(!t["!ref"])return"";var n=_i(t["!ref"]),a=t["!merges"]||[],s=0,l=[];t["!cols"]&&t["!cols"].forEach(function(C,O){sy(C);var I=!!C.width,D=fg(O,C),q={"ss:Index":O+1};I&&(q["ss:Width"]=P1(D.width)),C.hidden&&(q["ss:Hidden"]="1"),l.push(Pt("Column",null,q))});for(var c=Array.isArray(t),f=n.s.r;f<=n.e.r;++f){for(var p=[fU(f,(t["!rows"]||[])[f])],v=n.s.c;v<=n.e.c;++v){var y=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>v)&&!(a[s].s.r>f)&&!(a[s].e.c<v)&&!(a[s].e.r<f)){(a[s].s.c!=v||a[s].s.r!=f)&&(y=!0);break}if(!y){var _={r:f,c:v},T=qn(_),S=c?(t[f]||[])[v]:t[T];p.push(hU(S,T,t,e,r,i,_))}}p.push("</Row>"),p.length>2&&l.push(p.join(""))}return l.join("")}function pU(t,e,r){var i=[],n=r.SheetNames[t],a=r.Sheets[n],s=a?lU(a,e,t,r):"";return s.length>0&&i.push("<Names>"+s+"</Names>"),s=a?dU(a,e,t,r):"",s.length>0&&i.push("<Table>"+s+"</Table>"),i.push(uU(a,e,t,r)),i.join("")}function mU(t,e){e||(e={}),t.SSF||(t.SSF=Ao(Xi)),t.SSF&&(og(),sg(t.SSF),e.revssf=lg(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],oh(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(iU(t,e)),r.push(aU()),r.push(""),r.push("");for(var i=0;i<t.SheetNames.length;++i)r.push(Pt("Worksheet",pU(i,e,t),{"ss:Name":Hn(t.SheetNames[i])}));return r[2]=sU(t,e),r[3]=oU(t),ba+Pt("Workbook",r.join(""),{xmlns:Xo.ss,"xmlns:o":Xo.o,"xmlns:x":Xo.x,"xmlns:ss":Xo.ss,"xmlns:dt":Xo.dt,"xmlns:html":Xo.html})}var E2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function gU(t,e){var r=[],i=[],n=[],a=0,s,l=B4(J4,"n"),c=B4(Q4,"n");if(t.Props)for(s=xs(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(l,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?i:n).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=xs(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(l,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?i:n).push([s[a],t.Custprops[s[a]]]);var f=[];for(a=0;a<n.length;++a)U6.indexOf(n[a][0])>-1||I6.indexOf(n[a][0])>-1||n[a][1]!=null&&f.push(n[a]);i.length&&Yn.utils.cfb_add(e,"/SummaryInformation",i3(i,E2.SI,c,Q4)),(r.length||f.length)&&Yn.utils.cfb_add(e,"/DocumentSummaryInformation",i3(r,E2.DSI,l,J4,f.length?f:null,E2.UDI))}function vU(t,e){var r=e||{},i=Yn.utils.cfb_new({root:"R"}),n="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":n="/Workbook",r.biff=8;break;case"biff5":n="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Yn.utils.cfb_add(i,n,v8(t,r)),r.biff==8&&(t.Props||t.Custprops)&&gU(t,i),r.biff==8&&t.vbaraw&&Dj(i,Yn.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),i}var _U={0:{f:wF},1:{f:CF},2:{f:YF},3:{f:IF},4:{f:OF},5:{f:VF},6:{f:eB},7:{f:zF},8:{f:oB},9:{f:sB},10:{f:iB},11:{f:aB},12:{f:kF},13:{f:XF},14:{f:BF},15:{f:DF},16:{f:WF},17:{f:rB},18:{f:HF},19:{f:ry},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:$B},40:{},42:{},43:{f:ej},44:{f:JD},45:{f:nj},46:{f:aj},47:{f:ij},48:{},49:{f:k9},50:{},51:{f:wj},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:PD},62:{f:QF},63:{f:Lj},64:{f:SB},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ou,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:yB},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:LF},148:{f:EF,p:16},151:{f:dB},152:{},153:{f:qB},154:{},155:{},156:{f:GB},157:{},158:{},159:{T:1,f:GD},160:{T:-1},161:{T:1,f:Kh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:lB},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:yj},336:{T:-1},337:{f:Ej,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:__},357:{},358:{},359:{},360:{T:1},361:{},362:{f:AD},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:pB},427:{f:mB},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:vB},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:AF},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:hB},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:__},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Pj},633:{T:1},634:{T:-1},635:{T:1,f:Mj},636:{T:-1},637:{f:D9},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:jB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:EB},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ot(t,e,r,i){var n=e;if(!isNaN(n)){var a=i||(r||[]).length||0,s=t.next(4);s.write_shift(2,n),s.write_shift(2,a),a>0&&Q_(r)&&t.push(r)}}function yU(t,e,r,i){var n=(r||[]).length||0;if(n<=8224)return Ot(t,e,r,n);var a=e;if(!isNaN(a)){for(var s=r.parts||[],l=0,c=0,f=0;f+(s[l]||8224)<=8224;)f+=s[l]||8224,l++;var p=t.next(4);for(p.write_shift(2,a),p.write_shift(2,f),t.push(r.slice(c,c+f)),c+=f;c<n;){for(p=t.next(4),p.write_shift(2,60),f=0;f+(s[l]||8224)<=8224;)f+=s[l]||8224,l++;p.write_shift(2,f),t.push(r.slice(c,c+f)),c+=f}}}function Sp(t,e,r){return t||(t=ut(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function xU(t,e,r,i){var n=ut(9);return Sp(n,t,e),G6(r,i||"b",n),n}function wU(t,e,r){var i=ut(8+2*r.length);return Sp(i,t,e),i.write_shift(1,r.length),i.write_shift(r.length,r,"sbcs"),i.l<i.length?i.slice(0,i.l):i}function bU(t,e,r,i){if(e.v!=null)switch(e.t){case"d":case"n":var n=e.t=="d"?To(Qs(e.v)):e.v;n==(n|0)&&n>=0&&n<65536?Ot(t,2,jD(r,i,n)):Ot(t,3,DD(r,i,n));return;case"b":case"e":Ot(t,5,xU(r,i,e.v,e.t));return;case"s":case"str":Ot(t,4,wU(r,i,(e.v||"").slice(0,255)));return}Ot(t,1,Sp(null,r,i))}function SU(t,e,r,i){var n=Array.isArray(e),a=_i(e["!ref"]||"A1"),s,l="",c=[];if(a.e.c>255||a.e.r>16383){if(i.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=wa(a)}for(var f=a.s.r;f<=a.e.r;++f){l=ys(f);for(var p=a.s.c;p<=a.e.c;++p){f===a.s.r&&(c[p]=Bs(p)),s=c[p]+l;var v=n?(e[f]||[])[p]:e[s];v&&bU(t,v,f,p)}}}function EU(t,e){for(var r=e||{},i=Eo(),n=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(n=a);if(n==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ot(i,r.biff==4?1033:r.biff==3?521:9,ay(t,16,r)),SU(i,t.Sheets[t.SheetNames[n]],n,r),Ot(i,10),i.end()}function TU(t,e,r){Ot(t,49,_D({sz:12,name:"Arial"},r))}function AU(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var n=i[0];n<=i[1];++n)e[n]!=null&&Ot(t,1054,wD(n,e[n],r))})}function LU(t,e){var r=ut(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ot(t,2151,r),r=ut(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),V6(_i(e["!ref"]||"A1"),r),r.write_shift(4,4),Ot(t,2152,r)}function NU(t,e){for(var r=0;r<16;++r)Ot(t,224,s3({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(i){Ot(t,224,s3(i,0,e))})}function CU(t,e){for(var r=0;r<e["!links"].length;++r){var i=e["!links"][r];Ot(t,440,CD(i)),i[1].Tooltip&&Ot(t,2048,MD(i))}delete e["!links"]}function MU(t,e){if(e){var r=0;e.forEach(function(i,n){++r<=256&&i&&Ot(t,125,OD(fg(n,i),n))})}}function kU(t,e,r,i,n){var a=16+oh(n.cellXfs,e,n);if(e.v==null&&!e.bf){Ot(t,513,Uh(r,i,a));return}if(e.bf)Ot(t,6,tF(e,r,i,n,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?To(Qs(e.v)):e.v;Ot(t,515,TD(r,i,s,a));break;case"b":case"e":Ot(t,517,ED(r,i,e.v,a,n,e.t));break;case"s":case"str":if(n.bookSST){var l=cy(n.Strings,e.v,n.revStrings);Ot(t,253,yD(r,i,l,a))}else Ot(t,516,xD(r,i,(e.v||"").slice(0,255),a,n));break;default:Ot(t,513,Uh(r,i,a))}}function PU(t,e,r){var i=Eo(),n=r.SheetNames[t],a=r.Sheets[n]||{},s=(r||{}).Workbook||{},l=(s.Sheets||[])[t]||{},c=Array.isArray(a),f=e.biff==8,p,v="",y=[],_=_i(a["!ref"]||"A1"),T=f?65536:16384;if(_.e.c>255||_.e.r>=T){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");_.e.c=Math.min(_.e.c,255),_.e.r=Math.min(_.e.c,T-1)}Ot(i,2057,ay(r,16,e)),Ot(i,13,_l(1)),Ot(i,12,_l(100)),Ot(i,15,Xs(!0)),Ot(i,17,Xs(!1)),Ot(i,16,Bh(.001)),Ot(i,95,Xs(!0)),Ot(i,42,Xs(!1)),Ot(i,43,Xs(!1)),Ot(i,130,_l(1)),Ot(i,128,SD()),Ot(i,131,Xs(!1)),Ot(i,132,Xs(!1)),f&&MU(i,a["!cols"]),Ot(i,512,bD(_,e)),f&&(a["!links"]=[]);for(var S=_.s.r;S<=_.e.r;++S){v=ys(S);for(var C=_.s.c;C<=_.e.c;++C){S===_.s.r&&(y[C]=Bs(C)),p=y[C]+v;var O=c?(a[S]||[])[C]:a[p];O&&(kU(i,O,S,C,e),f&&O.l&&a["!links"].push([p,O.l]))}}var I=l.CodeName||l.name||n;return f&&Ot(i,574,vD((s.Views||[])[0])),f&&(a["!merges"]||[]).length&&Ot(i,229,ND(a["!merges"])),f&&CU(i,a),Ot(i,442,q6(I)),f&&LU(i,a),Ot(i,10),i.end()}function OU(t,e,r){var i=Eo(),n=(t||{}).Workbook||{},a=n.Sheets||[],s=n.WBProps||{},l=r.biff==8,c=r.biff==5;if(Ot(i,2057,ay(t,5,r)),r.bookType=="xla"&&Ot(i,135),Ot(i,225,l?_l(1200):null),Ot(i,193,iD(2)),c&&Ot(i,191),c&&Ot(i,192),Ot(i,226),Ot(i,92,dD("SheetJS",r)),Ot(i,66,_l(l?1200:1252)),l&&Ot(i,353,_l(0)),l&&Ot(i,448),Ot(i,317,RD(t.SheetNames.length)),l&&t.vbaraw&&Ot(i,211),l&&t.vbaraw){var f=s.CodeName||"ThisWorkbook";Ot(i,442,q6(f))}Ot(i,156,_l(17)),Ot(i,25,Xs(!1)),Ot(i,18,Xs(!1)),Ot(i,19,_l(0)),l&&Ot(i,431,Xs(!1)),l&&Ot(i,444,_l(0)),Ot(i,61,gD()),Ot(i,64,Xs(!1)),Ot(i,141,_l(0)),Ot(i,34,Xs(FB(t)=="true")),Ot(i,14,Xs(!0)),l&&Ot(i,439,Xs(!1)),Ot(i,218,_l(0)),TU(i,t,r),AU(i,t.SSF,r),NU(i,r),l&&Ot(i,352,Xs(!1));var p=i.end(),v=Eo();l&&Ot(v,140,kD()),l&&r.Strings&&yU(v,252,mD(r.Strings)),Ot(v,10);var y=v.end(),_=Eo(),T=0,S=0;for(S=0;S<t.SheetNames.length;++S)T+=(l?12:11)+(l?2:1)*t.SheetNames[S].length;var C=p.length+T+y.length;for(S=0;S<t.SheetNames.length;++S){var O=a[S]||{};Ot(_,133,pD({pos:C,hs:O.Hidden||0,dt:0,name:t.SheetNames[S]},r)),C+=e[S].length}var I=_.end();if(T!=I.length)throw new Error("BS8 "+T+" != "+I.length);var D=[];return p.length&&D.push(p),I.length&&D.push(I),y.length&&D.push(y),vs(D)}function RU(t,e){var r=e||{},i=[];t&&!t.SSF&&(t.SSF=Ao(Xi)),t&&t.SSF&&(og(),sg(t.SSF),r.revssf=lg(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,hy(r),r.cellXfs=[],oh(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var n=0;n<t.SheetNames.length;++n)i[i.length]=PU(n,r,t);return i.unshift(OU(t,i,r)),vs(i)}function v8(t,e){for(var r=0;r<=t.SheetNames.length;++r){var i=t.Sheets[t.SheetNames[r]];if(!(!i||!i["!ref"])){var n=el(i["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return RU(t,e);case 4:case 3:case 2:return EU(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function DU(t,e,r,i){for(var n=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var l=0,c=0,f=0;f<n.length;++f)if(!(n[f].s.r>r||n[f].s.c>s)&&!(n[f].e.r<r||n[f].e.c<s)){if(n[f].s.r<r||n[f].s.c<s){l=-1;break}l=n[f].e.r-n[f].s.r+1,c=n[f].e.c-n[f].s.c+1;break}if(!(l<0)){var p=qn({r,c:s}),v=i.dense?(t[r]||[])[s]:t[p],y=v&&v.v!=null&&(v.h||f9(v.w||(fc(v),v.w)||""))||"",_={};l>1&&(_.rowspan=l),c>1&&(_.colspan=c),i.editable?y='<span contenteditable="true">'+y+"</span>":v&&(_["data-t"]=v&&v.t||"z",v.v!=null&&(_["data-v"]=v.v),v.z!=null&&(_["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+v.l.Target+'">'+y+"</a>")),_.id=(i.id||"sjs")+"-"+p,a.push(Pt("td",y,_))}}var T="<tr>";return T+a.join("")+"</tr>"}var jU='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',IU="</body></html>";function FU(t,e,r){var i=[];return i.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function _8(t,e){var r=e||{},i=r.header!=null?r.header:jU,n=r.footer!=null?r.footer:IU,a=[i],s=el(t["!ref"]);r.dense=Array.isArray(t),a.push(FU(t,s,r));for(var l=s.s.r;l<=s.e.r;++l)a.push(DU(t,s,l,r));return a.push("</table>"+n),a.join("")}function y8(t,e,r){var i=r||{},n=0,a=0;if(i.origin!=null)if(typeof i.origin=="number")n=i.origin;else{var s=typeof i.origin=="string"?Ya(i.origin):i.origin;n=s.r,a=s.c}var l=e.getElementsByTagName("tr"),c=Math.min(i.sheetRows||1e7,l.length),f={s:{r:0,c:0},e:{r:n,c:a}};if(t["!ref"]){var p=el(t["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),n==-1&&(f.e.r=n=p.e.r+1)}var v=[],y=0,_=t["!rows"]||(t["!rows"]=[]),T=0,S=0,C=0,O=0,I=0,D=0;for(t["!cols"]||(t["!cols"]=[]);T<l.length&&S<c;++T){var q=l[T];if(d3(q)){if(i.display)continue;_[S]={hidden:!0}}var te=q.children;for(C=O=0;C<te.length;++C){var ce=te[C];if(!(i.display&&d3(ce))){var F=ce.hasAttribute("data-v")?ce.getAttribute("data-v"):ce.hasAttribute("v")?ce.getAttribute("v"):g9(ce.innerHTML),K=ce.getAttribute("data-z")||ce.getAttribute("z");for(y=0;y<v.length;++y){var B=v[y];B.s.c==O+a&&B.s.r<S+n&&S+n<=B.e.r&&(O=B.e.c+1-a,y=-1)}D=+ce.getAttribute("colspan")||1,((I=+ce.getAttribute("rowspan")||1)>1||D>1)&&v.push({s:{r:S+n,c:O+a},e:{r:S+n+(I||1)-1,c:O+a+(D||1)-1}});var X={t:"s",v:F},j=ce.getAttribute("data-t")||ce.getAttribute("t")||"";F!=null&&(F.length==0?X.t=j||"z":i.raw||F.trim().length==0||j=="s"||(F==="TRUE"?X={t:"b",v:!0}:F==="FALSE"?X={t:"b",v:!1}:isNaN(uc(F))?isNaN(tp(F).getDate())||(X={t:"d",v:Qs(F)},i.cellDates||(X={t:"n",v:To(X.v)}),X.z=i.dateNF||Xi[14]):X={t:"n",v:uc(F)})),X.z===void 0&&K!=null&&(X.z=K);var W="",ue=ce.getElementsByTagName("A");if(ue&&ue.length)for(var de=0;de<ue.length&&!(ue[de].hasAttribute("href")&&(W=ue[de].getAttribute("href"),W.charAt(0)!="#"));++de);W&&W.charAt(0)!="#"&&(X.l={Target:W}),i.dense?(t[S+n]||(t[S+n]=[]),t[S+n][O+a]=X):t[qn({c:O+a,r:S+n})]=X,f.e.c<O+a&&(f.e.c=O+a),O+=D}}++S}return v.length&&(t["!merges"]=(t["!merges"]||[]).concat(v)),f.e.r=Math.max(f.e.r,S-1+n),t["!ref"]=wa(f),S>=c&&(t["!fullref"]=wa((f.e.r=l.length-T+S-1+n,f))),t}function x8(t,e){var r=e||{},i=r.dense?[]:{};return y8(i,t,e)}function BU(t,e){return $h(x8(t,e),e)}function d3(t){var e="",r=UU(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function UU(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var zU=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+np({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ba+e}})(),p3=(function(){var t=function(a){return Hn(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,i=function(a,s,l){var c=[];c.push('      <table:table table:name="'+Hn(s.SheetNames[l])+`" table:style-name="ta1">
`);var f=0,p=0,v=el(a["!ref"]||"A1"),y=a["!merges"]||[],_=0,T=Array.isArray(a);if(a["!cols"])for(p=0;p<=v.e.c;++p)c.push("        <table:table-column"+(a["!cols"][p]?' table:style-name="co'+a["!cols"][p].ods+'"':"")+`></table:table-column>
`);var S="",C=a["!rows"]||[];for(f=0;f<v.s.r;++f)S=C[f]?' table:style-name="ro'+C[f].ods+'"':"",c.push("        <table:table-row"+S+`></table:table-row>
`);for(;f<=v.e.r;++f){for(S=C[f]?' table:style-name="ro'+C[f].ods+'"':"",c.push("        <table:table-row"+S+`>
`),p=0;p<v.s.c;++p)c.push(e);for(;p<=v.e.c;++p){var O=!1,I={},D="";for(_=0;_!=y.length;++_)if(!(y[_].s.c>p)&&!(y[_].s.r>f)&&!(y[_].e.c<p)&&!(y[_].e.r<f)){(y[_].s.c!=p||y[_].s.r!=f)&&(O=!0),I["table:number-columns-spanned"]=y[_].e.c-y[_].s.c+1,I["table:number-rows-spanned"]=y[_].e.r-y[_].s.r+1;break}if(O){c.push(r);continue}var q=qn({r:f,c:p}),te=T?(a[f]||[])[p]:a[q];if(te&&te.f&&(I["table:formula"]=Hn(oF(te.f)),te.F&&te.F.slice(0,q.length)==q)){var ce=el(te.F);I["table:number-matrix-columns-spanned"]=ce.e.c-ce.s.c+1,I["table:number-matrix-rows-spanned"]=ce.e.r-ce.s.r+1}if(!te){c.push(e);continue}switch(te.t){case"b":D=te.v?"TRUE":"FALSE",I["office:value-type"]="boolean",I["office:boolean-value"]=te.v?"true":"false";break;case"n":D=te.w||String(te.v||0),I["office:value-type"]="float",I["office:value"]=te.v||0;break;case"s":case"str":D=te.v==null?"":te.v,I["office:value-type"]="string";break;case"d":D=te.w||Qs(te.v).toISOString(),I["office:value-type"]="date",I["office:date-value"]=Qs(te.v).toISOString(),I["table:style-name"]="ce1";break;default:c.push(e);continue}var F=t(D);if(te.l&&te.l.Target){var K=te.l.Target;K=K.charAt(0)=="#"?"#"+lF(K.slice(1)):K,K.charAt(0)!="#"&&!K.match(/^\w+:/)&&(K="../"+K),F=Pt("text:a",F,{"xlink:href":K.replace(/&/g,"&amp;")})}c.push("          "+Pt("table:table-cell",Pt("text:p",F,{}),I)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},n=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var l=0;s.SheetNames.map(function(f){return s.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var p=0;p<f["!cols"].length;++p)if(f["!cols"][p]){var v=f["!cols"][p];if(v.width==null&&v.wpx==null&&v.wch==null)continue;sy(v),v.ods=l;var y=f["!cols"][p].wpx+"px";a.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),a.push(`  </style:style>
`),++l}}});var c=0;s.SheetNames.map(function(f){return s.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var p=0;p<f["!rows"].length;++p)if(f["!rows"][p]){f["!rows"][p].ods=c;var v=f["!rows"][p].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+v+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,l){var c=[ba],f=np({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=np({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+f+p+`>
`),c.push(D6().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+f+`>
`),n(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var v=0;v!=s.SheetNames.length;++v)c.push(i(s.Sheets[s.SheetNames[v]],s,v));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function w8(t,e){if(e.bookType=="fods")return p3(t,e);var r=Y_(),i="",n=[],a=[];return i="mimetype",Wr(r,i,"application/vnd.oasis.opendocument.spreadsheet"),i="content.xml",Wr(r,i,p3(t,e)),n.push([i,"text/xml"]),a.push([i,"ContentFile"]),i="styles.xml",Wr(r,i,zU(t,e)),n.push([i,"text/xml"]),a.push([i,"StylesFile"]),i="meta.xml",Wr(r,i,ba+D6()),n.push([i,"text/xml"]),a.push([i,"MetadataFile"]),i="manifest.rdf",Wr(r,i,Q9(a)),n.push([i,"application/rdf+xml"]),i="META-INF/manifest.xml",Wr(r,i,X9(n)),r}function D1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function GU(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Wl(rp(t))}function HU(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var i=0;i<e.length;++i)if(t[r+i]!=e[i])continue e;return!0}return!1}function nh(t){var e=t.reduce(function(n,a){return n+a.length},0),r=new Uint8Array(e),i=0;return t.forEach(function(n){r.set(n,i),i+=n.length}),r}function qU(t,e,r){var i=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,n=r/Math.pow(10,i-6176);t[e+15]|=i>>7,t[e+14]|=(i&127)<<1;for(var a=0;n>=1;++a,n/=256)t[e+a]=n&255;t[e+15]|=r>=0?0:128}function ip(t,e){var r=e?e[0]:0,i=t[r]&127;e:if(t[r++]>=128&&(i|=(t[r]&127)<<7,t[r++]<128||(i|=(t[r]&127)<<14,t[r++]<128)||(i|=(t[r]&127)<<21,t[r++]<128)||(i+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(i+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(i+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),i}function Un(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function md(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Fa(t){for(var e=[],r=[0];r[0]<t.length;){var i=r[0],n=ip(t,r),a=n&7;n=Math.floor(n/8);var s=0,l;if(n==0)break;switch(a){case 0:{for(var c=r[0];t[r[0]++]>=128;);l=t.slice(c,r[0])}break;case 5:s=4,l=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,l=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=ip(t,r),l=t.slice(r[0],r[0]+s),r[0]+=s;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(n," at offset ").concat(i))}var f={data:l,type:a};e[n]==null?e[n]=[f]:e[n].push(f)}return e}function ps(t){var e=[];return t.forEach(function(r,i){r.forEach(function(n){n.data&&(e.push(Un(i*8+n.type)),n.type==2&&e.push(Un(n.data.length)),e.push(n.data))})}),nh(e)}function Gl(t){for(var e,r=[],i=[0];i[0]<t.length;){var n=ip(t,i),a=Fa(t.slice(i[0],i[0]+n));i[0]+=n;var s={id:md(a[1][0].data),messages:[]};a[2].forEach(function(l){var c=Fa(l.data),f=md(c[3][0].data);s.messages.push({meta:c,data:t.slice(i[0],i[0]+f)}),i[0]+=f}),(e=a[3])!=null&&e[0]&&(s.merge=md(a[3][0].data)>>>0>0),r.push(s)}return r}function jf(t){var e=[];return t.forEach(function(r){var i=[];i[1]=[{data:Un(r.id),type:0}],i[2]=[],r.merge!=null&&(i[3]=[{data:Un(+!!r.merge),type:0}]);var n=[];r.messages.forEach(function(s){n.push(s.data),s.meta[3]=[{type:0,data:Un(s.data.length)}],i[2].push({data:ps(s.meta),type:2})});var a=ps(i);e.push(Un(a.length)),e.push(a),n.forEach(function(s){return e.push(s)})}),nh(e)}function VU(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],i=ip(e,r),n=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var l=s-59;s=e[r[0]],l>1&&(s|=e[r[0]+1]<<8),l>2&&(s|=e[r[0]+2]<<16),l>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=l}n.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,f=0;if(a==1?(f=(e[r[0]]>>2&7)+4,c=(e[r[0]++]&224)<<3,c|=e[r[0]++]):(f=(e[r[0]++]>>2)+1,a==2?(c=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(c=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),n=[nh(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(f>=c)for(n.push(n[0].slice(-c)),f-=c;f>=n[n.length-1].length;)n.push(n[n.length-1]),f-=n[n.length-1].length;n.push(n[0].slice(-c,-c+f))}}var p=nh(n);if(p.length!=i)throw new Error("Unexpected length: ".concat(p.length," != ").concat(i));return p}function Hl(t){for(var e=[],r=0;r<t.length;){var i=t[r++],n=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(VU(i,t.slice(r,r+n))),r+=n}if(r!==t.length)throw new Error("data is not a valid framed stream!");return nh(e)}function If(t){for(var e=[],r=0;r<t.length;){var i=Math.min(t.length-r,268435455),n=new Uint8Array(4);e.push(n);var a=Un(i),s=a.length;e.push(a),i<=60?(s++,e.push(new Uint8Array([i-1<<2]))):i<=256?(s+=2,e.push(new Uint8Array([240,i-1&255]))):i<=65536?(s+=3,e.push(new Uint8Array([244,i-1&255,i-1>>8&255]))):i<=16777216?(s+=4,e.push(new Uint8Array([248,i-1&255,i-1>>8&255,i-1>>16&255]))):i<=4294967296&&(s+=5,e.push(new Uint8Array([252,i-1&255,i-1>>8&255,i-1>>16&255,i-1>>>24&255]))),e.push(t.slice(r,r+i)),s+=i,n[0]=0,n[1]=s&255,n[2]=s>>8&255,n[3]=s>>16&255,r+=i}return nh(e)}function T2(t,e){var r=new Uint8Array(32),i=D1(r),n=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,qU(r,n,t.v),a|=1,n+=16;break;case"b":r[1]=6,i.setFloat64(n,t.v?1:0,!0),a|=2,n+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,i.setUint32(n,e.indexOf(t.v),!0),a|=8,n+=4;break;default:throw"unsupported cell type "+t.t}return i.setUint32(8,a,!0),r.slice(0,n)}function A2(t,e){var r=new Uint8Array(32),i=D1(r),n=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,i.setFloat64(n,t.v,!0),a|=32,n+=8;break;case"b":r[2]=6,i.setFloat64(n,t.v?1:0,!0),a|=32,n+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,i.setUint32(n,e.indexOf(t.v),!0),a|=16,n+=4;break;default:throw"unsupported cell type "+t.t}return i.setUint32(4,a,!0),r.slice(0,n)}function Hc(t){var e=Fa(t);return ip(e[1][0].data)}function $U(t,e,r){var i,n,a,s;if(!((i=t[6])!=null&&i[0])||!((n=t[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var l=((s=(a=t[8])==null?void 0:a[0])==null?void 0:s.data)&&md(t[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,f=D1(t[7][0].data),p=0,v=[],y=D1(t[4][0].data),_=0,T=[],S=0;S<e.length;++S){if(e[S]==null){f.setUint16(S*2,65535,!0),y.setUint16(S*2,65535);continue}f.setUint16(S*2,p,!0),y.setUint16(S*2,_,!0);var C,O;switch(typeof e[S]){case"string":C=T2({t:"s",v:e[S]},r),O=A2({t:"s",v:e[S]},r);break;case"number":C=T2({t:"n",v:e[S]},r),O=A2({t:"n",v:e[S]},r);break;case"boolean":C=T2({t:"b",v:e[S]},r),O=A2({t:"b",v:e[S]},r);break;default:throw new Error("Unsupported value "+e[S])}v.push(C),p+=C.length,T.push(O),_+=O.length,++c}for(t[2][0].data=Un(c);S<t[7][0].data.length/2;++S)f.setUint16(S*2,65535,!0),y.setUint16(S*2,65535,!0);return t[6][0].data=nh(v),t[3][0].data=nh(T),c}function WU(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var i=el(r["!ref"]);i.s.r=i.s.c=0;var n=!1;i.e.c>9&&(n=!0,i.e.c=9),i.e.r>49&&(n=!0,i.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(wa(i)));var a=j1(r,{range:i,header:1}),s=["~Sh33tJ5~"];a.forEach(function(G){return G.forEach(function(H){typeof H=="string"&&s.push(H)})});var l={},c=[],f=Yn.read(e.numbers,{type:"base64"});f.FileIndex.map(function(G,H){return[G,f.FullPaths[H]]}).forEach(function(G){var H=G[0],Z=G[1];if(H.type==2&&H.name.match(/\.iwa/)){var se=H.content,Ae=Hl(se),Oe=Gl(Ae);Oe.forEach(function(Re){c.push(Re.id),l[Re.id]={deps:[],location:Z,type:md(Re.messages[0].meta[1][0].data)}})}}),c.sort(function(G,H){return G-H});var p=c.filter(function(G){return G>1}).map(function(G){return[G,Un(G)]});f.FileIndex.map(function(G,H){return[G,f.FullPaths[H]]}).forEach(function(G){var H=G[0];if(G[1],!!H.name.match(/\.iwa/)){var Z=Gl(Hl(H.content));Z.forEach(function(se){se.messages.forEach(function(Ae){p.forEach(function(Oe){se.messages.some(function(Re){return md(Re.meta[1][0].data)!=11006&&HU(Re.data,Oe[1])})&&l[Oe[0]].deps.push(se.id)})})})}});for(var v=Yn.find(f,l[1].location),y=Gl(Hl(v.content)),_,T=0;T<y.length;++T){var S=y[T];S.id==1&&(_=S)}var C=Hc(Fa(_.messages[0].data)[1][0].data);for(v=Yn.find(f,l[C].location),y=Gl(Hl(v.content)),T=0;T<y.length;++T)S=y[T],S.id==C&&(_=S);for(C=Hc(Fa(_.messages[0].data)[2][0].data),v=Yn.find(f,l[C].location),y=Gl(Hl(v.content)),T=0;T<y.length;++T)S=y[T],S.id==C&&(_=S);for(C=Hc(Fa(_.messages[0].data)[2][0].data),v=Yn.find(f,l[C].location),y=Gl(Hl(v.content)),T=0;T<y.length;++T)S=y[T],S.id==C&&(_=S);var O=Fa(_.messages[0].data);{O[6][0].data=Un(i.e.r+1),O[7][0].data=Un(i.e.c+1);var I=Hc(O[46][0].data),D=Yn.find(f,l[I].location),q=Gl(Hl(D.content));{for(var te=0;te<q.length&&q[te].id!=I;++te);if(q[te].id!=I)throw"Bad ColumnRowUIDMapArchive";var ce=Fa(q[te].messages[0].data);ce[1]=[],ce[2]=[],ce[3]=[];for(var F=0;F<=i.e.c;++F){var K=[];K[1]=K[2]=[{type:0,data:Un(F+420690)}],ce[1].push({type:2,data:ps(K)}),ce[2].push({type:0,data:Un(F)}),ce[3].push({type:0,data:Un(F)})}ce[4]=[],ce[5]=[],ce[6]=[];for(var B=0;B<=i.e.r;++B)K=[],K[1]=K[2]=[{type:0,data:Un(B+726270)}],ce[4].push({type:2,data:ps(K)}),ce[5].push({type:0,data:Un(B)}),ce[6].push({type:0,data:Un(B)});q[te].messages[0].data=ps(ce)}D.content=If(jf(q)),D.size=D.content.length,delete O[46];var X=Fa(O[4][0].data);{X[7][0].data=Un(i.e.r+1);var j=Fa(X[1][0].data),W=Hc(j[2][0].data);D=Yn.find(f,l[W].location),q=Gl(Hl(D.content));{if(q[0].id!=W)throw"Bad HeaderStorageBucket";var ue=Fa(q[0].messages[0].data);for(B=0;B<a.length;++B){var de=Fa(ue[2][0].data);de[1][0].data=Un(B),de[4][0].data=Un(a[B].length),ue[2][B]={type:ue[2][0].type,data:ps(de)}}q[0].messages[0].data=ps(ue)}D.content=If(jf(q)),D.size=D.content.length;var xe=Hc(X[2][0].data);D=Yn.find(f,l[xe].location),q=Gl(Hl(D.content));{if(q[0].id!=xe)throw"Bad HeaderStorageBucket";for(ue=Fa(q[0].messages[0].data),F=0;F<=i.e.c;++F)de=Fa(ue[2][0].data),de[1][0].data=Un(F),de[4][0].data=Un(i.e.r+1),ue[2][F]={type:ue[2][0].type,data:ps(de)};q[0].messages[0].data=ps(ue)}D.content=If(jf(q)),D.size=D.content.length;var oe=Hc(X[4][0].data);(function(){for(var G=Yn.find(f,l[oe].location),H=Gl(Hl(G.content)),Z,se=0;se<H.length;++se){var Ae=H[se];Ae.id==oe&&(Z=Ae)}var Oe=Fa(Z.messages[0].data);{Oe[3]=[];var Re=[];s.forEach(function(it,Tt){Re[1]=[{type:0,data:Un(Tt)}],Re[2]=[{type:0,data:Un(1)}],Re[3]=[{type:2,data:GU(it)}],Oe[3].push({type:2,data:ps(Re)})})}Z.messages[0].data=ps(Oe);var Ie=jf(H),ot=If(Ie);G.content=ot,G.size=G.content.length})();var be=Fa(X[3][0].data);{var _e=be[1][0];delete be[2];var Le=Fa(_e.data);{var Ne=Hc(Le[2][0].data);(function(){for(var G=Yn.find(f,l[Ne].location),H=Gl(Hl(G.content)),Z,se=0;se<H.length;++se){var Ae=H[se];Ae.id==Ne&&(Z=Ae)}var Oe=Fa(Z.messages[0].data);{delete Oe[6],delete be[7];var Re=new Uint8Array(Oe[5][0].data);Oe[5]=[];for(var Ie=0,ot=0;ot<=i.e.r;++ot){var it=Fa(Re);Ie+=$U(it,a[ot],s),it[1][0].data=Un(ot),Oe[5].push({data:ps(it),type:2})}Oe[1]=[{type:0,data:Un(i.e.c+1)}],Oe[2]=[{type:0,data:Un(i.e.r+1)}],Oe[3]=[{type:0,data:Un(Ie)}],Oe[4]=[{type:0,data:Un(i.e.r+1)}]}Z.messages[0].data=ps(Oe);var Tt=jf(H),Nt=If(Tt);G.content=Nt,G.size=G.content.length})()}_e.data=ps(Le)}X[3][0].data=ps(be)}O[4][0].data=ps(X)}_.messages[0].data=ps(O);var Q=jf(y),P=If(Q);return v.content=P,v.size=v.content.length,f}function ZU(t){return function(r){for(var i=0;i!=t.length;++i){var n=t[i];r[n[0]]===void 0&&(r[n[0]]=n[1]),n[2]==="n"&&(r[n[0]]=Number(r[n[0]]))}}}function hy(t){ZU([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function YU(t,e){return e.bookType=="ods"?w8(t,e):e.bookType=="numbers"?WU(t,e):e.bookType=="xlsb"?KU(t,e):XU(t,e)}function KU(t,e){Xf=1024,t&&!t.SSF&&(t.SSF=Ao(Xi)),t&&t.SSF&&(og(),sg(t.SSF),e.revssf=lg(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,R0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",i=n8.indexOf(e.bookType)>-1,n=P6();hy(e=e||{});var a=Y_(),s="",l=0;if(e.cellXfs=[],oh(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Wr(a,s,j6(t.Props,e)),n.coreprops.push(s),zn(e.rels,2,s,Tn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&c.push(t.SheetNames[f]);t.Props.SheetNames=c}for(t.Props.Worksheets=t.Props.SheetNames.length,Wr(a,s,F6(t.Props)),n.extprops.push(s),zn(e.rels,3,s,Tn.EXT_PROPS),t.Custprops!==t.Props&&xs(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Wr(a,s,B6(t.Custprops)),n.custprops.push(s),zn(e.rels,4,s,Tn.CUST_PROPS)),l=1;l<=t.SheetNames.length;++l){var p={"!id":{}},v=t.Sheets[t.SheetNames[l-1]],y=(v||{})["!type"]||"sheet";if(s="xl/worksheets/sheet"+l+"."+r,Wr(a,s,QB(l-1,s,e,t,p)),n.sheets.push(s),zn(e.wbrels,-1,"worksheets/sheet"+l+"."+r,Tn.WS[0]),v){var _=v["!comments"],T=!1,S="";_&&_.length>0&&(S="xl/comments"+l+"."+r,Wr(a,S,rU(_,S)),n.comments.push(S),zn(p,-1,"../comments"+l+"."+r,Tn.CMNT),T=!0),v["!legacy"]&&T&&Wr(a,"xl/drawings/vmlDrawing"+l+".vml",t8(l,v["!comments"])),delete v["!comments"],delete v["!legacy"]}p["!id"].rId1&&Wr(a,R6(s),dd(p))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,Wr(a,s,tU(e.Strings,s,e)),n.strs.push(s),zn(e.wbrels,-1,"sharedStrings."+r,Tn.SST)),s="xl/workbook."+r,Wr(a,s,JB(t,s)),n.workbooks.push(s),zn(e.rels,1,s,Tn.WB),s="xl/theme/theme1.xml",Wr(a,s,Q6(t.Themes,e)),n.themes.push(s),zn(e.wbrels,-1,"theme/theme1.xml",Tn.THEME),s="xl/styles."+r,Wr(a,s,eU(t,s,e)),n.styles.push(s),zn(e.wbrels,-1,"styles."+r,Tn.STY),t.vbaraw&&i&&(s="xl/vbaProject.bin",Wr(a,s,t.vbaraw),n.vba.push(s),zn(e.wbrels,-1,"vbaProject.bin",Tn.VBA)),s="xl/metadata."+r,Wr(a,s,nU(s)),n.metadata.push(s),zn(e.wbrels,-1,"metadata."+r,Tn.XLMETA),Wr(a,"[Content_Types].xml",O6(n,e)),Wr(a,"_rels/.rels",dd(e.rels)),Wr(a,"xl/_rels/workbook."+r+".rels",dd(e.wbrels)),delete e.revssf,delete e.ssf,a}function XU(t,e){Xf=1024,t&&!t.SSF&&(t.SSF=Ao(Xi)),t&&t.SSF&&(og(),sg(t.SSF),e.revssf=lg(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,R0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",i=n8.indexOf(e.bookType)>-1,n=P6();hy(e=e||{});var a=Y_(),s="",l=0;if(e.cellXfs=[],oh(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Wr(a,s,j6(t.Props,e)),n.coreprops.push(s),zn(e.rels,2,s,Tn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&c.push(t.SheetNames[f]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,Wr(a,s,F6(t.Props)),n.extprops.push(s),zn(e.rels,3,s,Tn.EXT_PROPS),t.Custprops!==t.Props&&xs(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Wr(a,s,B6(t.Custprops)),n.custprops.push(s),zn(e.rels,4,s,Tn.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,l=1;l<=t.SheetNames.length;++l){var v={"!id":{}},y=t.Sheets[t.SheetNames[l-1]],_=(y||{})["!type"]||"sheet";if(s="xl/worksheets/sheet"+l+"."+r,Wr(a,s,f8(l-1,e,t,v)),n.sheets.push(s),zn(e.wbrels,-1,"worksheets/sheet"+l+"."+r,Tn.WS[0]),y){var T=y["!comments"],S=!1,C="";if(T&&T.length>0){var O=!1;T.forEach(function(I){I[1].forEach(function(D){D.T==!0&&(O=!0)})}),O&&(C="xl/threadedComments/threadedComment"+l+"."+r,Wr(a,C,Nj(T,p,e)),n.threadedcomments.push(C),zn(v,-1,"../threadedComments/threadedComment"+l+"."+r,Tn.TCMNT)),C="xl/comments"+l+"."+r,Wr(a,C,r8(T)),n.comments.push(C),zn(v,-1,"../comments"+l+"."+r,Tn.CMNT),S=!0}y["!legacy"]&&S&&Wr(a,"xl/drawings/vmlDrawing"+l+".vml",t8(l,y["!comments"])),delete y["!comments"],delete y["!legacy"]}v["!id"].rId1&&Wr(a,R6(s),dd(v))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,Wr(a,s,W6(e.Strings,e)),n.strs.push(s),zn(e.wbrels,-1,"sharedStrings."+r,Tn.SST)),s="xl/workbook."+r,Wr(a,s,m8(t)),n.workbooks.push(s),zn(e.rels,1,s,Tn.WB),s="xl/theme/theme1.xml",Wr(a,s,Q6(t.Themes,e)),n.themes.push(s),zn(e.wbrels,-1,"theme/theme1.xml",Tn.THEME),s="xl/styles."+r,Wr(a,s,X6(t,e)),n.styles.push(s),zn(e.wbrels,-1,"styles."+r,Tn.STY),t.vbaraw&&i&&(s="xl/vbaProject.bin",Wr(a,s,t.vbaraw),n.vba.push(s),zn(e.wbrels,-1,"vbaProject.bin",Tn.VBA)),s="xl/metadata."+r,Wr(a,s,e8()),n.metadata.push(s),zn(e.wbrels,-1,"metadata."+r,Tn.XLMETA),p.length>1&&(s="xl/persons/person.xml",Wr(a,s,Cj(p)),n.people.push(s),zn(e.wbrels,-1,"persons/person.xml",Tn.PEOPLE)),Wr(a,"[Content_Types].xml",O6(n,e)),Wr(a,"_rels/.rels",dd(e.rels)),Wr(a,"xl/_rels/workbook."+r+".rels",dd(e.wbrels)),delete e.revssf,delete e.ssf,a}function JU(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=hc(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function b8(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return yp(e.file,Yn.write(t,{type:Cn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Yn.write(t,e)}function QU(t,e){var r=Ao(e||{}),i=YU(t,r);return ez(i,r)}function ez(t,e){var r={},i=Cn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=i;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=i;break;default:throw new Error("Unrecognized type "+e.type)}var n=t.FullPaths?Yn.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof n=="string"){if(e.type=="binary"||e.type=="base64")return n;n=new Uint8Array(ag(n))}return e.password&&typeof encrypt_agile<"u"?b8(encrypt_agile(n,e.password),e):e.type==="file"?yp(e.file,n):e.type=="string"?M0(n):n}function tz(t,e){var r=e||{},i=vU(t,r);return b8(i,r)}function Nu(t,e,r){r||(r="");var i=r+t;switch(e.type){case"base64":return ep(rp(i));case"binary":return rp(i);case"string":return t;case"file":return yp(e.file,i,"utf8");case"buffer":return Cn?gc(i,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(i):Nu(i,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function rz(t,e){switch(e.type){case"base64":return ep(t);case"binary":return t;case"string":return t;case"file":return yp(e.file,t,"binary");case"buffer":return Cn?gc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Vm(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",i=0;i<t.length;++i)r+=String.fromCharCode(t[i]);return e.type=="base64"?ep(r):e.type=="string"?M0(r):r;case"file":return yp(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function S8(t,e){MR(),zB(t);var r=Ao(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var i=S8(t,r);return r.type="array",ag(i)}var n=0;if(r.sheet&&(typeof r.sheet=="number"?n=r.sheet:n=t.SheetNames.indexOf(r.sheet),!t.SheetNames[n]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Nu(mU(t,r),r);case"slk":case"sylk":return Nu(FD.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"htm":case"html":return Nu(_8(t.Sheets[t.SheetNames[n]],r),r);case"txt":return rz(E8(t.Sheets[t.SheetNames[n]],r),r);case"csv":return Nu(fy(t.Sheets[t.SheetNames[n]],r),r,"\uFEFF");case"dif":return Nu(BD.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"dbf":return Vm(ID.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"prn":return Nu(UD.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"rtf":return Nu(WD.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"eth":return Nu($6.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"fods":return Nu(w8(t,r),r);case"wk1":return Vm(o3.sheet_to_wk1(t.Sheets[t.SheetNames[n]],r),r);case"wk3":return Vm(o3.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Vm(v8(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),tz(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return QU(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function nz(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function iz(t,e,r){var i={};return i.type="file",i.file=e,nz(i),S8(t,i)}function az(t,e,r,i,n,a,s,l){var c=ys(r),f=l.defval,p=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),v=!0,y=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!s||t[r])for(var _=e.s.c;_<=e.e.c;++_){var T=s?t[r][_]:t[i[_]+c];if(T===void 0||T.t===void 0){if(f===void 0)continue;a[_]!=null&&(y[a[_]]=f);continue}var S=T.v;switch(T.t){case"z":if(S==null)break;continue;case"e":S=S==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(a[_]!=null){if(S==null)if(T.t=="e"&&S===null)y[a[_]]=null;else if(f!==void 0)y[a[_]]=f;else if(p&&S===null)y[a[_]]=null;else continue;else y[a[_]]=p&&(T.t!=="n"||T.t==="n"&&l.rawNumbers!==!1)?S:fc(T,S,l);S!=null&&(v=!1)}}return{row:y,isempty:v}}function j1(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},i=0,n=1,a=[],s=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},p=f.range!=null?f.range:t["!ref"];switch(f.header===1?i=1:f.header==="A"?i=2:Array.isArray(f.header)?i=3:f.header==null&&(i=0),typeof p){case"string":c=_i(p);break;case"number":c=_i(t["!ref"]),c.s.r=p;break;default:c=p}i>0&&(n=0);var v=ys(c.s.r),y=[],_=[],T=0,S=0,C=Array.isArray(t),O=c.s.r,I=0,D={};C&&!t[O]&&(t[O]=[]);var q=f.skipHidden&&t["!cols"]||[],te=f.skipHidden&&t["!rows"]||[];for(I=c.s.c;I<=c.e.c;++I)if(!(q[I]||{}).hidden)switch(y[I]=Bs(I),r=C?t[O][I]:t[y[I]+v],i){case 1:a[I]=I-c.s.c;break;case 2:a[I]=y[I];break;case 3:a[I]=f.header[I-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=s=fc(r,null,f),S=D[s]||0,!S)D[s]=1;else{do l=s+"_"+S++;while(D[l]);D[s]=S,D[l]=1}a[I]=l}for(O=c.s.r+n;O<=c.e.r;++O)if(!(te[O]||{}).hidden){var ce=az(t,c,O,y,i,a,C,f);(ce.isempty===!1||(i===1?f.blankrows!==!1:f.blankrows))&&(_[T++]=ce.row)}return _.length=T,_}var m3=/"/g;function sz(t,e,r,i,n,a,s,l){for(var c=!0,f=[],p="",v=ys(r),y=e.s.c;y<=e.e.c;++y)if(i[y]){var _=l.dense?(t[r]||[])[y]:t[i[y]+v];if(_==null)p="";else if(_.v!=null){c=!1,p=""+(l.rawNumbers&&_.t=="n"?_.v:fc(_,null,l));for(var T=0,S=0;T!==p.length;++T)if((S=p.charCodeAt(T))===n||S===a||S===34||l.forceQuotes){p='"'+p.replace(m3,'""')+'"';break}p=="ID"&&(p='"ID"')}else _.f!=null&&!_.F?(c=!1,p="="+_.f,p.indexOf(",")>=0&&(p='"'+p.replace(m3,'""')+'"')):p="";f.push(p)}return l.blankrows===!1&&c?null:f.join(s)}function fy(t,e){var r=[],i=e??{};if(t==null||t["!ref"]==null)return"";var n=_i(t["!ref"]),a=i.FS!==void 0?i.FS:",",s=a.charCodeAt(0),l=i.RS!==void 0?i.RS:`
`,c=l.charCodeAt(0),f=new RegExp((a=="|"?"\\|":a)+"+$"),p="",v=[];i.dense=Array.isArray(t);for(var y=i.skipHidden&&t["!cols"]||[],_=i.skipHidden&&t["!rows"]||[],T=n.s.c;T<=n.e.c;++T)(y[T]||{}).hidden||(v[T]=Bs(T));for(var S=0,C=n.s.r;C<=n.e.r;++C)(_[C]||{}).hidden||(p=sz(t,n,C,v,s,c,a,i),p!=null&&(i.strip&&(p=p.replace(f,"")),(p||i.blankrows!==!1)&&r.push((S++?l:"")+p)));return delete i.dense,r.join("")}function E8(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=fy(t,e);return r}function oz(t){var e="",r,i="";if(t==null||t["!ref"]==null)return[];var n=_i(t["!ref"]),a="",s=[],l,c=[],f=Array.isArray(t);for(l=n.s.c;l<=n.e.c;++l)s[l]=Bs(l);for(var p=n.s.r;p<=n.e.r;++p)for(a=ys(p),l=n.s.c;l<=n.e.c;++l)if(e=s[l]+a,r=f?(t[p]||[])[l]:t[e],i="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;i=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)i=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)i=""+r.v;else if(r.t=="b")i=r.v?"TRUE":"FALSE";else if(r.w!==void 0)i="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?i="'"+r.v:i=""+r.v}}c[c.length]=e+"="+i}return c}function T8(t,e,r){var i=r||{},n=+!i.skipHeader,a=t||{},s=0,l=0;if(a&&i.origin!=null)if(typeof i.origin=="number")s=i.origin;else{var c=typeof i.origin=="string"?Ya(i.origin):i.origin;s=c.r,l=c.c}var f,p={s:{c:0,r:0},e:{c:l,r:s+e.length-1+n}};if(a["!ref"]){var v=_i(a["!ref"]);p.e.c=Math.max(p.e.c,v.e.c),p.e.r=Math.max(p.e.r,v.e.r),s==-1&&(s=v.e.r+1,p.e.r=s+e.length-1+n)}else s==-1&&(s=0,p.e.r=e.length-1+n);var y=i.header||[],_=0;e.forEach(function(S,C){xs(S).forEach(function(O){(_=y.indexOf(O))==-1&&(y[_=y.length]=O);var I=S[O],D="z",q="",te=qn({c:l+_,r:s+C+n});f=ap(a,te),I&&typeof I=="object"&&!(I instanceof Date)?a[te]=I:(typeof I=="number"?D="n":typeof I=="boolean"?D="b":typeof I=="string"?D="s":I instanceof Date?(D="d",i.cellDates||(D="n",I=To(I)),q=i.dateNF||Xi[14]):I===null&&i.nullError&&(D="e",I=0),f?(f.t=D,f.v=I,delete f.w,delete f.R,q&&(f.z=q)):a[te]=f={t:D,v:I},q&&(f.z=q))})}),p.e.c=Math.max(p.e.c,l+y.length-1);var T=ys(s);if(n)for(_=0;_<y.length;++_)a[Bs(_+l)+T]={t:"s",v:y[_]};return a["!ref"]=wa(p),a}function lz(t,e){return T8(null,t,e)}function ap(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var i=Ya(e);return t[i.r]||(t[i.r]=[]),t[i.r][i.c]||(t[i.r][i.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?ap(t,qn(e)):ap(t,qn({r:e,c:r||0}))}function uz(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function cz(){return{SheetNames:[],Sheets:{}}}function hz(t,e,r,i){var n=1;if(!r)for(;n<=65535&&t.SheetNames.indexOf(r="Sheet"+n)!=-1;++n,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);n=a&&+a[2]||0;var s=a&&a[1]||r;for(++n;n<=65535&&t.SheetNames.indexOf(r=s+n)!=-1;++n);}if(p8(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function fz(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var i=uz(t,e);switch(t.Workbook.Sheets[i]||(t.Workbook.Sheets[i]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[i].Hidden=r}function dz(t,e){return t.z=e,t}function A8(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function pz(t,e,r){return A8(t,"#"+e,r)}function mz(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function gz(t,e,r,i){for(var n=typeof e!="string"?e:_i(e),a=typeof e=="string"?e:wa(e),s=n.s.r;s<=n.e.r;++s)for(var l=n.s.c;l<=n.e.c;++l){var c=ap(t,s,l);c.t="n",c.F=a,delete c.v,s==n.s.r&&l==n.s.c&&(c.f=r,i&&(c.D=!0))}return t}var Mh={encode_col:Bs,encode_row:ys,encode_cell:qn,encode_range:wa,decode_col:ty,decode_row:ey,split_cell:M9,decode_cell:Ya,decode_range:el,format_cell:fc,sheet_add_aoa:A6,sheet_add_json:T8,sheet_add_dom:y8,aoa_to_sheet:Ed,json_to_sheet:lz,table_to_sheet:x8,table_to_book:BU,sheet_to_csv:fy,sheet_to_txt:E8,sheet_to_json:j1,sheet_to_html:_8,sheet_to_formulae:oz,sheet_to_row_object_array:j1,sheet_get_cell:ap,book_new:cz,book_append_sheet:hz,book_set_sheet_visibility:fz,cell_set_number_format:dz,cell_set_hyperlink:A8,cell_set_internal_link:pz,cell_add_comment:mz,sheet_set_array_formula:gz,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const vz=(t,e=`Survey_Export_${Date.now()}`)=>{if(!t||t.length===0){alert("No data to export");return}const r=t.map(c=>({"Building ID":c.building_id||"","Survey ID":c.id||"","Floor Number":c.floor_number||"","Total Floors":c.total_floors||"","Unit Identifier":c.unit_identifier||"","Total Area (m)":c.area_sqm||"",Status:c.status||"","Owner Name":c.owner_name||"","Phone Number":c.phone_number||"","Aadhaar Number":c.aadhaar_number||"","Email Address":c.email_address||"","Family Members Count":c.family_members_count||"","Occupier Name":c.occupier_name||"","Ownership Type":c.ownership_type||"","7/12 Survey/Gat No":c.survey_gat_no||"","City Survey No":c.city_survey_no||"","Layout Name/Plot No":c.layout_name_plot_no||"","Building Name":c.building_name||"","Address with Floor":c.address_with_floor||"","Nearest Road Type":c.nearest_road_type||"","Pin Code":c.pin_code||"","Property Type":c.property_type||"","Usage Type":c.usage_type||"","Usage Sub-Type":c.usage_sub_type||"","Building Permission":c.building_permission?"Yes":"No","Permission No":c.permission_no||"","Permission Date":c.permission_date||"","Occupancy Certificate":c.occupancy_certificate?"Yes":"No","Construction Type":c.construction_type||"","Year of Construction":c.year_of_construction||"","Construction Age (years)":c.year_of_construction?new Date().getFullYear()-c.year_of_construction:"","Water Connection":c.water_connection?"Yes":"No","Water Connection Type":c.water_connection_type||"","Water Authorization":c.water_authorized||"","Water Meter No":c.water_meter_no||"","Water Consumer No":c.water_consumer_no||"","Water Connection Date":c.water_connection_date||"","Pipe Size":c.pipe_size||"","Has Toilet":c.has_toilet?"Yes":"No","Toilet Count":c.toilet_count||"","Septic Tank":c.has_septic_tank?"Yes":"No","Sewerage Connection":c.has_sewerage?"Yes":"No","Electricity Connection":c.electricity_connection?"Yes":"No","Solar Panels":c.has_solar?"Yes":"No","Rain Water Harvesting":c.has_rainwater_harvesting?"Yes":"No","Property Tax Paid":c.tax_paid?"Yes":"No","ULB Name":c.ulb_name||"",District:c.district||"",Town:c.town||"","Zone No":c.zone_no||"","New Ward No":c.new_ward_no||"","Old Ward No":c.old_ward_no||"","Old Property No":c.old_property_no||"","New Property No":c.new_property_no||"","Total Carpet Area (m)":c.total_carpet_area||"","Exempted Area (m)":c.exempted_area||"","Assessable Area (m)":c.assessable_area||"","Current Tax Details":c.current_tax_details||"","Owner Photo URL":c.owner_photo_url||"","Building Photo 1 URL":c.building_photo_url||"","Building Photo 2 URL":c.building_photo_url_2||"","Created At":new Date(c.created_at).toLocaleString(),"Updated At":new Date(c.updated_at).toLocaleString(),"Surveyor ID":c.user_id||""})),i=Mh.json_to_sheet(r),n=[{wch:15},{wch:12},{wch:10},{wch:12},{wch:15},{wch:12},{wch:10},{wch:25},{wch:15},{wch:15},{wch:25},{wch:15},{wch:25},{wch:15}];i["!cols"]=n;const a=Mh.book_new();Mh.book_append_sheet(a,i,"Survey Data");const s=[{Metric:"Total Surveys",Value:t.length},{Metric:"Export Date",Value:new Date().toLocaleString()},{Metric:"Total Area (m)",Value:t.reduce((c,f)=>c+(parseFloat(f.area_sqm)||0),0).toFixed(2)},{Metric:"Properties with Water Connection",Value:t.filter(c=>c.water_connection).length},{Metric:"Properties with Electricity",Value:t.filter(c=>c.electricity_connection).length},{Metric:"Properties with Tax Paid",Value:t.filter(c=>c.tax_paid).length}],l=Mh.json_to_sheet(s);return l["!cols"]=[{wch:40},{wch:20}],Mh.book_append_sheet(a,l,"Summary"),iz(a,`${e}.xlsx`),!0},_z=(t,e=`Survey_Export_${Date.now()}`)=>{if(!t||t.length===0){alert("No data to export");return}const r=t.map(c=>({"Building ID":c.building_id||"","Survey ID":c.id||"","Floor Number":c.floor_number||"","Total Floors":c.total_floors||"","Owner Name":c.owner_name||"","Phone Number":c.phone_number||"","Aadhaar Number":c.aadhaar_number||"","Email Address":c.email_address||"","Property Type":c.property_type||"","Construction Type":c.construction_type||"","Year of Construction":c.year_of_construction||"","Total Area (m)":c.area_sqm||"","Water Connection":c.water_connection?"Yes":"No","Electricity Connection":c.electricity_connection?"Yes":"No","Tax Paid":c.tax_paid?"Yes":"No",District:c.district||"",Town:c.town||"","Ward No":c.new_ward_no||"","Property No":c.new_property_no||"","Created At":new Date(c.created_at).toLocaleString()})),i=Mh.json_to_sheet(r),n=Mh.sheet_to_csv(i),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),l=URL.createObjectURL(a);return s.setAttribute("href",l),s.setAttribute("download",`${e}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),!0},yz=()=>{const t=sh(),e=$E(),{surveys:r,stats:i,loading:n,lastUpdate:a}=Dk(),s=async()=>{(await od.fetchAll()).success?e.success("Data refreshed successfully"):e.error("Failed to refresh data")},l=async p=>{if(confirm("Are you sure you want to delete this survey?"))try{const{error:v}=await _n.from("surveys").delete().eq("id",p);v?e.error("Failed to delete survey"):(e.success("Survey deleted successfully"),od.fetchSurveys(),od.fetchStats())}catch{e.error("Error deleting survey")}},c=()=>{if(r.length===0){e.error("No surveys to export");return}vz(r),e.success(`Exported ${r.length} surveys to Excel`)},f=()=>{if(r.length===0){e.error("No surveys to export");return}_z(r),e.success(`Exported ${r.length}surveys to CSV`)};return x.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[x.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),x.jsx("p",{className:"text-gray-600 mt-1",children:"Overview of your survey activities"}),a&&x.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last updated: ",new Date(a).toLocaleString()]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:s,disabled:n,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center gap-2",children:[x.jsx("svg",{className:`w-4 h-4 ${n?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n?"Loading...":"Refresh"]}),x.jsxs("button",{onClick:c,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Excel"]}),x.jsxs("button",{onClick:f,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"CSV"]}),x.jsxs("button",{onClick:()=>t("/survey"),className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105 flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Survey"]})]})]})}),x.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[x.jsx($m,{title:"Total Surveys",value:i.total,icon:"",color:"blue"}),x.jsx($m,{title:"Today",value:i.today,icon:"",color:"green"}),x.jsx($m,{title:"This Week",value:i.thisWeek,icon:"",color:"purple"}),x.jsx($m,{title:"This Month",value:i.thisMonth,icon:"",color:"orange"})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[x.jsx("div",{className:"p-6 border-b border-gray-200",children:x.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Surveys"})}),n?x.jsxs("div",{className:"p-8 text-center text-gray-500",children:[x.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),x.jsx("p",{className:"mt-2",children:"Loading..."})]}):r.length===0?x.jsx("div",{className:"p-8 text-center text-gray-500",children:x.jsx("p",{children:'No surveys found. Click "New Survey" to create one.'})}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Building ID"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Owner"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200",children:r.slice(0,20).map(p=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:p.building_id||"N/A"}),x.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:p.owner_name||"N/A"}),x.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(p.created_at).toLocaleDateString()}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${p.status==="submitted"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.status||"draft"})}),x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>qE(p),className:"text-blue-600 hover:text-blue-800",title:"Download PDF",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),x.jsx("button",{onClick:()=>l(p.id),className:"text-red-600 hover:text-red-800",title:"Delete",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},p.id))})]})})]})]})},$m=({title:t,value:e,icon:r,color:i})=>{const n={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600"};return x.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-600 text-sm",children:t}),x.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e})]}),x.jsx("div",{className:`bg-gradient-to-br ${n[i]} w-12 h-12 rounded-lg flex items-center justify-center text-2xl`,children:r})]})})};function L8(t,e){const r=ve.useRef(e);ve.useEffect(function(){e!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),e!=null&&t.attributionControl.addAttribution(e)),r.current=e},[t,e])}function xz(t,e,r){e.center!==r.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==r.radius&&t.setRadius(e.radius)}const wz=1;function bz(t){return Object.freeze({__version:wz,map:t})}function dg(t,e){return Object.freeze({...t,...e})}const dy=ve.createContext(null);function Ep(){const t=ve.use(dy);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function N8(t){function e(r,i){const{instance:n,context:a}=t(r).current;ve.useImperativeHandle(i,()=>n);const{children:s}=r;return s==null?null:yl.createElement(dy,{value:a},s)}return ve.forwardRef(e)}function Sz(t){function e(r,i){const[n,a]=ve.useState(!1),{instance:s}=t(r,a).current;ve.useImperativeHandle(i,()=>s),ve.useEffect(function(){n&&s.update()},[s,n,r.children]);const l=s._contentNode;return l?MS.createPortal(r.children,l):null}return ve.forwardRef(e)}function Ez(t){function e(r,i){const{instance:n}=t(r).current;return ve.useImperativeHandle(i,()=>n),null}return ve.forwardRef(e)}function py(t,e){const r=ve.useRef(void 0);ve.useEffect(function(){return e!=null&&t.instance.on(e),r.current=e,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,e])}function Tp(t,e){const r=t.pane??e.pane;return r?{...t,pane:r}:t}function Tz(t,e){return function(i,n){const a=Ep(),s=t(Tp(i,a),a);return L8(a.map,i.attribution),py(s.current,i.eventHandlers),e(s.current,a,i,n),s}}var _0={exports:{}};var Az=_0.exports,g3;function Lz(){return g3||(g3=1,(function(t,e){(function(r,i){i(e)})(Az,(function(r){var i="1.9.4";function n(h){var m,b,M,z;for(b=1,M=arguments.length;b<M;b++){z=arguments[b];for(m in z)h[m]=z[m]}return h}var a=Object.create||(function(){function h(){}return function(m){return h.prototype=m,new h}})();function s(h,m){var b=Array.prototype.slice;if(h.bind)return h.bind.apply(h,b.call(arguments,1));var M=b.call(arguments,2);return function(){return h.apply(m,M.length?M.concat(b.call(arguments)):arguments)}}var l=0;function c(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function f(h,m,b){var M,z,ae,Me;return Me=function(){M=!1,z&&(ae.apply(b,z),z=!1)},ae=function(){M?z=arguments:(h.apply(b,arguments),setTimeout(Me,m),M=!0)},ae}function p(h,m,b){var M=m[1],z=m[0],ae=M-z;return h===M&&b?h:((h-z)%ae+ae)%ae+z}function v(){return!1}function y(h,m){if(m===!1)return h;var b=Math.pow(10,m===void 0?6:m);return Math.round(h*b)/b}function _(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function T(h){return _(h).split(/\s+/)}function S(h,m){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?a(h.options):{});for(var b in m)h.options[b]=m[b];return h.options}function C(h,m,b){var M=[];for(var z in h)M.push(encodeURIComponent(b?z.toUpperCase():z)+"="+encodeURIComponent(h[z]));return(!m||m.indexOf("?")===-1?"?":"&")+M.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function I(h,m){return h.replace(O,function(b,M){var z=m[M];if(z===void 0)throw new Error("No value provided for variable "+b);return typeof z=="function"&&(z=z(m)),z})}var D=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function q(h,m){for(var b=0;b<h.length;b++)if(h[b]===m)return b;return-1}var te="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ce(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var F=0;function K(h){var m=+new Date,b=Math.max(0,16-(m-F));return F=m+b,window.setTimeout(h,b)}var B=window.requestAnimationFrame||ce("RequestAnimationFrame")||K,X=window.cancelAnimationFrame||ce("CancelAnimationFrame")||ce("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function j(h,m,b){if(b&&B===K)h.call(m);else return B.call(window,s(h,m))}function W(h){h&&X.call(window,h)}var ue={__proto__:null,extend:n,create:a,bind:s,get lastId(){return l},stamp:c,throttle:f,wrapNum:p,falseFn:v,formatNum:y,trim:_,splitWords:T,setOptions:S,getParamString:C,template:I,isArray:D,indexOf:q,emptyImageUrl:te,requestFn:B,cancelFn:X,requestAnimFrame:j,cancelAnimFrame:W};function de(){}de.extend=function(h){var m=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=m.__super__=this.prototype,M=a(b);M.constructor=m,m.prototype=M;for(var z in this)Object.prototype.hasOwnProperty.call(this,z)&&z!=="prototype"&&z!=="__super__"&&(m[z]=this[z]);return h.statics&&n(m,h.statics),h.includes&&(xe(h.includes),n.apply(null,[M].concat(h.includes))),n(M,h),delete M.statics,delete M.includes,M.options&&(M.options=b.options?a(b.options):{},n(M.options,h.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var ae=0,Me=M._initHooks.length;ae<Me;ae++)M._initHooks[ae].call(this)}},m},de.include=function(h){var m=this.prototype.options;return n(this.prototype,h),h.options&&(this.prototype.options=m,this.mergeOptions(h.options)),this},de.mergeOptions=function(h){return n(this.prototype.options,h),this},de.addInitHook=function(h){var m=Array.prototype.slice.call(arguments,1),b=typeof h=="function"?h:function(){this[h].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function xe(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=D(h)?h:[h];for(var m=0;m<h.length;m++)h[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(h,m,b){if(typeof h=="object")for(var M in h)this._on(M,h[M],m);else{h=T(h);for(var z=0,ae=h.length;z<ae;z++)this._on(h[z],m,b)}return this},off:function(h,m,b){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var M in h)this._off(M,h[M],m);else{h=T(h);for(var z=arguments.length===1,ae=0,Me=h.length;ae<Me;ae++)z?this._off(h[ae]):this._off(h[ae],m,b)}return this},_on:function(h,m,b,M){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(h,m,b)===!1){b===this&&(b=void 0);var z={fn:m,ctx:b};M&&(z.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(z)}},_off:function(h,m,b){var M,z,ae;if(this._events&&(M=this._events[h],!!M)){if(arguments.length===1){if(this._firingCount)for(z=0,ae=M.length;z<ae;z++)M[z].fn=v;delete this._events[h];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var Me=this._listens(h,m,b);if(Me!==!1){var We=M[Me];this._firingCount&&(We.fn=v,this._events[h]=M=M.slice()),M.splice(Me,1)}}},fire:function(h,m,b){if(!this.listens(h,b))return this;var M=n({},m,{type:h,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var z=this._events[h];if(z){this._firingCount=this._firingCount+1||1;for(var ae=0,Me=z.length;ae<Me;ae++){var We=z[ae],tt=We.fn;We.once&&this.off(h,tt,We.ctx),tt.call(We.ctx||this,M)}this._firingCount--}}return b&&this._propagateEvent(M),this},listens:function(h,m,b,M){typeof h!="string"&&console.warn('"string" type argument expected');var z=m;typeof m!="function"&&(M=!!m,z=void 0,b=void 0);var ae=this._events&&this._events[h];if(ae&&ae.length&&this._listens(h,z,b)!==!1)return!0;if(M){for(var Me in this._eventParents)if(this._eventParents[Me].listens(h,m,b,M))return!0}return!1},_listens:function(h,m,b){if(!this._events)return!1;var M=this._events[h]||[];if(!m)return!!M.length;b===this&&(b=void 0);for(var z=0,ae=M.length;z<ae;z++)if(M[z].fn===m&&M[z].ctx===b)return z;return!1},once:function(h,m,b){if(typeof h=="object")for(var M in h)this._on(M,h[M],m,!0);else{h=T(h);for(var z=0,ae=h.length;z<ae;z++)this._on(h[z],m,b,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[c(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[c(h)],this},_propagateEvent:function(h){for(var m in this._eventParents)this._eventParents[m].fire(h.type,n({layer:h.target,propagatedFrom:h.target},h),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var be=de.extend(oe);function _e(h,m,b){this.x=b?Math.round(h):h,this.y=b?Math.round(m):m}var Le=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};_e.prototype={clone:function(){return new _e(this.x,this.y)},add:function(h){return this.clone()._add(Ne(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(Ne(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new _e(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new _e(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Le(this.x),this.y=Le(this.y),this},distanceTo:function(h){h=Ne(h);var m=h.x-this.x,b=h.y-this.y;return Math.sqrt(m*m+b*b)},equals:function(h){return h=Ne(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=Ne(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function Ne(h,m,b){return h instanceof _e?h:D(h)?new _e(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new _e(h.x,h.y):new _e(h,m,b)}function Q(h,m){if(h)for(var b=m?[h,m]:h,M=0,z=b.length;M<z;M++)this.extend(b[M])}Q.prototype={extend:function(h){var m,b;if(!h)return this;if(h instanceof _e||typeof h[0]=="number"||"x"in h)m=b=Ne(h);else if(h=P(h),m=h.min,b=h.max,!m||!b)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=b.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(h){return Ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return Ne(this.min.x,this.max.y)},getTopRight:function(){return Ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var m,b;return typeof h[0]=="number"||h instanceof _e?h=Ne(h):h=P(h),h instanceof Q?(m=h.min,b=h.max):m=b=h,m.x>=this.min.x&&b.x<=this.max.x&&m.y>=this.min.y&&b.y<=this.max.y},intersects:function(h){h=P(h);var m=this.min,b=this.max,M=h.min,z=h.max,ae=z.x>=m.x&&M.x<=b.x,Me=z.y>=m.y&&M.y<=b.y;return ae&&Me},overlaps:function(h){h=P(h);var m=this.min,b=this.max,M=h.min,z=h.max,ae=z.x>m.x&&M.x<b.x,Me=z.y>m.y&&M.y<b.y;return ae&&Me},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var m=this.min,b=this.max,M=Math.abs(m.x-b.x)*h,z=Math.abs(m.y-b.y)*h;return P(Ne(m.x-M,m.y-z),Ne(b.x+M,b.y+z))},equals:function(h){return h?(h=P(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function P(h,m){return!h||h instanceof Q?h:new Q(h,m)}function G(h,m){if(h)for(var b=m?[h,m]:h,M=0,z=b.length;M<z;M++)this.extend(b[M])}G.prototype={extend:function(h){var m=this._southWest,b=this._northEast,M,z;if(h instanceof Z)M=h,z=h;else if(h instanceof G){if(M=h._southWest,z=h._northEast,!M||!z)return this}else return h?this.extend(se(h)||H(h)):this;return!m&&!b?(this._southWest=new Z(M.lat,M.lng),this._northEast=new Z(z.lat,z.lng)):(m.lat=Math.min(M.lat,m.lat),m.lng=Math.min(M.lng,m.lng),b.lat=Math.max(z.lat,b.lat),b.lng=Math.max(z.lng,b.lng)),this},pad:function(h){var m=this._southWest,b=this._northEast,M=Math.abs(m.lat-b.lat)*h,z=Math.abs(m.lng-b.lng)*h;return new G(new Z(m.lat-M,m.lng-z),new Z(b.lat+M,b.lng+z))},getCenter:function(){return new Z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Z(this.getNorth(),this.getWest())},getSouthEast:function(){return new Z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof Z||"lat"in h?h=se(h):h=H(h);var m=this._southWest,b=this._northEast,M,z;return h instanceof G?(M=h.getSouthWest(),z=h.getNorthEast()):M=z=h,M.lat>=m.lat&&z.lat<=b.lat&&M.lng>=m.lng&&z.lng<=b.lng},intersects:function(h){h=H(h);var m=this._southWest,b=this._northEast,M=h.getSouthWest(),z=h.getNorthEast(),ae=z.lat>=m.lat&&M.lat<=b.lat,Me=z.lng>=m.lng&&M.lng<=b.lng;return ae&&Me},overlaps:function(h){h=H(h);var m=this._southWest,b=this._northEast,M=h.getSouthWest(),z=h.getNorthEast(),ae=z.lat>m.lat&&M.lat<b.lat,Me=z.lng>m.lng&&M.lng<b.lng;return ae&&Me},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,m){return h?(h=H(h),this._southWest.equals(h.getSouthWest(),m)&&this._northEast.equals(h.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function H(h,m){return h instanceof G?h:new G(h,m)}function Z(h,m,b){if(isNaN(h)||isNaN(m))throw new Error("Invalid LatLng object: ("+h+", "+m+")");this.lat=+h,this.lng=+m,b!==void 0&&(this.alt=+b)}Z.prototype={equals:function(h,m){if(!h)return!1;h=se(h);var b=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return b<=(m===void 0?1e-9:m)},toString:function(h){return"LatLng("+y(this.lat,h)+", "+y(this.lng,h)+")"},distanceTo:function(h){return Oe.distance(this,se(h))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(h){var m=180*h/40075017,b=m/Math.cos(Math.PI/180*this.lat);return H([this.lat-m,this.lng-b],[this.lat+m,this.lng+b])},clone:function(){return new Z(this.lat,this.lng,this.alt)}};function se(h,m,b){return h instanceof Z?h:D(h)&&typeof h[0]!="object"?h.length===3?new Z(h[0],h[1],h[2]):h.length===2?new Z(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new Z(h.lat,"lng"in h?h.lng:h.lon,h.alt):m===void 0?null:new Z(h,m,b)}var Ae={latLngToPoint:function(h,m){var b=this.projection.project(h),M=this.scale(m);return this.transformation._transform(b,M)},pointToLatLng:function(h,m){var b=this.scale(m),M=this.transformation.untransform(h,b);return this.projection.unproject(M)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var m=this.projection.bounds,b=this.scale(h),M=this.transformation.transform(m.min,b),z=this.transformation.transform(m.max,b);return new Q(M,z)},infinite:!1,wrapLatLng:function(h){var m=this.wrapLng?p(h.lng,this.wrapLng,!0):h.lng,b=this.wrapLat?p(h.lat,this.wrapLat,!0):h.lat,M=h.alt;return new Z(b,m,M)},wrapLatLngBounds:function(h){var m=h.getCenter(),b=this.wrapLatLng(m),M=m.lat-b.lat,z=m.lng-b.lng;if(M===0&&z===0)return h;var ae=h.getSouthWest(),Me=h.getNorthEast(),We=new Z(ae.lat-M,ae.lng-z),tt=new Z(Me.lat-M,Me.lng-z);return new G(We,tt)}},Oe=n({},Ae,{wrapLng:[-180,180],R:6371e3,distance:function(h,m){var b=Math.PI/180,M=h.lat*b,z=m.lat*b,ae=Math.sin((m.lat-h.lat)*b/2),Me=Math.sin((m.lng-h.lng)*b/2),We=ae*ae+Math.cos(M)*Math.cos(z)*Me*Me,tt=2*Math.atan2(Math.sqrt(We),Math.sqrt(1-We));return this.R*tt}}),Re=6378137,Ie={R:Re,MAX_LATITUDE:85.0511287798,project:function(h){var m=Math.PI/180,b=this.MAX_LATITUDE,M=Math.max(Math.min(b,h.lat),-b),z=Math.sin(M*m);return new _e(this.R*h.lng*m,this.R*Math.log((1+z)/(1-z))/2)},unproject:function(h){var m=180/Math.PI;return new Z((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*m,h.x*m/this.R)},bounds:(function(){var h=Re*Math.PI;return new Q([-h,-h],[h,h])})()};function ot(h,m,b,M){if(D(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=m,this._c=b,this._d=M}ot.prototype={transform:function(h,m){return this._transform(h.clone(),m)},_transform:function(h,m){return m=m||1,h.x=m*(this._a*h.x+this._b),h.y=m*(this._c*h.y+this._d),h},untransform:function(h,m){return m=m||1,new _e((h.x/m-this._b)/this._a,(h.y/m-this._d)/this._c)}};function it(h,m,b,M){return new ot(h,m,b,M)}var Tt=n({},Oe,{code:"EPSG:3857",projection:Ie,transformation:(function(){var h=.5/(Math.PI*Ie.R);return it(h,.5,-h,.5)})()}),Nt=n({},Tt,{code:"EPSG:900913"});function we(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function yt(h,m){var b="",M,z,ae,Me,We,tt;for(M=0,ae=h.length;M<ae;M++){for(We=h[M],z=0,Me=We.length;z<Me;z++)tt=We[z],b+=(z?"L":"M")+tt.x+" "+tt.y;b+=m?Ye.svg?"z":"x":""}return b||"M0 0"}var xt=document.documentElement.style,zt="ActiveXObject"in window,dt=zt&&!document.addEventListener,Vt="msLaunchUri"in navigator&&!("documentMode"in document),jt=qe("webkit"),sr=qe("android"),Xt=qe("android 2")||qe("android 3"),Jt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Er=sr&&qe("Google")&&Jt<537&&!("AudioNode"in window),dr=!!window.opera,Nr=!Vt&&qe("chrome"),or=qe("gecko")&&!jt&&!dr&&!zt,Ft=!Nr&&qe("safari"),_r=qe("phantom"),Wt="OTransition"in xt,xn=navigator.platform.indexOf("Win")===0,Mr=zt&&"transition"in xt,Gt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Xt,pr="MozPerspective"in xt,Dr=!window.L_DISABLE_3D&&(Mr||Gt||pr)&&!Wt&&!_r,Yt=typeof orientation<"u"||qe("mobile"),ln=Yt&&jt,ur=Yt&&Gt,cr=!window.PointerEvent&&window.MSPointerEvent,en=!!(window.PointerEvent||cr),xr="ontouchstart"in window||!!window.TouchEvent,Zt=!window.L_NO_TOUCH&&(xr||en),Gr=Yt&&dr,Sa=Yt&&or,li=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ji=(function(){var h=!1;try{var m=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",v,m),window.removeEventListener("testPassiveEventSupport",v,m)}catch{}return h})(),Ni=(function(){return!!document.createElement("canvas").getContext})(),Qt=!!(document.createElementNS&&we("svg").createSVGRect),Xa=!!Qt&&(function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ba=!Qt&&(function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var m=h.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}})(),Ce=navigator.platform.indexOf("Mac")===0,Ge=navigator.platform.indexOf("Linux")===0;function qe(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var Ye={ie:zt,ielt9:dt,edge:Vt,webkit:jt,android:sr,android23:Xt,androidStock:Er,opera:dr,chrome:Nr,gecko:or,safari:Ft,phantom:_r,opera12:Wt,win:xn,ie3d:Mr,webkit3d:Gt,gecko3d:pr,any3d:Dr,mobile:Yt,mobileWebkit:ln,mobileWebkit3d:ur,msPointer:cr,pointer:en,touch:Zt,touchNative:xr,mobileOpera:Gr,mobileGecko:Sa,retina:li,passiveEvents:Ji,canvas:Ni,svg:Qt,vml:Ba,inlineSvg:Xa,mac:Ce,linux:Ge},Y=Ye.msPointer?"MSPointerDown":"pointerdown",pe=Ye.msPointer?"MSPointerMove":"pointermove",re=Ye.msPointer?"MSPointerUp":"pointerup",ne=Ye.msPointer?"MSPointerCancel":"pointercancel",he={touchstart:Y,touchmove:pe,touchend:re,touchcancel:ne},ge={touchstart:Mt,touchmove:gt,touchend:gt,touchcancel:gt},Pe={},ze=!1;function Be(h,m,b){return m==="touchstart"&&wt(),ge[m]?(b=ge[m].bind(this,b),h.addEventListener(he[m],b,!1),b):(console.warn("wrong event specified:",m),v)}function Ue(h,m,b){if(!he[m]){console.warn("wrong event specified:",m);return}h.removeEventListener(he[m],b,!1)}function $e(h){Pe[h.pointerId]=h}function ht(h){Pe[h.pointerId]&&(Pe[h.pointerId]=h)}function bt(h){delete Pe[h.pointerId]}function wt(){ze||(document.addEventListener(Y,$e,!0),document.addEventListener(pe,ht,!0),document.addEventListener(re,bt,!0),document.addEventListener(ne,bt,!0),ze=!0)}function gt(h,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var b in Pe)m.touches.push(Pe[b]);m.changedTouches=[m],h(m)}}function Mt(h,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Mn(m),gt(h,m)}function Bt(h){var m={},b,M;for(M in h)b=h[M],m[M]=b&&b.bind?b.bind(h):b;return h=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Hr=200;function wr(h,m){h.addEventListener("dblclick",m);var b=0,M;function z(ae){if(ae.detail!==1){M=ae.detail;return}if(!(ae.pointerType==="mouse"||ae.sourceCapabilities&&!ae.sourceCapabilities.firesTouchEvents)){var Me=es(ae);if(!(Me.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!Me.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var We=Date.now();We-b<=Hr?(M++,M===2&&m(Bt(ae))):M=1,b=We}}}return h.addEventListener("click",z),{dblclick:m,simDblclick:z}}function nn(h,m){h.removeEventListener("dblclick",m.dblclick),h.removeEventListener("click",m.simDblclick)}var Kn=Tl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xn=Tl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qi=Xn==="webkitTransition"||Xn==="OTransition"?Xn+"End":"transitionend";function Ci(h){return typeof h=="string"?document.getElementById(h):h}function Ar(h,m){var b=h.style[m]||h.currentStyle&&h.currentStyle[m];if((!b||b==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(h,null);b=M?M[m]:null}return b==="auto"?null:b}function Ut(h,m,b){var M=document.createElement(h);return M.className=m||"",b&&b.appendChild(M),M}function qr(h){var m=h.parentNode;m&&m.removeChild(h)}function ri(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function ar(h){var m=h.parentNode;m&&m.lastChild!==h&&m.appendChild(h)}function Ea(h){var m=h.parentNode;m&&m.firstChild!==h&&m.insertBefore(h,m.firstChild)}function Ta(h,m){if(h.classList!==void 0)return h.classList.contains(m);var b=ni(h);return b.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(b)}function yr(h,m){if(h.classList!==void 0)for(var b=T(m),M=0,z=b.length;M<z;M++)h.classList.add(b[M]);else if(!Ta(h,m)){var ae=ni(h);ea(h,(ae?ae+" ":"")+m)}}function Dn(h,m){h.classList!==void 0?h.classList.remove(m):ea(h,_((" "+ni(h)+" ").replace(" "+m+" "," ")))}function ea(h,m){h.className.baseVal===void 0?h.className=m:h.className.baseVal=m}function ni(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function un(h,m){"opacity"in h.style?h.style.opacity=m:"filter"in h.style&&tu(h,m)}function tu(h,m){var b=!1,M="DXImageTransform.Microsoft.Alpha";try{b=h.filters.item(M)}catch{if(m===1)return}m=Math.round(m*100),b?(b.Enabled=m!==100,b.Opacity=m):h.style.filter+=" progid:"+M+"(opacity="+m+")"}function Tl(h){for(var m=document.documentElement.style,b=0;b<h.length;b++)if(h[b]in m)return h[b];return!1}function zs(h,m,b){var M=m||new _e(0,0);h.style[Kn]=(Ye.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(b?" scale("+b+")":"")}function Kr(h,m){h._leaflet_pos=m,Ye.any3d?zs(h,m):(h.style.left=m.x+"px",h.style.top=m.y+"px")}function Gs(h){return h._leaflet_pos||new _e(0,0)}var Co,Aa,Mo;if("onselectstart"in document)Co=function(){Ct(window,"selectstart",Mn)},Aa=function(){fn(window,"selectstart",Mn)};else{var rl=Tl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Co=function(){if(rl){var h=document.documentElement.style;Mo=h[rl],h[rl]="none"}},Aa=function(){rl&&(document.documentElement.style[rl]=Mo,Mo=void 0)}}function ru(){Ct(window,"dragstart",Mn)}function Al(){fn(window,"dragstart",Mn)}var nl,nu;function fa(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(Ua(),nl=h,nu=h.style.outlineStyle,h.style.outlineStyle="none",Ct(window,"keydown",Ua))}function Ua(){nl&&(nl.style.outlineStyle=nu,nl=void 0,nu=void 0,fn(window,"keydown",Ua))}function to(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function ko(h){var m=h.getBoundingClientRect();return{x:m.width/h.offsetWidth||1,y:m.height/h.offsetHeight||1,boundingClientRect:m}}var il={__proto__:null,TRANSFORM:Kn,TRANSITION:Xn,TRANSITION_END:Qi,get:Ci,getStyle:Ar,create:Ut,remove:qr,empty:ri,toFront:ar,toBack:Ea,hasClass:Ta,addClass:yr,removeClass:Dn,setClass:ea,getClass:ni,setOpacity:un,testProp:Tl,setTransform:zs,setPosition:Kr,getPosition:Gs,get disableTextSelection(){return Co},get enableTextSelection(){return Aa},disableImageDrag:ru,enableImageDrag:Al,preventOutline:fa,restoreOutline:Ua,getSizedParentNode:to,getScale:ko};function Ct(h,m,b,M){if(m&&typeof m=="object")for(var z in m)Mi(h,z,m[z],b);else{m=T(m);for(var ae=0,Me=m.length;ae<Me;ae++)Mi(h,m[ae],b,M)}return this}var Ja="_leaflet_events";function fn(h,m,b,M){if(arguments.length===1)ju(h),delete h[Ja];else if(m&&typeof m=="object")for(var z in m)Ll(h,z,m[z],b);else if(m=T(m),arguments.length===2)ju(h,function(We){return q(m,We)!==-1});else for(var ae=0,Me=m.length;ae<Me;ae++)Ll(h,m[ae],b,M);return this}function ju(h,m){for(var b in h[Ja]){var M=b.split(/\d/)[0];(!m||m(M))&&Ll(h,M,null,null,b)}}var La={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mi(h,m,b,M){var z=m+c(b)+(M?"_"+c(M):"");if(h[Ja]&&h[Ja][z])return this;var ae=function(We){return b.call(M||h,We||window.event)},Me=ae;!Ye.touchNative&&Ye.pointer&&m.indexOf("touch")===0?ae=Be(h,m,ae):Ye.touch&&m==="dblclick"?ae=wr(h,ae):"addEventListener"in h?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?h.addEventListener(La[m]||m,ae,Ye.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(ae=function(We){We=We||window.event,ws(h,We)&&Me(We)},h.addEventListener(La[m],ae,!1)):h.addEventListener(m,Me,!1):h.attachEvent("on"+m,ae),h[Ja]=h[Ja]||{},h[Ja][z]=ae}function Ll(h,m,b,M,z){z=z||m+c(b)+(M?"_"+c(M):"");var ae=h[Ja]&&h[Ja][z];if(!ae)return this;!Ye.touchNative&&Ye.pointer&&m.indexOf("touch")===0?Ue(h,m,ae):Ye.touch&&m==="dblclick"?nn(h,ae):"removeEventListener"in h?h.removeEventListener(La[m]||m,ae,!1):h.detachEvent("on"+m,ae),h[Ja][z]=null}function Qa(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function Na(h){return Mi(h,"wheel",Qa),this}function Hs(h){return Ct(h,"mousedown touchstart dblclick contextmenu",Qa),h._leaflet_disable_click=!0,this}function Mn(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function ro(h){return Mn(h),Qa(h),this}function es(h){if(h.composedPath)return h.composedPath();for(var m=[],b=h.target;b;)m.push(b),b=b.parentNode;return m}function Nl(h,m){if(!m)return new _e(h.clientX,h.clientY);var b=ko(m),M=b.boundingClientRect;return new _e((h.clientX-M.left)/b.x-m.clientLeft,(h.clientY-M.top)/b.y-m.clientTop)}var iu=Ye.linux&&Ye.chrome?window.devicePixelRatio:Ye.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ki(h){return Ye.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/iu:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function ws(h,m){var b=m.relatedTarget;if(!b)return!0;try{for(;b&&b!==h;)b=b.parentNode}catch{return!1}return b!==h}var bs={__proto__:null,on:Ct,off:fn,stopPropagation:Qa,disableScrollPropagation:Na,disableClickPropagation:Hs,preventDefault:Mn,stop:ro,getPropagationPath:es,getMousePosition:Nl,getWheelDelta:ki,isExternalTarget:ws,addListener:Ct,removeListener:fn},no=be.extend({run:function(h,m,b,M){this.stop(),this._el=h,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=Gs(h),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(h){var m=+new Date-this._startTime,b=this._duration*1e3;m<b?this._runFrame(this._easeOut(m/b),h):(this._runFrame(1),this._complete())},_runFrame:function(h,m){var b=this._startPos.add(this._offset.multiplyBy(h));m&&b._round(),Kr(this._el,b),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Br=be.extend({options:{crs:Tt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,m){m=S(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(se(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xn&&Ye.any3d&&!Ye.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ct(this._proxy,Qi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,m,b){if(m=m===void 0?this._zoom:this._limitZoom(m),h=this._limitCenter(se(h),m,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=n({animate:b.animate},b.zoom),b.pan=n({animate:b.animate,duration:b.duration},b.pan));var M=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,m,b.zoom):this._tryAnimatedPan(h,b.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(h,m,b.pan&&b.pan.noMoveStart),this},setZoom:function(h,m){return this._loaded?this.setView(this.getCenter(),h,{zoom:m}):(this._zoom=h,this)},zoomIn:function(h,m){return h=h||(Ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,m)},zoomOut:function(h,m){return h=h||(Ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,m)},setZoomAround:function(h,m,b){var M=this.getZoomScale(m),z=this.getSize().divideBy(2),ae=h instanceof _e?h:this.latLngToContainerPoint(h),Me=ae.subtract(z).multiplyBy(1-1/M),We=this.containerPointToLatLng(z.add(Me));return this.setView(We,m,{zoom:b})},_getBoundsCenterZoom:function(h,m){m=m||{},h=h.getBounds?h.getBounds():H(h);var b=Ne(m.paddingTopLeft||m.padding||[0,0]),M=Ne(m.paddingBottomRight||m.padding||[0,0]),z=this.getBoundsZoom(h,!1,b.add(M));if(z=typeof m.maxZoom=="number"?Math.min(m.maxZoom,z):z,z===1/0)return{center:h.getCenter(),zoom:z};var ae=M.subtract(b).divideBy(2),Me=this.project(h.getSouthWest(),z),We=this.project(h.getNorthEast(),z),tt=this.unproject(Me.add(We).divideBy(2).add(ae),z);return{center:tt,zoom:z}},fitBounds:function(h,m){if(h=H(h),!h.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(h,m);return this.setView(b.center,b.zoom,m)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,m){return this.setView(h,this._zoom,{pan:m})},panBy:function(h,m){if(h=Ne(h).round(),m=m||{},!h.x&&!h.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new no,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){yr(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,b,m.duration||.25,m.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,m,b){if(b=b||{},b.animate===!1||!Ye.any3d)return this.setView(h,m,b);this._stop();var M=this.project(this.getCenter()),z=this.project(h),ae=this.getSize(),Me=this._zoom;h=se(h),m=m===void 0?Me:m;var We=Math.max(ae.x,ae.y),tt=We*this.getZoomScale(Me,m),pt=z.distanceTo(M)||1,kt=1.42,tr=kt*kt;function Ur(bn){var bi=bn?-1:1,Rl=bn?tt:We,hh=tt*tt-We*We+bi*tr*tr*pt*pt,du=2*Rl*tr*pt,pu=hh/du,Go=Math.sqrt(pu*pu+1)-pu,fo=Go<1e-9?-18:Math.log(Go);return fo}function aa(bn){return(Math.exp(bn)-Math.exp(-bn))/2}function fi(bn){return(Math.exp(bn)+Math.exp(-bn))/2}function ls(bn){return aa(bn)/fi(bn)}var dn=Ur(0);function pn(bn){return We*(fi(dn)/fi(dn+kt*bn))}function Zr(bn){return We*(fi(dn)*ls(dn+kt*bn)-aa(dn))/tr}function Oa(bn){return 1-Math.pow(1-bn,1.5)}var si=Date.now(),Cs=(Ur(1)-dn)/kt,cl=b.duration?1e3*b.duration:1e3*Cs*.8;function wc(){var bn=(Date.now()-si)/cl,bi=Oa(bn)*Cs;bn<=1?(this._flyToFrame=j(wc,this),this._move(this.unproject(M.add(z.subtract(M).multiplyBy(Zr(bi)/pt)),Me),this.getScaleZoom(We/pn(bi),Me),{flyTo:!0})):this._move(h,m)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),wc.call(this),this},flyToBounds:function(h,m){var b=this._getBoundsCenterZoom(h,m);return this.flyTo(b.center,b.zoom,m)},setMaxBounds:function(h){return h=H(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var m=this.options.minZoom;return this.options.minZoom=h,this._loaded&&m!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var m=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&m!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,m){this._enforcingBounds=!0;var b=this.getCenter(),M=this._limitCenter(b,this._zoom,H(h));return b.equals(M)||this.panTo(M,m),this._enforcingBounds=!1,this},panInside:function(h,m){m=m||{};var b=Ne(m.paddingTopLeft||m.padding||[0,0]),M=Ne(m.paddingBottomRight||m.padding||[0,0]),z=this.project(this.getCenter()),ae=this.project(h),Me=this.getPixelBounds(),We=P([Me.min.add(b),Me.max.subtract(M)]),tt=We.getSize();if(!We.contains(ae)){this._enforcingBounds=!0;var pt=ae.subtract(We.getCenter()),kt=We.extend(ae).getSize().subtract(tt);z.x+=pt.x<0?-kt.x:kt.x,z.y+=pt.y<0?-kt.y:kt.y,this.panTo(this.unproject(z),m),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=n({animate:!1,pan:!0},h===!0?{animate:!0}:h);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),M=m.divideBy(2).round(),z=b.divideBy(2).round(),ae=M.subtract(z);return!ae.x&&!ae.y?this:(h.animate&&h.pan?this.panBy(ae):(h.pan&&this._rawPanBy(ae),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=n({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=s(this._handleGeolocationResponse,this),b=s(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,b,h):navigator.geolocation.getCurrentPosition(m,b,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var m=h.code,b=h.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var m=h.coords.latitude,b=h.coords.longitude,M=new Z(m,b),z=M.toBounds(h.coords.accuracy*2),ae=this._locateOptions;if(ae.setView){var Me=this.getBoundsZoom(z);this.setView(M,ae.maxZoom?Math.min(Me,ae.maxZoom):Me)}var We={latlng:M,bounds:z,timestamp:h.timestamp};for(var tt in h.coords)typeof h.coords[tt]=="number"&&(We[tt]=h.coords[tt]);this.fire("locationfound",We)}},addHandler:function(h,m){if(!m)return this;var b=this[h]=new m(this);return this._handlers.push(b),this.options[h]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)qr(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,m){var b="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),M=Ut("div",b,m||this._mapPane);return h&&(this._panes[h]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),m=this.unproject(h.getBottomLeft()),b=this.unproject(h.getTopRight());return new G(m,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,m,b){h=H(h),b=Ne(b||[0,0]);var M=this.getZoom()||0,z=this.getMinZoom(),ae=this.getMaxZoom(),Me=h.getNorthWest(),We=h.getSouthEast(),tt=this.getSize().subtract(b),pt=P(this.project(We,M),this.project(Me,M)).getSize(),kt=Ye.any3d?this.options.zoomSnap:1,tr=tt.x/pt.x,Ur=tt.y/pt.y,aa=m?Math.max(tr,Ur):Math.min(tr,Ur);return M=this.getScaleZoom(aa,M),kt&&(M=Math.round(M/(kt/100))*(kt/100),M=m?Math.ceil(M/kt)*kt:Math.floor(M/kt)*kt),Math.max(z,Math.min(ae,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new _e(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,m){var b=this._getTopLeftPoint(h,m);return new Q(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,m){var b=this.options.crs;return m=m===void 0?this._zoom:m,b.scale(h)/b.scale(m)},getScaleZoom:function(h,m){var b=this.options.crs;m=m===void 0?this._zoom:m;var M=b.zoom(h*b.scale(m));return isNaN(M)?1/0:M},project:function(h,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(se(h),m)},unproject:function(h,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(Ne(h),m)},layerPointToLatLng:function(h){var m=Ne(h).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(h){var m=this.project(se(h))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(se(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(H(h))},distance:function(h,m){return this.options.crs.distance(se(h),se(m))},containerPointToLayerPoint:function(h){return Ne(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return Ne(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var m=this.containerPointToLayerPoint(Ne(h));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(h)))},mouseEventToContainerPoint:function(h){return Nl(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var m=this._container=Ci(h);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ct(m,"scroll",this._onScroll,this),this._containerId=c(m)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ye.any3d,yr(h,"leaflet-container"+(Ye.touch?" leaflet-touch":"")+(Ye.retina?" leaflet-retina":"")+(Ye.ielt9?" leaflet-oldie":"")+(Ye.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=Ar(h,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Kr(this._mapPane,new _e(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yr(h.markerPane,"leaflet-zoom-hide"),yr(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,m,b){Kr(this._mapPane,new _e(0,0));var M=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var z=this._zoom!==m;this._moveStart(z,b)._move(h,m)._moveEnd(z),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(h,m){return h&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(h,m,b,M){m===void 0&&(m=this._zoom);var z=this._zoom!==m;return this._zoom=m,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),M?b&&b.pinch&&this.fire("zoom",b):((z||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){Kr(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[c(this._container)]=this;var m=h?fn:Ct;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),Ye.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,m){for(var b=[],M,z=m==="mouseout"||m==="mouseover",ae=h.target||h.srcElement,Me=!1;ae;){if(M=this._targets[c(ae)],M&&(m==="click"||m==="preclick")&&this._draggableMoved(M)){Me=!0;break}if(M&&M.listens(m,!0)&&(z&&!ws(ae,h)||(b.push(M),z))||ae===this._container)break;ae=ae.parentNode}return!b.length&&!Me&&!z&&this.listens(m,!0)&&(b=[this]),b},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var m=h.target||h.srcElement;if(!(!this._loaded||m._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(m))){var b=h.type;b==="mousedown"&&fa(m),this._fireDOMEvent(h,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,m,b){if(h.type==="click"){var M=n({},h);M.type="preclick",this._fireDOMEvent(M,M.type,b)}var z=this._findEventTargets(h,m);if(b){for(var ae=[],Me=0;Me<b.length;Me++)b[Me].listens(m,!0)&&ae.push(b[Me]);z=ae.concat(z)}if(z.length){m==="contextmenu"&&Mn(h);var We=z[0],tt={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var pt=We.getLatLng&&(!We._radius||We._radius<=10);tt.containerPoint=pt?this.latLngToContainerPoint(We.getLatLng()):this.mouseEventToContainerPoint(h),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=pt?We.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(Me=0;Me<z.length;Me++)if(z[Me].fire(m,tt,!0),tt.originalEvent._stopped||z[Me].options.bubblingMouseEvents===!1&&q(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,m=this._handlers.length;h<m;h++)this._handlers[h].disable()},whenReady:function(h,m){return this._loaded?h.call(m||this,{target:this}):this.on("load",h,m),this},_getMapPanePos:function(){return Gs(this._mapPane)||new _e(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,m){var b=h&&m!==void 0?this._getNewPixelOrigin(h,m):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,m){var b=this.getSize()._divideBy(2);return this.project(h,m)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,m,b){var M=this._getNewPixelOrigin(b,m);return this.project(h,m)._subtract(M)},_latLngBoundsToNewLayerBounds:function(h,m,b){var M=this._getNewPixelOrigin(b,m);return P([this.project(h.getSouthWest(),m)._subtract(M),this.project(h.getNorthWest(),m)._subtract(M),this.project(h.getSouthEast(),m)._subtract(M),this.project(h.getNorthEast(),m)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,m,b){if(!b)return h;var M=this.project(h,m),z=this.getSize().divideBy(2),ae=new Q(M.subtract(z),M.add(z)),Me=this._getBoundsOffset(ae,b,m);return Math.abs(Me.x)<=1&&Math.abs(Me.y)<=1?h:this.unproject(M.add(Me),m)},_limitOffset:function(h,m){if(!m)return h;var b=this.getPixelBounds(),M=new Q(b.min.add(h),b.max.add(h));return h.add(this._getBoundsOffset(M,m))},_getBoundsOffset:function(h,m,b){var M=P(this.project(m.getNorthEast(),b),this.project(m.getSouthWest(),b)),z=M.min.subtract(h.min),ae=M.max.subtract(h.max),Me=this._rebound(z.x,-ae.x),We=this._rebound(z.y,-ae.y);return new _e(Me,We)},_rebound:function(h,m){return h+m>0?Math.round(h-m)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(m))},_limitZoom:function(h){var m=this.getMinZoom(),b=this.getMaxZoom(),M=Ye.any3d?this.options.zoomSnap:1;return M&&(h=Math.round(h/M)*M),Math.max(m,Math.min(b,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Dn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,m){var b=this._getCenterOffset(h)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,m),!0)},_createAnimProxy:function(){var h=this._proxy=Ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(m){var b=Kn,M=this._proxy.style[b];zs(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),M===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),m=this.getZoom();zs(this._proxy,this.project(h,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,m,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(m),z=this._getCenterOffset(h)._divideBy(1-1/M);return b.animate!==!0&&!this.getSize().contains(z)?!1:(j(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(h,m,!0)},this),!0)},_animateZoom:function(h,m,b,M){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=m,yr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:m,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Dn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Cl(h,m){return new Br(h,m)}var Pi=de.extend({options:{position:"topright"},initialize:function(h){S(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var m=this._map;return m&&m.removeControl(this),this.options.position=h,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var m=this._container=this.onAdd(h),b=this.getPosition(),M=h._controlCorners[b];return yr(m,"leaflet-control"),b.indexOf("bottom")!==-1?M.insertBefore(m,M.firstChild):M.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),ts=function(h){return new Pi(h)};Br.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},m="leaflet-",b=this._controlContainer=Ut("div",m+"control-container",this._container);function M(z,ae){var Me=m+z+" "+m+ae;h[z+ae]=Ut("div",Me,b)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)qr(this._controlCorners[h]);qr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var al=Pi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,m,b,M){return b<M?-1:M<b?1:0}},initialize:function(h,m,b){S(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in h)this._addLayer(h[M],M);for(M in m)this._addLayer(m[M],M,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Pi.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,m){return this._addLayer(h,m),this._map?this._update():this},addOverlay:function(h,m){return this._addLayer(h,m,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var m=this._getLayer(c(h));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){yr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(yr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Dn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Dn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",m=this._container=Ut("div",h),b=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Hs(m),Na(m);var M=this._section=Ut("section",h+"-list");b&&(this._map.on("click",this.collapse,this),Ct(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var z=this._layersLink=Ut("a",h+"-toggle",m);z.href="#",z.title="Layers",z.setAttribute("role","button"),Ct(z,{keydown:function(ae){ae.keyCode===13&&this._expandSafely()},click:function(ae){Mn(ae),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=Ut("div",h+"-base",M),this._separator=Ut("div",h+"-separator",M),this._overlaysList=Ut("div",h+"-overlays",M),m.appendChild(M)},_getLayer:function(h){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&c(this._layers[m].layer)===h)return this._layers[m]},_addLayer:function(h,m,b){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:m,overlay:b}),this.options.sortLayers&&this._layers.sort(s(function(M,z){return this.options.sortFunction(M.layer,z.layer,M.name,z.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ri(this._baseLayersList),ri(this._overlaysList),this._layerControlInputs=[];var h,m,b,M,z=0;for(b=0;b<this._layers.length;b++)M=this._layers[b],this._addItem(M),m=m||M.overlay,h=h||!M.overlay,z+=M.overlay?0:1;return this.options.hideSingleBase&&(h=h&&z>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=m&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var m=this._getLayer(c(h.target)),b=m.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;b&&this._map.fire(b,m)},_createRadioElement:function(h,m){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(m?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=b,M.firstChild},_addItem:function(h){var m=document.createElement("label"),b=this._map.hasLayer(h.layer),M;h.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=b):M=this._createRadioElement("leaflet-base-layers_"+c(this),b),this._layerControlInputs.push(M),M.layerId=c(h.layer),Ct(M,"click",this._onInputClick,this);var z=document.createElement("span");z.innerHTML=" "+h.name;var ae=document.createElement("span");m.appendChild(ae),ae.appendChild(M),ae.appendChild(z);var Me=h.overlay?this._overlaysList:this._baseLayersList;return Me.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,m,b,M=[],z=[];this._handlingClick=!0;for(var ae=h.length-1;ae>=0;ae--)m=h[ae],b=this._getLayer(m.layerId).layer,m.checked?M.push(b):m.checked||z.push(b);for(ae=0;ae<z.length;ae++)this._map.hasLayer(z[ae])&&this._map.removeLayer(z[ae]);for(ae=0;ae<M.length;ae++)this._map.hasLayer(M[ae])||this._map.addLayer(M[ae]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,m,b,M=this._map.getZoom(),z=h.length-1;z>=0;z--)m=h[z],b=this._getLayer(m.layerId).layer,m.disabled=b.options.minZoom!==void 0&&M<b.options.minZoom||b.options.maxZoom!==void 0&&M>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Ct(h,"click",Mn),this.expand();var m=this;setTimeout(function(){fn(h,"click",Mn),m._preventClick=!1})}}),Iu=function(h,m,b){return new al(h,m,b)},qs=Pi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var m="leaflet-control-zoom",b=Ut("div",m+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,m+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,m+"-out",b,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,m,b,M,z){var ae=Ut("a",b,M);return ae.innerHTML=h,ae.href="#",ae.title=m,ae.setAttribute("role","button"),ae.setAttribute("aria-label",m),Hs(ae),Ct(ae,"click",ro),Ct(ae,"click",z,this),Ct(ae,"click",this._refocusOnMap,this),ae},_updateDisabled:function(){var h=this._map,m="leaflet-disabled";Dn(this._zoomInButton,m),Dn(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(yr(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(yr(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});Br.mergeOptions({zoomControl:!0}),Br.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qs,this.addControl(this.zoomControl))});var Po=function(h){return new qs(h)},Fu=Pi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var m="leaflet-control-scale",b=Ut("div",m),M=this.options;return this._addScales(M,m+"-line",b),h.on(M.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),b},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,m,b){h.metric&&(this._mScale=Ut("div",m,b)),h.imperial&&(this._iScale=Ut("div",m,b))},_update:function(){var h=this._map,m=h.getSize().y/2,b=h.distance(h.containerPointToLatLng([0,m]),h.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(b)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var m=this._getRoundNum(h),b=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,b,m/h)},_updateImperial:function(h){var m=h*3.2808399,b,M,z;m>5280?(b=m/5280,M=this._getRoundNum(b),this._updateScale(this._iScale,M+" mi",M/b)):(z=this._getRoundNum(m),this._updateScale(this._iScale,z+" ft",z/m))},_updateScale:function(h,m,b){h.style.width=Math.round(this.options.maxWidth*b)+"px",h.innerHTML=m},_getRoundNum:function(h){var m=Math.pow(10,(Math.floor(h)+"").length-1),b=h/m;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,m*b}}),Oo=function(h){return new Fu(h)},_c='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',k=Pi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ye.inlineSvg?_c+" ":"")+"Leaflet</a>"},initialize:function(h){S(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Ut("div","leaflet-control-attribution"),Hs(this._container);for(var m in h._layers)h._layers[m].getAttribution&&this.addAttribution(h._layers[m].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var m in this._attributions)this._attributions[m]&&h.push(m);var b=[];this.options.prefix&&b.push(this.options.prefix),h.length&&b.push(h.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});Br.mergeOptions({attributionControl:!0}),Br.addInitHook(function(){this.options.attributionControl&&new k().addTo(this)});var J=function(h){return new k(h)};Pi.Layers=al,Pi.Zoom=qs,Pi.Scale=Fu,Pi.Attribution=k,ts.layers=Iu,ts.zoom=Po,ts.scale=Oo,ts.attribution=J;var Se=de.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Se.addTo=function(h,m){return h.addHandler(m,this),this};var De={Events:oe},Ve=Ye.touch?"touchstart mousedown":"mousedown",at=be.extend({options:{clickTolerance:3},initialize:function(h,m,b,M){S(this,M),this._element=h,this._dragStartTarget=m||h,this._preventOutline=b},enable:function(){this._enabled||(Ct(this._dragStartTarget,Ve,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(at._dragging===this&&this.finishDrag(!0),fn(this._dragStartTarget,Ve,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Ta(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){at._dragging===this&&this.finishDrag();return}if(!(at._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(at._dragging=this,this._preventOutline&&fa(this._element),ru(),Co(),!this._moving)){this.fire("down");var m=h.touches?h.touches[0]:h,b=to(this._element);this._startPoint=new _e(m.clientX,m.clientY),this._startPos=Gs(this._element),this._parentScale=ko(b);var M=h.type==="mousedown";Ct(document,M?"mousemove":"touchmove",this._onMove,this),Ct(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var m=h.touches&&h.touches.length===1?h.touches[0]:h,b=new _e(m.clientX,m.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,Mn(h),this._moved||(this.fire("dragstart"),this._moved=!0,yr(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),Kr(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Dn(document.body,"leaflet-dragging"),this._lastTarget&&(Dn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fn(document,"mousemove touchmove",this._onMove,this),fn(document,"mouseup touchend touchcancel",this._onUp,this),Al(),Aa();var m=this._moved&&this._moving;this._moving=!1,at._dragging=!1,m&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function St(h,m,b){var M,z=[1,4,2,8],ae,Me,We,tt,pt,kt,tr,Ur;for(ae=0,kt=h.length;ae<kt;ae++)h[ae]._code=ta(h[ae],m);for(We=0;We<4;We++){for(tr=z[We],M=[],ae=0,kt=h.length,Me=kt-1;ae<kt;Me=ae++)tt=h[ae],pt=h[Me],tt._code&tr?pt._code&tr||(Ur=Ss(pt,tt,tr,m,b),Ur._code=ta(Ur,m),M.push(Ur)):(pt._code&tr&&(Ur=Ss(pt,tt,tr,m,b),Ur._code=ta(Ur,m),M.push(Ur)),M.push(tt));h=M}return h}function $t(h,m){var b,M,z,ae,Me,We,tt,pt,kt;if(!h||h.length===0)throw new Error("latlngs not passed");ra(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var tr=se([0,0]),Ur=H(h),aa=Ur.getNorthWest().distanceTo(Ur.getSouthWest())*Ur.getNorthEast().distanceTo(Ur.getNorthWest());aa<1700&&(tr=er(h));var fi=h.length,ls=[];for(b=0;b<fi;b++){var dn=se(h[b]);ls.push(m.project(se([dn.lat-tr.lat,dn.lng-tr.lng])))}for(We=tt=pt=0,b=0,M=fi-1;b<fi;M=b++)z=ls[b],ae=ls[M],Me=z.y*ae.x-ae.y*z.x,tt+=(z.x+ae.x)*Me,pt+=(z.y+ae.y)*Me,We+=Me*3;We===0?kt=ls[0]:kt=[tt/We,pt/We];var pn=m.unproject(Ne(kt));return se([pn.lat+tr.lat,pn.lng+tr.lng])}function er(h){for(var m=0,b=0,M=0,z=0;z<h.length;z++){var ae=se(h[z]);m+=ae.lat,b+=ae.lng,M++}return se([m/M,b/M])}var br={__proto__:null,clipPolygon:St,polygonCenter:$t,centroid:er};function kr(h,m){if(!m||!h.length)return h.slice();var b=m*m;return h=Oi(h,b),h=ui(h,b),h}function Xr(h,m,b){return Math.sqrt(Do(h,m,b,!0))}function Jn(h,m,b){return Do(h,m,b)}function ui(h,m){var b=h.length,M=typeof Uint8Array<"u"?Uint8Array:Array,z=new M(b);z[0]=z[b-1]=1,wn(h,z,m,0,b-1);var ae,Me=[];for(ae=0;ae<b;ae++)z[ae]&&Me.push(h[ae]);return Me}function wn(h,m,b,M,z){var ae=0,Me,We,tt;for(We=M+1;We<=z-1;We++)tt=Do(h[We],h[M],h[z],!0),tt>ae&&(Me=We,ae=tt);ae>b&&(m[Me]=1,wn(h,m,b,M,Me),wn(h,m,b,Me,z))}function Oi(h,m){for(var b=[h[0]],M=1,z=0,ae=h.length;M<ae;M++)Ro(h[M],h[z])>m&&(b.push(h[M]),z=M);return z<ae-1&&b.push(h[ae-1]),b}var ci;function Ii(h,m,b,M,z){var ae=M?ci:ta(h,b),Me=ta(m,b),We,tt,pt;for(ci=Me;;){if(!(ae|Me))return[h,m];if(ae&Me)return!1;We=ae||Me,tt=Ss(h,m,We,b,z),pt=ta(tt,b),We===ae?(h=tt,ae=pt):(m=tt,Me=pt)}}function Ss(h,m,b,M,z){var ae=m.x-h.x,Me=m.y-h.y,We=M.min,tt=M.max,pt,kt;return b&8?(pt=h.x+ae*(tt.y-h.y)/Me,kt=tt.y):b&4?(pt=h.x+ae*(We.y-h.y)/Me,kt=We.y):b&2?(pt=tt.x,kt=h.y+Me*(tt.x-h.x)/ae):b&1&&(pt=We.x,kt=h.y+Me*(We.x-h.x)/ae),new _e(pt,kt,z)}function ta(h,m){var b=0;return h.x<m.min.x?b|=1:h.x>m.max.x&&(b|=2),h.y<m.min.y?b|=4:h.y>m.max.y&&(b|=8),b}function Ro(h,m){var b=m.x-h.x,M=m.y-h.y;return b*b+M*M}function Do(h,m,b,M){var z=m.x,ae=m.y,Me=b.x-z,We=b.y-ae,tt=Me*Me+We*We,pt;return tt>0&&(pt=((h.x-z)*Me+(h.y-ae)*We)/tt,pt>1?(z=b.x,ae=b.y):pt>0&&(z+=Me*pt,ae+=We*pt)),Me=h.x-z,We=h.y-ae,M?Me*Me+We*We:new _e(z,ae)}function ra(h){return!D(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Vs(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ra(h)}function Es(h,m){var b,M,z,ae,Me,We,tt,pt;if(!h||h.length===0)throw new Error("latlngs not passed");ra(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var kt=se([0,0]),tr=H(h),Ur=tr.getNorthWest().distanceTo(tr.getSouthWest())*tr.getNorthEast().distanceTo(tr.getNorthWest());Ur<1700&&(kt=er(h));var aa=h.length,fi=[];for(b=0;b<aa;b++){var ls=se(h[b]);fi.push(m.project(se([ls.lat-kt.lat,ls.lng-kt.lng])))}for(b=0,M=0;b<aa-1;b++)M+=fi[b].distanceTo(fi[b+1])/2;if(M===0)pt=fi[0];else for(b=0,ae=0;b<aa-1;b++)if(Me=fi[b],We=fi[b+1],z=Me.distanceTo(We),ae+=z,ae>M){tt=(ae-M)/z,pt=[We.x-tt*(We.x-Me.x),We.y-tt*(We.y-Me.y)];break}var dn=m.unproject(Ne(pt));return se([dn.lat+kt.lat,dn.lng+kt.lng])}var Ml={__proto__:null,simplify:kr,pointToSegmentDistance:Xr,closestPointOnSegment:Jn,clipSegment:Ii,_getEdgeIntersection:Ss,_getBitCode:ta,_sqClosestPointOnSegment:Do,isFlat:ra,_flat:Vs,polylineCenter:Es},$s={project:function(h){return new _e(h.lng,h.lat)},unproject:function(h){return new Z(h.y,h.x)},bounds:new Q([-180,-90],[180,90])},yi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var m=Math.PI/180,b=this.R,M=h.lat*m,z=this.R_MINOR/b,ae=Math.sqrt(1-z*z),Me=ae*Math.sin(M),We=Math.tan(Math.PI/4-M/2)/Math.pow((1-Me)/(1+Me),ae/2);return M=-b*Math.log(Math.max(We,1e-10)),new _e(h.lng*m*b,M)},unproject:function(h){for(var m=180/Math.PI,b=this.R,M=this.R_MINOR/b,z=Math.sqrt(1-M*M),ae=Math.exp(-h.y/b),Me=Math.PI/2-2*Math.atan(ae),We=0,tt=.1,pt;We<15&&Math.abs(tt)>1e-7;We++)pt=z*Math.sin(Me),pt=Math.pow((1-pt)/(1+pt),z/2),tt=Math.PI/2-2*Math.atan(ae*pt)-Me,Me+=tt;return new Z(Me*m,h.x*m/b)}},sl={__proto__:null,LonLat:$s,Mercator:yi,SphericalMercator:Ie},ol=n({},Oe,{code:"EPSG:3395",projection:yi,transformation:(function(){var h=.5/(Math.PI*yi.R);return it(h,.5,-h,.5)})()}),kl=n({},Oe,{code:"EPSG:4326",projection:$s,transformation:it(1/180,1,-1/180,.5)}),io=n({},Ae,{projection:$s,transformation:it(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,m){var b=m.lng-h.lng,M=m.lat-h.lat;return Math.sqrt(b*b+M*M)},infinite:!0});Ae.Earth=Oe,Ae.EPSG3395=ol,Ae.EPSG3857=Tt,Ae.EPSG900913=Nt,Ae.EPSG4326=kl,Ae.Simple=io;var jn=be.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[c(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[c(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var m=h.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var b=this.getEvents();m.on(b,this),this.once("remove",function(){m.off(b,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});Br.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var m=c(h);return this._layers[m]?this:(this._layers[m]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var m=c(h);return this._layers[m]?(this._loaded&&h.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return c(h)in this._layers},eachLayer:function(h,m){for(var b in this._layers)h.call(m,this._layers[b]);return this},_addLayers:function(h){h=h?D(h)?h:[h]:[];for(var m=0,b=h.length;m<b;m++)this.addLayer(h[m])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[c(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var m=c(h);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,m=-1/0,b=this._getZoomSpan();for(var M in this._zoomBoundLayers){var z=this._zoomBoundLayers[M].options;h=z.minZoom===void 0?h:Math.min(h,z.minZoom),m=z.maxZoom===void 0?m:Math.max(m,z.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=h===1/0?void 0:h,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var za=jn.extend({initialize:function(h,m){S(this,m),this._layers={};var b,M;if(h)for(b=0,M=h.length;b<M;b++)this.addLayer(h[b])},addLayer:function(h){var m=this.getLayerId(h);return this._layers[m]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var m=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(h){var m=typeof h=="number"?h:this.getLayerId(h);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var m=Array.prototype.slice.call(arguments,1),b,M;for(b in this._layers)M=this._layers[b],M[h]&&M[h].apply(M,m);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,m){for(var b in this._layers)h.call(m,this._layers[b]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return c(h)}}),au=function(h,m){return new za(h,m)},rs=za.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),za.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),za.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new G;for(var m in this._layers){var b=this._layers[m];h.extend(b.getBounds?b.getBounds():b.getLatLng())}return h}}),ns=function(h,m){return new rs(h,m)},da=de.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){S(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,m){var b=this._getIconUrl(h);if(!b){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(b,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(M,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(h,m){var b=this.options,M=b[m+"Size"];typeof M=="number"&&(M=[M,M]);var z=Ne(M),ae=Ne(m==="shadow"&&b.shadowAnchor||b.iconAnchor||z&&z.divideBy(2,!0));h.className="leaflet-marker-"+m+" "+(b.className||""),ae&&(h.style.marginLeft=-ae.x+"px",h.style.marginTop=-ae.y+"px"),z&&(h.style.width=z.x+"px",h.style.height=z.y+"px")},_createImg:function(h,m){return m=m||document.createElement("img"),m.src=h,m},_getIconUrl:function(h){return Ye.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function jo(h){return new da(h)}var Io=da.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Io.imagePath!="string"&&(Io.imagePath=this._detectIconPath()),(this.options.imagePath||Io.imagePath)+da.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var m=function(b,M,z){var ae=M.exec(b);return ae&&ae[z]};return h=m(h,/^url\((['"])?(.+)\1\)$/,2),h&&m(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Ut("div","leaflet-default-icon-path",document.body),m=Ar(h,"background-image")||Ar(h,"backgroundImage");if(document.body.removeChild(h),m=this._stripUrl(m),m)return m;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),Ts=Se.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new at(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yr(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Dn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var m=this._marker,b=m._map,M=this._marker.options.autoPanSpeed,z=this._marker.options.autoPanPadding,ae=Gs(m._icon),Me=b.getPixelBounds(),We=b.getPixelOrigin(),tt=P(Me.min._subtract(We).add(z),Me.max._subtract(We).subtract(z));if(!tt.contains(ae)){var pt=Ne((Math.max(tt.max.x,ae.x)-tt.max.x)/(Me.max.x-tt.max.x)-(Math.min(tt.min.x,ae.x)-tt.min.x)/(Me.min.x-tt.min.x),(Math.max(tt.max.y,ae.y)-tt.max.y)/(Me.max.y-tt.max.y)-(Math.min(tt.min.y,ae.y)-tt.min.y)/(Me.min.y-tt.min.y)).multiplyBy(M);b.panBy(pt,{animate:!1}),this._draggable._newPos._add(pt),this._draggable._startPos._add(pt),Kr(m._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=j(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,h)))},_onDrag:function(h){var m=this._marker,b=m._shadow,M=Gs(m._icon),z=m._map.layerPointToLatLng(M);b&&Kr(b,M),m._latlng=z,h.latlng=z,h.oldLatLng=this._oldLatLng,m.fire("move",h).fire("drag",h)},_onDragEnd:function(h){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),Ws=jn.extend({options:{icon:new Io,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,m){S(this,m),this._latlng=se(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var m=this._latlng;return this._latlng=se(h),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=h.icon.createIcon(this._icon),M=!1;b!==this._icon&&(this._icon&&this._removeIcon(),M=!0,h.title&&(b.title=h.title),b.tagName==="IMG"&&(b.alt=h.alt||"")),yr(b,m),h.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(b,"focus",this._panOnFocus,this);var z=h.icon.createShadow(this._shadow),ae=!1;z!==this._shadow&&(this._removeShadow(),ae=!0),z&&(yr(z,m),z.alt=""),this._shadow=z,h.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),z&&ae&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fn(this._icon,"focus",this._panOnFocus,this),qr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qr(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&Kr(this._icon,h),this._shadow&&Kr(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var m=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(yr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ts)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ts(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&un(this._icon,h),this._shadow&&un(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var m=this.options.icon.options,b=m.iconSize?Ne(m.iconSize):Ne(0,0),M=m.iconAnchor?Ne(m.iconAnchor):Ne(0,0);h.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:b.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ga(h,m){return new Ws(h,m)}var ii=jn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return S(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),is=ii.extend({options:{fill:!0,radius:10},initialize:function(h,m){S(this,m),this._latlng=se(h),this._radius=this.options.radius},setLatLng:function(h){var m=this._latlng;return this._latlng=se(h),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var m=h&&h.radius||this._radius;return ii.prototype.setStyle.call(this,h),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,m=this._radiusY||h,b=this._clickTolerance(),M=[h+b,m+b];this._pxBounds=new Q(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ao(h,m){return new is(h,m)}var Zs=is.extend({initialize:function(h,m,b){if(typeof m=="number"&&(m=n({},b,{radius:m})),S(this,m),this._latlng=se(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:ii.prototype.setStyle,_project:function(){var h=this._latlng.lng,m=this._latlng.lat,b=this._map,M=b.options.crs;if(M.distance===Oe.distance){var z=Math.PI/180,ae=this._mRadius/Oe.R/z,Me=b.project([m+ae,h]),We=b.project([m-ae,h]),tt=Me.add(We).divideBy(2),pt=b.unproject(tt).lat,kt=Math.acos((Math.cos(ae*z)-Math.sin(m*z)*Math.sin(pt*z))/(Math.cos(m*z)*Math.cos(pt*z)))/z;(isNaN(kt)||kt===0)&&(kt=ae/Math.cos(Math.PI/180*m)),this._point=tt.subtract(b.getPixelOrigin()),this._radius=isNaN(kt)?0:tt.x-b.project([pt,h-kt]).x,this._radiusY=tt.y-Me.y}else{var tr=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(tr).x}this._updateBounds()}});function su(h,m,b){return new Zs(h,m,b)}var Ha=ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,m){S(this,m),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var m=1/0,b=null,M=Do,z,ae,Me=0,We=this._parts.length;Me<We;Me++)for(var tt=this._parts[Me],pt=1,kt=tt.length;pt<kt;pt++){z=tt[pt-1],ae=tt[pt];var tr=M(h,z,ae,!0);tr<m&&(m=tr,b=M(h,z,ae))}return b&&(b.distance=Math.sqrt(m)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Es(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,m){return m=m||this._defaultShape(),h=se(h),m.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new G,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return ra(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var m=[],b=ra(h),M=0,z=h.length;M<z;M++)b?(m[M]=se(h[M]),this._bounds.extend(m[M])):m[M]=this._convertLatLngs(h[M]);return m},_project:function(){var h=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),m=new _e(h,h);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(h,m,b){var M=h[0]instanceof Z,z=h.length,ae,Me;if(M){for(Me=[],ae=0;ae<z;ae++)Me[ae]=this._map.latLngToLayerPoint(h[ae]),b.extend(Me[ae]);m.push(Me)}else for(ae=0;ae<z;ae++)this._projectLatlngs(h[ae],m,b)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,b,M,z,ae,Me,We,tt;for(b=0,z=0,ae=this._rings.length;b<ae;b++)for(tt=this._rings[b],M=0,Me=tt.length;M<Me-1;M++)We=Ii(tt[M],tt[M+1],h,M,!0),We&&(m[z]=m[z]||[],m[z].push(We[0]),(We[1]!==tt[M+1]||M===Me-2)&&(m[z].push(We[1]),z++))}},_simplifyPoints:function(){for(var h=this._parts,m=this.options.smoothFactor,b=0,M=h.length;b<M;b++)h[b]=kr(h[b],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,m){var b,M,z,ae,Me,We,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(b=0,ae=this._parts.length;b<ae;b++)for(We=this._parts[b],M=0,Me=We.length,z=Me-1;M<Me;z=M++)if(!(!m&&M===0)&&Xr(h,We[z],We[M])<=tt)return!0;return!1}});function hi(h,m){return new Ha(h,m)}Ha._flat=Vs;var Fo=Ha.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $t(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var m=Ha.prototype._convertLatLngs.call(this,h),b=m.length;return b>=2&&m[0]instanceof Z&&m[0].equals(m[b-1])&&m.pop(),m},_setLatLngs:function(h){Ha.prototype._setLatLngs.call(this,h),ra(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ra(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,m=this.options.weight,b=new _e(m,m);if(h=new Q(h.min.subtract(b),h.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,z=this._rings.length,ae;M<z;M++)ae=St(this._rings[M],h,!0),ae.length&&this._parts.push(ae)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var m=!1,b,M,z,ae,Me,We,tt,pt;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(ae=0,tt=this._parts.length;ae<tt;ae++)for(b=this._parts[ae],Me=0,pt=b.length,We=pt-1;Me<pt;We=Me++)M=b[Me],z=b[We],M.y>h.y!=z.y>h.y&&h.x<(z.x-M.x)*(h.y-M.y)/(z.y-M.y)+M.x&&(m=!m);return m||Ha.prototype._containsPoint.call(this,h,!0)}});function so(h,m){return new Fo(h,m)}var Fi=rs.extend({initialize:function(h,m){S(this,m),this._layers={},h&&this.addData(h)},addData:function(h){var m=D(h)?h:h.features,b,M,z;if(m){for(b=0,M=m.length;b<M;b++)z=m[b],(z.geometries||z.geometry||z.features||z.coordinates)&&this.addData(z);return this}var ae=this.options;if(ae.filter&&!ae.filter(h))return this;var Me=xi(h,ae);return Me?(Me.feature=lo(h),Me.defaultOptions=Me.options,this.resetStyle(Me),ae.onEachFeature&&ae.onEachFeature(h,Me),this.addLayer(Me)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=n({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(m){this._setLayerStyle(m,h)},this)},_setLayerStyle:function(h,m){h.setStyle&&(typeof m=="function"&&(m=m(h.feature)),h.setStyle(m))}});function xi(h,m){var b=h.type==="Feature"?h.geometry:h,M=b?b.coordinates:null,z=[],ae=m&&m.pointToLayer,Me=m&&m.coordsToLatLng||ll,We,tt,pt,kt;if(!M&&!b)return null;switch(b.type){case"Point":return We=Me(M),oo(ae,h,We,m);case"MultiPoint":for(pt=0,kt=M.length;pt<kt;pt++)We=Me(M[pt]),z.push(oo(ae,h,We,m));return new rs(z);case"LineString":case"MultiLineString":return tt=Bo(M,b.type==="LineString"?0:1,Me),new Ha(tt,m);case"Polygon":case"MultiPolygon":return tt=Bo(M,b.type==="Polygon"?1:2,Me),new Fo(tt,m);case"GeometryCollection":for(pt=0,kt=b.geometries.length;pt<kt;pt++){var tr=xi({geometry:b.geometries[pt],type:"Feature",properties:h.properties},m);tr&&z.push(tr)}return new rs(z);case"FeatureCollection":for(pt=0,kt=b.features.length;pt<kt;pt++){var Ur=xi(b.features[pt],m);Ur&&z.push(Ur)}return new rs(z);default:throw new Error("Invalid GeoJSON object.")}}function oo(h,m,b,M){return h?h(m,b):new Ws(b,M&&M.markersInheritOptions&&M)}function ll(h){return new Z(h[1],h[0],h[2])}function Bo(h,m,b){for(var M=[],z=0,ae=h.length,Me;z<ae;z++)Me=m?Bo(h[z],m-1,b):(b||ll)(h[z]),M.push(Me);return M}function Ys(h,m){return h=se(h),h.alt!==void 0?[y(h.lng,m),y(h.lat,m),y(h.alt,m)]:[y(h.lng,m),y(h.lat,m)]}function As(h,m,b,M){for(var z=[],ae=0,Me=h.length;ae<Me;ae++)z.push(m?As(h[ae],ra(h[ae])?0:m-1,b,M):Ys(h[ae],M));return!m&&b&&z.length>0&&z.push(z[0].slice()),z}function Ca(h,m){return h.feature?n({},h.feature,{geometry:m}):lo(m)}function lo(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var Ma={toGeoJSON:function(h){return Ca(this,{type:"Point",coordinates:Ys(this.getLatLng(),h)})}};Ws.include(Ma),Zs.include(Ma),is.include(Ma),Ha.include({toGeoJSON:function(h){var m=!ra(this._latlngs),b=As(this._latlngs,m?1:0,!1,h);return Ca(this,{type:(m?"Multi":"")+"LineString",coordinates:b})}}),Fo.include({toGeoJSON:function(h){var m=!ra(this._latlngs),b=m&&!ra(this._latlngs[0]),M=As(this._latlngs,b?2:m?1:0,!0,h);return m||(M=[M]),Ca(this,{type:(b?"Multi":"")+"Polygon",coordinates:M})}}),za.include({toMultiPoint:function(h){var m=[];return this.eachLayer(function(b){m.push(b.toGeoJSON(h).geometry.coordinates)}),Ca(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(h){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(h);var b=m==="GeometryCollection",M=[];return this.eachLayer(function(z){if(z.toGeoJSON){var ae=z.toGeoJSON(h);if(b)M.push(ae.geometry);else{var Me=lo(ae);Me.type==="FeatureCollection"?M.push.apply(M,Me.features):M.push(Me)}}}),b?Ca(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function uo(h,m){return new Fi(h,m)}var pa=uo,ka=jn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,m,b){this._url=h,this._bounds=H(m),S(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&ar(this._image),this},bringToBack:function(){return this._map&&Ea(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=H(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",m=this._image=h?this._url:Ut("img");if(yr(m,"leaflet-image-layer"),this._zoomAnimated&&yr(m,"leaflet-zoom-animated"),this.options.className&&yr(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onload=s(this.fire,this,"load"),m.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(h){var m=this._map.getZoomScale(h.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;zs(this._image,b,m)},_reset:function(){var h=this._image,m=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=m.getSize();Kr(h,m.min),h.style.width=b.x+"px",h.style.height=b.y+"px"},_updateOpacity:function(){un(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),cn=function(h,m,b){return new ka(h,m,b)},Jr=ka.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",m=this._image=h?this._url:Ut("video");if(yr(m,"leaflet-image-layer"),this._zoomAnimated&&yr(m,"leaflet-zoom-animated"),this.options.className&&yr(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onloadeddata=s(this.fire,this,"load"),h){for(var b=m.getElementsByTagName("source"),M=[],z=0;z<b.length;z++)M.push(b[z].src);this._url=b.length>0?M:[m.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var ae=0;ae<this._url.length;ae++){var Me=Ut("source");Me.src=this._url[ae],m.appendChild(Me)}}});function kn(h,m,b){return new Jr(h,m,b)}var ai=ka.extend({_initImage:function(){var h=this._image=this._url;yr(h,"leaflet-image-layer"),this._zoomAnimated&&yr(h,"leaflet-zoom-animated"),this.options.className&&yr(h,this.options.className),h.onselectstart=v,h.onmousemove=v}});function co(h,m,b){return new ai(h,m,b)}var wi=jn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,m){h&&(h instanceof Z||D(h))?(this._latlng=se(h),S(this,m)):(S(this,h),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&un(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&un(this._container,1),this.bringToFront(),this.options.interactive&&(yr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(un(this._container,0),this._removeTimeout=setTimeout(s(qr,void 0,this._container),200)):qr(this._container),this.options.interactive&&(Dn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=se(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ar(this._container),this},bringToBack:function(){return this._map&&Ea(this._container),this},_prepareOpen:function(h){var m=this._source;if(!m._map)return!1;if(m instanceof rs){m=null;var b=this._source._layers;for(var M in b)if(b[M]._map){m=b[M];break}if(!m)return!1;this._source=m}if(!h)if(m.getCenter)h=m.getCenter();else if(m.getLatLng)h=m.getLatLng();else if(m.getBounds)h=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")h.innerHTML=m;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),m=Ne(this.options.offset),b=this._getAnchor();this._zoomAnimated?Kr(this._container,h.add(b)):m=m.add(h).add(b);var M=this._containerBottom=-m.y,z=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=M+"px",this._container.style.left=z+"px"}},_getAnchor:function(){return[0,0]}});Br.include({_initOverlay:function(h,m,b,M){var z=m;return z instanceof h||(z=new h(M).setContent(m)),b&&z.setLatLng(b),z}}),jn.include({_initOverlay:function(h,m,b,M){var z=b;return z instanceof h?(S(z,M),z._source=this):(z=m&&!M?m:new h(M,this),z.setContent(b)),z}});var ho=wi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,wi.prototype.openOn.call(this,h)},onAdd:function(h){wi.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ii||this._source.on("preclick",Qa))},onRemove:function(h){wi.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ii||this._source.off("preclick",Qa))},getEvents:function(){var h=wi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",m=this._container=Ut("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=Ut("div",h+"-content-wrapper",m);if(this._contentNode=Ut("div",h+"-content",b),Hs(m),Na(this._contentNode),Ct(m,"contextmenu",Qa),this._tipContainer=Ut("div",h+"-tip-container",m),this._tip=Ut("div",h+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=Ut("a",h+"-close-button",m);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',Ct(M,"click",function(z){Mn(z),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,m=h.style;m.width="",m.whiteSpace="nowrap";var b=h.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),m.width=b+1+"px",m.whiteSpace="",m.height="";var M=h.offsetHeight,z=this.options.maxHeight,ae="leaflet-popup-scrolled";z&&M>z?(m.height=z+"px",yr(h,ae)):Dn(h,ae),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var m=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),b=this._getAnchor();Kr(this._container,m.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,m=parseInt(Ar(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+m,M=this._containerWidth,z=new _e(this._containerLeft,-b-this._containerBottom);z._add(Gs(this._container));var ae=h.layerPointToContainerPoint(z),Me=Ne(this.options.autoPanPadding),We=Ne(this.options.autoPanPaddingTopLeft||Me),tt=Ne(this.options.autoPanPaddingBottomRight||Me),pt=h.getSize(),kt=0,tr=0;ae.x+M+tt.x>pt.x&&(kt=ae.x+M-pt.x+tt.x),ae.x-kt-We.x<0&&(kt=ae.x-We.x),ae.y+b+tt.y>pt.y&&(tr=ae.y+b-pt.y+tt.y),ae.y-tr-We.y<0&&(tr=ae.y-We.y),(kt||tr)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([kt,tr]))}},_getAnchor:function(){return Ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Bu=function(h,m){return new ho(h,m)};Br.mergeOptions({closePopupOnClick:!0}),Br.include({openPopup:function(h,m,b){return this._initOverlay(ho,h,m,b).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),jn.include({bindPopup:function(h,m){return this._popup=this._initOverlay(ho,this._popup,h,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof rs||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){ro(h);var m=h.layer||h.target;if(this._popup._source===m&&!(m instanceof ii)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=m,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var ou=wi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){wi.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){wi.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=wi.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",m=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ut("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var m,b,M=this._map,z=this._container,ae=M.latLngToContainerPoint(M.getCenter()),Me=M.layerPointToContainerPoint(h),We=this.options.direction,tt=z.offsetWidth,pt=z.offsetHeight,kt=Ne(this.options.offset),tr=this._getAnchor();We==="top"?(m=tt/2,b=pt):We==="bottom"?(m=tt/2,b=0):We==="center"?(m=tt/2,b=pt/2):We==="right"?(m=0,b=pt/2):We==="left"?(m=tt,b=pt/2):Me.x<ae.x?(We="right",m=0,b=pt/2):(We="left",m=tt+(kt.x+tr.x)*2,b=pt/2),h=h.subtract(Ne(m,b,!0)).add(kt).add(tr),Dn(z,"leaflet-tooltip-right"),Dn(z,"leaflet-tooltip-left"),Dn(z,"leaflet-tooltip-top"),Dn(z,"leaflet-tooltip-bottom"),yr(z,"leaflet-tooltip-"+We),Kr(z,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&un(this._container,h)},_animateZoom:function(h){var m=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(m)},_getAnchor:function(){return Ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Jh=function(h,m){return new ou(h,m)};Br.include({openTooltip:function(h,m,b){return this._initOverlay(ou,h,m,b).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),jn.include({bindTooltip:function(h,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ou,this._tooltip,h,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var m=h?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[m](b),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof rs||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var m=typeof h.getElement=="function"&&h.getElement();m&&(Ct(m,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Ct(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var m=typeof h.getElement=="function"&&h.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var m=h.latlng,b,M;this._tooltip.options.sticky&&h.originalEvent&&(b=this._map.mouseEventToContainerPoint(h.originalEvent),M=this._map.containerPointToLayerPoint(b),m=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(m)}});var uh=da.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var m=h&&h.tagName==="DIV"?h:document.createElement("div"),b=this.options;if(b.html instanceof Element?(ri(m),m.appendChild(b.html)):m.innerHTML=b.html!==!1?b.html:"",b.bgPos){var M=Ne(b.bgPos);m.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Qh(h){return new uh(h)}da.Default=Io;var Pl=jn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ye.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){S(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),qr(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ar(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ea(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof _e?h:new _e(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var m=this.getPane().children,b=-h(-1/0,1/0),M=0,z=m.length,ae;M<z;M++)ae=m[M].style.zIndex,m[M]!==this._container&&ae&&(b=h(b,+ae));isFinite(b)&&(this.options.zIndex=b+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ye.ielt9){un(this._container,this.options.opacity);var h=+new Date,m=!1,b=!1;for(var M in this._tiles){var z=this._tiles[M];if(!(!z.current||!z.loaded)){var ae=Math.min(1,(h-z.loaded)/200);un(z.el,ae),ae<1?m=!0:(z.active?b=!0:this._onOpaqueTile(z),z.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),m&&(W(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=Ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,m=this.options.maxZoom;if(h!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===h?(this._levels[b].el.style.zIndex=m-Math.abs(h-b),this._onUpdateLevel(b)):(qr(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var M=this._levels[h],z=this._map;return M||(M=this._levels[h]={},M.el=Ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=m,M.origin=z.project(z.unproject(z.getPixelOrigin()),h).round(),M.zoom=h,this._setZoomTransform(M,z.getCenter(),z.getZoom()),v(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var h,m,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)m=this._tiles[h],m.retain=m.current;for(h in this._tiles)if(m=this._tiles[h],m.current&&!m.active){var M=m.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var m in this._tiles)this._tiles[m].coords.z===h&&this._removeTile(m)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)qr(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,m,b,M){var z=Math.floor(h/2),ae=Math.floor(m/2),Me=b-1,We=new _e(+z,+ae);We.z=+Me;var tt=this._tileCoordsToKey(We),pt=this._tiles[tt];return pt&&pt.active?(pt.retain=!0,!0):(pt&&pt.loaded&&(pt.retain=!0),Me>M?this._retainParent(z,ae,Me,M):!1)},_retainChildren:function(h,m,b,M){for(var z=2*h;z<2*h+2;z++)for(var ae=2*m;ae<2*m+2;ae++){var Me=new _e(z,ae);Me.z=b+1;var We=this._tileCoordsToKey(Me),tt=this._tiles[We];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);b+1<M&&this._retainChildren(z,ae,b+1,M)}},_resetView:function(h){var m=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var m=this.options;return m.minNativeZoom!==void 0&&h<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<h?m.maxNativeZoom:h},_setView:function(h,m,b,M){var z=Math.round(m);this.options.maxZoom!==void 0&&z>this.options.maxZoom||this.options.minZoom!==void 0&&z<this.options.minZoom?z=void 0:z=this._clampZoom(z);var ae=this.options.updateWhenZooming&&z!==this._tileZoom;(!M||ae)&&(this._tileZoom=z,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),z!==void 0&&this._update(h),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(h,m)},_setZoomTransforms:function(h,m){for(var b in this._levels)this._setZoomTransform(this._levels[b],h,m)},_setZoomTransform:function(h,m,b){var M=this._map.getZoomScale(b,h.zoom),z=h.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(m,b)).round();Ye.any3d?zs(h.el,z,M):Kr(h.el,z)},_resetGrid:function(){var h=this._map,m=h.options.crs,b=this._tileSize=this.getTileSize(),M=this._tileZoom,z=this._map.getPixelWorldBounds(this._tileZoom);z&&(this._globalTileRange=this._pxBoundsToTileRange(z)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,m.wrapLng[0]],M).x/b.x),Math.ceil(h.project([0,m.wrapLng[1]],M).x/b.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([m.wrapLat[0],0],M).y/b.x),Math.ceil(h.project([m.wrapLat[1],0],M).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var m=this._map,b=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),M=m.getZoomScale(b,this._tileZoom),z=m.project(h,this._tileZoom).floor(),ae=m.getSize().divideBy(M*2);return new Q(z.subtract(ae),z.add(ae))},_update:function(h){var m=this._map;if(m){var b=this._clampZoom(m.getZoom());if(h===void 0&&(h=m.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(h),z=this._pxBoundsToTileRange(M),ae=z.getCenter(),Me=[],We=this.options.keepBuffer,tt=new Q(z.getBottomLeft().subtract([We,-We]),z.getTopRight().add([We,-We]));if(!(isFinite(z.min.x)&&isFinite(z.min.y)&&isFinite(z.max.x)&&isFinite(z.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var pt in this._tiles){var kt=this._tiles[pt].coords;(kt.z!==this._tileZoom||!tt.contains(new _e(kt.x,kt.y)))&&(this._tiles[pt].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(h,b);return}for(var tr=z.min.y;tr<=z.max.y;tr++)for(var Ur=z.min.x;Ur<=z.max.x;Ur++){var aa=new _e(Ur,tr);if(aa.z=this._tileZoom,!!this._isValidTile(aa)){var fi=this._tiles[this._tileCoordsToKey(aa)];fi?fi.current=!0:Me.push(aa)}}if(Me.sort(function(dn,pn){return dn.distanceTo(ae)-pn.distanceTo(ae)}),Me.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ls=document.createDocumentFragment();for(Ur=0;Ur<Me.length;Ur++)this._addTile(Me[Ur],ls);this._level.el.appendChild(ls)}}}},_isValidTile:function(h){var m=this._map.options.crs;if(!m.infinite){var b=this._globalTileRange;if(!m.wrapLng&&(h.x<b.min.x||h.x>b.max.x)||!m.wrapLat&&(h.y<b.min.y||h.y>b.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(h);return H(this.options.bounds).overlaps(M)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var m=this._map,b=this.getTileSize(),M=h.scaleBy(b),z=M.add(b),ae=m.unproject(M,h.z),Me=m.unproject(z,h.z);return[ae,Me]},_tileCoordsToBounds:function(h){var m=this._tileCoordsToNwSe(h),b=new G(m[0],m[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var m=h.split(":"),b=new _e(+m[0],+m[1]);return b.z=+m[2],b},_removeTile:function(h){var m=this._tiles[h];m&&(qr(m.el),delete this._tiles[h],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){yr(h,"leaflet-tile");var m=this.getTileSize();h.style.width=m.x+"px",h.style.height=m.y+"px",h.onselectstart=v,h.onmousemove=v,Ye.ielt9&&this.options.opacity<1&&un(h,this.options.opacity)},_addTile:function(h,m){var b=this._getTilePos(h),M=this._tileCoordsToKey(h),z=this.createTile(this._wrapCoords(h),s(this._tileReady,this,h));this._initTile(z),this.createTile.length<2&&j(s(this._tileReady,this,h,null,z)),Kr(z,b),this._tiles[M]={el:z,coords:h,current:!0},m.appendChild(z),this.fire("tileloadstart",{tile:z,coords:h})},_tileReady:function(h,m,b){m&&this.fire("tileerror",{error:m,tile:b,coords:h});var M=this._tileCoordsToKey(h);b=this._tiles[M],b&&(b.loaded=+new Date,this._map._fadeAnimated?(un(b.el,0),W(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),m||(yr(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ye.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var m=new _e(this._wrapX?p(h.x,this._wrapX):h.x,this._wrapY?p(h.y,this._wrapY):h.y);return m.z=h.z,m},_pxBoundsToTileRange:function(h){var m=this.getTileSize();return new Q(h.min.unscaleBy(m).floor(),h.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function ch(h){return new Pl(h)}var Ls=Pl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,m){this._url=h,m=S(this,m),m.detectRetina&&Ye.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,m){return this._url===h&&m===void 0&&(m=!0),this._url=h,m||this.redraw(),this},createTile:function(h,m){var b=document.createElement("img");return Ct(b,"load",s(this._tileOnLoad,this,m,b)),Ct(b,"error",s(this._tileOnError,this,m,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(h),b},getTileUrl:function(h){var m={r:Ye.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-h.y;this.options.tms&&(m.y=b),m["-y"]=b}return I(this._url,n(m,this.options))},_tileOnLoad:function(h,m){Ye.ielt9?setTimeout(s(h,this,null,m),0):h(null,m)},_tileOnError:function(h,m,b){var M=this.options.errorTileUrl;M&&m.getAttribute("src")!==M&&(m.src=M),h(b,m)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,m=this.options.maxZoom,b=this.options.zoomReverse,M=this.options.zoomOffset;return b&&(h=m-h),h+M},_getSubdomain:function(h){var m=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var h,m;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(m=this._tiles[h].el,m.onload=v,m.onerror=v,!m.complete)){m.src=te;var b=this._tiles[h].coords;qr(m),delete this._tiles[h],this.fire("tileabort",{tile:m,coords:b})}},_removeTile:function(h){var m=this._tiles[h];if(m)return m.el.setAttribute("src",te),Pl.prototype._removeTile.call(this,h)},_tileReady:function(h,m,b){if(!(!this._map||b&&b.getAttribute("src")===te))return Pl.prototype._tileReady.call(this,h,m,b)}});function as(h,m){return new Ls(h,m)}var lu=Ls.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,m){this._url=h;var b=n({},this.defaultWmsParams);for(var M in m)M in this.options||(b[M]=m[M]);m=S(this,m);var z=m.detectRetina&&Ye.retina?2:1,ae=this.getTileSize();b.width=ae.x*z,b.height=ae.y*z,this.wmsParams=b},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,Ls.prototype.onAdd.call(this,h)},getTileUrl:function(h){var m=this._tileCoordsToNwSe(h),b=this._crs,M=P(b.project(m[0]),b.project(m[1])),z=M.min,ae=M.max,Me=(this._wmsVersion>=1.3&&this._crs===kl?[z.y,z.x,ae.y,ae.x]:[z.x,z.y,ae.x,ae.y]).join(","),We=Ls.prototype.getTileUrl.call(this,h);return We+C(this.wmsParams,We,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Me},setParams:function(h,m){return n(this.wmsParams,h),m||this.redraw(),this}});function ss(h,m){return new lu(h,m)}Ls.WMS=lu,as.wms=ss;var Pa=jn.extend({options:{padding:.1},initialize:function(h){S(this,h),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,m){var b=this._map.getZoomScale(m,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),z=this._map.project(this._center,m),ae=M.multiplyBy(-b).add(z).subtract(this._map._getNewPixelOrigin(h,m));Ye.any3d?zs(this._container,ae,b):Kr(this._container,ae)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,m=this._map.getSize(),b=this._map.containerPointToLayerPoint(m.multiplyBy(-h)).round();this._bounds=new Q(b,b.add(m.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Uu=Pa.extend({options:{tolerance:0},getEvents:function(){var h=Pa.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Ct(h,"mousemove",this._onMouseMove,this),Ct(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ct(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,qr(this._container),fn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var m in this._layers)h=this._layers[m],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pa.prototype._update.call(this);var h=this._bounds,m=this._container,b=h.getSize(),M=Ye.retina?2:1;Kr(m,h.min),m.width=M*b.x,m.height=M*b.y,m.style.width=b.x+"px",m.style.height=b.y+"px",Ye.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){Pa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[c(h)]=h;var m=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var m=h._order,b=m.next,M=m.prev;b?b.prev=M:this._drawLast=M,M?M.next=b:this._drawFirst=b,delete h._order,delete this._layers[c(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var m=h.options.dashArray.split(/[, ]+/),b=[],M,z;for(z=0;z<m.length;z++){if(M=Number(m[z]),isNaN(M))return;b.push(M)}h.options._dashArray=b}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var m=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(h._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(h._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var m=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,m=this._redrawBounds;if(this._ctx.save(),m){var b=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)h=M.layer,(!m||h._pxBounds&&h._pxBounds.intersects(m))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,m){if(this._drawing){var b,M,z,ae,Me=h._parts,We=Me.length,tt=this._ctx;if(We){for(tt.beginPath(),b=0;b<We;b++){for(M=0,z=Me[b].length;M<z;M++)ae=Me[b][M],tt[M?"lineTo":"moveTo"](ae.x,ae.y);m&&tt.closePath()}this._fillStroke(tt,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var m=h._point,b=this._ctx,M=Math.max(Math.round(h._radius),1),z=(Math.max(Math.round(h._radiusY),1)||M)/M;z!==1&&(b.save(),b.scale(1,z)),b.beginPath(),b.arc(m.x,m.y/z,M,0,Math.PI*2,!1),z!==1&&b.restore(),this._fillStroke(b,h)}},_fillStroke:function(h,m){var b=m.options;b.fill&&(h.globalAlpha=b.fillOpacity,h.fillStyle=b.fillColor||b.color,h.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(h.setLineDash&&h.setLineDash(m.options&&m.options._dashArray||[]),h.globalAlpha=b.opacity,h.lineWidth=b.weight,h.strokeStyle=b.color,h.lineCap=b.lineCap,h.lineJoin=b.lineJoin,h.stroke())},_onClick:function(h){for(var m=this._map.mouseEventToLayerPoint(h),b,M,z=this._drawFirst;z;z=z.next)b=z.layer,b.options.interactive&&b._containsPoint(m)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(b))&&(M=b);this._fireEvent(M?[M]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,m)}},_handleMouseOut:function(h){var m=this._hoveredLayer;m&&(Dn(this._container,"leaflet-interactive"),this._fireEvent([m],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,m){if(!this._mouseHoverThrottled){for(var b,M,z=this._drawFirst;z;z=z.next)b=z.layer,b.options.interactive&&b._containsPoint(m)&&(M=b);M!==this._hoveredLayer&&(this._handleMouseOut(h),M&&(yr(this._container,"leaflet-interactive"),this._fireEvent([M],h,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,m,b){this._map._fireDOMEvent(m,b||m.type,h)},_bringToFront:function(h){var m=h._order;if(m){var b=m.next,M=m.prev;if(b)b.prev=M;else return;M?M.next=b:b&&(this._drawFirst=b),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(h)}},_bringToBack:function(h){var m=h._order;if(m){var b=m.next,M=m.prev;if(M)M.next=b;else return;b?b.prev=M:M&&(this._drawLast=M),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(h)}}});function uu(h){return Ye.canvas?new Uu(h):null}var Uo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),yc={_initContainer:function(){this._container=Ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pa.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var m=h._container=Uo("shape");yr(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",h._path=Uo("path"),m.appendChild(h._path),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){var m=h._container;this._container.appendChild(m),h.options.interactive&&h.addInteractiveTarget(m)},_removePath:function(h){var m=h._container;qr(m),h.removeInteractiveTarget(m),delete this._layers[c(h)]},_updateStyle:function(h){var m=h._stroke,b=h._fill,M=h.options,z=h._container;z.stroked=!!M.stroke,z.filled=!!M.fill,M.stroke?(m||(m=h._stroke=Uo("stroke")),z.appendChild(m),m.weight=M.weight+"px",m.color=M.color,m.opacity=M.opacity,M.dashArray?m.dashStyle=D(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=M.lineCap.replace("butt","flat"),m.joinstyle=M.lineJoin):m&&(z.removeChild(m),h._stroke=null),M.fill?(b||(b=h._fill=Uo("fill")),z.appendChild(b),b.color=M.fillColor||M.color,b.opacity=M.fillOpacity):b&&(z.removeChild(b),h._fill=null)},_updateCircle:function(h){var m=h._point.round(),b=Math.round(h._radius),M=Math.round(h._radiusY||b);this._setPath(h,h._empty()?"M0 0":"AL "+m.x+","+m.y+" "+b+","+M+" 0,"+65535*360)},_setPath:function(h,m){h._path.v=m},_bringToFront:function(h){ar(h._container)},_bringToBack:function(h){Ea(h._container)}},Ns=Ye.vml?Uo:we,zo=Pa.extend({_initContainer:function(){this._container=Ns("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ns("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qr(this._container),fn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pa.prototype._update.call(this);var h=this._bounds,m=h.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,b.setAttribute("width",m.x),b.setAttribute("height",m.y)),Kr(b,h.min),b.setAttribute("viewBox",[h.min.x,h.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(h){var m=h._path=Ns("path");h.options.className&&yr(m,h.options.className),h.options.interactive&&yr(m,"leaflet-interactive"),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){qr(h._path),h.removeInteractiveTarget(h._path),delete this._layers[c(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var m=h._path,b=h.options;m&&(b.stroke?(m.setAttribute("stroke",b.color),m.setAttribute("stroke-opacity",b.opacity),m.setAttribute("stroke-width",b.weight),m.setAttribute("stroke-linecap",b.lineCap),m.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?m.setAttribute("stroke-dasharray",b.dashArray):m.removeAttribute("stroke-dasharray"),b.dashOffset?m.setAttribute("stroke-dashoffset",b.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),b.fill?(m.setAttribute("fill",b.fillColor||b.color),m.setAttribute("fill-opacity",b.fillOpacity),m.setAttribute("fill-rule",b.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(h,m){this._setPath(h,yt(h._parts,m))},_updateCircle:function(h){var m=h._point,b=Math.max(Math.round(h._radius),1),M=Math.max(Math.round(h._radiusY),1)||b,z="a"+b+","+M+" 0 1,0 ",ae=h._empty()?"M0 0":"M"+(m.x-b)+","+m.y+z+b*2+",0 "+z+-b*2+",0 ";this._setPath(h,ae)},_setPath:function(h,m){h._path.setAttribute("d",m)},_bringToFront:function(h){ar(h._path)},_bringToBack:function(h){Ea(h._path)}});Ye.vml&&zo.include(yc);function na(h){return Ye.svg||Ye.vml?new zo(h):null}Br.include({getRenderer:function(h){var m=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var m=this._paneRenderers[h];return m===void 0&&(m=this._createRenderer({pane:h}),this._paneRenderers[h]=m),m},_createRenderer:function(h){return this.options.preferCanvas&&uu(h)||na(h)}});var Bi=Fo.extend({initialize:function(h,m){Fo.prototype.initialize.call(this,this._boundsToLatLngs(h),m)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=H(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function xc(h,m){return new Bi(h,m)}zo.create=Ns,zo.pointsToPath=yt,Fi.geometryToLayer=xi,Fi.coordsToLatLng=ll,Fi.coordsToLatLngs=Bo,Fi.latLngToCoords=Ys,Fi.latLngsToCoords=As,Fi.getFeature=Ca,Fi.asFeature=lo,Br.mergeOptions({boxZoom:!0});var ia=Se.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Co(),ru(),this._startPoint=this._map.mouseEventToContainerPoint(h),Ct(document,{contextmenu:ro,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Ut("div","leaflet-zoom-box",this._container),yr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var m=new Q(this._point,this._startPoint),b=m.getSize();Kr(this._box,m.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(qr(this._box),Dn(this._container,"leaflet-crosshair")),Aa(),Al(),fn(document,{contextmenu:ro,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var m=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Br.addInitHook("addHandler","boxZoom",ia),Br.mergeOptions({doubleClickZoom:!0});var zu=Se.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var m=this._map,b=m.getZoom(),M=m.options.zoomDelta,z=h.originalEvent.shiftKey?b-M:b+M;m.options.doubleClickZoom==="center"?m.setZoom(z):m.setZoomAround(h.containerPoint,z)}});Br.addInitHook("addHandler","doubleClickZoom",zu),Br.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var os=Se.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new at(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}yr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Dn(this._map._container,"leaflet-grab"),Dn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=H(this._map.options.maxBounds);this._offsetLimit=P(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var m=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(m),this._prunePositions(m)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,m){return h-(h-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;h.x<m.min.x&&(h.x=this._viscousLimit(h.x,m.min.x)),h.y<m.min.y&&(h.y=this._viscousLimit(h.y,m.min.y)),h.x>m.max.x&&(h.x=this._viscousLimit(h.x,m.max.x)),h.y>m.max.y&&(h.y=this._viscousLimit(h.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,m=Math.round(h/2),b=this._initialWorldOffset,M=this._draggable._newPos.x,z=(M-m+b)%h+m-b,ae=(M+m+b)%h-m-b,Me=Math.abs(z+b)<Math.abs(ae+b)?z:ae;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Me},_onDragEnd:function(h){var m=this._map,b=m.options,M=!b.inertia||h.noInertia||this._times.length<2;if(m.fire("dragend",h),M)m.fire("moveend");else{this._prunePositions(+new Date);var z=this._lastPos.subtract(this._positions[0]),ae=(this._lastTime-this._times[0])/1e3,Me=b.easeLinearity,We=z.multiplyBy(Me/ae),tt=We.distanceTo([0,0]),pt=Math.min(b.inertiaMaxSpeed,tt),kt=We.multiplyBy(pt/tt),tr=pt/(b.inertiaDeceleration*Me),Ur=kt.multiplyBy(-tr/2).round();!Ur.x&&!Ur.y?m.fire("moveend"):(Ur=m._limitOffset(Ur,m.options.maxBounds),j(function(){m.panBy(Ur,{duration:tr,easeLinearity:Me,noMoveStart:!0,animate:!0})}))}}});Br.addInitHook("addHandler","dragging",os),Br.mergeOptions({keyboard:!0,keyboardPanDelta:80});var cu=Se.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Ct(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,m=document.documentElement,b=h.scrollTop||m.scrollTop,M=h.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(M,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var m=this._panKeys={},b=this.keyCodes,M,z;for(M=0,z=b.left.length;M<z;M++)m[b.left[M]]=[-1*h,0];for(M=0,z=b.right.length;M<z;M++)m[b.right[M]]=[h,0];for(M=0,z=b.down.length;M<z;M++)m[b.down[M]]=[0,h];for(M=0,z=b.up.length;M<z;M++)m[b.up[M]]=[0,-1*h]},_setZoomDelta:function(h){var m=this._zoomKeys={},b=this.keyCodes,M,z;for(M=0,z=b.zoomIn.length;M<z;M++)m[b.zoomIn[M]]=h;for(M=0,z=b.zoomOut.length;M<z;M++)m[b.zoomOut[M]]=-h},_addHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var m=h.keyCode,b=this._map,M;if(m in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(M=this._panKeys[m],h.shiftKey&&(M=Ne(M).multiplyBy(3)),b.options.maxBounds&&(M=b._limitOffset(Ne(M),b.options.maxBounds)),b.options.worldCopyJump){var z=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(M)));b.panTo(z)}else b.panBy(M)}else if(m in this._zoomKeys)b.setZoom(b.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;ro(h)}}});Br.addInitHook("addHandler","keyboard",cu),Br.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ol=Se.extend({addHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var m=ki(h),b=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var M=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),M),ro(h)},_performZoom:function(){var h=this._map,m=h.getZoom(),b=this._map.options.zoomSnap||0;h._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),z=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,ae=b?Math.ceil(z/b)*b:z,Me=h._limitZoom(m+(this._delta>0?ae:-ae))-m;this._delta=0,this._startTime=null,Me&&(h.options.scrollWheelZoom==="center"?h.setZoom(m+Me):h.setZoomAround(this._lastMousePos,m+Me))}});Br.addInitHook("addHandler","scrollWheelZoom",Ol);var ul=600;Br.mergeOptions({tapHold:Ye.touchNative&&Ye.safari&&Ye.mobile,tapTolerance:15});var hu=Se.extend({addHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var m=h.touches[0];this._startPos=this._newPos=new _e(m.clientX,m.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(Ct(document,"touchend",Mn),Ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),ul),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){fn(document,"touchend",Mn),fn(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),fn(document,"touchend touchcancel contextmenu",this._cancel,this),fn(document,"touchmove",this._onMove,this)},_onMove:function(h){var m=h.touches[0];this._newPos=new _e(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,m){var b=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});b._simulated=!0,m.target.dispatchEvent(b)}});Br.addInitHook("addHandler","tapHold",hu),Br.mergeOptions({touchZoom:Ye.touch,bounceAtZoomLimits:!0});var Gu=Se.extend({addHooks:function(){yr(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Dn(this._map._container,"leaflet-touch-zoom"),fn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var m=this._map;if(!(!h.touches||h.touches.length!==2||m._animatingZoom||this._zooming)){var b=m.mouseEventToContainerPoint(h.touches[0]),M=m.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(b.add(M)._divideBy(2))),this._startDist=b.distanceTo(M),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),Mn(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var m=this._map,b=m.mouseEventToContainerPoint(h.touches[0]),M=m.mouseEventToContainerPoint(h.touches[1]),z=b.distanceTo(M)/this._startDist;if(this._zoom=m.getScaleZoom(z,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&z<1||this._zoom>m.getMaxZoom()&&z>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,z===1)return}else{var ae=b._add(M)._divideBy(2)._subtract(this._centerPoint);if(z===1&&ae.x===0&&ae.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(ae),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var Me=s(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(Me,this,!0),Mn(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),fn(document,"touchmove",this._onTouchMove,this),fn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Br.addInitHook("addHandler","touchZoom",Gu),Br.BoxZoom=ia,Br.DoubleClickZoom=zu,Br.Drag=os,Br.Keyboard=cu,Br.ScrollWheelZoom=Ol,Br.TapHold=hu,Br.TouchZoom=Gu,r.Bounds=Q,r.Browser=Ye,r.CRS=Ae,r.Canvas=Uu,r.Circle=Zs,r.CircleMarker=is,r.Class=de,r.Control=Pi,r.DivIcon=uh,r.DivOverlay=wi,r.DomEvent=bs,r.DomUtil=il,r.Draggable=at,r.Evented=be,r.FeatureGroup=rs,r.GeoJSON=Fi,r.GridLayer=Pl,r.Handler=Se,r.Icon=da,r.ImageOverlay=ka,r.LatLng=Z,r.LatLngBounds=G,r.Layer=jn,r.LayerGroup=za,r.LineUtil=Ml,r.Map=Br,r.Marker=Ws,r.Mixin=De,r.Path=ii,r.Point=_e,r.PolyUtil=br,r.Polygon=Fo,r.Polyline=Ha,r.Popup=ho,r.PosAnimation=no,r.Projection=sl,r.Rectangle=Bi,r.Renderer=Pa,r.SVG=zo,r.SVGOverlay=ai,r.TileLayer=Ls,r.Tooltip=ou,r.Transformation=ot,r.Util=ue,r.VideoOverlay=Jr,r.bind=s,r.bounds=P,r.canvas=uu,r.circle=su,r.circleMarker=ao,r.control=ts,r.divIcon=Qh,r.extend=n,r.featureGroup=ns,r.geoJSON=uo,r.geoJson=pa,r.gridLayer=ch,r.icon=jo,r.imageOverlay=cn,r.latLng=se,r.latLngBounds=H,r.layerGroup=au,r.map=Cl,r.marker=Ga,r.point=Ne,r.polygon=so,r.polyline=hi,r.popup=Bu,r.rectangle=xc,r.setOptions=S,r.stamp=c,r.svg=na,r.svgOverlay=co,r.tileLayer=as,r.tooltip=Jh,r.transformation=it,r.version=i,r.videoOverlay=kn;var fu=window.L;r.noConflict=function(){return window.L=fu,this},window.L=r}))})(_0,_0.exports)),_0.exports}var eu=Lz();const js=V1(eu);function Xh(t,e,r){return Object.freeze({instance:t,context:e,container:r})}function pg(t,e){return e==null?function(i,n){const a=ve.useRef(void 0);return a.current||(a.current=t(i,n)),a}:function(i,n){const a=ve.useRef(void 0);a.current||(a.current=t(i,n));const s=ve.useRef(i),{instance:l}=a.current;return ve.useEffect(function(){s.current!==i&&(e(l,i,s.current),s.current=i)},[l,i,e]),a}}function C8(t,e){ve.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function M8(t){return function(r){const i=Ep(),n=t(Tp(r,i),i);return L8(i.map,r.attribution),py(n.current,r.eventHandlers),C8(n.current,i),n}}function Nz(t,e){const r=ve.useRef(void 0);ve.useEffect(function(){if(e.pathOptions!==r.current){const n=e.pathOptions??{};t.instance.setStyle(n),r.current=n}},[t,e])}function Cz(t){return function(r){const i=Ep(),n=t(Tp(r,i),i);return py(n.current,r.eventHandlers),C8(n.current,i),Nz(n.current,r),n}}function Mz(t,e){const r=pg(t,e),i=M8(r);return N8(i)}function kz(t,e){const r=pg(t),i=Tz(r,e);return Sz(i)}function my(t,e){const r=pg(t,e),i=Cz(r);return N8(i)}function k8(t,e){const r=pg(t,e),i=M8(r);return Ez(i)}function P8(t,e,r){const{opacity:i,zIndex:n}=e;i!=null&&i!==r.opacity&&t.setOpacity(i),n!=null&&n!==r.zIndex&&t.setZIndex(n)}function Pz(){return Ep().map}const Oz=my(function({center:e,children:r,...i},n){const a=new eu.Circle(e,i);return Xh(a,dg(n,{overlayContainer:a}))},xz),Rz=my(function({children:e,...r},i){const n=new eu.FeatureGroup([],r);return Xh(n,dg(i,{layerContainer:n,overlayContainer:n}))}),O8=my(function({data:e,...r},i){const n=new eu.GeoJSON(e,r);return Xh(n,dg(i,{overlayContainer:n}))},function(e,r,i){r.style!==i.style&&(r.style==null?e.resetStyle():e.setStyle(r.style))});function Dz({bounds:t,boundsOptions:e,center:r,children:i,className:n,id:a,placeholder:s,style:l,whenReady:c,zoom:f,...p},v){const[y]=ve.useState({className:n,id:a,style:l}),[_,T]=ve.useState(null),S=ve.useRef(void 0);ve.useImperativeHandle(v,()=>_?.map??null,[_]);const C=ve.useCallback(I=>{if(I!==null&&!S.current){const D=new eu.Map(I,p);S.current=D,r!=null&&f!=null?D.setView(r,f):t!=null&&D.fitBounds(t,e),c!=null&&D.whenReady(c),T(bz(D))}},[]);ve.useEffect(()=>()=>{_?.map.remove()},[_]);const O=_?yl.createElement(dy,{value:_},i):s??null;return yl.createElement("div",{...y,ref:C},O)}const gy=ve.forwardRef(Dz),jz=Mz(function({position:e,...r},i){const n=new eu.Marker(e,r);return Xh(n,dg(i,{overlayContainer:n}))},function(e,r,i){r.position!==i.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==i.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==i.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==i.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),R8=kz(function(e,r){const i=new eu.Popup(e,r.overlayContainer);return Xh(i,r)},function(e,r,{position:i},n){ve.useEffect(function(){const{instance:s}=e;function l(f){f.popup===s&&(s.update(),n(!0))}function c(f){f.popup===s&&n(!1)}return r.map.on({popupopen:l,popupclose:c}),r.overlayContainer==null?(i!=null&&s.setLatLng(i),s.openOn(r.map)):r.overlayContainer.bindPopup(s),function(){r.map.off({popupopen:l,popupclose:c}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(s)}},[e,r,n,i])}),vy=k8(function({url:e,...r},i){const n=new eu.TileLayer(e,Tp(r,i));return Xh(n,i)},function(e,r,i){P8(e,r,i);const{url:n}=r;n!=null&&n!==i.url&&e.setUrl(n)}),D8=k8(function({eventHandlers:e,params:r={},url:i,...n},a){const s=new eu.TileLayer.WMS(i,{...r,...Tp(n,a)});return Xh(s,a)},function(e,r,i){P8(e,r,i),r.params!=null&&r.params!==i.params&&e.setParams(r.params)});var L2={exports:{}},N2,v3;function Iz(){if(v3)return N2;v3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return N2=t,N2}var C2,_3;function Fz(){if(_3)return C2;_3=1;var t=Iz();function e(){}function r(){}return r.resetWarningCache=e,C2=function(){function i(s,l,c,f,p,v){if(v!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function n(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:n,element:i,elementType:i,instanceOf:n,node:i,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},C2}var y3;function Bz(){return y3||(y3=1,L2.exports=Fz()()),L2.exports}var on=Bz();(function(t,e,r){function i(n,a){for(;(n=n.parentElement)&&!n.classList.contains(a););return n}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(n,a){this._map=n,this._container=n._container,this._overlayPane=n._panes.overlayPane,this._popupPane=n._panes.popupPane,a&&a.shapeOptions&&(a.shapeOptions=L.Util.extend({},this.options.shapeOptions,a.shapeOptions)),L.setOptions(this,a);var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(L.DomUtil.disableTextSelection(),n.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(n){L.setOptions(this,n)},_fireCreatedEvent:function(n){this._map.fire(L.Draw.Event.CREATED,{layer:n,layerType:this.type})},_cancelDrawing:function(n){n.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(n,a){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,a&&a.drawError&&(a.drawError=L.Util.extend({},this.options.drawError,a.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,n,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var n=this._markers.pop(),a=this._poly,s=a.getLatLngs(),l=s.splice(-1,1)[0];this._poly.setLatLngs(s),this._markerGroup.removeLayer(n),a.getLatLngs().length<2&&this._map.removeLayer(a),this._vertexChanged(l,!1)}},addVertex:function(n){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(n))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(n)),this._poly.addLatLng(n),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(n,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var n=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),a=this._poly.newLatLngIntersects(n[n.length-1]);if(!this.options.allowIntersection&&a||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(n){var a=this._map.mouseEventToLayerPoint(n.originalEvent),s=this._map.layerPointToLatLng(a);this._currentLatLng=s,this._updateTooltip(s),this._updateGuide(a),this._mouseMarker.setLatLng(s),L.DomEvent.preventDefault(n.originalEvent)},_vertexChanged:function(n,a){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(n,a),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(n){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(n),this._clickHandled=!0,this._disableNewMarkers();var a=n.originalEvent,s=a.clientX,l=a.clientY;this._startPoint.call(this,s,l)}},_startPoint:function(n,a){this._mouseDownOrigin=L.point(n,a)},_onMouseUp:function(n){var a=n.originalEvent,s=a.clientX,l=a.clientY;this._endPoint.call(this,s,l,n),this._clickHandled=null},_endPoint:function(n,a,s){if(this._mouseDownOrigin){var l=L.point(n,a).distanceTo(this._mouseDownOrigin),c=this._calculateFinishDistance(s.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(s.latlng),this._finishShape()):c<10&&L.Browser.touch?this._finishShape():Math.abs(l)<9*(t.devicePixelRatio||1)&&this.addVertex(s.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(n){var a,s,l=n.originalEvent;!l.touches||!l.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(a=l.touches[0].clientX,s=l.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,a,s),this._endPoint.call(this,a,s,n),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(n){var a;if(this._markers.length>0){var s;if(this.type===L.Draw.Polyline.TYPE)s=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;s=this._markers[0]}var l=this._map.latLngToContainerPoint(s.getLatLng()),c=new L.Marker(n,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),f=this._map.latLngToContainerPoint(c.getLatLng());a=l.distanceTo(f)}else a=1/0;return a},_updateFinishHandler:function(){var n=this._markers.length;n>1&&this._markers[n-1].on("click",this._finishShape,this),n>2&&this._markers[n-2].off("click",this._finishShape,this)},_createMarker:function(n){var a=new L.Marker(n,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(a),a},_updateGuide:function(n){var a=this._markers?this._markers.length:0;a>0&&(n=n||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[a-1].getLatLng()),n))},_updateTooltip:function(n){var a=this._getTooltipText();n&&this._tooltip.updatePosition(n),this._errorShown||this._tooltip.updateContent(a)},_drawGuide:function(n,a){var s,l,c,f=Math.floor(Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2))),p=this.options.guidelineDistance,v=this.options.maxGuideLineLength,y=f>v?f-v:p;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));y<f;y+=this.options.guidelineDistance)s=y/f,l={x:Math.floor(n.x*(1-s)+s*a.x),y:Math.floor(n.y*(1-s)+s*a.y)},c=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),c.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(c,l)},_updateGuideColor:function(n){if(this._guidesContainer)for(var a=0,s=this._guidesContainer.childNodes.length;a<s;a++)this._guidesContainer.childNodes[a].style.backgroundColor=n},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var n,a,s=this.options.showLength;return this._markers.length===0?n={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(a=s?this._getMeasurementString():"",n=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:a}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:a}),n},_updateRunningMeasure:function(n,a){var s,l,c=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(s=c-(a?2:1),l=L.GeometryUtil.isVersion07x()?n.distanceTo(this._markers[s].getLatLng())*(this.options.factor||1):this._map.distance(n,this._markers[s].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=l*(a?1:-1))},_getMeasurementString:function(){var n,a=this._currentLatLng,s=this._markers[this._markers.length-1].getLatLng();return n=L.GeometryUtil.isVersion07x()?s&&a&&a.distanceTo?this._measurementRunningTotal+a.distanceTo(s)*(this.options.factor||1):this._measurementRunningTotal||0:s&&a?this._measurementRunningTotal+this._map.distance(a,s)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(n,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var n=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(n,a){L.Draw.Polyline.prototype.initialize.call(this,n,a),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var n=this._markers.length;n===1&&this._markers[0].on("click",this._finishShape,this),n>2&&(this._markers[n-1].on("dblclick",this._finishShape,this),n>3&&this._markers[n-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var n,a;return this._markers.length===0?n=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(n=L.drawLocal.draw.handlers.polygon.tooltip.cont,a=this._getMeasurementString()):(n=L.drawLocal.draw.handlers.polygon.tooltip.end,a=this._getMeasurementString()),{text:n,subtext:a}},_getMeasurementString:function(){var n=this._area,a="";return n||this.options.showLength?(this.options.showLength&&(a=L.Draw.Polyline.prototype._getMeasurementString.call(this)),n&&(a+="<br>"+L.GeometryUtil.readableArea(n,this.options.metric,this.options.precision)),a):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(n,a){var s;!this.options.allowIntersection&&this.options.showArea&&(s=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(s)),L.Draw.Polyline.prototype._vertexChanged.call(this,n,a)},_cleanUpShape:function(){var n=this._markers.length;n>0&&(this._markers[0].off("click",this._finishShape,this),n>2&&this._markers[n-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(n,a){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,n,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(n){this._isDrawing=!0,this._startLatLng=n.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(n.originalEvent)},_onMouseMove:function(n){var a=n.latlng;this._tooltip.updatePosition(a),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(a))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(n,a){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,n,a)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(n){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!i(n.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(n){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,n)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,n),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var n=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,n)},_getTooltipText:function(){var n,a,s,l=L.Draw.SimpleShape.prototype._getTooltipText.call(this),c=this._shape,f=this.options.showArea;return c&&(n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),a=L.GeometryUtil.geodesicArea(n),s=f?L.GeometryUtil.readableArea(a,this.options.metric):""),{text:l.text,subtext:s}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(n,a){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,n,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(n){var a=n.latlng;this._tooltip.updatePosition(a),this._mouseMarker.setLatLng(a),this._marker?(a=this._mouseMarker.getLatLng(),this._marker.setLatLng(a)):(this._marker=this._createMarker(a),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(n){return new L.Marker(n,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(n){this._onMouseMove(n),this._onClick()},_fireCreatedEvent:function(){var n=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(n,a){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,n,a)},_fireCreatedEvent:function(){var n=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)},_createMarker:function(n){return new L.CircleMarker(n,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(n,a){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,n,a)},_drawShape:function(n){if(L.GeometryUtil.isVersion07x())var a=this._startLatLng.distanceTo(n);else var a=this._map.distance(this._startLatLng,n);this._shape?this._shape.setRadius(a):(this._shape=new L.Circle(this._startLatLng,a,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var n=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,n)},_onMouseMove:function(n){var a,s=n.latlng,l=this.options.showRadius,c=this.options.metric;if(this._tooltip.updatePosition(s),this._isDrawing){this._drawShape(s),a=this._shape.getRadius().toFixed(1);var f="";l&&(f=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(a,c,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:f})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(n,a){this._marker=n,L.setOptions(this,a)},addHooks:function(){var n=this._marker;n.dragging.enable(),n.on("dragend",this._onDragEnd,n),this._toggleMarkerHighlight()},removeHooks:function(){var n=this._marker;n.dragging.disable(),n.off("dragend",this._onDragEnd,n),this._toggleMarkerHighlight()},_onDragEnd:function(n){var a=n.target;a.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_toggleMarkerHighlight:function(){var n=this._marker._icon;n&&(n.style.display="none",L.DomUtil.hasClass(n,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(n,"leaflet-edit-marker-selected"),this._offsetMarker(n,-4)):(L.DomUtil.addClass(n,"leaflet-edit-marker-selected"),this._offsetMarker(n,4)),n.style.display="")},_offsetMarker:function(n,a){var s=parseInt(n.style.marginTop,10)-a,l=parseInt(n.style.marginLeft,10)-a;n.style.marginTop=s+"px",n.style.marginLeft=l+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(n){this.latlngs=[n._latlngs],n._holes&&(this.latlngs=this.latlngs.concat(n._holes)),this._poly=n,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(n){for(var a=0;a<this._verticesHandlers.length;a++)n(this._verticesHandlers[a])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(n){n.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(n){n.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(n){n.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var n=0;n<this.latlngs.length;n++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[n],this._poly.options.poly))},_updateLatLngs:function(n){this.latlngs=[n.layer._latlngs],n.layer._holes&&(this.latlngs=this.latlngs.concat(n.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(n,a,s){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=n,s&&s.drawError&&(s.drawError=L.Util.extend({},this.options.drawError,s.drawError)),this._latlngs=a,L.setOptions(this,s)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var n=this._poly,a=n._path;n instanceof L.Polygon||(n.options.fill=!1,n.options.editing&&(n.options.editing.fill=!1)),a&&n.options.editing&&n.options.editing.className&&(n.options.original.className&&n.options.original.className.split(" ").forEach(function(s){L.DomUtil.removeClass(a,s)}),n.options.editing.className.split(" ").forEach(function(s){L.DomUtil.addClass(a,s)})),n.setStyle(n.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var n=this._poly,a=n._path;a&&n.options.editing&&n.options.editing.className&&(n.options.editing.className.split(" ").forEach(function(s){L.DomUtil.removeClass(a,s)}),n.options.original.className&&n.options.original.className.split(" ").forEach(function(s){L.DomUtil.addClass(a,s)})),n.setStyle(n.options.original),n._map&&(n._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var n,a,s,l,c=this._defaultShape();for(n=0,s=c.length;n<s;n++)l=this._createMarker(c[n],n),l.on("click",this._onMarkerClick,this),l.on("contextmenu",this._onContextMenu,this),this._markers.push(l);var f,p;for(n=0,a=s-1;n<s;a=n++)(n!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(f=this._markers[a],p=this._markers[n],this._createMiddleMarker(f,p),this._updatePrevNext(f,p))},_createMarker:function(n,a){var s=new L.Marker.Touch(n,{draggable:!0,icon:this.options.icon});return s._origLatLng=n,s._index=a,s.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(s),s},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var n=this._defaultShape(),a=[].splice.apply(n,arguments);return this._poly._convertLatLngs(n,!0),this._poly.redraw(),a},_removeMarker:function(n){var a=n._index;this._markerGroup.removeLayer(n),this._markers.splice(a,1),this._spliceLatLngs(a,1),this._updateIndexes(a,-1),n.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(n){var a=n.target,s=this._poly,l=L.LatLngUtil.cloneLatLng(a._origLatLng);if(L.extend(a._origLatLng,a._latlng),s.options.poly){var c=s._map._editTooltip;if(!s.options.poly.allowIntersection&&s.intersects()){L.extend(a._origLatLng,l),a.setLatLng(l);var f=s.options.color;s.setStyle({color:this.options.drawError.color}),c&&c.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){s.setStyle({color:f}),c&&c.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}a._middleLeft&&a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev,a)),a._middleRight&&a._middleRight.setLatLng(this._getMiddleLatLng(a,a._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var p=this._poly.getLatLngs();this._poly._convertLatLngs(p,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(n){var a=L.Polygon&&this._poly instanceof L.Polygon?4:3,s=n.target;this._defaultShape().length<a||(this._removeMarker(s),this._updatePrevNext(s._prev,s._next),s._middleLeft&&this._markerGroup.removeLayer(s._middleLeft),s._middleRight&&this._markerGroup.removeLayer(s._middleRight),s._prev&&s._next?this._createMiddleMarker(s._prev,s._next):s._prev?s._next||(s._prev._middleRight=null):s._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(n){var a=n.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:a,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(n){var a=this._map.mouseEventToLayerPoint(n.originalEvent.touches[0]),s=this._map.layerPointToLatLng(a),l=n.target;L.extend(l._origLatLng,s),l._middleLeft&&l._middleLeft.setLatLng(this._getMiddleLatLng(l._prev,l)),l._middleRight&&l._middleRight.setLatLng(this._getMiddleLatLng(l,l._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(n,a){this._markerGroup.eachLayer(function(s){s._index>n&&(s._index+=a)})},_createMiddleMarker:function(n,a){var s,l,c,f=this._getMiddleLatLng(n,a),p=this._createMarker(f);p.setOpacity(.6),n._middleRight=a._middleLeft=p,l=function(){p.off("touchmove",l,this);var v=a._index;p._index=v,p.off("click",s,this).on("click",this._onMarkerClick,this),f.lat=p.getLatLng().lat,f.lng=p.getLatLng().lng,this._spliceLatLngs(v,0,f),this._markers.splice(v,0,p),p.setOpacity(1),this._updateIndexes(v,1),a._index++,this._updatePrevNext(n,p),this._updatePrevNext(p,a),this._poly.fire("editstart")},c=function(){p.off("dragstart",l,this),p.off("dragend",c,this),p.off("touchmove",l,this),this._createMiddleMarker(n,p),this._createMiddleMarker(p,a)},s=function(){l.call(this),c.call(this),this._fireEdit()},p.on("click",s,this).on("dragstart",l,this).on("dragend",c,this).on("touchmove",l,this),this._markerGroup.addLayer(p)},_updatePrevNext:function(n,a){n&&(n._next=a),a&&(a._prev=n)},_getMiddleLatLng:function(n,a){var s=this._poly._map,l=s.project(n.getLatLng()),c=s.project(a.getLatLng());return s.unproject(l._add(c)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(n,a){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=n,L.Util.setOptions(this,a)},addHooks:function(){var n=this._shape;this._shape._map&&(this._map=this._shape._map,n.setStyle(n.options.editing),n._map&&(this._map=n._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var n=this._shape;if(n.setStyle(n.options.original),n._map){this._unbindMarker(this._moveMarker);for(var a=0,s=this._resizeMarkers.length;a<s;a++)this._unbindMarker(this._resizeMarkers[a]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(n,a){var s=new L.Marker.Touch(n,{draggable:!0,icon:a,zIndexOffset:10});return this._bindMarker(s),this._markerGroup.addLayer(s),s},_bindMarker:function(n){n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(n){n.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(n){n.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(n){var a=n.target,s=a.getLatLng();a===this._moveMarker?this._move(s):this._resize(s),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(n){n.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(n){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,n),typeof this._getCorners=="function"){var a=this._getCorners(),s=n.target,l=s._cornerIndex;s.setOpacity(0),this._oppositeCorner=a[(l+2)%4],this._toggleCornerMarkers(0,l)}this._shape.fire("editstart")},_onTouchMove:function(n){var a=this._map.mouseEventToLayerPoint(n.originalEvent.touches[0]),s=this._map.layerPointToLatLng(a);return n.target===this._moveMarker?this._move(s):this._resize(s),this._shape.redraw(),!1},_onTouchEnd:function(n){n.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var n=this._shape.getBounds(),a=n.getCenter();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){var n=this._getCorners();this._resizeMarkers=[];for(var a=0,s=n.length;a<s;a++)this._resizeMarkers.push(this._createMarker(n[a],this.options.resizeIcon)),this._resizeMarkers[a]._cornerIndex=a},_onMarkerDragStart:function(n){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,n);var a=this._getCorners(),s=n.target,l=s._cornerIndex;this._oppositeCorner=a[(l+2)%4],this._toggleCornerMarkers(0,l)},_onMarkerDragEnd:function(n){var a,s,l=n.target;l===this._moveMarker&&(a=this._shape.getBounds(),s=a.getCenter(),l.setLatLng(s)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,n)},_move:function(n){for(var a,s=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),l=this._shape.getBounds(),c=l.getCenter(),f=[],p=0,v=s.length;p<v;p++)a=[s[p].lat-c.lat,s[p].lng-c.lng],f.push([n.lat+a[0],n.lng+a[1]]);this._shape.setLatLngs(f),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(n){var a;this._shape.setBounds(L.latLngBounds(n,this._oppositeCorner)),a=this._shape.getBounds(),this._moveMarker.setLatLng(a.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var n=this._shape.getBounds();return[n.getNorthWest(),n.getNorthEast(),n.getSouthEast(),n.getSouthWest()]},_toggleCornerMarkers:function(n){for(var a=0,s=this._resizeMarkers.length;a<s;a++)this._resizeMarkers[a].setOpacity(n)},_repositionCornerMarkers:function(){for(var n=this._getCorners(),a=0,s=this._resizeMarkers.length;a<s;a++)this._resizeMarkers[a].setLatLng(n[a])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var n=this._shape.getLatLng();this._moveMarker=this._createMarker(n,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(n){if(this._resizeMarkers.length){var a=this._getResizeMarkerPoint(n);this._resizeMarkers[0].setLatLng(a)}this._shape.setLatLng(n),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var n=this._shape.getLatLng(),a=this._getResizeMarkerPoint(n);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(a,this.options.resizeIcon))},_getResizeMarkerPoint:function(n){var a=this._shape._radius*Math.cos(Math.PI/4),s=this._map.project(n);return this._map.unproject([s.x+a,s.y-a])},_resize:function(n){var a=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=a.distanceTo(n):radius=this._map.distance(a,n),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(n,a){var s={};if(n.touches!==void 0){if(!n.touches.length)return;s=n.touches[0]}else if(n.pointerType!=="touch"||(s=n,!this._filterClick(n)))return;var l=this._map.mouseEventToContainerPoint(s),c=this._map.mouseEventToLayerPoint(s),f=this._map.layerPointToLatLng(c);this._map.fire(a,{latlng:f,layerPoint:c,containerPoint:l,pageX:s.pageX,pageY:s.pageY,originalEvent:n})},_filterClick:function(n){var a=n.timeStamp||n.originalEvent.timeStamp,s=L.DomEvent._lastClick&&a-L.DomEvent._lastClick;return s&&s>100&&s<500||n.target._simulatedClick&&!n._simulated?(L.DomEvent.stop(n),!1):(L.DomEvent._lastClick=a,!0)},_onTouchStart:function(n){this._map._loaded&&this._touchEvent(n,"touchstart")},_onTouchEnd:function(n){this._map._loaded&&this._touchEvent(n,"touchend")},_onTouchCancel:function(n){if(this._map._loaded){var a="touchcancel";this._detectIE()&&(a="pointercancel"),this._touchEvent(n,a)}},_onTouchLeave:function(n){this._map._loaded&&this._touchEvent(n,"touchleave")},_onTouchMove:function(n){this._map._loaded&&this._touchEvent(n,"touchmove")},_detectIE:function(){var n=t.navigator.userAgent,a=n.indexOf("MSIE ");if(a>0)return parseInt(n.substring(a+5,n.indexOf(".",a)),10);if(n.indexOf("Trident/")>0){var s=n.indexOf("rv:");return parseInt(n.substring(s+3,n.indexOf(".",s)),10)}var l=n.indexOf("Edge/");return l>0&&parseInt(n.substring(l+5,n.indexOf(".",l)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var n=this._icon,a=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?a.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):a.concat(["touchcancel"]),L.DomUtil.addClass(n,"leaflet-clickable"),L.DomEvent.on(n,"click",this._onMouseClick,this),L.DomEvent.on(n,"keypress",this._onKeyPress,this);for(var s=0;s<a.length;s++)L.DomEvent.on(n,a[s],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var n=t.navigator.userAgent,a=n.indexOf("MSIE ");if(a>0)return parseInt(n.substring(a+5,n.indexOf(".",a)),10);if(n.indexOf("Trident/")>0){var s=n.indexOf("rv:");return parseInt(n.substring(s+3,n.indexOf(".",s)),10)}var l=n.indexOf("Edge/");return l>0&&parseInt(n.substring(l+5,n.indexOf(".",l)),10)}}),L.LatLngUtil={cloneLatLngs:function(n){for(var a=[],s=0,l=n.length;s<l;s++)Array.isArray(n[s])?a.push(L.LatLngUtil.cloneLatLngs(n[s])):a.push(this.cloneLatLng(n[s]));return a},cloneLatLng:function(n){return L.latLng(n.lat,n.lng)}},(function(){var n={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(a){var s,l,c=a.length,f=0,p=Math.PI/180;if(c>2){for(var v=0;v<c;v++)s=a[v],l=a[(v+1)%c],f+=(l.lng-s.lng)*p*(2+Math.sin(s.lat*p)+Math.sin(l.lat*p));f=6378137*f*6378137/2}return Math.abs(f)},formattedNumber:function(a,s){var l=parseFloat(a).toFixed(s),c=L.drawLocal.format&&L.drawLocal.format.numeric,f=c&&c.delimiters,p=f&&f.thousands,v=f&&f.decimal;if(p||v){var y=l.split(".");l=p?y[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p):y[0],v=v||".",y.length>1&&(l=l+v+y[1])}return l},readableArea:function(a,s,p){var c,f,p=L.Util.extend({},n,p);return s?(f=["ha","m"],type=typeof s,type==="string"?f=[s]:type!=="boolean"&&(f=s),c=a>=1e6&&f.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*a,p.km)+" km":a>=1e4&&f.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*a,p.ha)+" ha":L.GeometryUtil.formattedNumber(a,p.m)+" m"):(a/=.836127,c=a>=3097600?L.GeometryUtil.formattedNumber(a/3097600,p.mi)+" mi":a>=4840?L.GeometryUtil.formattedNumber(a/4840,p.ac)+" acres":L.GeometryUtil.formattedNumber(a,p.yd)+" yd"),c},readableDistance:function(a,s,l,c,v){var p,v=L.Util.extend({},n,v);switch(s?typeof s=="string"?s:"metric":l?"feet":c?"nauticalMile":"yards"){case"metric":p=a>1e3?L.GeometryUtil.formattedNumber(a/1e3,v.km)+" km":L.GeometryUtil.formattedNumber(a,v.m)+" m";break;case"feet":a*=3.28083,p=L.GeometryUtil.formattedNumber(a,v.ft)+" ft";break;case"nauticalMile":a*=.53996,p=L.GeometryUtil.formattedNumber(a/1e3,v.nm)+" nm";break;default:a*=1.09361,p=a>1760?L.GeometryUtil.formattedNumber(a/1760,v.mi)+" miles":L.GeometryUtil.formattedNumber(a,v.yd)+" yd"}return p},isVersion07x:function(){var a=L.version.split(".");return parseInt(a[0],10)===0&&parseInt(a[1],10)===7}})})(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(n,a,s,l){return this._checkCounterclockwise(n,s,l)!==this._checkCounterclockwise(a,s,l)&&this._checkCounterclockwise(n,a,s)!==this._checkCounterclockwise(n,a,l)},_checkCounterclockwise:function(n,a,s){return(s.y-n.y)*(a.x-n.x)>(a.y-n.y)*(s.x-n.x)}}),L.Polyline.include({intersects:function(){var n,a,s,l=this._getProjectedPoints(),c=l?l.length:0;if(this._tooFewPointsForIntersection())return!1;for(n=c-1;n>=3;n--)if(a=l[n-1],s=l[n],this._lineSegmentsIntersectsRange(a,s,n-2))return!0;return!1},newLatLngIntersects:function(n,a){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(n),a)},newPointIntersects:function(n,a){var s=this._getProjectedPoints(),l=s?s.length:0,c=s?s[l-1]:null,f=l-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(c,n,f,a?1:0)},_tooFewPointsForIntersection:function(n){var a=this._getProjectedPoints(),s=a?a.length:0;return s+=n||0,!a||s<=3},_lineSegmentsIntersectsRange:function(n,a,s,l){var c,f,p=this._getProjectedPoints();l=l||0;for(var v=s;v>l;v--)if(c=p[v-1],f=p[v],L.LineUtil.segmentsIntersect(n,a,c,f))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var n=[],a=this._defaultShape(),s=0;s<a.length;s++)n.push(this._map.latLngToLayerPoint(a[s]));return n}}),L.Polygon.include({intersects:function(){var n,a,s,l,c=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(n=c.length,a=c[0],s=c[n-1],l=n-2,this._lineSegmentsIntersectsRange(s,a,l,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(n){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,n);var a;this._toolbars={},L.DrawToolbar&&this.options.draw&&(a=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=a,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(a=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=a,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(n){var a,s=L.DomUtil.create("div","leaflet-draw"),l=!1;for(var c in this._toolbars)this._toolbars.hasOwnProperty(c)&&(a=this._toolbars[c].addToolbar(n))&&(l||(L.DomUtil.hasClass(a,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(a.childNodes[0],"leaflet-draw-toolbar-top"),l=!0),s.appendChild(a));return s},onRemove:function(){for(var n in this._toolbars)this._toolbars.hasOwnProperty(n)&&this._toolbars[n].removeToolbar()},setDrawingOptions:function(n){for(var a in this._toolbars)this._toolbars[a]instanceof L.DrawToolbar&&this._toolbars[a].setOptions(n)},_toolbarEnabled:function(n){var a=n.target;for(var s in this._toolbars)this._toolbars[s]!==a&&this._toolbars[s].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(n){L.setOptions(this,n),this._modes={},this._actionButtons=[],this._activeMode=null;var a=L.version.split(".");parseInt(a[0],10)===1&&parseInt(a[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(n){var a,s=L.DomUtil.create("div","leaflet-draw-section"),l=0,c=this._toolbarClass||"",f=this.getModeHandlers(n);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=n,a=0;a<f.length;a++)f[a].enabled&&this._initModeHandler(f[a].handler,this._toolbarContainer,l++,c,f[a].title);if(l)return this._lastButtonIndex=--l,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),s.appendChild(this._toolbarContainer),s.appendChild(this._actionsContainer),s},removeToolbar:function(){for(var n in this._modes)this._modes.hasOwnProperty(n)&&(this._disposeButton(this._modes[n].button,this._modes[n].handler.enable,this._modes[n].handler),this._modes[n].handler.disable(),this._modes[n].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var a=0,s=this._actionButtons.length;a<s;a++)this._disposeButton(this._actionButtons[a].button,this._actionButtons[a].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(n,a,s,l,c){var f=n.type;this._modes[f]={},this._modes[f].handler=n,this._modes[f].button=this._createButton({type:f,title:c,className:l+"-"+f,container:a,callback:this._modes[f].handler.enable,context:this._modes[f].handler}),this._modes[f].buttonIndex=s,this._modes[f].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(n){var a=L.DomUtil.create("a",n.className||"",n.container),s=L.DomUtil.create("span","sr-only",n.container);a.href="#",a.appendChild(s),n.title&&(a.title=n.title,s.innerHTML=n.title),n.text&&(a.innerHTML=n.text,s.innerHTML=n.text);var l=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(a,"click",L.DomEvent.stopPropagation).on(a,"mousedown",L.DomEvent.stopPropagation).on(a,"dblclick",L.DomEvent.stopPropagation).on(a,"touchstart",L.DomEvent.stopPropagation).on(a,"click",L.DomEvent.preventDefault).on(a,l,n.callback,n.context),a},_disposeButton:function(n,a){var s=this._detectIOS()?"touchstart":"click";L.DomEvent.off(n,"click",L.DomEvent.stopPropagation).off(n,"mousedown",L.DomEvent.stopPropagation).off(n,"dblclick",L.DomEvent.stopPropagation).off(n,"touchstart",L.DomEvent.stopPropagation).off(n,"click",L.DomEvent.preventDefault).off(n,s,a)},_handlerActivated:function(n){this.disable(),this._activeMode=this._modes[n.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(n){var a,s,l,c,f=this._actionsContainer,p=this.getActions(n),v=p.length;for(s=0,l=this._actionButtons.length;s<l;s++)this._disposeButton(this._actionButtons[s].button,this._actionButtons[s].callback);for(this._actionButtons=[];f.firstChild;)f.removeChild(f.firstChild);for(var y=0;y<v;y++)"enabled"in p[y]&&!p[y].enabled||(a=L.DomUtil.create("li","",f),c=this._createButton({title:p[y].title,text:p[y].text,container:a,callback:p[y].callback,context:p[y].context}),this._actionButtons.push({button:c,callback:p[y].callback}))},_showActionsToolbar:function(){var n=this._activeMode.buttonIndex,a=this._lastButtonIndex,s=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=s+"px",n===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),n===a&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(n){this._map=n,this._popupPane=n._panes.popupPane,this._visible=!1,this._container=n.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(n){return this._container?(n.subtext=n.subtext||"",n.subtext.length!==0||this._singleLineLabel?n.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(n.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+n.subtext+"</span><br />":"")+"<span>"+n.text+"</span>",n.text||n.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(n){var a=this._map.latLngToLayerPoint(n),s=this._container;return this._container&&(this._visible&&(s.style.visibility="inherit"),L.DomUtil.setPosition(s,a)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(n){for(var a in this.options)this.options.hasOwnProperty(a)&&n[a]&&(n[a]=L.extend({},this.options[a],n[a]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,n)},getModeHandlers:function(n){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(n,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(n,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(n,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(n,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(n,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(n,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(n){return[{enabled:n.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:n.completeShape,context:n},{enabled:n.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:n.deleteLastVertex,context:n},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(n){L.setOptions(this,n);for(var a in this._modes)this._modes.hasOwnProperty(a)&&n.hasOwnProperty(a)&&this._modes[a].handler.setOptions(n[a])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(n){n.edit&&(n.edit.selectedPathOptions===void 0&&(n.edit.selectedPathOptions=this.options.edit.selectedPathOptions),n.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,n.edit.selectedPathOptions)),n.remove&&(n.remove=L.extend({},this.options.remove,n.remove)),n.poly&&(n.poly=L.extend({},this.options.poly,n.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,n),this._selectedFeatureCount=0},getModeHandlers:function(n){var a=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(n,{featureGroup:a,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(n,{featureGroup:a}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(n){var a=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return n.removeAllLayers&&a.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),a},addToolbar:function(n){var a=L.Toolbar.prototype.addToolbar.call(this,n);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),a},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var n,a=this.options.featureGroup,s=a.getLayers().length!==0;this.options.edit&&(n=this._modes[L.EditToolbar.Edit.TYPE].button,s?L.DomUtil.removeClass(n,"leaflet-disabled"):L.DomUtil.addClass(n,"leaflet-disabled"),n.setAttribute("title",s?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(n=this._modes[L.EditToolbar.Delete.TYPE].button,s?L.DomUtil.removeClass(n,"leaflet-disabled"):L.DomUtil.addClass(n,"leaflet-disabled"),n.setAttribute("title",s?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(n,a){if(L.Handler.prototype.initialize.call(this,n),L.setOptions(this,a),this._featureGroup=a.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(n.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),n._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(n){this._revertLayer(n)},this)},save:function(){var n=new L.LayerGroup;this._featureGroup.eachLayer(function(a){a.edited&&(n.addLayer(a),a.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:n})},_backupLayer:function(n){var a=L.Util.stamp(n);this._uneditedLayerProps[a]||(n instanceof L.Polyline||n instanceof L.Polygon||n instanceof L.Rectangle?this._uneditedLayerProps[a]={latlngs:L.LatLngUtil.cloneLatLngs(n.getLatLngs())}:n instanceof L.Circle?this._uneditedLayerProps[a]={latlng:L.LatLngUtil.cloneLatLng(n.getLatLng()),radius:n.getRadius()}:(n instanceof L.Marker||n instanceof L.CircleMarker)&&(this._uneditedLayerProps[a]={latlng:L.LatLngUtil.cloneLatLng(n.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(n){var a=L.Util.stamp(n);n.edited=!1,this._uneditedLayerProps.hasOwnProperty(a)&&(n instanceof L.Polyline||n instanceof L.Polygon||n instanceof L.Rectangle?n.setLatLngs(this._uneditedLayerProps[a].latlngs):n instanceof L.Circle?(n.setLatLng(this._uneditedLayerProps[a].latlng),n.setRadius(this._uneditedLayerProps[a].radius)):(n instanceof L.Marker||n instanceof L.CircleMarker)&&n.setLatLng(this._uneditedLayerProps[a].latlng),n.fire("revert-edited",{layer:n}))},_enableLayerEdit:function(n){var a,s,l=n.layer||n.target||n;this._backupLayer(l),this.options.poly&&(s=L.Util.extend({},this.options.poly),l.options.poly=s),this.options.selectedPathOptions&&(a=L.Util.extend({},this.options.selectedPathOptions),a.maintainColor&&(a.color=l.options.color,a.fillColor=l.options.fillColor),l.options.original=L.extend({},l.options),l.options.editing=a),l instanceof L.Marker?(l.editing&&l.editing.enable(),l.dragging.enable(),l.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):l.editing.enable()},_disableLayerEdit:function(n){var a=n.layer||n.target||n;a.edited=!1,a.editing&&a.editing.disable(),delete a.options.editing,delete a.options.original,this._selectedPathOptions&&(a instanceof L.Marker?this._toggleMarkerHighlight(a):(a.setStyle(a.options.previousOptions),delete a.options.previousOptions)),a instanceof L.Marker?(a.dragging.disable(),a.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):a.editing.disable()},_onMouseMove:function(n){this._tooltip.updatePosition(n.latlng)},_onMarkerDragEnd:function(n){var a=n.target;a.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_onTouchMove:function(n){var a=n.originalEvent.changedTouches[0],s=this._map.mouseEventToLayerPoint(a),l=this._map.layerPointToLatLng(s);n.target.setLatLng(l)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(n,a){if(L.Handler.prototype.initialize.call(this,n),L.Util.setOptions(this,a),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(n.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(n){this._deletableLayers.addLayer(n),n.fire("revert-deleted",{layer:n})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(n){this._removeLayer({layer:n})},this),this.save()},_enableLayerDelete:function(n){(n.layer||n.target||n).on("click",this._removeLayer,this)},_disableLayerDelete:function(n){var a=n.layer||n.target||n;a.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(a)},_removeLayer:function(n){var a=n.layer||n.target||n;this._deletableLayers.removeLayer(a),this._deletedLayers.addLayer(a),a.fire("deleted")},_onMouseMove:function(n){this._tooltip.updatePosition(n.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);var M2,x3;function Uz(){return x3||(x3=1,M2=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var i,n,a;if(Array.isArray(e)){if(i=e.length,i!=r.length)return!1;for(n=i;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),i=a.length,i!==Object.keys(r).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[n]))return!1;for(n=i;n--!==0;){var s=a[n];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}),M2}var zz=Uz();const w3=V1(zz);function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function b3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function D0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(r),!0).forEach(function(i){Gz(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Gz(t,e,r){return(e=Hz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hz(t){var e=qz(t,"string");return sp(e)=="symbol"?e:e+""}function qz(t,e){if(sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(sp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eh={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"};function j8(t){var e=Ep(),r=ve.useRef(),i=ve.useRef(t),n=function(s){var l=t.onCreated,c=e.layerContainer||e.map;c.addLayer(s.layer),l&&l(s)};return yl.useEffect(function(){var a=e.map,s=t.onMounted;for(var l in Eh)a.on(Eh[l],function(c){var f=Object.keys(Eh).filter(function(v){return Eh[v]===c.type});if(f.length===1){var p=f[0];t[p]&&t[p](c)}});return a.on(js.Draw.Event.CREATED,n),r.current=S3(t,e),a.addControl(r.current),s&&s(r.current),function(){a.off(js.Draw.Event.CREATED,n);for(var c in Eh)t[c]&&a.off(Eh[c],t[c]);r.current.remove(a)}},[t.onCreated,t.onDeleted,t.onEdited]),yl.useEffect(function(){if(!(w3(t.draw,i.current.draw)&&w3(t.edit,i.current.edit)&&t.position===i.current.position)){var a=e.map;r.current.remove(a),r.current=S3(t,e),r.current.addTo(a);var s=t.onMounted;return s&&s(r.current),function(){r.current.remove(a)}}},[t.draw,t.edit,t.position,t.onCreated,t.onDeleted,t.onEdited]),null}function S3(t,e){var r=e.layerContainer,i=t.draw,n=t.edit,a=t.position,s={edit:D0(D0({},n),{},{featureGroup:r})};return i&&(s.draw=D0({},i)),a&&(s.position=a),new eu.Control.Draw(s)}j8.propTypes=D0(D0({},Object.keys(Eh).reduce(function(t,e){return t[e]=on.PropTypes.func,t},{})),{},{onCreated:on.PropTypes.func,onMounted:on.PropTypes.func,draw:on.PropTypes.shape({polyline:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),polygon:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),rectangle:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),circle:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),marker:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool])}),edit:on.PropTypes.shape({edit:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),remove:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),poly:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),allowIntersection:on.PropTypes.bool}),position:on.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:on.PropTypes.shape({map:on.PropTypes.instanceOf(eu.Map),layerContainer:on.PropTypes.shape({addLayer:on.PropTypes.func.isRequired,removeLayer:on.PropTypes.func.isRequired})})});function Vz(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t("EPSG:5041","+title=WGS 84 / UPS North (E,N) +proj=stere +lat_0=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t("EPSG:5042","+title=WGS 84 / UPS South (E,N) +proj=stere +lat_0=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var zh=1,Gh=2,gd=3,$z=4,x_=5,E3=6378137,Wz=6356752314e-3,T3=.0066943799901413165,j0=484813681109536e-20,At=Math.PI/2,Zz=.16666666666666666,Yz=.04722222222222222,Kz=.022156084656084655,Dt=1e-10,Wi=.017453292519943295,So=57.29577951308232,On=Math.PI/4,op=Math.PI*2,la=3.14159265359,No={};No.greenwich=0;No.lisbon=-9.131906111111;No.paris=2.337229166667;No.bogota=-74.080916666667;No.madrid=-3.687938888889;No.rome=12.452333333333;No.bern=7.439583333333;No.jakarta=106.807719444444;No.ferro=-17.666666666667;No.brussels=4.367975;No.stockholm=18.058277777778;No.athens=23.7163375;No.oslo=10.722916666667;const Xz={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var A3=/[\s_\-\/\(\)]/g;function ih(t,e){if(t[e])return t[e];for(var r=Object.keys(t),i=e.toLowerCase().replace(A3,""),n=-1,a,s;++n<r.length;)if(a=r[n],s=a.toLowerCase().replace(A3,""),s===i)return t[a]}function w_(t){var e={},r=t.split("+").map(function(l){return l.trim()}).filter(function(l){return l}).reduce(function(l,c){var f=c.split("=");return f.push(!0),l[f[0].toLowerCase()]=f[1],l},{}),i,n,a,s={proj:"projName",datum:"datumCode",rf:function(l){e.rf=parseFloat(l)},lat_0:function(l){e.lat0=l*Wi},lat_1:function(l){e.lat1=l*Wi},lat_2:function(l){e.lat2=l*Wi},lat_ts:function(l){e.lat_ts=l*Wi},lon_0:function(l){e.long0=l*Wi},lon_1:function(l){e.long1=l*Wi},lon_2:function(l){e.long2=l*Wi},alpha:function(l){e.alpha=parseFloat(l)*Wi},gamma:function(l){e.rectified_grid_angle=parseFloat(l)*Wi},lonc:function(l){e.longc=l*Wi},x_0:function(l){e.x0=parseFloat(l)},y_0:function(l){e.y0=parseFloat(l)},k_0:function(l){e.k0=parseFloat(l)},k:function(l){e.k0=parseFloat(l)},a:function(l){e.a=parseFloat(l)},b:function(l){e.b=parseFloat(l)},r:function(l){e.a=e.b=parseFloat(l)},r_a:function(){e.R_A=!0},zone:function(l){e.zone=parseInt(l,10)},south:function(){e.utmSouth=!0},towgs84:function(l){e.datum_params=l.split(",").map(function(c){return parseFloat(c)})},to_meter:function(l){e.to_meter=parseFloat(l)},units:function(l){e.units=l;var c=ih(Xz,l);c&&(e.to_meter=c.to_meter)},from_greenwich:function(l){e.from_greenwich=l*Wi},pm:function(l){var c=ih(No,l);e.from_greenwich=(c||parseFloat(l))*Wi},nadgrids:function(l){l==="@null"?e.datumCode="none":e.nadgrids=l},axis:function(l){var c="ewnsud";l.length===3&&c.indexOf(l.substr(0,1))!==-1&&c.indexOf(l.substr(1,1))!==-1&&c.indexOf(l.substr(2,1))!==-1&&(e.axis=l)},approx:function(){e.approx=!0},over:function(){e.over=!0}};for(i in r)n=r[i],i in s?(a=s[i],typeof a=="function"?a(n):e[a]=n):e[i]=n;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e.projStr=t,e}class I8{static getId(e){const r=e.find(i=>Array.isArray(i)&&i[0]==="ID");return r&&r.length>=3?{authority:r[1],code:parseInt(r[2],10)}:null}static convertUnit(e,r="unit"){if(!e||e.length<3)return{type:r,name:"unknown",conversion_factor:null};const i=e[1],n=parseFloat(e[2])||null,a=e.find(l=>Array.isArray(l)&&l[0]==="ID"),s=a?{authority:a[1],code:parseInt(a[2],10)}:null;return{type:r,name:i,conversion_factor:n,id:s}}static convertAxis(e){const r=e[1]||"Unknown";let i;const n=r.match(/^\((.)\)$/);if(n){const f=n[1].toUpperCase();if(f==="E")i="east";else if(f==="N")i="north";else if(f==="U")i="up";else throw new Error(`Unknown axis abbreviation: ${f}`)}else i=e[2]?e[2].toLowerCase():"unknown";const a=e.find(f=>Array.isArray(f)&&f[0]==="ORDER"),s=a?parseInt(a[1],10):null,l=e.find(f=>Array.isArray(f)&&(f[0]==="LENGTHUNIT"||f[0]==="ANGLEUNIT"||f[0]==="SCALEUNIT")),c=this.convertUnit(l);return{name:r,direction:i,unit:c,order:s}}static extractAxes(e){return e.filter(r=>Array.isArray(r)&&r[0]==="AXIS").map(r=>this.convertAxis(r)).sort((r,i)=>(r.order||0)-(i.order||0))}static convert(e,r={}){switch(e[0]){case"PROJCRS":r.type="ProjectedCRS",r.name=e[1],r.base_crs=e.find(y=>Array.isArray(y)&&y[0]==="BASEGEOGCRS")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="BASEGEOGCRS")):null,r.conversion=e.find(y=>Array.isArray(y)&&y[0]==="CONVERSION")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="CONVERSION")):null;const i=e.find(y=>Array.isArray(y)&&y[0]==="CS");i&&(r.coordinate_system={type:i[1],axis:this.extractAxes(e)});const n=e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT");if(n){const y=this.convertUnit(n);r.coordinate_system.unit=y}r.id=this.getId(e);break;case"BASEGEOGCRS":case"GEOGCRS":r.type="GeographicCRS",r.name=e[1];const a=e.find(y=>Array.isArray(y)&&(y[0]==="DATUM"||y[0]==="ENSEMBLE"));if(a){const y=this.convert(a);a[0]==="ENSEMBLE"?r.datum_ensemble=y:r.datum=y;const _=e.find(T=>Array.isArray(T)&&T[0]==="PRIMEM");_&&_[1]!=="Greenwich"&&(y.prime_meridian={name:_[1],longitude:parseFloat(_[2])})}r.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(e)},r.id=this.getId(e);break;case"DATUM":r.type="GeodeticReferenceFrame",r.name=e[1],r.ellipsoid=e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":r.type="DatumEnsemble",r.name=e[1],r.members=e.filter(y=>Array.isArray(y)&&y[0]==="MEMBER").map(y=>({type:"DatumEnsembleMember",name:y[1],id:this.getId(y)}));const s=e.find(y=>Array.isArray(y)&&y[0]==="ENSEMBLEACCURACY");s&&(r.accuracy=parseFloat(s[1]));const l=e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID");l&&(r.ellipsoid=this.convert(l)),r.id=this.getId(e);break;case"ELLIPSOID":r.type="Ellipsoid",r.name=e[1],r.semi_major_axis=parseFloat(e[2]),r.inverse_flattening=parseFloat(e[3]),e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT")&&this.convert(e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT"),r);break;case"CONVERSION":r.type="Conversion",r.name=e[1],r.method=e.find(y=>Array.isArray(y)&&y[0]==="METHOD")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="METHOD")):null,r.parameters=e.filter(y=>Array.isArray(y)&&y[0]==="PARAMETER").map(y=>this.convert(y));break;case"METHOD":r.type="Method",r.name=e[1],r.id=this.getId(e);break;case"PARAMETER":r.type="Parameter",r.name=e[1],r.value=parseFloat(e[2]),r.unit=this.convertUnit(e.find(y=>Array.isArray(y)&&(y[0]==="LENGTHUNIT"||y[0]==="ANGLEUNIT"||y[0]==="SCALEUNIT"))),r.id=this.getId(e);break;case"BOUNDCRS":r.type="BoundCRS";const c=e.find(y=>Array.isArray(y)&&y[0]==="SOURCECRS");if(c){const y=c.find(_=>Array.isArray(_));r.source_crs=y?this.convert(y):null}const f=e.find(y=>Array.isArray(y)&&y[0]==="TARGETCRS");if(f){const y=f.find(_=>Array.isArray(_));r.target_crs=y?this.convert(y):null}const p=e.find(y=>Array.isArray(y)&&y[0]==="ABRIDGEDTRANSFORMATION");p?r.transformation=this.convert(p):r.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(r.type="Transformation",r.name=e[1],r.method=e.find(y=>Array.isArray(y)&&y[0]==="METHOD")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="METHOD")):null,r.parameters=e.filter(y=>Array.isArray(y)&&(y[0]==="PARAMETER"||y[0]==="PARAMETERFILE")).map(y=>{if(y[0]==="PARAMETER")return this.convert(y);if(y[0]==="PARAMETERFILE")return{name:y[1],value:y[2],id:{authority:"EPSG",code:8656}}}),r.parameters.length===7){const y=r.parameters[6];y.name==="Scale difference"&&(y.value=Math.round((y.value-1)*1e12)/1e6)}r.id=this.getId(e);break;case"AXIS":r.coordinate_system||(r.coordinate_system={type:"unspecified",axis:[]}),r.coordinate_system.axis.push(this.convertAxis(e));break;case"LENGTHUNIT":const v=this.convertUnit(e,"LinearUnit");r.coordinate_system&&r.coordinate_system.axis&&r.coordinate_system.axis.forEach(y=>{y.unit||(y.unit=v)}),v.conversion_factor&&v.conversion_factor!==1&&r.semi_major_axis&&(r.semi_major_axis={value:r.semi_major_axis,unit:v});break;default:r.keyword=e[0];break}return r}}class Jz extends I8{static convert(e,r={}){return super.convert(e,r),r.coordinate_system&&r.coordinate_system.subtype==="Cartesian"&&delete r.coordinate_system,r.usage&&delete r.usage,r}}class Qz extends I8{static convert(e,r={}){super.convert(e,r);const i=e.find(a=>Array.isArray(a)&&a[0]==="CS");i&&(r.coordinate_system={subtype:i[1],axis:this.extractAxes(e)});const n=e.find(a=>Array.isArray(a)&&a[0]==="USAGE");if(n){const a=n.find(c=>Array.isArray(c)&&c[0]==="SCOPE"),s=n.find(c=>Array.isArray(c)&&c[0]==="AREA"),l=n.find(c=>Array.isArray(c)&&c[0]==="BBOX");r.usage={},a&&(r.usage.scope=a[1]),s&&(r.usage.area=s[1]),l&&(r.usage.bbox=l.slice(1))}return r}}function eG(t){return t.find(e=>Array.isArray(e)&&e[0]==="USAGE")?"2019":(t.find(e=>Array.isArray(e)&&e[0]==="CS")||t[0]==="BOUNDCRS"||t[0]==="PROJCRS"||t[0]==="GEOGCRS","2015")}function tG(t){return(eG(t)==="2019"?Qz:Jz).convert(t)}function rG(t){const e=t.toUpperCase();return e.includes("PROJCRS")||e.includes("GEOGCRS")||e.includes("BOUNDCRS")||e.includes("VERTCRS")||e.includes("LENGTHUNIT")||e.includes("ANGLEUNIT")||e.includes("SCALEUNIT")?"WKT2":(e.includes("PROJCS")||e.includes("GEOGCS")||e.includes("LOCAL_CS")||e.includes("VERT_CS")||e.includes("UNIT"),"WKT1")}var lp=1,F8=2,B8=3,I1=4,U8=5,_y=-1,nG=/\s/,iG=/[A-Za-z]/,aG=/[A-Za-z84_]/,mg=/[,\]]/,z8=/[\d\.E\-\+]/;function vc(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=lp}vc.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==I1)for(;nG.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case lp:return this.neutral(t);case F8:return this.keyword(t);case I1:return this.quoted(t);case U8:return this.afterquote(t);case B8:return this.number(t);case _y:return}};vc.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=I1;return}if(mg.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};vc.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=lp;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=lp,this.currentObject=this.stack.pop(),this.currentObject||(this.state=_y);return}};vc.prototype.number=function(t){if(z8.test(t)){this.word+=t;return}if(mg.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};vc.prototype.quoted=function(t){if(t==='"'){this.state=U8;return}this.word+=t};vc.prototype.keyword=function(t){if(aG.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=lp;return}if(mg.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};vc.prototype.neutral=function(t){if(iG.test(t)){this.word=t,this.state=F8;return}if(t==='"'){this.word="",this.state=I1;return}if(z8.test(t)){this.word=t,this.state=B8;return}if(mg.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};vc.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===_y)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function sG(t){var e=new vc(t);return e.output()}function k2(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var i=e?{}:t,n=r.reduce(function(a,s){return Jf(s,a),a},i);e&&(t[e]=n)}function Jf(t,e){if(!Array.isArray(t)){e[t]=!0;return}var r=t.shift();if(r==="PARAMETER"&&(r=t.shift()),t.length===1){if(Array.isArray(t[0])){e[r]={},Jf(t[0],e[r]);return}e[r]=t[0];return}if(!t.length){e[r]=!0;return}if(r==="TOWGS84"){e[r]=t;return}if(r==="AXIS"){r in e||(e[r]=[]),e[r].push(t);return}Array.isArray(r)||(e[r]={});var i;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[r]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Jf(t[2],e[r]);return;case"SPHEROID":case"ELLIPSOID":e[r]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Jf(t[3],e[r]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],k2(e,r,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],k2(e,r,t),e[r].type=r;return;default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return Jf(t,e[r]);return k2(e,r,t)}}var oG=.017453292519943295;function Vl(t){return t*oG}function G8(t){const e=(t.projName||"").toLowerCase().replace(/_/g," ");!t.long0&&t.longc&&(e==="albers conic equal area"||e==="lambert azimuthal equal area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(e==="stereographic south pole"||e==="polar stereographic (variant b)")?(t.lat0=Vl(t.lat1>0?90:-90),t.lat_ts=t.lat1,delete t.lat1):!t.lat_ts&&t.lat0&&(e==="polar stereographic"||e==="polar stereographic (variant a)")&&(t.lat_ts=t.lat0,t.lat0=Vl(t.lat0>0?90:-90),delete t.lat1)}function L3(t){let e={units:null,to_meter:void 0};return typeof t=="string"?(e.units=t.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.units==="meter"&&(e.to_meter=1)):t&&t.name&&(e.units=t.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.to_meter=t.conversion_factor),e}function N3(t){return typeof t=="object"?t.value*t.unit.conversion_factor:t}function C3(t,e){t.ellipsoid.radius?(e.a=t.ellipsoid.radius,e.rf=0):(e.a=N3(t.ellipsoid.semi_major_axis),t.ellipsoid.inverse_flattening!==void 0?e.rf=t.ellipsoid.inverse_flattening:t.ellipsoid.semi_major_axis!==void 0&&t.ellipsoid.semi_minor_axis!==void 0&&(e.rf=e.a/(e.a-N3(t.ellipsoid.semi_minor_axis))))}function F1(t,e={}){return!t||typeof t!="object"?t:t.type==="BoundCRS"?(F1(t.source_crs,e),t.transformation&&(t.transformation.method&&t.transformation.method.name==="NTv2"?e.nadgrids=t.transformation.parameters[0].value:e.datum_params=t.transformation.parameters.map(r=>r.value)),e):(Object.keys(t).forEach(r=>{const i=t[r];if(i!==null)switch(r){case"name":if(e.srsCode)break;e.name=i,e.srsCode=i;break;case"type":i==="GeographicCRS"?e.projName="longlat":i==="ProjectedCRS"&&t.conversion&&t.conversion.method&&(e.projName=t.conversion.method.name);break;case"datum":case"datum_ensemble":i.ellipsoid&&(e.ellps=i.ellipsoid.name,C3(i,e)),i.prime_meridian&&(e.from_greenwich=i.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":e.ellps=i.name,C3(i,e);break;case"prime_meridian":e.long0=(i.longitude||0)*Math.PI/180;break;case"coordinate_system":if(i.axis){if(e.axis=i.axis.map(n=>{const a=n.direction;if(a==="east")return"e";if(a==="north")return"n";if(a==="west")return"w";if(a==="south")return"s";throw new Error(`Unknown axis direction: ${a}`)}).join("")+"u",i.unit){const{units:n,to_meter:a}=L3(i.unit);e.units=n,e.to_meter=a}else if(i.axis[0]&&i.axis[0].unit){const{units:n,to_meter:a}=L3(i.axis[0].unit);e.units=n,e.to_meter=a}}break;case"id":i.authority&&i.code&&(e.title=i.authority+":"+i.code);break;case"conversion":i.method&&i.method.name&&(e.projName=i.method.name),i.parameters&&i.parameters.forEach(n=>{const a=n.name.toLowerCase().replace(/\s+/g,"_"),s=n.value;n.unit&&n.unit.conversion_factor?e[a]=s*n.unit.conversion_factor:n.unit==="degree"?e[a]=s*Math.PI/180:e[a]=s});break;case"unit":i.name&&(e.units=i.name.toLowerCase(),e.units==="metre"&&(e.units="meter")),i.conversion_factor&&(e.to_meter=i.conversion_factor);break;case"base_crs":F1(i,e),e.datumCode=i.id?i.id.authority+"_"+i.id.code:i.name;break}}),e.latitude_of_false_origin!==void 0&&(e.lat0=e.latitude_of_false_origin),e.longitude_of_false_origin!==void 0&&(e.long0=e.longitude_of_false_origin),e.latitude_of_standard_parallel!==void 0&&(e.lat0=e.latitude_of_standard_parallel,e.lat1=e.latitude_of_standard_parallel),e.latitude_of_1st_standard_parallel!==void 0&&(e.lat1=e.latitude_of_1st_standard_parallel),e.latitude_of_2nd_standard_parallel!==void 0&&(e.lat2=e.latitude_of_2nd_standard_parallel),e.latitude_of_projection_centre!==void 0&&(e.lat0=e.latitude_of_projection_centre),e.longitude_of_projection_centre!==void 0&&(e.longc=e.longitude_of_projection_centre),e.easting_at_false_origin!==void 0&&(e.x0=e.easting_at_false_origin),e.northing_at_false_origin!==void 0&&(e.y0=e.northing_at_false_origin),e.latitude_of_natural_origin!==void 0&&(e.lat0=e.latitude_of_natural_origin),e.longitude_of_natural_origin!==void 0&&(e.long0=e.longitude_of_natural_origin),e.longitude_of_origin!==void 0&&(e.long0=e.longitude_of_origin),e.false_easting!==void 0&&(e.x0=e.false_easting),e.easting_at_projection_centre&&(e.x0=e.easting_at_projection_centre),e.false_northing!==void 0&&(e.y0=e.false_northing),e.northing_at_projection_centre&&(e.y0=e.northing_at_projection_centre),e.standard_parallel_1!==void 0&&(e.lat1=e.standard_parallel_1),e.standard_parallel_2!==void 0&&(e.lat2=e.standard_parallel_2),e.scale_factor_at_natural_origin!==void 0&&(e.k0=e.scale_factor_at_natural_origin),e.scale_factor_at_projection_centre!==void 0&&(e.k0=e.scale_factor_at_projection_centre),e.scale_factor_on_pseudo_standard_parallel!==void 0&&(e.k0=e.scale_factor_on_pseudo_standard_parallel),e.azimuth!==void 0&&(e.alpha=e.azimuth),e.azimuth_at_projection_centre!==void 0&&(e.alpha=e.azimuth_at_projection_centre),e.angle_from_rectified_to_skew_grid&&(e.rectified_grid_angle=e.angle_from_rectified_to_skew_grid),G8(e),e)}var lG=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function uG(t,e){var r=e[0],i=e[1];!(r in t)&&i in t&&(t[r]=t[i],e.length===3&&(t[r]=e[2](t[r])))}function H8(t){for(var e=Object.keys(t),r=0,i=e.length;r<i;++r){var n=e[r];lG.indexOf(n)!==-1&&cG(t[n]),typeof t[n]=="object"&&H8(t[n])}}function cG(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var r="",i=0,n=t.AXIS.length;i<n;++i){var a=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];a[0].indexOf("north")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="north"?r+="n":a[0].indexOf("south")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="south"?r+="s":a[0].indexOf("east")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="east"?r+="e":(a[0].indexOf("west")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="west")&&(r+="w")}r.length===2&&(r+="u"),r.length===3&&(t.axis=r)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),t.rectified_grid_angle&&(t.rectified_grid_angle=Vl(t.rectified_grid_angle));function l(p){var v=t.to_meter||1;return p*v}var c=function(p){return uG(t,p)},f=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Vl],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Vl],["x0","false_easting",l],["y0","false_northing",l],["long0","central_meridian",Vl],["lat0","latitude_of_origin",Vl],["lat0","standard_parallel_1",Vl],["lat1","standard_parallel_1",Vl],["lat2","standard_parallel_2",Vl],["azimuth","Azimuth"],["alpha","azimuth",Vl],["srsCode","name"]];f.forEach(c),G8(t)}function B1(t){if(typeof t=="object")return F1(t);const e=rG(t);var r=sG(t);if(e==="WKT2"){const a=tG(r);return F1(a)}var i=r[0],n={};return Jf(r,n),H8(n),n[i]}function ms(t){var e=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?ms[t]=w_(arguments[1]):ms[t]=B1(arguments[1]):r&&typeof r=="object"&&!("projName"in r)?ms[t]=B1(arguments[1]):(ms[t]=r,r||delete ms[t])}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(i){return Array.isArray(i)?ms.apply(e,i):ms(i)});if(typeof t=="string"){if(t in ms)return ms[t]}else"EPSG"in t?ms["EPSG:"+t.EPSG]=t:"ESRI"in t?ms["ESRI:"+t.ESRI]=t:"IAU2000"in t?ms["IAU2000:"+t.IAU2000]=t:console.log(t);return}}Vz(ms);function hG(t){return typeof t=="string"}function fG(t){return t in ms}function dG(t){return t.indexOf("+")!==0&&t.indexOf("[")!==-1||typeof t=="object"&&!("srsCode"in t)}var pG=["3857","900913","3785","102113"];function mG(t){var e=ih(t,"authority");if(e){var r=ih(e,"epsg");return r&&pG.indexOf(r)>-1}}function gG(t){var e=ih(t,"extension");if(e)return ih(e,"proj4")}function vG(t){return t[0]==="+"}function _G(t){if(hG(t)){if(fG(t))return ms[t];if(dG(t)){var e=B1(t);if(mG(e))return ms["EPSG:3857"];var r=gG(e);return r?w_(r):e}if(vG(t))return w_(t)}else return"projName"in t?t:B1(t)}function M3(t,e){t=t||{};var r,i;if(!e)return t;for(i in e)r=e[i],r!==void 0&&(t[i]=r);return t}function Ru(t,e,r){var i=t*e;return r/Math.sqrt(1-i*i)}function Ap(t){return t<0?-1:1}function It(t,e){return e||Math.abs(t)<=la?t:t-Ap(t)*op}function Kl(t,e,r){var i=t*r,n=.5*t;return i=Math.pow((1-i)/(1+i),n),Math.tan(.5*(At-e))/i}function up(t,e){for(var r=.5*t,i,n,a=At-2*Math.atan(e),s=0;s<=15;s++)if(i=t*Math.sin(a),n=At-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-a,a+=n,Math.abs(n)<=1e-10)return a;return-9999}function yG(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ru(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function xG(t){var e=t.x,r=t.y;if(r*So>90&&r*So<-90&&e*So>180&&e*So<-180)return null;var i,n;if(Math.abs(Math.abs(r)-At)<=Dt)return null;if(this.sphere)i=this.x0+this.a*this.k0*It(e-this.long0,this.over),n=this.y0+this.a*this.k0*Math.log(Math.tan(On+.5*r));else{var a=Math.sin(r),s=Kl(this.e,r,a);i=this.x0+this.a*this.k0*It(e-this.long0,this.over),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=i,t.y=n,t}function wG(t){var e=t.x-this.x0,r=t.y-this.y0,i,n;if(this.sphere)n=At-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var a=Math.exp(-r/(this.a*this.k0));if(n=up(this.e,a),n===-9999)return null}return i=It(this.long0+e/(this.a*this.k0),this.over),t.x=i,t.y=n,t}var bG=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"];const SG={init:yG,forward:xG,inverse:wG,names:bG};function EG(){}function k3(t){return t}var q8=["longlat","identity"];const TG={init:EG,forward:k3,inverse:k3,names:q8};var AG=[SG,TG],Th={},Qf=[];function V8(t,e){var r=Qf.length;return t.names?(Qf[r]=t,t.names.forEach(function(i){Th[i.toLowerCase()]=r}),this):(console.log(e),!0)}function $8(t){return t.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function LG(t){if(!t)return!1;var e=t.toLowerCase();if(typeof Th[e]<"u"&&Qf[Th[e]]||(e=$8(e),e in Th&&Qf[Th[e]]))return Qf[Th[e]]}function NG(){AG.forEach(V8)}const CG={start:NG,add:V8,get:LG};var W8={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};const MG=W8.WGS84;function kG(t,e,r,i){var n=t*t,a=e*e,s=(n-a)/n,l=0;i?(t*=1-s*(Zz+s*(Yz+s*Kz)),n=t*t,s=0):l=Math.sqrt(s);var c=(n-a)/a;return{es:s,e:l,ep2:c}}function PG(t,e,r,i,n){if(!t){var a=ih(W8,i);a||(a=MG),t=a.a,e=a.b,r=a.rf}return r&&!e&&(e=(1-1/r)*t),(r===0||Math.abs(t-e)<Dt)&&(n=!0,e=t),{a:t,b:e,rf:r,sphere:n}}var o1={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var OG in o1){var P2=o1[OG];P2.datumName&&(o1[P2.datumName]=P2)}function RG(t,e,r,i,n,a,s){var l={};return t===void 0||t==="none"?l.datum_type=x_:l.datum_type=$z,e&&(l.datum_params=e.map(parseFloat),(l.datum_params[0]!==0||l.datum_params[1]!==0||l.datum_params[2]!==0)&&(l.datum_type=zh),l.datum_params.length>3&&(l.datum_params[3]!==0||l.datum_params[4]!==0||l.datum_params[5]!==0||l.datum_params[6]!==0)&&(l.datum_type=Gh,l.datum_params[3]*=j0,l.datum_params[4]*=j0,l.datum_params[5]*=j0,l.datum_params[6]=l.datum_params[6]/1e6+1)),s&&(l.datum_type=gd,l.grids=s),l.a=r,l.b=i,l.es=n,l.ep2=a,l}var yy={};function DG(t,e,r){return e instanceof ArrayBuffer?jG(t,e,r):{ready:IG(t,e)}}function jG(t,e,r){var i=!0;r!==void 0&&r.includeErrorFields===!1&&(i=!1);var n=new DataView(e),a=UG(n),s=zG(n,a),l=GG(n,s,a,i),c={header:s,subgrids:l};return yy[t]=c,c}async function IG(t,e){for(var r=[],i=await e.getImageCount(),n=i-1;n>=0;n--){var a=await e.getImage(n),s=await a.readRasters(),l=s,c=[a.getWidth(),a.getHeight()],f=a.getBoundingBox().map(P3),p=[a.fileDirectory.ModelPixelScale[0],a.fileDirectory.ModelPixelScale[1]].map(P3),v=f[0]+(c[0]-1)*p[0],y=f[3]-(c[1]-1)*p[1],_=l[0],T=l[1],S=[];for(let I=c[1]-1;I>=0;I--)for(let D=c[0]-1;D>=0;D--){var C=I*c[0]+D;S.push([-Jc(T[C]),Jc(_[C])])}r.push({del:p,lim:c,ll:[-v,y],cvs:S})}var O={header:{nSubgrids:i},subgrids:r};return yy[t]=O,O}function FG(t){if(t===void 0)return null;var e=t.split(",");return e.map(BG)}function BG(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:yy[t]||null,isNull:!1}}function P3(t){return t*Math.PI/180}function Jc(t){return t/3600*Math.PI/180}function UG(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function zG(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:b_(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function b_(t,e,r){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,r)))}function GG(t,e,r,i){for(var n=176,a=[],s=0;s<e.nSubgrids;s++){var l=qG(t,n,r),c=VG(t,n,l,r,i),f=Math.round(1+(l.upperLongitude-l.lowerLongitude)/l.longitudeInterval),p=Math.round(1+(l.upperLatitude-l.lowerLatitude)/l.latitudeInterval);a.push({ll:[Jc(l.lowerLongitude),Jc(l.lowerLatitude)],del:[Jc(l.longitudeInterval),Jc(l.latitudeInterval)],lim:[f,p],count:l.gridNodeCount,cvs:HG(c)});var v=16;i===!1&&(v=8),n+=176+l.gridNodeCount*v}return a}function HG(t){return t.map(function(e){return[Jc(e.longitudeShift),Jc(e.latitudeShift)]})}function qG(t,e,r){return{name:b_(t,e+8,e+16).trim(),parent:b_(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,r),upperLatitude:t.getFloat64(e+88,r),lowerLongitude:t.getFloat64(e+104,r),upperLongitude:t.getFloat64(e+120,r),latitudeInterval:t.getFloat64(e+136,r),longitudeInterval:t.getFloat64(e+152,r),gridNodeCount:t.getInt32(e+168,r)}}function VG(t,e,r,i,n){var a=e+176,s=16;n===!1&&(s=8);for(var l=[],c=0;c<r.gridNodeCount;c++){var f={latitudeShift:t.getFloat32(a+c*s,i),longitudeShift:t.getFloat32(a+c*s+4,i)};n!==!1&&(f.latitudeAccuracy=t.getFloat32(a+c*s+8,i),f.longitudeAccuracy=t.getFloat32(a+c*s+12,i)),l.push(f)}return l}function xl(t,e){if(!(this instanceof xl))return new xl(t);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,e=e||function(f){if(f)throw f};var r=_G(t);if(typeof r!="object"){e("Could not parse to valid json: "+t);return}var i=xl.projections.get(r.projName);if(!i){e("Could not get projection name from: "+t);return}if(r.datumCode&&r.datumCode!=="none"){var n=ih(o1,r.datumCode);n&&(r.datum_params=r.datum_params||(n.towgs84?n.towgs84.split(","):null),r.ellps=n.ellipse,r.datumName=n.datumName?n.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var a=PG(r.a,r.b,r.rf,r.ellps,r.sphere),s=kG(a.a,a.b,a.rf,r.R_A),l=FG(r.nadgrids),c=r.datum||RG(r.datumCode,r.datum_params,a.a,a.b,s.es,s.ep2,l);M3(this,r),M3(this,i),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=c,"init"in this&&typeof this.init=="function"&&this.init(),e(null,this)}xl.projections=CG;xl.projections.start();function $G(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===zh?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===Gh?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function Z8(t,e,r){var i=t.x,n=t.y,a=t.z?t.z:0,s,l,c,f;if(n<-At&&n>-1.001*At)n=-At;else if(n>At&&n<1.001*At)n=At;else{if(n<-At)return{x:-1/0,y:-1/0,z:t.z};if(n>At)return{x:1/0,y:1/0,z:t.z}}return i>Math.PI&&(i-=2*Math.PI),l=Math.sin(n),f=Math.cos(n),c=l*l,s=r/Math.sqrt(1-e*c),{x:(s+a)*f*Math.cos(i),y:(s+a)*f*Math.sin(i),z:(s*(1-e)+a)*l}}function Y8(t,e,r,i){var n=1e-12,a=n*n,s=30,l,c,f,p,v,y,_,T,S,C,O,I,D,q=t.x,te=t.y,ce=t.z?t.z:0,F,K,B;if(l=Math.sqrt(q*q+te*te),c=Math.sqrt(q*q+te*te+ce*ce),l/r<n){if(F=0,c/r<n)return K=At,B=-i,{x:t.x,y:t.y,z:t.z}}else F=Math.atan2(te,q);f=ce/c,p=l/c,v=1/Math.sqrt(1-e*(2-e)*p*p),T=p*(1-e)*v,S=f*v,D=0;do D++,_=r/Math.sqrt(1-e*S*S),B=l*T+ce*S-_*(1-e*S*S),y=e*_/(_+B),v=1/Math.sqrt(1-y*(2-y)*p*p),C=p*(1-y)*v,O=f*v,I=O*T-C*S,T=C,S=O;while(I*I>a&&D<s);return K=Math.atan(O/Math.abs(C)),{x:F,y:K,z:B}}function WG(t,e,r){if(e===zh)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===Gh){var i=r[0],n=r[1],a=r[2],s=r[3],l=r[4],c=r[5],f=r[6];return{x:f*(t.x-c*t.y+l*t.z)+i,y:f*(c*t.x+t.y-s*t.z)+n,z:f*(-l*t.x+s*t.y+t.z)+a}}}function ZG(t,e,r){if(e===zh)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===Gh){var i=r[0],n=r[1],a=r[2],s=r[3],l=r[4],c=r[5],f=r[6],p=(t.x-i)/f,v=(t.y-n)/f,y=(t.z-a)/f;return{x:p+c*v-l*y,y:-c*p+v+s*y,z:l*p-s*v+y}}}function Wm(t){return t===zh||t===Gh}function YG(t,e,r){if($G(t,e)||t.datum_type===x_||e.datum_type===x_)return r;var i=t.a,n=t.es;if(t.datum_type===gd){var a=O3(t,!1,r);if(a!==0)return;i=E3,n=T3}var s=e.a,l=e.b,c=e.es;if(e.datum_type===gd&&(s=E3,l=Wz,c=T3),n===c&&i===s&&!Wm(t.datum_type)&&!Wm(e.datum_type))return r;if(r=Z8(r,n,i),Wm(t.datum_type)&&(r=WG(r,t.datum_type,t.datum_params)),Wm(e.datum_type)&&(r=ZG(r,e.datum_type,e.datum_params)),r=Y8(r,c,s,l),e.datum_type===gd){var f=O3(e,!0,r);if(f!==0)return}return r}function O3(t,e,r){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-r.x,y:r.y},n={x:Number.NaN,y:Number.NaN},a=[];e:for(var s=0;s<t.grids.length;s++){var l=t.grids[s];if(a.push(l.name),l.isNull){n=i;break}if(l.grid===null){if(l.mandatory)return console.log("Unable to find mandatory grid '"+l.name+"'"),-1;continue}for(var c=l.grid.subgrids,f=0,p=c.length;f<p;f++){var v=c[f],y=(Math.abs(v.del[1])+Math.abs(v.del[0]))/1e4,_=v.ll[0]-y,T=v.ll[1]-y,S=v.ll[0]+(v.lim[0]-1)*v.del[0]+y,C=v.ll[1]+(v.lim[1]-1)*v.del[1]+y;if(!(T>i.y||_>i.x||C<i.y||S<i.x)&&(n=KG(i,e,v),!isNaN(n.x)))break e}}return isNaN(n.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*So+" "+i.y*So+" tried: '"+a+"'"),-1):(r.x=-n.x,r.y=n.y,0)}function KG(t,e,r){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var n={x:t.x,y:t.y};n.x-=r.ll[0],n.y-=r.ll[1],n.x=It(n.x-Math.PI)+Math.PI;var a=R3(n,r);if(e){if(isNaN(a.x))return i;a.x=n.x-a.x,a.y=n.y-a.y;var s=9,l=1e-12,c,f;do{if(f=R3(a,r),isNaN(f.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}c={x:n.x-(f.x+a.x),y:n.y-(f.y+a.y)},a.x+=c.x,a.y+=c.y}while(s--&&Math.abs(c.x)>l&&Math.abs(c.y)>l);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=It(a.x+r.ll[0]),i.y=a.y+r.ll[1]}else isNaN(a.x)||(i.x=t.x+a.x,i.y=t.y+a.y);return i}function R3(t,e){var r={x:t.x/e.del[0],y:t.y/e.del[1]},i={x:Math.floor(r.x),y:Math.floor(r.y)},n={x:r.x-1*i.x,y:r.y-1*i.y},a={x:Number.NaN,y:Number.NaN},s;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return a;s=i.y*e.lim[0]+i.x;var l={x:e.cvs[s][0],y:e.cvs[s][1]};s++;var c={x:e.cvs[s][0],y:e.cvs[s][1]};s+=e.lim[0];var f={x:e.cvs[s][0],y:e.cvs[s][1]};s--;var p={x:e.cvs[s][0],y:e.cvs[s][1]},v=n.x*n.y,y=n.x*(1-n.y),_=(1-n.x)*(1-n.y),T=(1-n.x)*n.y;return a.x=_*l.x+y*c.x+T*p.x+v*f.x,a.y=_*l.y+y*c.y+T*p.y+v*f.y,a}function D3(t,e,r){var i=r.x,n=r.y,a=r.z||0,s,l,c,f={};for(c=0;c<3;c++)if(!(e&&c===2&&r.z===void 0))switch(c===0?(s=i,"ew".indexOf(t.axis[c])!==-1?l="x":l="y"):c===1?(s=n,"ns".indexOf(t.axis[c])!==-1?l="y":l="x"):(s=a,l="z"),t.axis[c]){case"e":f[l]=s;break;case"w":f[l]=-s;break;case"n":f[l]=s;break;case"s":f[l]=-s;break;case"u":r[l]!==void 0&&(f.z=s);break;case"d":r[l]!==void 0&&(f.z=-s);break;default:return null}return f}function K8(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function XG(t){j3(t.x),j3(t.y)}function j3(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function JG(t,e){return(t.datum.datum_type===zh||t.datum.datum_type===Gh||t.datum.datum_type===gd)&&e.datumCode!=="WGS84"||(e.datum.datum_type===zh||e.datum.datum_type===Gh||e.datum.datum_type===gd)&&t.datumCode!=="WGS84"}function U1(t,e,r,i){var n;Array.isArray(r)?r=K8(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var a=r.z!==void 0;if(XG(r),t.datum&&e.datum&&JG(t,e)&&(n=new xl("WGS84"),r=U1(t,n,r,i),t=n),i&&t.axis!=="enu"&&(r=D3(t,!1,r)),t.projName==="longlat")r={x:r.x*Wi,y:r.y*Wi,z:r.z||0};else if(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),r=t.inverse(r),!r)return;if(t.from_greenwich&&(r.x+=t.from_greenwich),r=YG(t.datum,e.datum,r),!!r)return r=r,e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),e.projName==="longlat"?r={x:r.x*So,y:r.y*So,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),i&&e.axis!=="enu"?D3(e,!0,r):(r&&!a&&delete r.z,r)}var I3=xl("WGS84");function O2(t,e,r,i){var n,a,s;return Array.isArray(r)?(n=U1(t,e,r,i)||{x:NaN,y:NaN},r.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof n.z=="number"?[n.x,n.y,n.z].concat(r.slice(3)):[n.x,n.y,r[2]].concat(r.slice(3)):[n.x,n.y].concat(r.slice(2)):[n.x,n.y]):(a=U1(t,e,r,i),s=Object.keys(r),s.length===2||s.forEach(function(l){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(l==="x"||l==="y"||l==="z")return}else if(l==="x"||l==="y")return;a[l]=r[l]}),a)}function Zm(t){return t instanceof xl?t:typeof t=="object"&&"oProj"in t?t.oProj:xl(t)}function QG(t,e,r){var i,n,a=!1,s;return typeof e>"u"?(n=Zm(t),i=I3,a=!0):(typeof e.x<"u"||Array.isArray(e))&&(r=e,n=Zm(t),i=I3,a=!0),i||(i=Zm(t)),n||(n=Zm(e)),r?O2(i,n,r):(s={forward:function(l,c){return O2(i,n,l,c)},inverse:function(l,c){return O2(n,i,l,c)}},a&&(s.oProj=n),s)}var F3=6,X8="AJSAJS",J8="AFAFAF",ed=65,wo=73,gl=79,y0=86,x0=90;const eH={forward:Q8,inverse:tH,toPoint:eT};function Q8(t,e){return e=e||5,iH(rH({lat:t[1],lon:t[0]}),e)}function tH(t){var e=xy(rT(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function eT(t){var e=xy(rT(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function R2(t){return t*(Math.PI/180)}function B3(t){return 180*(t/Math.PI)}function rH(t){var e=t.lat,r=t.lon,i=6378137,n=.00669438,a=.9996,s,l,c,f,p,v,y,_=R2(e),T=R2(r),S,C;C=Math.floor((r+180)/6)+1,r===180&&(C=60),e>=56&&e<64&&r>=3&&r<12&&(C=32),e>=72&&e<84&&(r>=0&&r<9?C=31:r>=9&&r<21?C=33:r>=21&&r<33?C=35:r>=33&&r<42&&(C=37)),s=(C-1)*6-180+3,S=R2(s),l=n/(1-n),c=i/Math.sqrt(1-n*Math.sin(_)*Math.sin(_)),f=Math.tan(_)*Math.tan(_),p=l*Math.cos(_)*Math.cos(_),v=Math.cos(_)*(T-S),y=i*((1-n/4-3*n*n/64-5*n*n*n/256)*_-(3*n/8+3*n*n/32+45*n*n*n/1024)*Math.sin(2*_)+(15*n*n/256+45*n*n*n/1024)*Math.sin(4*_)-35*n*n*n/3072*Math.sin(6*_));var O=a*c*(v+(1-f+p)*v*v*v/6+(5-18*f+f*f+72*p-58*l)*v*v*v*v*v/120)+5e5,I=a*(y+c*Math.tan(_)*(v*v/2+(5-f+9*p+4*p*p)*v*v*v*v/24+(61-58*f+f*f+600*p-330*l)*v*v*v*v*v*v/720));return e<0&&(I+=1e7),{northing:Math.round(I),easting:Math.round(O),zoneNumber:C,zoneLetter:nH(e)}}function xy(t){var e=t.northing,r=t.easting,i=t.zoneLetter,n=t.zoneNumber;if(n<0||n>60)return null;var a=.9996,s=6378137,l=.00669438,c,f=(1-Math.sqrt(1-l))/(1+Math.sqrt(1-l)),p,v,y,_,T,S,C,O,I,D=r-5e5,q=e;i<"N"&&(q-=1e7),C=(n-1)*6-180+3,c=l/(1-l),S=q/a,O=S/(s*(1-l/4-3*l*l/64-5*l*l*l/256)),I=O+(3*f/2-27*f*f*f/32)*Math.sin(2*O)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*O)+151*f*f*f/96*Math.sin(6*O),p=s/Math.sqrt(1-l*Math.sin(I)*Math.sin(I)),v=Math.tan(I)*Math.tan(I),y=c*Math.cos(I)*Math.cos(I),_=s*(1-l)/Math.pow(1-l*Math.sin(I)*Math.sin(I),1.5),T=D/(p*a);var te=I-p*Math.tan(I)/_*(T*T/2-(5+3*v+10*y-4*y*y-9*c)*T*T*T*T/24+(61+90*v+298*y+45*v*v-252*c-3*y*y)*T*T*T*T*T*T/720);te=B3(te);var ce=(T-(1+2*v+y)*T*T*T/6+(5-2*y+28*v-3*y*y+8*c+24*v*v)*T*T*T*T*T/120)/Math.cos(I);ce=C+B3(ce);var F;if(t.accuracy){var K=xy({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});F={top:K.lat,right:K.lon,bottom:te,left:ce}}else F={lat:te,lon:ce};return F}function nH(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function iH(t,e){var r="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+aH(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+i.substr(i.length-5,e)}function aH(t,e,r){var i=tT(r),n=Math.floor(t/1e5),a=Math.floor(e/1e5)%20;return sH(n,a,i)}function tT(t){var e=t%F3;return e===0&&(e=F3),e}function sH(t,e,r){var i=r-1,n=X8.charCodeAt(i),a=J8.charCodeAt(i),s=n+t-1,l=a+e,c=!1;s>x0&&(s=s-x0+ed-1,c=!0),(s===wo||n<wo&&s>wo||(s>wo||n<wo)&&c)&&s++,(s===gl||n<gl&&s>gl||(s>gl||n<gl)&&c)&&(s++,s===wo&&s++),s>x0&&(s=s-x0+ed-1),l>y0?(l=l-y0+ed-1,c=!0):c=!1,(l===wo||a<wo&&l>wo||(l>wo||a<wo)&&c)&&l++,(l===gl||a<gl&&l>gl||(l>gl||a<gl)&&c)&&(l++,l===wo&&l++),l>y0&&(l=l-y0+ed-1);var f=String.fromCharCode(s)+String.fromCharCode(l);return f}function rT(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,r=null,i="",n,a=0;!/[A-Z]/.test(n=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;i+=n,a++}var s=parseInt(i,10);if(a===0||a+3>e)throw"MGRSPoint bad conversion from: "+t;var l=t.charAt(a++);if(l<="A"||l==="B"||l==="Y"||l>="Z"||l==="I"||l==="O")throw"MGRSPoint zone letter "+l+" not handled: "+t;r=t.substring(a,a+=2);for(var c=tT(s),f=oH(r.charAt(0),c),p=lH(r.charAt(1),c);p<uH(l);)p+=2e6;var v=e-a;if(v%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var y=v/2,_=0,T=0,S,C,O,I,D;return y>0&&(S=1e5/Math.pow(10,y),C=t.substring(a,a+y),_=parseFloat(C)*S,O=t.substring(a+y),T=parseFloat(O)*S),I=_+f,D=T+p,{easting:I,northing:D,zoneLetter:l,zoneNumber:s,accuracy:S}}function oH(t,e){for(var r=X8.charCodeAt(e-1),i=1e5,n=!1;r!==t.charCodeAt(0);){if(r++,r===wo&&r++,r===gl&&r++,r>x0){if(n)throw"Bad character: "+t;r=ed,n=!0}i+=1e5}return i}function lH(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=J8.charCodeAt(e-1),i=0,n=!1;r!==t.charCodeAt(0);){if(r++,r===wo&&r++,r===gl&&r++,r>y0){if(n)throw"Bad character: "+t;r=ed,n=!0}i+=1e5}return i}function uH(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function yd(t,e,r){if(!(this instanceof yd))return new yd(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var i=t.split(",");this.x=parseFloat(i[0]),this.y=parseFloat(i[1]),this.z=parseFloat(i[2])||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}yd.fromMGRS=function(t){return new yd(eT(t))};yd.prototype.toMGRS=function(t){return Q8([this.x,this.y],t)};var cH=1,hH=.25,U3=.046875,z3=.01953125,G3=.01068115234375,fH=.75,dH=.46875,pH=.013020833333333334,mH=.007120768229166667,gH=.3645833333333333,vH=.005696614583333333,_H=.3076171875;function wy(t){var e=[];e[0]=cH-t*(hH+t*(U3+t*(z3+t*G3))),e[1]=t*(fH-t*(U3+t*(z3+t*G3)));var r=t*t;return e[2]=r*(dH-t*(pH+t*mH)),r*=t,e[3]=r*(gH-t*vH),e[4]=r*t*_H,e}function Ld(t,e,r,i){return r*=e,e*=e,i[0]*t-r*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var yH=20;function by(t,e,r){for(var i=1/(1-e),n=t,a=yH;a;--a){var s=Math.sin(n),l=1-e*s*s;if(l=(Ld(n,s,Math.cos(n),r)-t)*(l*Math.sqrt(l))*i,n-=l,Math.abs(l)<Dt)return n}return n}function xH(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=wy(this.es),this.ml0=Ld(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function wH(t){var e=t.x,r=t.y,i=It(e-this.long0,this.over),n,a,s,l=Math.sin(r),c=Math.cos(r);if(this.es){var p=c*i,v=Math.pow(p,2),y=this.ep2*Math.pow(c,2),_=Math.pow(y,2),T=Math.abs(c)>Dt?Math.tan(r):0,S=Math.pow(T,2),C=Math.pow(S,2);n=1-this.es*Math.pow(l,2),p=p/Math.sqrt(n);var O=Ld(r,l,c,this.en);a=this.a*(this.k0*p*(1+v/6*(1-S+y+v/20*(5-18*S+C+14*y-58*S*y+v/42*(61+179*C-C*S-479*S)))))+this.x0,s=this.a*(this.k0*(O-this.ml0+l*i*p/2*(1+v/12*(5-S+9*y+4*_+v/30*(61+C-58*S+270*y-330*S*y+v/56*(1385+543*C-C*S-3111*S))))))+this.y0}else{var f=c*Math.sin(i);if(Math.abs(Math.abs(f)-1)<Dt)return 93;if(a=.5*this.a*this.k0*Math.log((1+f)/(1-f))+this.x0,s=c*Math.cos(i)/Math.sqrt(1-Math.pow(f,2)),f=Math.abs(s),f>=1){if(f-1>Dt)return 93;s=0}else s=Math.acos(s);r<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return t.x=a,t.y=s,t}function bH(t){var e,r,i,n,a=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,r=by(e,this.es,this.en),Math.abs(r)<At){var v=Math.sin(r),y=Math.cos(r),_=Math.abs(y)>Dt?Math.tan(r):0,T=this.ep2*Math.pow(y,2),S=Math.pow(T,2),C=Math.pow(_,2),O=Math.pow(C,2);e=1-this.es*Math.pow(v,2);var I=a*Math.sqrt(e)/this.k0,D=Math.pow(I,2);e=e*_,i=r-e*D/(1-this.es)*.5*(1-D/12*(5+3*C-9*T*C+T-4*S-D/30*(61+90*C-252*T*C+45*O+46*T-D/56*(1385+3633*C+4095*O+1574*O*C)))),n=It(this.long0+I*(1-D/6*(1+2*C+T-D/20*(5+28*C+24*O+8*T*C+6*T-D/42*(61+662*C+1320*O+720*O*C))))/y,this.over)}else i=At*Ap(s),n=0;else{var l=Math.exp(a/this.k0),c=.5*(l-1/l),f=this.lat0+s/this.k0,p=Math.cos(f);e=Math.sqrt((1-Math.pow(p,2))/(1+Math.pow(c,2))),i=Math.asin(e),s<0&&(i=-i),c===0&&p===0?n=0:n=It(Math.atan2(c,p)+this.long0,this.over)}return t.x=n,t.y=i,t}var SH=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const l1={init:xH,forward:wH,inverse:bH,names:SH};function nT(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function bo(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),i=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(i,2))}function EH(t){var e=1+t,r=e-1;return r===0?t:t*Math.log(e)/r}function TH(t){var e=Math.abs(t);return e=EH(e*(1+e/(bo(1,e)+1))),t<0?-e:e}function Sy(t,e){for(var r=2*Math.cos(2*e),i=t.length-1,n=t[i],a=0,s;--i>=0;)s=-a+r*n+t[i],a=n,n=s;return e+s*Math.sin(2*e)}function AH(t,e){for(var r=2*Math.cos(e),i=t.length-1,n=t[i],a=0,s;--i>=0;)s=-a+r*n+t[i],a=n,n=s;return Math.sin(e)*s}function LH(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function iT(t,e,r){for(var i=Math.sin(e),n=Math.cos(e),a=nT(r),s=LH(r),l=2*n*s,c=-2*i*a,f=t.length-1,p=t[f],v=0,y=0,_=0,T,S;--f>=0;)T=y,S=v,y=p,v=_,p=-T+l*y-c*v+t[f],_=-S+c*y+l*v;return l=i*s,c=n*a,[l*p-c*_,l*_+c*p]}function NH(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(l1.init.apply(this),this.forward=l1.forward,this.inverse=l1.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),r=r*e,this.cgb[1]=r*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r=r*e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),r=r*e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(-12/5+e*(-24832/14175))),r=r*e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r=r*e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),r=r*e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r=r*e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r=r*e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r=r*e,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var i=Sy(this.cbg,this.lat0);this.Zb=-this.Qn*(i+AH(this.gtu,2*i))}function CH(t){var e=It(t.x-this.long0,this.over),r=t.y;r=Sy(this.cbg,r);var i=Math.sin(r),n=Math.cos(r),a=Math.sin(e),s=Math.cos(e);r=Math.atan2(i,s*n),e=Math.atan2(a*n,bo(i,n*s)),e=TH(Math.tan(e));var l=iT(this.gtu,2*r,2*e);r=r+l[0],e=e+l[1];var c,f;return Math.abs(e)<=2.623395162778?(c=this.a*(this.Qn*e)+this.x0,f=this.a*(this.Qn*r+this.Zb)+this.y0):(c=1/0,f=1/0),t.x=c,t.y=f,t}function MH(t){var e=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,e=e/this.Qn;var i,n;if(Math.abs(e)<=2.623395162778){var a=iT(this.utg,2*r,2*e);r=r+a[0],e=e+a[1],e=Math.atan(nT(e));var s=Math.sin(r),l=Math.cos(r),c=Math.sin(e),f=Math.cos(e);r=Math.atan2(s*f,bo(c,f*l)),e=Math.atan2(c,f*l),i=It(e+this.long0,this.over),n=Sy(this.cgb,r)}else i=1/0,n=1/0;return t.x=i,t.y=n,t}var kH=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const u1={init:NH,forward:CH,inverse:MH,names:kH};function PH(t,e){if(t===void 0){if(t=Math.floor((It(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var OH="etmerc";function RH(){var t=PH(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Wi,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,u1.init.apply(this),this.forward=u1.forward,this.inverse=u1.inverse}var DH=["Universal Transverse Mercator System","utm"];const jH={init:RH,names:DH,dependsOn:OH};function Ey(t,e){return Math.pow((1-t)/(1+t),e)}var IH=20;function FH(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+On)/(Math.pow(Math.tan(.5*this.lat0+On),this.C)*Ey(this.e*t,this.ratexp))}function BH(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+On),this.C)*Ey(this.e*Math.sin(r),this.ratexp))-At,t.x=this.C*e,t}function UH(t){for(var e=1e-14,r=t.x/this.C,i=t.y,n=Math.pow(Math.tan(.5*i+On)/this.K,1/this.C),a=IH;a>0&&(i=2*Math.atan(n*Ey(this.e*Math.sin(t.y),-.5*this.e))-At,!(Math.abs(i-t.y)<e));--a)t.y=i;return a?(t.x=r,t.y=i,t):null}const Ty={init:FH,forward:BH,inverse:UH};function zH(){Ty.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function GH(t){var e,r,i,n;return t.x=It(t.x-this.long0,this.over),Ty.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),i=Math.cos(t.x),n=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*i),t.x=n*r*Math.sin(t.x),t.y=n*(this.cosc0*e-this.sinc0*r*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function HH(t){var e,r,i,n,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=bo(t.x,t.y)){var s=2*Math.atan2(a,this.R2);e=Math.sin(s),r=Math.cos(s),n=Math.asin(r*this.sinc0+t.y*e*this.cosc0/a),i=Math.atan2(t.x*e,a*this.cosc0*r-t.y*this.sinc0*e)}else n=this.phic0,i=0;return t.x=i,t.y=n,Ty.inverse.apply(this,[t]),t.x=It(t.x+this.long0,this.over),t}var qH=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const VH={init:zH,forward:GH,inverse:HH,names:qH};function Ay(t,e,r){return e*=r,Math.tan(.5*(At+t))*Math.pow((1-e)/(1+e),.5*r)}function $H(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Dt&&(this.k0=.5*(1+Ap(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Dt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Dt&&Math.abs(Math.cos(this.lat_ts))>Dt&&(this.k0=.5*this.cons*Ru(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Kl(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ru(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(Ay(this.lat0,this.sinlat0,this.e))-At,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function WH(t){var e=t.x,r=t.y,i=Math.sin(r),n=Math.cos(r),a,s,l,c,f,p,v=It(e-this.long0,this.over);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=Dt&&Math.abs(r+this.lat0)<=Dt?(t.x=NaN,t.y=NaN,t):this.sphere?(a=2*this.k0/(1+this.sinlat0*i+this.coslat0*n*Math.cos(v)),t.x=this.a*a*n*Math.sin(v)+this.x0,t.y=this.a*a*(this.coslat0*i-this.sinlat0*n*Math.cos(v))+this.y0,t):(s=2*Math.atan(Ay(r,i,this.e))-At,c=Math.cos(s),l=Math.sin(s),Math.abs(this.coslat0)<=Dt?(f=Kl(this.e,r*this.con,this.con*i),p=2*this.a*this.k0*f/this.cons,t.x=this.x0+p*Math.sin(e-this.long0),t.y=this.y0-this.con*p*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<Dt?(a=2*this.a*this.k0/(1+c*Math.cos(v)),t.y=a*l):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*l+this.cosX0*c*Math.cos(v))),t.y=a*(this.cosX0*l-this.sinX0*c*Math.cos(v))+this.y0),t.x=a*c*Math.sin(v)+this.x0,t))}function ZH(t){t.x-=this.x0,t.y-=this.y0;var e,r,i,n,a,s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var l=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,r=this.lat0,s<=Dt?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(l)*this.sinlat0+t.y*Math.sin(l)*this.coslat0/s),Math.abs(this.coslat0)<Dt?this.lat0>0?e=It(this.long0+Math.atan2(t.x,-1*t.y),this.over):e=It(this.long0+Math.atan2(t.x,t.y),this.over):e=It(this.long0+Math.atan2(t.x*Math.sin(l),s*this.coslat0*Math.cos(l)-t.y*this.sinlat0*Math.sin(l)),this.over),t.x=e,t.y=r,t)}else if(Math.abs(this.coslat0)<=Dt){if(s<=Dt)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,i=s*this.cons/(2*this.a*this.k0),r=this.con*up(this.e,i),e=this.con*It(this.con*this.long0+Math.atan2(t.x,-1*t.y),this.over)}else n=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=Dt?a=this.X0:(a=Math.asin(Math.cos(n)*this.sinX0+t.y*Math.sin(n)*this.cosX0/s),e=It(this.long0+Math.atan2(t.x*Math.sin(n),s*this.cosX0*Math.cos(n)-t.y*this.sinX0*Math.sin(n)),this.over)),r=-1*up(this.e,Math.tan(.5*(At+a)));return t.x=e,t.y=r,t}var YH=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"];const KH={init:$H,forward:WH,inverse:ZH,names:YH,ssfn_:Ay};function XH(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,i=this.rf,n=1/i,a=2*n-Math.pow(n,2),s=this.e=Math.sqrt(a);this.R=this.k0*r*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var l=Math.log(Math.tan(Math.PI/4+this.b0/2)),c=Math.log(Math.tan(Math.PI/4+t/2)),f=Math.log((1+s*e)/(1-s*e));this.K=l-this.alpha*c+this.alpha*s/2*f}function JH(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+r)+this.K,n=2*(Math.atan(Math.exp(i))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(a))),l=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(l))/(1-Math.sin(l)))+this.y0,t.x=this.R*s+this.x0,t}function QH(t){for(var e=t.x-this.x0,r=t.y-this.y0,i=e/this.R,n=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(n))),l=this.lambda0+s/this.alpha,c=0,f=a,p=-1e3,v=0;Math.abs(f-p)>1e-7;){if(++v>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(f))/2)),p=f,f=2*Math.atan(Math.exp(c))-Math.PI/2}return t.x=l,t.y=f,t}var eq=["somerc"];const tq={init:XH,forward:JH,inverse:QH,names:eq};var Wf=1e-7;function rq(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof t.projName=="object"?Object.keys(t.projName)[0]:t.projName;return"no_uoff"in t||"no_off"in t||e.indexOf(r)!==-1||e.indexOf($8(r))!==-1}function nq(){var t,e,r,i,n,a,s,l,c,f,p=0,v,y=0,_=0,T=0,S=0,C=0,O=0;this.no_off=rq(this),this.no_rot="no_rot"in this;var I=!1;"alpha"in this&&(I=!0);var D=!1;if("rectified_grid_angle"in this&&(D=!0),I&&(O=this.alpha),D&&(p=this.rectified_grid_angle),I||D)y=this.longc;else if(_=this.long1,S=this.lat1,T=this.long2,C=this.lat2,Math.abs(S-C)<=Wf||(t=Math.abs(S))<=Wf||Math.abs(t-At)<=Wf||Math.abs(Math.abs(this.lat0)-At)<=Wf||Math.abs(Math.abs(C)-At)<=Wf)throw new Error;var q=1-this.es;e=Math.sqrt(q),Math.abs(this.lat0)>Dt?(l=Math.sin(this.lat0),r=Math.cos(this.lat0),t=1-this.es*l*l,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/q),this.A=this.B*this.k0*e/t,i=this.B*e/(r*Math.sqrt(t)),n=i*i-1,n<=0?n=0:(n=Math.sqrt(n),this.lat0<0&&(n=-n)),this.E=n+=i,this.E*=Math.pow(Kl(this.e,this.lat0,l),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=n=1),I||D?(I?(v=Math.asin(Math.sin(O)/i),D||(p=O)):(v=p,O=Math.asin(i*Math.sin(v))),this.lam0=y-Math.asin(.5*(n-1/n)*Math.tan(v))/this.B):(a=Math.pow(Kl(this.e,S,Math.sin(S)),this.B),s=Math.pow(Kl(this.e,C,Math.sin(C)),this.B),n=this.E/a,c=(s-a)/(s+a),f=this.E*this.E,f=(f-s*a)/(f+s*a),t=_-T,t<-Math.PI?T-=op:t>Math.PI&&(T+=op),this.lam0=It(.5*(_+T)-Math.atan(f*Math.tan(.5*this.B*(_-T))/c)/this.B,this.over),v=Math.atan(2*Math.sin(this.B*It(_-this.lam0,this.over))/(n-1/n)),p=O=Math.asin(i*Math.sin(v))),this.singam=Math.sin(v),this.cosgam=Math.cos(v),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(O))),this.lat0<0&&(this.u_0=-this.u_0)),n=.5*v,this.v_pole_n=this.ArB*Math.log(Math.tan(On-n)),this.v_pole_s=this.ArB*Math.log(Math.tan(On+n))}function iq(t){var e={},r,i,n,a,s,l,c,f;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-At)>Dt){if(s=this.E/Math.pow(Kl(this.e,t.y,Math.sin(t.y)),this.B),l=1/s,r=.5*(s-l),i=.5*(s+l),a=Math.sin(this.B*t.x),n=(r*this.singam-a*this.cosgam)/i,Math.abs(Math.abs(n)-1)<Dt)throw new Error;f=.5*this.ArB*Math.log((1-n)/(1+n)),l=Math.cos(this.B*t.x),Math.abs(l)<Wf?c=this.A*t.x:c=this.ArB*Math.atan2(r*this.cosgam+a*this.singam,l)}else f=t.y>0?this.v_pole_n:this.v_pole_s,c=this.ArB*t.y;return this.no_rot?(e.x=c,e.y=f):(c-=this.u_0,e.x=f*this.cosrot+c*this.sinrot,e.y=c*this.cosrot-f*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function aq(t){var e,r,i,n,a,s,l,c={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(r=t.y,e=t.x):(r=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*r),n=.5*(i-1/i),a=.5*(i+1/i),s=Math.sin(this.BrA*e),l=(s*this.cosgam+n*this.singam)/a,Math.abs(Math.abs(l)-1)<Dt)c.x=0,c.y=l<0?-At:At;else{if(c.y=this.E/Math.sqrt((1+l)/(1-l)),c.y=up(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(n*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return c.x+=this.lam0,c}var sq=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const oq={init:nq,forward:iq,inverse:aq,names:sq};function lq(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Dt)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),i=Ru(this.e,e,r),n=Kl(this.e,this.lat1,e),a=Math.sin(this.lat2),s=Math.cos(this.lat2),l=Ru(this.e,a,s),c=Kl(this.e,this.lat2,a),f=Math.abs(Math.abs(this.lat0)-At)<Dt?0:Kl(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Dt?this.ns=Math.log(i/l)/Math.log(n/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(n,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function uq(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=Dt&&(r=Ap(r)*(At-2*Dt));var i=Math.abs(Math.abs(r)-At),n,a;if(i>Dt)n=Kl(this.e,r,Math.sin(r)),a=this.a*this.f0*Math.pow(n,this.ns);else{if(i=r*this.ns,i<=0)return null;a=0}var s=this.ns*It(e-this.long0,this.over);return t.x=this.k0*(a*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-a*Math.cos(s))+this.y0,t}function cq(t){var e,r,i,n,a,s=(t.x-this.x0)/this.k0,l=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+l*l),r=1):(e=-Math.sqrt(s*s+l*l),r=-1);var c=0;if(e!==0&&(c=Math.atan2(r*s,r*l)),e!==0||this.ns>0){if(r=1/this.ns,i=Math.pow(e/(this.a*this.f0),r),n=up(this.e,i),n===-9999)return null}else n=-At;return a=It(c/this.ns+this.long0,this.over),t.x=a,t.y=n,t}var hq=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const fq={init:lq,forward:uq,inverse:cq,names:hq};function dq(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function pq(t){var e,r,i,n,a,s,l,c=t.x,f=t.y,p=It(c-this.long0,this.over);return e=Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(f/2+this.s45),this.alfa)/e)-this.s45),i=-p*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),a=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(n)),s=this.n*a,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),t.y=l*Math.cos(s)/1,t.x=l*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t}function mq(t){var e,r,i,n,a,s,l,c,f=t.x;t.x=t.y,t.y=f,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x),n=a/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),r=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(e)),t.x=this.long0-r/this.alfa,l=e,c=0;var p=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.e/2))-this.s45),Math.abs(l-t.y)<1e-10&&(c=1),l=t.y,p+=1;while(c===0&&p<15);return p>=15?null:t}var gq=["Krovak","krovak"];const vq={init:dq,forward:pq,inverse:mq,names:gq};function Js(t,e,r,i,n){return t*n-e*Math.sin(2*n)+r*Math.sin(4*n)-i*Math.sin(6*n)}function Lp(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Np(t){return .375*t*(1+.25*t*(1+.46875*t))}function Cp(t){return .05859375*t*t*(1+.75*t)}function Mp(t){return t*t*t*(35/3072)}function Ly(t,e,r){var i=e*r;return t/Math.sqrt(1-i*i)}function lh(t){return Math.abs(t)<At?t:t-Ap(t)*Math.PI}function z1(t,e,r,i,n){var a,s;a=t/e;for(var l=0;l<15;l++)if(s=(t-(e*a-r*Math.sin(2*a)+i*Math.sin(4*a)-n*Math.sin(6*a)))/(e-2*r*Math.cos(2*a)+4*i*Math.cos(4*a)-6*n*Math.cos(6*a)),a+=s,Math.abs(s)<=1e-10)return a;return NaN}function _q(){this.sphere||(this.e0=Lp(this.es),this.e1=Np(this.es),this.e2=Cp(this.es),this.e3=Mp(this.es),this.ml0=this.a*Js(this.e0,this.e1,this.e2,this.e3,this.lat0))}function yq(t){var e,r,i=t.x,n=t.y;if(i=It(i-this.long0,this.over),this.sphere)e=this.a*Math.asin(Math.cos(n)*Math.sin(i)),r=this.a*(Math.atan2(Math.tan(n),Math.cos(i))-this.lat0);else{var a=Math.sin(n),s=Math.cos(n),l=Ly(this.a,this.e,a),c=Math.tan(n)*Math.tan(n),f=i*Math.cos(n),p=f*f,v=this.es*s*s/(1-this.es),y=this.a*Js(this.e0,this.e1,this.e2,this.e3,n);e=l*f*(1-p*c*(1/6-(8-c+8*v)*p/120)),r=y-this.ml0+l*a/s*p*(.5+(5-c+6*v)*p/24)}return t.x=e+this.x0,t.y=r+this.y0,t}function xq(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,i,n;if(this.sphere){var a=r+this.lat0;i=Math.asin(Math.sin(a)*Math.cos(e)),n=Math.atan2(Math.tan(e),Math.cos(a))}else{var s=this.ml0/this.a+r,l=z1(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-At)<=Dt)return t.x=this.long0,t.y=At,r<0&&(t.y*=-1),t;var c=Ly(this.a,this.e,Math.sin(l)),f=c*c*c/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(l),2),v=e*this.a/c,y=v*v;i=l-c*Math.tan(l)/f*v*v*(.5-(1+3*p)*v*v/24),n=v*(1-y*(p/3+(1+3*p)*p*y/15))/Math.cos(l)}return t.x=It(n+this.long0,this.over),t.y=lh(i),t}var wq=["Cassini","Cassini_Soldner","cass"];const bq={init:_q,forward:yq,inverse:xq,names:wq};function Qc(t,e){var r;return t>1e-7?(r=t*e,(1-t*t)*(e/(1-r*r)-.5/t*Math.log((1-r)/(1+r)))):2*e}var S_=1,E_=2,T_=3,c1=4;function Sq(){var t=Math.abs(this.lat0);if(Math.abs(t-At)<Dt?this.mode=this.lat0<0?S_:E_:Math.abs(t)<Dt?this.mode=T_:this.mode=c1,this.es>0){var e;switch(this.qp=Qc(this.e,1),this.mmf=.5/(1-this.es),this.apa=Pq(this.es),this.mode){case E_:this.dd=1;break;case S_:this.dd=1;break;case T_:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case c1:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Qc(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===c1&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Eq(t){var e,r,i,n,a,s,l,c,f,p,v=t.x,y=t.y;if(v=It(v-this.long0,this.over),this.sphere){if(a=Math.sin(y),p=Math.cos(y),i=Math.cos(v),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+p*i:1+this.sinph0*a+this.cosph0*p*i,r<=Dt)return null;r=Math.sqrt(2/r),e=r*p*Math.sin(v),r*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*p*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(y+this.lat0)<Dt)return null;r=On-y*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),e=r*Math.sin(v),r*=i}}else{switch(l=0,c=0,f=0,i=Math.cos(v),n=Math.sin(v),a=Math.sin(y),s=Qc(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(l=s/this.qp,c=Math.sqrt(1-l*l)),this.mode){case this.OBLIQ:f=1+this.sinb1*l+this.cosb1*c*i;break;case this.EQUIT:f=1+c*i;break;case this.N_POLE:f=At+y,s=this.qp-s;break;case this.S_POLE:f=y-At,s=this.qp+s;break}if(Math.abs(f)<Dt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),this.mode===this.OBLIQ?r=this.ymf*f*(this.cosb1*l-this.sinb1*c*i):r=(f=Math.sqrt(2/(1+c*i)))*l*this.ymf,e=this.xmf*f*c*n;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(f=Math.sqrt(s))*n,r=i*(this.mode===this.S_POLE?f:-f)):e=r=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t}function Tq(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,i,n,a,s,l,c,f;if(this.sphere){var p=0,v,y=0;if(v=Math.sqrt(e*e+r*r),n=v*.5,n>1)return null;switch(n=2*Math.asin(n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(y=Math.sin(n),p=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(v)<=Dt?0:Math.asin(r*y/v),e*=y,r=p*v;break;case this.OBLIQ:n=Math.abs(v)<=Dt?this.lat0:Math.asin(p*this.sinph0+r*y*this.cosph0/v),e*=y*this.cosph0,r=(p-Math.sin(n)*this.sinph0)*v;break;case this.N_POLE:r=-r,n=At-n;break;case this.S_POLE:n-=At;break}i=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,r)}else{if(f=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,r*=this.dd,c=Math.sqrt(e*e+r*r),c<Dt)return t.x=this.long0,t.y=this.lat0,t;s=2*Math.asin(.5*c/this.rq),a=Math.cos(s),e*=s=Math.sin(s),this.mode===this.OBLIQ?(f=a*this.sinb1+r*s*this.cosb1/c,l=this.qp*f,r=c*this.cosb1*a-r*this.sinb1*s):(f=r*s/c,l=this.qp*f,r=c*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),l=e*e+r*r,!l)return t.x=this.long0,t.y=this.lat0,t;f=1-l/this.qp,this.mode===this.S_POLE&&(f=-f)}i=Math.atan2(e,r),n=Oq(Math.asin(f),this.apa)}return t.x=It(this.long0+i,this.over),t.y=n,t}var Aq=.3333333333333333,Lq=.17222222222222222,Nq=.10257936507936508,Cq=.06388888888888888,Mq=.0664021164021164,kq=.016415012942191543;function Pq(t){var e,r=[];return r[0]=t*Aq,e=t*t,r[0]+=e*Lq,r[1]=e*Cq,e*=t,r[0]+=e*Nq,r[1]+=e*Mq,r[2]=e*kq,r}function Oq(t,e){var r=t+t;return t+e[0]*Math.sin(r)+e[1]*Math.sin(r+r)+e[2]*Math.sin(r+r+r)}var Rq=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Dq={init:Sq,forward:Eq,inverse:Tq,names:Rq,S_POLE:S_,N_POLE:E_,EQUIT:T_,OBLIQ:c1};function ah(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function jq(){Math.abs(this.lat1+this.lat2)<Dt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ru(this.e3,this.sin_po,this.cos_po),this.qs1=Qc(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ru(this.e3,this.sin_po,this.cos_po),this.qs2=Qc(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Qc(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Dt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Iq(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var i=Qc(this.e3,this.sin_phi),n=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,a=this.ns0*It(e-this.long0,this.over),s=n*Math.sin(a)+this.x0,l=this.rh-n*Math.cos(a)+this.y0;return t.x=s,t.y=l,t}function Fq(t){var e,r,i,n,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),n=0,e!==0&&(n=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(r=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,r)),a=It(n/this.ns0+this.long0,this.over),t.x=a,t.y=s,t}function Bq(t,e){var r,i,n,a,s,l=ah(.5*e);if(t<Dt)return l;for(var c=t*t,f=1;f<=25;f++)if(r=Math.sin(l),i=Math.cos(l),n=t*r,a=1-n*n,s=.5*a*a/i*(e/(1-c)-r/a+.5/t*Math.log((1-n)/(1+n))),l=l+s,Math.abs(s)<=1e-7)return l;return null}var Uq=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"];const zq={init:jq,forward:Iq,inverse:Fq,names:Uq,phi1z:Bq};function Gq(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Hq(t){var e,r,i,n,a,s,l,c,f=t.x,p=t.y;return i=It(f-this.long0,this.over),e=Math.sin(p),r=Math.cos(p),n=Math.cos(i),s=this.sin_p14*e+this.cos_p14*r*n,a=1,s>0||Math.abs(s)<=Dt?(l=this.x0+this.a*a*r*Math.sin(i)/s,c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*r*n)/s):(l=this.x0+this.infinity_dist*r*Math.sin(i),c=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*n)),t.x=l,t.y=c,t}function qq(t){var e,r,i,n,a,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(n=Math.atan2(e,this.rc),r=Math.sin(n),i=Math.cos(n),s=ah(i*this.sin_p14+t.y*r*this.cos_p14/e),a=Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r),a=It(this.long0+a,this.over)):(s=this.phic0,a=0),t.x=a,t.y=s,t}var Vq=["gnom"];const $q={init:Gq,forward:Hq,inverse:qq,names:Vq};function Wq(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*At:At;for(var i=Math.asin(.5*e),n,a,s,l,c=0;c<30;c++)if(a=Math.sin(i),s=Math.cos(i),l=t*a,n=Math.pow(1-l*l,2)/(2*s)*(e/(1-t*t)-a/(1-l*l)+.5/t*Math.log((1-l)/(1+l))),i+=n,Math.abs(n)<=1e-10)return i;return NaN}function Zq(){this.sphere||(this.k0=Ru(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Yq(t){var e=t.x,r=t.y,i,n,a=It(e-this.long0,this.over);if(this.sphere)i=this.x0+this.a*a*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=Qc(this.e,Math.sin(r));i=this.x0+this.a*this.k0*a,n=this.y0+this.a*s*.5/this.k0}return t.x=i,t.y=n,t}function Kq(t){t.x-=this.x0,t.y-=this.y0;var e,r;return this.sphere?(e=It(this.long0+t.x/this.a/Math.cos(this.lat_ts),this.over),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=Wq(this.e,2*t.y*this.k0/this.a),e=It(this.long0+t.x/(this.a*this.k0),this.over)),t.x=e,t.y=r,t}var Xq=["cea"];const Jq={init:Zq,forward:Yq,inverse:Kq,names:Xq};function Qq(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function eV(t){var e=t.x,r=t.y,i=It(e-this.long0,this.over),n=lh(r-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*n,t}function tV(t){var e=t.x,r=t.y;return t.x=It(this.long0+(e-this.x0)/(this.a*this.rc),this.over),t.y=lh(this.lat0+(r-this.y0)/this.a),t}var rV=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"];const nV={init:Qq,forward:eV,inverse:tV,names:rV};var H3=20;function iV(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Lp(this.es),this.e1=Np(this.es),this.e2=Cp(this.es),this.e3=Mp(this.es),this.ml0=this.a*Js(this.e0,this.e1,this.e2,this.e3,this.lat0)}function aV(t){var e=t.x,r=t.y,i,n,a,s=It(e-this.long0,this.over);if(a=s*Math.sin(r),this.sphere)Math.abs(r)<=Dt?(i=this.a*s,n=-1*this.a*this.lat0):(i=this.a*Math.sin(a)/Math.tan(r),n=this.a*(lh(r-this.lat0)+(1-Math.cos(a))/Math.tan(r)));else if(Math.abs(r)<=Dt)i=this.a*s,n=-1*this.ml0;else{var l=Ly(this.a,this.e,Math.sin(r))/Math.tan(r);i=l*Math.sin(a),n=this.a*Js(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+l*(1-Math.cos(a))}return t.x=i+this.x0,t.y=n+this.y0,t}function sV(t){var e,r,i,n,a,s,l,c,f;if(i=t.x-this.x0,n=t.y-this.y0,this.sphere)if(Math.abs(n+this.a*this.lat0)<=Dt)e=It(i/this.a+this.long0,this.over),r=0;else{s=this.lat0+n/this.a,l=i*i/this.a/this.a+s*s,c=s;var p;for(a=H3;a;--a)if(p=Math.tan(c),f=-1*(s*(c*p+1)-c-.5*(c*c+l)*p)/((c-s)/p-1),c+=f,Math.abs(f)<=Dt){r=c;break}e=It(this.long0+Math.asin(i*Math.tan(c)/this.a)/Math.sin(r),this.over)}else if(Math.abs(n+this.ml0)<=Dt)r=0,e=It(this.long0+i/this.a,this.over);else{s=(this.ml0+n)/this.a,l=i*i/this.a/this.a+s*s,c=s;var v,y,_,T,S;for(a=H3;a;--a)if(S=this.e*Math.sin(c),v=Math.sqrt(1-S*S)*Math.tan(c),y=this.a*Js(this.e0,this.e1,this.e2,this.e3,c),_=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),T=y/this.a,f=(s*(v*T+1)-T-.5*v*(T*T+l))/(this.es*Math.sin(2*c)*(T*T+l-2*s*T)/(4*v)+(s-T)*(v*_-2/Math.sin(2*c))-_),c-=f,Math.abs(f)<=Dt){r=c;break}v=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=It(this.long0+Math.asin(i*v/this.a)/Math.sin(r),this.over)}return t.x=e,t.y=r,t}var oV=["Polyconic","American_Polyconic","poly"];const lV={init:iV,forward:aV,inverse:sV,names:oV};function uV(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function cV(t){var e,r=t.x,i=t.y,n=i-this.lat0,a=r-this.long0,s=n/j0*1e-5,l=a,c=1,f=0;for(e=1;e<=10;e++)c=c*s,f=f+this.A[e]*c;var p=f,v=l,y=1,_=0,T,S,C=0,O=0;for(e=1;e<=6;e++)T=y*p-_*v,S=_*p+y*v,y=T,_=S,C=C+this.B_re[e]*y-this.B_im[e]*_,O=O+this.B_im[e]*y+this.B_re[e]*_;return t.x=O*this.a+this.x0,t.y=C*this.a+this.y0,t}function hV(t){var e,r=t.x,i=t.y,n=r-this.x0,a=i-this.y0,s=a/this.a,l=n/this.a,c=1,f=0,p,v,y=0,_=0;for(e=1;e<=6;e++)p=c*s-f*l,v=f*s+c*l,c=p,f=v,y=y+this.C_re[e]*c-this.C_im[e]*f,_=_+this.C_im[e]*c+this.C_re[e]*f;for(var T=0;T<this.iterations;T++){var S=y,C=_,O,I,D=s,q=l;for(e=2;e<=6;e++)O=S*y-C*_,I=C*y+S*_,S=O,C=I,D=D+(e-1)*(this.B_re[e]*S-this.B_im[e]*C),q=q+(e-1)*(this.B_im[e]*S+this.B_re[e]*C);S=1,C=0;var te=this.B_re[1],ce=this.B_im[1];for(e=2;e<=6;e++)O=S*y-C*_,I=C*y+S*_,S=O,C=I,te=te+e*(this.B_re[e]*S-this.B_im[e]*C),ce=ce+e*(this.B_im[e]*S+this.B_re[e]*C);var F=te*te+ce*ce;y=(D*te+q*ce)/F,_=(q*te-D*ce)/F}var K=y,B=_,X=1,j=0;for(e=1;e<=9;e++)X=X*K,j=j+this.D[e]*X;var W=this.lat0+j*j0*1e5,ue=this.long0+B;return t.x=ue,t.y=W,t}var fV=["New_Zealand_Map_Grid","nzmg"];const dV={init:uV,forward:cV,inverse:hV,names:fV};function pV(){}function mV(t){var e=t.x,r=t.y,i=It(e-this.long0,this.over),n=this.x0+this.a*i,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=n,t.y=a,t}function gV(t){t.x-=this.x0,t.y-=this.y0;var e=It(this.long0+t.x/this.a,this.over),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t}var vV=["Miller_Cylindrical","mill"];const _V={init:pV,forward:mV,inverse:gV,names:vV};var yV=20;function xV(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=wy(this.es)}function wV(t){var e,r,i=t.x,n=t.y;if(i=It(i-this.long0,this.over),this.sphere){if(!this.m)n=this.n!==1?Math.asin(this.n*Math.sin(n)):n;else for(var a=this.n*Math.sin(n),s=yV;s;--s){var l=(this.m*n+Math.sin(n)-a)/(this.m+Math.cos(n));if(n-=l,Math.abs(l)<Dt)break}e=this.a*this.C_x*i*(this.m+Math.cos(n)),r=this.a*this.C_y*n}else{var c=Math.sin(n),f=Math.cos(n);r=this.a*Ld(n,c,f,this.en),e=this.a*i*f/Math.sqrt(1-this.es*c*c)}return t.x=e,t.y=r,t}function bV(t){var e,r,i,n;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=ah((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=ah(Math.sin(e)/this.n)),i=It(i+this.long0,this.over),e=lh(e)):(e=by(t.y/this.a,this.es,this.en),n=Math.abs(e),n<At?(n=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(e)),i=It(r,this.over)):n-Dt<At&&(i=this.long0)),t.x=i,t.y=e,t}var SV=["Sinusoidal","sinu"];const EV={init:xV,forward:wV,inverse:bV,names:SV};function TV(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0}function AV(t){for(var e=t.x,r=t.y,i=It(e-this.long0,this.over),n=r,a=Math.PI*Math.sin(r);;){var s=-(n+Math.sin(n)-a)/(1+Math.cos(n));if(n+=s,Math.abs(s)<Dt)break}n/=2,Math.PI/2-Math.abs(r)<Dt&&(i=0);var l=.900316316158*this.a*i*Math.cos(n)+this.x0,c=1.4142135623731*this.a*Math.sin(n)+this.y0;return t.x=l,t.y=c,t}function LV(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var i=It(this.long0+t.x/(.900316316158*this.a*Math.cos(e)),this.over);i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var n=Math.asin(r);return t.x=i,t.y=n,t}var NV=["Mollweide","moll"];const CV={init:TV,forward:AV,inverse:LV,names:NV};function MV(){Math.abs(this.lat1+this.lat2)<Dt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Lp(this.es),this.e1=Np(this.es),this.e2=Cp(this.es),this.e3=Mp(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=Ru(this.e,this.sin_phi,this.cos_phi),this.ml1=Js(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Dt?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=Ru(this.e,this.sin_phi,this.cos_phi),this.ml2=Js(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Js(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function kV(t){var e=t.x,r=t.y,i;if(this.sphere)i=this.a*(this.g-r);else{var n=Js(this.e0,this.e1,this.e2,this.e3,r);i=this.a*(this.g-n)}var a=this.ns*It(e-this.long0,this.over),s=this.x0+i*Math.sin(a),l=this.y0+this.rh-i*Math.cos(a);return t.x=s,t.y=l,t}function PV(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,r,i,n;this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;if(r!==0&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere)return n=It(this.long0+a/this.ns,this.over),i=lh(this.g-r/this.a),t.x=n,t.y=i,t;var s=this.g-r/this.a;return i=z1(s,this.e0,this.e1,this.e2,this.e3),n=It(this.long0+a/this.ns,this.over),t.x=n,t.y=i,t}var OV=["Equidistant_Conic","eqdc"];const RV={init:MV,forward:kV,inverse:PV,names:OV};function DV(){this.R=this.a}function jV(t){var e=t.x,r=t.y,i=It(e-this.long0,this.over),n,a;Math.abs(r)<=Dt&&(n=this.x0+this.R*i,a=this.y0);var s=ah(2*Math.abs(r/Math.PI));(Math.abs(i)<=Dt||Math.abs(Math.abs(r)-At)<=Dt)&&(n=this.x0,r>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*s):a=this.y0+Math.PI*this.R*-Math.tan(.5*s));var l=.5*Math.abs(Math.PI/i-i/Math.PI),c=l*l,f=Math.sin(s),p=Math.cos(s),v=p/(f+p-1),y=v*v,_=v*(2/f-1),T=_*_,S=Math.PI*this.R*(l*(v-T)+Math.sqrt(c*(v-T)*(v-T)-(T+c)*(y-T)))/(T+c);i<0&&(S=-S),n=this.x0+S;var C=c+v;return S=Math.PI*this.R*(_*C-l*Math.sqrt((T+c)*(c+1)-C*C))/(T+c),r>=0?a=this.y0+S:a=this.y0-S,t.x=n,t.y=a,t}function IV(t){var e,r,i,n,a,s,l,c,f,p,v,y,_;return t.x-=this.x0,t.y-=this.y0,v=Math.PI*this.R,i=t.x/v,n=t.y/v,a=i*i+n*n,s=-Math.abs(n)*(1+a),l=s-2*n*n+i*i,c=-2*s+1+2*n*n+a*a,_=n*n/c+(2*l*l*l/c/c/c-9*s*l/c/c)/27,f=(s-l*l/3/c)/c,p=2*Math.sqrt(-f/3),v=3*_/f/p,Math.abs(v)>1&&(v>=0?v=1:v=-1),y=Math.acos(v)/3,t.y>=0?r=(-p*Math.cos(y+Math.PI/3)-l/3/c)*Math.PI:r=-(-p*Math.cos(y+Math.PI/3)-l/3/c)*Math.PI,Math.abs(i)<Dt?e=this.long0:e=It(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(i*i-n*n)+a*a))/2/i,this.over),t.x=e,t.y=r,t}var FV=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"];const BV={init:DV,forward:jV,inverse:IV,names:FV};function UV(t,e,r,i,n,a){const s=i-e,l=Math.atan((1-a)*Math.tan(t)),c=Math.atan((1-a)*Math.tan(r)),f=Math.sin(l),p=Math.cos(l),v=Math.sin(c),y=Math.cos(c);let _=s,T,S=100,C,O,I,D,q,te,ce,F,K,B,X,j,W,ue;do{if(C=Math.sin(_),O=Math.cos(_),I=Math.sqrt(y*C*(y*C)+(p*v-f*y*O)*(p*v-f*y*O)),I===0)return{azi1:0,s12:0};D=f*v+p*y*O,q=Math.atan2(I,D),te=p*y*C/I,ce=1-te*te,F=ce!==0?D-2*f*v/ce:0,K=a/16*ce*(4+a*(4-3*ce)),T=_,_=s+(1-K)*a*te*(q+K*I*(F+K*D*(-1+2*F*F)))}while(Math.abs(_-T)>1e-12&&--S>0);return S===0?{azi1:NaN,s12:NaN}:(B=ce*(n*n-n*(1-a)*(n*(1-a)))/(n*(1-a)*(n*(1-a))),X=1+B/16384*(4096+B*(-768+B*(320-175*B))),j=B/1024*(256+B*(-128+B*(74-47*B))),W=j*I*(F+j/4*(D*(-1+2*F*F)-j/6*F*(-3+4*I*I)*(-3+4*F*F))),ue=n*(1-a)*X*(q-W),{azi1:Math.atan2(y*C,p*v-f*y*O),s12:ue})}function zV(t,e,r,i,n,a){const s=Math.atan((1-a)*Math.tan(t)),l=Math.sin(s),c=Math.cos(s),f=Math.sin(r),p=Math.cos(r),v=Math.atan2(l,c*p),y=c*f,_=1-y*y,T=_*(n*n-n*(1-a)*(n*(1-a)))/(n*(1-a)*(n*(1-a))),S=1+T/16384*(4096+T*(-768+T*(320-175*T))),C=T/1024*(256+T*(-128+T*(74-47*T)));let O=i/(n*(1-a)*S),I,D=100,q,te,ce,F;do q=Math.cos(2*v+O),te=Math.sin(O),ce=Math.cos(O),F=C*te*(q+C/4*(ce*(-1+2*q*q)-C/6*q*(-3+4*te*te)*(-3+4*q*q))),I=O,O=i/(n*(1-a)*S)+F;while(Math.abs(O-I)>1e-12&&--D>0);if(D===0)return{lat2:NaN,lon2:NaN};const K=l*te-c*ce*p,B=Math.atan2(l*ce+c*te*p,(1-a)*Math.sqrt(y*y+K*K)),X=Math.atan2(te*f,c*ce-l*te*p),j=a/16*_*(4+a*(4-3*_)),W=X-(1-j)*a*y*(O+j*te*(q+j*ce*(-1+2*q*q))),ue=e+W;return{lat2:B,lon2:ue}}function GV(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function HV(t){var e=t.x,r=t.y,i=Math.sin(t.y),n=Math.cos(t.y),a=It(e-this.long0,this.over),s,l,c,f,p,v,y,_,T,S,C;return this.sphere?Math.abs(this.sin_p12-1)<=Dt?(t.x=this.x0+this.a*(At-r)*Math.sin(a),t.y=this.y0-this.a*(At-r)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=Dt?(t.x=this.x0+this.a*(At+r)*Math.sin(a),t.y=this.y0+this.a*(At+r)*Math.cos(a),t):(T=this.sin_p12*i+this.cos_p12*n*Math.cos(a),y=Math.acos(T),_=y?y/Math.sin(y):1,t.x=this.x0+this.a*_*n*Math.sin(a),t.y=this.y0+this.a*_*(this.cos_p12*i-this.sin_p12*n*Math.cos(a)),t):(s=Lp(this.es),l=Np(this.es),c=Cp(this.es),f=Mp(this.es),Math.abs(this.sin_p12-1)<=Dt?(p=this.a*Js(s,l,c,f,At),v=this.a*Js(s,l,c,f,r),t.x=this.x0+(p-v)*Math.sin(a),t.y=this.y0-(p-v)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=Dt?(p=this.a*Js(s,l,c,f,At),v=this.a*Js(s,l,c,f,r),t.x=this.x0+(p+v)*Math.sin(a),t.y=this.y0+(p+v)*Math.cos(a),t):Math.abs(e)<Dt&&Math.abs(r-this.lat0)<Dt?(t.x=t.y=0,t):(S=UV(this.lat0,this.long0,r,e,this.a,this.f),C=S.azi1,t.x=S.s12*Math.sin(C),t.y=S.s12*Math.cos(C),t))}function qV(t){t.x-=this.x0,t.y-=this.y0;var e,r,i,n,a,s,l,c,f,p,v,y,_,T,S,C;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*At*this.a?void 0:(r=e/this.a,i=Math.sin(r),n=Math.cos(r),a=this.long0,Math.abs(e)<=Dt?s=this.lat0:(s=ah(n*this.sin_p12+t.y*i*this.cos_p12/e),l=Math.abs(this.lat0)-At,Math.abs(l)<=Dt?this.lat0>=0?a=It(this.long0+Math.atan2(t.x,-t.y),this.over):a=It(this.long0-Math.atan2(-t.x,t.y),this.over):a=It(this.long0+Math.atan2(t.x*i,e*this.cos_p12*n-t.y*this.sin_p12*i),this.over)),t.x=a,t.y=s,t)):(c=Lp(this.es),f=Np(this.es),p=Cp(this.es),v=Mp(this.es),Math.abs(this.sin_p12-1)<=Dt?(y=this.a*Js(c,f,p,v,At),e=Math.sqrt(t.x*t.x+t.y*t.y),_=y-e,s=z1(_/this.a,c,f,p,v),a=It(this.long0+Math.atan2(t.x,-1*t.y),this.over),t.x=a,t.y=s,t):Math.abs(this.sin_p12+1)<=Dt?(y=this.a*Js(c,f,p,v,At),e=Math.sqrt(t.x*t.x+t.y*t.y),_=e-y,s=z1(_/this.a,c,f,p,v),a=It(this.long0+Math.atan2(t.x,t.y),this.over),t.x=a,t.y=s,t):(T=Math.atan2(t.x,t.y),S=Math.sqrt(t.x*t.x+t.y*t.y),C=zV(this.lat0,this.long0,T,S,this.a,this.f),t.x=C.lon2,t.y=C.lat2,t))}var VV=["Azimuthal_Equidistant","aeqd"];const $V={init:GV,forward:HV,inverse:qV,names:VV};function WV(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function ZV(t){var e,r,i,n,a,s,l,c,f=t.x,p=t.y;return i=It(f-this.long0,this.over),e=Math.sin(p),r=Math.cos(p),n=Math.cos(i),s=this.sin_p14*e+this.cos_p14*r*n,a=1,(s>0||Math.abs(s)<=Dt)&&(l=this.a*a*r*Math.sin(i),c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*r*n)),t.x=l,t.y=c,t}function YV(t){var e,r,i,n,a,s,l;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),r=ah(e/this.a),i=Math.sin(r),n=Math.cos(r),s=this.long0,Math.abs(e)<=Dt?(l=this.lat0,t.x=s,t.y=l,t):(l=ah(n*this.sin_p14+t.y*i*this.cos_p14/e),a=Math.abs(this.lat0)-At,Math.abs(a)<=Dt?(this.lat0>=0?s=It(this.long0+Math.atan2(t.x,-t.y),this.over):s=It(this.long0-Math.atan2(-t.x,t.y),this.over),t.x=s,t.y=l,t):(s=It(this.long0+Math.atan2(t.x*i,e*this.cos_p14*n-t.y*this.sin_p14*i),this.over),t.x=s,t.y=l,t))}var KV=["ortho"];const XV={init:WV,forward:ZV,inverse:YV,names:KV};var ji={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Rn={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function JV(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=At-On/2?this.face=ji.TOP:this.lat0<=-(At-On/2)?this.face=ji.BOTTOM:Math.abs(this.long0)<=On?this.face=ji.FRONT:Math.abs(this.long0)<=At+On?this.face=this.long0>0?ji.RIGHT:ji.LEFT:this.face=ji.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function QV(t){var e={x:0,y:0},r,i,n,a,s,l,c={value:0};if(t.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):r=t.y,i=t.x,this.face===ji.TOP)a=At-r,i>=On&&i<=At+On?(c.value=Rn.AREA_0,n=i-At):i>At+On||i<=-(At+On)?(c.value=Rn.AREA_1,n=i>0?i-la:i+la):i>-(At+On)&&i<=-On?(c.value=Rn.AREA_2,n=i+At):(c.value=Rn.AREA_3,n=i);else if(this.face===ji.BOTTOM)a=At+r,i>=On&&i<=At+On?(c.value=Rn.AREA_0,n=-i+At):i<On&&i>=-On?(c.value=Rn.AREA_1,n=-i):i<-On&&i>=-(At+On)?(c.value=Rn.AREA_2,n=-i-At):(c.value=Rn.AREA_3,n=i>0?-i+la:-i-la);else{var f,p,v,y,_,T,S;this.face===ji.RIGHT?i=vd(i,+At):this.face===ji.BACK?i=vd(i,+la):this.face===ji.LEFT&&(i=vd(i,-At)),y=Math.sin(r),_=Math.cos(r),T=Math.sin(i),S=Math.cos(i),f=_*S,p=_*T,v=y,this.face===ji.FRONT?(a=Math.acos(f),n=Ym(a,v,p,c)):this.face===ji.RIGHT?(a=Math.acos(p),n=Ym(a,v,-f,c)):this.face===ji.BACK?(a=Math.acos(-f),n=Ym(a,v,-p,c)):this.face===ji.LEFT?(a=Math.acos(-p),n=Ym(a,v,f,c)):(a=n=0,c.value=Rn.AREA_0)}return l=Math.atan(12/la*(n+Math.acos(Math.sin(n)*Math.cos(On))-At)),s=Math.sqrt((1-Math.cos(a))/(Math.cos(l)*Math.cos(l))/(1-Math.cos(Math.atan(1/Math.cos(n))))),c.value===Rn.AREA_1?l+=At:c.value===Rn.AREA_2?l+=la:c.value===Rn.AREA_3&&(l+=1.5*la),e.x=s*Math.cos(l),e.y=s*Math.sin(l),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function e$(t){var e={lam:0,phi:0},r,i,n,a,s,l,c,f,p,v={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),r=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?v.value=Rn.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(v.value=Rn.AREA_1,r-=At):t.x<0&&-t.x>=Math.abs(t.y)?(v.value=Rn.AREA_2,r=r<0?r+la:r-la):(v.value=Rn.AREA_3,r+=At),p=la/12*Math.tan(r),s=Math.sin(p)/(Math.cos(p)-1/Math.sqrt(2)),l=Math.atan(s),n=Math.cos(r),a=Math.tan(i),c=1-n*n*a*a*(1-Math.cos(Math.atan(1/Math.cos(l)))),c<-1?c=-1:c>1&&(c=1),this.face===ji.TOP)f=Math.acos(c),e.phi=At-f,v.value===Rn.AREA_0?e.lam=l+At:v.value===Rn.AREA_1?e.lam=l<0?l+la:l-la:v.value===Rn.AREA_2?e.lam=l-At:e.lam=l;else if(this.face===ji.BOTTOM)f=Math.acos(c),e.phi=f-At,v.value===Rn.AREA_0?e.lam=-l+At:v.value===Rn.AREA_1?e.lam=-l:v.value===Rn.AREA_2?e.lam=-l-At:e.lam=l<0?-l-la:-l+la;else{var y,_,T;y=c,p=y*y,p>=1?T=0:T=Math.sqrt(1-p)*Math.sin(l),p+=T*T,p>=1?_=0:_=Math.sqrt(1-p),v.value===Rn.AREA_1?(p=_,_=-T,T=p):v.value===Rn.AREA_2?(_=-_,T=-T):v.value===Rn.AREA_3&&(p=_,_=T,T=-p),this.face===ji.RIGHT?(p=y,y=-_,_=p):this.face===ji.BACK?(y=-y,_=-_):this.face===ji.LEFT&&(p=y,y=_,_=-p),e.phi=Math.acos(-T)-At,e.lam=Math.atan2(_,y),this.face===ji.RIGHT?e.lam=vd(e.lam,-At):this.face===ji.BACK?e.lam=vd(e.lam,-la):this.face===ji.LEFT&&(e.lam=vd(e.lam,+At))}if(this.es!==0){var S,C,O;S=e.phi<0?1:0,C=Math.tan(e.phi),O=this.b/Math.sqrt(C*C+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-O*O)/(this.one_minus_f*O)),S&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function Ym(t,e,r,i){var n;return t<Dt?(i.value=Rn.AREA_0,n=0):(n=Math.atan2(e,r),Math.abs(n)<=On?i.value=Rn.AREA_0:n>On&&n<=At+On?(i.value=Rn.AREA_1,n-=At):n>At+On||n<=-(At+On)?(i.value=Rn.AREA_2,n=n>=0?n-la:n+la):(i.value=Rn.AREA_3,n+=At)),n}function vd(t,e){var r=t+e;return r<-la?r+=op:r>+la&&(r-=op),r}var t$=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const r$={init:JV,forward:QV,inverse:e$,names:t$};var A_=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],w0=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],aT=.8487,sT=1.3523,oT=So/5,n$=1/oT,td=18,G1=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},i$=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function a$(t,e,r,i){for(var n=e;i;--i){var a=t(n);if(n-=a,Math.abs(a)<r)break}return n}function s$(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function o$(t){var e=It(t.x-this.long0,this.over),r=Math.abs(t.y),i=Math.floor(r*oT);i<0?i=0:i>=td&&(i=td-1),r=So*(r-n$*i);var n={x:G1(A_[i],r)*e,y:G1(w0[i],r)};return t.y<0&&(n.y=-n.y),n.x=n.x*this.a*aT+this.x0,n.y=n.y*this.a*sT+this.y0,n}function l$(t){var e={x:(t.x-this.x0)/(this.a*aT),y:Math.abs(t.y-this.y0)/(this.a*sT)};if(e.y>=1)e.x/=A_[td][0],e.y=t.y<0?-At:At;else{var r=Math.floor(e.y*td);for(r<0?r=0:r>=td&&(r=td-1);;)if(w0[r][0]>e.y)--r;else if(w0[r+1][0]<=e.y)++r;else break;var i=w0[r],n=5*(e.y-i[0])/(w0[r+1][0]-i[0]);n=a$(function(a){return(G1(i,a)-e.y)/i$(i,a)},n,Dt,100),e.x/=G1(A_[r],n),e.y=(5*r+n)*Wi,t.y<0&&(e.y=-e.y)}return e.x=It(e.x+this.long0,this.over),e}var u$=["Robinson","robin"];const c$={init:s$,forward:o$,inverse:l$,names:u$};function h$(){this.name="geocent"}function f$(t){var e=Z8(t,this.es,this.a);return e}function d$(t){var e=Y8(t,this.es,this.a,this.b);return e}var p$=["Geocentric","geocentric","geocent","Geocent"];const m$={init:h$,forward:f$,inverse:d$,names:p$};var Fs={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},d0={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function g$(){if(Object.keys(d0).forEach((function(r){if(typeof this[r]>"u")this[r]=d0[r].def;else{if(d0[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);d0[r].num&&(this[r]=parseFloat(this[r]))}d0[r].degrees&&(this[r]=this[r]*Wi)}).bind(this)),Math.abs(Math.abs(this.lat0)-At)<Dt?this.mode=this.lat0<0?Fs.S_POLE:Fs.N_POLE:Math.abs(this.lat0)<Dt?this.mode=Fs.EQUIT:(this.mode=Fs.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function v$(t){t.x-=this.long0;var e=Math.sin(t.y),r=Math.cos(t.y),i=Math.cos(t.x),n,a;switch(this.mode){case Fs.OBLIQ:a=this.sinph0*e+this.cosph0*r*i;break;case Fs.EQUIT:a=r*i;break;case Fs.S_POLE:a=-e;break;case Fs.N_POLE:a=e;break}switch(a=this.pn1/(this.p-a),n=a*r*Math.sin(t.x),this.mode){case Fs.OBLIQ:a*=this.cosph0*e-this.sinph0*r*i;break;case Fs.EQUIT:a*=e;break;case Fs.N_POLE:a*=-(r*i);break;case Fs.S_POLE:a*=r*i;break}var s,l;return s=a*this.cg+n*this.sg,l=1/(s*this.sw*this.h1+this.cw),n=(n*this.cg-a*this.sg)*this.cw*l,a=s*l,t.x=n*this.a,t.y=a*this.a,t}function _$(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},r,i,n;n=1/(this.pn1-t.y*this.sw),r=this.pn1*t.x*n,i=this.pn1*t.y*this.cw*n,t.x=r*this.cg+i*this.sg,t.y=i*this.cg-r*this.sg;var a=bo(t.x,t.y);if(Math.abs(a)<Dt)e.x=0,e.y=t.y;else{var s,l;switch(l=1-a*a*this.pfact,l=(this.p-Math.sqrt(l))/(this.pn1/a+a/this.pn1),s=Math.sqrt(1-l*l),this.mode){case Fs.OBLIQ:e.y=Math.asin(s*this.sinph0+t.y*l*this.cosph0/a),t.y=(s-this.sinph0*Math.sin(e.y))*a,t.x*=l*this.cosph0;break;case Fs.EQUIT:e.y=Math.asin(t.y*l/a),t.y=s*a,t.x*=l;break;case Fs.N_POLE:e.y=Math.asin(s),t.y=-t.y;break;case Fs.S_POLE:e.y=-Math.asin(s);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var y$=["Tilted_Perspective","tpers"];const x$={init:g$,forward:v$,inverse:_$,names:y$};function w$(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function b$(t){var e=t.x,r=t.y,i,n,a,s;if(e=e-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var l=this.radius_p/bo(this.radius_p*Math.cos(r),Math.sin(r));if(n=l*Math.cos(e)*Math.cos(r),a=l*Math.sin(e)*Math.cos(r),s=l*Math.sin(r),(this.radius_g-n)*n-a*a-s*s*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/bo(s,i)),t.y=this.radius_g_1*Math.atan(s/i)):(t.x=this.radius_g_1*Math.atan(a/i),t.y=this.radius_g_1*Math.atan(s/bo(a,i)))}else this.shape==="sphere"&&(i=Math.cos(r),n=Math.cos(e)*i,a=Math.sin(e)*i,s=Math.sin(r),i=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/bo(s,i)),t.y=this.radius_g_1*Math.atan(s/i)):(t.x=this.radius_g_1*Math.atan(a/i),t.y=this.radius_g_1*Math.atan(s/bo(a,i))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function S$(t){var e=-1,r=0,i=0,n,a,s,l;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*bo(1,i)):(r=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*bo(1,r));var c=i/this.radius_p;if(n=r*r+c*c+e*e,a=2*this.radius_g*e,s=a*a-4*n*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;l=(-a-Math.sqrt(s))/(2*n),e=this.radius_g+l*e,r*=l,i*=l,t.x=Math.atan2(r,e),t.y=Math.atan(i*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+i*i)):(r=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+r*r)),n=r*r+i*i+e*e,a=2*this.radius_g*e,s=a*a-4*n*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;l=(-a-Math.sqrt(s))/(2*n),e=this.radius_g+l*e,r*=l,i*=l,t.x=Math.atan2(r,e),t.y=Math.atan(i*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var E$=["Geostationary Satellite View","Geostationary_Satellite","geos"];const T$={init:w$,forward:b$,inverse:S$,names:E$};var I0=1.340264,F0=-.081106,B0=893e-6,U0=.003796,H1=Math.sqrt(3)/2;function A$(){this.es=0,this.long0=this.long0!==void 0?this.long0:0,this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0}function L$(t){var e=It(t.x-this.long0,this.over),r=t.y,i=Math.asin(H1*Math.sin(r)),n=i*i,a=n*n*n;return t.x=e*Math.cos(i)/(H1*(I0+3*F0*n+a*(7*B0+9*U0*n))),t.y=i*(I0+F0*n+a*(B0+U0*n)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function N$(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,r=12,i=t.y,n,a,s,l,c,f;for(f=0;f<r&&(n=i*i,a=n*n*n,s=i*(I0+F0*n+a*(B0+U0*n))-t.y,l=I0+3*F0*n+a*(7*B0+9*U0*n),i-=c=s/l,!(Math.abs(c)<e));++f);return n=i*i,a=n*n*n,t.x=H1*t.x*(I0+3*F0*n+a*(7*B0+9*U0*n))/Math.cos(i),t.y=Math.asin(Math.sin(i)/H1),t.x=It(t.x+this.long0,this.over),t}var C$=["eqearth","Equal Earth","Equal_Earth"];const M$={init:A$,forward:L$,inverse:N$,names:C$};var cp=1e-10;function k$(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<cp)throw new Error;this.es?(this.en=wy(this.es),this.m1=Ld(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=O$,this.forward=P$):(Math.abs(this.phi1)+cp>=At?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=D$,this.forward=R$)}function P$(t){var e=It(t.x-(this.long0||0),this.over),r=t.y,i,n,a;return i=this.am1+this.m1-Ld(r,n=Math.sin(r),a=Math.cos(r),this.en),n=a*e/(i*Math.sqrt(1-this.es*n*n)),t.x=i*Math.sin(n),t.y=this.am1-i*Math.cos(n),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function O$(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,i,n;if(r=bo(t.x,t.y=this.am1-t.y),n=by(this.am1+this.m1-r,this.es,this.en),(e=Math.abs(n))<At)e=Math.sin(n),i=r*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(n);else if(Math.abs(e-At)<=cp)i=0;else throw new Error;return t.x=It(i+(this.long0||0),this.over),t.y=lh(n),t}function R$(t){var e=It(t.x-(this.long0||0),this.over),r=t.y,i,n;return n=this.cphi1+this.phi1-r,Math.abs(n)>cp?(t.x=n*Math.sin(i=e*Math.cos(r)/n),t.y=this.cphi1-n*Math.cos(i)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function D$(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,i=bo(t.x,t.y=this.cphi1-t.y);if(r=this.cphi1+this.phi1-i,Math.abs(r)>At)throw new Error;return Math.abs(Math.abs(r)-At)<=cp?e=0:e=i*Math.atan2(t.x,t.y)/Math.cos(r),t.x=It(e+(this.long0||0),this.over),t.y=lh(r),t}var j$=["bonne","Bonne (Werner lat_1=90)"];const I$={init:k$,names:j$},q3={OBLIQUE:{forward:G$,inverse:q$},TRANSVERSE:{forward:H$,inverse:V$}},q1={ROTATE:{o_alpha:"oAlpha",o_lon_c:"oLongC",o_lat_c:"oLatC"},NEW_POLE:{o_lat_p:"oLatP",o_lon_p:"oLongP"},NEW_EQUATOR:{o_lon_1:"oLong1",o_lat_1:"oLat1",o_lon_2:"oLong2",o_lat_2:"oLat2"}};function F$(){if(this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.title=this.title||"General Oblique Transformation",this.isIdentity=q8.includes(this.o_proj),!this.o_proj)throw new Error("Missing parameter: o_proj");if(this.o_proj==="ob_tran")throw new Error("Invalid value for o_proj: "+this.o_proj);const t=this.projStr.replace("+proj=ob_tran","").replace("+o_proj=","+proj=").trim(),e=xl(t);if(!e)throw new Error("Invalid parameter: o_proj. Unknown projection "+this.o_proj);e.long0=0,this.obliqueProjection=e;let r;const i=Object.keys(q1),n=l=>{if(typeof this[l]>"u")return;const c=parseFloat(this[l])*Wi;if(isNaN(c))throw new Error("Invalid value for "+l+": "+this[l]);return c};for(let l=0;l<i.length;l++){const c=i[l],f=q1[c],p=Object.entries(f);if(p.some(([y])=>typeof this[y]<"u")){r=f;for(let y=0;y<p.length;y++){const[_,T]=p[y],S=n(_);if(typeof S>"u")throw new Error("Missing parameter: "+_+".");this[T]=S}break}}if(!r)throw new Error("No valid parameters provided for ob_tran projection.");const{lamp:a,phip:s}=z$(this,r);this.lamp=a,Math.abs(s)>Dt?(this.cphip=Math.cos(s),this.sphip=Math.sin(s),this.projectionType=q3.OBLIQUE):this.projectionType=q3.TRANSVERSE}function B$(t){return this.projectionType.forward(this,t)}function U$(t){return this.projectionType.inverse(this,t)}function z$(t,e){let r,i;if(e===q1.ROTATE){let n=t.oLongC,a=t.oLatC,s=t.oAlpha;if(Math.abs(Math.abs(a)-At)<=Dt)throw new Error("Invalid value for o_lat_c: "+t.o_lat_c+" should be < 90");i=n+Math.atan2(-1*Math.cos(s),-1*Math.sin(s)*Math.sin(a)),r=Math.asin(Math.cos(a)*Math.sin(s))}else if(e===q1.NEW_POLE)i=t.oLongP,r=t.oLatP;else{let n=t.oLong1,a=t.oLat1,s=t.oLong2,l=t.oLat2,c=Math.abs(a);if(Math.abs(a)>At-Dt)throw new Error("Invalid value for o_lat_1: "+t.o_lat_1+" should be < 90");if(Math.abs(l)>At-Dt)throw new Error("Invalid value for o_lat_2: "+t.o_lat_2+" should be < 90");if(Math.abs(a-l)<Dt)throw new Error("Invalid value for o_lat_1 and o_lat_2: o_lat_1 should be different from o_lat_2");if(c<Dt)throw new Error("Invalid value for o_lat_1: o_lat_1 should be different from zero");i=Math.atan2(Math.cos(a)*Math.sin(l)*Math.cos(n)-Math.sin(a)*Math.cos(l)*Math.cos(s),Math.sin(a)*Math.cos(l)*Math.sin(s)-Math.cos(a)*Math.sin(l)*Math.sin(n)),r=Math.atan(-1*Math.cos(i-n)/Math.tan(a))}return{lamp:i,phip:r}}function G$(t,e){let{x:r,y:i}=e;r+=t.long0;const n=Math.cos(r),a=Math.sin(i),s=Math.cos(i);e.x=It(Math.atan2(s*Math.sin(r),t.sphip*s*n+t.cphip*a)+t.lamp),e.y=Math.asin(t.sphip*a-t.cphip*s*n);const l=t.obliqueProjection.forward(e);return t.isIdentity&&(l.x*=So,l.y*=So),l}function H$(t,e){let{x:r,y:i}=e;r+=t.long0;const n=Math.cos(i),a=Math.cos(r);e.x=It(Math.atan2(n*Math.sin(r),Math.sin(i))+t.lamp),e.y=Math.asin(-1*n*a);const s=t.obliqueProjection.forward(e);return t.isIdentity&&(s.x*=So,s.y*=So),s}function q$(t,e){t.isIdentity&&(e.x*=Wi,e.y*=Wi);const r=t.obliqueProjection.inverse(e);let{x:i,y:n}=r;if(i<Number.MAX_VALUE){i-=t.lamp;const a=Math.cos(i),s=Math.sin(n),l=Math.cos(n);e.x=Math.atan2(l*Math.sin(i),t.sphip*l*a-t.cphip*s),e.y=Math.asin(t.sphip*s+t.cphip*l*a)}return e.x=It(e.x+t.long0),e}function V$(t,e){t.isIdentity&&(e.x*=Wi,e.y*=Wi);const r=t.obliqueProjection.inverse(e);let{x:i,y:n}=r;if(i<Number.MAX_VALUE){const a=Math.cos(n);i-=t.lamp,e.x=Math.atan2(a*Math.sin(i),-1*Math.sin(n)),e.y=Math.asin(a*Math.cos(i))}return e.x=It(e.x+t.long0),e}var $$=["General Oblique Transformation","General_Oblique_Transformation","ob_tran"];const W$={init:F$,forward:B$,inverse:U$,names:$$};function Z$(t){t.Proj.projections.add(l1),t.Proj.projections.add(u1),t.Proj.projections.add(jH),t.Proj.projections.add(VH),t.Proj.projections.add(KH),t.Proj.projections.add(tq),t.Proj.projections.add(oq),t.Proj.projections.add(fq),t.Proj.projections.add(vq),t.Proj.projections.add(bq),t.Proj.projections.add(Dq),t.Proj.projections.add(zq),t.Proj.projections.add($q),t.Proj.projections.add(Jq),t.Proj.projections.add(nV),t.Proj.projections.add(lV),t.Proj.projections.add(dV),t.Proj.projections.add(_V),t.Proj.projections.add(EV),t.Proj.projections.add(CV),t.Proj.projections.add(RV),t.Proj.projections.add(BV),t.Proj.projections.add($V),t.Proj.projections.add(XV),t.Proj.projections.add(r$),t.Proj.projections.add(c$),t.Proj.projections.add(m$),t.Proj.projections.add(x$),t.Proj.projections.add(T$),t.Proj.projections.add(M$),t.Proj.projections.add(I$),t.Proj.projections.add(W$)}const Ny=Object.assign(QG,{defaultDatum:"WGS84",Proj:xl,WGS84:new xl("WGS84"),Point:yd,toPoint:K8,defs:ms,nadgrid:DG,transform:U1,mgrs:eH,version:"__VERSION__"});Z$(Ny);const Y$=(t={})=>{const{enableHighAccuracy:e=!0,timeout:r=1e4,maximumAge:i=0,watchPosition:n=!1}=t,[a,s]=ve.useState(null),[l,c]=ve.useState(null),[f,p]=ve.useState(!1),[v,y]=ve.useState("prompt"),_=ve.useRef(null);ve.useEffect(()=>{"permissions"in navigator&&navigator.permissions.query({name:"geolocation"}).then(q=>{y(q.state),q.onchange=()=>{y(q.state)}}).catch(()=>{y("prompt")})},[]),ve.useEffect(()=>()=>{_.current!==null&&navigator.geolocation.clearWatch(_.current)},[]);const T=ve.useCallback(q=>{const{latitude:te,longitude:ce,accuracy:F,altitude:K,heading:B,speed:X}=q.coords;s({latitude:te,longitude:ce,accuracy:F,altitude:K,heading:B,speed:X,timestamp:q.timestamp,accuracyLevel:K$(F)}),c(null),p(!1)},[]),S=ve.useCallback(q=>{let te;switch(q.code){case q.PERMISSION_DENIED:te="Location permission denied. Please enable location access in your device settings.",y("denied");break;case q.POSITION_UNAVAILABLE:te="Location unavailable. Please ensure GPS is enabled.";break;case q.TIMEOUT:te="Location request timed out. Please try again.";break;default:te="An unknown error occurred while getting location."}c(te),p(!1)},[]),C=ve.useCallback(()=>{if(!("geolocation"in navigator)){c("Geolocation is not supported by your browser.");return}p(!0),c(null),navigator.geolocation.getCurrentPosition(T,S,{enableHighAccuracy:e,timeout:r,maximumAge:i})},[e,r,i,T,S]),O=ve.useCallback(()=>{if(!("geolocation"in navigator)){c("Geolocation is not supported by your browser.");return}_.current===null&&(p(!0),c(null),_.current=navigator.geolocation.watchPosition(T,S,{enableHighAccuracy:e,timeout:r,maximumAge:i}))},[e,r,i,T,S]),I=ve.useCallback(()=>{_.current!==null&&(navigator.geolocation.clearWatch(_.current),_.current=null,p(!1))},[]),D=ve.useCallback(()=>{s(null),c(null)},[]);return{location:a,error:l,isLoading:f,permissionState:v,getCurrentPosition:C,startWatching:O,stopWatching:I,clearLocation:D,isSupported:"geolocation"in navigator}},K$=t=>t<=5?{level:"excellent",color:"#10B981",label:"GPS accuracy: Excellent"}:t<=15?{level:"good",color:"#22C55E",label:"GPS accuracy: Good"}:t<=50?{level:"moderate",color:"#F59E0B",label:"GPS accuracy: Moderate"}:t<=100?{level:"poor",color:"#EF4444",label:"GPS accuracy: Poor"}:{level:"very_poor",color:"#DC2626",label:"GPS accuracy: Very Poor"};delete js.Icon.Default.prototype._getIconUrl;js.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});Ny.defs("EPSG:32645","+proj=utm +zone=45 +datum=WGS84 +units=m +no_defs");const X$=(t,e)=>Ny("EPSG:32645","EPSG:4326",[t,e]),Km={minX:374675.5284200097,minY:2.2494228492706926e6,maxX:374819.7744433263,maxY:2249603845816269e-9},V3=[(Km.minX+Km.maxX)/2,(Km.minY+Km.maxY)/2],Xm=X$(V3[0],V3[1]),J$=({setMapInstance:t})=>{const e=Pz();return ve.useEffect(()=>{t(e)},[e,t]),null},Q$=({onBuildingSelect:t})=>{const e=ve.useRef(null),[r,i]=ve.useState(null),[n,a]=ve.useState(null),[s,l]=ve.useState(null),[c,f]=ve.useState(null),[p,v]=ve.useState(!1),[y,_]=ve.useState([]),[T,S]=ve.useState([]),[C,O]=ve.useState(!1),[I,D]=ve.useState(null),[q,te]=ve.useState(null),{location:ce,error:F,isLoading:K,getCurrentPosition:B}=Y$({enableHighAccuracy:!0,timeout:15e3}),X=oe=>{if(!r)return;if(c)try{c.disable()}catch{}let be;const _e={color:oe==="polygon"?"#10b981":"#8b5cf6",weight:3,fillOpacity:.2};oe==="polygon"?be=new js.Draw.Polygon(r,{shapeOptions:_e,allowIntersection:!1,guidelineDistance:15}):oe==="rectangle"?be=new js.Draw.Rectangle(r,{shapeOptions:_e}):oe==="marker"&&(be=new js.Draw.Marker(r)),be&&(be.enable(),f(be),a(oe))},j=()=>{B(),v(!0)};ve.useEffect(()=>{ce&&r&&r.flyTo([ce.latitude,ce.longitude],18,{duration:1.5})},[ce,r]);const W=()=>{r&&r.flyTo([Xm[1],Xm[0]],19,{duration:1.5})},ue=()=>{if(c)try{c._markers&&c._markers.length>0&&(c.deleteLastVertex(),_(oe=>{const be=[...oe];return be.pop(),be}))}catch(oe){console.log("Undo not available:",oe)}},de=()=>{if(c)try{c.disable()}catch{}f(null),a(null),_([]),S([]),l(null),e.current&&e.current.clearLayers()};ve.useEffect(()=>{if(!r)return;const oe=be=>{const _e=be.layers?._layers;if(_e){const Le=Object.values(_e);if(Le.length>0&&Le[0]._latlng){const Ne=Le[0]._latlng;_(Q=>[...Q,{lat:Ne.lat,lng:Ne.lng}])}}};return r.on("draw:drawvertex",oe),()=>{r.off("draw:drawvertex",oe)}},[r]),ve.useEffect(()=>{if(!r)return;const oe=()=>{l(null)},be=()=>{l(null),a(null)},_e=Le=>{const Ne=Le.layer,Q=Le.layerType;let P,G;Q==="polygon"||Q==="rectangle"?(P={type:"Polygon",coordinates:[Ne.getLatLngs()[0].map(Ae=>[Ae.lng,Ae.lat])]},G=Ne.getBounds().getCenter()):Q==="marker"&&(G=Ne.getLatLng(),P={type:"Point",coordinates:[G.lng,G.lat]});let H=0;(Q==="polygon"||Q==="rectangle")&&(H=js.GeometryUtil.geodesicArea(Ne.getLatLngs()[0]));const Z={id:`BLD-${Date.now()}`,geometry:P,latlng:G,area:H.toFixed(2),layerType:Q};l(null),a(null),f(null),t(Z)};return r.on("draw:drawvertex",Le=>{const Ne=Object.values(Le.layers._layers)[0];if(Ne&&Ne._latlngs){const Q=Ne._latlngs;if(Q.length>=3){const P=js.GeometryUtil.geodesicArea(Q);l(P)}}}),r.on("draw:drawstart",oe),r.on("draw:drawstop",be),r.on("draw:created",_e),()=>{r.off("draw:drawvertex"),r.off("draw:drawstart",oe),r.off("draw:drawstop",be),r.off("draw:created",_e)}},[r,t]);const xe=oe=>{const{layerType:be,layer:_e}=oe;let Le,Ne;be==="polygon"||be==="rectangle"?(Le={type:"Polygon",coordinates:[_e.getLatLngs()[0].map(H=>[H.lng,H.lat])]},Ne=_e.getBounds().getCenter()):be==="marker"&&(Ne=_e.getLatLng(),Le={type:"Point",coordinates:[Ne.lng,Ne.lat]});let Q=0;(be==="polygon"||be==="rectangle")&&(Q=js.GeometryUtil.geodesicArea(_e.getLatLngs()[0]));const P={id:`BLD-${Date.now()}`,geometry:Le,latlng:Ne,area:Q.toFixed(2),layerType:be};a(null),t(P)};return x.jsxs("div",{className:"relative h-full w-full",children:[x.jsxs(gy,{center:[Xm[1],Xm[0]],zoom:17,maxZoom:24,style:{height:"100%",width:"100%"},tap:!0,touchZoom:!0,dragging:!0,scrollWheelZoom:!0,children:[x.jsx(J$,{setMapInstance:i}),x.jsx(vy,{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"],attribution:" Google Maps",maxZoom:22}),x.jsx(D8,{url:"http://localhost:8080/geoserver/RASTER/wms",params:{layers:"RASTER:67cfea31928570b1a96c327e",format:"image/png",transparent:!0,version:"1.1.0",srs:"EPSG:4326"},maxZoom:24,opacity:1}),x.jsx(Rz,{ref:e,children:x.jsx(j8,{position:"topleft",onCreated:xe,draw:{rectangle:{shapeOptions:{color:"#8b5cf6",weight:3,fillOpacity:.2},touchIcon:new js.DivIcon({className:"leaflet-draw-touch-icon",iconSize:new js.Point(30,30),iconAnchor:new js.Point(15,15)})},polygon:{allowIntersection:!1,guidelineDistance:15,shapeOptions:{color:"#10b981",weight:3,fillOpacity:.2},touchIcon:new js.DivIcon({className:"leaflet-draw-touch-icon",iconSize:new js.Point(30,30),iconAnchor:new js.Point(15,15)})},marker:!0,circle:!1,circlemarker:!1,polyline:!1},edit:{edit:!1,remove:!1}})}),p&&ce&&x.jsxs(x.Fragment,{children:[x.jsx(Oz,{center:[ce.latitude,ce.longitude],radius:ce.accuracy,pathOptions:{color:ce.accuracyLevel?.color||"#3B82F6",fillColor:ce.accuracyLevel?.color||"#3B82F6",fillOpacity:.15,weight:2}}),x.jsx(jz,{position:[ce.latitude,ce.longitude],children:x.jsx(R8,{children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"font-semibold",children:" Your Location"}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Accuracy: ",Math.round(ce.accuracy),"m"]}),x.jsx("p",{className:"text-xs",style:{color:ce.accuracyLevel?.color},children:ce.accuracyLevel?.label})]})})})]})]}),x.jsxs("div",{className:"absolute left-4 bottom-8 z-[1000] flex flex-col gap-2",children:[x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3 border border-gray-100",children:[x.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 text-center",children:"Draw"}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("button",{onClick:()=>X("polygon"),className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${n==="polygon"?"bg-green-500 text-white shadow-lg shadow-green-200":"bg-gradient-to-br from-green-50 to-green-100 text-green-600 hover:from-green-100 hover:to-green-200"}`,title:"Draw Polygon",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-14 9V3z"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Polygon"})]}),x.jsxs("button",{onClick:()=>X("rectangle"),className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${n==="rectangle"?"bg-purple-500 text-white shadow-lg shadow-purple-200":"bg-gradient-to-br from-purple-50 to-purple-100 text-purple-600 hover:from-purple-100 hover:to-purple-200"}`,title:"Draw Rectangle",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeWidth:2})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Rectangle"})]}),x.jsxs("button",{onClick:()=>X("marker"),className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${n==="marker"?"bg-orange-500 text-white shadow-lg shadow-orange-200":"bg-gradient-to-br from-orange-50 to-orange-100 text-orange-600 hover:from-orange-100 hover:to-orange-200"}`,title:"Drop Marker",children:[x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Marker"})]})]})]}),(n||y.length>0)&&x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3 border border-gray-100",children:[x.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 text-center",children:"Edit"}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("button",{onClick:ue,disabled:!n,className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${n?"bg-gradient-to-br from-yellow-50 to-yellow-100 text-yellow-600 hover:from-yellow-100 hover:to-yellow-200 active:scale-95":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,title:"Undo Last Point",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Undo"})]}),x.jsxs("button",{onClick:de,className:"w-14 h-14 rounded-xl flex flex-col items-center justify-center bg-gradient-to-br from-red-50 to-red-100 text-red-500 hover:from-red-100 hover:to-red-200 active:scale-95 transition-all",title:"Clear Drawing",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Clear"})]})]})]}),n&&y.length>0&&x.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-2xl shadow-xl px-3 py-2 text-center",children:[x.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wide opacity-80",children:"Points"}),x.jsx("p",{className:"text-2xl font-bold",children:y.length}),x.jsx("p",{className:"text-[9px] opacity-70",children:y.length<3?`Need ${3-y.length} more`:"Ready to close"})]}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3 border border-gray-100 flex flex-col gap-2",children:[x.jsxs("button",{onClick:W,className:"w-14 h-14 bg-gradient-to-br from-cyan-50 to-cyan-100 text-cyan-600 rounded-xl flex flex-col items-center justify-center hover:from-cyan-100 hover:to-cyan-200 transition-all",title:"Go to Drone Imagery",children:[x.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),x.jsx("circle",{cx:"12",cy:"13",r:"3",strokeWidth:2})]}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Drone"})]}),x.jsxs("button",{onClick:j,disabled:K,className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all relative ${K?"bg-blue-500 text-white animate-pulse":ce?"bg-gradient-to-br from-green-50 to-green-100 text-green-600 hover:from-green-100 hover:to-green-200":"bg-gradient-to-br from-blue-50 to-blue-100 text-blue-600 hover:from-blue-100 hover:to-blue-200"}`,title:F||(ce?`Accuracy: ${Math.round(ce.accuracy)}m`:"Get My Location"),children:[K?x.jsxs("svg",{className:"w-6 h-6 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:K?"Finding...":ce?"Located":"Location"}),ce&&x.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full border-2 border-white",style:{backgroundColor:ce.accuracyLevel?.color||"#10B981"},title:ce.accuracyLevel?.label})]})]})]}),x.jsx("style",{children:`
                .leaflet-draw-toolbar {
                    position: absolute !important;
                    left: -9999px !important;
                    opacity: 0 !important;
                    pointer-events: none !important;
                }
                .leaflet-draw-section {
                    position: absolute !important;
                    left: -9999px !important;
                }
            `}),n?x.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-[1000] max-w-[90vw]",children:x.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-3 rounded-2xl shadow-lg",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"text-2xl animate-bounce",children:""}),x.jsxs("div",{children:[x.jsxs("p",{className:"font-semibold text-sm",children:[n==="polygon"&&"Tap to add corner points",n==="rectangle"&&"Tap and drag to draw rectangle",n==="marker"&&"Tap to place marker"]}),x.jsxs("p",{className:"text-xs opacity-90",children:[n==="polygon"&&"Tap first point again to complete  Use Undo for mistakes",n==="rectangle"&&"Drag corner to resize",n==="marker"&&"Tap anywhere on the map"]})]})]})})}):x.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-[1000]",children:x.jsx("div",{className:"bg-white/95 backdrop-blur-sm px-5 py-2.5 rounded-full shadow-lg border border-gray-100",children:x.jsxs("p",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[x.jsx("span",{className:"text-lg",children:""}),x.jsx("span",{children:"Select a tool and draw around the building"})]})})})]})},eW=({onConfirm:t,onCancel:e})=>{const[r,i]=ve.useState(1),[n,a]=ve.useState(""),[s,l]=ve.useState(!1),c=()=>{const f=s?parseInt(n):r;f&&f>0&&f<=50?t(f):alert("Please enter a valid number of floors (1-50)")};return x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-8",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"text-5xl mb-4",children:""}),x.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Building Footprint Captured"}),x.jsx("p",{className:"text-gray-600 mt-2",children:"How many floors or units does this building have?"})]}),!s&&x.jsxs("div",{className:"space-y-4 mb-6",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 text-center",children:"Quick Select"}),x.jsx("div",{className:"grid grid-cols-5 gap-3",children:[1,2,3,4,5].map(f=>x.jsx("button",{onClick:()=>i(f),className:`p-4 rounded-lg border-2 font-bold text-lg transition-all ${r===f&&!s?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 hover:border-blue-400 text-gray-700"}`,children:f},f))})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("label",{className:"flex items-center space-x-3 mb-3",children:[x.jsx("input",{type:"checkbox",checked:s,onChange:f=>l(f.target.checked),className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"font-medium text-gray-700",children:"Custom number of floors"})]}),s&&x.jsx("input",{type:"number",value:n,onChange:f=>a(f.target.value),placeholder:"Enter number (1-50)",min:"1",max:"50",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-center text-xl font-bold"})]}),x.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded mb-6",children:x.jsxs("p",{className:"text-sm text-blue-900",children:[x.jsx("strong",{children:"Note:"})," You'll fill out a separate assessment form for each floor/unit, allowing different owners and property details per floor."]})}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsx("button",{onClick:e,className:"flex-1 py-3 px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-colors",children:"Cancel"}),x.jsx("button",{onClick:c,className:"flex-1 py-3 px-6 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105",children:"Continue "})]})]})},tW=({floorNumber:t,onConfirm:e,onSkip:r})=>{const[i,n]=ve.useState(1),[a,s]=ve.useState(""),[l,c]=ve.useState(!1),f=()=>{const p=l?parseInt(a):i;p&&p>0&&p<=20?e(p):alert("Please enter a valid number of units (1-20)")};return x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 sm:p-8",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"text-4xl sm:text-5xl mb-3",children:""}),x.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Floor ",t]}),x.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"How many units/flats on this floor?"})]}),!l&&x.jsxs("div",{className:"space-y-3 mb-5",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 text-center",children:"Quick Select"}),x.jsx("div",{className:"grid grid-cols-5 gap-2 sm:gap-3",children:[1,2,3,4,5].map(p=>x.jsx("button",{onClick:()=>n(p),className:`p-3 sm:p-4 rounded-lg border-2 font-bold text-base sm:text-lg transition-all ${i===p&&!l?"border-green-600 bg-green-50 text-green-700":"border-gray-300 hover:border-green-400 text-gray-700"}`,children:p},p))})]}),x.jsxs("div",{className:"mb-5",children:[x.jsxs("label",{className:"flex items-center space-x-2 sm:space-x-3 mb-3",children:[x.jsx("input",{type:"checkbox",checked:l,onChange:p=>c(p.target.checked),className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700",children:"Custom number of units"})]}),l&&x.jsx("input",{type:"number",inputMode:"numeric",value:a,onChange:p=>s(p.target.value),placeholder:"Enter number (1-20)",min:"1",max:"20",className:"w-full p-3 sm:p-4 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none text-center text-lg sm:text-xl font-bold"})]}),x.jsx("div",{className:"bg-green-50 border-l-4 border-green-600 p-3 sm:p-4 rounded mb-5",children:x.jsxs("p",{className:"text-xs sm:text-sm text-green-900",children:[x.jsx("strong",{children:"Note:"})," Each unit will have a separate form for owner details (e.g., Unit A, Unit B, or Flat 1, Flat 2)."]})}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:space-x-3 sm:gap-0",children:[x.jsx("button",{onClick:()=>r(),className:"sm:flex-1 py-3 sm:py-4 px-4 sm:px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-colors text-base",children:"Single Owner (Skip)"}),x.jsx("button",{onClick:f,className:"sm:flex-1 py-3 sm:py-4 px-4 sm:px-6 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105 text-base",children:"Continue "})]})]})},lT=({geometry:t,area:e})=>{const r=ve.useRef(null);ve.useEffect(()=>{if(!t||!r.current)return;const c=r.current,f=c.getContext("2d"),p=c.width,v=c.height;if(f.fillStyle="#f8fafc",f.fillRect(0,0,p,v),i(f,p,v),t.type==="Polygon"){const y=t.coordinates[0];n(f,y,p,v)}else t.type==="Point"&&a(f,t.coordinates,p,v)},[t]);const i=(c,f,p)=>{c.strokeStyle="#e2e8f0",c.lineWidth=.5;for(let v=0;v<=f;v+=20)c.beginPath(),c.moveTo(v,0),c.lineTo(v,p),c.stroke();for(let v=0;v<=p;v+=20)c.beginPath(),c.moveTo(0,v),c.lineTo(f,v),c.stroke();c.strokeStyle="#94a3b8",c.lineWidth=2,c.strokeRect(0,0,f,p)},n=(c,f,p,v)=>{const y=f.map(K=>K[0]),_=f.map(K=>K[1]),T=Math.min(...y),S=Math.max(...y),C=Math.min(..._),O=Math.max(..._),I=40,D=(p-2*I)/(S-T),q=(v-2*I)/(O-C),te=Math.min(D,q),ce=K=>I+(K-T)*te,F=K=>v-(I+(K-C)*te);c.fillStyle="rgba(59, 130, 246, 0.1)",c.beginPath(),f.forEach((K,B)=>{const X=ce(K[0]),j=F(K[1]);B===0?c.moveTo(X,j):c.lineTo(X,j)}),c.closePath(),c.fill(),c.strokeStyle="#2563eb",c.lineWidth=2,c.stroke(),c.fillStyle="#1e40af",f.forEach(K=>{const B=ce(K[0]),X=F(K[1]);c.beginPath(),c.arc(B,X,4,0,2*Math.PI),c.fill()}),c.fillStyle="#1e293b",c.font="bold 11px monospace",c.textAlign="center";for(let K=0;K<f.length;K++){const B=f[K],X=f[(K+1)%f.length],j=ce(B[0]),W=F(B[1]),ue=ce(X[0]),de=F(X[1]),xe=l(B[1],B[0],X[1],X[0]),oe=(j+ue)/2,be=(W+de)/2;c.fillStyle="white",c.fillRect(oe-25,be-10,50,16),c.fillStyle="#1e40af",c.fillText(`${xe.toFixed(1)}m`,oe,be+3)}c.font="bold 14px monospace",c.fillStyle="white",c.fillRect(p/2-60,15,120,25),c.fillStyle="#1e40af",c.fillText(`Area: ${e} m`,p/2,32),s(c,p-40,40)},a=(c,f,p,v)=>{const y=p/2,_=v/2;c.strokeStyle="#2563eb",c.lineWidth=2,c.beginPath(),c.moveTo(y-20,_),c.lineTo(y+20,_),c.stroke(),c.beginPath(),c.moveTo(y,_-20),c.lineTo(y,_+20),c.stroke(),c.fillStyle="#1e40af",c.beginPath(),c.arc(y,_,6,0,2*Math.PI),c.fill(),c.fillStyle="#1e293b",c.font="bold 12px monospace",c.textAlign="center",c.fillText("Survey Point",p/2,v-20)},s=(c,f,p)=>{c.save(),c.translate(f,p),c.fillStyle="#ef4444",c.beginPath(),c.moveTo(0,-15),c.lineTo(-5,0),c.lineTo(5,0),c.closePath(),c.fill(),c.fillStyle="#94a3b8",c.beginPath(),c.moveTo(0,15),c.lineTo(-5,0),c.lineTo(5,0),c.closePath(),c.fill(),c.fillStyle="#1e293b",c.font="bold 10px sans-serif",c.textAlign="center",c.fillText("N",0,-20),c.restore()},l=(c,f,p,v)=>{const _=c*Math.PI/180,T=p*Math.PI/180,S=(p-c)*Math.PI/180,C=(v-f)*Math.PI/180,O=Math.sin(S/2)*Math.sin(S/2)+Math.cos(_)*Math.cos(T)*Math.sin(C/2)*Math.sin(C/2);return 6371e3*(2*Math.atan2(Math.sqrt(O),Math.sqrt(1-O)))};return x.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:" Building Footprint - CAD View"}),x.jsx("span",{className:"text-xs text-gray-500 font-mono",children:"Scale: Auto-fit"})]}),x.jsx("canvas",{ref:r,width:500,height:400,className:"w-full border border-gray-200 rounded"}),x.jsx("div",{className:"mt-2 text-xs text-gray-500 font-mono",children:"All measurements in meters (m) | Grid spacing: 20px"})]})},D2=({label:t="Photo",onCapture:e,currentPhoto:r=null,required:i=!1,maxSizeMB:n=1})=>{const[a,s]=ve.useState(!1),[l,c]=ve.useState(null),[f,p]=ve.useState(null),[v,y]=ve.useState(null),[_,T]=ve.useState(null),[S,C]=ve.useState("environment"),[O,I]=ve.useState(!1),D=ve.useRef(null),q=ve.useRef(null),te=ve.useRef(null);ve.useEffect(()=>{r&&!v&&(typeof r=="string"?y(r):r instanceof File&&y(URL.createObjectURL(r)))},[r,v]),ve.useEffect(()=>()=>{l&&l.getTracks().forEach(de=>de.stop()),v&&v.startsWith("blob:")&&URL.revokeObjectURL(v)},[l,v]);const ce=async()=>{T(null),I(!0);try{const de={video:{facingMode:S,width:{ideal:1280},height:{ideal:720}},audio:!1},xe=await navigator.mediaDevices.getUserMedia(de);c(xe),D.current&&(D.current.srcObject=xe),s(!0)}catch(de){console.error("Camera error:",de),de.name==="NotAllowedError"?T("Camera permission denied. Please allow camera access."):de.name==="NotFoundError"?T("No camera found on this device."):T("Failed to access camera. Try selecting from gallery instead.")}finally{I(!1)}},F=ve.useCallback(()=>{l&&(l.getTracks().forEach(de=>de.stop()),c(null)),s(!1)},[l]),K=async()=>{F(),C(de=>de==="environment"?"user":"environment"),setTimeout(()=>ce(),100)},B=(de,xe)=>{let oe=.9,be=de.toDataURL("image/jpeg",oe);for(;be.length>xe*1024*1024*1.37&&oe>.1;)oe-=.1,be=de.toDataURL("image/jpeg",oe);return be},X=(de,xe)=>{const oe=de.split(","),be=oe[0].match(/:(.*?);/)[1],_e=atob(oe[1]);let Le=_e.length;const Ne=new Uint8Array(Le);for(;Le--;)Ne[Le]=_e.charCodeAt(Le);return new File([Ne],xe,{type:be})},j=()=>{if(!D.current||!q.current)return;const de=D.current,xe=q.current,oe=xe.getContext("2d");xe.width=de.videoWidth,xe.height=de.videoHeight,oe.drawImage(de,0,0);const be=B(xe,n),_e=X(be,`photo_${Date.now()}.jpg`);p(_e),y(be),F(),e&&e(_e)},W=async de=>{const xe=de.target.files[0];if(xe){I(!0);try{const oe=new Image,be=new FileReader;be.onload=_e=>{oe.onload=()=>{const Le=q.current,Ne=Le.getContext("2d");let Q=oe.width,P=oe.height;const G=1920;(Q>G||P>G)&&(Q>P?(P=P/Q*G,Q=G):(Q=Q/P*G,P=G)),Le.width=Q,Le.height=P,Ne.drawImage(oe,0,0,Q,P);const H=B(Le,n),Z=X(H,xe.name);p(Z),y(H),I(!1),e&&e(Z)},oe.src=_e.target.result},be.readAsDataURL(xe)}catch(oe){console.error("File processing error:",oe),T("Failed to process image"),I(!1)}}},ue=()=>{p(null),y(null),e&&e(null)};return x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700",children:[t," ",i&&"*"]}),x.jsx("canvas",{ref:q,className:"hidden"}),x.jsx("input",{ref:te,type:"file",accept:"image/*",onChange:W,className:"hidden"}),_&&x.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 rounded",children:x.jsx("p",{className:"text-sm text-red-700",children:_})}),a&&x.jsxs("div",{className:"fixed inset-0 bg-black z-[2000] flex flex-col",children:[x.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-10 bg-gradient-to-b from-black/70 to-transparent",children:[x.jsx("button",{onClick:F,className:"text-white text-2xl font-light p-2",children:""}),x.jsx("span",{className:"text-white font-medium",children:t}),x.jsx("button",{onClick:K,className:"text-white p-2",title:"Switch Camera",children:""})]}),x.jsx("video",{ref:D,autoPlay:!0,playsInline:!0,muted:!0,className:"flex-1 w-full object-cover"}),x.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 flex justify-center bg-gradient-to-t from-black/70 to-transparent",children:x.jsx("button",{onClick:j,className:"w-20 h-20 bg-white rounded-full border-4 border-gray-300 shadow-lg flex items-center justify-center hover:scale-105 active:scale-95 transition-transform",children:x.jsx("div",{className:"w-16 h-16 bg-white rounded-full border-4 border-gray-400"})})})]}),v?x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:v,alt:"Captured",className:"w-full h-48 object-cover rounded-lg border-2 border-green-500"}),x.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[x.jsx("button",{type:"button",onClick:ue,className:"bg-red-500 text-white px-3 py-1.5 rounded-lg text-sm font-medium shadow-lg hover:bg-red-600 transition-colors",children:" Remove"}),x.jsx("button",{type:"button",onClick:ce,className:"bg-blue-500 text-white px-3 py-1.5 rounded-lg text-sm font-medium shadow-lg hover:bg-blue-600 transition-colors",children:" Retake"})]}),x.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:" Photo captured"})]}):x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:ce,disabled:O,className:"flex-1 py-4 px-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl font-medium shadow-md hover:from-blue-600 hover:to-blue-700 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:O?x.jsx("span",{className:"animate-spin",children:""}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"text-xl",children:""}),x.jsx("span",{children:"Take Photo"})]})}),x.jsxs("button",{type:"button",onClick:()=>te.current?.click(),disabled:O,className:"flex-1 py-4 px-4 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-xl font-medium shadow-md hover:from-gray-200 hover:to-gray-300 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[x.jsx("span",{className:"text-xl",children:""}),x.jsx("span",{children:"Gallery"})]})]})]})},j2={owner_name:{required:!0,minLength:2,maxLength:100,pattern:/^[a-zA-Z\s.'-]+$/,message:"Please enter a valid name (letters, spaces, dots, hyphens only)"},phone_number:{required:!0,pattern:/^[6-9]\d{9}$/,message:"Please enter a valid 10-digit Indian mobile number (starting with 6-9)"},aadhaar_number:{required:!1,pattern:/^\d{12}$/,validate:t=>!t||t.length===0?!0:!(t.length!==12||t[0]==="0"||t[0]==="1"),message:"Please enter a valid 12-digit Aadhaar number (cannot start with 0 or 1)"},year_of_construction:{required:!1,validate:t=>{if(!t)return!0;const e=parseInt(t),r=new Date().getFullYear();return e>=1900&&e<=r},message:`Year must be between 1900 and ${new Date().getFullYear()}`},property_usage:{required:!1,message:"Please select a property usage type"},construction_type:{required:!1,message:"Please select a construction type"},ownership_type:{required:!1,message:"Please select ownership type"}},rW=()=>{const[t,e]=ve.useState({}),[r,i]=ve.useState({}),n=ve.useCallback((v,y)=>{const _=j2[v];return _?_.required&&(!y||y.toString().trim()==="")?`${I2(v)} is required`:!y||y.toString().trim()===""?null:_.pattern&&!_.pattern.test(y)?_.message:_.minLength&&y.length<_.minLength?`${I2(v)} must be at least ${_.minLength} characters`:_.maxLength&&y.length>_.maxLength?`${I2(v)} must be less than ${_.maxLength} characters`:_.validate&&!_.validate(y)?_.message:null:null},[]),a=ve.useCallback(v=>{const y={};let _=!0;Object.keys(j2).forEach(S=>{const C=n(S,v[S]);C&&(y[S]=C,_=!1)}),e(y);const T={};return Object.keys(j2).forEach(S=>{T[S]=!0}),i(T),_},[n]),s=ve.useCallback((v,y)=>{i(T=>({...T,[v]:!0}));const _=n(v,y);e(T=>({...T,[v]:_}))},[n]),l=ve.useCallback(v=>{e(y=>{const _={...y};return delete _[v],_})},[]),c=ve.useCallback(()=>{e({}),i({})},[]),f=ve.useCallback(v=>r[v]&&t[v],[r,t]),p=ve.useCallback(v=>r[v]?t[v]:null,[r,t]);return{errors:t,touched:r,validateField:n,validateForm:a,handleBlur:s,clearError:l,resetValidation:c,hasError:f,getError:p}},I2=t=>t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),nW="indicesSurveyDB",iW=1,rd={PENDING_SURVEYS:"pendingSurveys",CACHED_DATA:"cachedData"};let sc=null,F2=!1;const aW=()=>{if(!sc)return!1;try{return sc.objectStoreNames!==void 0}catch{return!1}},sW=()=>new Promise((t,e)=>{if(aW()){t(sc);return}if(sc=null,F2){t(null);return}try{const r=indexedDB.open(nW,iW);r.onerror=()=>{console.error("Error opening IndexedDB:",r.error),F2=!0,t(null)},r.onsuccess=()=>{sc=r.result,sc.onclose=()=>{console.log("IndexedDB connection closed"),sc=null},sc.onerror=i=>{console.error("IndexedDB error:",i)},console.log("IndexedDB initialized successfully"),t(sc)},r.onupgradeneeded=i=>{const n=i.target.result;if(!n.objectStoreNames.contains(rd.PENDING_SURVEYS)){const a=n.createObjectStore(rd.PENDING_SURVEYS,{keyPath:"id",autoIncrement:!0});a.createIndex("timestamp","timestamp",{unique:!1}),a.createIndex("status","status",{unique:!1})}n.objectStoreNames.contains(rd.CACHED_DATA)||n.createObjectStore(rd.CACHED_DATA,{keyPath:"key"})}}catch(r){console.error("IndexedDB not available:",r),F2=!0,t(null)}}),$3=async t=>{const e=await sW();return e?new Promise((r,i)=>{try{const a=e.transaction([rd.PENDING_SURVEYS],"readwrite").objectStore(rd.PENDING_SURVEYS),s={...t,timestamp:Date.now(),status:"pending",attempts:0,lastAttempt:null},l=a.add(s);l.onsuccess=()=>{console.log("Survey added to pending queue, ID:",l.result),r(l.result)},l.onerror=()=>{console.error("Error adding survey to queue:",l.error),i(l.error)}}catch(n){console.error("Transaction error:",n),r(null)}}):(console.warn("IndexedDB not available, cannot queue survey"),null)},W3=()=>navigator.onLine,B2="survey_form_draft",oW=({buildingData:t,floorNumber:e=1,totalFloors:r=1,unitIdentifier:i=null,onClose:n,onSuccess:a})=>{const[s,l]=ve.useState({owner_name:"",phone_number:"",aadhaar_number:"",email_address:"",family_members_count:"",occupier_name:"",survey_gat_no:"",city_survey_no:"",layout_name_plot_no:"",building_name:"",address_with_floor:"",nearest_road_type:"",pin_code:"",property_type:"Residential",usage_type:"",usage_sub_type:"",building_permission:!1,permission_no:"",permission_date:"",occupancy_certificate:!1,construction_type:"RCC",year_of_construction:"",water_connection:!1,water_connection_type:"",water_authorized:"Authorised",water_meter_no:"",water_consumer_no:"",water_connection_date:"",pipe_size:"",has_toilet:!1,toilet_count:"",has_septic_tank:!1,has_sewerage:!1,electricity_connection:!1,has_solar:!1,has_rainwater_harvesting:!1,zone_no:"",new_ward_no:"",old_ward_no:"",old_property_no:"",new_property_no:"",total_carpet_area:"",exempted_area:"",assessable_area:"",ownership_type:"owned",current_tax_details:"",ulb_name:"",district:"",town:"",tax_paid:!1}),[c,f]=ve.useState(null),[p,v]=ve.useState(null),[y,_]=ve.useState(null),[T,S]=ve.useState(!1),[C,O]=ve.useState(!1),[I,D]=ve.useState(null),[q,te]=ve.useState(!1),[ce,F]=ve.useState("owner"),{errors:K,validateForm:B,handleBlur:X,clearError:j,getError:W,hasError:ue}=rW();ve.useEffect(()=>{const Le=localStorage.getItem(B2);if(Le)try{const Ne=JSON.parse(Le);Ne.buildingId===t?.id&&(l(Q=>({...Q,...Ne.formData})),O(!0),setTimeout(()=>O(!1),3e3))}catch(Ne){console.error("Error restoring draft:",Ne)}},[t?.id]),ve.useEffect(()=>{const Le=setTimeout(()=>{const Ne={buildingId:t?.id,formData:s,savedAt:new Date().toISOString()};localStorage.setItem(B2,JSON.stringify(Ne)),D(new Date)},2e3);return()=>clearTimeout(Le)},[s,t?.id]);const de=ve.useCallback(()=>{localStorage.removeItem(B2)},[]),xe=Le=>{const{name:Ne,value:Q,type:P,checked:G}=Le.target,H=P==="checkbox"?G:Q;l(Z=>({...Z,[Ne]:H})),K[Ne]&&j(Ne)},oe=Le=>{const{name:Ne,value:Q}=Le.target;X(Ne,Q)},be=async(Le,Ne)=>{if(!Le)return null;const Q=`${Date.now()}_${Le.name}`,{data:P,error:G}=await _n.storage.from("survey-photos").upload(`${Ne}/${Q}`,Le);if(G)return console.error("Upload error:",G),null;const{data:{publicUrl:H}}=_n.storage.from("survey-photos").getPublicUrl(P.path);return H},_e=async Le=>{if(Le.preventDefault(),te(!0),!B(s)){const Ne=document.querySelector(".field-error");Ne&&Ne.scrollIntoView({behavior:"smooth",block:"center"});return}S(!0);try{const Ne=(await _n.auth.getUser()).data.user,Q=await be(c,"owners"),P=await be(p,"buildings"),G={surveyor_id:Ne.id,building_id:t.id,geometry:t.geometry,area_sqm:t.area,floor_number:e,total_floors:r,unit_identifier:i,status:"submitted",owner_name:s.owner_name,phone_number:s.phone_number,aadhaar_number:s.aadhaar_number||null,email_address:s.email_address||null,family_members_count:s.family_members_count?parseInt(s.family_members_count):null,occupier_name:s.occupier_name||null,ownership_type:s.ownership_type||null,survey_gat_no:s.survey_gat_no||null,city_survey_no:s.city_survey_no||null,layout_name_plot_no:s.layout_name_plot_no||null,building_name:s.building_name||null,address_with_floor:s.address_with_floor||null,nearest_road_type:s.nearest_road_type||null,pin_code:s.pin_code||null,property_type:s.property_type||null,usage_type:s.usage_type||null,usage_sub_type:s.usage_sub_type||null,building_permission:s.building_permission||!1,permission_no:s.permission_no||null,permission_date:s.permission_date||null,occupancy_certificate:s.occupancy_certificate||!1,construction_type:s.construction_type||null,year_of_construction:s.year_of_construction?parseInt(s.year_of_construction):null,water_connection:s.water_connection||!1,water_connection_type:s.water_connection_type||null,water_authorized:s.water_authorized||null,water_meter_no:s.water_meter_no||null,water_consumer_no:s.water_consumer_no||null,water_connection_date:s.water_connection_date||null,pipe_size:s.pipe_size||null,has_toilet:s.has_toilet||!1,toilet_count:s.toilet_count?parseInt(s.toilet_count):null,has_septic_tank:s.has_septic_tank||!1,has_sewerage:s.has_sewerage||!1,electricity_connection:s.electricity_connection||!1,has_solar:s.has_solar||!1,has_rainwater_harvesting:s.has_rainwater_harvesting||!1,tax_paid:s.tax_paid||!1,ulb_name:s.ulb_name||null,district:s.district||null,town:s.town||null,zone_no:s.zone_no||null,new_ward_no:s.new_ward_no||null,old_ward_no:s.old_ward_no||null,old_property_no:s.old_property_no||null,new_property_no:s.new_property_no||null,total_carpet_area:s.total_carpet_area?parseFloat(s.total_carpet_area):null,exempted_area:s.exempted_area?parseFloat(s.exempted_area):null,assessable_area:s.assessable_area?parseFloat(s.assessable_area):null,current_tax_details:s.current_tax_details||null,owner_photo_url:Q,building_photo_url:P,building_photo_url_2:s.building_photo_url_2||null,property_usage:s.usage_type||s.property_usage||null,form_data:s};if(!W3()){await $3(G),de(),alert(" Survey saved offline! It will sync automatically when you're back online."),a&&a(s);return}const{error:H}=await _n.from("surveys").insert(G);if(H)throw H;de(),a&&a(s)}catch(Ne){if(console.error("Error submitting survey:",Ne),!W3()||Ne.message.includes("network")||Ne.message.includes("Failed to fetch"))try{const Q={...surveyData,status:"pending_sync"};await $3(Q),de(),alert(" Network error - Survey saved offline! It will sync when connected."),a&&a(s);return}catch(Q){console.error("Failed to save offline:",Q)}alert("Failed to submit survey: "+Ne.message)}finally{S(!1)}};return x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex justify-between items-center rounded-t-2xl z-10",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold",children:"Property Assessment Form"}),x.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:["Building ID: ",t.id,r>1&&`  Floor ${e}/${r}`]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[I&&x.jsxs("span",{className:"text-xs text-blue-200 flex items-center gap-1",children:[x.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"})}),"Draft saved"]}),x.jsx("button",{onClick:n,className:"text-white hover:text-gray-200 text-3xl font-light",children:""})]})]}),C&&x.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-3 mx-6 mt-4 rounded-r-lg",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-sm text-amber-700 font-medium",children:"Previous draft restored"})]})}),x.jsxs("form",{onSubmit:_e,className:"p-6 space-y-6",children:[x.jsx("div",{className:"flex overflow-x-auto pb-2 gap-2 -mx-6 px-6 scrollbar-hide",children:[{id:"owner",label:" Owner",icon:""},{id:"location",label:" Location",icon:""},{id:"construction",label:" Construction",icon:""},{id:"water",label:" Water",icon:""},{id:"sanitation",label:" Sanitation",icon:""},{id:"assessment",label:" Assessment",icon:""},{id:"photos",label:" Photos",icon:""}].map(Le=>x.jsx("button",{type:"button",onClick:()=>F(Le.id),className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all ${ce===Le.id?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:Le.label},Le.id))}),x.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:[x.jsx("p",{className:"text-sm font-semibold text-blue-900",children:" Auto-calculated Area"}),x.jsxs("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:[t.area," m"]})]}),x.jsx(lT,{geometry:t.geometry,area:t.area}),ce==="owner"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Owner Details"]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Owner Name *"}),x.jsx("input",{type:"text",name:"owner_name",required:!0,value:s.owner_name,onChange:xe,onBlur:oe,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ue("owner_name")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"Enter owner's full name"}),W("owner_name")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",W("owner_name")]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number *"}),x.jsx("input",{type:"tel",inputMode:"numeric",name:"phone_number",required:!0,value:s.phone_number,onChange:xe,onBlur:oe,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ue("phone_number")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"10-digit number",maxLength:"10"}),W("phone_number")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",W("phone_number")]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Aadhaar Number *"}),x.jsx("input",{type:"text",inputMode:"numeric",name:"aadhaar_number",required:!0,value:s.aadhaar_number,onChange:xe,onBlur:oe,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ue("aadhaar_number")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"12-digit number",maxLength:"12"}),W("aadhaar_number")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",W("aadhaar_number")]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),x.jsx("input",{type:"email",name:"email_address",value:s.email_address,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"email@example.com"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Family Members in Survey"}),x.jsx("input",{type:"number",name:"family_members_count",value:s.family_members_count,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Number of family members",min:"1"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Occupier Name (if different from owner)"}),x.jsx("input",{type:"text",name:"occupier_name",value:s.occupier_name,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter occupier's name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ownership Type *"}),x.jsxs("select",{name:"ownership_type",value:s.ownership_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"owned",children:"Owned"}),x.jsx("option",{value:"rented",children:"Rented"}),x.jsx("option",{value:"leased",children:"Leased"}),x.jsx("option",{value:"government",children:"Government"})]})]}),x.jsx("button",{type:"button",onClick:()=>F("location"),className:"w-full py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Location Details "})]}),ce==="location"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Location Details"]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"7/12 Survey / Gat No"}),x.jsx("input",{type:"text",name:"survey_gat_no",value:s.survey_gat_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter Survey/Gat number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City Survey No"}),x.jsx("input",{type:"text",name:"city_survey_no",value:s.city_survey_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"City Survey number (if existing)"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Layout Name and Plot No"}),x.jsx("input",{type:"text",name:"layout_name_plot_no",value:s.layout_name_plot_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter layout name and plot number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Building Name"}),x.jsx("input",{type:"text",name:"building_name",value:s.building_name,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter building name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address with Floor No"}),x.jsx("textarea",{name:"address_with_floor",value:s.address_with_floor,onChange:xe,rows:"2",className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter complete address including floor number"})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nearest Road Type"}),x.jsxs("select",{name:"nearest_road_type",value:s.nearest_road_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"",children:"Select road type"}),x.jsx("option",{value:"National Highway",children:"National Highway"}),x.jsx("option",{value:"State Highway",children:"State Highway"}),x.jsx("option",{value:"District Road",children:"District Road"}),x.jsx("option",{value:"Municipal Road",children:"Municipal Road"}),x.jsx("option",{value:"Internal Road",children:"Internal Road"}),x.jsx("option",{value:"Kachcha Road",children:"Kachcha Road"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Pin Code"}),x.jsx("input",{type:"text",name:"pin_code",value:s.pin_code,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"6-digit pin code",maxLength:"6"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Property Type *"}),x.jsxs("select",{name:"property_type",value:s.property_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"Residential",children:"Residential"}),x.jsx("option",{value:"Commercial",children:"Commercial"}),x.jsx("option",{value:"Industrial",children:"Industrial"}),x.jsx("option",{value:"Mixed",children:"Mixed Use"}),x.jsx("option",{value:"Agricultural",children:"Agricultural"}),x.jsx("option",{value:"Vacant",children:"Vacant Land"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Usage Type"}),x.jsx("input",{type:"text",name:"usage_type",value:s.usage_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g., Shop, Office"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Usage Sub-Type"}),x.jsx("input",{type:"text",name:"usage_sub_type",value:s.usage_sub_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g., Grocery, IT"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("owner"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("construction"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Construction "})]})]}),ce==="construction"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Construction Details"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-blue-50",children:[x.jsx("input",{type:"checkbox",name:"building_permission",checked:s.building_permission,onChange:xe,className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Building Permission Obtained"})]}),s.building_permission&&x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pl-4 border-l-4 border-blue-200",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Permission No"}),x.jsx("input",{type:"text",name:"permission_no",value:s.permission_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter permission number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Permission"}),x.jsx("input",{type:"date",name:"permission_date",value:s.permission_date,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"occupancy_certificate",checked:s.occupancy_certificate,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Occupancy / Gunthewari Certificate"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Construction Type *"}),x.jsxs("select",{name:"construction_type",value:s.construction_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"RCC",children:"RCC (Reinforced Cement Concrete)"}),x.jsx("option",{value:"Load Bearing",children:"Load Bearing"}),x.jsx("option",{value:"Steel Frame",children:"Steel Frame"}),x.jsx("option",{value:"Kachcha",children:"Kachcha"}),x.jsx("option",{value:"Semi-Pucca",children:"Semi-Pucca"}),x.jsx("option",{value:"Pucca",children:"Pucca"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year of Construction *"}),x.jsx("input",{type:"number",name:"year_of_construction",value:s.year_of_construction,onChange:xe,onBlur:oe,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ue("year_of_construction")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"e.g., 2010",min:"1900",max:new Date().getFullYear()}),W("year_of_construction")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",W("year_of_construction")]})]})]}),s.year_of_construction&&x.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-3 rounded-r-lg",children:x.jsxs("p",{className:"text-sm text-amber-800",children:[x.jsx("strong",{children:"Construction Age:"})," ",new Date().getFullYear()-parseInt(s.year_of_construction)," years"]})}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("location"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("water"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Water Supply "})]})]}),ce==="water"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Water Supply"]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-blue-50",children:[x.jsx("input",{type:"checkbox",name:"water_connection",checked:s.water_connection,onChange:xe,className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Water Connection Available"})]}),s.water_connection&&x.jsxs("div",{className:"space-y-4 pl-4 border-l-4 border-blue-200",children:[x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Connection Type"}),x.jsxs("select",{name:"water_connection_type",value:s.water_connection_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"",children:"Select type"}),x.jsx("option",{value:"Municipal",children:"Municipal"}),x.jsx("option",{value:"Borewell",children:"Borewell"}),x.jsx("option",{value:"Well",children:"Well"}),x.jsx("option",{value:"Tanker",children:"Tanker"}),x.jsx("option",{value:"Other",children:"Other"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Authorization Status"}),x.jsxs("select",{name:"water_authorized",value:s.water_authorized,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"Authorised",children:"Authorised"}),x.jsx("option",{value:"Unauthorised",children:"Unauthorised"})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Water Meter No"}),x.jsx("input",{type:"text",name:"water_meter_no",value:s.water_meter_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Meter number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Consumer No"}),x.jsx("input",{type:"text",name:"water_consumer_no",value:s.water_consumer_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Consumer number"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Connection"}),x.jsx("input",{type:"date",name:"water_connection_date",value:s.water_connection_date,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Pipe Size"}),x.jsxs("select",{name:"pipe_size",value:s.pipe_size,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"",children:"Select size"}),x.jsx("option",{value:"0.5 inch",children:"0.5 inch"}),x.jsx("option",{value:"0.75 inch",children:"0.75 inch"}),x.jsx("option",{value:"1 inch",children:"1 inch"}),x.jsx("option",{value:"1.5 inch",children:"1.5 inch"}),x.jsx("option",{value:"2 inch",children:"2 inch"})]})]})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("construction"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("sanitation"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Sanitation "})]})]}),ce==="sanitation"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Sanitation & Utilities"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Sanitation Facilities"}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-blue-50",children:[x.jsx("input",{type:"checkbox",name:"has_toilet",checked:s.has_toilet,onChange:xe,className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Toilet Available"})]}),s.has_toilet&&x.jsxs("div",{className:"pl-4 border-l-4 border-blue-200",children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Number of Toilets"}),x.jsx("input",{type:"number",name:"toilet_count",value:s.toilet_count,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter count",min:"1"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"has_septic_tank",checked:s.has_septic_tank,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Septic Tank"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"has_sewerage",checked:s.has_sewerage,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Sewerage Connection"})]})]}),x.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Other Utilities"}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-yellow-50",children:[x.jsx("input",{type:"checkbox",name:"electricity_connection",checked:s.electricity_connection,onChange:xe,className:"w-5 h-5 text-yellow-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Electricity Connection"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-orange-50",children:[x.jsx("input",{type:"checkbox",name:"has_solar",checked:s.has_solar,onChange:xe,className:"w-5 h-5 text-orange-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Solar Panels"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-cyan-50",children:[x.jsx("input",{type:"checkbox",name:"has_rainwater_harvesting",checked:s.has_rainwater_harvesting,onChange:xe,className:"w-5 h-5 text-cyan-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Rain Water Harvesting"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"tax_paid",checked:s.tax_paid,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Property Tax Paid (Current Year)"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("water"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("assessment"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Assessment "})]})]}),ce==="assessment"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Assessment Details"]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ULB Name"}),x.jsx("input",{type:"text",name:"ulb_name",value:s.ulb_name,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Urban Local Body"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"District"}),x.jsx("input",{type:"text",name:"district",value:s.district,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter district"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Town"}),x.jsx("input",{type:"text",name:"town",value:s.town,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter town"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Zone No"}),x.jsx("input",{type:"text",name:"zone_no",value:s.zone_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Zone number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Ward No"}),x.jsx("input",{type:"text",name:"new_ward_no",value:s.new_ward_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"New ward number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Old Ward No"}),x.jsx("input",{type:"text",name:"old_ward_no",value:s.old_ward_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Old ward number"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Old Property No"}),x.jsx("input",{type:"text",name:"old_property_no",value:s.old_property_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Old property number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Property No"}),x.jsx("input",{type:"text",name:"new_property_no",value:s.new_property_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"New property number"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Total Carpet Area (sq.m)"}),x.jsx("input",{type:"number",name:"total_carpet_area",value:s.total_carpet_area,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Area in sq.m",step:"0.01"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Exempted Area (sq.m)"}),x.jsx("input",{type:"number",name:"exempted_area",value:s.exempted_area,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Exempted area",step:"0.01"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assessable Area (sq.m)"}),x.jsx("input",{type:"number",name:"assessable_area",value:s.assessable_area,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Assessable area",step:"0.01"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Tax Details"}),x.jsx("textarea",{name:"current_tax_details",value:s.current_tax_details,onChange:xe,rows:"2",className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter current tax details/amount"})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("sanitation"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("photos"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Photos "})]})]}),ce==="photos"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Photos Documentation"]}),x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:[x.jsx("p",{children:x.jsx("strong",{children:"Required Photos as per Annexure-A:"})}),x.jsxs("ul",{className:"list-disc list-inside mt-1",children:[x.jsx("li",{children:"1 Owner Photo (30mm  30mm at 150 dpi)"}),x.jsx("li",{children:"2 Property Photos (100mm  75mm at 150 dpi)"})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(D2,{label:"Owner Photo",onCapture:Le=>f(Le),currentPhoto:c,required:!0}),x.jsx(D2,{label:"Building Photo 1 (Front View)",onCapture:Le=>v(Le),currentPhoto:p,required:!0}),x.jsx(D2,{label:"Building Photo 2 (Side/Additional View)",onCapture:Le=>_(Le),currentPhoto:y,required:!1})]}),x.jsx("div",{className:"flex gap-3",children:x.jsx("button",{type:"button",onClick:()=>F("assessment"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"})})]}),x.jsxs("div",{className:"flex space-x-4 pt-4 border-t",children:[x.jsx("button",{type:"button",onClick:n,className:"flex-1 py-4 px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-colors text-base",children:"Cancel"}),x.jsx("button",{type:"submit",disabled:T,className:`flex-1 py-4 px-6 rounded-lg font-semibold text-white text-base transition-all ${T?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 shadow-lg hover:shadow-xl transform hover:scale-105"}`,children:T?"Submitting...":" Submit Assessment"})]})]})]})},lW=({isOpen:t,onClose:e,surveyData:r,onNewSurvey:i})=>{const[n,a]=ve.useState(!1),[s,l]=ve.useState(!1);return ve.useEffect(()=>{t?(navigator.vibrate&&navigator.vibrate([100,50,100]),setTimeout(()=>a(!0),100),setTimeout(()=>l(!0),300)):(a(!1),l(!1))},[t]),t?x.jsxs("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center p-4",children:[x.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),n&&x.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(50)].map((c,f)=>x.jsx("div",{className:"absolute animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,backgroundColor:["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6"][Math.floor(Math.random()*5)],width:`${8+Math.random()*8}px`,height:`${8+Math.random()*8}px`,borderRadius:Math.random()>.5?"50%":"2px"}},f))}),x.jsxs("div",{className:`relative bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 transform transition-all duration-500 ${s?"scale-100 opacity-100":"scale-90 opacity-0"}`,children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center animate-bounce-in",children:x.jsx("svg",{className:"w-14 h-14 text-green-500 animate-checkmark",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7",className:"animate-draw-check"})})})}),x.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Survey Submitted!"}),x.jsx("p",{className:"text-gray-500 text-center mb-6",children:"Property assessment has been recorded successfully"}),r&&x.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 space-y-2",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Building ID"}),x.jsx("span",{className:"font-medium text-gray-900",children:r.buildingId})]}),r.area&&x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Area"}),x.jsxs("span",{className:"font-medium text-gray-900",children:[r.area," m"]})]}),r.floor&&x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Floor/Unit"}),x.jsx("span",{className:"font-medium text-gray-900",children:r.floor})]}),r.ownerName&&x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Owner"}),x.jsx("span",{className:"font-medium text-gray-900",children:r.ownerName})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:i,className:"flex-1 py-3 px-4 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-xl transition-colors",children:"New Survey"}),x.jsx("button",{onClick:e,className:"flex-1 py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-xl transition-colors",children:"View Dashboard"})]})]})]}):null},uW=()=>{const t=sh(),e=$E(),[r,i]=ve.useState(null),[n,a]=ve.useState(!1),[s,l]=ve.useState(!1),[c,f]=ve.useState(1),[p,v]=ve.useState(1),[y,_]=ve.useState({}),[T,S]=ve.useState(1),[C,O]=ve.useState(!1),[I,D]=ve.useState([]),[q,te]=ve.useState(!1),[ce,F]=ve.useState(null),K=Le=>{i(Le),a(!0),e.info("Building selected! Now select number of floors.")},B=Le=>{f(Le),v(1),a(!1),l(!0)},X=()=>{a(!1),i(null)},j=Le=>{_(Ne=>({...Ne,[p]:Le})),S(1),l(!1),O(!0)},W=()=>{_(Le=>({...Le,[p]:1})),S(1),l(!1),O(!0)},ue=()=>{O(!1),l(!1),i(null),v(1),S(1),_({}),D([])},de=Le=>{const Ne=[...I,{floor:p,unit:T}];D(Ne);const Q=y[p]||1;T<Q?(S(T+1),e.success(`Unit ${T} completed! Moving to next unit.`)):p<c?(v(p+1),S(1),O(!1),l(!0),e.success(`Floor ${p} completed! Moving to next floor.`)):(O(!1),F({buildingId:r?.id,area:r?.area,floor:_e(p,T,Q),ownerName:Le?.owner_name,totalSurveys:Ne.length,totalFloors:c}),te(!0))},xe=()=>{te(!1),ue(),t("/dashboard")},oe=()=>{te(!1),ue(),e.info("Ready for new survey! Draw on the map to begin.")},be=()=>Object.values(y).reduce((Le,Ne)=>Le+Ne,0),_e=(Le,Ne,Q)=>{if(Q===1)return`Floor ${Le}`;const P=String.fromCharCode(64+Ne);return`${Le}${P}`};return x.jsxs("div",{className:"relative h-full",children:[x.jsx(Q$,{onBuildingSelect:K}),n&&r&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1000] p-4 backdrop-blur-sm",children:x.jsx(eW,{onConfirm:B,onCancel:X})}),s&&r&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1000] p-4 backdrop-blur-sm",children:x.jsx(tW,{floorNumber:p,onConfirm:j,onSkip:W})}),C&&r&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1000] p-4 backdrop-blur-sm overflow-y-auto",children:x.jsxs("div",{className:"relative max-w-3xl w-full my-4",children:[be()>1&&x.jsxs("div",{className:"bg-white rounded-t-xl p-3 sm:p-4 shadow-lg",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-700",children:["Floor ",p," - Unit ",T,"/",y[p]||1]}),x.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:[I.length,"/",be()," completed"]})]}),x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${I.length/be()*100}%`}})})]}),x.jsx(oW,{buildingData:r,floorNumber:p,totalFloors:c,unitIdentifier:_e(p,T,y[p]||1),onClose:ue,onSuccess:de})]})}),x.jsx(lW,{isOpen:q,onClose:xe,surveyData:ce,onNewSurvey:oe})]})},cW=()=>{const{id:t}=eN(),e=sh(),[r,i]=ve.useState(null),[n,a]=ve.useState(!0),[s,l]=ve.useState(!1);ve.useEffect(()=>{c()},[t]);const c=async()=>{const{data:v,error:y}=await _n.from("surveys").select("*").eq("id",t).single();!y&&v&&i(v),a(!1)};if(n)return x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),x.jsx("p",{className:"mt-4 text-gray-600",children:"Loading survey..."})]})});if(!r)return x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-red-600 text-xl",children:"Survey not found"}),x.jsx("button",{onClick:()=>e("/dashboard"),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg",children:"Back to Dashboard"})]})});const p=(()=>{if(r.geometry.type==="Point")return[r.geometry.coordinates[1],r.geometry.coordinates[0]];if(r.geometry.type==="Polygon"){const v=r.geometry.coordinates[0],y=v.map(T=>T[1]),_=v.map(T=>T[0]);return[(Math.min(...y)+Math.max(...y))/2,(Math.min(..._)+Math.max(..._))/2]}return[20.35,85.85]})();return x.jsxs("div",{className:"relative h-full",children:[x.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-white shadow-md z-[1000] p-4 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("button",{onClick:()=>e("/dashboard"),className:"text-blue-600 hover:text-blue-800 font-medium",children:" Back to Dashboard"}),x.jsxs("h2",{className:"text-xl font-bold text-gray-900 mt-1",children:["Survey: ",r.building_id||r.id]})]}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsxs("button",{onClick:()=>qE(r),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105 flex items-center space-x-2",children:[x.jsx("span",{children:""}),x.jsx("span",{children:"Download PDF"})]}),x.jsx("button",{onClick:()=>l(!s),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold",children:s?"Hide Details":"Show Details"})]})]}),x.jsx("div",{className:"h-full pt-20",children:x.jsxs(gy,{center:p,zoom:18,maxZoom:24,style:{height:"100%",width:"100%"},children:[x.jsx(vy,{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"],maxZoom:22}),x.jsx(D8,{url:"http://localhost:8080/geoserver/RASTER/wms",params:{layers:"RASTER:67cfea31928570b1a96c327e",format:"image/png",transparent:!0,version:"1.1.0",srs:"EPSG:32645"},maxZoom:24,opacity:.8}),x.jsx(O8,{data:r.geometry,style:{color:"#f59e0b",weight:4,fillColor:"#fbbf24",fillOpacity:.3},eventHandlers:{click:()=>l(!0)},children:x.jsx(R8,{children:x.jsxs("div",{className:"p-2",children:[x.jsx("p",{className:"font-bold text-lg",children:r.building_id}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Owner: ",r.owner_name]}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Area: ",r.area_sqm," m"]}),x.jsx("button",{onClick:()=>l(!0),className:"mt-2 text-blue-600 hover:underline text-sm font-medium",children:"View Full Details "})]})})})]})}),s&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1001] p-4 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex justify-between items-center rounded-t-2xl",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold",children:"Survey Details"}),x.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:["Building ID: ",r.building_id]})]}),x.jsx("button",{onClick:()=>l(!1),className:"text-white hover:text-gray-200 text-3xl font-light",children:""})]}),x.jsxs("div",{className:"p-6 space-y-6",children:[x.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:[x.jsx("p",{className:"text-sm font-semibold text-blue-900",children:" Area"}),x.jsxs("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:[r.area_sqm," m"]})]}),x.jsx(lT,{geometry:r.geometry,area:r.area_sqm}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Owner Information"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Tu,{label:"Owner Name",value:r.owner_name}),x.jsx(Tu,{label:"Phone Number",value:r.phone_number}),x.jsx(Tu,{label:"Aadhaar Number",value:r.aadhaar_number}),r.owner_photo_url&&x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Owner Photo"}),x.jsx("img",{src:r.owner_photo_url,alt:"Owner",className:"w-48 h-48 object-cover rounded-lg border border-gray-300"})]})]})]}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Property Details"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Tu,{label:"Property Usage",value:r.property_usage}),x.jsx(Tu,{label:"Construction Type",value:r.construction_type}),x.jsx(Tu,{label:"Ownership Type",value:r.ownership_type}),x.jsx(Tu,{label:"Year of Construction",value:r.year_of_construction}),r.building_photo_url&&x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Building Photo"}),x.jsx("img",{src:r.building_photo_url,alt:"Building",className:"w-full max-w-md h-64 object-cover rounded-lg border border-gray-300"})]})]})]}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Utilities & Amenities"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(U2,{label:" Water Connection",active:r.water_connection}),x.jsx(U2,{label:" Electricity Connection",active:r.electricity_connection}),x.jsx(U2,{label:" Property Tax Paid",active:r.form_data?.tax_paid})]})]}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:" Survey Metadata"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Tu,{label:"Status",value:r.status}),x.jsx(Tu,{label:"Created At",value:new Date(r.created_at).toLocaleString()}),x.jsx(Tu,{label:"Updated At",value:new Date(r.updated_at).toLocaleString()})]})]})]})]})})]})},Tu=({label:t,value:e})=>x.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[x.jsx("span",{className:"text-sm font-semibold text-gray-700",children:t}),x.jsx("span",{className:"text-sm text-gray-900",children:e||"N/A"})]}),U2=({label:t,active:e})=>x.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg ${e?"bg-green-100":"bg-gray-100"}`,children:[x.jsx("span",{className:`w-4 h-4 rounded-full ${e?"bg-green-500":"bg-gray-400"}`}),x.jsx("span",{className:`font-medium ${e?"text-green-800":"text-gray-600"}`,children:t})]}),hW=()=>{const[t,e]=ve.useState([]),[r,i]=ve.useState([]),[n,a]=ve.useState(!0);ve.useEffect(()=>{s()},[]);const s=async()=>{const[l,c]=await Promise.all([_n.from("surveys").select("*").order("created_at",{ascending:!1}),_n.from("profiles").select("*")]);e(l.data||[]),i(c.data||[]),a(!1)};return x.jsxs("div",{className:"p-6 space-y-6",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),x.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Users"}),n?x.jsx("p",{children:"Loading..."}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b border-gray-200",children:[x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Name"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Email"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Role"})]})}),x.jsx("tbody",{children:r.map(l=>x.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[x.jsx("td",{className:"p-3",children:l.full_name||"N/A"}),x.jsx("td",{className:"p-3",children:l.email}),x.jsx("td",{className:"p-3",children:x.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:l.role})})]},l.id))})]})})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[x.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["All Surveys (",t.length,")"]}),n?x.jsx("p",{children:"Loading..."}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b border-gray-200",children:[x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Building ID"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Owner ID"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Status"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Created"})]})}),x.jsx("tbody",{children:t.map(l=>x.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[x.jsx("td",{className:"p-3",children:l.building_id||"N/A"}),x.jsx("td",{className:"p-3",children:l.owner_id||"N/A"}),x.jsx("td",{className:"p-3",children:x.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${fW(l.status)}`,children:l.status})}),x.jsx("td",{className:"p-3 text-gray-600",children:new Date(l.created_at).toLocaleDateString()})]},l.id))})]})})]})]})},fW=t=>{switch(t){case"draft":return"bg-yellow-100 text-yellow-800";case"submitted":return"bg-green-100 text-green-800";case"verified":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},dW=()=>{const t=sd("buildings"),e=sd("loading"),[r,i]=ve.useState({total:0,residential:0,commercial:0,other:0}),[n,a]=ve.useState(null);ve.useEffect(()=>{if(t&&t.length>0){const l=t.filter(f=>f.property_type?.toLowerCase().includes("residential")||f.usage_type?.toLowerCase().includes("residential")).length,c=t.filter(f=>f.property_type?.toLowerCase().includes("commercial")||f.usage_type?.toLowerCase().includes("commercial")).length;i({total:t.length,residential:l,commercial:c,other:t.length-l-c})}},[t]);const s=async()=>{await od.fetchBuildings()};return x.jsxs("div",{className:"h-screen flex flex-col",children:[x.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[x.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Surveyed Buildings Map"}),x.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View all surveyed buildings on the map"})]}),x.jsxs("button",{onClick:s,disabled:e,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center gap-2",children:[x.jsx("svg",{className:`w-4 h-4 ${e?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e?"Loading...":"Refresh"]})]}),x.jsxs("div",{className:"max-w-7xl mx-auto mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[x.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Total Buildings"}),x.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:r.total})]}),x.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[x.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Residential"}),x.jsx("p",{className:"text-2xl font-bold text-green-900 mt-1",children:r.residential})]}),x.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[x.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Commercial"}),x.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:r.commercial})]}),x.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[x.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Other"}),x.jsx("p",{className:"text-2xl font-bold text-orange-900 mt-1",children:r.other})]})]})]}),x.jsxs("div",{className:"flex-1 relative",children:[e?x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),x.jsx("p",{className:"mt-4 text-gray-600",children:"Loading buildings..."})]})}):!t||t.length===0?x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:x.jsxs("div",{className:"text-center",children:[x.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),x.jsx("p",{className:"text-lg font-medium text-gray-700",children:"No surveyed buildings yet"}),x.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Start surveying to see buildings on the map"})]})}):x.jsxs(gy,{center:[18.5204,73.8567],zoom:13,style:{height:"100%",width:"100%"},className:"z-0",children:[x.jsx(vy,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map(l=>{if(!l.geometry)return null;try{const c=typeof l.geometry=="string"?JSON.parse(l.geometry):l.geometry,f=l.property_type?.toLowerCase().includes("residential")?"#10b981":l.property_type?.toLowerCase().includes("commercial")?"#8b5cf6":"#f59e0b";return x.jsx(O8,{data:c,style:{color:f,weight:2,opacity:.8,fillColor:f,fillOpacity:.3},onEachFeature:(p,v)=>{v.on("click",()=>a(l)),v.bindPopup(`
                                                <div class="p-2">
                                                    <p class="font-bold">${l.building_id||"Unknown"}</p>
                                                    <p class="text-sm">Owner: ${l.owner_name||"N/A"}</p>
                                                    <p class="text-sm">Type: ${l.property_type||"N/A"}</p>
                                                    <p class="text-sm">Area: ${l.plot_area||"N/A"} sq.m</p>
                                                </div>
                                            `)}},l.id)}catch(c){return console.error("Error rendering building:",l.id,c),null}})]}),n&&x.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-4 max-w-sm z-[1000]",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsx("h3",{className:"font-bold text-lg",children:n.building_id||"Building Details"}),x.jsx("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-gray-600",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsxs("div",{className:"space-y-2 text-sm",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Owner:"}),x.jsx("span",{className:"ml-2 font-medium",children:n.owner_name||"N/A"})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Property Type:"}),x.jsx("span",{className:"ml-2 font-medium",children:n.property_type||"N/A"})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Plot Area:"}),x.jsxs("span",{className:"ml-2 font-medium",children:[n.plot_area||"N/A"," sq.m"]})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Surveyed:"}),x.jsx("span",{className:"ml-2 font-medium",children:n.created_at?new Date(n.created_at).toLocaleDateString():"N/A"})]})]})]})]})]})},uT=({children:t,roles:e=[],fallback:r=null,redirectTo:i="/dashboard"})=>{const{profile:n,loading:a,hasAnyRole:s}=gp();return a?x.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),x.jsx("span",{className:"text-gray-500",children:"Checking permissions..."})]})}):e.length>0&&!s(e)?r||x.jsx(D_,{to:i,replace:!0}):t},cT=({message:t="You don't have permission to view this content."})=>x.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px] p-8 text-center",children:[x.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-4",children:x.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),x.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Access Denied"}),x.jsx("p",{className:"text-gray-500 max-w-md",children:t})]}),pW=()=>{const{t}=rg(),{isAdmin:e}=gp(),[r,i]=ve.useState([]),[n,a]=ve.useState(!0),[s,l]=ve.useState(""),[c,f]=ve.useState("all"),[p,v]=ve.useState(null),[y,_]=ve.useState(!1),T=async()=>{a(!0);try{let D=_n.from("user_profiles").select("*").order("created_at",{ascending:!1});c!=="all"&&(D=D.eq("role",c));const{data:q,error:te}=await D;if(te)throw te;i(q||[])}catch(D){console.error("Error fetching users:",D)}finally{a(!1)}};ve.useEffect(()=>{T()},[c]);const S=r.filter(D=>D.full_name?.toLowerCase().includes(s.toLowerCase())||D.email?.toLowerCase().includes(s.toLowerCase())||D.phone?.includes(s)),C=async(D,q)=>{try{const{error:te}=await _n.from("user_profiles").update({role:q,updated_at:new Date().toISOString()}).eq("id",D);if(te)throw te;T(),_(!1),v(null)}catch(te){console.error("Error updating role:",te),alert("Failed to update user role")}},O=async(D,q)=>{try{const{error:te}=await _n.from("user_profiles").update({is_active:!q,updated_at:new Date().toISOString()}).eq("id",D);if(te)throw te;T()}catch(te){console.error("Error toggling status:",te)}},I=D=>{switch(D){case"admin":return"bg-red-100 text-red-700";case"supervisor":return"bg-purple-100 text-purple-700";case"surveyor":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}};return x.jsx(uT,{roles:["admin"],fallback:x.jsx(cT,{message:t("messages.noPermission")}),children:x.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"mb-6",children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[x.jsx("span",{className:"text-3xl",children:""}),t("users.title")]}),x.jsx("p",{className:"text-gray-500 mt-1",children:"Manage user accounts and roles"})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-3xl font-bold text-gray-800",children:r.length}),x.jsx("p",{className:"text-sm text-gray-500",children:"Total Users"})]}),x.jsxs("div",{className:"bg-red-50 rounded-xl p-4 shadow-sm border border-red-100",children:[x.jsx("p",{className:"text-3xl font-bold text-red-600",children:r.filter(D=>D.role==="admin").length}),x.jsxs("p",{className:"text-sm text-red-600",children:[t("roles.admin"),"s"]})]}),x.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 shadow-sm border border-purple-100",children:[x.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.filter(D=>D.role==="supervisor").length}),x.jsxs("p",{className:"text-sm text-purple-600",children:[t("roles.supervisor"),"s"]})]}),x.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 shadow-sm border border-blue-100",children:[x.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.filter(D=>D.role==="surveyor").length}),x.jsxs("p",{className:"text-sm text-blue-600",children:[t("roles.surveyor"),"s"]})]})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:x.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx("input",{type:"text",placeholder:`${t("common.search")}...`,value:s,onChange:D=>l(D.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),x.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),x.jsxs("select",{value:c,onChange:D=>f(D.target.value),className:"px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsxs("option",{value:"all",children:[t("common.all")," Roles"]}),x.jsx("option",{value:"admin",children:t("roles.admin")}),x.jsx("option",{value:"supervisor",children:t("roles.supervisor")}),x.jsx("option",{value:"surveyor",children:t("roles.surveyor")})]}),x.jsxs("button",{onClick:T,className:"px-4 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),t("common.refresh")]})]})}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:n?x.jsx("div",{className:"flex items-center justify-center py-20",children:x.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):S.length===0?x.jsx("div",{className:"text-center py-20",children:x.jsx("p",{className:"text-gray-500",children:t("users.noUsers")})}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:x.jsxs("tr",{children:[x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.fullName")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.email")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.phone")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.role")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.status")}),x.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("common.actions")})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100",children:S.map(D=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:D.full_name?.charAt(0)||D.email?.charAt(0)||"?"}),x.jsx("span",{className:"font-medium text-gray-800",children:D.full_name||"No Name"})]})}),x.jsx("td",{className:"px-6 py-4 text-gray-600",children:D.email}),x.jsx("td",{className:"px-6 py-4 text-gray-600",children:D.phone||"-"}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${I(D.role)}`,children:t(`roles.${D.role}`)})}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("button",{onClick:()=>O(D.id,D.is_active),className:`px-3 py-1 rounded-full text-xs font-semibold ${D.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:D.is_active?t("users.active"):t("users.inactive")})}),x.jsx("td",{className:"px-6 py-4 text-right",children:x.jsx("button",{onClick:()=>{v(D),_(!0)},className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:t("common.edit")})})]},D.id))})]})})}),y&&p&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md animate-fadeIn",children:[x.jsx("div",{className:"p-6 border-b border-gray-100",children:x.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t("users.editUser")})}),x.jsxs("div",{className:"p-6 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("users.fullName")}),x.jsx("p",{className:"text-gray-800 font-medium",children:p.full_name||p.email})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("users.email")}),x.jsx("p",{className:"text-gray-600",children:p.email})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("users.role")}),x.jsx("div",{className:"grid grid-cols-3 gap-2",children:["admin","supervisor","surveyor"].map(D=>x.jsx("button",{onClick:()=>C(p.id,D),className:`py-3 rounded-xl font-medium transition-all ${p.role===D?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t(`roles.${D}`)},D))})]})]}),x.jsx("div",{className:"p-6 border-t border-gray-100 flex justify-end",children:x.jsx("button",{onClick:()=>{_(!1),v(null)},className:"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:t("common.close")})})]})})]})})},mW=()=>{const{t}=rg(),{canManageZones:e}=gp(),[r,i]=ve.useState([]),[n,a]=ve.useState([]),[s,l]=ve.useState(!0),[c,f]=ve.useState(!1),[p,v]=ve.useState(null),[y,_]=ve.useState("all"),[T,S]=ve.useState({name:"",description:"",assigned_to:"",supervisor_id:"",target_count:0,due_date:"",priority:"medium",status:"pending",color:"#3B82F6"}),C=async()=>{l(!0);try{let j=_n.from("survey_zones").select(`
                    *,
                    assigned_user:user_profiles!survey_zones_assigned_to_fkey(id, full_name, email),
                    supervisor:user_profiles!survey_zones_supervisor_id_fkey(id, full_name, email)
                `).order("created_at",{ascending:!1});y!=="all"&&(j=j.eq("status",y));const{data:W,error:ue}=await j;if(ue)throw ue;i(W||[])}catch(j){console.error("Error fetching zones:",j)}finally{l(!1)}},O=async()=>{try{const{data:j}=await _n.from("user_profiles").select("id, full_name, email, role").eq("is_active",!0).order("full_name");a(j||[])}catch(j){console.error("Error fetching users:",j)}};ve.useEffect(()=>{C(),O()},[y]);const I=j=>{const{name:W,value:ue}=j.target;S(de=>({...de,[W]:ue}))},D=()=>{v(null),S({name:"",description:"",assigned_to:"",supervisor_id:"",target_count:0,due_date:"",priority:"medium",status:"pending",color:"#3B82F6"}),f(!0)},q=j=>{v(j),S({name:j.name,description:j.description||"",assigned_to:j.assigned_to||"",supervisor_id:j.supervisor_id||"",target_count:j.target_count||0,due_date:j.due_date||"",priority:j.priority||"medium",status:j.status||"pending",color:j.color||"#3B82F6"}),f(!0)},te=async()=>{try{const j={...T,target_count:parseInt(T.target_count)||0,assigned_to:T.assigned_to||null,supervisor_id:T.supervisor_id||null,due_date:T.due_date||null,updated_at:new Date().toISOString()};if(p){const{error:W}=await _n.from("survey_zones").update(j).eq("id",p.id);if(W)throw W}else{const{error:W}=await _n.from("survey_zones").insert(j);if(W)throw W}f(!1),v(null),C()}catch(j){console.error("Error saving zone:",j),alert("Failed to save zone")}},ce=async j=>{if(confirm("Are you sure you want to delete this zone?"))try{const{error:W}=await _n.from("survey_zones").delete().eq("id",j);if(W)throw W;C()}catch(W){console.error("Error deleting zone:",W)}},F=j=>{switch(j){case"completed":return"bg-green-100 text-green-700";case"in_progress":return"bg-blue-100 text-blue-700";case"on_hold":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},K=j=>{switch(j){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"medium":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},B=n.filter(j=>j.role==="surveyor"),X=n.filter(j=>j.role==="supervisor"||j.role==="admin");return x.jsx(uT,{roles:["admin","supervisor"],fallback:x.jsx(cT,{message:t("messages.noPermission")}),children:x.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[x.jsxs("div",{children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[x.jsx("span",{className:"text-3xl",children:""}),t("zones.title")]}),x.jsx("p",{className:"text-gray-500 mt-1",children:"Create and manage survey zones"})]}),x.jsxs("button",{onClick:D,className:"px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-medium hover:from-blue-700 hover:to-blue-800 transition-all shadow-lg shadow-blue-200 flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t("zones.createZone")]})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-3xl font-bold text-gray-800",children:r.length}),x.jsx("p",{className:"text-sm text-gray-500",children:"Total Zones"})]}),x.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-3xl font-bold text-gray-600",children:r.filter(j=>j.status==="pending").length}),x.jsx("p",{className:"text-sm text-gray-500",children:t("zones.pending")})]}),x.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 shadow-sm border border-blue-100",children:[x.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.filter(j=>j.status==="in_progress").length}),x.jsx("p",{className:"text-sm text-blue-600",children:t("zones.inProgress")})]}),x.jsxs("div",{className:"bg-green-50 rounded-xl p-4 shadow-sm border border-green-100",children:[x.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.filter(j=>j.status==="completed").length}),x.jsx("p",{className:"text-sm text-green-600",children:t("zones.completed")})]}),x.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 shadow-sm border border-purple-100",children:[x.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.reduce((j,W)=>j+(W.completed_count||0),0)}),x.jsx("p",{className:"text-sm text-purple-600",children:"Total Surveys"})]})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:x.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","in_progress","completed","on_hold"].map(j=>x.jsx("button",{onClick:()=>_(j),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y===j?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t(j==="all"?"common.all":`zones.${j.replace("_","")}`)},j))})}),s?x.jsx("div",{className:"flex items-center justify-center py-20",children:x.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):r.length===0?x.jsxs("div",{className:"bg-white rounded-xl p-12 text-center shadow-sm border border-gray-100",children:[x.jsx("div",{className:"text-6xl mb-4",children:""}),x.jsx("p",{className:"text-gray-500 text-lg",children:t("zones.noZones")}),x.jsx("button",{onClick:D,className:"mt-4 px-5 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700",children:t("zones.createZone")})]}):x.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(j=>x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[x.jsx("div",{className:"h-2",style:{backgroundColor:j.color}}),x.jsxs("div",{className:"p-5",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsx("h3",{className:"font-bold text-lg text-gray-800",children:j.name}),x.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${F(j.status)}`,children:t(`zones.${j.status?.replace("_","")||"pending"}`)})]}),j.description&&x.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:j.description}),x.jsxs("div",{className:"mb-4",children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500",children:t("zones.progress")}),x.jsxs("span",{className:"font-semibold text-gray-800",children:[j.completed_count||0," / ",j.target_count||0]})]}),x.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:x.jsx("div",{className:"h-2.5 rounded-full transition-all",style:{width:`${Math.min(100,(j.completed_count||0)/(j.target_count||1)*100)}%`,backgroundColor:j.color}})})]}),x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[x.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm",children:j.assigned_user?.full_name?.charAt(0)||"?"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-800",children:j.assigned_user?.full_name||"Not assigned"}),x.jsx("p",{className:"text-xs text-gray-400",children:t("zones.assignedTo")})]})]}),x.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mb-4",children:[x.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${K(j.priority)}`,children:t(`zones.${j.priority}`)}),j.due_date&&x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(j.due_date).toLocaleDateString()]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>q(j),className:"flex-1 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors font-medium text-sm",children:t("common.edit")}),x.jsx("button",{onClick:()=>ce(j.id),className:"px-3 py-2 bg-red-50 text-red-500 rounded-lg hover:bg-red-100 transition-colors",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},j.id))}),c&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto animate-fadeIn",children:[x.jsx("div",{className:"p-6 border-b border-gray-100 sticky top-0 bg-white",children:x.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t(p?"zones.editZone":"zones.createZone")})}),x.jsxs("div",{className:"p-6 space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t("zones.zoneName")," *"]}),x.jsx("input",{type:"text",name:"name",value:T.name,onChange:I,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Ward 5 - North"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),x.jsx("textarea",{name:"description",value:T.description,onChange:I,rows:2,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Zone description..."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.assignedTo")}),x.jsxs("select",{name:"assigned_to",value:T.assigned_to,onChange:I,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"",children:"-- Select Surveyor --"}),B.map(j=>x.jsx("option",{value:j.id,children:j.full_name||j.email},j.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.supervisor")}),x.jsxs("select",{name:"supervisor_id",value:T.supervisor_id,onChange:I,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"",children:"-- Select Supervisor --"}),X.map(j=>x.jsx("option",{value:j.id,children:j.full_name||j.email},j.id))]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.targetCount")}),x.jsx("input",{type:"number",name:"target_count",value:T.target_count,onChange:I,min:"0",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.dueDate")}),x.jsx("input",{type:"date",name:"due_date",value:T.due_date,onChange:I,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.priority")}),x.jsxs("select",{name:"priority",value:T.priority,onChange:I,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"low",children:t("zones.low")}),x.jsx("option",{value:"medium",children:t("zones.medium")}),x.jsx("option",{value:"high",children:t("zones.high")}),x.jsx("option",{value:"urgent",children:t("zones.urgent")})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.status")}),x.jsxs("select",{name:"status",value:T.status,onChange:I,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"pending",children:t("zones.pending")}),x.jsx("option",{value:"in_progress",children:t("zones.inProgress")}),x.jsx("option",{value:"completed",children:t("zones.completed")}),x.jsx("option",{value:"on_hold",children:t("zones.onHold")})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone Color"}),x.jsx("div",{className:"flex gap-2",children:["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#EC4899"].map(j=>x.jsx("button",{type:"button",onClick:()=>S(W=>({...W,color:j})),className:`w-10 h-10 rounded-xl transition-all ${T.color===j?"ring-2 ring-offset-2 ring-gray-400 scale-110":""}`,style:{backgroundColor:j}},j))})]})]}),x.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3 sticky bottom-0 bg-white",children:[x.jsx("button",{onClick:()=>{f(!1),v(null)},className:"flex-1 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:t("common.cancel")}),x.jsx("button",{onClick:te,disabled:!T.name,className:"flex-1 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:t("common.save")})]})]})})]})})},gW=()=>{const{user:t}=gp(),e=sh(),r=sd("assignments"),i=sd("surveys"),n=sd("loading"),a=async()=>{t&&await od.fetchAssignments(t.id)};return x.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[x.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Assignments"}),x.jsx("p",{className:"text-gray-600 mt-1",children:"Your assigned survey zones"})]}),x.jsxs("button",{onClick:a,disabled:n,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center gap-2",children:[x.jsx("svg",{className:`w-4 h-4 ${n?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n?"Loading...":"Refresh"]})]})}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[x.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-blue-100 text-sm",children:"Assigned Zones"}),x.jsx("p",{className:"text-4xl font-bold mt-2",children:r?.length||0})]}),x.jsx("div",{className:"bg-white/20 rounded-lg p-3",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})})]})}),x.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-green-100 text-sm",children:"My Surveys"}),x.jsx("p",{className:"text-4xl font-bold mt-2",children:i?.length||0})]}),x.jsx("div",{className:"bg-white/20 rounded-lg p-3",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-purple-100 text-sm",children:"Completion Rate"}),x.jsxs("p",{className:"text-4xl font-bold mt-2",children:[r?.length>0?Math.round(i?.length/(r.reduce((s,l)=>s+(l.target_count||0),0)||1)*100):0,"%"]})]}),x.jsx("div",{className:"bg-white/20 rounded-lg p-3",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[x.jsx("div",{className:"p-6 border-b border-gray-200",children:x.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Zone Assignments"})}),n?x.jsxs("div",{className:"p-8 text-center text-gray-500",children:[x.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),x.jsx("p",{className:"mt-2",children:"Loading assignments..."})]}):!r||r.length===0?x.jsxs("div",{className:"p-8 text-center text-gray-500",children:[x.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),x.jsx("p",{className:"text-lg font-medium",children:"No assignments yet"}),x.jsx("p",{className:"text-sm mt-1",children:"Your supervisor will assign zones to you"})]}):x.jsx("div",{className:"divide-y divide-gray-200",children:r.map(s=>x.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.name||"Unnamed Zone"}),x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:s.status||"pending"}),s.priority&&x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.priority==="urgent"?"bg-red-100 text-red-800":s.priority==="high"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-600"}`,children:s.priority})]}),s.description&&x.jsx("p",{className:"text-gray-600 text-sm mb-3",children:s.description}),x.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),x.jsxs("span",{children:["Target: ",s.target_count||0," buildings"]})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),x.jsxs("span",{children:["Completed: ",s.completed_count||0]})]}),s.due_date&&x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),x.jsxs("span",{children:["Due: ",new Date(s.due_date).toLocaleDateString()]})]})]}),s.notes&&x.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:x.jsxs("p",{className:"text-sm text-yellow-800",children:[x.jsx("strong",{children:"Note:"})," ",s.notes]})})]}),x.jsxs("button",{onClick:()=>e("/survey",{state:{zoneId:s.id}}),className:"ml-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Start Survey"]})]}),s.target_count>0&&x.jsxs("div",{className:"mt-4",children:[x.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-1",children:[x.jsx("span",{children:"Progress"}),x.jsxs("span",{children:[Math.round((s.completed_count||0)/s.target_count*100),"%"]})]}),x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${Math.min((s.completed_count||0)/s.target_count*100,100)}%`}})})]})]},s.id))})]})]})},vW=({children:t})=>{const[e,r]=yl.useState(void 0),[i,n]=yl.useState(!0),[a,s]=yl.useState(!1);return yl.useEffect(()=>{let l=!0,c=null;(async()=>{try{const{data:y}=await _n.auth.getSession();l&&y.session&&(r(y.session),n(!1),s(!0))}catch(y){console.error("Error checking session:",y)}})();const{data:{subscription:p}}=_n.auth.onAuthStateChange((y,_)=>{console.log("Auth state changed:",y,_?"Has session":"No session"),l&&(_?(r(_),n(!1),s(!0),c&&clearTimeout(c)):y==="INITIAL_SESSION"&&!_?c=setTimeout(()=>{l&&!a&&(console.log("No session confirmed after delay"),r(null),n(!1),s(!0))},1500):y==="SIGNED_OUT"&&(r(null),n(!1)))}),v=setTimeout(async()=>{if(l&&i&&!a){console.log("Fallback session check...");const{data:{session:y}}=await _n.auth.getSession();l&&(r(y),n(!1),s(!0))}},5e3);return()=>{l=!1,clearTimeout(v),c&&clearTimeout(c),p.unsubscribe()}},[]),i||e===void 0?x.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-gray-600",children:"Checking authentication..."})]})}):e?t:x.jsx(D_,{to:"/login",replace:!0})},_W=$N([{path:"/",element:x.jsx(D_,{to:"/dashboard",replace:!0})},{path:"/",element:x.jsx(kk,{}),children:[{path:"login",element:x.jsx(Pk,{})}]},{path:"/",element:x.jsx(vW,{children:x.jsx(Mk,{})}),children:[{path:"dashboard",element:x.jsx(yz,{})},{path:"survey",element:x.jsx(uW,{})},{path:"survey/:id",element:x.jsx(cW,{})},{path:"admin",element:x.jsx(hW,{})},{path:"surveyed-buildings",element:x.jsx(dW,{})},{path:"users",element:x.jsx(pW,{})},{path:"zones",element:x.jsx(mW,{})},{path:"my-assignments",element:x.jsx(gW,{})}]}]);class yW extends yl.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){console.error("Error caught by boundary:",e,r),this.state={hasError:!0,error:e,errorInfo:r}}render(){return this.state.hasError?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:x.jsx("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),x.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-6",children:"The application encountered an unexpected error. Don't worry, your data is safe."}),this.state.error&&x.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-left",children:x.jsx("p",{className:"text-sm font-mono text-red-800 break-all",children:this.state.error.toString()})}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Reload Page"}),x.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"flex-1 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-medium transition-colors",children:"Try Again"})]}),x.jsx("button",{onClick:()=>window.location.href="/",className:"mt-3 w-full px-4 py-2 text-blue-600 hover:text-blue-700 font-medium",children:" Back to Home"})]})})}):this.props.children}}const xW=()=>sd("loading")?x.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 flex items-center justify-center",children:x.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-sm mx-4",children:x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full"}),x.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 rounded-full border-t-transparent animate-spin absolute top-0 left-0"})]}),x.jsx("p",{className:"mt-4 text-lg font-medium text-gray-900",children:"Loading data..."}),x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please wait a moment"})]})})}):null,{slice:wW,forEach:bW}=[];function SW(t){return bW.call(wW.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function EW(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const Z3=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,TW=function(t,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},n=encodeURIComponent(e);let a=`${t}=${n}`;if(i.maxAge>0){const s=i.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(i.domain){if(!Z3.test(i.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${i.domain}`}if(i.path){if(!Z3.test(i.path))throw new TypeError("option path is invalid");a+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(a+="; Partitioned"),a},Y3={create(t,e,r,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(n.expires=new Date,n.expires.setTime(n.expires.getTime()+r*60*1e3)),i&&(n.domain=i),document.cookie=TW(t,e,n)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){let n=r[i];for(;n.charAt(0)===" ";)n=n.substring(1,n.length);if(n.indexOf(e)===0)return n.substring(e.length,n.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var AW={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Y3.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:i,cookieDomain:n,cookieOptions:a}=e;r&&typeof document<"u"&&Y3.create(r,t,i,n,a)}},LW={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const a=i.substring(1).split("&");for(let s=0;s<a.length;s++){const l=a[s].indexOf("=");l>0&&a[s].substring(0,l)===e&&(r=a[s].substring(l+1))}}return r}},NW={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:r}=t,i;if(typeof window<"u"){const{hash:n}=window.location;if(n&&n.length>2){const a=n.substring(1);if(e){const s=a.split("&");for(let l=0;l<s.length;l++){const c=s[l].indexOf("=");c>0&&s[l].substring(0,c)===e&&(i=s[l].substring(c+1))}}if(i)return i;if(!i&&r>-1){const s=n.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?s[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return i}};let Ff=null;const K3=()=>{if(Ff!==null)return Ff;try{if(Ff=typeof window<"u"&&window.localStorage!==null,!Ff)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Ff=!1}return Ff};var CW={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&K3())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&K3()&&window.localStorage.setItem(r,t)}};let Bf=null;const X3=()=>{if(Bf!==null)return Bf;try{if(Bf=typeof window<"u"&&window.sessionStorage!==null,!Bf)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Bf=!1}return Bf};var MW={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&X3())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&X3()&&window.sessionStorage.setItem(r,t)}},kW={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:i,language:n}=navigator;if(r)for(let a=0;a<r.length;a++)e.push(r[a]);i&&e.push(i),n&&e.push(n)}return e.length>0?e:void 0}},PW={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(r=i.getAttribute("lang")),r}},OW={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof e=="number"?e:0]?.replace("/",""):void 0}},RW={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[r]}};let hT=!1;try{document.cookie,hT=!0}catch{}const fT=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];hT||fT.splice(1,1);const DW=()=>({order:fT,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class dT{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=SW(r,this.options||{},DW()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=n=>n.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(AW),this.addDetector(LW),this.addDetector(CW),this.addDetector(MW),this.addDetector(kW),this.addDetector(PW),this.addDetector(OW),this.addDetector(RW),this.addDetector(NW)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(i=>{if(this.detectors[i]){let n=this.detectors[i].lookup(this.options);n&&typeof n=="string"&&(n=[n]),n&&(r=r.concat(n))}}),r=r.filter(i=>i!=null&&!EW(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}dT.type="languageDetector";const jW={appName:"INDICES",tagline:"Geospatial Survey System",loading:"Loading...",save:"Save",cancel:"Cancel",submit:"Submit",edit:"Edit",delete:"Delete",view:"View",search:"Search",filter:"Filter",export:"Export",download:"Download",upload:"Upload",refresh:"Refresh",back:"Back",next:"Next",previous:"Previous",yes:"Yes",no:"No",confirm:"Confirm",close:"Close",actions:"Actions",status:"Status",date:"Date",all:"All"},IW={login:"Login",logout:"Logout",email:"Email Address",password:"Password",loginTitle:"Welcome Back",loginSubtitle:"Sign in to continue to INDICES",forgotPassword:"Forgot Password?",noAccount:"Don't have an account?",signUp:"Sign Up",loginSuccess:"Login successful!",loginError:"Invalid email or password",loggingIn:"Signing in..."},FW={dashboard:"Dashboard",surveyMap:"Survey Map",allBuildings:"All Buildings",admin:"Admin Panel",users:"User Management",zones:"Zone Management",myAssignments:"My Assignments",settings:"Settings",profile:"Profile"},BW={title:"Survey Dashboard",totalSurveys:"Total Surveys",todaysSurveys:"Today's Surveys",pending:"Pending Review",approved:"Approved",recentSurveys:"Recent Surveys",noSurveys:"No surveys found",viewAll:"View All",exportExcel:"Export Excel",exportCSV:"Export CSV"},UW={newSurvey:"New Survey",editSurvey:"Edit Survey",surveyDetails:"Survey Details",buildingId:"Building ID",drawBuilding:"Draw Building",selectTool:"Select a tool and draw around the building",tapToAdd:"Tap to add corner points",tapToComplete:"Tap first point again to complete",useUndo:"Use Undo for mistakes",polygon:"Polygon",rectangle:"Rectangle",marker:"Marker",undo:"Undo",clear:"Clear",drone:"Drone",location:"Location",points:"Points",needMore:"Need {{count}} more",readyToClose:"Ready to close"},zW={ownerDetails:"Owner Details",ownerName:"Owner Name",phoneNumber:"Phone Number",aadhaarNumber:"Aadhaar Number",emailAddress:"Email Address",relationWithOwner:"Relation with Owner",coOwnerName:"Co-Owner Name",locationDetails:"Location Details",surveyGatNo:"Survey/Gat Number",citySurveyNo:"City Survey Number",finalPlotNo:"Final Plot Number",subPlotNo:"Sub-Plot Number",mohalla:"Mohalla/Locality",district:"District",taluka:"Taluka",village:"Village",wardNo:"Ward Number",zoneName:"Zone Name",pincode:"Pin Code",streetName:"Street Name",landmarkNear:"Landmark Near",constructionDetails:"Construction Details",buildingName:"Building Name",numberOfFloors:"Number of Floors",buildingAge:"Building Age (Years)",constructionType:"Construction Type",roofType:"Roof Type",floorType:"Floor Type",buildingCondition:"Building Condition",carpetArea:"Carpet Area (sq.ft)",builtUpArea:"Built-Up Area (sq.ft)",plotArea:"Plot Area (sq.ft)",propertyClassification:"Property Classification",propertyUsage:"Property Usage",ownershipType:"Ownership Type",occupancyStatus:"Occupancy Status",tenantName:"Tenant Name",monthlyRent:"Monthly Rent",utilities:"Water Supply, Sanitation & Utilities",waterConnection:"Water Connection",waterSource:"Water Source",drainageConnection:"Drainage Connection",toiletAvailable:"Toilet Available",toiletType:"Toilet Type",electricityConnection:"Electricity Connection",meterNumber:"Meter Number",gasConnection:"Gas Connection",rainwaterHarvesting:"Rainwater Harvesting",assessment:"Assessment Details",previousAssessment:"Previous Assessment Amount",taxPaidLastYear:"Tax Paid Last Year",arrearsDue:"Arrears Due",exemptionClaimed:"Exemption Claimed",exemptionReason:"Exemption Reason",photos:"Photos",ownerPhoto:"Owner Photo",buildingPhoto:"Building Photo",documentPhoto:"Document Photo",capturePhoto:"Capture Photo",retakePhoto:"Retake",additionalRemarks:"Additional Remarks",surveyorRemarks:"Surveyor Remarks"},GW={required:"This field is required",invalidPhone:"Invalid phone number",invalidEmail:"Invalid email address",invalidAadhaar:"Invalid Aadhaar number",minLength:"Minimum {{count}} characters required",maxLength:"Maximum {{count}} characters allowed"},HW={admin:"Administrator",supervisor:"Supervisor",surveyor:"Surveyor"},qW={title:"Survey Zones",createZone:"Create Zone",editZone:"Edit Zone",zoneName:"Zone Name",assignedTo:"Assigned To",supervisor:"Supervisor",targetCount:"Target Surveys",completedCount:"Completed",progress:"Progress",dueDate:"Due Date",status:"Status",pending:"Pending",inProgress:"In Progress",completed:"Completed",onHold:"On Hold",priority:"Priority",low:"Low",medium:"Medium",high:"High",urgent:"Urgent",drawZone:"Draw zone boundary on map",noZones:"No zones created yet"},VW={title:"User Management",addUser:"Add User",editUser:"Edit User",fullName:"Full Name",email:"Email",phone:"Phone",role:"Role",status:"Status",active:"Active",inactive:"Inactive",lastLogin:"Last Login",assignedZones:"Assigned Zones",totalSurveys:"Total Surveys",noUsers:"No users found"},$W={title:"My Assignments",assignedZones:"Assigned Zones",progress:"Your Progress",surveysCompleted:"Surveys Completed",targetRemaining:"Target Remaining",deadline:"Deadline",startSurvey:"Start Survey",viewZone:"View Zone",noAssignments:"No zones assigned to you"},WW={success:"Operation successful",error:"Something went wrong",saved:"Saved successfully",deleted:"Deleted successfully",updated:"Updated successfully",surveySubmitted:"Survey submitted successfully!",pdfGenerated:"PDF generated successfully",offlineSaved:"Saved offline. Will sync when online.",syncComplete:"Sync complete",noPermission:"You don't have permission for this action"},ZW={select:"Select Language",english:"English",hindi:"",marathi:""},YW={common:jW,auth:IW,nav:FW,dashboard:BW,survey:UW,form:zW,validation:GW,roles:HW,zones:qW,users:VW,assignments:$W,messages:WW,language:ZW},KW={appName:"",tagline:"-  ",loading:"   ...",save:"",cancel:" ",submit:" ",edit:" ",delete:"",view:"",search:"",filter:"",export:"",download:"",upload:"",refresh:"",back:"",next:"",previous:"",yes:"",no:"",confirm:" ",close:" ",actions:"",status:"",date:"",all:""},XW={login:"",logout:"",email:" ",password:"",loginTitle:" ",loginSubtitle:"        ",forgotPassword:"  ?",noAccount:"  ?",signUp:"  ",loginSuccess:" !",loginError:"   ",loggingIn:"    ..."},JW={dashboard:"",surveyMap:" ",allBuildings:" ",admin:" ",users:" ",zones:" ",myAssignments:" ",settings:"",profile:""},QW={title:" ",totalSurveys:" ",todaysSurveys:"  ",pending:" ",approved:"",recentSurveys:"  ",noSurveys:"   ",viewAll:" ",exportExcel:" ",exportCSV:"CSV "},eZ={newSurvey:" ",editSurvey:"  ",surveyDetails:" ",buildingId:" ",drawBuilding:" ",selectTool:"        ",tapToAdd:"       ",tapToComplete:"         ",useUndo:"      ",polygon:"",rectangle:"",marker:"",undo:"",clear:"",drone:"",location:"",points:"",needMore:"{{count}}  ",readyToClose:"    "},tZ={ownerDetails:" ",ownerName:"  ",phoneNumber:" ",aadhaarNumber:" ",emailAddress:" ",relationWithOwner:"  ",coOwnerName:"-  ",locationDetails:" ",surveyGatNo:"/ ",citySurveyNo:"  ",finalPlotNo:"  ",subPlotNo:"- ",mohalla:"/",district:"",taluka:"",village:"",wardNo:" ",zoneName:"  ",pincode:" ",streetName:"  ",landmarkNear:"  ",constructionDetails:" ",buildingName:"  ",numberOfFloors:"  ",buildingAge:"   ()",constructionType:" ",roofType:"  ",floorType:"  ",buildingCondition:"  ",carpetArea:"  ( )",builtUpArea:"  ( )",plotArea:"  ( )",propertyClassification:" ",propertyUsage:" ",ownershipType:" ",occupancyStatus:" ",tenantName:"  ",monthlyRent:" ",utilities:" ,   ",waterConnection:" ",waterSource:" ",drainageConnection:" ",toiletAvailable:" ",toiletType:" ",electricityConnection:" ",meterNumber:" ",gasConnection:" ",rainwaterHarvesting:"  ",assessment:" ",previousAssessment:"  ",taxPaidLastYear:"     ",arrearsDue:" ",exemptionClaimed:"  ",exemptionReason:"  ",photos:"",ownerPhoto:"  ",buildingPhoto:"  ",documentPhoto:"  ",capturePhoto:" ",retakePhoto:" ",additionalRemarks:" ",surveyorRemarks:" "},rZ={required:"   ",invalidPhone:"  ",invalidEmail:"  ",invalidAadhaar:"  ",minLength:" {{count}}  ",maxLength:" {{count}}  "},nZ={admin:"",supervisor:"",surveyor:""},iZ={title:" ",createZone:" ",editZone:"  ",zoneName:"  ",assignedTo:"  ",supervisor:"",targetCount:" ",completedCount:"",progress:"",dueDate:" ",status:"",pending:"",inProgress:" ",completed:"",onHold:" ",priority:"",low:"",medium:"",high:"",urgent:"",drawZone:"    ",noZones:"     "},aZ={title:" ",addUser:" ",editUser:"  ",fullName:" ",email:"",phone:"",role:"",status:"",active:"",inactive:"",lastLogin:" ",assignedZones:"  ",totalSurveys:" ",noUsers:"   "},sZ={title:" ",assignedZones:"  ",progress:" ",surveysCompleted:" ",targetRemaining:" ",deadline:" ",startSurvey:"  ",viewZone:" ",noAssignments:"     "},oZ={success:" ",error:"   ",saved:"  ",deleted:"  ",updated:"   ",surveySubmitted:"    !",pdfGenerated:"PDF   ",offlineSaved:"       ",syncComplete:" ",noPermission:"       "},lZ={select:" ",english:"English",hindi:"",marathi:""},uZ={common:KW,auth:XW,nav:JW,dashboard:QW,survey:eZ,form:tZ,validation:rZ,roles:nZ,zones:iZ,users:aZ,assignments:sZ,messages:oZ,language:lZ},cZ={appName:"",tagline:"-  ",loading:"  ...",save:" ",cancel:" ",submit:" ",edit:" ",delete:"",view:"",search:"",filter:"",export:"",download:"",upload:"",refresh:"",back:"",next:"",previous:"",yes:"",no:"",confirm:" ",close:" ",actions:"",status:"",date:"",all:""},hZ={login:"",logout:"",email:" ",password:"",loginTitle:" ",loginSubtitle:"      ",forgotPassword:" ?",noAccount:" ?",signUp:"  ",loginSuccess:" !",loginError:"   ",loggingIn:"   ..."},fZ={dashboard:"",surveyMap:" ",allBuildings:" ",admin:" ",users:" ",zones:" ",myAssignments:" ",settings:"",profile:""},dZ={title:" ",totalSurveys:" ",todaysSurveys:" ",pending:" ",approved:"",recentSurveys:" ",noSurveys:"   ",viewAll:" ",exportExcel:" ",exportCSV:"CSV "},pZ={newSurvey:" ",editSurvey:"  ",surveyDetails:" ",buildingId:" ",drawBuilding:" ",selectTool:"     ",tapToAdd:"    ",tapToComplete:"      ",useUndo:"  ",polygon:"",rectangle:"",marker:"",undo:"",clear:" ",drone:"",location:"",points:"",needMore:"{{count}}  ",readyToClose:"  "},mZ={ownerDetails:" ",ownerName:" ",phoneNumber:" ",aadhaarNumber:" ",emailAddress:" ",relationWithOwner:" ",coOwnerName:"- ",locationDetails:" ",surveyGatNo:"/ ",citySurveyNo:"  ",finalPlotNo:"  ",subPlotNo:"- ",mohalla:"/",district:"",taluka:"",village:"",wardNo:" ",zoneName:" ",pincode:" ",streetName:" ",landmarkNear:" ",constructionDetails:" ",buildingName:" ",numberOfFloors:" ",buildingAge:"  ()",constructionType:" ",roofType:" ",floorType:" ",buildingCondition:" ",carpetArea:"  (..)",builtUpArea:"  (..)",plotArea:"  (..)",propertyClassification:" ",propertyUsage:" ",ownershipType:" ",occupancyStatus:" ",tenantName:" ",monthlyRent:" ",utilities:" ,   ",waterConnection:" ",waterSource:" ",drainageConnection:" ",toiletAvailable:" ",toiletType:" ",electricityConnection:" ",meterNumber:" ",gasConnection:" ",rainwaterHarvesting:"  ",assessment:" ",previousAssessment:"  ",taxPaidLastYear:"   ",arrearsDue:"",exemptionClaimed:" ",exemptionReason:" ",photos:"",ownerPhoto:" ",buildingPhoto:" ",documentPhoto:" ",capturePhoto:" ",retakePhoto:" ",additionalRemarks:" ",surveyorRemarks:" "},gZ={required:"   ",invalidPhone:"  ",invalidEmail:"  ",invalidAadhaar:"  ",minLength:" {{count}}  ",maxLength:"  {{count}}  "},vZ={admin:"",supervisor:"",surveyor:""},_Z={title:" ",createZone:"  ",editZone:"  ",zoneName:" ",assignedTo:" ",supervisor:"",targetCount:" ",completedCount:"",progress:"",dueDate:" ",status:"",pending:"",inProgress:" ",completed:"",onHold:"",priority:"",low:"",medium:"",high:"",urgent:" ",drawZone:"   ",noZones:"     "},yZ={title:" ",addUser:" ",editUser:"  ",fullName:" ",email:"",phone:"",role:"",status:"",active:"",inactive:"",lastLogin:" ",assignedZones:" ",totalSurveys:" ",noUsers:"   "},xZ={title:" ",assignedZones:" ",progress:" ",surveysCompleted:"  ",targetRemaining:" ",deadline:" ",startSurvey:"  ",viewZone:" ",noAssignments:"    "},wZ={success:" ",error:" ",saved:"  ",deleted:" ",updated:"  ",surveySubmitted:"   !",pdfGenerated:"PDF   ",offlineSaved:"  .    .",syncComplete:" ",noPermission:"    "},bZ={select:" ",english:"English",hindi:"",marathi:""},SZ={common:cZ,auth:hZ,nav:fZ,dashboard:dZ,survey:pZ,form:mZ,validation:gZ,roles:vZ,zones:_Z,users:yZ,assignments:xZ,messages:wZ,language:bZ},EZ={en:{translation:YW},hi:{translation:uZ},mr:{translation:SZ}};eo.use(dT).use(gk).init({resources:EZ,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});PA.createRoot(document.getElementById("root")).render(x.jsx(yl.StrictMode,{children:x.jsx(yW,{children:x.jsx(Lk,{children:x.jsxs(TR,{children:[x.jsx(iC,{router:_W}),x.jsx(xW,{})]})})})}));"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(t){for(let e of t)e.unregister(),console.log("Unregistered service worker:",e.scope)});export{Gn as _,TZ as c,V1 as g};
