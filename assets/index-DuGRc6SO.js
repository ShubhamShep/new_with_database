function wA(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var SZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nv={exports:{}},n0={};var $w;function bA(){if($w)return n0;$w=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:s,ref:i!==void 0?i:null,props:a}}return n0.Fragment=e,n0.jsx=r,n0.jsxs=r,n0}var Ww;function SA(){return Ww||(Ww=1,Nv.exports=bA()),Nv.exports}var x=SA(),Cv={exports:{}},Ir={};var Zw;function EA(){if(Zw)return Ir;Zw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function _(ee){return ee===null||typeof ee!="object"?null:(ee=y&&ee[y]||ee["@@iterator"],typeof ee=="function"?ee:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function M(ee,O,G){this.props=ee,this.context=O,this.refs=C,this.updater=G||T}M.prototype.isReactComponent={},M.prototype.setState=function(ee,O){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,O,"setState")},M.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function D(){}D.prototype=M.prototype;function j(ee,O,G){this.props=ee,this.context=O,this.refs=C,this.updater=G||T}var V=j.prototype=new D;V.constructor=j,S(V,M.prototype),V.isPureReactComponent=!0;var X=Array.isArray;function ce(){}var I={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function F(ee,O,G){var H=G.ref;return{$$typeof:t,type:ee,key:O,ref:H!==void 0?H:null,props:G}}function J(ee,O){return F(ee.type,O,ee.props)}function B(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function Z(ee){var O={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(G){return O[G]})}var ue=/\/+/g;function de(ee,O){return typeof ee=="object"&&ee!==null&&ee.key!=null?Z(""+ee.key):O.toString(36)}function xe(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(ce,ce):(ee.status="pending",ee.then(function(O){ee.status==="pending"&&(ee.status="fulfilled",ee.value=O)},function(O){ee.status==="pending"&&(ee.status="rejected",ee.reason=O)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function oe(ee,O,G,H,Y){var se=typeof ee;(se==="undefined"||se==="boolean")&&(ee=null);var Ae=!1;if(ee===null)Ae=!0;else switch(se){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(ee.$$typeof){case t:case e:Ae=!0;break;case p:return Ae=ee._init,oe(Ae(ee._payload),O,G,H,Y)}}if(Ae)return Y=Y(ee),Ae=H===""?"."+de(ee,0):H,X(Y)?(G="",Ae!=null&&(G=Ae.replace(ue,"$&/")+"/"),oe(Y,O,G,"",function(Ie){return Ie})):Y!=null&&(B(Y)&&(Y=J(Y,G+(Y.key==null||ee&&ee.key===Y.key?"":(""+Y.key).replace(ue,"$&/")+"/")+Ae)),O.push(Y)),1;Ae=0;var Oe=H===""?".":H+":";if(X(ee))for(var Re=0;Re<ee.length;Re++)H=ee[Re],se=Oe+de(H,Re),Ae+=oe(H,O,G,se,Y);else if(Re=_(ee),typeof Re=="function")for(ee=Re.call(ee),Re=0;!(H=ee.next()).done;)H=H.value,se=Oe+de(H,Re++),Ae+=oe(H,O,G,se,Y);else if(se==="object"){if(typeof ee.then=="function")return oe(xe(ee),O,G,H,Y);throw O=String(ee),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function be(ee,O,G){if(ee==null)return ee;var H=[],Y=0;return oe(ee,H,"","",function(se){return O.call(G,se,Y++)}),H}function _e(ee){if(ee._status===-1){var O=ee._result;O=O(),O.then(function(G){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=G)},function(G){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=G)}),ee._status===-1&&(ee._status=0,ee._result=O)}if(ee._status===1)return ee._result.default;throw ee._result}var Le=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)},Ne={map:be,forEach:function(ee,O,G){be(ee,function(){O.apply(this,arguments)},G)},count:function(ee){var O=0;return be(ee,function(){O++}),O},toArray:function(ee){return be(ee,function(O){return O})||[]},only:function(ee){if(!B(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};return Ir.Activity=v,Ir.Children=Ne,Ir.Component=M,Ir.Fragment=r,Ir.Profiler=i,Ir.PureComponent=j,Ir.StrictMode=n,Ir.Suspense=u,Ir.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ir.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return I.H.useMemoCache(ee)}},Ir.cache=function(ee){return function(){return ee.apply(null,arguments)}},Ir.cacheSignal=function(){return null},Ir.cloneElement=function(ee,O,G){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var H=S({},ee.props),Y=ee.key;if(O!=null)for(se in O.key!==void 0&&(Y=""+O.key),O)!q.call(O,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&O.ref===void 0||(H[se]=O[se]);var se=arguments.length-2;if(se===1)H.children=G;else if(1<se){for(var Ae=Array(se),Oe=0;Oe<se;Oe++)Ae[Oe]=arguments[Oe+2];H.children=Ae}return F(ee.type,Y,H)},Ir.createContext=function(ee){return ee={$$typeof:s,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:a,_context:ee},ee},Ir.createElement=function(ee,O,G){var H,Y={},se=null;if(O!=null)for(H in O.key!==void 0&&(se=""+O.key),O)q.call(O,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(Y[H]=O[H]);var Ae=arguments.length-2;if(Ae===1)Y.children=G;else if(1<Ae){for(var Oe=Array(Ae),Re=0;Re<Ae;Re++)Oe[Re]=arguments[Re+2];Y.children=Oe}if(ee&&ee.defaultProps)for(H in Ae=ee.defaultProps,Ae)Y[H]===void 0&&(Y[H]=Ae[H]);return F(ee,se,Y)},Ir.createRef=function(){return{current:null}},Ir.forwardRef=function(ee){return{$$typeof:l,render:ee}},Ir.isValidElement=B,Ir.lazy=function(ee){return{$$typeof:p,_payload:{_status:-1,_result:ee},_init:_e}},Ir.memo=function(ee,O){return{$$typeof:f,type:ee,compare:O===void 0?null:O}},Ir.startTransition=function(ee){var O=I.T,G={};I.T=G;try{var H=ee(),Y=I.S;Y!==null&&Y(G,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(ce,Le)}catch(se){Le(se)}finally{O!==null&&G.types!==null&&(O.types=G.types),I.T=O}},Ir.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ir.use=function(ee){return I.H.use(ee)},Ir.useActionState=function(ee,O,G){return I.H.useActionState(ee,O,G)},Ir.useCallback=function(ee,O){return I.H.useCallback(ee,O)},Ir.useContext=function(ee){return I.H.useContext(ee)},Ir.useDebugValue=function(){},Ir.useDeferredValue=function(ee,O){return I.H.useDeferredValue(ee,O)},Ir.useEffect=function(ee,O){return I.H.useEffect(ee,O)},Ir.useEffectEvent=function(ee){return I.H.useEffectEvent(ee)},Ir.useId=function(){return I.H.useId()},Ir.useImperativeHandle=function(ee,O,G){return I.H.useImperativeHandle(ee,O,G)},Ir.useInsertionEffect=function(ee,O){return I.H.useInsertionEffect(ee,O)},Ir.useLayoutEffect=function(ee,O){return I.H.useLayoutEffect(ee,O)},Ir.useMemo=function(ee,O){return I.H.useMemo(ee,O)},Ir.useOptimistic=function(ee,O){return I.H.useOptimistic(ee,O)},Ir.useReducer=function(ee,O,G){return I.H.useReducer(ee,O,G)},Ir.useRef=function(ee){return I.H.useRef(ee)},Ir.useState=function(ee){return I.H.useState(ee)},Ir.useSyncExternalStore=function(ee,O,G){return I.H.useSyncExternalStore(ee,O,G)},Ir.useTransition=function(){return I.H.useTransition()},Ir.version="19.2.3",Ir}var Yw;function W1(){return Yw||(Yw=1,Cv.exports=EA()),Cv.exports}var ve=W1();const th=$1(ve),TA=wA({__proto__:null,default:th},[ve]);var Mv={exports:{}},i0={},kv={exports:{}},Pv={};var Kw;function AA(){return Kw||(Kw=1,(function(t){function e(oe,be){var _e=oe.length;oe.push(be);e:for(;0<_e;){var Le=_e-1>>>1,Ne=oe[Le];if(0<i(Ne,be))oe[Le]=be,oe[_e]=Ne,_e=Le;else break e}}function r(oe){return oe.length===0?null:oe[0]}function n(oe){if(oe.length===0)return null;var be=oe[0],_e=oe.pop();if(_e!==be){oe[0]=_e;e:for(var Le=0,Ne=oe.length,ee=Ne>>>1;Le<ee;){var O=2*(Le+1)-1,G=oe[O],H=O+1,Y=oe[H];if(0>i(G,_e))H<Ne&&0>i(Y,G)?(oe[Le]=Y,oe[H]=_e,Le=H):(oe[Le]=G,oe[O]=_e,Le=O);else if(H<Ne&&0>i(Y,_e))oe[Le]=Y,oe[H]=_e,Le=H;else break e}}return be}function i(oe,be){var _e=oe.sortIndex-be.sortIndex;return _e!==0?_e:oe.id-be.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],f=[],p=1,v=null,y=3,_=!1,T=!1,S=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function V(oe){for(var be=r(f);be!==null;){if(be.callback===null)n(f);else if(be.startTime<=oe)n(f),be.sortIndex=be.expirationTime,e(u,be);else break;be=r(f)}}function X(oe){if(S=!1,V(oe),!T)if(r(u)!==null)T=!0,ce||(ce=!0,Z());else{var be=r(f);be!==null&&xe(X,be.startTime-oe)}}var ce=!1,I=-1,q=5,F=-1;function J(){return C?!0:!(t.unstable_now()-F<q)}function B(){if(C=!1,ce){var oe=t.unstable_now();F=oe;var be=!0;try{e:{T=!1,S&&(S=!1,D(I),I=-1),_=!0;var _e=y;try{t:{for(V(oe),v=r(u);v!==null&&!(v.expirationTime>oe&&J());){var Le=v.callback;if(typeof Le=="function"){v.callback=null,y=v.priorityLevel;var Ne=Le(v.expirationTime<=oe);if(oe=t.unstable_now(),typeof Ne=="function"){v.callback=Ne,V(oe),be=!0;break t}v===r(u)&&n(u),V(oe)}else n(u);v=r(u)}if(v!==null)be=!0;else{var ee=r(f);ee!==null&&xe(X,ee.startTime-oe),be=!1}}break e}finally{v=null,y=_e,_=!1}be=void 0}}finally{be?Z():ce=!1}}}var Z;if(typeof j=="function")Z=function(){j(B)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,de=ue.port2;ue.port1.onmessage=B,Z=function(){de.postMessage(null)}}else Z=function(){M(B,0)};function xe(oe,be){I=M(function(){oe(t.unstable_now())},be)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(oe){switch(y){case 1:case 2:case 3:var be=3;break;default:be=y}var _e=y;y=be;try{return oe()}finally{y=_e}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(oe,be){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var _e=y;y=oe;try{return be()}finally{y=_e}},t.unstable_scheduleCallback=function(oe,be,_e){var Le=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Le+_e:Le):_e=Le,oe){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=_e+Ne,oe={id:p++,callback:be,priorityLevel:oe,startTime:_e,expirationTime:Ne,sortIndex:-1},_e>Le?(oe.sortIndex=_e,e(f,oe),r(u)===null&&oe===r(f)&&(S?(D(I),I=-1):S=!0,xe(X,_e-Le))):(oe.sortIndex=Ne,e(u,oe),T||_||(T=!0,ce||(ce=!0,Z()))),oe},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(oe){var be=y;return function(){var _e=y;y=be;try{return oe.apply(this,arguments)}finally{y=_e}}}})(Pv)),Pv}var Xw;function LA(){return Xw||(Xw=1,kv.exports=AA()),kv.exports}var Ov={exports:{}},Ps={};var Jw;function NA(){if(Jw)return Ps;Jw=1;var t=W1();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:u,containerInfo:f,implementation:p}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ps.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ps.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,p)},Ps.flushSync=function(u){var f=s.T,p=n.p;try{if(s.T=null,n.p=2,u)return u()}finally{s.T=f,n.p=p,n.d.f()}},Ps.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},Ps.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Ps.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,v=l(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:_}):p==="script"&&n.d.X(u,{crossOrigin:v,integrity:y,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ps.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},Ps.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=l(p,f.crossOrigin);n.d.L(u,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ps.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=l(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},Ps.requestFormReset=function(u){n.d.r(u)},Ps.unstable_batchedUpdates=function(u,f){return u(f)},Ps.useFormState=function(u,f,p){return s.H.useFormState(u,f,p)},Ps.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ps.version="19.2.3",Ps}var Qw;function eS(){if(Qw)return Ov.exports;Qw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ov.exports=NA(),Ov.exports}var eb;function CA(){if(eb)return i0;eb=1;var t=LA(),e=W1(),r=eS();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,d=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(d=c.return),o=c.return;while(o)}return c.tag===3?d:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(n(188))}function f(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(n(188));return c!==o?null:o}for(var d=o,g=c;;){var E=d.return;if(E===null)break;var N=E.alternate;if(N===null){if(g=E.return,g!==null){d=g;continue}break}if(E.child===N.child){for(N=E.child;N;){if(N===d)return u(E),o;if(N===g)return u(E),c;N=N.sibling}throw Error(n(188))}if(d.return!==g.return)d=E,g=N;else{for(var W=!1,fe=E.child;fe;){if(fe===d){W=!0,d=E,g=N;break}if(fe===g){W=!0,g=E,d=N;break}fe=fe.sibling}if(!W){for(fe=N.child;fe;){if(fe===d){W=!0,d=N,g=E;break}if(fe===g){W=!0,g=N,d=E;break}fe=fe.sibling}if(!W)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:c}function p(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=p(o),c!==null)return c;o=o.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),j=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function Z(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var ue=Symbol.for("react.client.reference");function de(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ue?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case M:return"Profiler";case C:return"StrictMode";case X:return"Suspense";case ce:return"SuspenseList";case F:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case j:return o.displayName||"Context";case D:return(o._context.displayName||"Context")+".Consumer";case V:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case I:return c=o.displayName||null,c!==null?c:de(o.type)||"Memo";case q:c=o._payload,o=o._init;try{return de(o(c))}catch{}}return null}var xe=Array.isArray,oe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Le=[],Ne=-1;function ee(o){return{current:o}}function O(o){0>Ne||(o.current=Le[Ne],Le[Ne]=null,Ne--)}function G(o,c){Ne++,Le[Ne]=o.current,o.current=c}var H=ee(null),Y=ee(null),se=ee(null),Ae=ee(null);function Oe(o,c){switch(G(se,c),G(Y,o),G(H,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?mw(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=mw(c),o=gw(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}O(H),G(H,o)}function Re(){O(H),O(Y),O(se)}function Ie(o){o.memoizedState!==null&&G(Ae,o);var c=H.current,d=gw(c,o.type);c!==d&&(G(Y,o),G(H,d))}function ot(o){Y.current===o&&(O(H),O(Y)),Ae.current===o&&(O(Ae),Qd._currentValue=_e)}var it,Tt;function Nt(o){if(it===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);it=c&&c[1]||"",Tt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+o+Tt}var we=!1;function yt(o,c){if(!o||we)return"";we=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(nt){var rt=nt}Reflect.construct(o,[],vt)}else{try{vt.call()}catch(nt){rt=nt}o.call(vt.prototype)}}else{try{throw Error()}catch(nt){rt=nt}(vt=o())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(nt){if(nt&&rt&&typeof nt.stack=="string")return[nt.stack,rt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=g.DetermineComponentFrameRoot(),W=N[0],fe=N[1];if(W&&fe){var ke=W.split(`
`),et=fe.split(`
`);for(E=g=0;g<ke.length&&!ke[g].includes("DetermineComponentFrameRoot");)g++;for(;E<et.length&&!et[E].includes("DetermineComponentFrameRoot");)E++;if(g===ke.length||E===et.length)for(g=ke.length-1,E=et.length-1;1<=g&&0<=E&&ke[g]!==et[E];)E--;for(;1<=g&&0<=E;g--,E--)if(ke[g]!==et[E]){if(g!==1||E!==1)do if(g--,E--,0>E||ke[g]!==et[E]){var ut=`
`+ke[g].replace(" at new "," at ");return o.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",o.displayName)),ut}while(1<=g&&0<=E);break}}}finally{we=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Nt(d):""}function xt(o,c){switch(o.tag){case 26:case 27:case 5:return Nt(o.type);case 16:return Nt("Lazy");case 13:return o.child!==c&&c!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return yt(o.type,!1);case 11:return yt(o.type.render,!1);case 1:return yt(o.type,!0);case 31:return Nt("Activity");default:return""}}function zt(o){try{var c="",d=null;do c+=xt(o,d),d=o,o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var dt=Object.prototype.hasOwnProperty,Vt=t.unstable_scheduleCallback,jt=t.unstable_cancelCallback,sr=t.unstable_shouldYield,Xt=t.unstable_requestPaint,Jt=t.unstable_now,Er=t.unstable_getCurrentPriorityLevel,dr=t.unstable_ImmediatePriority,Nr=t.unstable_UserBlockingPriority,or=t.unstable_NormalPriority,Ft=t.unstable_LowPriority,_r=t.unstable_IdlePriority,Wt=t.log,yn=t.unstable_setDisableYieldValue,Mr=null,Gt=null;function pr(o){if(typeof Wt=="function"&&yn(o),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Mr,o)}catch{}}var Dr=Math.clz32?Math.clz32:cr,Yt=Math.log,ln=Math.LN2;function cr(o){return o>>>=0,o===0?32:31-(Yt(o)/ln|0)|0}var ur=256,en=262144,xr=4194304;function Zt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Gr(o,c,d){var g=o.pendingLanes;if(g===0)return 0;var E=0,N=o.suspendedLanes,W=o.pingedLanes;o=o.warmLanes;var fe=g&134217727;return fe!==0?(g=fe&~N,g!==0?E=Zt(g):(W&=fe,W!==0?E=Zt(W):d||(d=fe&~o,d!==0&&(E=Zt(d))))):(fe=g&~N,fe!==0?E=Zt(fe):W!==0?E=Zt(W):d||(d=g&~o,d!==0&&(E=Zt(d)))),E===0?0:c!==0&&c!==E&&(c&N)===0&&(N=E&-E,d=c&-c,N>=d||N===32&&(d&4194048)!==0)?c:E}function Ea(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function ci(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(){var o=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),o}function Ci(o){for(var c=[],d=0;31>d;d++)c.push(o);return c}function Qt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ja(o,c,d,g,E,N){var W=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var fe=o.entanglements,ke=o.expirationTimes,et=o.hiddenUpdates;for(d=W&~d;0<d;){var ut=31-Dr(d),vt=1<<ut;fe[ut]=0,ke[ut]=-1;var rt=et[ut];if(rt!==null)for(et[ut]=null,ut=0;ut<rt.length;ut++){var nt=rt[ut];nt!==null&&(nt.lane&=-536870913)}d&=~vt}g!==0&&Ua(o,g,0),N!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=N&~(W&~c))}function Ua(o,c,d){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-Dr(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|d&261930}function Ce(o,c){var d=o.entangledLanes|=c;for(o=o.entanglements;d;){var g=31-Dr(d),E=1<<g;E&c|o[g]&c&&(o[g]|=c),d&=~E}}function Ge(o,c){var d=c&-c;return d=(d&42)!==0?1:qe(d),(d&(o.suspendedLanes|c))!==0?0:d}function qe(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ye(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function K(){var o=be.p;return o!==0?o:(o=window.event,o===void 0?32:Bw(o.type))}function pe(o,c){var d=be.p;try{return be.p=o,c()}finally{be.p=d}}var re=Math.random().toString(36).slice(2),ne="__reactFiber$"+re,he="__reactProps$"+re,ge="__reactContainer$"+re,Pe="__reactEvents$"+re,ze="__reactListeners$"+re,Be="__reactHandles$"+re,Ue="__reactResources$"+re,$e="__reactMarker$"+re;function ht(o){delete o[ne],delete o[he],delete o[Pe],delete o[ze],delete o[Be]}function bt(o){var c=o[ne];if(c)return c;for(var d=o.parentNode;d;){if(c=d[ge]||d[ne]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(o=Sw(o);o!==null;){if(d=o[ne])return d;o=Sw(o)}return c}o=d,d=o.parentNode}return null}function wt(o){if(o=o[ne]||o[ge]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function gt(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function Mt(o){var c=o[Ue];return c||(c=o[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Bt(o){o[$e]=!0}var Hr=new Set,wr={};function nn(o,c){Kn(o,c),Kn(o+"Capture",c)}function Kn(o,c){for(wr[o]=c,o=0;o<c.length;o++)Hr.add(c[o])}var Xn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ea={},Mi={};function Ar(o){return dt.call(Mi,o)?!0:dt.call(ea,o)?!1:Xn.test(o)?Mi[o]=!0:(ea[o]=!0,!1)}function Ut(o,c,d){if(Ar(c))if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+d)}}function qr(o,c,d){if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+d)}}function ri(o,c,d,g){if(g===null)o.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(c,d,""+g)}}function ar(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Aa(o,c,d){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,N=g.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return E.call(this)},set:function(W){d=""+W,N.call(this,W)}}),Object.defineProperty(o,c,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(W){d=""+W},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function yr(o){if(!o._valueTracker){var c=Ta(o)?"checked":"value";o._valueTracker=Aa(o,c,""+o[c])}}function Rn(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var d=c.getValue(),g="";return o&&(g=Ta(o)?o.checked?"true":"false":o.value),o=g,o!==d?(c.setValue(o),!0):!1}function ta(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ni=/[\n"\\]/g;function cn(o){return o.replace(ni,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function rc(o,c,d,g,E,N,W,fe){o.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?o.type=W:o.removeAttribute("type"),c!=null?W==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+ar(c)):o.value!==""+ar(c)&&(o.value=""+ar(c)):W!=="submit"&&W!=="reset"||o.removeAttribute("value"),c!=null?Gs(o,W,ar(c)):d!=null?Gs(o,W,ar(d)):g!=null&&o.removeAttribute("value"),E==null&&N!=null&&(o.defaultChecked=!!N),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?o.name=""+ar(fe):o.removeAttribute("name")}function Al(o,c,d,g,E,N,W,fe){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.type=N),c!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||c!=null)){yr(o);return}d=d!=null?""+ar(d):"",c=c!=null?""+ar(c):d,fe||c===o.value||(o.value=c),o.defaultValue=c}g=g??E,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=fe?o.checked:!!g,o.defaultChecked=!!g,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(o.name=W),yr(o)}function Gs(o,c,d){c==="number"&&ta(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Kr(o,c,d,g){if(o=o.options,c){c={};for(var E=0;E<d.length;E++)c["$"+d[E]]=!0;for(d=0;d<o.length;d++)E=c.hasOwnProperty("$"+o[d].value),o[d].selected!==E&&(o[d].selected=E),E&&g&&(o[d].defaultSelected=!0)}else{for(d=""+ar(d),c=null,E=0;E<o.length;E++){if(o[E].value===d){o[E].selected=!0,g&&(o[E].defaultSelected=!0);return}c!==null||o[E].disabled||(c=o[E])}c!==null&&(c.selected=!0)}}function Hs(o,c,d){if(c!=null&&(c=""+ar(c),c!==o.value&&(o.value=c),d==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=d!=null?""+ar(d):""}function Mo(o,c,d,g){if(c==null){if(g!=null){if(d!=null)throw Error(n(92));if(xe(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),c=d}d=ar(c),o.defaultValue=d,g=o.textContent,g===d&&g!==""&&g!==null&&(o.value=g),yr(o)}function La(o,c){if(c){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=c;return}}o.textContent=c}var ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(o,c,d){var g=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,d):typeof d!="number"||d===0||ko.has(c)?c==="float"?o.cssFloat=d:o[c]=(""+d).trim():o[c]=d+"px"}function nc(o,c,d){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var E in c)g=c[E],c.hasOwnProperty(E)&&d[E]!==g&&il(o,E,g)}else for(var N in c)c.hasOwnProperty(N)&&il(o,N,c[N])}function Ll(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var al=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ic=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(o){return ic.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function za(){}var ro=null;function Po(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var sl=null,Ct=null;function Qa(o){var c=wt(o);if(c&&(o=c.stateNode)){var d=o[he]||null;e:switch(o=c.stateNode,c.type){case"input":if(rc(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+cn(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var g=d[c];if(g!==o&&g.form===o.form){var E=g[he]||null;if(!E)throw Error(n(90));rc(g,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<d.length;c++)g=d[c],g.form===o.form&&Rn(g)}break e;case"textarea":Hs(o,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&Kr(o,!!d.multiple,c,!1)}}}var fn=!1;function Fc(o,c,d){if(fn)return o(c,d);fn=!0;try{var g=o(c);return g}finally{if(fn=!1,(sl!==null||Ct!==null)&&(Xp(),sl&&(c=sl,o=Ct,Ct=sl=null,Qa(c),o)))for(c=0;c<o.length;c++)Qa(o[c])}}function Na(o,c){var d=o.stateNode;if(d===null)return null;var g=d[he]||null;if(g===null)return null;d=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,c,typeof d));return d}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=!1;if(ki)try{var es={};Object.defineProperty(es,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{Nl=!1}var Ca=null,qs=null,Cn=null;function no(){if(Cn)return Cn;var o,c=qs,d=c.length,g,E="value"in Ca?Ca.value:Ca.textContent,N=E.length;for(o=0;o<d&&c[o]===E[o];o++);var W=d-o;for(g=1;g<=W&&c[d-g]===E[N-g];g++);return Cn=E.slice(o,1<g?1-g:void 0)}function ts(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Cl(){return!0}function ac(){return!1}function Pi(o){function c(d,g,E,N,W){this._reactName=d,this._targetInst=E,this.type=g,this.nativeEvent=N,this.target=W,this.currentTarget=null;for(var fe in o)o.hasOwnProperty(fe)&&(d=o[fe],this[fe]=d?d(N):N[fe]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Cl:ac,this.isPropagationStopped=ac,this}return v(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),c}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=Pi(bs),io=v({},bs,{view:0,detail:0}),Br=Pi(io),Ml,Oi,rs,ol=v({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==rs&&(rs&&o.type==="mousemove"?(Ml=o.screenX-rs.screenX,Oi=o.screenY-rs.screenY):Oi=Ml=0,rs=o),Ml)},movementY:function(o){return"movementY"in o?o.movementY:Oi}}),Bc=Pi(ol),Vs=v({},ol,{dataTransfer:0}),Oo=Pi(Vs),Uc=v({},io,{relatedTarget:0}),Ro=Pi(Uc),yu=v({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),P=Pi(yu),Q=v({},bs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Se=Pi(Q),De=v({},bs,{data:0}),Ve=Pi(De),at={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},St={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function er(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=$t[o])?!!c[o]:!1}function br(){return er}var kr=v({},io,{key:function(o){if(o.key){var c=at[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=ts(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?St[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(o){return o.type==="keypress"?ts(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ts(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Xr=Pi(kr),Jn=v({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ui=Pi(Jn),xn=v({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),Ri=Pi(xn),hi=v({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fi=Pi(hi),Es=v({},ol,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ra=Pi(Es),Do=v({},bs,{newState:0,oldState:0}),jo=Pi(Do),na=[9,13,27,32],$s=ki&&"CompositionEvent"in window,Ts=null;ki&&"documentMode"in document&&(Ts=document.documentMode);var kl=ki&&"TextEvent"in window&&!Ts,Ws=ki&&(!$s||Ts&&8<Ts&&11>=Ts),xi=" ",ll=!1;function cl(o,c){switch(o){case"keyup":return na.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pl(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ao=!1;function Dn(o,c){switch(o){case"compositionend":return Pl(c);case"keypress":return c.which!==32?null:(ll=!0,xi);case"textInput":return o=c.data,o===xi&&ll?null:o;default:return null}}function Ga(o,c){if(ao)return o==="compositionend"||!$s&&cl(o,c)?(o=no(),Cn=qs=Ca=null,ao=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ws&&c.locale!=="ko"?null:c.data;default:return null}}var sc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ns(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!sc[o.type]:c==="textarea"}function is(o,c,d,g){sl?Ct?Ct.push(g):Ct=[g]:sl=g,c=im(c,"onChange"),0<c.length&&(d=new Ss("onChange","change",null,d,g),o.push({event:d,listeners:c}))}var pa=null,Io=null;function Fo(o){cw(o,0)}function As(o){var c=gt(o);if(Rn(c))return o}function Zs(o,c){if(o==="change")return c}var Ha=!1;if(ki){var ii;if(ki){var as="oninput"in document;if(!as){var so=document.createElement("div");so.setAttribute("oninput","return;"),as=typeof so.oninput=="function"}ii=as}else ii=!1;Ha=ii&&(!document.documentMode||9<document.documentMode)}function Ys(){pa&&(pa.detachEvent("onpropertychange",oc),Io=pa=null)}function oc(o){if(o.propertyName==="value"&&As(Io)){var c=[];is(c,Io,o,Po(o)),Fc(Fo,c)}}function qa(o,c,d){o==="focusin"?(Ys(),pa=c,Io=d,pa.attachEvent("onpropertychange",oc)):o==="focusout"&&Ys()}function fi(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return As(Io)}function Bo(o,c){if(o==="click")return As(c)}function oo(o,c){if(o==="input"||o==="change")return As(c)}function Bi(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var wi=typeof Object.is=="function"?Object.is:Bi;function lo(o,c){if(wi(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var d=Object.keys(o),g=Object.keys(c);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var E=d[g];if(!dt.call(c,E)||!wi(o[E],c[E]))return!1}return!0}function ul(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Uo(o,c){var d=ul(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=c&&g>=c)return{node:d,offset:c-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=ul(d)}}function Ks(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Ks(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Ls(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=ta(o.document);c instanceof o.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)o=c.contentWindow;else break;c=ta(o.document)}return c}function Ma(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var co=ki&&"documentMode"in document&&11>=document.documentMode,ka=null,uo=null,ma=null,Pa=!1;function un(o,c,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Pa||ka==null||ka!==ta(g)||(g=ka,"selectionStart"in g&&Ma(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ma&&lo(ma,g)||(ma=g,g=im(uo,"onSelect"),0<g.length&&(c=new Ss("onSelect","select",null,c,d),o.push({event:c,listeners:g}),c.target=ka)))}function Jr(o,c){var d={};return d[o.toLowerCase()]=c.toLowerCase(),d["Webkit"+o]="webkit"+c,d["Moz"+o]="moz"+c,d}var Mn={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},ai={},ho={};ki&&(ho=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function bi(o){if(ai[o])return ai[o];if(!Mn[o])return o;var c=Mn[o],d;for(d in c)if(c.hasOwnProperty(d)&&d in ho)return ai[o]=c[d];return o}var fo=bi("animationend"),zc=bi("animationiteration"),lc=bi("animationstart"),tf=bi("transitionrun"),hh=bi("transitionstart"),rf=bi("transitioncancel"),Ol=bi("transitionend"),fh=new Map,Ns="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ns.push("scrollEnd");function ss(o,c){fh.set(o,c),nn(c,[o])}var cc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},os=[],Oa=0,Gc=0;function uc(){for(var o=Oa,c=Gc=Oa=0;c<o;){var d=os[c];os[c++]=null;var g=os[c];os[c++]=null;var E=os[c];os[c++]=null;var N=os[c];if(os[c++]=null,g!==null&&E!==null){var W=g.pending;W===null?E.next=E:(E.next=W.next,W.next=E),g.pending=E}N!==0&&Go(d,E,N)}}function zo(o,c,d,g){os[Oa++]=o,os[Oa++]=c,os[Oa++]=d,os[Oa++]=g,Gc|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function xu(o,c,d,g){return zo(o,c,d,g),ia(o)}function Cs(o,c){return zo(o,null,null,c),ia(o)}function Go(o,c,d){o.lanes|=d;var g=o.alternate;g!==null&&(g.lanes|=d);for(var E=!1,N=o.return;N!==null;)N.childLanes|=d,g=N.alternate,g!==null&&(g.childLanes|=d),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(E=!0)),o=N,N=N.return;return o.tag===3?(N=o.stateNode,E&&c!==null&&(E=31-Dr(d),o=N.hiddenUpdates,g=o[E],g===null?o[E]=[c]:g.push(c),c.lane=d|536870912),N):null}function ia(o){if(50<$d)throw $d=0,Jg=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Ui={};function wu(o,c,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(o,c,d,g){return new wu(o,c,d,g)}function Hc(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ls(o,c){var d=o.alternate;return d===null?(d=aa(o.tag,c,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=c,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,c=o.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function hc(o,c){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,c=d.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Rl(o,c,d,g,E,N){var W=0;if(g=o,typeof o=="function")Hc(o)&&(W=1);else if(typeof o=="string")W=cA(o,d,H.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case F:return o=aa(31,d,c,E),o.elementType=F,o.lanes=N,o;case S:return hl(d.children,E,N,c);case C:W=8,E|=24;break;case M:return o=aa(12,d,c,E|2),o.elementType=M,o.lanes=N,o;case X:return o=aa(13,d,c,E),o.elementType=X,o.lanes=N,o;case ce:return o=aa(19,d,c,E),o.elementType=ce,o.lanes=N,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case j:W=10;break e;case D:W=9;break e;case V:W=11;break e;case I:W=14;break e;case q:W=16,g=null;break e}W=29,d=Error(n(130,o===null?"null":typeof o,"")),g=null}return c=aa(W,d,c,E),c.elementType=o,c.type=g,c.lanes=N,c}function hl(o,c,d,g){return o=aa(7,o,g,c),o.lanes=d,o}function fc(o,c,d){return o=aa(6,o,null,c),o.lanes=d,o}function qc(o){var c=aa(18,null,null,0);return c.stateNode=o,c}function dc(o,c,d){return c=aa(4,o.children!==null?o.children:[],o.key,c),c.lanes=d,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var h=new WeakMap;function m(o,c){if(typeof o=="object"&&o!==null){var d=h.get(o);return d!==void 0?d:(c={value:o,source:c,stack:zt(c)},h.set(o,c),c)}return{value:o,source:c,stack:zt(c)}}var b=[],k=0,z=null,ae=0,Me=[],We=0,tt=null,pt=1,kt="";function tr(o,c){b[k++]=ae,b[k++]=z,z=o,ae=c}function Ur(o,c,d){Me[We++]=pt,Me[We++]=kt,Me[We++]=tt,tt=o;var g=pt;o=kt;var E=32-Dr(g)-1;g&=~(1<<E),d+=1;var N=32-Dr(c)+E;if(30<N){var W=E-E%5;N=(g&(1<<W)-1).toString(32),g>>=W,E-=W,pt=1<<32-Dr(c)+E|d<<E|g,kt=N+o}else pt=1<<N|d<<E|g,kt=o}function sa(o){o.return!==null&&(tr(o,1),Ur(o,1,0))}function di(o){for(;o===z;)z=b[--k],b[k]=null,ae=b[--k],b[k]=null;for(;o===tt;)tt=Me[--We],Me[We]=null,kt=Me[--We],Me[We]=null,pt=Me[--We],Me[We]=null}function cs(o,c){Me[We++]=pt,Me[We++]=kt,Me[We++]=tt,pt=c.id,kt=c.overflow,tt=o}var dn=null,pn=null,Zr=!1,Ra=null,si=!1,Ms=Error(n(519));function fl(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pc(m(c,o)),Ms}function bu(o){var c=o.stateNode,d=o.type,g=o.memoizedProps;switch(c[ne]=o,c[he]=g,d){case"dialog":rn("cancel",c),rn("close",c);break;case"iframe":case"object":case"embed":rn("load",c);break;case"video":case"audio":for(d=0;d<Zd.length;d++)rn(Zd[d],c);break;case"source":rn("error",c);break;case"img":case"image":case"link":rn("error",c),rn("load",c);break;case"details":rn("toggle",c);break;case"input":rn("invalid",c),Al(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":rn("invalid",c);break;case"textarea":rn("invalid",c),Mo(c,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||g.suppressHydrationWarning===!0||dw(c.textContent,d)?(g.popover!=null&&(rn("beforetoggle",c),rn("toggle",c)),g.onScroll!=null&&rn("scroll",c),g.onScrollEnd!=null&&rn("scrollend",c),g.onClick!=null&&(c.onclick=za),c=!0):c=!1,c||fl(o,!0)}function wn(o){for(dn=o.return;dn;)switch(dn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:dn=dn.return}}function Si(o){if(o!==dn)return!1;if(!Zr)return wn(o),Zr=!0,!1;var c=o.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||dv(o.type,o.memoizedProps)),d=!d),d&&pn&&fl(o),wn(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));pn=bw(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));pn=bw(o)}else c===27?(c=pn,ju(o.type)?(o=_v,_v=null,pn=o):pn=c):pn=dn?ml(o.stateNode.nextSibling):null;return!0}function Dl(){pn=dn=null,Zr=!1}function dh(){var o=Ra;return o!==null&&(xo===null?xo=o:xo.push.apply(xo,o),Ra=null),o}function pc(o){Ra===null?Ra=[o]:Ra.push(o)}var mc=ee(null),Ho=null,po=null;function gc(o,c,d){G(mc,c._currentValue),c._currentValue=d}function mo(o){o._currentValue=mc.current,O(mc)}function Su(o,c,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===d)break;o=o.return}}function Vc(o,c,d,g){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var N=E.dependencies;if(N!==null){var W=E.child;N=N.firstContext;e:for(;N!==null;){var fe=N;N=E;for(var ke=0;ke<c.length;ke++)if(fe.context===c[ke]){N.lanes|=d,fe=N.alternate,fe!==null&&(fe.lanes|=d),Su(N.return,d,o),g||(W=null);break e}N=fe.next}}else if(E.tag===18){if(W=E.return,W===null)throw Error(n(341));W.lanes|=d,N=W.alternate,N!==null&&(N.lanes|=d),Su(W,d,o),W=null}else W=E.child;if(W!==null)W.return=E;else for(W=E;W!==null;){if(W===o){W=null;break}if(E=W.sibling,E!==null){E.return=W.return,W=E;break}W=W.return}E=W}}function vc(o,c,d,g){o=null;for(var E=c,N=!1;E!==null;){if(!N){if((E.flags&524288)!==0)N=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var W=E.alternate;if(W===null)throw Error(n(387));if(W=W.memoizedProps,W!==null){var fe=E.type;wi(E.pendingProps.value,W.value)||(o!==null?o.push(fe):o=[fe])}}else if(E===Ae.current){if(W=E.alternate,W===null)throw Error(n(387));W.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(Qd):o=[Qd])}E=E.return}o!==null&&Vc(c,o,d,g),c.flags|=262144}function nf(o){for(o=o.firstContext;o!==null;){if(!wi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function _c(o){Ho=o,po=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Da(o){return Pp(Ho,o)}function af(o,c){return Ho===null&&_c(o),Pp(o,c)}function Pp(o,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},po===null){if(o===null)throw Error(n(308));po=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else po=po.next=c;return d}var vg=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(d,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(d){return d()})}},_g=t.unstable_scheduleCallback,yg=t.unstable_NormalPriority,Di={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eu(){return{controller:new vg,data:new Map,refCount:0}}function ph(o){o.refCount--,o.refCount===0&&_g(yg,function(){o.controller.abort()})}var mh=null,sf=0,w=0,A=null;function R(o,c){if(mh===null){var d=mh=[];sf=0,w=iv(),A={status:"pending",value:void 0,then:function(g){d.push(g)}}}return sf++,c.then(U,U),c}function U(){if(--sf===0&&mh!==null){A!==null&&(A.status="fulfilled");var o=mh;mh=null,w=0,A=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function te(o,c){var d=[],g={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var E=0;E<d.length;E++)(0,d[E])(c)},function(E){for(g.status="rejected",g.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),g}var ie=oe.S;oe.S=function(o,c){Ix=Jt(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&R(o,c),ie!==null&&ie(o,c)};var le=ee(null);function me(){var o=le.current;return o!==null?o:ei.pooledCache}function ye(o,c){c===null?G(le,le.current):G(le,c.pool)}function Te(){var o=me();return o===null?null:{parent:Di._currentValue,pool:o}}var je=Error(n(460)),Je=Error(n(474)),Ee=Error(n(542)),He={then:function(){}};function Ke(o){return o=o.status,o==="fulfilled"||o==="rejected"}function lt(o,c,d){switch(d=o[d],d===void 0?o.push(c):d!==c&&(c.then(za,za),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Lt(o),o;default:if(typeof c.status=="string")c.then(za,za);else{if(o=ei,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=g}},function(g){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Lt(o),o}throw st=c,je}}function Xe(o){try{var c=o._init;return c(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(st=d,je):d}}var st=null;function ft(){if(st===null)throw Error(n(459));var o=st;return st=null,o}function Lt(o){if(o===je||o===Ee)throw Error(n(483))}var _t=null,nr=0;function Ht(o){var c=nr;return nr+=1,_t===null&&(_t=[]),lt(_t,o,c)}function Pr(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Kt(o,c){throw c.$$typeof===y?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Qr(o){function c(Ze,Fe){if(o){var Qe=Ze.deletions;Qe===null?(Ze.deletions=[Fe],Ze.flags|=16):Qe.push(Fe)}}function d(Ze,Fe){if(!o)return null;for(;Fe!==null;)c(Ze,Fe),Fe=Fe.sibling;return null}function g(Ze){for(var Fe=new Map;Ze!==null;)Ze.key!==null?Fe.set(Ze.key,Ze):Fe.set(Ze.index,Ze),Ze=Ze.sibling;return Fe}function E(Ze,Fe){return Ze=ls(Ze,Fe),Ze.index=0,Ze.sibling=null,Ze}function N(Ze,Fe,Qe){return Ze.index=Qe,o?(Qe=Ze.alternate,Qe!==null?(Qe=Qe.index,Qe<Fe?(Ze.flags|=67108866,Fe):Qe):(Ze.flags|=67108866,Fe)):(Ze.flags|=1048576,Fe)}function W(Ze){return o&&Ze.alternate===null&&(Ze.flags|=67108866),Ze}function fe(Ze,Fe,Qe,mt){return Fe===null||Fe.tag!==6?(Fe=fc(Qe,Ze.mode,mt),Fe.return=Ze,Fe):(Fe=E(Fe,Qe),Fe.return=Ze,Fe)}function ke(Ze,Fe,Qe,mt){var vr=Qe.type;return vr===S?ut(Ze,Fe,Qe.props.children,mt,Qe.key):Fe!==null&&(Fe.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===q&&Xe(vr)===Fe.type)?(Fe=E(Fe,Qe.props),Pr(Fe,Qe),Fe.return=Ze,Fe):(Fe=Rl(Qe.type,Qe.key,Qe.props,null,Ze.mode,mt),Pr(Fe,Qe),Fe.return=Ze,Fe)}function et(Ze,Fe,Qe,mt){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Qe.containerInfo||Fe.stateNode.implementation!==Qe.implementation?(Fe=dc(Qe,Ze.mode,mt),Fe.return=Ze,Fe):(Fe=E(Fe,Qe.children||[]),Fe.return=Ze,Fe)}function ut(Ze,Fe,Qe,mt,vr){return Fe===null||Fe.tag!==7?(Fe=hl(Qe,Ze.mode,mt,vr),Fe.return=Ze,Fe):(Fe=E(Fe,Qe),Fe.return=Ze,Fe)}function vt(Ze,Fe,Qe){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=fc(""+Fe,Ze.mode,Qe),Fe.return=Ze,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case _:return Qe=Rl(Fe.type,Fe.key,Fe.props,null,Ze.mode,Qe),Pr(Qe,Fe),Qe.return=Ze,Qe;case T:return Fe=dc(Fe,Ze.mode,Qe),Fe.return=Ze,Fe;case q:return Fe=Xe(Fe),vt(Ze,Fe,Qe)}if(xe(Fe)||Z(Fe))return Fe=hl(Fe,Ze.mode,Qe,null),Fe.return=Ze,Fe;if(typeof Fe.then=="function")return vt(Ze,Ht(Fe),Qe);if(Fe.$$typeof===j)return vt(Ze,af(Ze,Fe),Qe);Kt(Ze,Fe)}return null}function rt(Ze,Fe,Qe,mt){var vr=Fe!==null?Fe.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return vr!==null?null:fe(Ze,Fe,""+Qe,mt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case _:return Qe.key===vr?ke(Ze,Fe,Qe,mt):null;case T:return Qe.key===vr?et(Ze,Fe,Qe,mt):null;case q:return Qe=Xe(Qe),rt(Ze,Fe,Qe,mt)}if(xe(Qe)||Z(Qe))return vr!==null?null:ut(Ze,Fe,Qe,mt,null);if(typeof Qe.then=="function")return rt(Ze,Fe,Ht(Qe),mt);if(Qe.$$typeof===j)return rt(Ze,Fe,af(Ze,Qe),mt);Kt(Ze,Qe)}return null}function nt(Ze,Fe,Qe,mt,vr){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Ze=Ze.get(Qe)||null,fe(Fe,Ze,""+mt,vr);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case _:return Ze=Ze.get(mt.key===null?Qe:mt.key)||null,ke(Fe,Ze,mt,vr);case T:return Ze=Ze.get(mt.key===null?Qe:mt.key)||null,et(Fe,Ze,mt,vr);case q:return mt=Xe(mt),nt(Ze,Fe,Qe,mt,vr)}if(xe(mt)||Z(mt))return Ze=Ze.get(Qe)||null,ut(Fe,Ze,mt,vr,null);if(typeof mt.then=="function")return nt(Ze,Fe,Qe,Ht(mt),vr);if(mt.$$typeof===j)return nt(Ze,Fe,Qe,af(Fe,mt),vr);Kt(Fe,mt)}return null}function rr(Ze,Fe,Qe,mt){for(var vr=null,bn=null,lr=Fe,Vr=Fe=0,sn=null;lr!==null&&Vr<Qe.length;Vr++){lr.index>Vr?(sn=lr,lr=null):sn=lr.sibling;var Sn=rt(Ze,lr,Qe[Vr],mt);if(Sn===null){lr===null&&(lr=sn);break}o&&lr&&Sn.alternate===null&&c(Ze,lr),Fe=N(Sn,Fe,Vr),bn===null?vr=Sn:bn.sibling=Sn,bn=Sn,lr=sn}if(Vr===Qe.length)return d(Ze,lr),Zr&&tr(Ze,Vr),vr;if(lr===null){for(;Vr<Qe.length;Vr++)lr=vt(Ze,Qe[Vr],mt),lr!==null&&(Fe=N(lr,Fe,Vr),bn===null?vr=lr:bn.sibling=lr,bn=lr);return Zr&&tr(Ze,Vr),vr}for(lr=g(lr);Vr<Qe.length;Vr++)sn=nt(lr,Ze,Vr,Qe[Vr],mt),sn!==null&&(o&&sn.alternate!==null&&lr.delete(sn.key===null?Vr:sn.key),Fe=N(sn,Fe,Vr),bn===null?vr=sn:bn.sibling=sn,bn=sn);return o&&lr.forEach(function(zu){return c(Ze,zu)}),Zr&&tr(Ze,Vr),vr}function Tr(Ze,Fe,Qe,mt){if(Qe==null)throw Error(n(151));for(var vr=null,bn=null,lr=Fe,Vr=Fe=0,sn=null,Sn=Qe.next();lr!==null&&!Sn.done;Vr++,Sn=Qe.next()){lr.index>Vr?(sn=lr,lr=null):sn=lr.sibling;var zu=rt(Ze,lr,Sn.value,mt);if(zu===null){lr===null&&(lr=sn);break}o&&lr&&zu.alternate===null&&c(Ze,lr),Fe=N(zu,Fe,Vr),bn===null?vr=zu:bn.sibling=zu,bn=zu,lr=sn}if(Sn.done)return d(Ze,lr),Zr&&tr(Ze,Vr),vr;if(lr===null){for(;!Sn.done;Vr++,Sn=Qe.next())Sn=vt(Ze,Sn.value,mt),Sn!==null&&(Fe=N(Sn,Fe,Vr),bn===null?vr=Sn:bn.sibling=Sn,bn=Sn);return Zr&&tr(Ze,Vr),vr}for(lr=g(lr);!Sn.done;Vr++,Sn=Qe.next())Sn=nt(lr,Ze,Vr,Sn.value,mt),Sn!==null&&(o&&Sn.alternate!==null&&lr.delete(Sn.key===null?Vr:Sn.key),Fe=N(Sn,Fe,Vr),bn===null?vr=Sn:bn.sibling=Sn,bn=Sn);return o&&lr.forEach(function(xA){return c(Ze,xA)}),Zr&&tr(Ze,Vr),vr}function Wn(Ze,Fe,Qe,mt){if(typeof Qe=="object"&&Qe!==null&&Qe.type===S&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case _:e:{for(var vr=Qe.key;Fe!==null;){if(Fe.key===vr){if(vr=Qe.type,vr===S){if(Fe.tag===7){d(Ze,Fe.sibling),mt=E(Fe,Qe.props.children),mt.return=Ze,Ze=mt;break e}}else if(Fe.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===q&&Xe(vr)===Fe.type){d(Ze,Fe.sibling),mt=E(Fe,Qe.props),Pr(mt,Qe),mt.return=Ze,Ze=mt;break e}d(Ze,Fe);break}else c(Ze,Fe);Fe=Fe.sibling}Qe.type===S?(mt=hl(Qe.props.children,Ze.mode,mt,Qe.key),mt.return=Ze,Ze=mt):(mt=Rl(Qe.type,Qe.key,Qe.props,null,Ze.mode,mt),Pr(mt,Qe),mt.return=Ze,Ze=mt)}return W(Ze);case T:e:{for(vr=Qe.key;Fe!==null;){if(Fe.key===vr)if(Fe.tag===4&&Fe.stateNode.containerInfo===Qe.containerInfo&&Fe.stateNode.implementation===Qe.implementation){d(Ze,Fe.sibling),mt=E(Fe,Qe.children||[]),mt.return=Ze,Ze=mt;break e}else{d(Ze,Fe);break}else c(Ze,Fe);Fe=Fe.sibling}mt=dc(Qe,Ze.mode,mt),mt.return=Ze,Ze=mt}return W(Ze);case q:return Qe=Xe(Qe),Wn(Ze,Fe,Qe,mt)}if(xe(Qe))return rr(Ze,Fe,Qe,mt);if(Z(Qe)){if(vr=Z(Qe),typeof vr!="function")throw Error(n(150));return Qe=vr.call(Qe),Tr(Ze,Fe,Qe,mt)}if(typeof Qe.then=="function")return Wn(Ze,Fe,Ht(Qe),mt);if(Qe.$$typeof===j)return Wn(Ze,Fe,af(Ze,Qe),mt);Kt(Ze,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint"?(Qe=""+Qe,Fe!==null&&Fe.tag===6?(d(Ze,Fe.sibling),mt=E(Fe,Qe),mt.return=Ze,Ze=mt):(d(Ze,Fe),mt=fc(Qe,Ze.mode,mt),mt.return=Ze,Ze=mt),W(Ze)):d(Ze,Fe)}return function(Ze,Fe,Qe,mt){try{nr=0;var vr=Wn(Ze,Fe,Qe,mt);return _t=null,vr}catch(lr){if(lr===je||lr===Ee)throw lr;var bn=aa(29,lr,null,Ze.mode);return bn.lanes=mt,bn.return=Ze,bn}}}var Qn=Qr(!0),jr=Qr(!1),qt=!1;function Rt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pi(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Sr(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function zr(o,c,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Ln&2)!==0){var E=g.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),g.pending=c,c=ia(o),Go(o,null,d),c}return zo(o,g,c,d),ia(o)}function Tn(o,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,d|=g,c.lanes=d,Ce(o,d)}}function oa(o,c){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var E=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var W={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?E=N=W:N=N.next=W,d=d.next}while(d!==null);N===null?E=N=c:N=N.next=c}else E=N=c;d={baseState:g.baseState,firstBaseUpdate:E,lastBaseUpdate:N,shared:g.shared,callbacks:g.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=c}var ja=!1;function qn(){if(ja){var o=A;if(o!==null)throw o}}function zi(o,c,d,g){ja=!1;var E=o.updateQueue;qt=!1;var N=E.firstBaseUpdate,W=E.lastBaseUpdate,fe=E.shared.pending;if(fe!==null){E.shared.pending=null;var ke=fe,et=ke.next;ke.next=null,W===null?N=et:W.next=et,W=ke;var ut=o.alternate;ut!==null&&(ut=ut.updateQueue,fe=ut.lastBaseUpdate,fe!==W&&(fe===null?ut.firstBaseUpdate=et:fe.next=et,ut.lastBaseUpdate=ke))}if(N!==null){var vt=E.baseState;W=0,ut=et=ke=null,fe=N;do{var rt=fe.lane&-536870913,nt=rt!==fe.lane;if(nt?(an&rt)===rt:(g&rt)===rt){rt!==0&&rt===w&&(ja=!0),ut!==null&&(ut=ut.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var rr=o,Tr=fe;rt=c;var Wn=d;switch(Tr.tag){case 1:if(rr=Tr.payload,typeof rr=="function"){vt=rr.call(Wn,vt,rt);break e}vt=rr;break e;case 3:rr.flags=rr.flags&-65537|128;case 0:if(rr=Tr.payload,rt=typeof rr=="function"?rr.call(Wn,vt,rt):rr,rt==null)break e;vt=v({},vt,rt);break e;case 2:qt=!0}}rt=fe.callback,rt!==null&&(o.flags|=64,nt&&(o.flags|=8192),nt=E.callbacks,nt===null?E.callbacks=[rt]:nt.push(rt))}else nt={lane:rt,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},ut===null?(et=ut=nt,ke=vt):ut=ut.next=nt,W|=rt;if(fe=fe.next,fe===null){if(fe=E.shared.pending,fe===null)break;nt=fe,fe=nt.next,nt.next=null,E.lastBaseUpdate=nt,E.shared.pending=null}}while(!0);ut===null&&(ke=vt),E.baseState=ke,E.firstBaseUpdate=et,E.lastBaseUpdate=ut,N===null&&(E.shared.lanes=0),ku|=W,o.lanes=W,o.memoizedState=vt}}function Va(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function Gi(o,c){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)Va(d[o],c)}var $r=ee(null),mn=ee(0);function mi(o,c){o=tu,G(mn,o),G($r,c),tu=o|c.baseLanes}function _n(){G(mn,tu),G($r,$r.current)}function la(){tu=mn.current,O($r),O(mn)}var gi=ee(null),gn=null;function ji(o){var c=o.alternate;G(hn,hn.current&1),G(gi,o),gn===null&&(c===null||$r.current!==null||c.memoizedState!==null)&&(gn=o)}function An(o){G(hn,hn.current),G(gi,o),gn===null&&(gn=o)}function Hi(o){o.tag===22?(G(hn,hn.current),G(gi,o),gn===null&&(gn=o)):qi()}function qi(){G(hn,hn.current),G(gi,gi.current)}function jn(o){O(gi),gn===o&&(gn=null),O(hn)}var hn=ee(0);function $a(o){for(var c=o;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||gv(d)||vv(d)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ei=0,mr=null,gr=null,vn=null,ks=!1,go=!1,us=!1,Vi=0,yc=0,xc=null,of=0;function Vn(){throw Error(n(321))}function Nd(o,c){if(c===null)return!1;for(var d=0;d<c.length&&d<o.length;d++)if(!wi(o[d],c[d]))return!1;return!0}function Cd(o,c,d,g,E,N){return Ei=N,mr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,oe.H=o===null||o.memoizedState===null?Zy:Lg,us=!1,N=d(g,E),us=!1,go&&(N=jl(c,d,g,E)),lf(o),N}function lf(o){oe.H=Id;var c=gr!==null&&gr.next!==null;if(Ei=0,vn=gr=mr=null,ks=!1,yc=0,xc=null,c)throw Error(n(300));o===null||va||(o=o.dependencies,o!==null&&nf(o)&&(va=!0))}function jl(o,c,d,g){mr=o;var E=0;do{if(go&&(xc=null),yc=0,go=!1,25<=E)throw Error(n(301));if(E+=1,vn=gr=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}oe.H=Yy,N=c(d,g)}while(go);return N}function xg(){var o=oe.H,c=o.useState()[0];return c=typeof c.then=="function"?wc(c):c,o=o.useState()[0],(gr!==null?gr.memoizedState:null)!==o&&(mr.flags|=1024),c}function Md(){var o=Vi!==0;return Vi=0,o}function kd(o,c,d){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~d}function cf(o){if(ks){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}ks=!1}Ei=0,vn=gr=mr=null,go=!1,yc=Vi=0,xc=null}function ga(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?mr.memoizedState=vn=o:vn=vn.next=o,vn}function Ti(){if(gr===null){var o=mr.alternate;o=o!==null?o.memoizedState:null}else o=gr.next;var c=vn===null?mr.memoizedState:vn.next;if(c!==null)vn=c,gr=o;else{if(o===null)throw mr.alternate===null?Error(n(467)):Error(n(310));gr=o,o={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},vn===null?mr.memoizedState=vn=o:vn=vn.next=o}return vn}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wc(o){var c=yc;return yc+=1,xc===null&&(xc=[]),o=lt(xc,o,c),c=mr,(vn===null?c.memoizedState:vn.next)===null&&(c=c.alternate,oe.H=c===null||c.memoizedState===null?Zy:Lg),o}function Tu(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return wc(o);if(o.$$typeof===j)return Da(o)}throw Error(n(438,String(o)))}function $c(o){var c=null,d=mr.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var g=mr.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=gh(),mr.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(o),g=0;g<o;g++)d[g]=J;return c.index++,d}function dl(o,c){return typeof c=="function"?c(o):c}function uf(o){var c=Ti();return Au(c,gr,o)}function Au(o,c,d){var g=o.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var E=o.baseQueue,N=g.pending;if(N!==null){if(E!==null){var W=E.next;E.next=N.next,N.next=W}c.baseQueue=E=N,g.pending=null}if(N=o.baseState,E===null)o.memoizedState=N;else{c=E.next;var fe=W=null,ke=null,et=c,ut=!1;do{var vt=et.lane&-536870913;if(vt!==et.lane?(an&vt)===vt:(Ei&vt)===vt){var rt=et.revertLane;if(rt===0)ke!==null&&(ke=ke.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),vt===w&&(ut=!0);else if((Ei&rt)===rt){et=et.next,rt===w&&(ut=!0);continue}else vt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},ke===null?(fe=ke=vt,W=N):ke=ke.next=vt,mr.lanes|=rt,ku|=rt;vt=et.action,us&&d(N,vt),N=et.hasEagerState?et.eagerState:d(N,vt)}else rt={lane:vt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},ke===null?(fe=ke=rt,W=N):ke=ke.next=rt,mr.lanes|=vt,ku|=vt;et=et.next}while(et!==null&&et!==c);if(ke===null?W=N:ke.next=fe,!wi(N,o.memoizedState)&&(va=!0,ut&&(d=A,d!==null)))throw d;o.memoizedState=N,o.baseState=W,o.baseQueue=ke,g.lastRenderedState=N}return E===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function hf(o){var c=Ti(),d=c.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var g=d.dispatch,E=d.pending,N=c.memoizedState;if(E!==null){d.pending=null;var W=E=E.next;do N=o(N,W.action),W=W.next;while(W!==E);wi(N,c.memoizedState)||(va=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),d.lastRenderedState=N}return[N,g]}function ff(o,c,d){var g=mr,E=Ti(),N=Zr;if(N){if(d===void 0)throw Error(n(407));d=d()}else d=c();var W=!wi((gr||E).memoizedState,d);if(W&&(E.memoizedState=d,va=!0),E=E.queue,wg(Od.bind(null,g,E,o),[o]),E.getSnapshot!==c||W||vn!==null&&vn.memoizedState.tag&1){if(g.flags|=2048,Zc(9,{destroy:void 0},Pd.bind(null,g,E,d,c),null),ei===null)throw Error(n(349));N||(Ei&127)!==0||Il(g,c,d)}return d}function Il(o,c,d){o.flags|=16384,o={getSnapshot:c,value:d},c=mr.updateQueue,c===null?(c=gh(),mr.updateQueue=c,c.stores=[o]):(d=c.stores,d===null?c.stores=[o]:d.push(o))}function Pd(o,c,d,g){c.value=d,c.getSnapshot=g,Op(c)&&Rd(o)}function Od(o,c,d){return d(function(){Op(c)&&Rd(o)})}function Op(o){var c=o.getSnapshot;o=o.value;try{var d=c();return!wi(o,d)}catch{return!0}}function Rd(o){var c=Cs(o,2);c!==null&&wo(c,o,2)}function bc(o){var c=ga();if(typeof o=="function"){var d=o;if(o=d(),us){pr(!0);try{d()}finally{pr(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:o},c}function Rp(o,c,d,g){return o.baseState=d,Au(o,gr,typeof g=="function"?g:dl)}function Dp(o,c,d,g,E){if(Bp(o))throw Error(n(485));if(o=c.action,o!==null){var N={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){N.listeners.push(W)}};oe.T!==null?d(!0):N.isTransition=!1,g(N),d=c.pending,d===null?(N.next=c.pending=N,jp(c,N)):(N.next=d.next,c.pending=d.next=N)}}function jp(o,c){var d=c.action,g=c.payload,E=o.state;if(c.isTransition){var N=oe.T,W={};oe.T=W;try{var fe=d(E,g),ke=oe.S;ke!==null&&ke(W,fe),Dd(o,c,fe)}catch(et){Wc(o,c,et)}finally{N!==null&&W.types!==null&&(N.types=W.types),oe.T=N}}else try{N=d(E,g),Dd(o,c,N)}catch(et){Wc(o,c,et)}}function Dd(o,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){Ip(o,c,g)},function(g){return Wc(o,c,g)}):Ip(o,c,d)}function Ip(o,c,d){c.status="fulfilled",c.value=d,df(c),o.state=d,c=o.pending,c!==null&&(d=c.next,d===c?o.pending=null:(d=d.next,c.next=d,jp(o,d)))}function Wc(o,c,d){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=d,df(c),c=c.next;while(c!==g)}o.action=null}function df(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function vh(o,c){return c}function pl(o,c){if(Zr){var d=ei.formState;if(d!==null){e:{var g=mr;if(Zr){if(pn){t:{for(var E=pn,N=si;E.nodeType!==8;){if(!N){E=null;break t}if(E=ml(E.nextSibling),E===null){E=null;break t}}N=E.data,E=N==="F!"||N==="F"?E:null}if(E){pn=ml(E.nextSibling),g=E.data==="F!";break e}}fl(g)}g=!1}g&&(c=d[0])}}return d=ga(),d.memoizedState=d.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vh,lastRenderedState:c},d.queue=g,d=Vy.bind(null,mr,g),g.dispatch=d,g=bc(!1),N=Ag.bind(null,mr,!1,g.queue),g=ga(),E={state:c,dispatch:null,action:o,pending:null},g.queue=E,d=Dp.bind(null,mr,E,N,d),E.dispatch=d,g.memoizedState=o,[c,d,!1]}function Fl(o){var c=Ti();return Bl(c,gr,o)}function Bl(o,c,d){if(c=Au(o,c,vh)[0],o=uf(dl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=wc(c)}catch(W){throw W===je?Ee:W}else g=c;c=Ti();var E=c.queue,N=E.dispatch;return d!==c.memoizedState&&(mr.flags|=2048,Zc(9,{destroy:void 0},pf.bind(null,E,d),null)),[g,N,o]}function pf(o,c){o.action=c}function mf(o){var c=Ti(),d=gr;if(d!==null)return Bl(c,d,o);Ti(),c=c.memoizedState,d=Ti();var g=d.queue.dispatch;return d.memoizedState=o,[c,g,!1]}function Zc(o,c,d,g){return o={tag:o,create:d,deps:g,inst:c,next:null},c=mr.updateQueue,c===null&&(c=gh(),mr.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,c.lastEffect=o),o}function Fp(){return Ti().memoizedState}function Lu(o,c,d,g){var E=ga();mr.flags|=o,E.memoizedState=Zc(1|c,{destroy:void 0},d,g===void 0?null:g)}function Nu(o,c,d,g){var E=Ti();g=g===void 0?null:g;var N=E.memoizedState.inst;gr!==null&&g!==null&&Nd(g,gr.memoizedState.deps)?E.memoizedState=Zc(c,N,d,g):(mr.flags|=o,E.memoizedState=Zc(1|c,N,d,g))}function ky(o,c){Lu(8390656,8,o,c)}function wg(o,c){Nu(2048,8,o,c)}function pT(o){mr.flags|=4;var c=mr.updateQueue;if(c===null)c=gh(),mr.updateQueue=c,c.events=[o];else{var d=c.events;d===null?c.events=[o]:d.push(o)}}function Py(o){var c=Ti().memoizedState;return pT({ref:c,nextImpl:o}),function(){if((Ln&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function Oy(o,c){return Nu(4,2,o,c)}function Ry(o,c){return Nu(4,4,o,c)}function Dy(o,c){if(typeof c=="function"){o=o();var d=c(o);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function jy(o,c,d){d=d!=null?d.concat([o]):null,Nu(4,4,Dy.bind(null,c,o),d)}function bg(){}function Iy(o,c){var d=Ti();c=c===void 0?null:c;var g=d.memoizedState;return c!==null&&Nd(c,g[1])?g[0]:(d.memoizedState=[o,c],o)}function Fy(o,c){var d=Ti();c=c===void 0?null:c;var g=d.memoizedState;if(c!==null&&Nd(c,g[1]))return g[0];if(g=o(),us){pr(!0);try{o()}finally{pr(!1)}}return d.memoizedState=[g,c],g}function Sg(o,c,d){return d===void 0||(Ei&1073741824)!==0&&(an&261930)===0?o.memoizedState=c:(o.memoizedState=d,o=Bx(),mr.lanes|=o,ku|=o,d)}function By(o,c,d,g){return wi(d,c)?d:$r.current!==null?(o=Sg(o,d,g),wi(o,c)||(va=!0),o):(Ei&42)===0||(Ei&1073741824)!==0&&(an&261930)===0?(va=!0,o.memoizedState=d):(o=Bx(),mr.lanes|=o,ku|=o,c)}function Uy(o,c,d,g,E){var N=be.p;be.p=N!==0&&8>N?N:8;var W=oe.T,fe={};oe.T=fe,Ag(o,!1,c,d);try{var ke=E(),et=oe.S;if(et!==null&&et(fe,ke),ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var ut=te(ke,g);jd(o,c,ut,$o(o))}else jd(o,c,g,$o(o))}catch(vt){jd(o,c,{then:function(){},status:"rejected",reason:vt},$o())}finally{be.p=N,W!==null&&fe.types!==null&&(W.types=fe.types),oe.T=W}}function mT(){}function Eg(o,c,d,g){if(o.tag!==5)throw Error(n(476));var E=zy(o).queue;Uy(o,E,c,_e,d===null?mT:function(){return Gy(o),d(g)})}function zy(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:_e},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:d},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Gy(o){var c=zy(o);c.next===null&&(c=o.alternate.memoizedState),jd(o,c.next.queue,{},$o())}function Tg(){return Da(Qd)}function Hy(){return Ti().memoizedState}function qy(){return Ti().memoizedState}function gT(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var d=$o();o=Sr(d);var g=zr(c,o,d);g!==null&&(wo(g,c,d),Tn(g,c,d)),c={cache:Eu()},o.payload=c;return}c=c.return}}function vT(o,c,d){var g=$o();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Bp(o)?$y(c,d):(d=xu(o,c,d,g),d!==null&&(wo(d,o,g),Wy(d,c,g)))}function Vy(o,c,d){var g=$o();jd(o,c,d,g)}function jd(o,c,d,g){var E={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Bp(o))$y(c,E);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var W=c.lastRenderedState,fe=N(W,d);if(E.hasEagerState=!0,E.eagerState=fe,wi(fe,W))return zo(o,c,E,0),ei===null&&uc(),!1}catch{}if(d=xu(o,c,E,g),d!==null)return wo(d,o,g),Wy(d,c,g),!0}return!1}function Ag(o,c,d,g){if(g={lane:2,revertLane:iv(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Bp(o)){if(c)throw Error(n(479))}else c=xu(o,d,g,2),c!==null&&wo(c,o,2)}function Bp(o){var c=o.alternate;return o===mr||c!==null&&c===mr}function $y(o,c){go=ks=!0;var d=o.pending;d===null?c.next=c:(c.next=d.next,d.next=c),o.pending=c}function Wy(o,c,d){if((d&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,d|=g,c.lanes=d,Ce(o,d)}}var Id={readContext:Da,use:Tu,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useLayoutEffect:Vn,useInsertionEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useSyncExternalStore:Vn,useId:Vn,useHostTransitionStatus:Vn,useFormState:Vn,useActionState:Vn,useOptimistic:Vn,useMemoCache:Vn,useCacheRefresh:Vn};Id.useEffectEvent=Vn;var Zy={readContext:Da,use:Tu,useCallback:function(o,c){return ga().memoizedState=[o,c===void 0?null:c],o},useContext:Da,useEffect:ky,useImperativeHandle:function(o,c,d){d=d!=null?d.concat([o]):null,Lu(4194308,4,Dy.bind(null,c,o),d)},useLayoutEffect:function(o,c){return Lu(4194308,4,o,c)},useInsertionEffect:function(o,c){Lu(4,2,o,c)},useMemo:function(o,c){var d=ga();c=c===void 0?null:c;var g=o();if(us){pr(!0);try{o()}finally{pr(!1)}}return d.memoizedState=[g,c],g},useReducer:function(o,c,d){var g=ga();if(d!==void 0){var E=d(c);if(us){pr(!0);try{d(c)}finally{pr(!1)}}}else E=c;return g.memoizedState=g.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},g.queue=o,o=o.dispatch=vT.bind(null,mr,o),[g.memoizedState,o]},useRef:function(o){var c=ga();return o={current:o},c.memoizedState=o},useState:function(o){o=bc(o);var c=o.queue,d=Vy.bind(null,mr,c);return c.dispatch=d,[o.memoizedState,d]},useDebugValue:bg,useDeferredValue:function(o,c){var d=ga();return Sg(d,o,c)},useTransition:function(){var o=bc(!1);return o=Uy.bind(null,mr,o.queue,!0,!1),ga().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,d){var g=mr,E=ga();if(Zr){if(d===void 0)throw Error(n(407));d=d()}else{if(d=c(),ei===null)throw Error(n(349));(an&127)!==0||Il(g,c,d)}E.memoizedState=d;var N={value:d,getSnapshot:c};return E.queue=N,ky(Od.bind(null,g,N,o),[o]),g.flags|=2048,Zc(9,{destroy:void 0},Pd.bind(null,g,N,d,c),null),d},useId:function(){var o=ga(),c=ei.identifierPrefix;if(Zr){var d=kt,g=pt;d=(g&~(1<<32-Dr(g)-1)).toString(32)+d,c="_"+c+"R_"+d,d=Vi++,0<d&&(c+="H"+d.toString(32)),c+="_"}else d=of++,c="_"+c+"r_"+d.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:Tg,useFormState:pl,useActionState:pl,useOptimistic:function(o){var c=ga();c.memoizedState=c.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=Ag.bind(null,mr,!0,d),d.dispatch=c,[o,c]},useMemoCache:$c,useCacheRefresh:function(){return ga().memoizedState=gT.bind(null,mr)},useEffectEvent:function(o){var c=ga(),d={impl:o};return c.memoizedState=d,function(){if((Ln&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Lg={readContext:Da,use:Tu,useCallback:Iy,useContext:Da,useEffect:wg,useImperativeHandle:jy,useInsertionEffect:Oy,useLayoutEffect:Ry,useMemo:Fy,useReducer:uf,useRef:Fp,useState:function(){return uf(dl)},useDebugValue:bg,useDeferredValue:function(o,c){var d=Ti();return By(d,gr.memoizedState,o,c)},useTransition:function(){var o=uf(dl)[0],c=Ti().memoizedState;return[typeof o=="boolean"?o:wc(o),c]},useSyncExternalStore:ff,useId:Hy,useHostTransitionStatus:Tg,useFormState:Fl,useActionState:Fl,useOptimistic:function(o,c){var d=Ti();return Rp(d,gr,o,c)},useMemoCache:$c,useCacheRefresh:qy};Lg.useEffectEvent=Py;var Yy={readContext:Da,use:Tu,useCallback:Iy,useContext:Da,useEffect:wg,useImperativeHandle:jy,useInsertionEffect:Oy,useLayoutEffect:Ry,useMemo:Fy,useReducer:hf,useRef:Fp,useState:function(){return hf(dl)},useDebugValue:bg,useDeferredValue:function(o,c){var d=Ti();return gr===null?Sg(d,o,c):By(d,gr.memoizedState,o,c)},useTransition:function(){var o=hf(dl)[0],c=Ti().memoizedState;return[typeof o=="boolean"?o:wc(o),c]},useSyncExternalStore:ff,useId:Hy,useHostTransitionStatus:Tg,useFormState:mf,useActionState:mf,useOptimistic:function(o,c){var d=Ti();return gr!==null?Rp(d,gr,o,c):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:$c,useCacheRefresh:qy};Yy.useEffectEvent=Py;function Ng(o,c,d,g){c=o.memoizedState,d=d(g,c),d=d==null?c:v({},c,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Cg={enqueueSetState:function(o,c,d){o=o._reactInternals;var g=$o(),E=Sr(g);E.payload=c,d!=null&&(E.callback=d),c=zr(o,E,g),c!==null&&(wo(c,o,g),Tn(c,o,g))},enqueueReplaceState:function(o,c,d){o=o._reactInternals;var g=$o(),E=Sr(g);E.tag=1,E.payload=c,d!=null&&(E.callback=d),c=zr(o,E,g),c!==null&&(wo(c,o,g),Tn(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var d=$o(),g=Sr(d);g.tag=2,c!=null&&(g.callback=c),c=zr(o,g,d),c!==null&&(wo(c,o,d),Tn(c,o,d))}};function Ky(o,c,d,g,E,N,W){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,N,W):c.prototype&&c.prototype.isPureReactComponent?!lo(d,g)||!lo(E,N):!0}function Xy(o,c,d,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,g),c.state!==o&&Cg.enqueueReplaceState(c,c.state,null)}function _h(o,c){var d=c;if("ref"in c){d={};for(var g in c)g!=="ref"&&(d[g]=c[g])}if(o=o.defaultProps){d===c&&(d=v({},d));for(var E in o)d[E]===void 0&&(d[E]=o[E])}return d}function Jy(o){cc(o)}function Qy(o){console.error(o)}function ex(o){cc(o)}function Up(o,c){try{var d=o.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function tx(o,c,d){try{var g=o.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Mg(o,c,d){return d=Sr(d),d.tag=3,d.payload={element:null},d.callback=function(){Up(o,c)},d}function rx(o){return o=Sr(o),o.tag=3,o}function nx(o,c,d,g){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var N=g.value;o.payload=function(){return E(N)},o.callback=function(){tx(c,d,g)}}var W=d.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(o.callback=function(){tx(c,d,g),typeof E!="function"&&(Pu===null?Pu=new Set([this]):Pu.add(this));var fe=g.stack;this.componentDidCatch(g.value,{componentStack:fe!==null?fe:""})})}function _T(o,c,d,g,E){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=d.alternate,c!==null&&vc(c,d,E,!0),d=gi.current,d!==null){switch(d.tag){case 31:case 13:return gn===null?Jp():d.alternate===null&&$i===0&&($i=3),d.flags&=-257,d.flags|=65536,d.lanes=E,g===He?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([g]):c.add(g),tv(o,g,E)),!1;case 22:return d.flags|=65536,g===He?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([g]):d.add(g)),tv(o,g,E)),!1}throw Error(n(435,d.tag))}return tv(o,g,E),Jp(),!1}if(Zr)return c=gi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,g!==Ms&&(o=Error(n(422),{cause:g}),pc(m(o,d)))):(g!==Ms&&(c=Error(n(423),{cause:g}),pc(m(c,d))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,g=m(g,d),E=Mg(o.stateNode,g,E),oa(o,E),$i!==4&&($i=2)),!1;var N=Error(n(520),{cause:g});if(N=m(N,d),Vd===null?Vd=[N]:Vd.push(N),$i!==4&&($i=2),c===null)return!0;g=m(g,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,o=E&-E,d.lanes|=o,o=Mg(d.stateNode,g,o),oa(d,o),!1;case 1:if(c=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Pu===null||!Pu.has(N))))return d.flags|=65536,E&=-E,d.lanes|=E,E=rx(E),nx(E,o,d,g),oa(d,E),!1}d=d.return}while(d!==null);return!1}var kg=Error(n(461)),va=!1;function hs(o,c,d,g){c.child=o===null?jr(c,null,d,g):Qn(c,o.child,d,g)}function ix(o,c,d,g,E){d=d.render;var N=c.ref;if("ref"in g){var W={};for(var fe in g)fe!=="ref"&&(W[fe]=g[fe])}else W=g;return _c(c),g=Cd(o,c,d,W,N,E),fe=Md(),o!==null&&!va?(kd(o,c,E),Yc(o,c,E)):(Zr&&fe&&sa(c),c.flags|=1,hs(o,c,g,E),c.child)}function ax(o,c,d,g,E){if(o===null){var N=d.type;return typeof N=="function"&&!Hc(N)&&N.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=N,sx(o,c,N,g,E)):(o=Rl(d.type,null,g,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(N=o.child,!Bg(o,E)){var W=N.memoizedProps;if(d=d.compare,d=d!==null?d:lo,d(W,g)&&o.ref===c.ref)return Yc(o,c,E)}return c.flags|=1,o=ls(N,g),o.ref=c.ref,o.return=c,c.child=o}function sx(o,c,d,g,E){if(o!==null){var N=o.memoizedProps;if(lo(N,g)&&o.ref===c.ref)if(va=!1,c.pendingProps=g=N,Bg(o,E))(o.flags&131072)!==0&&(va=!0);else return c.lanes=o.lanes,Yc(o,c,E)}return Pg(o,c,d,g,E)}function ox(o,c,d,g){var E=g.children,N=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,o!==null){for(g=c.child=o.child,E=0;g!==null;)E=E|g.lanes|g.childLanes,g=g.sibling;g=E&~N}else g=0,c.child=null;return lx(o,c,N,d,g)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&ye(c,N!==null?N.cachePool:null),N!==null?mi(c,N):_n(),Hi(c);else return g=c.lanes=536870912,lx(o,c,N!==null?N.baseLanes|d:d,d,g)}else N!==null?(ye(c,N.cachePool),mi(c,N),qi(),c.memoizedState=null):(o!==null&&ye(c,null),_n(),qi());return hs(o,c,E,d),c.child}function Fd(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function lx(o,c,d,g,E){var N=me();return N=N===null?null:{parent:Di._currentValue,pool:N},c.memoizedState={baseLanes:d,cachePool:N},o!==null&&ye(c,null),_n(),Hi(c),o!==null&&vc(o,c,g,!0),c.childLanes=E,null}function zp(o,c){return c=Hp({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function cx(o,c,d){return Qn(c,o.child,null,d),o=zp(c,c.pendingProps),o.flags|=2,jn(c),c.memoizedState=null,o}function yT(o,c,d){var g=c.pendingProps,E=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Zr){if(g.mode==="hidden")return o=zp(c,g),c.lanes=536870912,Fd(null,o);if(An(c),(o=pn)?(o=ww(o,si),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:tt!==null?{id:pt,overflow:kt}:null,retryLane:536870912,hydrationErrors:null},d=qc(o),d.return=c,c.child=d,dn=c,pn=null)):o=null,o===null)throw fl(c);return c.lanes=536870912,null}return zp(c,g)}var N=o.memoizedState;if(N!==null){var W=N.dehydrated;if(An(c),E)if(c.flags&256)c.flags&=-257,c=cx(o,c,d);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(va||vc(o,c,d,!1),E=(d&o.childLanes)!==0,va||E){if(g=ei,g!==null&&(W=Ge(g,d),W!==0&&W!==N.retryLane))throw N.retryLane=W,Cs(o,W),wo(g,o,W),kg;Jp(),c=cx(o,c,d)}else o=N.treeContext,pn=ml(W.nextSibling),dn=c,Zr=!0,Ra=null,si=!1,o!==null&&cs(c,o),c=zp(c,g),c.flags|=4096;return c}return o=ls(o.child,{mode:g.mode,children:g.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Gp(o,c){var d=c.ref;if(d===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(o===null||o.ref!==d)&&(c.flags|=4194816)}}function Pg(o,c,d,g,E){return _c(c),d=Cd(o,c,d,g,void 0,E),g=Md(),o!==null&&!va?(kd(o,c,E),Yc(o,c,E)):(Zr&&g&&sa(c),c.flags|=1,hs(o,c,d,E),c.child)}function ux(o,c,d,g,E,N){return _c(c),c.updateQueue=null,d=jl(c,g,d,E),lf(o),g=Md(),o!==null&&!va?(kd(o,c,N),Yc(o,c,N)):(Zr&&g&&sa(c),c.flags|=1,hs(o,c,d,N),c.child)}function hx(o,c,d,g,E){if(_c(c),c.stateNode===null){var N=Ui,W=d.contextType;typeof W=="object"&&W!==null&&(N=Da(W)),N=new d(g,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Cg,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=g,N.state=c.memoizedState,N.refs={},Rt(c),W=d.contextType,N.context=typeof W=="object"&&W!==null?Da(W):Ui,N.state=c.memoizedState,W=d.getDerivedStateFromProps,typeof W=="function"&&(Ng(c,d,W,g),N.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(W=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),W!==N.state&&Cg.enqueueReplaceState(N,N.state,null),zi(c,g,N,E),qn(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){N=c.stateNode;var fe=c.memoizedProps,ke=_h(d,fe);N.props=ke;var et=N.context,ut=d.contextType;W=Ui,typeof ut=="object"&&ut!==null&&(W=Da(ut));var vt=d.getDerivedStateFromProps;ut=typeof vt=="function"||typeof N.getSnapshotBeforeUpdate=="function",fe=c.pendingProps!==fe,ut||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(fe||et!==W)&&Xy(c,N,g,W),qt=!1;var rt=c.memoizedState;N.state=rt,zi(c,g,N,E),qn(),et=c.memoizedState,fe||rt!==et||qt?(typeof vt=="function"&&(Ng(c,d,vt,g),et=c.memoizedState),(ke=qt||Ky(c,d,ke,g,rt,et,W))?(ut||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=et),N.props=g,N.state=et,N.context=W,g=ke):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{N=c.stateNode,pi(o,c),W=c.memoizedProps,ut=_h(d,W),N.props=ut,vt=c.pendingProps,rt=N.context,et=d.contextType,ke=Ui,typeof et=="object"&&et!==null&&(ke=Da(et)),fe=d.getDerivedStateFromProps,(et=typeof fe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(W!==vt||rt!==ke)&&Xy(c,N,g,ke),qt=!1,rt=c.memoizedState,N.state=rt,zi(c,g,N,E),qn();var nt=c.memoizedState;W!==vt||rt!==nt||qt||o!==null&&o.dependencies!==null&&nf(o.dependencies)?(typeof fe=="function"&&(Ng(c,d,fe,g),nt=c.memoizedState),(ut=qt||Ky(c,d,ut,g,rt,nt,ke)||o!==null&&o.dependencies!==null&&nf(o.dependencies))?(et||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,nt,ke),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,nt,ke)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||W===o.memoizedProps&&rt===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&rt===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=nt),N.props=g,N.state=nt,N.context=ke,g=ut):(typeof N.componentDidUpdate!="function"||W===o.memoizedProps&&rt===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&rt===o.memoizedState||(c.flags|=1024),g=!1)}return N=g,Gp(o,c),g=(c.flags&128)!==0,N||g?(N=c.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,o!==null&&g?(c.child=Qn(c,o.child,null,E),c.child=Qn(c,null,d,E)):hs(o,c,d,E),c.memoizedState=N.state,o=c.child):o=Yc(o,c,E),o}function fx(o,c,d,g){return Dl(),c.flags|=256,hs(o,c,d,g),c.child}var Og={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rg(o){return{baseLanes:o,cachePool:Te()}}function Dg(o,c,d){return o=o!==null?o.childLanes&~d:0,c&&(o|=Vo),o}function dx(o,c,d){var g=c.pendingProps,E=!1,N=(c.flags&128)!==0,W;if((W=N)||(W=o!==null&&o.memoizedState===null?!1:(hn.current&2)!==0),W&&(E=!0,c.flags&=-129),W=(c.flags&32)!==0,c.flags&=-33,o===null){if(Zr){if(E?ji(c):qi(),(o=pn)?(o=ww(o,si),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:tt!==null?{id:pt,overflow:kt}:null,retryLane:536870912,hydrationErrors:null},d=qc(o),d.return=c,c.child=d,dn=c,pn=null)):o=null,o===null)throw fl(c);return vv(o)?c.lanes=32:c.lanes=536870912,null}var fe=g.children;return g=g.fallback,E?(qi(),E=c.mode,fe=Hp({mode:"hidden",children:fe},E),g=hl(g,E,d,null),fe.return=c,g.return=c,fe.sibling=g,c.child=fe,g=c.child,g.memoizedState=Rg(d),g.childLanes=Dg(o,W,d),c.memoizedState=Og,Fd(null,g)):(ji(c),jg(c,fe))}var ke=o.memoizedState;if(ke!==null&&(fe=ke.dehydrated,fe!==null)){if(N)c.flags&256?(ji(c),c.flags&=-257,c=Ig(o,c,d)):c.memoizedState!==null?(qi(),c.child=o.child,c.flags|=128,c=null):(qi(),fe=g.fallback,E=c.mode,g=Hp({mode:"visible",children:g.children},E),fe=hl(fe,E,d,null),fe.flags|=2,g.return=c,fe.return=c,g.sibling=fe,c.child=g,Qn(c,o.child,null,d),g=c.child,g.memoizedState=Rg(d),g.childLanes=Dg(o,W,d),c.memoizedState=Og,c=Fd(null,g));else if(ji(c),vv(fe)){if(W=fe.nextSibling&&fe.nextSibling.dataset,W)var et=W.dgst;W=et,g=Error(n(419)),g.stack="",g.digest=W,pc({value:g,source:null,stack:null}),c=Ig(o,c,d)}else if(va||vc(o,c,d,!1),W=(d&o.childLanes)!==0,va||W){if(W=ei,W!==null&&(g=Ge(W,d),g!==0&&g!==ke.retryLane))throw ke.retryLane=g,Cs(o,g),wo(W,o,g),kg;gv(fe)||Jp(),c=Ig(o,c,d)}else gv(fe)?(c.flags|=192,c.child=o.child,c=null):(o=ke.treeContext,pn=ml(fe.nextSibling),dn=c,Zr=!0,Ra=null,si=!1,o!==null&&cs(c,o),c=jg(c,g.children),c.flags|=4096);return c}return E?(qi(),fe=g.fallback,E=c.mode,ke=o.child,et=ke.sibling,g=ls(ke,{mode:"hidden",children:g.children}),g.subtreeFlags=ke.subtreeFlags&65011712,et!==null?fe=ls(et,fe):(fe=hl(fe,E,d,null),fe.flags|=2),fe.return=c,g.return=c,g.sibling=fe,c.child=g,Fd(null,g),g=c.child,fe=o.child.memoizedState,fe===null?fe=Rg(d):(E=fe.cachePool,E!==null?(ke=Di._currentValue,E=E.parent!==ke?{parent:ke,pool:ke}:E):E=Te(),fe={baseLanes:fe.baseLanes|d,cachePool:E}),g.memoizedState=fe,g.childLanes=Dg(o,W,d),c.memoizedState=Og,Fd(o.child,g)):(ji(c),d=o.child,o=d.sibling,d=ls(d,{mode:"visible",children:g.children}),d.return=c,d.sibling=null,o!==null&&(W=c.deletions,W===null?(c.deletions=[o],c.flags|=16):W.push(o)),c.child=d,c.memoizedState=null,d)}function jg(o,c){return c=Hp({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Hp(o,c){return o=aa(22,o,null,c),o.lanes=0,o}function Ig(o,c,d){return Qn(c,o.child,null,d),o=jg(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function px(o,c,d){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),Su(o.return,c,d)}function Fg(o,c,d,g,E,N){var W=o.memoizedState;W===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:E,treeForkCount:N}:(W.isBackwards=c,W.rendering=null,W.renderingStartTime=0,W.last=g,W.tail=d,W.tailMode=E,W.treeForkCount=N)}function mx(o,c,d){var g=c.pendingProps,E=g.revealOrder,N=g.tail;g=g.children;var W=hn.current,fe=(W&2)!==0;if(fe?(W=W&1|2,c.flags|=128):W&=1,G(hn,W),hs(o,c,g,d),g=Zr?ae:0,!fe&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&px(o,d,c);else if(o.tag===19)px(o,d,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(E){case"forwards":for(d=c.child,E=null;d!==null;)o=d.alternate,o!==null&&$a(o)===null&&(E=d),d=d.sibling;d=E,d===null?(E=c.child,c.child=null):(E=d.sibling,d.sibling=null),Fg(c,!1,E,d,N,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&$a(o)===null){c.child=E;break}o=E.sibling,E.sibling=d,d=E,E=o}Fg(c,!0,d,null,N,g);break;case"together":Fg(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Yc(o,c,d){if(o!==null&&(c.dependencies=o.dependencies),ku|=c.lanes,(d&c.childLanes)===0)if(o!==null){if(vc(o,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,d=ls(o,o.pendingProps),c.child=d,d.return=c;o.sibling!==null;)o=o.sibling,d=d.sibling=ls(o,o.pendingProps),d.return=c;d.sibling=null}return c.child}function Bg(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&nf(o)))}function xT(o,c,d){switch(c.tag){case 3:Oe(c,c.stateNode.containerInfo),gc(c,Di,o.memoizedState.cache),Dl();break;case 27:case 5:Ie(c);break;case 4:Oe(c,c.stateNode.containerInfo);break;case 10:gc(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,An(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(ji(c),c.flags|=128,null):(d&c.child.childLanes)!==0?dx(o,c,d):(ji(c),o=Yc(o,c,d),o!==null?o.sibling:null);ji(c);break;case 19:var E=(o.flags&128)!==0;if(g=(d&c.childLanes)!==0,g||(vc(o,c,d,!1),g=(d&c.childLanes)!==0),E){if(g)return mx(o,c,d);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),G(hn,hn.current),g)break;return null;case 22:return c.lanes=0,ox(o,c,d,c.pendingProps);case 24:gc(c,Di,o.memoizedState.cache)}return Yc(o,c,d)}function gx(o,c,d){if(o!==null)if(o.memoizedProps!==c.pendingProps)va=!0;else{if(!Bg(o,d)&&(c.flags&128)===0)return va=!1,xT(o,c,d);va=(o.flags&131072)!==0}else va=!1,Zr&&(c.flags&1048576)!==0&&Ur(c,ae,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(o=Xe(c.elementType),c.type=o,typeof o=="function")Hc(o)?(g=_h(o,g),c.tag=1,c=hx(null,c,o,g,d)):(c.tag=0,c=Pg(null,c,o,g,d));else{if(o!=null){var E=o.$$typeof;if(E===V){c.tag=11,c=ix(null,c,o,g,d);break e}else if(E===I){c.tag=14,c=ax(null,c,o,g,d);break e}}throw c=de(o)||o,Error(n(306,c,""))}}return c;case 0:return Pg(o,c,c.type,c.pendingProps,d);case 1:return g=c.type,E=_h(g,c.pendingProps),hx(o,c,g,E,d);case 3:e:{if(Oe(c,c.stateNode.containerInfo),o===null)throw Error(n(387));g=c.pendingProps;var N=c.memoizedState;E=N.element,pi(o,c),zi(c,g,null,d);var W=c.memoizedState;if(g=W.cache,gc(c,Di,g),g!==N.cache&&Vc(c,[Di],d,!0),qn(),g=W.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:W.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=fx(o,c,g,d);break e}else if(g!==E){E=m(Error(n(424)),c),pc(E),c=fx(o,c,g,d);break e}else for(o=c.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,pn=ml(o.firstChild),dn=c,Zr=!0,Ra=null,si=!0,d=jr(c,null,g,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Dl(),g===E){c=Yc(o,c,d);break e}hs(o,c,g,d)}c=c.child}return c;case 26:return Gp(o,c),o===null?(d=Lw(c.type,null,c.pendingProps,null))?c.memoizedState=d:Zr||(d=c.type,o=c.pendingProps,g=am(se.current).createElement(d),g[ne]=c,g[he]=o,fs(g,d,o),Bt(g),c.stateNode=g):c.memoizedState=Lw(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ie(c),o===null&&Zr&&(g=c.stateNode=Ew(c.type,c.pendingProps,se.current),dn=c,si=!0,E=pn,ju(c.type)?(_v=E,pn=ml(g.firstChild)):pn=E),hs(o,c,c.pendingProps.children,d),Gp(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Zr&&((E=g=pn)&&(g=KT(g,c.type,c.pendingProps,si),g!==null?(c.stateNode=g,dn=c,pn=ml(g.firstChild),si=!1,E=!0):E=!1),E||fl(c)),Ie(c),E=c.type,N=c.pendingProps,W=o!==null?o.memoizedProps:null,g=N.children,dv(E,N)?g=null:W!==null&&dv(E,W)&&(c.flags|=32),c.memoizedState!==null&&(E=Cd(o,c,xg,null,null,d),Qd._currentValue=E),Gp(o,c),hs(o,c,g,d),c.child;case 6:return o===null&&Zr&&((o=d=pn)&&(d=XT(d,c.pendingProps,si),d!==null?(c.stateNode=d,dn=c,pn=null,o=!0):o=!1),o||fl(c)),null;case 13:return dx(o,c,d);case 4:return Oe(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=Qn(c,null,g,d):hs(o,c,g,d),c.child;case 11:return ix(o,c,c.type,c.pendingProps,d);case 7:return hs(o,c,c.pendingProps,d),c.child;case 8:return hs(o,c,c.pendingProps.children,d),c.child;case 12:return hs(o,c,c.pendingProps.children,d),c.child;case 10:return g=c.pendingProps,gc(c,c.type,g.value),hs(o,c,g.children,d),c.child;case 9:return E=c.type._context,g=c.pendingProps.children,_c(c),E=Da(E),g=g(E),c.flags|=1,hs(o,c,g,d),c.child;case 14:return ax(o,c,c.type,c.pendingProps,d);case 15:return sx(o,c,c.type,c.pendingProps,d);case 19:return mx(o,c,d);case 31:return yT(o,c,d);case 22:return ox(o,c,d,c.pendingProps);case 24:return _c(c),g=Da(Di),o===null?(E=me(),E===null&&(E=ei,N=Eu(),E.pooledCache=N,N.refCount++,N!==null&&(E.pooledCacheLanes|=d),E=N),c.memoizedState={parent:g,cache:E},Rt(c),gc(c,Di,E)):((o.lanes&d)!==0&&(pi(o,c),zi(c,null,null,d),qn()),E=o.memoizedState,N=c.memoizedState,E.parent!==g?(E={parent:g,cache:g},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),gc(c,Di,g)):(g=N.cache,gc(c,Di,g),g!==E.cache&&Vc(c,[Di],d,!0))),hs(o,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Kc(o){o.flags|=4}function Ug(o,c,d,g,E){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(E&335544128)===E)if(o.stateNode.complete)o.flags|=8192;else if(Hx())o.flags|=8192;else throw st=He,Je}else o.flags&=-16777217}function vx(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Pw(c))if(Hx())o.flags|=8192;else throw st=He,Je}function qp(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Qi():536870912,o.lanes|=c,yf|=c)}function Bd(o,c){if(!Zr)switch(o.tailMode){case"hidden":c=o.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function vi(o){var c=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(c)for(var E=o.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags&65011712,g|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags,g|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=g,o.childLanes=d,c}function wT(o,c,d){var g=c.pendingProps;switch(di(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(c),null;case 1:return vi(c),null;case 3:return d=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),mo(Di),Re(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Si(c)?Kc(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,dh())),vi(c),null;case 26:var E=c.type,N=c.memoizedState;return o===null?(Kc(c),N!==null?(vi(c),vx(c,N)):(vi(c),Ug(c,E,null,g,d))):N?N!==o.memoizedState?(Kc(c),vi(c),vx(c,N)):(vi(c),c.flags&=-16777217):(o=o.memoizedProps,o!==g&&Kc(c),vi(c),Ug(c,E,o,g,d)),null;case 27:if(ot(c),d=se.current,E=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Kc(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return vi(c),null}o=H.current,Si(c)?bu(c):(o=Ew(E,g,d),c.stateNode=o,Kc(c))}return vi(c),null;case 5:if(ot(c),E=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Kc(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return vi(c),null}if(N=H.current,Si(c))bu(c);else{var W=am(se.current);switch(N){case 1:N=W.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:N=W.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":N=W.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":N=W.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":N=W.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof g.is=="string"?W.createElement("select",{is:g.is}):W.createElement("select"),g.multiple?N.multiple=!0:g.size&&(N.size=g.size);break;default:N=typeof g.is=="string"?W.createElement(E,{is:g.is}):W.createElement(E)}}N[ne]=c,N[he]=g;e:for(W=c.child;W!==null;){if(W.tag===5||W.tag===6)N.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===c)break e;for(;W.sibling===null;){if(W.return===null||W.return===c)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}c.stateNode=N;e:switch(fs(N,E,g),E){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Kc(c)}}return vi(c),Ug(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,d),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&Kc(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(o=se.current,Si(c)){if(o=c.stateNode,d=c.memoizedProps,g=null,E=dn,E!==null)switch(E.tag){case 27:case 5:g=E.memoizedProps}o[ne]=c,o=!!(o.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||dw(o.nodeValue,d)),o||fl(c,!0)}else o=am(o).createTextNode(g),o[ne]=c,c.stateNode=o}return vi(c),null;case 31:if(d=c.memoizedState,o===null||o.memoizedState!==null){if(g=Si(c),d!==null){if(o===null){if(!g)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[ne]=c}else Dl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;vi(c),o=!1}else d=dh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return c.flags&256?(jn(c),c):(jn(c),null);if((c.flags&128)!==0)throw Error(n(558))}return vi(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=Si(c),g!==null&&g.dehydrated!==null){if(o===null){if(!E)throw Error(n(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[ne]=c}else Dl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;vi(c),E=!1}else E=dh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(jn(c),c):(jn(c),null)}return jn(c),(c.flags&128)!==0?(c.lanes=d,c):(d=g!==null,o=o!==null&&o.memoizedState!==null,d&&(g=c.child,E=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(E=g.alternate.memoizedState.cachePool.pool),N=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(N=g.memoizedState.cachePool.pool),N!==E&&(g.flags|=2048)),d!==o&&d&&(c.child.flags|=8192),qp(c,c.updateQueue),vi(c),null);case 4:return Re(),o===null&&lv(c.stateNode.containerInfo),vi(c),null;case 10:return mo(c.type),vi(c),null;case 19:if(O(hn),g=c.memoizedState,g===null)return vi(c),null;if(E=(c.flags&128)!==0,N=g.rendering,N===null)if(E)Bd(g,!1);else{if($i!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(N=$a(o),N!==null){for(c.flags|=128,Bd(g,!1),o=N.updateQueue,c.updateQueue=o,qp(c,o),c.subtreeFlags=0,o=d,d=c.child;d!==null;)hc(d,o),d=d.sibling;return G(hn,hn.current&1|2),Zr&&tr(c,g.treeForkCount),c.child}o=o.sibling}g.tail!==null&&Jt()>Yp&&(c.flags|=128,E=!0,Bd(g,!1),c.lanes=4194304)}else{if(!E)if(o=$a(N),o!==null){if(c.flags|=128,E=!0,o=o.updateQueue,c.updateQueue=o,qp(c,o),Bd(g,!0),g.tail===null&&g.tailMode==="hidden"&&!N.alternate&&!Zr)return vi(c),null}else 2*Jt()-g.renderingStartTime>Yp&&d!==536870912&&(c.flags|=128,E=!0,Bd(g,!1),c.lanes=4194304);g.isBackwards?(N.sibling=c.child,c.child=N):(o=g.last,o!==null?o.sibling=N:c.child=N,g.last=N)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Jt(),o.sibling=null,d=hn.current,G(hn,E?d&1|2:d&1),Zr&&tr(c,g.treeForkCount),o):(vi(c),null);case 22:case 23:return jn(c),la(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(d&536870912)!==0&&(c.flags&128)===0&&(vi(c),c.subtreeFlags&6&&(c.flags|=8192)):vi(c),d=c.updateQueue,d!==null&&qp(c,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048),o!==null&&O(le),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),mo(Di),vi(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function bT(o,c){switch(di(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return mo(Di),Re(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return ot(c),null;case 31:if(c.memoizedState!==null){if(jn(c),c.alternate===null)throw Error(n(340));Dl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(jn(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Dl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return O(hn),null;case 4:return Re(),null;case 10:return mo(c.type),null;case 22:case 23:return jn(c),la(),o!==null&&O(le),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return mo(Di),null;case 25:return null;default:return null}}function _x(o,c){switch(di(c),c.tag){case 3:mo(Di),Re();break;case 26:case 27:case 5:ot(c);break;case 4:Re();break;case 31:c.memoizedState!==null&&jn(c);break;case 13:jn(c);break;case 19:O(hn);break;case 10:mo(c.type);break;case 22:case 23:jn(c),la(),o!==null&&O(le);break;case 24:mo(Di)}}function Ud(o,c){try{var d=c.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var E=g.next;d=E;do{if((d.tag&o)===o){g=void 0;var N=d.create,W=d.inst;g=N(),W.destroy=g}d=d.next}while(d!==E)}}catch(fe){Fn(c,c.return,fe)}}function Cu(o,c,d){try{var g=c.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var N=E.next;g=N;do{if((g.tag&o)===o){var W=g.inst,fe=W.destroy;if(fe!==void 0){W.destroy=void 0,E=c;var ke=d,et=fe;try{et()}catch(ut){Fn(E,ke,ut)}}}g=g.next}while(g!==N)}}catch(ut){Fn(c,c.return,ut)}}function yx(o){var c=o.updateQueue;if(c!==null){var d=o.stateNode;try{Gi(c,d)}catch(g){Fn(o,o.return,g)}}}function xx(o,c,d){d.props=_h(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(g){Fn(o,c,g)}}function zd(o,c){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof d=="function"?o.refCleanup=d(g):d.current=g}}catch(E){Fn(o,c,E)}}function Sc(o,c){var d=o.ref,g=o.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(E){Fn(o,c,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){Fn(o,c,E)}else d.current=null}function wx(o){var c=o.type,d=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(E){Fn(o,o.return,E)}}function zg(o,c,d){try{var g=o.stateNode;qT(g,o.type,d,c),g[he]=c}catch(E){Fn(o,o.return,E)}}function bx(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ju(o.type)||o.tag===4}function Gg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||bx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ju(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Hg(o,c,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(o),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=za));else if(g!==4&&(g===27&&ju(o.type)&&(d=o.stateNode,c=null),o=o.child,o!==null))for(Hg(o,c,d),o=o.sibling;o!==null;)Hg(o,c,d),o=o.sibling}function Vp(o,c,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?d.insertBefore(o,c):d.appendChild(o);else if(g!==4&&(g===27&&ju(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(Vp(o,c,d),o=o.sibling;o!==null;)Vp(o,c,d),o=o.sibling}function Sx(o){var c=o.stateNode,d=o.memoizedProps;try{for(var g=o.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);fs(c,g,d),c[ne]=o,c[he]=d}catch(N){Fn(o,o.return,N)}}var Xc=!1,_a=!1,qg=!1,Ex=typeof WeakSet=="function"?WeakSet:Set,Wa=null;function ST(o,c){if(o=o.containerInfo,hv=fm,o=Ls(o),Ma(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var E=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var W=0,fe=-1,ke=-1,et=0,ut=0,vt=o,rt=null;t:for(;;){for(var nt;vt!==d||E!==0&&vt.nodeType!==3||(fe=W+E),vt!==N||g!==0&&vt.nodeType!==3||(ke=W+g),vt.nodeType===3&&(W+=vt.nodeValue.length),(nt=vt.firstChild)!==null;)rt=vt,vt=nt;for(;;){if(vt===o)break t;if(rt===d&&++et===E&&(fe=W),rt===N&&++ut===g&&(ke=W),(nt=vt.nextSibling)!==null)break;vt=rt,rt=vt.parentNode}vt=nt}d=fe===-1||ke===-1?null:{start:fe,end:ke}}else d=null}d=d||{start:0,end:0}}else d=null;for(fv={focusedElem:o,selectionRange:d},fm=!1,Wa=c;Wa!==null;)if(c=Wa,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Wa=o;else for(;Wa!==null;){switch(c=Wa,N=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)E=o[d],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&N!==null){o=void 0,d=c,E=N.memoizedProps,N=N.memoizedState,g=d.stateNode;try{var rr=_h(d.type,E);o=g.getSnapshotBeforeUpdate(rr,N),g.__reactInternalSnapshotBeforeUpdate=o}catch(Tr){Fn(d,d.return,Tr)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,d=o.nodeType,d===9)mv(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":mv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,Wa=o;break}Wa=c.return}}function Tx(o,c,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Qc(o,d),g&4&&Ud(5,d);break;case 1:if(Qc(o,d),g&4)if(o=d.stateNode,c===null)try{o.componentDidMount()}catch(W){Fn(d,d.return,W)}else{var E=_h(d.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(E,c,o.__reactInternalSnapshotBeforeUpdate)}catch(W){Fn(d,d.return,W)}}g&64&&yx(d),g&512&&zd(d,d.return);break;case 3:if(Qc(o,d),g&64&&(o=d.updateQueue,o!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{Gi(o,c)}catch(W){Fn(d,d.return,W)}}break;case 27:c===null&&g&4&&Sx(d);case 26:case 5:Qc(o,d),c===null&&g&4&&wx(d),g&512&&zd(d,d.return);break;case 12:Qc(o,d);break;case 31:Qc(o,d),g&4&&Nx(o,d);break;case 13:Qc(o,d),g&4&&Cx(o,d),g&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=PT.bind(null,d),JT(o,d))));break;case 22:if(g=d.memoizedState!==null||Xc,!g){c=c!==null&&c.memoizedState!==null||_a,E=Xc;var N=_a;Xc=g,(_a=c)&&!N?eu(o,d,(d.subtreeFlags&8772)!==0):Qc(o,d),Xc=E,_a=N}break;case 30:break;default:Qc(o,d)}}function Ax(o){var c=o.alternate;c!==null&&(o.alternate=null,Ax(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&ht(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ai=null,vo=!1;function Jc(o,c,d){for(d=d.child;d!==null;)Lx(o,c,d),d=d.sibling}function Lx(o,c,d){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Mr,d)}catch{}switch(d.tag){case 26:_a||Sc(d,c),Jc(o,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:_a||Sc(d,c);var g=Ai,E=vo;ju(d.type)&&(Ai=d.stateNode,vo=!1),Jc(o,c,d),Kd(d.stateNode),Ai=g,vo=E;break;case 5:_a||Sc(d,c);case 6:if(g=Ai,E=vo,Ai=null,Jc(o,c,d),Ai=g,vo=E,Ai!==null)if(vo)try{(Ai.nodeType===9?Ai.body:Ai.nodeName==="HTML"?Ai.ownerDocument.body:Ai).removeChild(d.stateNode)}catch(N){Fn(d,c,N)}else try{Ai.removeChild(d.stateNode)}catch(N){Fn(d,c,N)}break;case 18:Ai!==null&&(vo?(o=Ai,yw(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),Lf(o)):yw(Ai,d.stateNode));break;case 4:g=Ai,E=vo,Ai=d.stateNode.containerInfo,vo=!0,Jc(o,c,d),Ai=g,vo=E;break;case 0:case 11:case 14:case 15:Cu(2,d,c),_a||Cu(4,d,c),Jc(o,c,d);break;case 1:_a||(Sc(d,c),g=d.stateNode,typeof g.componentWillUnmount=="function"&&xx(d,c,g)),Jc(o,c,d);break;case 21:Jc(o,c,d);break;case 22:_a=(g=_a)||d.memoizedState!==null,Jc(o,c,d),_a=g;break;default:Jc(o,c,d)}}function Nx(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Lf(o)}catch(d){Fn(c,c.return,d)}}}function Cx(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Lf(o)}catch(d){Fn(c,c.return,d)}}function ET(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Ex),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Ex),c;default:throw Error(n(435,o.tag))}}function $p(o,c){var d=ET(o);c.forEach(function(g){if(!d.has(g)){d.add(g);var E=OT.bind(null,o,g);g.then(E,E)}})}function _o(o,c){var d=c.deletions;if(d!==null)for(var g=0;g<d.length;g++){var E=d[g],N=o,W=c,fe=W;e:for(;fe!==null;){switch(fe.tag){case 27:if(ju(fe.type)){Ai=fe.stateNode,vo=!1;break e}break;case 5:Ai=fe.stateNode,vo=!1;break e;case 3:case 4:Ai=fe.stateNode.containerInfo,vo=!0;break e}fe=fe.return}if(Ai===null)throw Error(n(160));Lx(N,W,E),Ai=null,vo=!1,N=E.alternate,N!==null&&(N.return=null),E.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Mx(c,o),c=c.sibling}var Ul=null;function Mx(o,c){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:_o(c,o),yo(o),g&4&&(Cu(3,o,o.return),Ud(3,o),Cu(5,o,o.return));break;case 1:_o(c,o),yo(o),g&512&&(_a||d===null||Sc(d,d.return)),g&64&&Xc&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var E=Ul;if(_o(c,o),yo(o),g&512&&(_a||d===null||Sc(d,d.return)),g&4){var N=d!==null?d.memoizedState:null;if(g=o.memoizedState,d===null)if(g===null)if(o.stateNode===null){e:{g=o.type,d=o.memoizedProps,E=E.ownerDocument||E;t:switch(g){case"title":N=E.getElementsByTagName("title")[0],(!N||N[$e]||N[ne]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=E.createElement(g),E.head.insertBefore(N,E.querySelector("head > title"))),fs(N,g,d),N[ne]=o,Bt(N),g=N;break e;case"link":var W=Mw("link","href",E).get(g+(d.href||""));if(W){for(var fe=0;fe<W.length;fe++)if(N=W[fe],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){W.splice(fe,1);break t}}N=E.createElement(g),fs(N,g,d),E.head.appendChild(N);break;case"meta":if(W=Mw("meta","content",E).get(g+(d.content||""))){for(fe=0;fe<W.length;fe++)if(N=W[fe],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){W.splice(fe,1);break t}}N=E.createElement(g),fs(N,g,d),E.head.appendChild(N);break;default:throw Error(n(468,g))}N[ne]=o,Bt(N),g=N}o.stateNode=g}else kw(E,o.type,o.stateNode);else o.stateNode=Cw(E,g,o.memoizedProps);else N!==g?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,g===null?kw(E,o.type,o.stateNode):Cw(E,g,o.memoizedProps)):g===null&&o.stateNode!==null&&zg(o,o.memoizedProps,d.memoizedProps)}break;case 27:_o(c,o),yo(o),g&512&&(_a||d===null||Sc(d,d.return)),d!==null&&g&4&&zg(o,o.memoizedProps,d.memoizedProps);break;case 5:if(_o(c,o),yo(o),g&512&&(_a||d===null||Sc(d,d.return)),o.flags&32){E=o.stateNode;try{La(E,"")}catch(rr){Fn(o,o.return,rr)}}g&4&&o.stateNode!=null&&(E=o.memoizedProps,zg(o,E,d!==null?d.memoizedProps:E)),g&1024&&(qg=!0);break;case 6:if(_o(c,o),yo(o),g&4){if(o.stateNode===null)throw Error(n(162));g=o.memoizedProps,d=o.stateNode;try{d.nodeValue=g}catch(rr){Fn(o,o.return,rr)}}break;case 3:if(lm=null,E=Ul,Ul=sm(c.containerInfo),_o(c,o),Ul=E,yo(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Lf(c.containerInfo)}catch(rr){Fn(o,o.return,rr)}qg&&(qg=!1,kx(o));break;case 4:g=Ul,Ul=sm(o.stateNode.containerInfo),_o(c,o),yo(o),Ul=g;break;case 12:_o(c,o),yo(o);break;case 31:_o(c,o),yo(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,$p(o,g)));break;case 13:_o(c,o),yo(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Zp=Jt()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,$p(o,g)));break;case 22:E=o.memoizedState!==null;var ke=d!==null&&d.memoizedState!==null,et=Xc,ut=_a;if(Xc=et||E,_a=ut||ke,_o(c,o),_a=ut,Xc=et,yo(o),g&8192)e:for(c=o.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(d===null||ke||Xc||_a||yh(o)),d=null,c=o;;){if(c.tag===5||c.tag===26){if(d===null){ke=d=c;try{if(N=ke.stateNode,E)W=N.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{fe=ke.stateNode;var vt=ke.memoizedProps.style,rt=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;fe.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(rr){Fn(ke,ke.return,rr)}}}else if(c.tag===6){if(d===null){ke=c;try{ke.stateNode.nodeValue=E?"":ke.memoizedProps}catch(rr){Fn(ke,ke.return,rr)}}}else if(c.tag===18){if(d===null){ke=c;try{var nt=ke.stateNode;E?xw(nt,!0):xw(ke.stateNode,!1)}catch(rr){Fn(ke,ke.return,rr)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,$p(o,d))));break;case 19:_o(c,o),yo(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,$p(o,g)));break;case 30:break;case 21:break;default:_o(c,o),yo(o)}}function yo(o){var c=o.flags;if(c&2){try{for(var d,g=o.return;g!==null;){if(bx(g)){d=g;break}g=g.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var E=d.stateNode,N=Gg(o);Vp(o,N,E);break;case 5:var W=d.stateNode;d.flags&32&&(La(W,""),d.flags&=-33);var fe=Gg(o);Vp(o,fe,W);break;case 3:case 4:var ke=d.stateNode.containerInfo,et=Gg(o);Hg(o,et,ke);break;default:throw Error(n(161))}}catch(ut){Fn(o,o.return,ut)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function kx(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;kx(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Qc(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Tx(o,c.alternate,c),c=c.sibling}function yh(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Cu(4,c,c.return),yh(c);break;case 1:Sc(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&xx(c,c.return,d),yh(c);break;case 27:Kd(c.stateNode);case 26:case 5:Sc(c,c.return),yh(c);break;case 22:c.memoizedState===null&&yh(c);break;case 30:yh(c);break;default:yh(c)}o=o.sibling}}function eu(o,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,E=o,N=c,W=N.flags;switch(N.tag){case 0:case 11:case 15:eu(E,N,d),Ud(4,N);break;case 1:if(eu(E,N,d),g=N,E=g.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(et){Fn(g,g.return,et)}if(g=N,E=g.updateQueue,E!==null){var fe=g.stateNode;try{var ke=E.shared.hiddenCallbacks;if(ke!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ke.length;E++)Va(ke[E],fe)}catch(et){Fn(g,g.return,et)}}d&&W&64&&yx(N),zd(N,N.return);break;case 27:Sx(N);case 26:case 5:eu(E,N,d),d&&g===null&&W&4&&wx(N),zd(N,N.return);break;case 12:eu(E,N,d);break;case 31:eu(E,N,d),d&&W&4&&Nx(E,N);break;case 13:eu(E,N,d),d&&W&4&&Cx(E,N);break;case 22:N.memoizedState===null&&eu(E,N,d),zd(N,N.return);break;case 30:break;default:eu(E,N,d)}c=c.sibling}}function Vg(o,c){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&ph(d))}function $g(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&ph(o))}function zl(o,c,d,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Px(o,c,d,g),c=c.sibling}function Px(o,c,d,g){var E=c.flags;switch(c.tag){case 0:case 11:case 15:zl(o,c,d,g),E&2048&&Ud(9,c);break;case 1:zl(o,c,d,g);break;case 3:zl(o,c,d,g),E&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&ph(o)));break;case 12:if(E&2048){zl(o,c,d,g),o=c.stateNode;try{var N=c.memoizedProps,W=N.id,fe=N.onPostCommit;typeof fe=="function"&&fe(W,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ke){Fn(c,c.return,ke)}}else zl(o,c,d,g);break;case 31:zl(o,c,d,g);break;case 13:zl(o,c,d,g);break;case 23:break;case 22:N=c.stateNode,W=c.alternate,c.memoizedState!==null?N._visibility&2?zl(o,c,d,g):Gd(o,c):N._visibility&2?zl(o,c,d,g):(N._visibility|=2,gf(o,c,d,g,(c.subtreeFlags&10256)!==0||!1)),E&2048&&Vg(W,c);break;case 24:zl(o,c,d,g),E&2048&&$g(c.alternate,c);break;default:zl(o,c,d,g)}}function gf(o,c,d,g,E){for(E=E&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var N=o,W=c,fe=d,ke=g,et=W.flags;switch(W.tag){case 0:case 11:case 15:gf(N,W,fe,ke,E),Ud(8,W);break;case 23:break;case 22:var ut=W.stateNode;W.memoizedState!==null?ut._visibility&2?gf(N,W,fe,ke,E):Gd(N,W):(ut._visibility|=2,gf(N,W,fe,ke,E)),E&&et&2048&&Vg(W.alternate,W);break;case 24:gf(N,W,fe,ke,E),E&&et&2048&&$g(W.alternate,W);break;default:gf(N,W,fe,ke,E)}c=c.sibling}}function Gd(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=o,g=c,E=g.flags;switch(g.tag){case 22:Gd(d,g),E&2048&&Vg(g.alternate,g);break;case 24:Gd(d,g),E&2048&&$g(g.alternate,g);break;default:Gd(d,g)}c=c.sibling}}var Hd=8192;function vf(o,c,d){if(o.subtreeFlags&Hd)for(o=o.child;o!==null;)Ox(o,c,d),o=o.sibling}function Ox(o,c,d){switch(o.tag){case 26:vf(o,c,d),o.flags&Hd&&o.memoizedState!==null&&uA(d,Ul,o.memoizedState,o.memoizedProps);break;case 5:vf(o,c,d);break;case 3:case 4:var g=Ul;Ul=sm(o.stateNode.containerInfo),vf(o,c,d),Ul=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=Hd,Hd=16777216,vf(o,c,d),Hd=g):vf(o,c,d));break;default:vf(o,c,d)}}function Rx(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function qd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var g=c[d];Wa=g,jx(g,o)}Rx(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Dx(o),o=o.sibling}function Dx(o){switch(o.tag){case 0:case 11:case 15:qd(o),o.flags&2048&&Cu(9,o,o.return);break;case 3:qd(o);break;case 12:qd(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Wp(o)):qd(o);break;default:qd(o)}}function Wp(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var g=c[d];Wa=g,jx(g,o)}Rx(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Cu(8,c,c.return),Wp(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,Wp(c));break;default:Wp(c)}o=o.sibling}}function jx(o,c){for(;Wa!==null;){var d=Wa;switch(d.tag){case 0:case 11:case 15:Cu(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:ph(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,Wa=g;else e:for(d=o;Wa!==null;){g=Wa;var E=g.sibling,N=g.return;if(Ax(g),g===d){Wa=null;break e}if(E!==null){E.return=N,Wa=E;break e}Wa=N}}}var TT={getCacheForType:function(o){var c=Da(Di),d=c.data.get(o);return d===void 0&&(d=o(),c.data.set(o,d)),d},cacheSignal:function(){return Da(Di).controller.signal}},AT=typeof WeakMap=="function"?WeakMap:Map,Ln=0,ei=null,tn=null,an=0,In=0,qo=null,Mu=!1,_f=!1,Wg=!1,tu=0,$i=0,ku=0,xh=0,Zg=0,Vo=0,yf=0,Vd=null,xo=null,Yg=!1,Zp=0,Ix=0,Yp=1/0,Kp=null,Pu=null,Ia=0,Ou=null,xf=null,ru=0,Kg=0,Xg=null,Fx=null,$d=0,Jg=null;function $o(){return(Ln&2)!==0&&an!==0?an&-an:oe.T!==null?iv():K()}function Bx(){if(Vo===0)if((an&536870912)===0||Zr){var o=en;en<<=1,(en&3932160)===0&&(en=262144),Vo=o}else Vo=536870912;return o=gi.current,o!==null&&(o.flags|=32),Vo}function wo(o,c,d){(o===ei&&(In===2||In===9)||o.cancelPendingCommit!==null)&&(wf(o,0),Ru(o,an,Vo,!1)),Qt(o,d),((Ln&2)===0||o!==ei)&&(o===ei&&((Ln&2)===0&&(xh|=d),$i===4&&Ru(o,an,Vo,!1)),Ec(o))}function Ux(o,c,d){if((Ln&6)!==0)throw Error(n(327));var g=!d&&(c&127)===0&&(c&o.expiredLanes)===0||Ea(o,c),E=g?CT(o,c):ev(o,c,!0),N=g;do{if(E===0){_f&&!g&&Ru(o,c,0,!1);break}else{if(d=o.current.alternate,N&&!LT(d)){E=ev(o,c,!1),N=!1;continue}if(E===2){if(N=c,o.errorRecoveryDisabledLanes&N)var W=0;else W=o.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){c=W;e:{var fe=o;E=Vd;var ke=fe.current.memoizedState.isDehydrated;if(ke&&(wf(fe,W).flags|=256),W=ev(fe,W,!1),W!==2){if(Wg&&!ke){fe.errorRecoveryDisabledLanes|=N,xh|=N,E=4;break e}N=xo,xo=E,N!==null&&(xo===null?xo=N:xo.push.apply(xo,N))}E=W}if(N=!1,E!==2)continue}}if(E===1){wf(o,0),Ru(o,c,0,!0);break}e:{switch(g=o,N=E,N){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Ru(g,c,Vo,!Mu);break e;case 2:xo=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(E=Zp+300-Jt(),10<E)){if(Ru(g,c,Vo,!Mu),Gr(g,0,!0)!==0)break e;ru=c,g.timeoutHandle=vw(zx.bind(null,g,d,xo,Kp,Yg,c,Vo,xh,yf,Mu,N,"Throttled",-0,0),E);break e}zx(g,d,xo,Kp,Yg,c,Vo,xh,yf,Mu,N,null,-0,0)}}break}while(!0);Ec(o)}function zx(o,c,d,g,E,N,W,fe,ke,et,ut,vt,rt,nt){if(o.timeoutHandle=-1,vt=c.subtreeFlags,vt&8192||(vt&16785408)===16785408){vt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:za},Ox(c,N,vt);var rr=(N&62914560)===N?Zp-Jt():(N&4194048)===N?Ix-Jt():0;if(rr=hA(vt,rr),rr!==null){ru=N,o.cancelPendingCommit=rr(Yx.bind(null,o,c,N,d,g,E,W,fe,ke,ut,vt,null,rt,nt)),Ru(o,N,W,!et);return}}Yx(o,c,N,d,g,E,W,fe,ke)}function LT(o){for(var c=o;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var E=d[g],N=E.getSnapshot;E=E.value;try{if(!wi(N(),E))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ru(o,c,d,g){c&=~Zg,c&=~xh,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var E=c;0<E;){var N=31-Dr(E),W=1<<N;g[N]=-1,E&=~W}d!==0&&Ua(o,d,c)}function Xp(){return(Ln&6)===0?(Wd(0),!1):!0}function Qg(){if(tn!==null){if(In===0)var o=tn.return;else o=tn,po=Ho=null,cf(o),_t=null,nr=0,o=tn;for(;o!==null;)_x(o.alternate,o),o=o.return;tn=null}}function wf(o,c){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,WT(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),ru=0,Qg(),ei=o,tn=d=ls(o.current,null),an=c,In=0,qo=null,Mu=!1,_f=Ea(o,c),Wg=!1,yf=Vo=Zg=xh=ku=$i=0,xo=Vd=null,Yg=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var E=31-Dr(g),N=1<<E;c|=o[E],g&=~N}return tu=c,uc(),d}function Gx(o,c){mr=null,oe.H=Id,c===je||c===Ee?(c=ft(),In=3):c===Je?(c=ft(),In=4):In=c===kg?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,qo=c,tn===null&&($i=1,Up(o,m(c,o.current)))}function Hx(){var o=gi.current;return o===null?!0:(an&4194048)===an?gn===null:(an&62914560)===an||(an&536870912)!==0?o===gn:!1}function qx(){var o=oe.H;return oe.H=Id,o===null?Id:o}function Vx(){var o=oe.A;return oe.A=TT,o}function Jp(){$i=4,Mu||(an&4194048)!==an&&gi.current!==null||(_f=!0),(ku&134217727)===0&&(xh&134217727)===0||ei===null||Ru(ei,an,Vo,!1)}function ev(o,c,d){var g=Ln;Ln|=2;var E=qx(),N=Vx();(ei!==o||an!==c)&&(Kp=null,wf(o,c)),c=!1;var W=$i;e:do try{if(In!==0&&tn!==null){var fe=tn,ke=qo;switch(In){case 8:Qg(),W=6;break e;case 3:case 2:case 9:case 6:gi.current===null&&(c=!0);var et=In;if(In=0,qo=null,bf(o,fe,ke,et),d&&_f){W=0;break e}break;default:et=In,In=0,qo=null,bf(o,fe,ke,et)}}NT(),W=$i;break}catch(ut){Gx(o,ut)}while(!0);return c&&o.shellSuspendCounter++,po=Ho=null,Ln=g,oe.H=E,oe.A=N,tn===null&&(ei=null,an=0,uc()),W}function NT(){for(;tn!==null;)$x(tn)}function CT(o,c){var d=Ln;Ln|=2;var g=qx(),E=Vx();ei!==o||an!==c?(Kp=null,Yp=Jt()+500,wf(o,c)):_f=Ea(o,c);e:do try{if(In!==0&&tn!==null){c=tn;var N=qo;t:switch(In){case 1:In=0,qo=null,bf(o,c,N,1);break;case 2:case 9:if(Ke(N)){In=0,qo=null,Wx(c);break}c=function(){In!==2&&In!==9||ei!==o||(In=7),Ec(o)},N.then(c,c);break e;case 3:In=7;break e;case 4:In=5;break e;case 7:Ke(N)?(In=0,qo=null,Wx(c)):(In=0,qo=null,bf(o,c,N,7));break;case 5:var W=null;switch(tn.tag){case 26:W=tn.memoizedState;case 5:case 27:var fe=tn;if(W?Pw(W):fe.stateNode.complete){In=0,qo=null;var ke=fe.sibling;if(ke!==null)tn=ke;else{var et=fe.return;et!==null?(tn=et,Qp(et)):tn=null}break t}}In=0,qo=null,bf(o,c,N,5);break;case 6:In=0,qo=null,bf(o,c,N,6);break;case 8:Qg(),$i=6;break e;default:throw Error(n(462))}}MT();break}catch(ut){Gx(o,ut)}while(!0);return po=Ho=null,oe.H=g,oe.A=E,Ln=d,tn!==null?0:(ei=null,an=0,uc(),$i)}function MT(){for(;tn!==null&&!sr();)$x(tn)}function $x(o){var c=gx(o.alternate,o,tu);o.memoizedProps=o.pendingProps,c===null?Qp(o):tn=c}function Wx(o){var c=o,d=c.alternate;switch(c.tag){case 15:case 0:c=ux(d,c,c.pendingProps,c.type,void 0,an);break;case 11:c=ux(d,c,c.pendingProps,c.type.render,c.ref,an);break;case 5:cf(c);default:_x(d,c),c=tn=hc(c,tu),c=gx(d,c,tu)}o.memoizedProps=o.pendingProps,c===null?Qp(o):tn=c}function bf(o,c,d,g){po=Ho=null,cf(c),_t=null,nr=0;var E=c.return;try{if(_T(o,E,c,d,an)){$i=1,Up(o,m(d,o.current)),tn=null;return}}catch(N){if(E!==null)throw tn=E,N;$i=1,Up(o,m(d,o.current)),tn=null;return}c.flags&32768?(Zr||g===1?o=!0:_f||(an&536870912)!==0?o=!1:(Mu=o=!0,(g===2||g===9||g===3||g===6)&&(g=gi.current,g!==null&&g.tag===13&&(g.flags|=16384))),Zx(c,o)):Qp(c)}function Qp(o){var c=o;do{if((c.flags&32768)!==0){Zx(c,Mu);return}o=c.return;var d=wT(c.alternate,c,tu);if(d!==null){tn=d;return}if(c=c.sibling,c!==null){tn=c;return}tn=c=o}while(c!==null);$i===0&&($i=5)}function Zx(o,c){do{var d=bT(o.alternate,o);if(d!==null){d.flags&=32767,tn=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(o=o.sibling,o!==null)){tn=o;return}tn=o=d}while(o!==null);$i=6,tn=null}function Yx(o,c,d,g,E,N,W,fe,ke){o.cancelPendingCommit=null;do em();while(Ia!==0);if((Ln&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(N=c.lanes|c.childLanes,N|=Gc,Ja(o,d,N,W,fe,ke),o===ei&&(tn=ei=null,an=0),xf=c,Ou=o,ru=d,Kg=N,Xg=E,Fx=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,RT(or,function(){return ew(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=oe.T,oe.T=null,E=be.p,be.p=2,W=Ln,Ln|=4;try{ST(o,c,d)}finally{Ln=W,be.p=E,oe.T=g}}Ia=1,Kx(),Xx(),Jx()}}function Kx(){if(Ia===1){Ia=0;var o=Ou,c=xf,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=oe.T,oe.T=null;var g=be.p;be.p=2;var E=Ln;Ln|=4;try{Mx(c,o);var N=fv,W=Ls(o.containerInfo),fe=N.focusedElem,ke=N.selectionRange;if(W!==fe&&fe&&fe.ownerDocument&&Ks(fe.ownerDocument.documentElement,fe)){if(ke!==null&&Ma(fe)){var et=ke.start,ut=ke.end;if(ut===void 0&&(ut=et),"selectionStart"in fe)fe.selectionStart=et,fe.selectionEnd=Math.min(ut,fe.value.length);else{var vt=fe.ownerDocument||document,rt=vt&&vt.defaultView||window;if(rt.getSelection){var nt=rt.getSelection(),rr=fe.textContent.length,Tr=Math.min(ke.start,rr),Wn=ke.end===void 0?Tr:Math.min(ke.end,rr);!nt.extend&&Tr>Wn&&(W=Wn,Wn=Tr,Tr=W);var Ze=Uo(fe,Tr),Fe=Uo(fe,Wn);if(Ze&&Fe&&(nt.rangeCount!==1||nt.anchorNode!==Ze.node||nt.anchorOffset!==Ze.offset||nt.focusNode!==Fe.node||nt.focusOffset!==Fe.offset)){var Qe=vt.createRange();Qe.setStart(Ze.node,Ze.offset),nt.removeAllRanges(),Tr>Wn?(nt.addRange(Qe),nt.extend(Fe.node,Fe.offset)):(Qe.setEnd(Fe.node,Fe.offset),nt.addRange(Qe))}}}}for(vt=[],nt=fe;nt=nt.parentNode;)nt.nodeType===1&&vt.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<vt.length;fe++){var mt=vt[fe];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}fm=!!hv,fv=hv=null}finally{Ln=E,be.p=g,oe.T=d}}o.current=c,Ia=2}}function Xx(){if(Ia===2){Ia=0;var o=Ou,c=xf,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=oe.T,oe.T=null;var g=be.p;be.p=2;var E=Ln;Ln|=4;try{Tx(o,c.alternate,c)}finally{Ln=E,be.p=g,oe.T=d}}Ia=3}}function Jx(){if(Ia===4||Ia===3){Ia=0,Xt();var o=Ou,c=xf,d=ru,g=Fx;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ia=5:(Ia=0,xf=Ou=null,Qx(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(Pu=null),Ye(d),c=c.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Mr,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=oe.T,E=be.p,be.p=2,oe.T=null;try{for(var N=o.onRecoverableError,W=0;W<g.length;W++){var fe=g[W];N(fe.value,{componentStack:fe.stack})}}finally{oe.T=c,be.p=E}}(ru&3)!==0&&em(),Ec(o),E=o.pendingLanes,(d&261930)!==0&&(E&42)!==0?o===Jg?$d++:($d=0,Jg=o):$d=0,Wd(0)}}function Qx(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,ph(c)))}function em(){return Kx(),Xx(),Jx(),ew()}function ew(){if(Ia!==5)return!1;var o=Ou,c=Kg;Kg=0;var d=Ye(ru),g=oe.T,E=be.p;try{be.p=32>d?32:d,oe.T=null,d=Xg,Xg=null;var N=Ou,W=ru;if(Ia=0,xf=Ou=null,ru=0,(Ln&6)!==0)throw Error(n(331));var fe=Ln;if(Ln|=4,Dx(N.current),Px(N,N.current,W,d),Ln=fe,Wd(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Mr,N)}catch{}return!0}finally{be.p=E,oe.T=g,Qx(o,c)}}function tw(o,c,d){c=m(d,c),c=Mg(o.stateNode,c,2),o=zr(o,c,2),o!==null&&(Qt(o,2),Ec(o))}function Fn(o,c,d){if(o.tag===3)tw(o,o,d);else for(;c!==null;){if(c.tag===3){tw(c,o,d);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Pu===null||!Pu.has(g))){o=m(d,o),d=rx(2),g=zr(c,d,2),g!==null&&(nx(d,g,c,o),Qt(g,2),Ec(g));break}}c=c.return}}function tv(o,c,d){var g=o.pingCache;if(g===null){g=o.pingCache=new AT;var E=new Set;g.set(c,E)}else E=g.get(c),E===void 0&&(E=new Set,g.set(c,E));E.has(d)||(Wg=!0,E.add(d),o=kT.bind(null,o,c,d),c.then(o,o))}function kT(o,c,d){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,ei===o&&(an&d)===d&&($i===4||$i===3&&(an&62914560)===an&&300>Jt()-Zp?(Ln&2)===0&&wf(o,0):Zg|=d,yf===an&&(yf=0)),Ec(o)}function rw(o,c){c===0&&(c=Qi()),o=Cs(o,c),o!==null&&(Qt(o,c),Ec(o))}function PT(o){var c=o.memoizedState,d=0;c!==null&&(d=c.retryLane),rw(o,d)}function OT(o,c){var d=0;switch(o.tag){case 31:case 13:var g=o.stateNode,E=o.memoizedState;E!==null&&(d=E.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),rw(o,d)}function RT(o,c){return Vt(o,c)}var tm=null,Sf=null,rv=!1,rm=!1,nv=!1,Du=0;function Ec(o){o!==Sf&&o.next===null&&(Sf===null?tm=Sf=o:Sf=Sf.next=o),rm=!0,rv||(rv=!0,jT())}function Wd(o,c){if(!nv&&rm){nv=!0;do for(var d=!1,g=tm;g!==null;){if(o!==0){var E=g.pendingLanes;if(E===0)var N=0;else{var W=g.suspendedLanes,fe=g.pingedLanes;N=(1<<31-Dr(42|o)+1)-1,N&=E&~(W&~fe),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,sw(g,N))}else N=an,N=Gr(g,g===ei?N:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(N&3)===0||Ea(g,N)||(d=!0,sw(g,N));g=g.next}while(d);nv=!1}}function DT(){nw()}function nw(){rm=rv=!1;var o=0;Du!==0&&$T()&&(o=Du);for(var c=Jt(),d=null,g=tm;g!==null;){var E=g.next,N=iw(g,c);N===0?(g.next=null,d===null?tm=E:d.next=E,E===null&&(Sf=d)):(d=g,(o!==0||(N&3)!==0)&&(rm=!0)),g=E}Ia!==0&&Ia!==5||Wd(o),Du!==0&&(Du=0)}function iw(o,c){for(var d=o.suspendedLanes,g=o.pingedLanes,E=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var W=31-Dr(N),fe=1<<W,ke=E[W];ke===-1?((fe&d)===0||(fe&g)!==0)&&(E[W]=ci(fe,c)):ke<=c&&(o.expiredLanes|=fe),N&=~fe}if(c=ei,d=an,d=Gr(o,o===c?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,d===0||o===c&&(In===2||In===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&jt(g),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Ea(o,d)){if(c=d&-d,c===o.callbackPriority)return c;switch(g!==null&&jt(g),Ye(d)){case 2:case 8:d=Nr;break;case 32:d=or;break;case 268435456:d=_r;break;default:d=or}return g=aw.bind(null,o),d=Vt(d,g),o.callbackPriority=c,o.callbackNode=d,c}return g!==null&&g!==null&&jt(g),o.callbackPriority=2,o.callbackNode=null,2}function aw(o,c){if(Ia!==0&&Ia!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(em()&&o.callbackNode!==d)return null;var g=an;return g=Gr(o,o===ei?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(Ux(o,g,c),iw(o,Jt()),o.callbackNode!=null&&o.callbackNode===d?aw.bind(null,o):null)}function sw(o,c){if(em())return null;Ux(o,c,!0)}function jT(){ZT(function(){(Ln&6)!==0?Vt(dr,DT):nw()})}function iv(){if(Du===0){var o=w;o===0&&(o=ur,ur<<=1,(ur&261888)===0&&(ur=256)),Du=o}return Du}function ow(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:da(""+o)}function lw(o,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,o.id&&d.setAttribute("form",o.id),c.parentNode.insertBefore(d,c),o=new FormData(o),d.parentNode.removeChild(d),o}function IT(o,c,d,g,E){if(c==="submit"&&d&&d.stateNode===E){var N=ow((E[he]||null).action),W=g.submitter;W&&(c=(c=W[he]||null)?ow(c.formAction):W.getAttribute("formAction"),c!==null&&(N=c,W=null));var fe=new Ss("action","action",null,g,E);o.push({event:fe,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Du!==0){var ke=W?lw(E,W):new FormData(E);Eg(d,{pending:!0,data:ke,method:E.method,action:N},null,ke)}}else typeof N=="function"&&(fe.preventDefault(),ke=W?lw(E,W):new FormData(E),Eg(d,{pending:!0,data:ke,method:E.method,action:N},N,ke))},currentTarget:E}]})}}for(var av=0;av<Ns.length;av++){var sv=Ns[av],FT=sv.toLowerCase(),BT=sv[0].toUpperCase()+sv.slice(1);ss(FT,"on"+BT)}ss(fo,"onAnimationEnd"),ss(zc,"onAnimationIteration"),ss(lc,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(tf,"onTransitionRun"),ss(hh,"onTransitionStart"),ss(rf,"onTransitionCancel"),ss(Ol,"onTransitionEnd"),Kn("onMouseEnter",["mouseout","mouseover"]),Kn("onMouseLeave",["mouseout","mouseover"]),Kn("onPointerEnter",["pointerout","pointerover"]),Kn("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zd));function cw(o,c){c=(c&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],E=g.event;g=g.listeners;e:{var N=void 0;if(c)for(var W=g.length-1;0<=W;W--){var fe=g[W],ke=fe.instance,et=fe.currentTarget;if(fe=fe.listener,ke!==N&&E.isPropagationStopped())break e;N=fe,E.currentTarget=et;try{N(E)}catch(ut){cc(ut)}E.currentTarget=null,N=ke}else for(W=0;W<g.length;W++){if(fe=g[W],ke=fe.instance,et=fe.currentTarget,fe=fe.listener,ke!==N&&E.isPropagationStopped())break e;N=fe,E.currentTarget=et;try{N(E)}catch(ut){cc(ut)}E.currentTarget=null,N=ke}}}}function rn(o,c){var d=c[Pe];d===void 0&&(d=c[Pe]=new Set);var g=o+"__bubble";d.has(g)||(uw(c,o,2,!1),d.add(g))}function ov(o,c,d){var g=0;c&&(g|=4),uw(d,o,g,c)}var nm="_reactListening"+Math.random().toString(36).slice(2);function lv(o){if(!o[nm]){o[nm]=!0,Hr.forEach(function(d){d!=="selectionchange"&&(UT.has(d)||ov(d,!1,o),ov(d,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[nm]||(c[nm]=!0,ov("selectionchange",!1,c))}}function uw(o,c,d,g){switch(Bw(c)){case 2:var E=pA;break;case 8:E=mA;break;default:E=Sv}d=E.bind(null,c,d,o),E=void 0,!Nl||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),g?E!==void 0?o.addEventListener(c,d,{capture:!0,passive:E}):o.addEventListener(c,d,!0):E!==void 0?o.addEventListener(c,d,{passive:E}):o.addEventListener(c,d,!1)}function cv(o,c,d,g,E){var N=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var W=g.tag;if(W===3||W===4){var fe=g.stateNode.containerInfo;if(fe===E)break;if(W===4)for(W=g.return;W!==null;){var ke=W.tag;if((ke===3||ke===4)&&W.stateNode.containerInfo===E)return;W=W.return}for(;fe!==null;){if(W=bt(fe),W===null)return;if(ke=W.tag,ke===5||ke===6||ke===26||ke===27){g=N=W;continue e}fe=fe.parentNode}}g=g.return}Fc(function(){var et=N,ut=Po(d),vt=[];e:{var rt=fh.get(o);if(rt!==void 0){var nt=Ss,rr=o;switch(o){case"keypress":if(ts(d)===0)break e;case"keydown":case"keyup":nt=Xr;break;case"focusin":rr="focus",nt=Ro;break;case"focusout":rr="blur",nt=Ro;break;case"beforeblur":case"afterblur":nt=Ro;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Oo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Ri;break;case fo:case zc:case lc:nt=P;break;case Ol:nt=Fi;break;case"scroll":case"scrollend":nt=Br;break;case"wheel":nt=ra;break;case"copy":case"cut":case"paste":nt=Se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=ui;break;case"toggle":case"beforetoggle":nt=jo}var Tr=(c&4)!==0,Wn=!Tr&&(o==="scroll"||o==="scrollend"),Ze=Tr?rt!==null?rt+"Capture":null:rt;Tr=[];for(var Fe=et,Qe;Fe!==null;){var mt=Fe;if(Qe=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||Qe===null||Ze===null||(mt=Na(Fe,Ze),mt!=null&&Tr.push(Yd(Fe,mt,Qe))),Wn)break;Fe=Fe.return}0<Tr.length&&(rt=new nt(rt,rr,null,d,ut),vt.push({event:rt,listeners:Tr}))}}if((c&7)===0){e:{if(rt=o==="mouseover"||o==="pointerover",nt=o==="mouseout"||o==="pointerout",rt&&d!==ro&&(rr=d.relatedTarget||d.fromElement)&&(bt(rr)||rr[ge]))break e;if((nt||rt)&&(rt=ut.window===ut?ut:(rt=ut.ownerDocument)?rt.defaultView||rt.parentWindow:window,nt?(rr=d.relatedTarget||d.toElement,nt=et,rr=rr?bt(rr):null,rr!==null&&(Wn=a(rr),Tr=rr.tag,rr!==Wn||Tr!==5&&Tr!==27&&Tr!==6)&&(rr=null)):(nt=null,rr=et),nt!==rr)){if(Tr=Bc,mt="onMouseLeave",Ze="onMouseEnter",Fe="mouse",(o==="pointerout"||o==="pointerover")&&(Tr=ui,mt="onPointerLeave",Ze="onPointerEnter",Fe="pointer"),Wn=nt==null?rt:gt(nt),Qe=rr==null?rt:gt(rr),rt=new Tr(mt,Fe+"leave",nt,d,ut),rt.target=Wn,rt.relatedTarget=Qe,mt=null,bt(ut)===et&&(Tr=new Tr(Ze,Fe+"enter",rr,d,ut),Tr.target=Qe,Tr.relatedTarget=Wn,mt=Tr),Wn=mt,nt&&rr)t:{for(Tr=zT,Ze=nt,Fe=rr,Qe=0,mt=Ze;mt;mt=Tr(mt))Qe++;mt=0;for(var vr=Fe;vr;vr=Tr(vr))mt++;for(;0<Qe-mt;)Ze=Tr(Ze),Qe--;for(;0<mt-Qe;)Fe=Tr(Fe),mt--;for(;Qe--;){if(Ze===Fe||Fe!==null&&Ze===Fe.alternate){Tr=Ze;break t}Ze=Tr(Ze),Fe=Tr(Fe)}Tr=null}else Tr=null;nt!==null&&hw(vt,rt,nt,Tr,!1),rr!==null&&Wn!==null&&hw(vt,Wn,rr,Tr,!0)}}e:{if(rt=et?gt(et):window,nt=rt.nodeName&&rt.nodeName.toLowerCase(),nt==="select"||nt==="input"&&rt.type==="file")var bn=Zs;else if(ns(rt))if(Ha)bn=oo;else{bn=fi;var lr=qa}else nt=rt.nodeName,!nt||nt.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?et&&Ll(et.elementType)&&(bn=Zs):bn=Bo;if(bn&&(bn=bn(o,et))){is(vt,bn,d,ut);break e}lr&&lr(o,rt,et),o==="focusout"&&et&&rt.type==="number"&&et.memoizedProps.value!=null&&Gs(rt,"number",rt.value)}switch(lr=et?gt(et):window,o){case"focusin":(ns(lr)||lr.contentEditable==="true")&&(ka=lr,uo=et,ma=null);break;case"focusout":ma=uo=ka=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,un(vt,d,ut);break;case"selectionchange":if(co)break;case"keydown":case"keyup":un(vt,d,ut)}var Vr;if($s)e:{switch(o){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else ao?cl(o,d)&&(sn="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(sn="onCompositionStart");sn&&(Ws&&d.locale!=="ko"&&(ao||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&ao&&(Vr=no()):(Ca=ut,qs="value"in Ca?Ca.value:Ca.textContent,ao=!0)),lr=im(et,sn),0<lr.length&&(sn=new Ve(sn,o,null,d,ut),vt.push({event:sn,listeners:lr}),Vr?sn.data=Vr:(Vr=Pl(d),Vr!==null&&(sn.data=Vr)))),(Vr=kl?Dn(o,d):Ga(o,d))&&(sn=im(et,"onBeforeInput"),0<sn.length&&(lr=new Ve("onBeforeInput","beforeinput",null,d,ut),vt.push({event:lr,listeners:sn}),lr.data=Vr)),IT(vt,o,et,d,ut)}cw(vt,c)})}function Yd(o,c,d){return{instance:o,listener:c,currentTarget:d}}function im(o,c){for(var d=c+"Capture",g=[];o!==null;){var E=o,N=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||N===null||(E=Na(o,d),E!=null&&g.unshift(Yd(o,E,N)),E=Na(o,c),E!=null&&g.push(Yd(o,E,N))),o.tag===3)return g;o=o.return}return[]}function zT(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function hw(o,c,d,g,E){for(var N=c._reactName,W=[];d!==null&&d!==g;){var fe=d,ke=fe.alternate,et=fe.stateNode;if(fe=fe.tag,ke!==null&&ke===g)break;fe!==5&&fe!==26&&fe!==27||et===null||(ke=et,E?(et=Na(d,N),et!=null&&W.unshift(Yd(d,et,ke))):E||(et=Na(d,N),et!=null&&W.push(Yd(d,et,ke)))),d=d.return}W.length!==0&&o.push({event:c,listeners:W})}var GT=/\r\n?/g,HT=/\u0000|\uFFFD/g;function fw(o){return(typeof o=="string"?o:""+o).replace(GT,`
`).replace(HT,"")}function dw(o,c){return c=fw(c),fw(o)===c}function $n(o,c,d,g,E,N){switch(d){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||La(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&La(o,""+g);break;case"className":qr(o,"class",g);break;case"tabIndex":qr(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(o,d,g);break;case"style":nc(o,g,N);break;case"data":if(c!=="object"){qr(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||d!=="href")){o.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(d);break}g=da(""+g),o.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(c!=="input"&&$n(o,c,"name",E.name,E,null),$n(o,c,"formEncType",E.formEncType,E,null),$n(o,c,"formMethod",E.formMethod,E,null),$n(o,c,"formTarget",E.formTarget,E,null)):($n(o,c,"encType",E.encType,E,null),$n(o,c,"method",E.method,E,null),$n(o,c,"target",E.target,E,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(d);break}g=da(""+g),o.setAttribute(d,g);break;case"onClick":g!=null&&(o.onclick=za);break;case"onScroll":g!=null&&rn("scroll",o);break;case"onScrollEnd":g!=null&&rn("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(n(60));o.innerHTML=d}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}d=da(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,""+g):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":g===!0?o.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,g):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(d,g):o.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(d):o.setAttribute(d,g);break;case"popover":rn("beforetoggle",o),rn("toggle",o),Ut(o,"popover",g);break;case"xlinkActuate":ri(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ri(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ri(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ri(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ri(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ri(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ri(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ri(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ri(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ut(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=al.get(d)||d,Ut(o,d,g))}}function uv(o,c,d,g,E,N){switch(d){case"style":nc(o,g,N);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(n(60));o.innerHTML=d}}break;case"children":typeof g=="string"?La(o,g):(typeof g=="number"||typeof g=="bigint")&&La(o,""+g);break;case"onScroll":g!=null&&rn("scroll",o);break;case"onScrollEnd":g!=null&&rn("scrollend",o);break;case"onClick":g!=null&&(o.onclick=za);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wr.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),c=d.slice(2,E?d.length-7:void 0),N=o[he]||null,N=N!=null?N[d]:null,typeof N=="function"&&o.removeEventListener(c,N,E),typeof g=="function")){typeof N!="function"&&N!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(c,g,E);break e}d in o?o[d]=g:g===!0?o.setAttribute(d,""):Ut(o,d,g)}}}function fs(o,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rn("error",o),rn("load",o);var g=!1,E=!1,N;for(N in d)if(d.hasOwnProperty(N)){var W=d[N];if(W!=null)switch(N){case"src":g=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:$n(o,c,N,W,d,null)}}E&&$n(o,c,"srcSet",d.srcSet,d,null),g&&$n(o,c,"src",d.src,d,null);return;case"input":rn("invalid",o);var fe=N=W=E=null,ke=null,et=null;for(g in d)if(d.hasOwnProperty(g)){var ut=d[g];if(ut!=null)switch(g){case"name":E=ut;break;case"type":W=ut;break;case"checked":ke=ut;break;case"defaultChecked":et=ut;break;case"value":N=ut;break;case"defaultValue":fe=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(n(137,c));break;default:$n(o,c,g,ut,d,null)}}Al(o,N,fe,ke,et,W,E,!1);return;case"select":rn("invalid",o),g=W=N=null;for(E in d)if(d.hasOwnProperty(E)&&(fe=d[E],fe!=null))switch(E){case"value":N=fe;break;case"defaultValue":W=fe;break;case"multiple":g=fe;default:$n(o,c,E,fe,d,null)}c=N,d=W,o.multiple=!!g,c!=null?Kr(o,!!g,c,!1):d!=null&&Kr(o,!!g,d,!0);return;case"textarea":rn("invalid",o),N=E=g=null;for(W in d)if(d.hasOwnProperty(W)&&(fe=d[W],fe!=null))switch(W){case"value":g=fe;break;case"defaultValue":E=fe;break;case"children":N=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(91));break;default:$n(o,c,W,fe,d,null)}Mo(o,g,E,N);return;case"option":for(ke in d)d.hasOwnProperty(ke)&&(g=d[ke],g!=null)&&(ke==="selected"?o.selected=g&&typeof g!="function"&&typeof g!="symbol":$n(o,c,ke,g,d,null));return;case"dialog":rn("beforetoggle",o),rn("toggle",o),rn("cancel",o),rn("close",o);break;case"iframe":case"object":rn("load",o);break;case"video":case"audio":for(g=0;g<Zd.length;g++)rn(Zd[g],o);break;case"image":rn("error",o),rn("load",o);break;case"details":rn("toggle",o);break;case"embed":case"source":case"link":rn("error",o),rn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in d)if(d.hasOwnProperty(et)&&(g=d[et],g!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:$n(o,c,et,g,d,null)}return;default:if(Ll(c)){for(ut in d)d.hasOwnProperty(ut)&&(g=d[ut],g!==void 0&&uv(o,c,ut,g,d,void 0));return}}for(fe in d)d.hasOwnProperty(fe)&&(g=d[fe],g!=null&&$n(o,c,fe,g,d,null))}function qT(o,c,d,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,N=null,W=null,fe=null,ke=null,et=null,ut=null;for(nt in d){var vt=d[nt];if(d.hasOwnProperty(nt)&&vt!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":ke=vt;default:g.hasOwnProperty(nt)||$n(o,c,nt,null,g,vt)}}for(var rt in g){var nt=g[rt];if(vt=d[rt],g.hasOwnProperty(rt)&&(nt!=null||vt!=null))switch(rt){case"type":N=nt;break;case"name":E=nt;break;case"checked":et=nt;break;case"defaultChecked":ut=nt;break;case"value":W=nt;break;case"defaultValue":fe=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(n(137,c));break;default:nt!==vt&&$n(o,c,rt,nt,g,vt)}}rc(o,W,fe,ke,et,ut,N,E);return;case"select":nt=W=fe=rt=null;for(N in d)if(ke=d[N],d.hasOwnProperty(N)&&ke!=null)switch(N){case"value":break;case"multiple":nt=ke;default:g.hasOwnProperty(N)||$n(o,c,N,null,g,ke)}for(E in g)if(N=g[E],ke=d[E],g.hasOwnProperty(E)&&(N!=null||ke!=null))switch(E){case"value":rt=N;break;case"defaultValue":fe=N;break;case"multiple":W=N;default:N!==ke&&$n(o,c,E,N,g,ke)}c=fe,d=W,g=nt,rt!=null?Kr(o,!!d,rt,!1):!!g!=!!d&&(c!=null?Kr(o,!!d,c,!0):Kr(o,!!d,d?[]:"",!1));return;case"textarea":nt=rt=null;for(fe in d)if(E=d[fe],d.hasOwnProperty(fe)&&E!=null&&!g.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:$n(o,c,fe,null,g,E)}for(W in g)if(E=g[W],N=d[W],g.hasOwnProperty(W)&&(E!=null||N!=null))switch(W){case"value":rt=E;break;case"defaultValue":nt=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==N&&$n(o,c,W,E,g,N)}Hs(o,rt,nt);return;case"option":for(var rr in d)rt=d[rr],d.hasOwnProperty(rr)&&rt!=null&&!g.hasOwnProperty(rr)&&(rr==="selected"?o.selected=!1:$n(o,c,rr,null,g,rt));for(ke in g)rt=g[ke],nt=d[ke],g.hasOwnProperty(ke)&&rt!==nt&&(rt!=null||nt!=null)&&(ke==="selected"?o.selected=rt&&typeof rt!="function"&&typeof rt!="symbol":$n(o,c,ke,rt,g,nt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tr in d)rt=d[Tr],d.hasOwnProperty(Tr)&&rt!=null&&!g.hasOwnProperty(Tr)&&$n(o,c,Tr,null,g,rt);for(et in g)if(rt=g[et],nt=d[et],g.hasOwnProperty(et)&&rt!==nt&&(rt!=null||nt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,c));break;default:$n(o,c,et,rt,g,nt)}return;default:if(Ll(c)){for(var Wn in d)rt=d[Wn],d.hasOwnProperty(Wn)&&rt!==void 0&&!g.hasOwnProperty(Wn)&&uv(o,c,Wn,void 0,g,rt);for(ut in g)rt=g[ut],nt=d[ut],!g.hasOwnProperty(ut)||rt===nt||rt===void 0&&nt===void 0||uv(o,c,ut,rt,g,nt);return}}for(var Ze in d)rt=d[Ze],d.hasOwnProperty(Ze)&&rt!=null&&!g.hasOwnProperty(Ze)&&$n(o,c,Ze,null,g,rt);for(vt in g)rt=g[vt],nt=d[vt],!g.hasOwnProperty(vt)||rt===nt||rt==null&&nt==null||$n(o,c,vt,rt,g,nt)}function pw(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VT(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var E=d[g],N=E.transferSize,W=E.initiatorType,fe=E.duration;if(N&&fe&&pw(W)){for(W=0,fe=E.responseEnd,g+=1;g<d.length;g++){var ke=d[g],et=ke.startTime;if(et>fe)break;var ut=ke.transferSize,vt=ke.initiatorType;ut&&pw(vt)&&(ke=ke.responseEnd,W+=ut*(ke<fe?1:(fe-et)/(ke-et)))}if(--g,c+=8*(N+W)/(E.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var hv=null,fv=null;function am(o){return o.nodeType===9?o:o.ownerDocument}function mw(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gw(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function dv(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var pv=null;function $T(){var o=window.event;return o&&o.type==="popstate"?o===pv?!1:(pv=o,!0):(pv=null,!1)}var vw=typeof setTimeout=="function"?setTimeout:void 0,WT=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof _w<"u"?function(o){return _w.resolve(null).then(o).catch(YT)}:vw;function YT(o){setTimeout(function(){throw o})}function ju(o){return o==="head"}function yw(o,c){var d=c,g=0;do{var E=d.nextSibling;if(o.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"||d==="/&"){if(g===0){o.removeChild(E),Lf(c);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")Kd(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Kd(d);for(var N=d.firstChild;N;){var W=N.nextSibling,fe=N.nodeName;N[$e]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=W}}else d==="body"&&Kd(o.ownerDocument.body);d=E}while(d);Lf(c)}function xw(o,c){var d=o;o=0;do{var g=d.nextSibling;if(d.nodeType===1?c?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(c?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=g}while(d)}function mv(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":mv(d),ht(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function KT(o,c,d,g){for(;o.nodeType===1;){var E=d;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[$e])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(N=o.getAttribute("rel"),N==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(N!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(N=o.getAttribute("src"),(N!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&N&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var N=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===N)return o}else return o;if(o=ml(o.nextSibling),o===null)break}return null}function XT(o,c,d){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=ml(o.nextSibling),o===null))return null;return o}function ww(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=ml(o.nextSibling),o===null))return null;return o}function gv(o){return o.data==="$?"||o.data==="$~"}function vv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function JT(o,c){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||d.readyState!=="loading")c();else{var g=function(){c(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function ml(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var _v=null;function bw(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(c===0)return ml(o.nextSibling);c--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||c++}o=o.nextSibling}return null}function Sw(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(c===0)return o;c--}else d!=="/$"&&d!=="/&"||c++}o=o.previousSibling}return null}function Ew(o,c,d){switch(c=am(d),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Kd(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);ht(o)}var gl=new Map,Tw=new Set;function sm(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var nu=be.d;be.d={f:QT,r:eA,D:tA,C:rA,L:nA,m:iA,X:sA,S:aA,M:oA};function QT(){var o=nu.f(),c=Xp();return o||c}function eA(o){var c=wt(o);c!==null&&c.tag===5&&c.type==="form"?Gy(c):nu.r(o)}var Ef=typeof document>"u"?null:document;function Aw(o,c,d){var g=Ef;if(g&&typeof c=="string"&&c){var E=cn(c);E='link[rel="'+o+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),Tw.has(E)||(Tw.add(E),o={rel:o,crossOrigin:d,href:c},g.querySelector(E)===null&&(c=g.createElement("link"),fs(c,"link",o),Bt(c),g.head.appendChild(c)))}}function tA(o){nu.D(o),Aw("dns-prefetch",o,null)}function rA(o,c){nu.C(o,c),Aw("preconnect",o,c)}function nA(o,c,d){nu.L(o,c,d);var g=Ef;if(g&&o&&c){var E='link[rel="preload"][as="'+cn(c)+'"]';c==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+cn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+cn(d.imageSizes)+'"]')):E+='[href="'+cn(o)+'"]';var N=E;switch(c){case"style":N=Tf(o);break;case"script":N=Af(o)}gl.has(N)||(o=v({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:o,as:c},d),gl.set(N,o),g.querySelector(E)!==null||c==="style"&&g.querySelector(Xd(N))||c==="script"&&g.querySelector(Jd(N))||(c=g.createElement("link"),fs(c,"link",o),Bt(c),g.head.appendChild(c)))}}function iA(o,c){nu.m(o,c);var d=Ef;if(d&&o){var g=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+cn(g)+'"][href="'+cn(o)+'"]',N=E;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Af(o)}if(!gl.has(N)&&(o=v({rel:"modulepreload",href:o},c),gl.set(N,o),d.querySelector(E)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Jd(N)))return}g=d.createElement("link"),fs(g,"link",o),Bt(g),d.head.appendChild(g)}}}function aA(o,c,d){nu.S(o,c,d);var g=Ef;if(g&&o){var E=Mt(g).hoistableStyles,N=Tf(o);c=c||"default";var W=E.get(N);if(!W){var fe={loading:0,preload:null};if(W=g.querySelector(Xd(N)))fe.loading=5;else{o=v({rel:"stylesheet",href:o,"data-precedence":c},d),(d=gl.get(N))&&yv(o,d);var ke=W=g.createElement("link");Bt(ke),fs(ke,"link",o),ke._p=new Promise(function(et,ut){ke.onload=et,ke.onerror=ut}),ke.addEventListener("load",function(){fe.loading|=1}),ke.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,om(W,c,g)}W={type:"stylesheet",instance:W,count:1,state:fe},E.set(N,W)}}}function sA(o,c){nu.X(o,c);var d=Ef;if(d&&o){var g=Mt(d).hoistableScripts,E=Af(o),N=g.get(E);N||(N=d.querySelector(Jd(E)),N||(o=v({src:o,async:!0},c),(c=gl.get(E))&&xv(o,c),N=d.createElement("script"),Bt(N),fs(N,"link",o),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(E,N))}}function oA(o,c){nu.M(o,c);var d=Ef;if(d&&o){var g=Mt(d).hoistableScripts,E=Af(o),N=g.get(E);N||(N=d.querySelector(Jd(E)),N||(o=v({src:o,async:!0,type:"module"},c),(c=gl.get(E))&&xv(o,c),N=d.createElement("script"),Bt(N),fs(N,"link",o),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(E,N))}}function Lw(o,c,d,g){var E=(E=se.current)?sm(E):null;if(!E)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=Tf(d.href),d=Mt(E).hoistableStyles,g=d.get(c),g||(g={type:"style",instance:null,count:0,state:null},d.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=Tf(d.href);var N=Mt(E).hoistableStyles,W=N.get(o);if(W||(E=E.ownerDocument||E,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(o,W),(N=E.querySelector(Xd(o)))&&!N._p&&(W.instance=N,W.state.loading=5),gl.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},gl.set(o,d),N||lA(E,o,d,W.state))),c&&g===null)throw Error(n(528,""));return W}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Af(d),d=Mt(E).hoistableScripts,g=d.get(c),g||(g={type:"script",instance:null,count:0,state:null},d.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Tf(o){return'href="'+cn(o)+'"'}function Xd(o){return'link[rel="stylesheet"]['+o+"]"}function Nw(o){return v({},o,{"data-precedence":o.precedence,precedence:null})}function lA(o,c,d,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),fs(c,"link",d),Bt(c),o.head.appendChild(c))}function Af(o){return'[src="'+cn(o)+'"]'}function Jd(o){return"script[async]"+o}function Cw(o,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+cn(d.href)+'"]');if(g)return c.instance=g,Bt(g),g;var E=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Bt(g),fs(g,"style",E),om(g,d.precedence,o),c.instance=g;case"stylesheet":E=Tf(d.href);var N=o.querySelector(Xd(E));if(N)return c.state.loading|=4,c.instance=N,Bt(N),N;g=Nw(d),(E=gl.get(E))&&yv(g,E),N=(o.ownerDocument||o).createElement("link"),Bt(N);var W=N;return W._p=new Promise(function(fe,ke){W.onload=fe,W.onerror=ke}),fs(N,"link",g),c.state.loading|=4,om(N,d.precedence,o),c.instance=N;case"script":return N=Af(d.src),(E=o.querySelector(Jd(N)))?(c.instance=E,Bt(E),E):(g=d,(E=gl.get(N))&&(g=v({},d),xv(g,E)),o=o.ownerDocument||o,E=o.createElement("script"),Bt(E),fs(E,"link",g),o.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,om(g,d.precedence,o));return c.instance}function om(o,c,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=g.length?g[g.length-1]:null,N=E,W=0;W<g.length;W++){var fe=g[W];if(fe.dataset.precedence===c)N=fe;else if(N!==E)break}N?N.parentNode.insertBefore(o,N.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(o,c.firstChild))}function yv(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function xv(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var lm=null;function Mw(o,c,d){if(lm===null){var g=new Map,E=lm=new Map;E.set(d,g)}else E=lm,g=E.get(d),g||(g=new Map,E.set(d,g));if(g.has(o))return g;for(g.set(o,null),d=d.getElementsByTagName(o),E=0;E<d.length;E++){var N=d[E];if(!(N[$e]||N[ne]||o==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var W=N.getAttribute(c)||"";W=o+W;var fe=g.get(W);fe?fe.push(N):g.set(W,[N])}}return g}function kw(o,c,d){o=o.ownerDocument||o,o.head.insertBefore(d,c==="title"?o.querySelector("head > title"):null)}function cA(o,c,d){if(d===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(o=c.disabled,typeof c.precedence=="string"&&o==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function Pw(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function uA(o,c,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=Tf(g.href),N=c.querySelector(Xd(E));if(N){c=N._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=cm.bind(o),c.then(o,o)),d.state.loading|=4,d.instance=N,Bt(N);return}N=c.ownerDocument||c,g=Nw(g),(E=gl.get(E))&&yv(g,E),N=N.createElement("link"),Bt(N);var W=N;W._p=new Promise(function(fe,ke){W.onload=fe,W.onerror=ke}),fs(N,"link",g),d.instance=N}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=cm.bind(o),c.addEventListener("load",d),c.addEventListener("error",d))}}var wv=0;function hA(o,c){return o.stylesheets&&o.count===0&&hm(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var g=setTimeout(function(){if(o.stylesheets&&hm(o,o.stylesheets),o.unsuspend){var N=o.unsuspend;o.unsuspend=null,N()}},6e4+c);0<o.imgBytes&&wv===0&&(wv=62500*VT());var E=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&hm(o,o.stylesheets),o.unsuspend)){var N=o.unsuspend;o.unsuspend=null,N()}},(o.imgBytes>wv?50:800)+c);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(E)}}:null}function cm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hm(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var um=null;function hm(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,um=new Map,c.forEach(fA,o),um=null,cm.call(o))}function fA(o,c){if(!(c.state.loading&4)){var d=um.get(o);if(d)var g=d.get(null);else{d=new Map,um.set(o,d);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<E.length;N++){var W=E[N];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(d.set(W.dataset.precedence,W),g=W)}g&&d.set(null,g)}E=c.instance,W=E.getAttribute("data-precedence"),N=d.get(W)||g,N===g&&d.set(null,E),d.set(W,E),this.count++,g=cm.bind(this),E.addEventListener("load",g),E.addEventListener("error",g),N?N.parentNode.insertBefore(E,N.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),c.state.loading|=4}}var Qd={$$typeof:j,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function dA(o,c,d,g,E,N,W,fe,ke){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=g,this.onUncaughtError=E,this.onCaughtError=N,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ke,this.incompleteTransitions=new Map}function Ow(o,c,d,g,E,N,W,fe,ke,et,ut,vt){return o=new dA(o,c,d,W,ke,et,ut,vt,fe),c=1,N===!0&&(c|=24),N=aa(3,null,null,c),o.current=N,N.stateNode=o,c=Eu(),c.refCount++,o.pooledCache=c,c.refCount++,N.memoizedState={element:g,isDehydrated:d,cache:c},Rt(N),o}function Rw(o){return o?(o=Ui,o):Ui}function Dw(o,c,d,g,E,N){E=Rw(E),g.context===null?g.context=E:g.pendingContext=E,g=Sr(c),g.payload={element:d},N=N===void 0?null:N,N!==null&&(g.callback=N),d=zr(o,g,c),d!==null&&(wo(d,o,c),Tn(d,o,c))}function jw(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<c?d:c}}function bv(o,c){jw(o,c),(o=o.alternate)&&jw(o,c)}function Iw(o){if(o.tag===13||o.tag===31){var c=Cs(o,67108864);c!==null&&wo(c,o,67108864),bv(o,67108864)}}function Fw(o){if(o.tag===13||o.tag===31){var c=$o();c=qe(c);var d=Cs(o,c);d!==null&&wo(d,o,c),bv(o,c)}}var fm=!0;function pA(o,c,d,g){var E=oe.T;oe.T=null;var N=be.p;try{be.p=2,Sv(o,c,d,g)}finally{be.p=N,oe.T=E}}function mA(o,c,d,g){var E=oe.T;oe.T=null;var N=be.p;try{be.p=8,Sv(o,c,d,g)}finally{be.p=N,oe.T=E}}function Sv(o,c,d,g){if(fm){var E=Ev(g);if(E===null)cv(o,c,g,dm,d),Uw(o,g);else if(vA(E,o,c,d,g))g.stopPropagation();else if(Uw(o,g),c&4&&-1<gA.indexOf(o)){for(;E!==null;){var N=wt(E);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var W=Zt(N.pendingLanes);if(W!==0){var fe=N;for(fe.pendingLanes|=2,fe.entangledLanes|=2;W;){var ke=1<<31-Dr(W);fe.entanglements[1]|=ke,W&=~ke}Ec(N),(Ln&6)===0&&(Yp=Jt()+500,Wd(0))}}break;case 31:case 13:fe=Cs(N,2),fe!==null&&wo(fe,N,2),Xp(),bv(N,2)}if(N=Ev(g),N===null&&cv(o,c,g,dm,d),N===E)break;E=N}E!==null&&g.stopPropagation()}else cv(o,c,g,null,d)}}function Ev(o){return o=Po(o),Tv(o)}var dm=null;function Tv(o){if(dm=null,o=bt(o),o!==null){var c=a(o);if(c===null)o=null;else{var d=c.tag;if(d===13){if(o=s(c),o!==null)return o;o=null}else if(d===31){if(o=l(c),o!==null)return o;o=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return dm=o,null}function Bw(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case dr:return 2;case Nr:return 8;case or:case Ft:return 32;case _r:return 268435456;default:return 32}default:return 32}}var Av=!1,Iu=null,Fu=null,Bu=null,e0=new Map,t0=new Map,Uu=[],gA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uw(o,c){switch(o){case"focusin":case"focusout":Iu=null;break;case"dragenter":case"dragleave":Fu=null;break;case"mouseover":case"mouseout":Bu=null;break;case"pointerover":case"pointerout":e0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":t0.delete(c.pointerId)}}function r0(o,c,d,g,E,N){return o===null||o.nativeEvent!==N?(o={blockedOn:c,domEventName:d,eventSystemFlags:g,nativeEvent:N,targetContainers:[E]},c!==null&&(c=wt(c),c!==null&&Iw(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),o)}function vA(o,c,d,g,E){switch(c){case"focusin":return Iu=r0(Iu,o,c,d,g,E),!0;case"dragenter":return Fu=r0(Fu,o,c,d,g,E),!0;case"mouseover":return Bu=r0(Bu,o,c,d,g,E),!0;case"pointerover":var N=E.pointerId;return e0.set(N,r0(e0.get(N)||null,o,c,d,g,E)),!0;case"gotpointercapture":return N=E.pointerId,t0.set(N,r0(t0.get(N)||null,o,c,d,g,E)),!0}return!1}function zw(o){var c=bt(o.target);if(c!==null){var d=a(c);if(d!==null){if(c=d.tag,c===13){if(c=s(d),c!==null){o.blockedOn=c,pe(o.priority,function(){Fw(d)});return}}else if(c===31){if(c=l(d),c!==null){o.blockedOn=c,pe(o.priority,function(){Fw(d)});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function pm(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var d=Ev(o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);ro=g,d.target.dispatchEvent(g),ro=null}else return c=wt(d),c!==null&&Iw(c),o.blockedOn=d,!1;c.shift()}return!0}function Gw(o,c,d){pm(o)&&d.delete(c)}function _A(){Av=!1,Iu!==null&&pm(Iu)&&(Iu=null),Fu!==null&&pm(Fu)&&(Fu=null),Bu!==null&&pm(Bu)&&(Bu=null),e0.forEach(Gw),t0.forEach(Gw)}function mm(o,c){o.blockedOn===c&&(o.blockedOn=null,Av||(Av=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_A)))}var gm=null;function Hw(o){gm!==o&&(gm=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gm===o&&(gm=null);for(var c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],E=o[c+2];if(typeof g!="function"){if(Tv(g||d)===null)continue;break}var N=wt(d);N!==null&&(o.splice(c,3),c-=3,Eg(N,{pending:!0,data:E,method:d.method,action:g},g,E))}}))}function Lf(o){function c(ke){return mm(ke,o)}Iu!==null&&mm(Iu,o),Fu!==null&&mm(Fu,o),Bu!==null&&mm(Bu,o),e0.forEach(c),t0.forEach(c);for(var d=0;d<Uu.length;d++){var g=Uu[d];g.blockedOn===o&&(g.blockedOn=null)}for(;0<Uu.length&&(d=Uu[0],d.blockedOn===null);)zw(d),d.blockedOn===null&&Uu.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var E=d[g],N=d[g+1],W=E[he]||null;if(typeof N=="function")W||Hw(d);else if(W){var fe=null;if(N&&N.hasAttribute("formAction")){if(E=N,W=N[he]||null)fe=W.formAction;else if(Tv(E)!==null)continue}else fe=W.action;typeof fe=="function"?d[g+1]=fe:(d.splice(g,3),g-=3),Hw(d)}}}function qw(){function o(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(W){return E=W})},focusReset:"manual",scroll:"manual"})}function c(){E!==null&&(E(),E=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,E=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),E!==null&&(E(),E=null)}}}function Lv(o){this._internalRoot=o}vm.prototype.render=Lv.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var d=c.current,g=$o();Dw(d,g,o,c,null,null)},vm.prototype.unmount=Lv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Dw(o.current,2,null,o,null,null),Xp(),c[ge]=null}};function vm(o){this._internalRoot=o}vm.prototype.unstable_scheduleHydration=function(o){if(o){var c=K();o={blockedOn:null,target:o,priority:c};for(var d=0;d<Uu.length&&c!==0&&c<Uu[d].priority;d++);Uu.splice(d,0,o),d===0&&zw(o)}};var Vw=e.version;if(Vw!=="19.2.3")throw Error(n(527,Vw,"19.2.3"));be.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=f(c),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var yA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_m.isDisabled&&_m.supportsFiber)try{Mr=_m.inject(yA),Gt=_m}catch{}}return i0.createRoot=function(o,c){if(!i(o))throw Error(n(299));var d=!1,g="",E=Jy,N=Qy,W=ex;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(W=c.onRecoverableError)),c=Ow(o,1,!1,null,null,d,g,null,E,N,W,qw),o[ge]=c.current,lv(o),new Lv(c)},i0.hydrateRoot=function(o,c,d){if(!i(o))throw Error(n(299));var g=!1,E="",N=Jy,W=Qy,fe=ex,ke=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(W=d.onCaughtError),d.onRecoverableError!==void 0&&(fe=d.onRecoverableError),d.formState!==void 0&&(ke=d.formState)),c=Ow(o,1,!0,c,d??null,g,E,ke,N,W,fe,qw),c.context=Rw(null),d=c.current,g=$o(),g=qe(g),E=Sr(g),E.callback=null,zr(d,E,g),d=g,c.current.lanes=d,Qt(c,d),Ec(c),o[ge]=c.current,lv(o),new vm(c)},i0.version="19.2.3",i0}var tb;function MA(){if(tb)return Mv.exports;tb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mv.exports=CA(),Mv.exports}var kA=MA();const PA=$1(kA);var tS=t=>{throw TypeError(t)},OA=(t,e,r)=>e.has(t)||tS("Cannot "+r),Rv=(t,e,r)=>(OA(t,e,"read from private field"),r?r.call(t):e.get(t)),RA=(t,e,r)=>e.has(t)?tS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),rb="popstate";function DA(t={}){function e(i,a){let{pathname:s="/",search:l="",hash:u=""}=mu(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),G0("",{pathname:s,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let s=i.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");l=f===-1?u:u.slice(0,f)}return l+"#"+(typeof a=="string"?a:Oc(a))}function n(i,a){Xi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return IA(e,r,n,t)}function Yr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jA(){return Math.random().toString(36).substring(2,10)}function nb(t,e){return{usr:t.state,key:t.key,idx:e}}function G0(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?mu(e):e,state:r,key:e&&e.key||n||jA()}}function Oc({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function mu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function IA(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l="POP",u=null,f=p();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function p(){return(s.state||{idx:null}).idx}function v(){l="POP";let C=p(),M=C==null?null:C-f;f=C,u&&u({action:l,location:S.location,delta:M})}function y(C,M){l="PUSH";let D=G0(S.location,C,M);r&&r(D,C),f=p()+1;let j=nb(D,f),V=S.createHref(D);try{s.pushState(j,"",V)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(V)}a&&u&&u({action:l,location:S.location,delta:1})}function _(C,M){l="REPLACE";let D=G0(S.location,C,M);r&&r(D,C),f=p();let j=nb(D,f),V=S.createHref(D);s.replaceState(j,"",V),a&&u&&u({action:l,location:S.location,delta:0})}function T(C){return rS(C)}let S={get action(){return l},get location(){return t(i,s)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(rb,v),u=C,()=>{i.removeEventListener(rb,v),u=null}},createHref(C){return e(i,C)},createURL:T,encodeLocation(C){let M=T(C);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:y,replace:_,go(C){return s.go(C)}};return S}function rS(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Yr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Oc(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var p0,ib=class{constructor(t){if(RA(this,p0,new Map),t)for(let[e,r]of t)this.set(e,r)}get(t){if(Rv(this,p0).has(t))return Rv(this,p0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Rv(this,p0).set(t,e)}};p0=new WeakMap;var FA=new Set(["lazy","caseSensitive","path","id","index","children"]);function BA(t){return FA.has(t)}var UA=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function zA(t){return UA.has(t)}function GA(t){return t.index===!0}function H0(t,e,r=[],n={},i=!1){return t.map((a,s)=>{let l=[...r,String(s)],u=typeof a.id=="string"?a.id:l.join("-");if(Yr(a.index!==!0||!a.children,"Cannot specify children on an index route"),Yr(i||!n[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),GA(a)){let f={...a,id:u};return n[u]=ab(f,e(f)),f}else{let f={...a,id:u,children:void 0};return n[u]=ab(f,e(f)),a.children&&(f.children=H0(a.children,e,l,n,i)),f}})}function ab(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function $u(t,e,r="/"){return m0(t,e,r,!1)}function m0(t,e,r,n){let i=typeof e=="string"?mu(e):e,a=bl(i.pathname||"/",r);if(a==null)return null;let s=nS(t);qA(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let f=tL(a);l=QA(s[u],f,n)}return l}function HA(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],loaderData:e[r.id],handle:r.handle}}function nS(t,e=[],r=[],n="",i=!1){let a=(s,l,u=i,f)=>{let p={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&u)return;Yr(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let v=Pc([n,p.relativePath]),y=r.concat(p);s.children&&s.children.length>0&&(Yr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),nS(s.children,e,y,v,u)),!(s.path==null&&!s.index)&&e.push({path:v,score:XA(v,s.index),routesMeta:y})};return t.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))a(s,l);else for(let u of iS(s.path))a(s,l,!0,u)}),e}function iS(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=iS(n.join("/")),l=[];return l.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function qA(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:JA(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var VA=/^:[\w-]+$/,$A=3,WA=2,ZA=1,YA=10,KA=-2,sb=t=>t==="*";function XA(t,e){let r=t.split("/"),n=r.length;return r.some(sb)&&(n+=KA),e&&(n+=WA),r.filter(i=>!sb(i)).reduce((i,a)=>i+(VA.test(a)?$A:a===""?ZA:YA),n)}function JA(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function QA(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",s=[];for(let l=0;l<n.length;++l){let u=n[l],f=l===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=f1({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),y=u.route;if(!v&&f&&r&&!n[n.length-1].route.index&&(v=f1({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!v)return null;Object.assign(i,v.params),s.push({params:i,pathname:Pc([a,v.pathname]),pathnameBase:iL(Pc([a,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(a=Pc([a,v.pathnameBase]))}return s}function f1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=eL(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:v},y)=>{if(p==="*"){let T=l[y]||"";s=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const _=l[y];return v&&!_?f[p]=void 0:f[p]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function eL(t,e=!1,r=!0){Xi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function tL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function bl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function rL({basename:t,pathname:e}){return e==="/"?t:Pc([t,e])}var aS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N_=t=>aS.test(t);function nL(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?mu(t):t,a;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?a=ob(r.substring(1),"/"):a=ob(r,e)):a=e,{pathname:a,search:aL(n),hash:sL(i)}}function ob(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Dv(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sS(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Z1(t){let e=sS(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Y1(t,e,r,n=!1){let i;typeof t=="string"?i=mu(t):(i={...t},Yr(!i.pathname||!i.pathname.includes("?"),Dv("?","pathname","search",i)),Yr(!i.pathname||!i.pathname.includes("#"),Dv("#","pathname","hash",i)),Yr(!i.search||!i.search.includes("#"),Dv("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let v=e.length-1;if(!n&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}l=v>=0?e[v]:"/"}let u=nL(i,l),f=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}var Pc=t=>t.join("/").replace(/\/\/+/g,"/"),iL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,fp=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function q0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function dp(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var oS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lS(t,e){let r=t;if(typeof r!="string"||!aS.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(oS)try{let a=new URL(window.location.href),s=r.startsWith("//")?new URL(a.protocol+r):new URL(r),l=bl(s.pathname,e);s.origin===a.origin&&l!=null?r=l+s.search+s.hash:i=!0}catch{Xi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}var Yu=Symbol("Uninstrumented");function oL(t,e){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(a){let s=Object.keys(r);for(let l of s)a[l]&&r[l].push(a[l])}}));let n={};if(typeof e.lazy=="function"&&r.lazy.length>0){let i=Xf(r.lazy,e.lazy,()=>{});i&&(n.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(a=>{let s=i[a],l=r[`lazy.${a}`];if(typeof s=="function"&&l.length>0){let u=Xf(l,s,()=>{});u&&(n.lazy=Object.assign(n.lazy||{},{[a]:u}))}})}return["loader","action"].forEach(i=>{let a=e[i];if(typeof a=="function"&&r[i].length>0){let s=a[Yu]??a,l=Xf(r[i],s,(...u)=>lb(u[0]));l&&(i==="loader"&&s.hydrate===!0&&(l.hydrate=!0),l[Yu]=s,n[i]=l)}}),e.middleware&&e.middleware.length>0&&r.middleware.length>0&&(n.middleware=e.middleware.map(i=>{let a=i[Yu]??i,s=Xf(r.middleware,a,(...l)=>lb(l[0]));return s?(s[Yu]=a,s):i})),n}function lL(t,e){let r={navigate:[],fetch:[]};if(e.forEach(n=>n({instrument(i){let a=Object.keys(i);for(let s of a)i[s]&&r[s].push(i[s])}})),r.navigate.length>0){let n=t.navigate[Yu]??t.navigate,i=Xf(r.navigate,n,(...a)=>{let[s,l]=a;return{to:typeof s=="number"||typeof s=="string"?s:s?Oc(s):".",...cb(t,l??{})}});i&&(i[Yu]=n,t.navigate=i)}if(r.fetch.length>0){let n=t.fetch[Yu]??t.fetch,i=Xf(r.fetch,n,(...a)=>{let[s,,l,u]=a;return{href:l??".",fetcherKey:s,...cb(t,u??{})}});i&&(i[Yu]=n,t.fetch=i)}return t}function Xf(t,e,r){return t.length===0?null:async(...n)=>{let i=await cS(t,r(...n),()=>e(...n),t.length-1);if(i.type==="error")throw i.value;return i.value}}async function cS(t,e,r,n){let i=t[n],a;if(i){let s,l=async()=>(s?console.error("You cannot call instrumented handlers more than once"):s=cS(t,e,r,n-1),a=await s,Yr(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await i(l,e)}catch(u){console.error("An instrumentation function threw an error:",u)}s||await l(),await s}else try{a={type:"success",value:await r()}}catch(s){a={type:"error",value:s}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function lb(t){let{request:e,context:r,params:n,unstable_pattern:i}=t;return{request:cL(e),params:{...n},unstable_pattern:i,context:uL(r)}}function cb(t,e){return{currentUrl:Oc(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function cL(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function uL(t){if(fL(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var hL=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fL(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===hL}var uS=["POST","PUT","PATCH","DELETE"],dL=new Set(uS),pL=["GET",...uS],mL=new Set(pL),hS=new Set([301,302,303,307,308]),gL=new Set([307,308]),jv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},a0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_L=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),fS="remix-router-transitions",dS=Symbol("ResetLoaderData");function yL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Yr(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=t.hydrationRouteProperties||[],i=t.mapRouteProperties||_L,a=i;if(t.unstable_instrumentations){let Ce=t.unstable_instrumentations;a=Ge=>({...i(Ge),...oL(Ce.map(qe=>qe.route).filter(Boolean),Ge)})}let s={},l=H0(t.routes,a,void 0,s),u,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let p=t.dataStrategy||EL,v={...t.future},y=null,_=new Set,T=null,S=null,C=null,M=t.hydrationData!=null,D=$u(l,t.history.location,f),j=!1,V=null,X;if(D==null&&!t.patchRoutesOnNavigation){let Ce=yl(404,{pathname:t.history.location.pathname}),{matches:Ge,route:qe}=ym(l);X=!0,D=Ge,V={[qe.id]:Ce}}else if(D&&!t.hydrationData&&Qi(D,l,t.history.location.pathname).active&&(D=null),D)if(D.some(Ce=>Ce.route.lazy))X=!1;else if(!D.some(Ce=>C_(Ce.route)))X=!0;else{let Ce=t.hydrationData?t.hydrationData.loaderData:null,Ge=t.hydrationData?t.hydrationData.errors:null;if(Ge){let qe=D.findIndex(Ye=>Ge[Ye.route.id]!==void 0);X=D.slice(0,qe+1).every(Ye=>!H2(Ye.route,Ce,Ge))}else X=D.every(qe=>!H2(qe.route,Ce,Ge))}else{X=!1,D=[];let Ce=Qi(null,l,t.history.location.pathname);Ce.active&&Ce.matches&&(j=!0,D=Ce.matches)}let ce,I={historyAction:t.history.action,location:t.history.location,matches:D,initialized:X,navigation:jv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||V,fetchers:new Map,blockers:new Map},q="POP",F=null,J=!1,B,Z=!1,ue=new Map,de=null,xe=!1,oe=!1,be=new Set,_e=new Map,Le=0,Ne=-1,ee=new Map,O=new Set,G=new Map,H=new Map,Y=new Set,se=new Map,Ae,Oe=null;function Re(){if(y=t.history.listen(({action:Ce,location:Ge,delta:qe})=>{if(Ae){Ae(),Ae=void 0;return}Xi(se.size===0||qe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ye=en({currentLocation:I.location,nextLocation:Ge,historyAction:Ce});if(Ye&&qe!=null){let K=new Promise(pe=>{Ae=pe});t.history.go(qe*-1),ur(Ye,{state:"blocked",location:Ge,proceed(){ur(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Ge}),K.then(()=>t.history.go(qe))},reset(){let pe=new Map(I.blockers);pe.set(Ye,a0),it({blockers:pe})}}),F?.resolve(),F=null;return}return yt(Ce,Ge)}),r){GL(e,ue);let Ce=()=>HL(e,ue);e.addEventListener("pagehide",Ce),de=()=>e.removeEventListener("pagehide",Ce)}return I.initialized||yt("POP",I.location,{initialHydration:!0}),ce}function Ie(){y&&y(),de&&de(),_.clear(),B&&B.abort(),I.fetchers.forEach((Ce,Ge)=>yn(Ge)),I.blockers.forEach((Ce,Ge)=>cr(Ge))}function ot(Ce){return _.add(Ce),()=>_.delete(Ce)}function it(Ce,Ge={}){Ce.matches&&(Ce.matches=Ce.matches.map(K=>{let pe=s[K.route.id],re=K.route;return re.element!==pe.element||re.errorElement!==pe.errorElement||re.hydrateFallbackElement!==pe.hydrateFallbackElement?{...K,route:pe}:K})),I={...I,...Ce};let qe=[],Ye=[];I.fetchers.forEach((K,pe)=>{K.state==="idle"&&(Y.has(pe)?qe.push(pe):Ye.push(pe))}),Y.forEach(K=>{!I.fetchers.has(K)&&!_e.has(K)&&qe.push(K)}),[..._].forEach(K=>K(I,{deletedFetchers:qe,newErrors:Ce.errors??null,viewTransitionOpts:Ge.viewTransitionOpts,flushSync:Ge.flushSync===!0})),qe.forEach(K=>yn(K)),Ye.forEach(K=>I.fetchers.delete(K))}function Tt(Ce,Ge,{flushSync:qe}={}){let Ye=I.actionData!=null&&I.navigation.formMethod!=null&&Fs(I.navigation.formMethod)&&I.navigation.state==="loading"&&Ce.state?._isRedirect!==!0,K;Ge.actionData?Object.keys(Ge.actionData).length>0?K=Ge.actionData:K=null:Ye?K=I.actionData:K=null;let pe=Ge.loaderData?yb(I.loaderData,Ge.loaderData,Ge.matches||[],Ge.errors):I.loaderData,re=I.blockers;re.size>0&&(re=new Map(re),re.forEach((Pe,ze)=>re.set(ze,a0)));let ne=xe?!1:ci(Ce,Ge.matches||I.matches),he=J===!0||I.navigation.formMethod!=null&&Fs(I.navigation.formMethod)&&Ce.state?._isRedirect!==!0;u&&(l=u,u=void 0),xe||q==="POP"||(q==="PUSH"?t.history.push(Ce,Ce.state):q==="REPLACE"&&t.history.replace(Ce,Ce.state));let ge;if(q==="POP"){let Pe=ue.get(I.location.pathname);Pe&&Pe.has(Ce.pathname)?ge={currentLocation:I.location,nextLocation:Ce}:ue.has(Ce.pathname)&&(ge={currentLocation:Ce,nextLocation:I.location})}else if(Z){let Pe=ue.get(I.location.pathname);Pe?Pe.add(Ce.pathname):(Pe=new Set([Ce.pathname]),ue.set(I.location.pathname,Pe)),ge={currentLocation:I.location,nextLocation:Ce}}it({...Ge,actionData:K,loaderData:pe,historyAction:q,location:Ce,initialized:!0,navigation:jv,revalidation:"idle",restoreScrollPosition:ne,preventScrollReset:he,blockers:re},{viewTransitionOpts:ge,flushSync:qe===!0}),q="POP",J=!1,Z=!1,xe=!1,oe=!1,F?.resolve(),F=null,Oe?.resolve(),Oe=null}async function Nt(Ce,Ge){if(F?.resolve(),F=null,typeof Ce=="number"){F||(F=Sb());let Ue=F.promise;return t.history.go(Ce),Ue}let qe=G2(I.location,I.matches,f,Ce,Ge?.fromRouteId,Ge?.relative),{path:Ye,submission:K,error:pe}=ub(!1,qe,Ge),re=I.location,ne=G0(I.location,Ye,Ge&&Ge.state);ne={...ne,...t.history.encodeLocation(ne)};let he=Ge&&Ge.replace!=null?Ge.replace:void 0,ge="PUSH";he===!0?ge="REPLACE":he===!1||K!=null&&Fs(K.formMethod)&&K.formAction===I.location.pathname+I.location.search&&(ge="REPLACE");let Pe=Ge&&"preventScrollReset"in Ge?Ge.preventScrollReset===!0:void 0,ze=(Ge&&Ge.flushSync)===!0,Be=en({currentLocation:re,nextLocation:ne,historyAction:ge});if(Be){ur(Be,{state:"blocked",location:ne,proceed(){ur(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),Nt(Ce,Ge)},reset(){let Ue=new Map(I.blockers);Ue.set(Be,a0),it({blockers:Ue})}});return}await yt(ge,ne,{submission:K,pendingError:pe,preventScrollReset:Pe,replace:Ge&&Ge.replace,enableViewTransition:Ge&&Ge.viewTransition,flushSync:ze,callSiteDefaultShouldRevalidate:Ge&&Ge.unstable_defaultShouldRevalidate})}function we(){Oe||(Oe=Sb()),Nr(),it({revalidation:"loading"});let Ce=Oe.promise;return I.navigation.state==="submitting"?Ce:I.navigation.state==="idle"?(yt(I.historyAction,I.location,{startUninterruptedRevalidation:!0}),Ce):(yt(q||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:Z===!0}),Ce)}async function yt(Ce,Ge,qe){B&&B.abort(),B=null,q=Ce,xe=(qe&&qe.startUninterruptedRevalidation)===!0,Ea(I.location,I.matches),J=(qe&&qe.preventScrollReset)===!0,Z=(qe&&qe.enableViewTransition)===!0;let Ye=u||l,K=qe&&qe.overrideNavigation,pe=qe?.initialHydration&&I.matches&&I.matches.length>0&&!j?I.matches:$u(Ye,Ge,f),re=(qe&&qe.flushSync)===!0;if(pe&&I.initialized&&!oe&&PL(I.location,Ge)&&!(qe&&qe.submission&&Fs(qe.submission.formMethod))){Tt(Ge,{matches:pe},{flushSync:re});return}let ne=Qi(pe,Ye,Ge.pathname);if(ne.active&&ne.matches&&(pe=ne.matches),!pe){let{error:ht,notFoundMatches:bt,route:wt}=xr(Ge.pathname);Tt(Ge,{matches:bt,loaderData:{},errors:{[wt.id]:ht}},{flushSync:re});return}B=new AbortController;let he=Hf(t.history,Ge,B.signal,qe&&qe.submission),ge=t.getContext?await t.getContext():new ib,Pe;if(qe&&qe.pendingError)Pe=[Wu(pe).route.id,{type:"error",error:qe.pendingError}];else if(qe&&qe.submission&&Fs(qe.submission.formMethod)){let ht=await xt(he,Ge,qe.submission,pe,ge,ne.active,qe&&qe.initialHydration===!0,{replace:qe.replace,flushSync:re});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[bt,wt]=ht.pendingActionResult;if(Ko(wt)&&q0(wt.error)&&wt.error.status===404){B=null,Tt(Ge,{matches:ht.matches,loaderData:{},errors:{[bt]:wt.error}});return}}pe=ht.matches||pe,Pe=ht.pendingActionResult,K=Iv(Ge,qe.submission),re=!1,ne.active=!1,he=Hf(t.history,he.url,he.signal)}let{shortCircuited:ze,matches:Be,loaderData:Ue,errors:$e}=await zt(he,Ge,pe,ge,ne.active,K,qe&&qe.submission,qe&&qe.fetcherSubmission,qe&&qe.replace,qe&&qe.initialHydration===!0,re,Pe,qe&&qe.callSiteDefaultShouldRevalidate);ze||(B=null,Tt(Ge,{matches:Be||pe,...xb(Pe),loaderData:Ue,errors:$e}))}async function xt(Ce,Ge,qe,Ye,K,pe,re,ne={}){Nr();let he=UL(Ge,qe);if(it({navigation:he},{flushSync:ne.flushSync===!0}),pe){let ze=await Ci(Ye,Ge.pathname,Ce.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){if(ze.partialMatches.length===0){let{matches:Ue,route:$e}=ym(l);return{matches:Ue,pendingActionResult:[$e.id,{type:"error",error:ze.error}]}}let Be=Wu(ze.partialMatches).route.id;return{matches:ze.partialMatches,pendingActionResult:[Be,{type:"error",error:ze.error}]}}else if(ze.matches)Ye=ze.matches;else{let{notFoundMatches:Be,error:Ue,route:$e}=xr(Ge.pathname);return{matches:Be,pendingActionResult:[$e.id,{type:"error",error:Ue}]}}}let ge,Pe=Qm(Ye,Ge);if(!Pe.route.action&&!Pe.route.lazy)ge={type:"error",error:yl(405,{method:Ce.method,pathname:Ge.pathname,routeId:Pe.route.id})};else{let ze=sd(a,s,Ce,Ye,Pe,re?[]:n,K),Be=await Er(Ce,ze,K,null);if(ge=Be[Pe.route.id],!ge){for(let Ue of Ye)if(Be[Ue.route.id]){ge=Be[Ue.route.id];break}}if(Ce.signal.aborted)return{shortCircuited:!0}}if(Oh(ge)){let ze;return ne&&ne.replace!=null?ze=ne.replace:ze=gb(ge.response.headers.get("Location"),new URL(Ce.url),f,t.history)===I.location.pathname+I.location.search,await Jt(Ce,ge,!0,{submission:qe,replace:ze}),{shortCircuited:!0}}if(Ko(ge)){let ze=Wu(Ye,Pe.route.id);return(ne&&ne.replace)!==!0&&(q="PUSH"),{matches:Ye,pendingActionResult:[ze.route.id,ge,Pe.route.id]}}return{matches:Ye,pendingActionResult:[Pe.route.id,ge]}}async function zt(Ce,Ge,qe,Ye,K,pe,re,ne,he,ge,Pe,ze,Be){let Ue=pe||Iv(Ge,re),$e=re||ne||bb(Ue),ht=!xe&&!ge;if(K){if(ht){let Ut=dt(ze);it({navigation:Ue,...Ut!==void 0?{actionData:Ut}:{}},{flushSync:Pe})}let Ar=await Ci(qe,Ge.pathname,Ce.signal);if(Ar.type==="aborted")return{shortCircuited:!0};if(Ar.type==="error"){if(Ar.partialMatches.length===0){let{matches:qr,route:ri}=ym(l);return{matches:qr,loaderData:{},errors:{[ri.id]:Ar.error}}}let Ut=Wu(Ar.partialMatches).route.id;return{matches:Ar.partialMatches,loaderData:{},errors:{[Ut]:Ar.error}}}else if(Ar.matches)qe=Ar.matches;else{let{error:Ut,notFoundMatches:qr,route:ri}=xr(Ge.pathname);return{matches:qr,loaderData:{},errors:{[ri.id]:Ut}}}}let bt=u||l,{dsMatches:wt,revalidatingFetchers:gt}=hb(Ce,Ye,a,s,t.history,I,qe,$e,Ge,ge?[]:n,ge===!0,oe,be,Y,G,O,bt,f,t.patchRoutesOnNavigation!=null,ze,Be);if(Ne=++Le,!t.dataStrategy&&!wt.some(Ar=>Ar.shouldLoad)&&!wt.some(Ar=>Ar.route.middleware&&Ar.route.middleware.length>0)&&gt.length===0){let Ar=Dr();return Tt(Ge,{matches:qe,loaderData:{},errors:ze&&Ko(ze[1])?{[ze[0]]:ze[1].error}:null,...xb(ze),...Ar?{fetchers:new Map(I.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(ht){let Ar={};if(!K){Ar.navigation=Ue;let Ut=dt(ze);Ut!==void 0&&(Ar.actionData=Ut)}gt.length>0&&(Ar.fetchers=Vt(gt)),it(Ar,{flushSync:Pe})}gt.forEach(Ar=>{Gt(Ar.key),Ar.controller&&_e.set(Ar.key,Ar.controller)});let Mt=()=>gt.forEach(Ar=>Gt(Ar.key));B&&B.signal.addEventListener("abort",Mt);let{loaderResults:Bt,fetcherResults:Hr}=await dr(wt,gt,Ce,Ye);if(Ce.signal.aborted)return{shortCircuited:!0};B&&B.signal.removeEventListener("abort",Mt),gt.forEach(Ar=>_e.delete(Ar.key));let wr=xm(Bt);if(wr)return await Jt(Ce,wr.result,!0,{replace:he}),{shortCircuited:!0};if(wr=xm(Hr),wr)return O.add(wr.key),await Jt(Ce,wr.result,!0,{replace:he}),{shortCircuited:!0};let{loaderData:nn,errors:Kn}=_b(I,qe,Bt,ze,gt,Hr);ge&&I.errors&&(Kn={...I.errors,...Kn});let Xn=Dr(),ea=Yt(Ne),Mi=Xn||ea||gt.length>0;return{matches:qe,loaderData:nn,errors:Kn,...Mi?{fetchers:new Map(I.fetchers)}:{}}}function dt(Ce){if(Ce&&!Ko(Ce[1]))return{[Ce[0]]:Ce[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function Vt(Ce){return Ce.forEach(Ge=>{let qe=I.fetchers.get(Ge.key),Ye=s0(void 0,qe?qe.data:void 0);I.fetchers.set(Ge.key,Ye)}),new Map(I.fetchers)}async function jt(Ce,Ge,qe,Ye){Gt(Ce);let K=(Ye&&Ye.flushSync)===!0,pe=u||l,re=G2(I.location,I.matches,f,qe,Ge,Ye?.relative),ne=$u(pe,re,f),he=Qi(ne,pe,re);if(he.active&&he.matches&&(ne=he.matches),!ne){Ft(Ce,Ge,yl(404,{pathname:re}),{flushSync:K});return}let{path:ge,submission:Pe,error:ze}=ub(!0,re,Ye);if(ze){Ft(Ce,Ge,ze,{flushSync:K});return}let Be=t.getContext?await t.getContext():new ib,Ue=(Ye&&Ye.preventScrollReset)===!0;if(Pe&&Fs(Pe.formMethod)){await sr(Ce,Ge,ge,ne,Be,he.active,K,Ue,Pe,Ye&&Ye.unstable_defaultShouldRevalidate);return}G.set(Ce,{routeId:Ge,path:ge}),await Xt(Ce,Ge,ge,ne,Be,he.active,K,Ue,Pe)}async function sr(Ce,Ge,qe,Ye,K,pe,re,ne,he,ge){Nr(),G.delete(Ce);let Pe=I.fetchers.get(Ce);or(Ce,zL(he,Pe),{flushSync:re});let ze=new AbortController,Be=Hf(t.history,qe,ze.signal,he);if(pe){let ar=await Ci(Ye,new URL(Be.url).pathname,Be.signal,Ce);if(ar.type==="aborted")return;if(ar.type==="error"){Ft(Ce,Ge,ar.error,{flushSync:re});return}else if(ar.matches)Ye=ar.matches;else{Ft(Ce,Ge,yl(404,{pathname:qe}),{flushSync:re});return}}let Ue=Qm(Ye,qe);if(!Ue.route.action&&!Ue.route.lazy){let ar=yl(405,{method:he.formMethod,pathname:qe,routeId:Ge});Ft(Ce,Ge,ar,{flushSync:re});return}_e.set(Ce,ze);let $e=Le,ht=sd(a,s,Be,Ye,Ue,n,K),bt=await Er(Be,ht,K,Ce),wt=bt[Ue.route.id];if(!wt){for(let ar of ht)if(bt[ar.route.id]){wt=bt[ar.route.id];break}}if(Be.signal.aborted){_e.get(Ce)===ze&&_e.delete(Ce);return}if(Y.has(Ce)){if(Oh(wt)||Ko(wt)){or(Ce,su(void 0));return}}else{if(Oh(wt))if(_e.delete(Ce),Ne>$e){or(Ce,su(void 0));return}else return O.add(Ce),or(Ce,s0(he)),Jt(Be,wt,!1,{fetcherSubmission:he,preventScrollReset:ne});if(Ko(wt)){Ft(Ce,Ge,wt.error);return}}let gt=I.navigation.location||I.location,Mt=Hf(t.history,gt,ze.signal),Bt=u||l,Hr=I.navigation.state!=="idle"?$u(Bt,I.navigation.location,f):I.matches;Yr(Hr,"Didn't find any matches after fetcher action");let wr=++Le;ee.set(Ce,wr);let nn=s0(he,wt.data);I.fetchers.set(Ce,nn);let{dsMatches:Kn,revalidatingFetchers:Xn}=hb(Mt,K,a,s,t.history,I,Hr,he,gt,n,!1,oe,be,Y,G,O,Bt,f,t.patchRoutesOnNavigation!=null,[Ue.route.id,wt],ge);Xn.filter(ar=>ar.key!==Ce).forEach(ar=>{let Ta=ar.key,Aa=I.fetchers.get(Ta),yr=s0(void 0,Aa?Aa.data:void 0);I.fetchers.set(Ta,yr),Gt(Ta),ar.controller&&_e.set(Ta,ar.controller)}),it({fetchers:new Map(I.fetchers)});let ea=()=>Xn.forEach(ar=>Gt(ar.key));ze.signal.addEventListener("abort",ea);let{loaderResults:Mi,fetcherResults:Ar}=await dr(Kn,Xn,Mt,K);if(ze.signal.aborted)return;if(ze.signal.removeEventListener("abort",ea),ee.delete(Ce),_e.delete(Ce),Xn.forEach(ar=>_e.delete(ar.key)),I.fetchers.has(Ce)){let ar=su(wt.data);I.fetchers.set(Ce,ar)}let Ut=xm(Mi);if(Ut)return Jt(Mt,Ut.result,!1,{preventScrollReset:ne});if(Ut=xm(Ar),Ut)return O.add(Ut.key),Jt(Mt,Ut.result,!1,{preventScrollReset:ne});let{loaderData:qr,errors:ri}=_b(I,Hr,Mi,void 0,Xn,Ar);Yt(wr),I.navigation.state==="loading"&&wr>Ne?(Yr(q,"Expected pending action"),B&&B.abort(),Tt(I.navigation.location,{matches:Hr,loaderData:qr,errors:ri,fetchers:new Map(I.fetchers)})):(it({errors:ri,loaderData:yb(I.loaderData,qr,Hr,ri),fetchers:new Map(I.fetchers)}),oe=!1)}async function Xt(Ce,Ge,qe,Ye,K,pe,re,ne,he){let ge=I.fetchers.get(Ce);or(Ce,s0(he,ge?ge.data:void 0),{flushSync:re});let Pe=new AbortController,ze=Hf(t.history,qe,Pe.signal);if(pe){let wt=await Ci(Ye,new URL(ze.url).pathname,ze.signal,Ce);if(wt.type==="aborted")return;if(wt.type==="error"){Ft(Ce,Ge,wt.error,{flushSync:re});return}else if(wt.matches)Ye=wt.matches;else{Ft(Ce,Ge,yl(404,{pathname:qe}),{flushSync:re});return}}let Be=Qm(Ye,qe);_e.set(Ce,Pe);let Ue=Le,$e=sd(a,s,ze,Ye,Be,n,K),bt=(await Er(ze,$e,K,Ce))[Be.route.id];if(_e.get(Ce)===Pe&&_e.delete(Ce),!ze.signal.aborted){if(Y.has(Ce)){or(Ce,su(void 0));return}if(Oh(bt))if(Ne>Ue){or(Ce,su(void 0));return}else{O.add(Ce),await Jt(ze,bt,!1,{preventScrollReset:ne});return}if(Ko(bt)){Ft(Ce,Ge,bt.error);return}or(Ce,su(bt.data))}}async function Jt(Ce,Ge,qe,{submission:Ye,fetcherSubmission:K,preventScrollReset:pe,replace:re}={}){qe||(F?.resolve(),F=null),Ge.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let ne=Ge.response.headers.get("Location");Yr(ne,"Expected a Location header on the redirect Response"),ne=gb(ne,new URL(Ce.url),f,t.history);let he=G0(I.location,ne,{_isRedirect:!0});if(r){let $e=!1;if(Ge.response.headers.has("X-Remix-Reload-Document"))$e=!0;else if(N_(ne)){const ht=rS(ne,!0);$e=ht.origin!==e.location.origin||bl(ht.pathname,f)==null}if($e){re?e.location.replace(ne):e.location.assign(ne);return}}B=null;let ge=re===!0||Ge.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:ze,formEncType:Be}=I.navigation;!Ye&&!K&&Pe&&ze&&Be&&(Ye=bb(I.navigation));let Ue=Ye||K;if(gL.has(Ge.response.status)&&Ue&&Fs(Ue.formMethod))await yt(ge,he,{submission:{...Ue,formAction:ne},preventScrollReset:pe||J,enableViewTransition:qe?Z:void 0});else{let $e=Iv(he,Ye);await yt(ge,he,{overrideNavigation:$e,fetcherSubmission:K,preventScrollReset:pe||J,enableViewTransition:qe?Z:void 0})}}async function Er(Ce,Ge,qe,Ye){let K,pe={};try{K=await AL(p,Ce,Ge,Ye,qe,!1)}catch(re){return Ge.filter(ne=>ne.shouldLoad).forEach(ne=>{pe[ne.route.id]={type:"error",error:re}}),pe}if(Ce.signal.aborted)return pe;if(!Fs(Ce.method))for(let re of Ge){if(K[re.route.id]?.type==="error")break;!K.hasOwnProperty(re.route.id)&&!I.loaderData.hasOwnProperty(re.route.id)&&(!I.errors||!I.errors.hasOwnProperty(re.route.id))&&re.shouldCallHandler()&&(K[re.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${re.route.id}`)})}for(let[re,ne]of Object.entries(K))if(jL(ne)){let he=ne.result;pe[re]={type:"redirect",response:ML(he,Ce,re,Ge,f)}}else pe[re]=await CL(ne);return pe}async function dr(Ce,Ge,qe,Ye){let K=Er(qe,Ce,Ye,null),pe=Promise.all(Ge.map(async he=>{if(he.matches&&he.match&&he.request&&he.controller){let Pe=(await Er(he.request,he.matches,Ye,he.key))[he.match.route.id];return{[he.key]:Pe}}else return Promise.resolve({[he.key]:{type:"error",error:yl(404,{pathname:he.path})}})})),re=await K,ne=(await pe).reduce((he,ge)=>Object.assign(he,ge),{});return{loaderResults:re,fetcherResults:ne}}function Nr(){oe=!0,G.forEach((Ce,Ge)=>{_e.has(Ge)&&be.add(Ge),Gt(Ge)})}function or(Ce,Ge,qe={}){I.fetchers.set(Ce,Ge),it({fetchers:new Map(I.fetchers)},{flushSync:(qe&&qe.flushSync)===!0})}function Ft(Ce,Ge,qe,Ye={}){let K=Wu(I.matches,Ge);yn(Ce),it({errors:{[K.route.id]:qe},fetchers:new Map(I.fetchers)},{flushSync:(Ye&&Ye.flushSync)===!0})}function _r(Ce){return H.set(Ce,(H.get(Ce)||0)+1),Y.has(Ce)&&Y.delete(Ce),I.fetchers.get(Ce)||vL}function Wt(Ce,Ge){Gt(Ce,Ge?.reason),or(Ce,su(null))}function yn(Ce){let Ge=I.fetchers.get(Ce);_e.has(Ce)&&!(Ge&&Ge.state==="loading"&&ee.has(Ce))&&Gt(Ce),G.delete(Ce),ee.delete(Ce),O.delete(Ce),Y.delete(Ce),be.delete(Ce),I.fetchers.delete(Ce)}function Mr(Ce){let Ge=(H.get(Ce)||0)-1;Ge<=0?(H.delete(Ce),Y.add(Ce)):H.set(Ce,Ge),it({fetchers:new Map(I.fetchers)})}function Gt(Ce,Ge){let qe=_e.get(Ce);qe&&(qe.abort(Ge),_e.delete(Ce))}function pr(Ce){for(let Ge of Ce){let qe=_r(Ge),Ye=su(qe.data);I.fetchers.set(Ge,Ye)}}function Dr(){let Ce=[],Ge=!1;for(let qe of O){let Ye=I.fetchers.get(qe);Yr(Ye,`Expected fetcher: ${qe}`),Ye.state==="loading"&&(O.delete(qe),Ce.push(qe),Ge=!0)}return pr(Ce),Ge}function Yt(Ce){let Ge=[];for(let[qe,Ye]of ee)if(Ye<Ce){let K=I.fetchers.get(qe);Yr(K,`Expected fetcher: ${qe}`),K.state==="loading"&&(Gt(qe),ee.delete(qe),Ge.push(qe))}return pr(Ge),Ge.length>0}function ln(Ce,Ge){let qe=I.blockers.get(Ce)||a0;return se.get(Ce)!==Ge&&se.set(Ce,Ge),qe}function cr(Ce){I.blockers.delete(Ce),se.delete(Ce)}function ur(Ce,Ge){let qe=I.blockers.get(Ce)||a0;Yr(qe.state==="unblocked"&&Ge.state==="blocked"||qe.state==="blocked"&&Ge.state==="blocked"||qe.state==="blocked"&&Ge.state==="proceeding"||qe.state==="blocked"&&Ge.state==="unblocked"||qe.state==="proceeding"&&Ge.state==="unblocked",`Invalid blocker state transition: ${qe.state} -> ${Ge.state}`);let Ye=new Map(I.blockers);Ye.set(Ce,Ge),it({blockers:Ye})}function en({currentLocation:Ce,nextLocation:Ge,historyAction:qe}){if(se.size===0)return;se.size>1&&Xi(!1,"A router only supports one blocker at a time");let Ye=Array.from(se.entries()),[K,pe]=Ye[Ye.length-1],re=I.blockers.get(K);if(!(re&&re.state==="proceeding")&&pe({currentLocation:Ce,nextLocation:Ge,historyAction:qe}))return K}function xr(Ce){let Ge=yl(404,{pathname:Ce}),qe=u||l,{matches:Ye,route:K}=ym(qe);return{notFoundMatches:Ye,route:K,error:Ge}}function Zt(Ce,Ge,qe){if(T=Ce,C=Ge,S=qe||null,!M&&I.navigation===jv){M=!0;let Ye=ci(I.location,I.matches);Ye!=null&&it({restoreScrollPosition:Ye})}return()=>{T=null,C=null,S=null}}function Gr(Ce,Ge){return S&&S(Ce,Ge.map(Ye=>HA(Ye,I.loaderData)))||Ce.key}function Ea(Ce,Ge){if(T&&C){let qe=Gr(Ce,Ge);T[qe]=C()}}function ci(Ce,Ge){if(T){let qe=Gr(Ce,Ge),Ye=T[qe];if(typeof Ye=="number")return Ye}return null}function Qi(Ce,Ge,qe){if(t.patchRoutesOnNavigation)if(Ce){if(Object.keys(Ce[0].params).length>0)return{active:!0,matches:m0(Ge,qe,f,!0)}}else return{active:!0,matches:m0(Ge,qe,f,!0)||[]};return{active:!1,matches:null}}async function Ci(Ce,Ge,qe,Ye){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Ce};let K=Ce;for(;;){let pe=u==null,re=u||l,ne=s;try{await t.patchRoutesOnNavigation({signal:qe,path:Ge,matches:K,fetcherKey:Ye,patch:(Pe,ze)=>{qe.aborted||fb(Pe,ze,re,ne,a,!1)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:K}}finally{pe&&!qe.aborted&&(l=[...l])}if(qe.aborted)return{type:"aborted"};let he=$u(re,Ge,f),ge=null;if(he){if(Object.keys(he[0].params).length===0)return{type:"success",matches:he};if(ge=m0(re,Ge,f,!0),!(ge&&K.length<ge.length&&Qt(K,ge.slice(0,K.length))))return{type:"success",matches:he}}if(ge||(ge=m0(re,Ge,f,!0)),!ge||Qt(K,ge))return{type:"success",matches:null};K=ge}}function Qt(Ce,Ge){return Ce.length===Ge.length&&Ce.every((qe,Ye)=>qe.route.id===Ge[Ye].route.id)}function Ja(Ce){s={},u=H0(Ce,a,void 0,s)}function Ua(Ce,Ge,qe=!1){let Ye=u==null;fb(Ce,Ge,u||l,s,a,qe),Ye&&(l=[...l],it({}))}return ce={get basename(){return f},get future(){return v},get state(){return I},get routes(){return l},get window(){return e},initialize:Re,subscribe:ot,enableScrollRestoration:Zt,navigate:Nt,fetch:jt,revalidate:we,createHref:Ce=>t.history.createHref(Ce),encodeLocation:Ce=>t.history.encodeLocation(Ce),getFetcher:_r,resetFetcher:Wt,deleteFetcher:Mr,dispose:Ie,getBlocker:ln,deleteBlocker:cr,patchRoutes:Ua,_internalFetchControllers:_e,_internalSetRoutes:Ja,_internalSetStateDoNotUseOrYouWillBreakYourApp(Ce){it(Ce)}},t.unstable_instrumentations&&(ce=lL(ce,t.unstable_instrumentations.map(Ce=>Ce.router).filter(Boolean))),ce}function xL(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function G2(t,e,r,n,i,a){let s,l;if(i){s=[];for(let f of e)if(s.push(f),f.route.id===i){l=f;break}}else s=e,l=e[e.length-1];let u=Y1(n||".",Z1(s),bl(t.pathname,r)||t.pathname,a==="path");if(n==null&&(u.search=t.search,u.hash=t.hash),(n==null||n===""||n===".")&&l){let f=k_(u.search);if(l.route.index&&!f)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&f){let p=new URLSearchParams(u.search),v=p.getAll("index");p.delete("index"),v.filter(_=>_).forEach(_=>p.append("index",_));let y=p.toString();u.search=y?`?${y}`:""}}return r!=="/"&&(u.pathname=rL({basename:r,pathname:u.pathname})),Oc(u)}function ub(t,e,r){if(!r||!xL(r))return{path:e};if(r.formMethod&&!BL(r.formMethod))return{path:e,error:yl(405,{method:r.formMethod})};let n=()=>({path:e,error:yl(400,{type:"invalid-body"})}),a=(r.formMethod||"get").toUpperCase(),s=yS(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Fs(a))return n();let v=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,[_,T])=>`${y}${_}=${T}
`,""):String(r.body);return{path:e,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:v}}}else if(r.formEncType==="application/json"){if(!Fs(a))return n();try{let v=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:v,text:void 0}}}catch{return n()}}}Yr(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=V2(r.formData),u=r.formData;else if(r.body instanceof FormData)l=V2(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=vb(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=vb(l)}catch{return n()}let f={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Fs(f.formMethod))return{path:e,submission:f};let p=mu(e);return t&&p.search&&k_(p.search)&&l.append("index",""),p.search=`?${l}`,{path:Oc(p),submission:f}}function hb(t,e,r,n,i,a,s,l,u,f,p,v,y,_,T,S,C,M,D,j,V){let X=j?Ko(j[1])?j[1].error:j[1].data:void 0,ce=i.createURL(a.location),I=i.createURL(u),q;if(p&&a.errors){let xe=Object.keys(a.errors)[0];q=s.findIndex(oe=>oe.route.id===xe)}else if(j&&Ko(j[1])){let xe=j[0];q=s.findIndex(oe=>oe.route.id===xe)-1}let F=j?j[1].statusCode:void 0,J=F&&F>=400,B={currentUrl:ce,currentParams:a.matches[0]?.params||{},nextUrl:I,nextParams:s[0].params,...l,actionResult:X,actionStatus:F},Z=dp(s),ue=s.map((xe,oe)=>{let{route:be}=xe,_e=null;if(q!=null&&oe>q?_e=!1:be.lazy?_e=!0:C_(be)?p?_e=H2(be,a.loaderData,a.errors):wL(a.loaderData,a.matches[oe],xe)&&(_e=!0):_e=!1,_e!==null)return q2(r,n,t,Z,xe,f,e,_e);let Le=!1;typeof V=="boolean"?Le=V:J?Le=!1:(v||ce.pathname+ce.search===I.pathname+I.search||ce.search!==I.search||bL(a.matches[oe],xe))&&(Le=!0);let Ne={...B,defaultShouldRevalidate:Le},ee=b0(xe,Ne);return q2(r,n,t,Z,xe,f,e,ee,Ne,V)}),de=[];return T.forEach((xe,oe)=>{if(p||!s.some(H=>H.route.id===xe.routeId)||_.has(oe))return;let be=a.fetchers.get(oe),_e=be&&be.state!=="idle"&&be.data===void 0,Le=$u(C,xe.path,M);if(!Le){if(D&&_e)return;de.push({key:oe,routeId:xe.routeId,path:xe.path,matches:null,match:null,request:null,controller:null});return}if(S.has(oe))return;let Ne=Qm(Le,xe.path),ee=new AbortController,O=Hf(i,xe.path,ee.signal),G=null;if(y.has(oe))y.delete(oe),G=sd(r,n,O,Le,Ne,f,e);else if(_e)v&&(G=sd(r,n,O,Le,Ne,f,e));else{let H;typeof V=="boolean"?H=V:J?H=!1:H=v;let Y={...B,defaultShouldRevalidate:H};b0(Ne,Y)&&(G=sd(r,n,O,Le,Ne,f,e,Y))}G&&de.push({key:oe,routeId:xe.routeId,path:xe.path,matches:G,match:Ne,request:O,controller:ee})}),{dsMatches:ue,revalidatingFetchers:de}}function C_(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function H2(t,e,r){if(t.lazy)return!0;if(!C_(t))return!1;let n=e!=null&&t.id in e,i=r!=null&&r[t.id]!==void 0;return!n&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!i}function wL(t,e,r){let n=!e||r.route.id!==e.route.id,i=!t.hasOwnProperty(r.route.id);return n||i}function bL(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function b0(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function fb(t,e,r,n,i,a){let s;if(t){let f=n[t];Yr(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),s=f.children}else s=r;let l=[],u=[];if(e.forEach(f=>{let p=s.find(v=>pS(f,v));p?u.push({existingRoute:p,newRoute:f}):l.push(f)}),l.length>0){let f=H0(l,i,[t||"_","patch",String(s?.length||"0")],n);s.push(...f)}if(a&&u.length>0)for(let f=0;f<u.length;f++){let{existingRoute:p,newRoute:v}=u[f],y=p,[_]=H0([v],i,[],{},!0);Object.assign(y,{element:_.element?_.element:y.element,errorElement:_.errorElement?_.errorElement:y.errorElement,hydrateFallbackElement:_.hydrateFallbackElement?_.hydrateFallbackElement:y.hydrateFallbackElement})}}function pS(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>e.children?.some(i=>pS(r,i))):!1}var db=new WeakMap,mS=({key:t,route:e,manifest:r,mapRouteProperties:n})=>{let i=r[e.id];if(Yr(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let s=db.get(i);s||(s={},db.set(i,s));let l=s[t];if(l)return l;let u=(async()=>{let f=BA(t),v=i[t]!==void 0&&t!=="hasErrorBoundary";if(f)Xi(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),s[t]=Promise.resolve();else if(v)Xi(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let y=await a();y!=null&&(Object.assign(i,{[t]:y}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(y=>y===void 0)&&(i.lazy=void 0))})();return s[t]=u,u},pb=new WeakMap;function SL(t,e,r,n,i){let a=r[t.id];if(Yr(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=pb.get(a);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let v=(async()=>{Yr(typeof t.lazy=="function","No lazy route function found");let y=await t.lazy(),_={};for(let T in y){let S=y[T];if(S===void 0)continue;let C=zA(T),D=a[T]!==void 0&&T!=="hasErrorBoundary";C?Xi(!C,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?Xi(!D,`Route "${a.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):_[T]=S}Object.assign(a,_),Object.assign(a,{...n(a),lazy:void 0})})();return pb.set(a,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let s=Object.keys(t.lazy),l=[],u;for(let p of s){if(i&&i.includes(p))continue;let v=mS({key:p,route:t,manifest:r,mapRouteProperties:n});v&&(l.push(v),p===e&&(u=v))}let f=l.length>0?Promise.all(l).then(()=>{}):void 0;return f?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:u}}async function mb(t){let e=t.matches.filter(i=>i.shouldLoad),r={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{r[e[a].route.id]=i}),r}async function EL(t){return t.matches.some(e=>e.route.middleware)?gS(t,()=>mb(t)):mb(t)}function gS(t,e){return TL(t,e,n=>{if(FL(n))throw n;return n},RL,r);function r(n,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:n}}));{let{matches:s}=t,l=Math.min(Math.max(s.findIndex(f=>f.route.id===i),0),Math.max(s.findIndex(f=>f.shouldCallHandler()),0)),u=Wu(s,s[l].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:n}})}}}async function TL(t,e,r,n,i){let{matches:a,request:s,params:l,context:u,unstable_pattern:f}=t,p=a.flatMap(y=>y.route.middleware?y.route.middleware.map(_=>[y.route.id,_]):[]);return await vS({request:s,params:l,context:u,unstable_pattern:f},p,e,r,n,i)}async function vS(t,e,r,n,i,a,s=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let u=e[s];if(!u)return await r();let[f,p]=u,v,y=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");try{return v={value:await vS(t,e,r,n,i,a,s+1)},v.value}catch(_){return v={value:await a(_,f,v)},v.value}};try{let _=await p(t,y),T=_!=null?n(_):void 0;return i(T)?T:v?T??v.value:(v={value:await y()},v.value)}catch(_){return await a(_,f,v)}}function _S(t,e,r,n,i){let a=mS({key:"middleware",route:n.route,manifest:e,mapRouteProperties:t}),s=SL(n.route,Fs(r.method)?"action":"loader",e,t,i);return{middleware:a,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function q2(t,e,r,n,i,a,s,l,u=null,f){let p=!1,v=_S(t,e,r,i,a);return{...i,_lazyPromises:v,shouldLoad:l,shouldRevalidateArgs:u,shouldCallHandler(y){return p=!0,u?typeof f=="boolean"?b0(i,{...u,defaultShouldRevalidate:f}):typeof y=="boolean"?b0(i,{...u,defaultShouldRevalidate:y}):b0(i,u):l},resolve(y){let{lazy:_,loader:T,middleware:S}=i.route,C=p||l||y&&!Fs(r.method)&&(_||T),M=S&&S.length>0&&!T&&!_;return C&&(Fs(r.method)||!M)?LL({request:r,unstable_pattern:n,match:i,lazyHandlerPromise:v?.handler,lazyRoutePromise:v?.route,handlerOverride:y,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function sd(t,e,r,n,i,a,s,l=null){return n.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,shouldRevalidateArgs:l,shouldCallHandler:()=>!1,_lazyPromises:_S(t,e,r,u,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:q2(t,e,r,dp(n),u,a,s,!0,l))}async function AL(t,e,r,n,i,a){r.some(f=>f._lazyPromises?.middleware)&&await Promise.all(r.map(f=>f._lazyPromises?.middleware));let s={request:e,unstable_pattern:dp(r),params:r[0].params,context:i,matches:r},u=await t({...s,fetcherKey:n,runClientMiddleware:f=>{let p=s;return gS(p,()=>f({...p,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return u}async function LL({request:t,unstable_pattern:e,match:r,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:a,scopedContext:s}){let l,u,f=Fs(t.method),p=f?"action":"loader",v=y=>{let _,T=new Promise((M,D)=>_=D);u=()=>_(),t.signal.addEventListener("abort",u);let S=M=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${r.route.id}]`)):y({request:t,unstable_pattern:e,params:r.params,context:s},...M!==void 0?[M]:[]),C=(async()=>{try{return{type:"data",result:await(a?a(D=>S(D)):S())}}catch(M){return{type:"error",result:M}}})();return Promise.race([C,T])};try{let y=f?r.route.action:r.route.loader;if(n||i)if(y){let _,[T]=await Promise.all([v(y).catch(S=>{_=S}),n,i]);if(_!==void 0)throw _;l=T}else{await n;let _=f?r.route.action:r.route.loader;if(_)[l]=await Promise.all([v(_),i]);else if(p==="action"){let T=new URL(t.url),S=T.pathname+T.search;throw yl(405,{method:t.method,pathname:S,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(y)l=await v(y);else{let _=new URL(t.url),T=_.pathname+_.search;throw yl(404,{pathname:T})}}catch(y){return{type:"error",result:y}}finally{u&&t.signal.removeEventListener("abort",u)}return l}async function NL(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function CL(t){let{result:e,type:r}=t;if(M_(e)){let n;try{n=await NL(e)}catch(i){return{type:"error",error:i}}return r==="error"?{type:"error",error:new fp(e.status,e.statusText,n),statusCode:e.status,headers:e.headers}:{type:"data",data:n,statusCode:e.status,headers:e.headers}}return r==="error"?wb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:OL(e),statusCode:q0(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:q0(e)?e.status:void 0}:wb(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function ML(t,e,r,n,i){let a=t.headers.get("Location");if(Yr(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!N_(a)){let s=n.slice(0,n.findIndex(l=>l.route.id===r)+1);a=G2(new URL(e.url),s,i,a),t.headers.set("Location",a)}return t}function gb(t,e,r,n){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(N_(t)){let a=t,s=a.startsWith("//")?new URL(e.protocol+a):new URL(a);if(i.includes(s.protocol))throw new Error("Invalid redirect location");let l=bl(s.pathname,r)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}try{let a=n.createURL(t);if(i.includes(a.protocol))throw new Error("Invalid redirect location")}catch{}return t}function Hf(t,e,r,n){let i=t.createURL(yS(e)).toString(),a={signal:r};if(n&&Fs(n.formMethod)){let{formMethod:s,formEncType:l}=n;a.method=s.toUpperCase(),l==="application/json"?(a.headers=new Headers({"Content-Type":l}),a.body=JSON.stringify(n.json)):l==="text/plain"?a.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?a.body=V2(n.formData):a.body=n.formData}return new Request(i,a)}function V2(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function vb(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function kL(t,e,r,n=!1,i=!1){let a={},s=null,l,u=!1,f={},p=r&&Ko(r[1])?r[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let y=v.route.id,_=e[y];if(Yr(!Oh(_),"Cannot handle redirect results in processLoaderData"),Ko(_)){let T=_.error;if(p!==void 0&&(T=p,p=void 0),s=s||{},i)s[y]=T;else{let S=Wu(t,y);s[S.route.id]==null&&(s[S.route.id]=T)}n||(a[y]=dS),u||(u=!0,l=q0(_.error)?_.error.status:500),_.headers&&(f[y]=_.headers)}else a[y]=_.data,_.statusCode&&_.statusCode!==200&&!u&&(l=_.statusCode),_.headers&&(f[y]=_.headers)}),p!==void 0&&r&&(s={[r[0]]:p},r[2]&&(a[r[2]]=void 0)),{loaderData:a,errors:s,statusCode:l||200,loaderHeaders:f}}function _b(t,e,r,n,i,a){let{loaderData:s,errors:l}=kL(e,r,n);return i.filter(u=>!u.matches||u.matches.some(f=>f.shouldLoad)).forEach(u=>{let{key:f,match:p,controller:v}=u;if(v&&v.signal.aborted)return;let y=a[f];if(Yr(y,"Did not find corresponding fetcher result"),Ko(y)){let _=Wu(t.matches,p?.route.id);l&&l[_.route.id]||(l={...l,[_.route.id]:y.error}),t.fetchers.delete(f)}else if(Oh(y))Yr(!1,"Unhandled fetcher revalidation redirect");else{let _=su(y.data);t.fetchers.set(f,_)}}),{loaderData:s,errors:l}}function yb(t,e,r,n){let i=Object.entries(e).filter(([,a])=>a!==dS).reduce((a,[s,l])=>(a[s]=l,a),{});for(let a of r){let s=a.route.id;if(!e.hasOwnProperty(s)&&t.hasOwnProperty(s)&&a.route.loader&&(i[s]=t[s]),n&&n.hasOwnProperty(s))break}return i}function xb(t){return t?Ko(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Wu(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function ym(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function yl(t,{pathname:e,routeId:r,method:n,type:i,message:a}={}){let s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",n&&e&&r?l=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(s="Forbidden",l=`Route "${r}" does not match URL "${e}"`):t===404?(s="Not Found",l=`No route matches URL "${e}"`):t===405&&(s="Method Not Allowed",n&&e&&r?l=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(l=`Invalid request method "${n.toUpperCase()}"`)),new fp(t||500,s,new Error(l),!0)}function xm(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,i]=e[r];if(Oh(i))return{key:n,result:i}}}function yS(t){let e=typeof t=="string"?mu(t):t;return Oc({...e,hash:""})}function PL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function OL(t){return new fp(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function RL(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,r])=>typeof e=="string"&&DL(r))}function DL(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function jL(t){return M_(t.result)&&hS.has(t.result.status)}function Ko(t){return t.type==="error"}function Oh(t){return(t&&t.type)==="redirect"}function wb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function M_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function IL(t){return hS.has(t)}function FL(t){return M_(t)&&IL(t.status)&&t.headers.has("Location")}function BL(t){return mL.has(t.toUpperCase())}function Fs(t){return dL.has(t.toUpperCase())}function k_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Qm(t,e){let r=typeof e=="string"?mu(e).search:e.search;if(t[t.length-1].route.index&&k_(r||""))return t[t.length-1];let n=sS(t);return n[n.length-1]}function bb(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:a,json:s}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function Iv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function UL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function s0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function zL(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function su(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function GL(t,e){try{let r=t.sessionStorage.getItem(fS);if(r){let n=JSON.parse(r);for(let[i,a]of Object.entries(n||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function HL(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(fS,JSON.stringify(r))}catch(n){Xi(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function Sb(){let t,e,r=new Promise((n,i)=>{t=async a=>{n(a);try{await r}catch{}},e=async a=>{i(a);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var Vh=ve.createContext(null);Vh.displayName="DataRouter";var pp=ve.createContext(null);pp.displayName="DataRouterState";var xS=ve.createContext(!1);function qL(){return ve.useContext(xS)}var P_=ve.createContext({isTransitioning:!1});P_.displayName="ViewTransition";var wS=ve.createContext(new Map);wS.displayName="Fetchers";var VL=ve.createContext(null);VL.displayName="Await";var nl=ve.createContext(null);nl.displayName="Navigation";var K1=ve.createContext(null);K1.displayName="Location";var El=ve.createContext({outlet:null,matches:[],isDataRoute:!1});El.displayName="Route";var O_=ve.createContext(null);O_.displayName="RouteError";var bS="REACT_ROUTER_ERROR",$L="REDIRECT",WL="ROUTE_ERROR_RESPONSE";function ZL(t){if(t.startsWith(`${bS}:${$L}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function YL(t){if(t.startsWith(`${bS}:${WL}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new fp(e.status,e.statusText,e.data)}catch{}}function KL(t,{relative:e}={}){Yr(xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=ve.useContext(nl),{hash:i,pathname:a,search:s}=mp(t,{relative:e}),l=a;return r!=="/"&&(l=a==="/"?r:Pc([r,a])),n.createHref({pathname:l,search:s,hash:i})}function xd(){return ve.useContext(K1)!=null}function jc(){return Yr(xd(),"useLocation() may be used only in the context of a <Router> component."),ve.useContext(K1).location}var SS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ES(t){ve.useContext(nl).static||ve.useLayoutEffect(t)}function $h(){let{isDataRoute:t}=ve.useContext(El);return t?fN():XL()}function XL(){Yr(xd(),"useNavigate() may be used only in the context of a <Router> component.");let t=ve.useContext(Vh),{basename:e,navigator:r}=ve.useContext(nl),{matches:n}=ve.useContext(El),{pathname:i}=jc(),a=JSON.stringify(Z1(n)),s=ve.useRef(!1);return ES(()=>{s.current=!0}),ve.useCallback((u,f={})=>{if(Xi(s.current,SS),!s.current)return;if(typeof u=="number"){r.go(u);return}let p=Y1(u,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Pc([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,a,i,t])}var JL=ve.createContext(null);function QL(t){let e=ve.useContext(El).outlet;return ve.useMemo(()=>e&&ve.createElement(JL.Provider,{value:t},e),[e,t])}function eN(){let{matches:t}=ve.useContext(El),e=t[t.length-1];return e?e.params:{}}function mp(t,{relative:e}={}){let{matches:r}=ve.useContext(El),{pathname:n}=jc(),i=JSON.stringify(Z1(r));return ve.useMemo(()=>Y1(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function tN(t,e,r,n,i){Yr(xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=ve.useContext(nl),{matches:s}=ve.useContext(El),l=s[s.length-1],u=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",v=l&&l.route;{let D=v&&v.path||"";AS(f,!v||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=jc(),_;_=y;let T=_.pathname||"/",S=T;if(p!=="/"){let D=p.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=$u(t,{pathname:S});return Xi(v||C!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Xi(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),sN(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},u,D.params),pathname:Pc([p,a.encodeLocation?a.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:Pc([p,a.encodeLocation?a.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),s,r,n,i)}function rN(){let t=hN(),e=q0(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=ve.createElement(ve.Fragment,null,ve.createElement("p",null," Hey developer "),ve.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ve.createElement("code",{style:a},"ErrorBoundary")," or"," ",ve.createElement("code",{style:a},"errorElement")," prop on your route.")),ve.createElement(ve.Fragment,null,ve.createElement("h2",null,"Unexpected Application Error!"),ve.createElement("h3",{style:{fontStyle:"italic"}},e),r?ve.createElement("pre",{style:i},r):null,s)}var nN=ve.createElement(rN,null),TS=class extends ve.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=YL(t.digest);r&&(t=r)}let e=t!==void 0?ve.createElement(El.Provider,{value:this.props.routeContext},ve.createElement(O_.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?ve.createElement(iN,{error:t},e):e}};TS.contextType=xS;var Fv=new WeakMap;function iN({children:t,error:e}){let{basename:r}=ve.useContext(nl);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=ZL(e.digest);if(n){let i=Fv.get(e);if(i)throw i;let a=lS(n.location,r);if(oS&&!Fv.get(e))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw Fv.set(e,s),s}return ve.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function aN({routeContext:t,match:e,children:r}){let n=ve.useContext(Vh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ve.createElement(El.Provider,{value:t},r)}function sN(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=r?.errors;if(s!=null){let p=a.findIndex(v=>v.route.id&&s?.[v.route.id]!==void 0);Yr(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let l=!1,u=-1;if(r)for(let p=0;p<a.length;p++){let v=a[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(u=p),v.route.id){let{loaderData:y,errors:_}=r,T=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||T){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=r&&n?(p,v)=>{n(p,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:dp(r.matches),errorInfo:v})}:void 0;return a.reduceRight((p,v,y)=>{let _,T=!1,S=null,C=null;r&&(_=s&&v.route.id?s[v.route.id]:void 0,S=v.route.errorElement||nN,l&&(u<0&&y===0?(AS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):u===y&&(T=!0,C=v.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,y+1)),D=()=>{let j;return _?j=S:T?j=C:v.route.Component?j=ve.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=p,ve.createElement(aN,{match:v,routeContext:{outlet:p,matches:M,isDataRoute:r!=null},children:j})};return r&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?ve.createElement(TS,{location:r.location,revalidation:r.revalidation,component:S,error:_,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:f}):D()},null)}function R_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oN(t){let e=ve.useContext(Vh);return Yr(e,R_(t)),e}function lN(t){let e=ve.useContext(pp);return Yr(e,R_(t)),e}function cN(t){let e=ve.useContext(El);return Yr(e,R_(t)),e}function D_(t){let e=cN(t),r=e.matches[e.matches.length-1];return Yr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function uN(){return D_("useRouteId")}function hN(){let t=ve.useContext(O_),e=lN("useRouteError"),r=D_("useRouteError");return t!==void 0?t:e.errors?.[r]}function fN(){let{router:t}=oN("useNavigate"),e=D_("useNavigate"),r=ve.useRef(!1);return ES(()=>{r.current=!0}),ve.useCallback(async(i,a={})=>{Xi(r.current,SS),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Eb={};function AS(t,e,r){!e&&!Eb[t]&&(Eb[t]=!0,Xi(!1,r))}var Tb={};function Ab(t,e){!t&&!Tb[e]&&(Tb[e]=!0,console.warn(e))}var dN="useOptimistic",Lb=TA[dN],pN=()=>{};function mN(t){return Lb?Lb(t):[t,pN]}function gN(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Xi(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:ve.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Xi(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:ve.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Xi(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:ve.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var vN=["HydrateFallback","hydrateFallbackElement"],_N=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function yN({router:t,flushSync:e,onError:r,unstable_useTransitions:n}){n=qL()||n;let[a,s]=ve.useState(t.state),[l,u]=mN(a),[f,p]=ve.useState(),[v,y]=ve.useState({isTransitioning:!1}),[_,T]=ve.useState(),[S,C]=ve.useState(),[M,D]=ve.useState(),j=ve.useRef(new Map),V=ve.useCallback((q,{deletedFetchers:F,newErrors:J,flushSync:B,viewTransitionOpts:Z})=>{J&&r&&Object.values(J).forEach(de=>r(de,{location:q.location,params:q.matches[0]?.params??{},unstable_pattern:dp(q.matches)})),q.fetchers.forEach((de,xe)=>{de.data!==void 0&&j.current.set(xe,de.data)}),F.forEach(de=>j.current.delete(de)),Ab(B===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ue=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Ab(Z==null||ue,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Z||!ue){e&&B?e(()=>s(q)):n===!1?s(q):ve.startTransition(()=>{n===!0&&u(de=>Nb(de,q)),s(q)});return}if(e&&B){e(()=>{S&&(_?.resolve(),S.skipTransition()),y({isTransitioning:!0,flushSync:!0,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})});let de=t.window.document.startViewTransition(()=>{e(()=>s(q))});de.finished.finally(()=>{e(()=>{T(void 0),C(void 0),p(void 0),y({isTransitioning:!1})})}),e(()=>C(de));return}S?(_?.resolve(),S.skipTransition(),D({state:q,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})):(p(q),y({isTransitioning:!0,flushSync:!1,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation}))},[t.window,e,S,_,n,u,r]);ve.useLayoutEffect(()=>t.subscribe(V),[t,V]),ve.useEffect(()=>{v.isTransitioning&&!v.flushSync&&T(new _N)},[v]),ve.useEffect(()=>{if(_&&f&&t.window){let q=f,F=_.promise,J=t.window.document.startViewTransition(async()=>{n===!1?s(q):ve.startTransition(()=>{n===!0&&u(B=>Nb(B,q)),s(q)}),await F});J.finished.finally(()=>{T(void 0),C(void 0),p(void 0),y({isTransitioning:!1})}),C(J)}},[f,_,t.window,n,u]),ve.useEffect(()=>{_&&f&&l.location.key===f.location.key&&_.resolve()},[_,S,l.location,f]),ve.useEffect(()=>{!v.isTransitioning&&M&&(p(M.state),y({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}),D(void 0))},[v.isTransitioning,M]);let X=ve.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:q=>t.navigate(q),push:(q,F,J)=>t.navigate(q,{state:F,preventScrollReset:J?.preventScrollReset}),replace:(q,F,J)=>t.navigate(q,{replace:!0,state:F,preventScrollReset:J?.preventScrollReset})}),[t]),ce=t.basename||"/",I=ve.useMemo(()=>({router:t,navigator:X,static:!1,basename:ce,onError:r}),[t,X,ce,r]);return ve.createElement(ve.Fragment,null,ve.createElement(Vh.Provider,{value:I},ve.createElement(pp.Provider,{value:l},ve.createElement(wS.Provider,{value:j.current},ve.createElement(P_.Provider,{value:v},ve.createElement(bN,{basename:ce,location:l.location,navigationType:l.historyAction,navigator:X,unstable_useTransitions:n},ve.createElement(xN,{routes:t.routes,future:t.future,state:l,onError:r})))))),null)}function Nb(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var xN=ve.memo(wN);function wN({routes:t,future:e,state:r,onError:n}){return tN(t,void 0,r,n,e)}function X1({to:t,replace:e,state:r,relative:n}){Yr(xd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=ve.useContext(nl);Xi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=ve.useContext(El),{pathname:s}=jc(),l=$h(),u=Y1(t,Z1(a),s,n==="path"),f=JSON.stringify(u);return ve.useEffect(()=>{l(JSON.parse(f),{replace:e,state:r,relative:n})},[l,f,n,e,r]),null}function LS(t){return QL(t.context)}function bN({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Yr(!xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=ve.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[l,i,a,s]);typeof r=="string"&&(r=mu(r));let{pathname:f="/",search:p="",hash:v="",state:y=null,key:_="default"}=r,T=ve.useMemo(()=>{let S=bl(f,l);return S==null?null:{location:{pathname:S,search:p,hash:v,state:y,key:_},navigationType:n}},[l,f,p,v,y,_,n]);return Xi(T!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:ve.createElement(nl.Provider,{value:u},ve.createElement(K1.Provider,{children:e,value:T}))}var e1="get",t1="application/x-www-form-urlencoded";function J1(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function SN(t){return J1(t)&&t.tagName.toLowerCase()==="button"}function EN(t){return J1(t)&&t.tagName.toLowerCase()==="form"}function TN(t){return J1(t)&&t.tagName.toLowerCase()==="input"}function AN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LN(t,e){return t.button===0&&(!e||e==="_self")&&!AN(t)}var wm=null;function NN(){if(wm===null)try{new FormData(document.createElement("form"),0),wm=!1}catch{wm=!0}return wm}var CN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bv(t){return t!=null&&!CN.has(t)?(Xi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${t1}"`),null):t}function MN(t,e){let r,n,i,a,s;if(EN(t)){let l=t.getAttribute("action");n=l?bl(l,e):null,r=t.getAttribute("method")||e1,i=Bv(t.getAttribute("enctype"))||t1,a=new FormData(t)}else if(SN(t)||TN(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(n=u?bl(u,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||e1,i=Bv(t.getAttribute("formenctype"))||Bv(l.getAttribute("enctype"))||t1,a=new FormData(l,t),!NN()){let{name:f,type:p,value:v}=t;if(p==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,v)}}else{if(J1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=e1,n=null,i=t1,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function j_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kN(t,e,r,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:e&&bl(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function PN(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ON(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RN(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await PN(a,r);return s.links?s.links():[]}return[]}));return FN(n.flat(1).filter(ON).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Cb(t,e,r,n,i,a){let s=(u,f)=>r[f]?u.route.id!==r[f].route.id:!0,l=(u,f)=>r[f].pathname!==u.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==u.params["*"];return a==="assets"?e.filter((u,f)=>s(u,f)||l(u,f)):a==="data"?e.filter((u,f)=>{let p=n.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(s(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function DN(t,e,{includeHydrateFallback:r}={}){return jN(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function jN(t){return[...new Set(t)]}function IN(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function FN(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(IN(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function NS(){let t=ve.useContext(Vh);return j_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BN(){let t=ve.useContext(pp);return j_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var I_=ve.createContext(void 0);I_.displayName="FrameworkContext";function CS(){let t=ve.useContext(I_);return j_(t,"You must render this element inside a <HydratedRouter> element"),t}function UN(t,e){let r=ve.useContext(I_),[n,i]=ve.useState(!1),[a,s]=ve.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,y=ve.useRef(null);ve.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let S=M=>{M.forEach(D=>{s(D.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[t]),ve.useEffect(()=>{if(n){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[n]);let _=()=>{i(!0)},T=()=>{i(!1),s(!1)};return r?t!=="intent"?[a,y,{}]:[a,y,{onFocus:o0(l,_),onBlur:o0(u,T),onMouseEnter:o0(f,_),onMouseLeave:o0(p,T),onTouchStart:o0(v,_)}]:[!1,y,{}]}function o0(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function zN({page:t,...e}){let{router:r}=NS(),n=ve.useMemo(()=>$u(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?ve.createElement(HN,{page:t,matches:n,...e}):null}function GN(t){let{manifest:e,routeModules:r}=CS(),[n,i]=ve.useState([]);return ve.useEffect(()=>{let a=!1;return RN(t,e,r).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,r]),n}function HN({page:t,matches:e,...r}){let n=jc(),{future:i,manifest:a,routeModules:s}=CS(),{basename:l}=NS(),{loaderData:u,matches:f}=BN(),p=ve.useMemo(()=>Cb(t,e,f,a,n,"data"),[t,e,f,a,n]),v=ve.useMemo(()=>Cb(t,e,f,a,n,"assets"),[t,e,f,a,n]),y=ve.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let S=new Set,C=!1;if(e.forEach(D=>{let j=a.routes[D.route.id];!j||!j.hasLoader||(!p.some(V=>V.route.id===D.route.id)&&D.route.id in u&&s[D.route.id]?.shouldRevalidate||j.hasClientLoader?C=!0:S.add(D.route.id))}),S.size===0)return[];let M=kN(t,l,i.unstable_trailingSlashAwareDataRequests,"data");return C&&S.size>0&&M.searchParams.set("_routes",e.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[M.pathname+M.search]},[l,i.unstable_trailingSlashAwareDataRequests,u,n,a,p,e,t,s]),_=ve.useMemo(()=>DN(v,a),[v,a]),T=GN(v);return ve.createElement(ve.Fragment,null,y.map(S=>ve.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),_.map(S=>ve.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),T.map(({key:S,link:C})=>ve.createElement("link",{key:S,nonce:r.nonce,...C,crossOrigin:C.crossOrigin??r.crossOrigin})))}function qN(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var VN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VN&&(window.__reactRouterVersion="7.13.0")}catch{}function $N(t,e){return yL({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:DA({window:e?.window}),hydrationData:WN(),routes:t,mapRouteProperties:gN,hydrationRouteProperties:vN,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function WN(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:ZN(t.errors)}),t}function ZN(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new fp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",r[n]=s}catch{}}if(r[n]==null){let a=new Error(i.message);a.stack="",r[n]=a}}else r[n]=i;return r}var MS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F_=ve.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:l,target:u,to:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:y,..._},T){let{basename:S,unstable_useTransitions:C}=ve.useContext(nl),M=typeof f=="string"&&MS.test(f),D=lS(f,S);f=D.to;let j=KL(f,{relative:i}),[V,X,ce]=UN(n,_),I=JN(f,{replace:s,state:l,target:u,preventScrollReset:p,relative:i,viewTransition:v,unstable_defaultShouldRevalidate:y,unstable_useTransitions:C});function q(J){e&&e(J),J.defaultPrevented||I(J)}let F=ve.createElement("a",{..._,...ce,href:D.absoluteURL||j,onClick:D.isExternal||a?e:q,ref:qN(T,X),target:u,"data-discover":!M&&r==="render"?"true":void 0});return V&&!M?ve.createElement(ve.Fragment,null,F,ve.createElement(zN,{page:j})):F});F_.displayName="Link";var YN=ve.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:l,children:u,...f},p){let v=mp(s,{relative:f.relative}),y=jc(),_=ve.useContext(pp),{navigator:T,basename:S}=ve.useContext(nl),C=_!=null&&nC(v)&&l===!0,M=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,D=y.pathname,j=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(D=D.toLowerCase(),j=j?j.toLowerCase():null,M=M.toLowerCase()),j&&S&&(j=bl(j,S)||j);const V=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let X=D===M||!i&&D.startsWith(M)&&D.charAt(V)==="/",ce=j!=null&&(j===M||!i&&j.startsWith(M)&&j.charAt(M.length)==="/"),I={isActive:X,isPending:ce,isTransitioning:C},q=X?e:void 0,F;typeof n=="function"?F=n(I):F=[n,X?"active":null,ce?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let J=typeof a=="function"?a(I):a;return ve.createElement(F_,{...f,"aria-current":q,className:F,ref:p,style:J,to:s,viewTransition:l},typeof u=="function"?u(I):u)});YN.displayName="NavLink";var KN=ve.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:s=e1,action:l,onSubmit:u,relative:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:y,..._},T)=>{let{unstable_useTransitions:S}=ve.useContext(nl),C=tC(),M=rC(l,{relative:f}),D=s.toLowerCase()==="get"?"get":"post",j=typeof l=="string"&&MS.test(l),V=X=>{if(u&&u(X),X.defaultPrevented)return;X.preventDefault();let ce=X.nativeEvent.submitter,I=ce?.getAttribute("formmethod")||s,q=()=>C(ce||X.currentTarget,{fetcherKey:e,method:I,navigate:r,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:y});S&&r!==!1?ve.startTransition(()=>q()):q()};return ve.createElement("form",{ref:T,method:D,action:M,onSubmit:n?u:V,..._,"data-discover":!j&&t==="render"?"true":void 0})});KN.displayName="Form";function XN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kS(t){let e=ve.useContext(Vh);return Yr(e,XN(t)),e}function JN(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let f=$h(),p=jc(),v=mp(t,{relative:a});return ve.useCallback(y=>{if(LN(y,e)){y.preventDefault();let _=r!==void 0?r:Oc(p)===Oc(v),T=()=>f(t,{replace:_,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l});u?ve.startTransition(()=>T()):T()}},[p,f,v,r,n,e,t,i,a,s,l,u])}var QN=0,eC=()=>`__${String(++QN)}__`;function tC(){let{router:t}=kS("useSubmit"),{basename:e}=ve.useContext(nl),r=uN(),n=t.fetch,i=t.navigate;return ve.useCallback(async(a,s={})=>{let{action:l,method:u,encType:f,formData:p,body:v}=MN(a,e);if(s.navigate===!1){let y=s.fetcherKey||eC();await n(y,r,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,i,e,r])}function rC(t,{relative:e}={}){let{basename:r}=ve.useContext(nl),n=ve.useContext(El);Yr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...mp(t||".",{relative:e})},s=jc();if(t==null){a.search=s.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(p=>p==="")){l.delete("index"),u.filter(v=>v).forEach(v=>l.append("index",v));let p=l.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Pc([r,a.pathname])),Oc(a)}function nC(t,{relative:e}={}){let r=ve.useContext(P_);Yr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=kS("useViewTransitionState"),i=mp(t,{relative:e});if(!r.isTransitioning)return!1;let a=bl(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=bl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return f1(i.pathname,s)!=null||f1(i.pathname,a)!=null}var PS=eS();function iC(t){return ve.createElement(yN,{flushSync:PS.flushSync,...t})}const Rr=t=>typeof t=="string",l0=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},Mb=t=>t==null?"":""+t,aC=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},sC=/###/g,kb=t=>t&&t.indexOf("###")>-1?t.replace(sC,"."):t,Pb=t=>!t||Rr(t),S0=(t,e,r)=>{const n=Rr(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(Pb(t))return{};const a=kb(n[i]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return Pb(t)?{}:{obj:t,k:kb(n[i])}},Ob=(t,e,r)=>{const{obj:n,k:i}=S0(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let a=e[e.length-1],s=e.slice(0,e.length-1),l=S0(t,s,Object);for(;l.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),l=S0(t,s,Object),l?.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=r},oC=(t,e,r,n)=>{const{obj:i,k:a}=S0(t,e,Object);i[a]=i[a]||[],i[a].push(r)},d1=(t,e)=>{const{obj:r,k:n}=S0(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},lC=(t,e,r)=>{const n=d1(t,r);return n!==void 0?n:d1(e,r)},OS=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?Rr(t[n])||t[n]instanceof String||Rr(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):OS(t[n],e[n],r):t[n]=e[n]);return t},Nf=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var cC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const uC=t=>Rr(t)?t.replace(/[&<>"'\/]/g,e=>cC[e]):t;class hC{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const fC=[" ",",","?","!",";"],dC=new hC(20),pC=(t,e,r)=>{e=e||"",r=r||"";const n=fC.filter(s=>e.indexOf(s)<0&&r.indexOf(s)<0);if(n.length===0)return!0;const i=dC.getRegExp(`(${n.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(r);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},$2=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let i=t;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let s,l="";for(let u=a;u<n.length;++u)if(u!==a&&(l+=r),l+=n[u],s=i[l],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&u<n.length-1)continue;a+=u-a+1;break}i=s}return i},V0=t=>t?.replace("_","-"),mC={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class p1{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||mC,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(Rr(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new p1(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new p1(this.logger,e)}}var Mc=new p1;class Q1{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[e,...r])})}}class Rb extends Q1{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,i={}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],n&&(Array.isArray(n)?l.push(...n):Rr(n)&&a?l.push(...n.split(a)):l.push(n)));const u=d1(this.data,l);return!u&&!r&&!n&&e.indexOf(".")>-1&&(e=l[0],r=l[1],n=l.slice(2).join(".")),u||!s||!Rr(n)?u:$2(this.data?.[e]?.[r],n,a)}addResource(e,r,n,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[e,r];n&&(l=l.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(l=e.split("."),i=r,r=l[1]),this.addNamespaces(r),Ob(this.data,l,i),a.silent||this.emit("added",e,r,n,i)}addResources(e,r,n,i={silent:!1}){for(const a in n)(Rr(n[a])||Array.isArray(n[a]))&&this.addResource(e,r,a,n[a],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,a,s={silent:!1,skipCopy:!1}){let l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),i=n,n=r,r=l[1]),this.addNamespaces(r);let u=d1(this.data,l)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?OS(u,n,a):u={...u,...n},Ob(this.data,l,u),s.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var RS={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(a=>{e=this.processors[a]?.process(e,r,n,i)??e}),e}};const DS=Symbol("i18next/PATH_KEY");function gC(){const t=[],e=Object.create(null);let r;return e.get=(n,i)=>(r?.revoke?.(),i===DS?t:(t.push(i),r=Proxy.revocable(n,e),r.proxy)),Proxy.revocable(Object.create(null),e).proxy}function W2(t,e){const{[DS]:r}=t(gC());return r.join(e?.keySeparator??".")}const Db={},Uv=t=>!Rr(t)&&typeof t!="boolean"&&typeof t!="number";class m1 extends Q1{constructor(e,r={}){super(),aC(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Mc.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const i=this.resolve(e,n);if(i?.res===void 0)return!1;const a=Uv(i.res);return!(n.returnObjects===!1&&a)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!pC(e,n,i);if(s&&!l){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:Rr(a)?[a]:a};const f=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(f[0])>-1)&&(a=f.shift()),e=f.join(i)}return{key:e,namespaces:Rr(a)?[a]:a}}translate(e,r,n){let i=typeof r=="object"?{...r}:r;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=W2(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:u}=this.extractFromKey(e[e.length-1],i),f=u[u.length-1];let p=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const v=i.lng||this.language,y=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return y?a?{res:`${f}${p}${l}`,usedKey:l,exactUsedKey:l,usedLng:v,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:`${f}${p}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:v,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:l;const _=this.resolve(e,i);let T=_?.res;const S=_?.usedKey||l,C=_?.exactUsedKey||l,M=["[object Number]","[object Function]","[object RegExp]"],D=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,V=i.count!==void 0&&!Rr(i.count),X=m1.hasDefaultValue(i),ce=V?this.pluralResolver.getSuffix(v,i.count,i):"",I=i.ordinal&&V?this.pluralResolver.getSuffix(v,i.count,{ordinal:!1}):"",q=V&&!i.ordinal&&i.count===0,F=q&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${ce}`]||i[`defaultValue${I}`]||i.defaultValue;let J=T;j&&!T&&X&&(J=F);const B=Uv(J),Z=Object.prototype.toString.apply(J);if(j&&J&&B&&M.indexOf(Z)<0&&!(Rr(D)&&Array.isArray(J))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ue=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,J,{...i,ns:u}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(_.res=ue,_.usedParams=this.getUsedParamsDetails(i),_):ue}if(s){const ue=Array.isArray(J),de=ue?[]:{},xe=ue?C:S;for(const oe in J)if(Object.prototype.hasOwnProperty.call(J,oe)){const be=`${xe}${s}${oe}`;X&&!T?de[oe]=this.translate(be,{...i,defaultValue:Uv(F)?F[oe]:void 0,joinArrays:!1,ns:u}):de[oe]=this.translate(be,{...i,joinArrays:!1,ns:u}),de[oe]===be&&(de[oe]=J[oe])}T=de}}else if(j&&Rr(D)&&Array.isArray(T))T=T.join(D),T&&(T=this.extendTranslation(T,e,i,n));else{let ue=!1,de=!1;!this.isValidLookup(T)&&X&&(ue=!0,T=F),this.isValidLookup(T)||(de=!0,T=l);const oe=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&de?void 0:T,be=X&&F!==T&&this.options.updateMissing;if(de||ue||be){if(this.logger.log(be?"updateKey":"missingKey",v,f,l,be?F:T),s){const ee=this.resolve(l,{...i,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let _e=[];const Le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Le&&Le[0])for(let ee=0;ee<Le.length;ee++)_e.push(Le[ee]);else this.options.saveMissingTo==="all"?_e=this.languageUtils.toResolveHierarchy(i.lng||this.language):_e.push(i.lng||this.language);const Ne=(ee,O,G)=>{const H=X&&G!==T?G:oe;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,f,O,H,be,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ee,f,O,H,be,i),this.emit("missingKey",ee,f,O,T)};this.options.saveMissing&&(this.options.saveMissingPlurals&&V?_e.forEach(ee=>{const O=this.pluralResolver.getSuffixes(ee,i);q&&i[`defaultValue${this.options.pluralSeparator}zero`]&&O.indexOf(`${this.options.pluralSeparator}zero`)<0&&O.push(`${this.options.pluralSeparator}zero`),O.forEach(G=>{Ne([ee],l+G,i[`defaultValue${G}`]||F)})}):Ne(_e,l,F))}T=this.extendTranslation(T,e,i,_,n),de&&T===l&&this.options.appendNamespaceToMissingKey&&(T=`${f}${p}${l}`),(de||ue)&&this.options.parseMissingKeyHandler&&(T=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${p}${l}`:l,ue?T:void 0,i))}return a?(_.res=T,_.usedParams=this.getUsedParamsDetails(i),_):T}extendTranslation(e,r,n,i,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=Rr(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const v=e.match(this.interpolator.nestingRegexp);f=v&&v.length}let p=n.replace&&!Rr(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language||i.usedLng,n),u){const v=e.match(this.interpolator.nestingRegexp),y=v&&v.length;f<y&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>a?.[0]===v[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${r[0]}`),null):this.translate(...v,r),n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,l=Rr(s)?[s]:s;return e!=null&&l?.length&&n.applyPostProcessor!==!1&&(e=RS.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,i,a,s,l;return Rr(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(n))return;const f=this.extractFromKey(u,r),p=f.key;i=p;let v=f.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const y=r.count!==void 0&&!Rr(r.count),_=y&&!r.ordinal&&r.count===0,T=r.context!==void 0&&(Rr(r.context)||typeof r.context=="number")&&r.context!=="",S=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);v.forEach(C=>{this.isValidLookup(n)||(l=C,!Db[`${S[0]}-${C}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(Db[`${S[0]}-${C}`]=!0,this.logger.warn(`key "${i}" for languages "${S.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(M=>{if(this.isValidLookup(n))return;s=M;const D=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(D,p,M,C,r);else{let V;y&&(V=this.pluralResolver.getSuffix(M,r.count,r));const X=`${this.options.pluralSeparator}zero`,ce=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(r.ordinal&&V.indexOf(ce)===0&&D.push(p+V.replace(ce,this.options.pluralSeparator)),D.push(p+V),_&&D.push(p+X)),T){const I=`${p}${this.options.contextSeparator||"_"}${r.context}`;D.push(I),y&&(r.ordinal&&V.indexOf(ce)===0&&D.push(I+V.replace(ce,this.options.pluralSeparator)),D.push(I+V),_&&D.push(I+X))}}let j;for(;j=D.pop();)this.isValidLookup(n)||(a=j,n=this.getResource(M,C,j,r))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Rr(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const a of r)delete i[a]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class jb{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Mc.create("languageUtils")}getScriptPartFromCode(e){if(e=V0(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=V0(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Rr(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return r=i;const a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Rr(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Rr(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Rr(e)&&a(this.formatLanguageCode(e)),n.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const Ib={zero:0,one:1,two:2,few:3,many:4,other:5},Fb={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class vC{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Mc.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=V0(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Fb;if(!e.match(/-|_/))return Fb;const u=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(u,r)}return this.pluralRulesCache[a]=s,s}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,a)=>Ib[i]-Ib[a]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r,n={}){const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const Bb=(t,e,r,n=".",i=!0)=>{let a=lC(t,e,r);return!a&&i&&Rr(r)&&(a=$2(t,r,n),a===void 0&&(a=$2(e,r,n))),a},zv=t=>t.replace(/\$/g,"$$$$");class Ub{constructor(e={}){this.logger=Mc.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:l,suffixEscaped:u,formatSeparator:f,unescapeSuffix:p,unescapePrefix:v,nestingPrefix:y,nestingPrefixEscaped:_,nestingSuffix:T,nestingSuffixEscaped:S,nestingOptionsSeparator:C,maxReplaces:M,alwaysFormat:D}=e.interpolation;this.escape=r!==void 0?r:uC,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Nf(a):s||"{{",this.suffix=l?Nf(l):u||"}}",this.formatSeparator=f||",",this.unescapePrefix=p?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=y?Nf(y):_||Nf("$t("),this.nestingSuffix=T?Nf(T):S||Nf(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=M||1e3,this.alwaysFormat=D!==void 0?D:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let a,s,l;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=_=>{if(_.indexOf(this.formatSeparator)<0){const M=Bb(r,u,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(M,void 0,n,{...i,...r,interpolationkey:_}):M}const T=_.split(this.formatSeparator),S=T.shift().trim(),C=T.join(this.formatSeparator).trim();return this.format(Bb(r,u,S,this.options.keySeparator,this.options.ignoreJSONStructure),C,n,{...i,...r,interpolationkey:S})};this.resetRegExp();const p=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>zv(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?zv(this.escape(_)):zv(_)}].forEach(_=>{for(l=0;a=_.regex.exec(e);){const T=a[1].trim();if(s=f(T),s===void 0)if(typeof p=="function"){const C=p(e,a,i);s=Rr(C)?C:""}else if(i&&Object.prototype.hasOwnProperty.call(i,T))s="";else if(v){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${e}`),s="";else!Rr(s)&&!this.useRawValueToEscape&&(s=Mb(s));const S=_.safeValue(s);if(e=e.replace(a[0],S),v?(_.regex.lastIndex+=s.length,_.regex.lastIndex-=a[0].length):_.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r,n={}){let i,a,s;const l=(u,f)=>{const p=this.nestingOptionsSeparator;if(u.indexOf(p)<0)return u;const v=u.split(new RegExp(`${p}[ ]*{`));let y=`{${v[1]}`;u=v[0],y=this.interpolate(y,s);const _=y.match(/'/g),T=y.match(/"/g);((_?.length??0)%2===0&&!T||T.length%2!==0)&&(y=y.replace(/'/g,'"'));try{s=JSON.parse(y),f&&(s={...f,...s})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,S),`${u}${p}${y}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,u};for(;i=this.nestingRegexp.exec(e);){let u=[];s={...n},s=s.replace&&!Rr(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const f=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(f!==-1&&(u=i[1].slice(f).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),i[1]=i[1].slice(0,f)),a=r(l.call(this,i[1].trim(),s),s),a&&i[0]===e&&!Rr(a))return a;Rr(a)||(a=Mb(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),u.length&&(a=u.reduce((p,v)=>this.format(p,v,n.lng,{...n,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const _C=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(s=>{if(s){const[l,...u]=s.split(":"),f=u.join(":").trim().replace(/^'+|'+$/g,""),p=l.trim();r[p]||(r[p]=f),f==="false"&&(r[p]=!1),f==="true"&&(r[p]=!0),isNaN(f)||(r[p]=parseInt(f,10))}})}return{formatName:e,formatOptions:r}},zb=t=>{const e={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=n+JSON.stringify(a);let l=e[s];return l||(l=t(V0(n),i),e[s]=l),l(r)}},yC=t=>(e,r,n)=>t(V0(r),n)(e);class xC{constructor(e={}){this.logger=Mc.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?zb:yC;this.formats={number:n((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return l=>s.format(l)}),currency:n((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return l=>s.format(l)}),datetime:n((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return l=>s.format(l)}),relativetime:n((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return l=>s.format(l,a.range||"day")}),list:n((i,a)=>{const s=new Intl.ListFormat(i,{...a});return l=>s.format(l)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=zb(r)}format(e,r,n,i={}){const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(u=>u.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,u)=>{const{formatName:f,formatOptions:p}=_C(u);if(this.formats[f]){let v=l;try{const y=i?.formatParams?.[i.interpolationkey]||{},_=y.locale||y.lng||i.locale||i.lng||n;v=this.formats[f](l,_,{...p,...i,...y})}catch(y){this.logger.warn(y)}return v}else this.logger.warn(`there was no format function for ${f}`);return l},e)}}const wC=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class bC extends Q1{constructor(e,r,n,i={}){super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Mc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(e,r,n,i){const a={},s={},l={},u={};return e.forEach(f=>{let p=!0;r.forEach(v=>{const y=`${f}|${v}`;!n.reload&&this.store.hasResourceBundle(f,v)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?s[y]===void 0&&(s[y]=!0):(this.state[y]=1,p=!1,s[y]===void 0&&(s[y]=!0),a[y]===void 0&&(a[y]=!0),u[v]===void 0&&(u[v]=!0)))}),p||(l[f]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(u)}}loaded(e,r,n){const i=e.split("|"),a=i[0],s=i[1];r&&this.emit("failedLoading",a,s,r),!r&&n&&this.store.addResourceBundle(a,s,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const l={};this.queue.forEach(u=>{oC(u.loaded,[a],s),wC(u,e),r&&u.errors.push(r),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(f=>{l[f]||(l[f]={});const p=u.loaded[f];p.length&&p.forEach(v=>{l[f][v]===void 0&&(l[f][v]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(u=>!u.done)}read(e,r,n,i=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:a,callback:s});return}this.readingCalls++;const l=(f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(f&&p&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,a*2,s)},a);return}s(f,p)},u=this.backend[n].bind(this.backend);if(u.length===2){try{const f=u(e,r);f&&typeof f.then=="function"?f.then(p=>l(null,p)).catch(l):l(null,f)}catch(f){l(f)}return}return u(e,r,l)}prepareLoading(e,r,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Rr(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Rr(r)&&(r=[r]);const a=this.queueLoad(e,r,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(s,l)=>{s&&this.logger.warn(`${r}loading namespace ${a} for language ${i} failed`,s),!s&&l&&this.logger.log(`${r}loaded namespace ${a} for language ${i}`,l),this.loaded(e,s,l)})}saveMissing(e,r,n,i,a,s={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const u={...s,isUpdate:a},f=this.backend.create.bind(this.backend);if(f.length<6)try{let p;f.length===5?p=f(e,r,n,i,u):p=f(e,r,n,i),p&&typeof p.then=="function"?p.then(v=>l(null,v)).catch(l):l(null,p)}catch(p){l(p)}else f(e,r,n,i,l,u)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const Gv=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Rr(t[1])&&(e.defaultValue=t[1]),Rr(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Gb=t=>(Rr(t.ns)&&(t.ns=[t.ns]),Rr(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Rr(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),bm=()=>{},SC=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class E0 extends Q1{constructor(e={},r){if(super(),this.options=Gb(e),this.services={},this.logger=Mc,this.modules={external:[]},SC(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(Rr(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=Gv();this.options={...n,...this.options,...Gb(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler),this.options.debug===!0&&typeof console<"u"&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Mc.init(i(this.modules.logger),this.options):Mc.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=xC;const p=new jb(this.options);this.store=new Rb(this.options.resources,this.options);const v=this.services;v.logger=Mc,v.resourceStore=this.store,v.languageUtils=p,v.pluralResolver=new vC(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(v.formatter=i(f),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new Ub(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new bC(i(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...T)=>{this.emit(_,...T)}),this.modules.languageDetector&&(v.languageDetector=i(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=i(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new m1(this.services,this.options),this.translator.on("*",(_,...T)=>{this.emit(_,...T)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,r||(r=bm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...p)=>this.store[f](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...p)=>(this.store[f](...p),this)});const l=l0(),u=()=>{const f=(p,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(v),r(p,v)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(e,r=bm){let n=r;const i=Rr(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],s=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>s(u)),this.options.preload?.forEach?.(l=>s(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,r,n){const i=l0();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=bm),this.services.backendConnector.reload(e,r,a=>{i.resolve(),n(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&RS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=l0();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?this.isLanguageChangingTo===e&&(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,n.resolve((...f)=>this.t(...f)),r&&r(l,(...f)=>this.t(...f))},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=Rr(l)?l:l&&l[0],f=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(Rr(l)?[l]:l);f&&(this.language||i(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,p=>{a(p,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),n}getFixedT(e,r,n){const i=(a,s,...l)=>{let u;typeof s!="object"?u=this.options.overloadTranslationOptionHandler([a,s].concat(l)):u={...s},u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||n||i.keyPrefix);const f=this.options.keySeparator||".";let p;return u.keyPrefix&&Array.isArray(a)?p=a.map(v=>(typeof v=="function"&&(v=W2(v,{...this.options,...s})),`${u.keyPrefix}${f}${v}`)):(typeof a=="function"&&(a=W2(a,{...this.options,...s})),p=u.keyPrefix?`${u.keyPrefix}${f}${a}`:a),this.t(p,u)};return Rr(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const s=(l,u)=>{const f=this.services.backendConnector.state[`${l}|${u}`];return f===-1||f===0||f===2};if(r.precheck){const l=r.precheck(this,s);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(n,e)&&(!i||s(a,e)))}loadNamespaces(e,r){const n=l0();return this.options.ns?(Rr(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=l0();Rr(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const a=i.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new jb(Gv());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new E0(e,r);return n.createInstance=E0.createInstance,n}cloneInstance(e={},r=bm){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new E0(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n){const l=Object.keys(this.store.data).reduce((u,f)=>(u[f]={...this.store.data[f]},u[f]=Object.keys(u[f]).reduce((p,v)=>(p[v]={...u[f][v]},p),u[f]),u),{});a.store=new Rb(l,i),a.services.resourceStore=a.store}if(e.interpolation){const u={...Gv().interpolation,...this.options.interpolation,...e.interpolation},f={...i,interpolation:u};a.services.interpolator=new Ub(f)}return a.translator=new m1(a.services,i),a.translator.on("*",(l,...u)=>{a.emit(l,...u)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const to=E0.createInstance();to.createInstance;to.dir;to.init;to.loadResources;to.reloadResources;to.use;to.changeLanguage;to.getFixedT;to.t;to.exists;to.setDefaultNamespace;to.hasLoadedNamespace;to.loadNamespaces;to.loadLanguages;const EC=(t,e,r,n)=>{const i=[r,{code:e,...n||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Ih(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},Hb={},jS=(t,e,r,n)=>{Ih(r)&&Hb[r]||(Ih(r)&&(Hb[r]=new Date),EC(t,e,r,n))},IS=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},Z2=(t,e,r)=>{t.loadNamespaces(e,IS(t,r))},qb=(t,e,r,n)=>{if(Ih(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Z2(t,r,n);r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,IS(t,n))},TC=(t,e,r={})=>!e.languages||!e.languages.length?(jS(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}),Ih=t=>typeof t=="string",AC=t=>typeof t=="object"&&t!==null,LC=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,NC={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},CC=t=>NC[t],MC=t=>t.replace(LC,CC);let Y2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:MC,transDefaultProps:void 0};const kC=(t={})=>{Y2={...Y2,...t}},PC=()=>Y2;let FS;const OC=t=>{FS=t},RC=()=>FS,DC={type:"3rdParty",init(t){kC(t.options.react),OC(t)}},jC=ve.createContext();class IC{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Hv={exports:{}},qv={};var Vb;function FC(){if(Vb)return qv;Vb=1;var t=W1();function e(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(v,y){var _=y(),T=n({inst:{value:_,getSnapshot:y}}),S=T[0].inst,C=T[1];return a(function(){S.value=_,S.getSnapshot=y,u(S)&&C({inst:S})},[v,_,y]),i(function(){return u(S)&&C({inst:S}),v(function(){u(S)&&C({inst:S})})},[v]),s(_),_}function u(v){var y=v.getSnapshot;v=v.value;try{var _=y();return!r(v,_)}catch{return!0}}function f(v,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return qv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,qv}var $b;function BC(){return $b||($b=1,Hv.exports=FC()),Hv.exports}var UC=BC();const zC=(t,e)=>Ih(e)?e:AC(e)&&Ih(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,GC={t:zC,ready:!1},HC=()=>()=>{},gp=(t,e={})=>{const{i18n:r}=e,{i18n:n,defaultNS:i}=ve.useContext(jC)||{},a=r||n||RC();a&&!a.reportNamespaces&&(a.reportNamespaces=new IC),a||jS(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=ve.useMemo(()=>({...PC(),...a?.options?.react,...e}),[a,e]),{useSuspense:l,keyPrefix:u}=s,f=i||a?.options?.defaultNS,p=Ih(f)?[f]:f||["translation"],v=ve.useMemo(()=>p,p);a?.reportNamespaces?.addUsedNamespaces?.(v);const y=ve.useRef(0),_=ve.useCallback(F=>{if(!a)return HC;const{bindI18n:J,bindI18nStore:B}=s,Z=()=>{y.current+=1,F()};return J&&a.on(J,Z),B&&a.store.on(B,Z),()=>{J&&J.split(" ").forEach(ue=>a.off(ue,Z)),B&&B.split(" ").forEach(ue=>a.store.off(ue,Z))}},[a,s]),T=ve.useRef(),S=ve.useCallback(()=>{if(!a)return GC;const F=!!(a.isInitialized||a.initializedStoreOnce)&&v.every(xe=>TC(xe,a,s)),J=e.lng||a.language,B=y.current,Z=T.current;if(Z&&Z.ready===F&&Z.lng===J&&Z.keyPrefix===u&&Z.revision===B)return Z;const de={t:a.getFixedT(J,s.nsMode==="fallback"?v:v[0],u),ready:F,lng:J,keyPrefix:u,revision:B};return T.current=de,de},[a,v,u,s,e.lng]),[C,M]=ve.useState(0),{t:D,ready:j}=UC.useSyncExternalStore(_,S,S);ve.useEffect(()=>{if(a&&!j&&!l){const F=()=>M(J=>J+1);e.lng?qb(a,e.lng,v,F):Z2(a,v,F)}},[a,e.lng,v,j,l,C]);const V=a||{},X=ve.useRef(null),ce=ve.useRef(),I=F=>{const J=Object.getOwnPropertyDescriptors(F);J.__original&&delete J.__original;const B=Object.create(Object.getPrototypeOf(F),J);if(!Object.prototype.hasOwnProperty.call(B,"__original"))try{Object.defineProperty(B,"__original",{value:F,writable:!1,enumerable:!1,configurable:!1})}catch{}return B},q=ve.useMemo(()=>{const F=V,J=F?.language;let B=F;F&&(X.current&&X.current.__original===F?ce.current!==J?(B=I(F),X.current=B,ce.current=J):B=X.current:(B=I(F),X.current=B,ce.current=J));const Z=[D,B,j];return Z.t=D,Z.i18n=B,Z.ready=j,Z},[D,V,j,V.resolvedLanguage,V.language,V.languages]);if(a&&l&&!j)throw new Promise(F=>{const J=()=>F();e.lng?qb(a,e.lng,v,J):Z2(a,v,J)});return q},qC="modulepreload",VC=function(t){return"/new_with_database/"+t},Wb={},T0=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=u(r.map(f=>{if(f=VC(f),f in Wb)return;Wb[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":qC,p||(y.as="script"),y.crossOrigin="",y.href=f,l&&y.setAttribute("nonce",l),document.head.appendChild(y),p)return new Promise((_,T)=>{y.addEventListener("load",_),y.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function eg(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function $C(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(p){try{f(n.next(p))}catch(v){s(v)}}function u(p){try{f(n.throw(p))}catch(v){s(v)}}function f(p){p.done?a(p.value):i(p.value).then(l,u)}f((n=n.apply(t,e||[])).next())})}const WC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class B_ extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ZC extends B_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Zb extends B_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Yb extends B_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var K2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(K2||(K2={}));class YC{constructor(e,{headers:r={},customFetch:n,region:i=K2.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=WC(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return $C(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:l,method:u,body:f,signal:p,timeout:v}=n;let y={},{region:_}=n;_||(_=this.region);const T=new URL(`${this.url}/${r}`);_&&_!=="any"&&(y["x-region"]=_,T.searchParams.set("forceFunctionRegion",_));let S;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(y["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(y["Content-Type"]="application/json",S=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?S=JSON.stringify(f):S=f;let C=p;v&&(s=new AbortController,a=setTimeout(()=>s.abort(),v),p?(C=s.signal,p.addEventListener("abort",()=>s.abort())):C=s.signal);const M=yield this.fetch(T.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),l),body:S,signal:C}).catch(X=>{throw new ZC(X)}),D=M.headers.get("x-relay-error");if(D&&D==="true")throw new Zb(M);if(!M.ok)throw new Yb(M);let j=((i=M.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),V;return j==="application/json"?V=yield M.json():j==="application/octet-stream"||j==="application/pdf"?V=yield M.blob():j==="text/event-stream"?V=M:j==="multipart/form-data"?V=yield M.formData():V=yield M.text(),{data:V,error:null,response:M}}catch(l){return{data:null,error:l,response:l instanceof Yb||l instanceof Zb?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var KC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},XC=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,l=null,u=null,f=a.status,p=a.statusText;if(a.ok){var v,y;if(r.method!=="HEAD"){var _;const M=await a.text();M===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((_=r.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?l=M:l=JSON.parse(M))}const S=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),C=(y=a.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");S&&C&&C.length>1&&(u=parseInt(C[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,f=406,p="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var T;const S=await a.text();try{s=JSON.parse(S),Array.isArray(s)&&a.status===404&&(l=[],s=null,f=200,p="OK")}catch{a.status===404&&S===""?(f=204,p="No Content"):s={message:S}}if(s&&r.isMaybeSingle&&(!(s==null||(T=s.details)===null||T===void 0)&&T.includes("0 rows"))&&(s=null,f=200,p="OK"),s&&r.shouldThrowOnError)throw new KC(s)}return{error:s,data:l,count:u,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let l="";const u=a?.cause;if(u){var f,p,v,y;const T=(f=u?.message)!==null&&f!==void 0?f:"",S=(p=u?.code)!==null&&p!==void 0?p:"";l=`${(v=a?.name)!==null&&v!==void 0?v:"FetchError"}: ${a?.message}`,l+=`

Caused by: ${(y=u?.name)!==null&&y!==void 0?y:"Error"}: ${T}`,S&&(l+=` (${S})`),u?.stack&&(l+=`
${u.stack}`)}else{var _;l=(_=a?.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(s=a?.name)!==null&&s!==void 0?s:"FetchError"}: ${a?.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},JC=class extends XC{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var s;const l=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Kb=new RegExp("[,()]");var qf=class extends JC{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Kb.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Kb.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},QC=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join(""),{url:l,headers:u}=this.cloneRequestState();return l.searchParams.set("select",s),n&&u.append("Prefer",`count=${n}`),new qf({method:i,url:l,headers:u,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:s}=this.cloneRequestState();if(e&&s.append("Prefer",`count=${e}`),r||s.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(l.length>0){const u=[...new Set(l)].map(f=>`"${f}"`);a.searchParams.set("columns",u.join(","))}}return new qf({method:i,url:a,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const s="POST",{url:l,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&l.searchParams.set("on_conflict",e),n&&u.append("Prefer",`count=${n}`),i||u.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(f.length>0){const p=[...new Set(f)].map(v=>`"${v}"`);l.searchParams.set("columns",p.join(","))}}return new qf({method:s,url:l,headers:u,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new qf({method:n,url:i,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new qf({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},e7=class BS{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new QC(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new BS(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let l;const u=new URL(`${this.url}/rpc/${e}`);let f;const p=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(p)),v=n&&Object.values(r).some(p);v?(l="POST",f=r):n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([_,T])=>T!==void 0).map(([_,T])=>[_,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([_,T])=>{u.searchParams.append(_,T)})):(l="POST",f=r);const y=new Headers(this.headers);return v?y.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&y.set("Prefer",`count=${a}`),new qf({method:l,url:u,headers:y,schema:this.schemaName,body:f,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class t7{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const r7="2.93.1",n7=`realtime-js/${r7}`,i7="1.0.0",US="2.0.0",Xb=US,X2=1e4,a7=1e3,s7=100;var Vu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Vu||(Vu={}));var Fa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Fa||(Fa={}));var Wl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Wl||(Wl={}));var J2;(function(t){t.websocket="websocket"})(J2||(J2={}));var Nh;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Nh||(Nh={}));class o7{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,r,n){var i,a;const s=e.topic,l=(i=e.ref)!==null&&i!==void 0?i:"",u=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(p).length===0?"":JSON.stringify(p);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+s.length+f.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+y);let T=new DataView(_),S=0;T.setUint8(S++,this.KINDS.userBroadcastPush),T.setUint8(S++,u.length),T.setUint8(S++,l.length),T.setUint8(S++,s.length),T.setUint8(S++,f.length),T.setUint8(S++,v.length),T.setUint8(S++,r),Array.from(u,M=>T.setUint8(S++,M.charCodeAt(0))),Array.from(l,M=>T.setUint8(S++,M.charCodeAt(0))),Array.from(s,M=>T.setUint8(S++,M.charCodeAt(0))),Array.from(f,M=>T.setUint8(S++,M.charCodeAt(0))),Array.from(v,M=>T.setUint8(S++,M.charCodeAt(0)));var C=new Uint8Array(_.byteLength+n.byteLength);return C.set(new Uint8Array(_),0),C.set(new Uint8Array(n),_.byteLength),C.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,s,l,u]=n;return r({join_ref:i,ref:a,topic:s,event:l,payload:u})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,i)}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let u=this.HEADER_LENGTH+4;const f=n.decode(e.slice(u,u+i));u=u+i;const p=n.decode(e.slice(u,u+a));u=u+a;const v=n.decode(e.slice(u,u+s));u=u+s;const y=e.slice(u,e.byteLength),_=l===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,T={type:this.BROADCAST_EVENT,event:p,payload:_};return s>0&&(T.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class zS{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oi;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oi||(oi={}));const Jb=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=l7(s,t,e,i),a),{}):{}},l7=(t,e,r,n)=>{const i=e.find(l=>l.name===t),a=i?.type,s=r[t];return a&&!n.includes(a)?GS(a,s):Q2(s)},GS=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return f7(e,r)}switch(t){case oi.bool:return c7(e);case oi.float4:case oi.float8:case oi.int2:case oi.int4:case oi.int8:case oi.numeric:case oi.oid:return u7(e);case oi.json:case oi.jsonb:return h7(e);case oi.timestamp:return d7(e);case oi.abstime:case oi.date:case oi.daterange:case oi.int4range:case oi.int8range:case oi.money:case oi.reltime:case oi.text:case oi.time:case oi.timestamptz:case oi.timetz:case oi.tsrange:case oi.tstzrange:return Q2(e);default:return Q2(e)}},Q2=t=>t,c7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},u7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},h7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},f7=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>GS(e,l))}return t},d7=t=>typeof t=="string"?t.replace(" ","T"):t,HS=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Vv{constructor(e,r,n={},i=X2){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Qb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Qb||(Qb={}));class A0{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=A0.syncState(this.state,i,a,s),this.pendingDiffs.forEach(u=>{this.state=A0.syncDiff(this.state,u,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=A0.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),l={},u={};return this.map(a,(f,p)=>{s[f]||(u[f]=p)}),this.map(s,(f,p)=>{const v=a[f];if(v){const y=p.map(C=>C.presence_ref),_=v.map(C=>C.presence_ref),T=p.filter(C=>_.indexOf(C.presence_ref)<0),S=v.filter(C=>y.indexOf(C.presence_ref)<0);T.length>0&&(l[f]=T),S.length>0&&(u[f]=S)}else l[f]=p}),this.syncDiff(a,{joins:l,leaves:u},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,u)=>{var f;const p=(f=e[l])!==null&&f!==void 0?f:[];if(e[l]=this.cloneDeep(u),p.length>0){const v=e[l].map(_=>_.presence_ref),y=p.filter(_=>v.indexOf(_.presence_ref)<0);e[l].unshift(...y)}n(l,p,u)}),this.map(s,(l,u)=>{let f=e[l];if(!f)return;const p=u.map(v=>v.presence_ref);f=f.filter(v=>p.indexOf(v.presence_ref)<0),e[l]=f,i(l,f,u),f.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var e5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(e5||(e5={}));var L0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(L0||(L0={}));var ou;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ou||(ou={}));class Jf{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Fa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vv(this,Wl.join,this.params,this.timeout),this.rejoinTimer=new zS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fa.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Fa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Fa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wl.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new A0(this),this.broadcastEndpointURL=HS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Fa.closed){const{config:{broadcast:s,presence:l,private:u}}=this.params,f=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(_=>_.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[L0.PRESENCE]&&this.bindings[L0.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},y={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:p}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(ou.CHANNEL_ERROR,_)),this._onClose(()=>e?.(ou.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e?.(ou.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,C=(T=S?.length)!==null&&T!==void 0?T:0,M=[];for(let D=0;D<C;D++){const j=S[D],{filter:{event:V,schema:X,table:ce,filter:I}}=j,q=_&&_[D];if(q&&q.event===V&&Jf.isFilterValueEqual(q.schema,X)&&Jf.isFilterValueEqual(q.table,ce)&&Jf.isFilterValueEqual(q.filter,I))M.push(Object.assign(Object.assign({},j),{id:q.id}));else{this.unsubscribe(),this.state=Fa.errored,e?.(ou.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(ou.SUBSCRIBED);return}}).receive("error",_=>{this.state=Fa.errored,e?.(ou.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(ou.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Fa.joined&&e===L0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const f=await l.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,u;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fa.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Vv(this,Wl.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fa.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Vv(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>s7){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:l,error:u,leave:f,join:p}=Wl;if(n&&[l,u,f,p].indexOf(s)>=0&&n!==this._joinRef())return;let y=this._onMessage(s,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var T,S,C;return((T=_.filter)===null||T===void 0?void 0:T.event)==="*"||((C=(S=_.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(_=>_.callback(y,n)):(a=this.bindings[s])===null||a===void 0||a.filter(_=>{var T,S,C,M,D,j;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in _){const V=_.id,X=(T=_.filter)===null||T===void 0?void 0:T.event;return V&&((S=r.ids)===null||S===void 0?void 0:S.includes(V))&&(X==="*"||X?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const V=(D=(M=_?.filter)===null||M===void 0?void 0:M.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return V==="*"||V===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===s}).map(_=>{if(typeof y=="object"&&"ids"in y){const T=y.data,{schema:S,table:C,commit_timestamp:M,type:D,errors:j}=T;y=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:M,eventType:D,new:{},old:{},errors:j}),this._getPayloadRecords(T))}_.callback(y,n)})}_isClosed(){return this.state===Fa.closed}_isJoined(){return this.state===Fa.joined}_isJoining(){return this.state===Fa.joining}_isLeaving(){return this.state===Fa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Jf.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Wl.close,{},e)}_onError(e){this._on(Wl.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Jb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Jb(e.columns,e.old_record)),r}}const $v=()=>{},Sm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},p7=[1e3,2e3,5e3,1e4],m7=1e4,g7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v7{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=X2,this.transport=null,this.heartbeatIntervalMs=Sm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$v,this.ref=0,this.reconnectTimer=null,this.vsn=Xb,this.logger=$v,this.conn=null,this.sendBuffer=[],this.serializer=new o7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${J2.websocket}`,this.httpEndpoint=HS(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=t7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vu.connecting:return Nh.Connecting;case Vu.open:return Nh.Open;case Vu.closing:return Nh.Closing;default:return Nh.Closed}}isConnected(){return this.connectionState()===Nh.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Jf(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(a7,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Sm.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",f)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:s}=r,l=s?`(${s})`:"",u=a.status||"";this.log("receive",`${u} ${n} ${i} ${l}`.trim(),a),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Vu.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Vu.open||this.conn.readyState===Vu.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Wl.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([g7],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:n7};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Wl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new zS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,s,l,u,f,p,v,y,_;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:X2,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Sm.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:$v,this.vsn=(u=e?.vsn)!==null&&u!==void 0?u:Xb,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(T=>p7[T-1]||m7),this.vsn){case i7:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((T,S)=>S(JSON.stringify(T))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((T,S)=>S(JSON.parse(T)));break;case US:this.encode=(y=e?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(_=e?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var $0=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _7(t,e,r){const n=new URL(e,t);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function y7(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function x7(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:s}){const l=_7(t.baseUrl,n,i),u=await y7(t.auth),f=await e(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...u,...s},body:a?JSON.stringify(a):void 0}),p=await f.text(),v=(f.headers.get("content-type")||"").includes("application/json"),y=v&&p?JSON.parse(p):p;if(!f.ok){const _=v?y:void 0,T=_?.error;throw new $0(T?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:T?.type,icebergCode:T?.code,details:_})}return{status:f.status,headers:f.headers,data:y}}}}function Em(t){return t.join("")}var w7=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Em(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Em(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Em(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Em(t.namespace)}`}),!0}catch(e){if(e instanceof $0&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof $0&&r.status===409)return;throw r}}};function Cf(t){return t.join("")}var b7=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cf(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cf(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cf(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cf(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cf(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cf(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof $0&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof $0&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},S7=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=x7({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new w7(this.client,e),this.tableOps=new b7(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},tg=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function rg(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Tm=class extends tg{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qS=class extends tg{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const E7=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),T7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},e_=t=>{if(Array.isArray(t))return t.map(r=>e_(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=e_(n)}),e},A7=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}function L7(t,e){if(W0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(W0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N7(t){var e=L7(t,"string");return W0(e)=="symbol"?e:e+""}function C7(t,e,r){return(e=N7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(r),!0).forEach(function(n){C7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const r5=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},M7=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t,a=i.status||500;if(typeof i.json=="function")i.json().then(s=>{const l=s?.statusCode||s?.code||a+"";e(new Tm(r5(s),a,l,n))}).catch(()=>{if(n==="vectors"){const s=a+"";e(new Tm(i.statusText||`HTTP ${a} error`,a,s,n))}else{const s=a+"";e(new Tm(i.statusText||`HTTP ${a} error`,a,s,n))}});else{const s=a+"";e(new Tm(i.statusText||`HTTP ${a} error`,a,s,n))}}else e(new qS(r5(t),t,n))},k7=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!n?Cr(Cr({},i),r):(T7(n)?(i.headers=Cr({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Cr(Cr({},i),r))};async function c0(t,e,r,n,i,a,s){return new Promise((l,u)=>{t(r,k7(e,n,i,a)).then(f=>{if(!f.ok)throw f;if(n?.noResolveJson)return f;if(s==="vectors"){const p=f.headers.get("content-type");if(!p||!p.includes("application/json"))return{}}return f.json()}).then(f=>l(f)).catch(f=>M7(f,u,n,s))})}function P7(t="storage"){return{get:async(e,r,n,i)=>c0(e,"GET",r,n,i,void 0,t),post:async(e,r,n,i,a)=>c0(e,"POST",r,i,a,n,t),put:async(e,r,n,i,a)=>c0(e,"PUT",r,i,a,n,t),head:async(e,r,n,i)=>c0(e,"HEAD",r,Cr(Cr({},n),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,n,i,a)=>c0(e,"DELETE",r,i,a,n,t)}}const O7=P7("storage"),{get:Z0,post:Ni,put:t_,head:R7,remove:U_}=O7;var wd=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=E7(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(rg(r))return{data:null,error:r};throw r}}},D7=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(rg(e))return{data:null,error:e};throw e}}};let VS;VS=Symbol.toStringTag;var j7=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[VS]="BlobDownloadBuilder",this.promise=null}asStream(){return new D7(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(rg(e))return{data:null,error:e};throw e}}};const I7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},n5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var F7=class extends wd{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var i=this;return i.handleOperation(async()=>{let a;const s=Cr(Cr({},n5),n);let l=Cr(Cr({},i.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const u=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),u&&a.append("metadata",i.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),u&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(u))):(a=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,u&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),n?.headers&&(l=Cr(Cr({},l),n.headers));const f=i._removeEmptyFolders(e),p=i._getFinalPath(f),v=await(t=="PUT"?t_:Ni)(i.fetch,`${i.url}/object/${p}`,a,Cr({headers:l},s?.duplex?{duplex:s.duplex}:{}));return{path:f,id:v.Id,fullPath:v.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const a=i._removeEmptyFolders(t),s=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${s}`);return l.searchParams.set("token",e),i.handleOperation(async()=>{let u;const f=Cr({upsert:n5.upsert},n),p=Cr(Cr({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{path:a,fullPath:(await t_(i.fetch,l.toString(),u,{headers:p})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const i=Cr({},r.headers);e?.upsert&&(i["x-upsert"]="true");const a=await Ni(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(r.url+a.url),l=s.searchParams.get("token");if(!l)throw new tg("No token returned by API");return{signedUrl:s.toString(),path:t,token:l}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await Ni(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await Ni(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t),a=await Ni(n.fetch,`${n.url}/object/sign/${i}`,Cr({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${s}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const i=await Ni(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(s=>Cr(Cr({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${a}`):null}))})}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",a=this._getFinalPath(t),s=()=>Z0(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new j7(s,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>e_(await Z0(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await R7(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rg(n)&&n instanceof qS){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const a=typeof e?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(e?.transform||{});s!==""&&n.push(s);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await U_(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const i=Cr(Cr(Cr({},I7),e),{},{prefix:t||""});return await Ni(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=Cr({},t);return await Ni(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const B7="2.93.1",vp={"X-Client-Info":`storage-js/${B7}`};var U7=class extends wd{constructor(t,e={},r,n){const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),s=Cr(Cr({},vp),e);super(a,s,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Z0(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Z0(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Ni(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await t_(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await U_(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},z7=class extends wd{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Cr(Cr({},vp),e);super(n,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await Z0(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await U_(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!A7(t))throw new tg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new S7({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(i,l),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}}}})}},G7=class extends wd{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Cr(Cr({},vp),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Ni(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Ni(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},H7=class extends wd{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Cr(Cr({},vp),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},q7=class extends wd{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Cr(Cr({},vp),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},V7=class extends q7{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new $7(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},$7=class extends G7{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new W7(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},W7=class extends H7{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Z7=class extends U7{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new F7(this.url,this.headers,t,this.fetch)}get vectors(){return new V7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new z7(this.url+"/iceberg",this.headers,this.fetch)}};const $S="2.93.1",Vf=30*1e3,r_=3,Wv=r_*Vf,Y7="http://localhost:9999",K7="supabase.auth.token",X7={"X-Client-Info":`gotrue-js/${$S}`},n_="X-Supabase-Api-Version",WS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},J7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Q7=600*1e3;class Y0 extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function hr(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class eM extends Y0{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function tM(t){return hr(t)&&t.name==="AuthApiError"}class Ch extends Y0{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class gu extends Y0{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Zo extends gu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zv(t){return hr(t)&&t.name==="AuthSessionMissingError"}class Mf extends gu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Am extends gu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Lm extends gu{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rM(t){return hr(t)&&t.name==="AuthImplicitGrantRedirectError"}class i5 extends gu{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nM extends gu{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class i_ extends gu{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Yv(t){return hr(t)&&t.name==="AuthRetryableFetchError"}class a5 extends gu{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class a_ extends gu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const g1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),s5=` 	
\r=`.split(""),iM=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<s5.length;e+=1)t[s5[e].charCodeAt(0)]=-2;for(let e=0;e<g1.length;e+=1)t[g1[e].charCodeAt(0)]=e;return t})();function o5(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(g1[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(g1[n]),e.queuedBits-=6}}function ZS(t,e,r){const n=iM[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function l5(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{oM(s,n,r)};for(let s=0;s<t.length;s+=1)ZS(t.charCodeAt(s),i,a);return e.join("")}function aM(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function sM(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}aM(n,e)}}function oM(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function od(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)ZS(t.charCodeAt(i),r,n);return new Uint8Array(e)}function lM(t){const e=[];return sM(t,r=>e.push(r)),new Uint8Array(e)}function Rh(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>o5(i,r,n)),o5(null,r,n),e.join("")}function cM(t){return Math.round(Date.now()/1e3)+t}function uM(){return Symbol("auth-callback")}const ps=()=>typeof window<"u"&&typeof document<"u",wh={tested:!1,writable:!1},YS=()=>{if(!ps())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wh.tested)return wh.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),wh.tested=!0,wh.writable=!0}catch{wh.tested=!0,wh.writable=!1}return wh.writable};function hM(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const KS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fM=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$f=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},bh=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ds=async(t,e)=>{await t.removeItem(e)};class ng{constructor(){this.promise=new ng.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ng.promiseConstructor=Promise;function Nm(t){const e=t.split(".");if(e.length!==3)throw new a_("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!J7.test(e[n]))throw new a_("JWT not in base64url format");return{header:JSON.parse(l5(e[0])),payload:JSON.parse(l5(e[1])),signature:od(e[2]),raw:{header:e[0],payload:e[1]}}}async function dM(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function pM(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function mM(t){return("0"+t.toString(16)).substr(-2)}function gM(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,mM).join("")}async function vM(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function _M(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await vM(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kf(t,e,r=!1){const n=gM();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await $f(t,`${e}-code-verifier`,i);const a=await _M(n);return[a,n===a?"plain":"s256"]}const yM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xM(t){const e=t.headers.get(n_);if(!e||!e.match(yM))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function wM(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function bM(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pf(t){if(!SM.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kv(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function EM(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function c5(t){return JSON.parse(JSON.stringify(t))}const Eh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TM=[502,503,504];async function u5(t){var e;if(!fM(t))throw new i_(Eh(t),0);if(TM.includes(t.status))throw new i_(Eh(t),t.status);let r;try{r=await t.json()}catch(a){throw new Ch(Eh(a),a)}let n;const i=xM(t);if(i&&i.getTime()>=WS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new a5(Eh(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Zo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new a5(Eh(r),t.status,r.weak_password.reasons);throw new eM(Eh(r),t.status||500,n)}const AM=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Lr(t,e,r,n){var i;const a=Object.assign({},n?.headers);a[n_]||(a[n_]=WS["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=await LM(t,e,r+l,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(u):{data:Object.assign({},u),error:null}}async function LM(t,e,r,n,i,a){const s=AM(e,n,i,a);let l;try{l=await t(r,Object.assign({},s))}catch(u){throw console.error(u),new i_(Eh(u),0)}if(l.ok||await u5(l),n?.noResolveJson)return l;try{return await l.json()}catch(u){await u5(u)}}function Vl(t){var e;let r=null;MM(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=cM(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function h5(t){const e=Vl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function NM(t){return{data:t,error:null}}function CM(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=eg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},u=Object.assign({},s);return{data:{properties:l,user:u},error:null}}function f5(t){return t}function MM(t){return t.access_token&&t.refresh_token&&t.expires_in}const Xv=["global","local","others"];class kM{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=KS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Xv[0]){if(Xv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xv.join(", ")}`);try{return await Lr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Lr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zu})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=eg(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Lr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:CM,redirectTo:r?.redirectTo})}catch(r){if(hr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Lr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zu})}catch(r){if(hr(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,l,u;try{const f={nextPage:null,lastPage:0,total:0},p=await Lr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:f5});if(p.error)throw p.error;const v=await p.json(),y=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(u=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return _.length>0&&(_.forEach(T=>{const S=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(T.split(";")[1].split("=")[1]);f[`${C}Page`]=S}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(hr(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Pf(e);try{return await Lr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zu})}catch(r){if(hr(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Pf(e);try{return await Lr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Zu})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Pf(e);try{return await Lr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zu})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Pf(e.userId);try{const{data:r,error:n}=await Lr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Pf(e.userId),Pf(e.id);try{return{data:await Lr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,s,l,u;try{const f={nextPage:null,lastPage:0,total:0},p=await Lr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:f5});if(p.error)throw p.error;const v=await p.json(),y=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(u=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return _.length>0&&(_.forEach(T=>{const S=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(T.split(";")[1].split("=")[1]);f[`${C}Page`]=S}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(hr(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Lr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Lr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Lr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(hr(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Lr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Lr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}}function d5(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Of={debug:!!(globalThis&&YS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class XS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class PM extends XS{}async function OM(t,e,r){Of.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Of.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Of.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Of.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Of.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new PM(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Of.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function RM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function JS(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function DM(t){return parseInt(t,16)}function jM(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function IM(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:l,requestId:u,resources:f,scheme:p,uri:v,version:y}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=JS(t.address),T=p?`${p}://${n}`:n,S=t.statement?`${t.statement}
`:"",C=`${T} wants you to sign in with your Ethereum account:
${_}

${S}`;let M=`URI: ${v}
Version: ${y}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(M+=`
Expiration Time: ${i.toISOString()}`),l&&(M+=`
Not Before: ${l.toISOString()}`),u&&(M+=`
Request ID: ${u}`),f){let D=`
Resources:`;for(const j of f){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);D+=`
- ${j}`}M+=D}return`${C}
${M}`}class xa extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class v1 extends xa{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function FM({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xa({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new xa({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new xa({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new xa({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new xa({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new xa({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new xa({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new xa({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(QS(s)){if(a.rp.id!==s)return new xa({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new xa({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new xa({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function BM({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xa({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new xa({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(QS(n)){if(r.rpId!==n)return new xa({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new xa({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class UM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zM=new UM;function GM(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=eg(t,["challenge","user","excludeCredentials"]),a=od(e).buffer,s=Object.assign(Object.assign({},r),{id:od(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:od(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function HM(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=eg(t,["challenge","allowCredentials"]),i=od(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},l),{id:od(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function qM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Rh(new Uint8Array(t.response.attestationObject)),clientDataJSON:Rh(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function VM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Rh(new Uint8Array(i.authenticatorData)),clientDataJSON:Rh(new Uint8Array(i.clientDataJSON)),signature:Rh(new Uint8Array(i.signature)),userHandle:i.userHandle?Rh(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function QS(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function p5(){var t,e;return!!(ps()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function $M(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new v1("Browser returned unexpected credential type",e)}:{data:null,error:new v1("Empty credential response",e)}}catch(e){return{data:null,error:FM({error:e,options:t})}}}async function WM(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new v1("Browser returned unexpected credential type",e)}:{data:null,error:new v1("Empty credential response",e)}}catch(e){return{data:null,error:BM({error:e,options:t})}}}const ZM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},YM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _1(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(e(s)){const l=n[a];e(l)?n[a]=_1(l,s):n[a]=_1(s)}else n[a]=s}return n}function KM(t,e){return _1(ZM,t,e||{})}function XM(t,e){return _1(YM,t,e||{})}class JM{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:l};const u=i??zM.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=KM(s.webauthn.credential_options.publicKey,a?.create),{data:p,error:v}=await $M({publicKey:f,signal:u});return p?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}case"request":{const f=XM(s.webauthn.credential_options.publicKey,a?.request),{data:p,error:v}=await WM(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:u}));return p?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}}}catch(s){return hr(s)?{data:null,error:s}:{data:null,error:new Ch("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Y0("rpId is required for WebAuthn authentication")};try{if(!p5())return{data:null,error:new Ch("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:l};const{webauthn:u}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(s){return hr(s)?{data:null,error:s}:{data:null,error:new Ch("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Y0("rpId is required for WebAuthn registration")};try{if(!p5())return{data:null,error:new Ch("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(p=>{var v;return(v=p.data)===null||v===void 0?void 0:v.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};const{data:u,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return u?this._verify({factorId:s.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(s){return hr(s)?{data:null,error:s}:{data:null,error:new Ch("Unexpected error in register",s)}}}}RM();const QM={url:Y7,storageKey:K7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:X7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function m5(t,e,r){return await r()}const Rf={};class K0{get jwks(){var e,r;return(r=(e=Rf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Rf[this.storageKey]=Object.assign(Object.assign({},Rf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Rf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Rf[this.storageKey]=Object.assign(Object.assign({},Rf[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},QM),e);if(this.storageKey=a.storageKey,this.instanceID=(r=K0.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,K0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&ps()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new kM({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=KS(a.fetch),this.lock=a.lock||m5,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&ps()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=OM:this.lock=m5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new JM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:YS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=d5(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=d5(this.memoryStorage)),ps()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$S}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ps()&&(r=hM(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ps()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),rM(a)){const u=(e=a.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return hr(r)?this._returnResult({error:r}):this._returnResult({error:new Ch("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Vl}),{data:s,error:l}=a;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const u=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(hr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:p,password:v,options:y}=e;let _=null,T=null;this.flowType==="pkce"&&([_,T]=await kf(this.storage,this.storageKey)),a=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:v,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:_,code_challenge_method:T},xform:Vl})}else if("phone"in e){const{phone:p,password:v,options:y}=e;a=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Vl})}else throw new Am("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return await ds(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(await ds(this.storage,`${this.storageKey}-code-verifier`),hr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:l}=e;r=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:h5})}else if("phone"in e){const{phone:a,password:s,options:l}=e;r=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:h5})}else throw new Am("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Mf;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,s,l,u,f,p,v,y;let _,T;if("message"in e)_=e.message,T=e.signature;else{const{chain:S,wallet:C,statement:M,options:D}=e;let j;if(ps())if(typeof C=="object")j=C;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")j=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=C}const V=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href),X=await j.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ce=JS(X[0]);let I=(n=D?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!I){const F=await j.request({method:"eth_chainId"});I=DM(F)}const q={domain:V.host,address:ce,statement:M,uri:V.href,version:"1",chainId:I,nonce:(i=D?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=D?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=D?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=IM(q),T=await j.request({method:"personal_sign",params:[jM(_),ce]})}try{const{data:S,error:C}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:T},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Vl});if(C)throw C;if(!S||!S.session||!S.user){const M=new Mf;return this._returnResult({data:{user:null,session:null},error:M})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:C})}catch(S){if(hr(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var r,n,i,a,s,l,u,f,p,v,y,_;let T,S;if("message"in e)T=e.message,S=e.signature;else{const{chain:C,wallet:M,statement:D,options:j}=e;let V;if(ps())if(typeof M=="object")V=M;else{const ce=window;if("solana"in ce&&typeof ce.solana=="object"&&("signIn"in ce.solana&&typeof ce.solana.signIn=="function"||"signMessage"in ce.solana&&typeof ce.solana.signMessage=="function"))V=ce.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=M}const X=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in V&&V.signIn){const ce=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),D?{statement:D}:null));let I;if(Array.isArray(ce)&&ce[0]&&typeof ce[0]=="object")I=ce[0];else if(ce&&typeof ce=="object"&&"signedMessage"in ce&&"signature"in ce)I=ce;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)T=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),S=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${X.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(i=(n=j?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((s=j?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((u=j?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((f=j?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((v=(p=j?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||v===void 0)&&v.length?["Resources",...j.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const ce=await V.signMessage(new TextEncoder().encode(T),"utf8");if(!ce||!(ce instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=ce}}try{const{data:C,error:M}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Rh(S)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Vl});if(M)throw M;if(!C||!C.session||!C.user){const D=new Mf;return this._returnResult({data:{user:null,session:null},error:D})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:M})}catch(C){if(hr(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await bh(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new nM;const{data:a,error:s}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Vl});if(await ds(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const l=new Mf;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await ds(this.storage,`${this.storageKey}-code-verifier`),hr(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,l=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Vl}),{data:u,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const p=new Mf;return this._returnResult({data:{user:null,session:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:l,options:u}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await kf(this.storage,this.storageKey));const{error:v}=await Lr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(n=u?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:l,options:u}=e,{data:f,error:p}=await Lr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(s=u?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Am("You must provide either an email or phone number.")}catch(l){if(await ds(this.storage,`${this.storageKey}-code-verifier`),hr(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await Lr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Vl});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const u=s.session,f=s.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(hr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,s;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await kf(this.storage,this.storageKey));const f=await Lr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:NM});return!((a=f.data)===null||a===void 0)&&a.url&&ps()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(l){if(await ds(this.storage,`${this.storageKey}-code-verifier`),hr(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Zo;const{error:i}=await Lr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(hr(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await Lr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:l}=await Lr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:l})}throw new Am("You must provide either an email or phone number and a type")}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await bh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Wv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await bh(this.userStorage,this.storageKey+"-user");s?.user?e.user=s.user:e.user=Kv()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=EM(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Lr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zu}):await this._useSession(async r=>{var n,i,a;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zo}:await Lr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Zu})})}catch(r){if(hr(r))return Zv(r)&&(await this._removeSession(),await ds(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Zo;const s=i.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await kf(this.storage,this.storageKey));const{data:f,error:p}=await Lr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:s.access_token,xform:Zu});if(p)throw p;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await ds(this.storage,`${this.storageKey}-code-verifier`),hr(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zo;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Nm(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(hr(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:l}=r;if(l)throw l;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Zo;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ps())throw new Lm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Lm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new i5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new i5("No code detected.");const{data:D,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:u,token_type:f}=e;if(!a||!l||!s||!f)throw new Lm("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(l);let y=p+v;u&&(y=parseInt(u));const _=y-p;_*1e3<=Vf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const T=y-v;p-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,y,p):p-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,y,p);const{data:S,error:C}=await this._getUser(a);if(C)throw C;const M={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:v,expires_at:y,refresh_token:s,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:e.type},error:null})}catch(n){if(hr(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await bh(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a&&!Zv(a))return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,e);if(l&&!(tM(l)&&(l.status===404||l.status===401||l.status===403)||Zv(l)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await ds(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=uM(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await kf(this.storage,this.storageKey,!0));try{return await Lr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await ds(this.storage,`${this.storageKey}-code-verifier`),hr(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,l,u,f,p;const{data:v,error:y}=a;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Lr(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return ps()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(hr(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:l,token:u,access_token:f,nonce:p}=e,v=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:u,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Vl}),{data:y,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Mf}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:_}))}catch(i){if(await ds(this.storage,`${this.storageKey}-code-verifier`),hr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Lr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await pM(async i=>(i>0&&await dM(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Lr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vl})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Yv(a)&&Date.now()+s-n<Vf})}catch(n){if(this._debug(r,"error",n),hr(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ps()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await bh(this.storage,this.storageKey);if(i&&this.userStorage){let s=await bh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await $f(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s?.user)!==null&&e!==void 0?e:Kv()}else if(i&&!i.user&&!i.user){const s=await bh(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await ds(this.storage,this.storageKey+"-user"),await $f(this.storage,this.storageKey,i)):i.user=Kv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wv;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Wv}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Yv(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Zo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ng;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Zo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),hr(a)){const s={data:null,error:a};return Yv(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(u){a.push(u)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ds(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await $f(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=c5(i);await $f(this.storage,this.storageKey,a)}else{const i=c5(r);await $f(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ds(this.storage,this.storageKey),await ds(this.storage,this.storageKey+"-code-verifier"),await ds(this.storage,this.storageKey+"-user"),this.userStorage&&await ds(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ps()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Vf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Vf}ms, refresh threshold is ${r_} ticks`),i<=r_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof XS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ps()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await kf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Lr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:f}=await Lr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?qM(e.webauthn.credential_response):VM(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await Lr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await Lr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:GM(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:HM(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,i,a;if(e)try{const{payload:_}=Nm(e);let T=null;_.aal&&(T=_.aal);let S=T;const{data:{user:C},error:M}=await this.getUser(e);if(M)return this._returnResult({data:null,error:M});((n=(r=C?.factors)===null||r===void 0?void 0:r.filter(V=>V.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(S="aal2");const j=_.amr||[];return{data:{currentLevel:T,nextLevel:S,currentAuthenticationMethods:j},error:null}}catch(_){if(hr(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Nm(s.access_token);let f=null;u.aal&&(f=u.aal);let p=f;((a=(i=s.user.factors)===null||i===void 0?void 0:i.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(p="aal2");const y=u.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Lr(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Zo})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Zo});const s=await Lr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&ps()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(hr(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Zo});const s=await Lr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&ps()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(hr(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Lr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Zo})})}catch(e){if(hr(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Lr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zo})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Q7>i)return n;const{data:a,error:s}=await Lr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:_,error:T}=await this.getSession();if(T||!_.session)return this._returnResult({data:null,error:T});n=_.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:u}}=Nm(n);r?.allowExpired||wM(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:_}=await this.getUser(n);if(_)throw _;return{data:{claims:a,header:i,signature:s},error:null}}const p=bM(i.alg),v=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,s,lM(`${l}.${u}`)))throw new a_("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(hr(n))return this._returnResult({data:null,error:n});throw n}}}K0.nextInstanceID={};const ek=K0,tk="2.93.1";let g0="";typeof Deno<"u"?g0="deno":typeof document<"u"?g0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?g0="react-native":g0="node";function rk(){const t=globalThis.process;if(t&&t.platform){const e=t.platform;if(e==="darwin")return"macOS";if(e==="win32")return"Windows";if(e==="linux")return"Linux";if(e==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const e=navigator.userAgentData.platform;if(e==="macOS")return"macOS";if(e==="Windows")return"Windows";if(e==="Linux")return"Linux";if(e==="Android")return"Android";if(e==="iOS")return"iOS"}return null}function nk(){const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node&&typeof window>"u")try{const r=globalThis.require;if(r)return r("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function ik(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return"node"}return null}function ak(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return e.node}return null}function sk(){const t={"X-Client-Info":`supabase-js-${g0}/${tk}`},e=rk();e&&(t["X-Supabase-Client-Platform"]=e);const r=nk();r&&(t["X-Supabase-Client-Platform-Version"]=r);const n=ik();n&&(t["X-Supabase-Client-Runtime"]=n);const i=ak();return i&&(t["X-Supabase-Client-Runtime-Version"]=i),t}const ok=sk(),lk={headers:ok},ck={schema:"public"},uk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hk={};function X0(t){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(t)}function fk(t,e){if(X0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(X0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dk(t){var e=fk(t,"string");return X0(e)=="symbol"?e:e+""}function pk(t,e,r){return(e=dk(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(r),!0).forEach(function(n){pk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const mk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gk=()=>Headers,vk=(t,e,r)=>{const n=mk(r),i=gk();return async(a,s)=>{var l;const u=(l=await e())!==null&&l!==void 0?l:t;let f=new i(s?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),n(a,Yi(Yi({},s),{},{headers:f}))}};function _k(t){return t.endsWith("/")?t:t+"/"}function yk(t,e){var r,n;const{db:i,auth:a,realtime:s,global:l}=t,{db:u,auth:f,realtime:p,global:v}=e,y={db:Yi(Yi({},u),i),auth:Yi(Yi({},f),a),realtime:Yi(Yi({},p),s),storage:{},global:Yi(Yi(Yi({},v),l),{},{headers:Yi(Yi({},(r=v?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function xk(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_k(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var wk=class extends ek{constructor(t){super(t)}},bk=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const a=xk(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:ck,realtime:hk,auth:Yi(Yi({},uk),{},{storageKey:s}),global:lk},u=yk(r??{},l);if(this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=u.auth)!==null&&f!==void 0?f:{},this.headers,u.global.fetch)}this.fetch=vk(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Yi({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new e7(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Z7(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new YC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:s,lock:l,debug:u,throwOnError:f},p,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wk({url:this.authUrl.href,headers:Yi(Yi({},y),p),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:s,lock:l,debug:u,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new v7(this.realtimeUrl.href,Yi(Yi({},t),{},{params:Yi(Yi({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Sk=(t,e,r)=>new bk(t,e,r);function Ek(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Ek()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Tk="https://iycvkknpgrpkmutuyigt.supabase.co",Ak="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml5Y3Zra25wZ3Jwa211dHV5aWd0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0NDE3NDMsImV4cCI6MjA4NTAxNzc0M30.6dCWuR_4j0QSUh7kJdF4_2aMlzgsIaMluyJt52EIHX8",li=Sk(Tk,Ak,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"supabase-auth-token"},global:{headers:{"x-client-info":"property-tax-survey-app"}}});class Lk{constructor(){this.data={surveys:[],stats:{total:0,today:0,thisWeek:0,thisMonth:0},assignments:[],buildings:[],zones:[],users:[],loading:!1,lastUpdate:null},this.listeners=[]}get(e){return this.data[e]}set(e,r){this.data[e]=r,this.data.lastUpdate=new Date,this.notify()}setMultiple(e){Object.assign(this.data,e),this.data.lastUpdate=new Date,this.notify()}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(r=>r!==e)}}notify(){this.listeners.forEach(e=>e(this.data))}clear(){this.data={surveys:[],stats:{total:0,today:0,thisWeek:0,thisMonth:0},assignments:[],buildings:[],zones:[],users:[],loading:!1,lastUpdate:null},this.notify()}}const Zn=new Lk,eE=ve.createContext(null),lh=()=>{const t=ve.useContext(eE);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Nk=({children:t})=>{const[e,r]=ve.useState(null),[n,i]=ve.useState(null),[a,s]=ve.useState(!0),l=ve.useCallback(async X=>{try{const{data:ce,error:I}=await li.from("user_profiles").select("*").eq("id",X).single();if(I){if(console.log("Profile fetch error:",I.code),I.code==="PGRST116"){const q=(await li.auth.getUser()).data.user,{data:F,error:J}=await li.from("user_profiles").insert({id:X,email:q?.email,role:"surveyor"}).select().single();i(!J&&F?F:{id:X,role:"surveyor",email:q?.email});return}i({id:X,role:"surveyor"});return}i(ce)}catch(ce){console.error("Error in fetchProfile:",ce),i({id:X,role:"surveyor"})}},[]);ve.useEffect(()=>{let X=!0;const ce=setTimeout(()=>{X&&a&&(console.warn("Auth check timed out  showing login"),s(!1))},3e3);li.auth.getSession().then(({data:{session:q}})=>{X&&(q?.user&&(r(q.user),l(q.user.id),T0(async()=>{const{dataService:F}=await Promise.resolve().then(()=>v5);return{dataService:F}},[]).then(({dataService:F})=>{F.fetchAll(q.user.id)})),s(!1))}).catch(q=>{console.error("getSession failed:",q),X&&s(!1)});const{data:{subscription:I}}=li.auth.onAuthStateChange(async(q,F)=>{X&&(console.log("Auth event:",q),q==="INITIAL_SESSION"?F||(r(null),s(!1)):q==="SIGNED_IN"&&F?.user?(r(F.user),await l(F.user.id),T0(async()=>{const{dataService:J}=await Promise.resolve().then(()=>v5);return{dataService:J}},void 0).then(({dataService:J})=>{J.fetchAll(F.user.id)}),s(!1)):q==="SIGNED_OUT"?(r(null),i(null),Zn.clear(),s(!1)):q==="TOKEN_REFRESHED"&&F?.user&&r(F.user))});return()=>{X=!1,clearTimeout(ce),I.unsubscribe()}},[l]);const u=ve.useCallback(()=>n?.role==="admin",[n]),f=ve.useCallback(()=>n?.role==="supervisor",[n]),p=ve.useCallback(()=>n?.role==="surveyor",[n]),v=ve.useCallback(X=>n?.role===X,[n]),y=ve.useCallback(X=>X.includes(n?.role),[n]),_=ve.useCallback(()=>n?.role==="admin",[n]),T=ve.useCallback(()=>["admin","supervisor"].includes(n?.role),[n]),S=ve.useCallback(()=>["admin","supervisor"].includes(n?.role),[n]),C=ve.useCallback(()=>["admin","supervisor"].includes(n?.role),[n]),M=ve.useCallback(()=>["admin","supervisor"].includes(n?.role),[n]),V={user:e,profile:n,loading:a,isAuthenticated:!!e,isAdmin:u,isSupervisor:f,isSurveyor:p,hasRole:v,hasAnyRole:y,canManageUsers:_,canManageZones:T,canViewAllSurveys:S,canApproveSurveys:C,canExportData:M,updateProfile:async X=>{if(!e)return{error:"Not authenticated"};const{data:ce,error:I}=await li.from("user_profiles").update({...X,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();return I||i(ce),{data:ce,error:I}},signOut:async()=>{try{Zn.clear(),localStorage.removeItem("supabase-auth-token");const{error:X}=await li.auth.signOut();if(X)throw console.error("signOut error:",X),X}catch(X){throw r(null),i(null),Zn.clear(),X}},refreshProfile:()=>e&&l(e.id)};return x.jsx(eE.Provider,{value:V,children:t})},Cm=[{code:"en",name:"English",flag:"",nativeName:"English"},{code:"hi",name:"Hindi",flag:"",nativeName:""},{code:"mr",name:"Marathi",flag:"",nativeName:""}],Ck=({variant:t="dropdown"})=>{const{i18n:e,t:r}=gp(),[n,i]=ve.useState(!1),a=ve.useRef(null),s=Cm.find(u=>u.code===e.language)||Cm[0];ve.useEffect(()=>{const u=f=>{a.current&&!a.current.contains(f.target)&&i(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const l=u=>{e.changeLanguage(u),localStorage.setItem("preferredLanguage",u),i(!1)};return t==="compact"?x.jsx("div",{className:"flex gap-1",children:Cm.map(u=>x.jsx("button",{onClick:()=>l(u.code),className:`px-2 py-1 rounded-lg text-xs font-medium transition-all ${e.language===u.code?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:u.name,children:u.code.toUpperCase()},u.code))}):x.jsxs("div",{className:"relative",ref:a,children:[x.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all",children:[x.jsx("span",{className:"text-lg",children:s.flag}),x.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.nativeName}),x.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&x.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50 animate-fadeIn",children:[x.jsx("p",{className:"px-4 py-1 text-xs font-semibold text-gray-400 uppercase tracking-wide",children:r("language.select")}),Cm.map(u=>x.jsxs("button",{onClick:()=>l(u.code),className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${e.language===u.code?"bg-blue-50 text-blue-600":"hover:bg-gray-50 text-gray-700"}`,children:[x.jsx("span",{className:"text-xl",children:u.flag}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium",children:u.nativeName}),x.jsx("p",{className:"text-xs text-gray-400",children:u.name})]}),e.language===u.code&&x.jsx("svg",{className:"w-5 h-5 ml-auto text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},u.code))]})]})},Mk="v3.3.0-AUTH-FIX",kk=()=>{const{t}=gp(),e=$h(),r=jc(),[n,i]=ve.useState(!1),[a,s]=ve.useState(!1),{profile:l,isAdmin:u,isSupervisor:f,canManageZones:p,signOut:v}=lh(),y=async()=>{try{s(!0),await v(),e("/login",{replace:!0})}catch(T){console.error("Logout error:",T),e("/login",{replace:!0})}finally{s(!1)}},_=()=>{i(!1)};return x.jsxs("div",{className:"flex h-screen bg-gray-50",children:[n&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998] md:hidden",onClick:_}),x.jsx("aside",{className:`fixed md:static inset-y-0 left-0 z-[9999] w-64 bg-gradient-to-b from-slate-900 to-slate-800 text-white transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsxs("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-xl font-bold",children:"INDICES"}),x.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:"Geospatial Survey System"})]}),x.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-slate-700 transition-colors",onClick:_,children:x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[x.jsx(Sh,{to:"/dashboard",icon:"",active:r.pathname==="/dashboard",onClick:_,children:t("nav.dashboard")}),x.jsx(Sh,{to:"/survey",icon:"",active:r.pathname==="/survey",onClick:_,children:t("nav.surveyMap")}),x.jsx(Sh,{to:"/surveyed-buildings",icon:"",active:r.pathname==="/surveyed-buildings",onClick:_,children:t("nav.allBuildings")}),x.jsx(Sh,{to:"/my-assignments",icon:"",active:r.pathname==="/my-assignments",onClick:_,children:t("nav.myAssignments")}),p()&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"pt-4 pb-2",children:x.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wider px-4",children:"Management"})}),x.jsx(Sh,{to:"/zones",icon:"",active:r.pathname==="/zones",onClick:_,children:t("nav.zones")})]}),u()&&x.jsxs(x.Fragment,{children:[x.jsx(Sh,{to:"/users",icon:"",active:r.pathname==="/users",onClick:_,children:t("nav.users")}),x.jsx(Sh,{to:"/admin",icon:"",active:r.pathname==="/admin",onClick:_,children:t("nav.admin")})]})]}),x.jsxs("div",{className:"p-4 border-t border-slate-700 space-y-3",children:[l&&x.jsxs("div",{className:"flex items-center gap-3 px-2 py-2",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:l.full_name?.charAt(0)||l.email?.charAt(0)||"?"}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"text-sm font-medium text-white truncate",children:l.full_name||"User"}),x.jsx("p",{className:"text-xs text-slate-400 capitalize",children:t(`roles.${l.role}`)})]})]}),x.jsx("button",{onClick:y,disabled:a,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors text-base flex items-center justify-center gap-2 ${a?"bg-gray-500 cursor-not-allowed":"bg-red-600 hover:bg-red-700"}`,children:a?x.jsxs(x.Fragment,{children:[x.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging out..."]}):t("auth.logout")}),x.jsx("div",{className:"text-center pt-2 border-t border-slate-700 mt-2",children:x.jsx("p",{className:"text-xs text-slate-500",children:Mk})})]})]})}),x.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[x.jsx("button",{className:"md:hidden p-3 -ml-2 rounded-lg hover:bg-gray-100 active:bg-gray-200 transition-colors",onClick:()=>i(!0),"aria-label":"Open menu",children:x.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),x.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:t("common.appName")}),x.jsx(Ck,{variant:"compact"})]}),x.jsx("main",{className:"flex-1 overflow-auto",children:x.jsx(LS,{})})]})]})},Sh=({to:t,icon:e,children:r,active:n,onClick:i})=>x.jsxs(F_,{to:t,onClick:i,className:`flex items-center space-x-3 py-4 px-4 rounded-lg transition-colors ${n?"bg-blue-600 text-white":"hover:bg-slate-700 text-white"}`,children:[x.jsx("span",{className:"text-2xl",children:e}),x.jsx("span",{className:"font-medium text-base",children:r})]}),Pk=()=>x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:x.jsx("div",{className:"w-full max-w-md",children:x.jsx(LS,{})})}),Ok=()=>{const[t,e]=ve.useState(""),[r,n]=ve.useState(""),[i,a]=ve.useState(!1),[s,l]=ve.useState(""),u=async f=>{if(!t||!r){l("Please enter email and password");return}a(!0),l("");try{const{data:p,error:v}=f?await li.auth.signUp({email:t,password:r,options:{emailRedirectTo:window.location.origin+"/new_with_database/#/dashboard"}}):await li.auth.signInWithPassword({email:t,password:r});if(v)throw v;f&&(l(""),alert("Sign up successful! You can now log in."))}catch(p){console.error("Auth error:",p.message),l(p.message)}finally{a(!1)}};return x.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[x.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"}),x.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-green-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"})]}),x.jsxs("div",{className:"relative z-10 w-full max-w-md px-6",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-green-500 rounded-2xl shadow-lg mb-4",children:x.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),x.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"INDICES"}),x.jsx("p",{className:"text-blue-300 mt-1 text-sm",children:"Geospatial Survey System"})]}),x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/20",children:[x.jsx("h2",{className:"text-xl font-semibold text-white text-center mb-6",children:"Surveyor Login"}),s&&x.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/30 rounded-xl text-red-200 text-sm text-center",children:s}),x.jsxs("form",{className:"space-y-5",onSubmit:f=>{f.preventDefault(),u(!1)},children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"Email"}),x.jsx("input",{type:"email",value:t,onChange:f=>e(f.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"surveyor@example.com",autoComplete:"email"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"Password"}),x.jsx("input",{type:"password",value:r,onChange:f=>n(f.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"",autoComplete:"current-password"})]}),x.jsx("button",{type:"submit",disabled:i,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl shadow-lg transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:i?x.jsxs("span",{className:"flex items-center justify-center gap-2",children:[x.jsxs("svg",{className:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Sign In"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-white/20"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 bg-transparent text-gray-400",children:"or"})})]}),x.jsx("button",{type:"button",onClick:()=>u(!0),disabled:i,className:"w-full py-3 px-4 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-xl border border-white/20 transition-all",children:"Create Account"})]})]}),x.jsx("p",{className:"text-center text-gray-500 text-xs mt-6",children:"Powered by INDICES Geospatial Survey System"})]})]})};function wa(t){const[e,r]=ve.useState(()=>Zn.get(t));return ve.useEffect(()=>Zn.subscribe(i=>{r(i[t])}),[t]),e}const tl={async fetchSurveys(){console.log("[DataService] Fetching surveys..."),Zn.set("loading",!0);try{const{data:t,error:e}=await li.from("surveys").select("*").order("created_at",{ascending:!1});return e?(console.error("[DataService] Survey fetch error:",e),{success:!1,error:e}):(Zn.setMultiple({surveys:t||[],loading:!1}),console.log(`[DataService] Loaded ${t?.length||0} surveys`),{success:!0,data:t})}catch(t){return console.error("[DataService] Survey fetch exception:",t),Zn.set("loading",!1),{success:!1,error:t}}},async fetchStats(){console.log("[DataService] Fetching stats..."),Zn.set("loading",!0);try{const{data:t,error:e}=await li.from("surveys").select("created_at, status");if(e)return console.error("[DataService] Stats fetch error:",e),Zn.set("loading",!1),{success:!1,error:e};const r=new Date,n=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=new Date(r.setDate(r.getDate()-r.getDay())),a=new Date(r.getFullYear(),r.getMonth(),1),s={total:t.length,today:t.filter(l=>new Date(l.created_at)>=n).length,thisWeek:t.filter(l=>new Date(l.created_at)>=i).length,thisMonth:t.filter(l=>new Date(l.created_at)>=a).length};return Zn.setMultiple({stats:s,loading:!1}),console.log("[DataService] Stats calculated:",s),{success:!0,data:s}}catch(t){return console.error("[DataService] Stats fetch exception:",t),Zn.set("loading",!1),{success:!1,error:t}}},async fetchAssignments(t){console.log("[DataService] Fetching assignments for user:",t),Zn.set("loading",!0);try{const{data:e,error:r}=await li.from("survey_zones").select("*").eq("assigned_to",t).order("created_at",{ascending:!1});return r?(console.error("[DataService] Assignments fetch error:",r),Zn.set("loading",!1),{success:!1,error:r}):(Zn.setMultiple({assignments:e||[],loading:!1}),console.log(`[DataService] Loaded ${e?.length||0} assignments`),{success:!0,data:e})}catch(e){return console.error("[DataService] Assignments fetch exception:",e),Zn.set("loading",!1),{success:!1,error:e}}},async fetchBuildings(){console.log("[DataService] Fetching buildings..."),Zn.set("loading",!0);try{const{data:t,error:e}=await li.from("surveys").select("*").not("geometry","is",null).order("created_at",{ascending:!1});return e?(console.error("[DataService] Buildings fetch error:",e),Zn.set("loading",!1),{success:!1,error:e}):(Zn.setMultiple({buildings:t||[],loading:!1}),console.log(`[DataService] Loaded ${t?.length||0} buildings`),{success:!0,data:t})}catch(t){return console.error("[DataService] Buildings fetch exception:",t),Zn.set("loading",!1),{success:!1,error:t}}},async fetchZones(t=null){console.log("[DataService] Fetching zones..."),Zn.set("loading",!0);try{let e=li.from("survey_zones").select(`
                    *,
                    assigned_user:user_profiles!survey_zones_assigned_to_fkey(id, full_name, email),
                    supervisor:user_profiles!survey_zones_supervisor_id_fkey(id, full_name, email)
                `).order("created_at",{ascending:!1});t&&t!=="all"&&(e=e.eq("status",t));const{data:r,error:n}=await e;return n?(console.error("[DataService] Zones fetch error:",n),Zn.set("loading",!1),{success:!1,error:n}):(Zn.setMultiple({zones:r||[],loading:!1}),console.log(`[DataService] Loaded ${r?.length||0} zones`),{success:!0,data:r})}catch(e){return console.error("[DataService] Zones fetch exception:",e),Zn.set("loading",!1),{success:!1,error:e}}},async fetchUsers(t=null){console.log("[DataService] Fetching users..."),Zn.set("loading",!0);try{let e=li.from("user_profiles").select("*").order("created_at",{ascending:!1});t&&t!=="all"&&(e=e.eq("role",t));const{data:r,error:n}=await e;return n?(console.error("[DataService] Users fetch error:",n),Zn.set("loading",!1),{success:!1,error:n}):(Zn.setMultiple({users:r||[],loading:!1}),console.log(`[DataService] Loaded ${r?.length||0} users`),{success:!0,data:r})}catch(e){return console.error("[DataService] Users fetch exception:",e),Zn.set("loading",!1),{success:!1,error:e}}},async fetchAll(t){console.log("[DataService] Fetching ALL data...");const r=(await Promise.allSettled([this.fetchSurveys(),this.fetchStats(),t?this.fetchAssignments(t):Promise.resolve({success:!0}),this.fetchBuildings(),this.fetchZones(),this.fetchUsers()])).every(n=>n.status==="fulfilled"&&n.value.success);return console.log("[DataService] Fetch all complete. Success:",r),{success:r}}},v5=Object.freeze(Object.defineProperty({__proto__:null,dataService:tl},Symbol.toStringTag,{value:"Module"}));function zn(t){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(t)}var Jl=Uint8Array,el=Uint16Array,z_=Int32Array,G_=new Jl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),H_=new Jl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_5=new Jl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tE=function(t,e){for(var r=new el(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new z_(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},rE=tE(G_,2),Rk=rE.b,s_=rE.r;Rk[28]=258,s_[258]=28;var Dk=tE(H_,0),y5=Dk.r,o_=new el(32768);for(var _i=0;_i<32768;++_i){var Gu=(_i&43690)>>1|(_i&21845)<<1;Gu=(Gu&52428)>>2|(Gu&13107)<<2,Gu=(Gu&61680)>>4|(Gu&3855)<<4,o_[_i]=((Gu&65280)>>8|(Gu&255)<<8)>>1}var N0=(function(t,e,r){for(var n=t.length,i=0,a=new el(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new el(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(r){l=new el(1<<e);var u=15-e;for(i=0;i<n;++i)if(t[i])for(var f=i<<4|t[i],p=e-t[i],v=s[t[i]-1]++<<p,y=v|(1<<p)-1;v<=y;++v)l[o_[v]>>u]=f}else for(l=new el(n),i=0;i<n;++i)t[i]&&(l[i]=o_[s[t[i]-1]++]>>15-t[i]);return l}),Fh=new Jl(288);for(var _i=0;_i<144;++_i)Fh[_i]=8;for(var _i=144;_i<256;++_i)Fh[_i]=9;for(var _i=256;_i<280;++_i)Fh[_i]=7;for(var _i=280;_i<288;++_i)Fh[_i]=8;var y1=new Jl(32);for(var _i=0;_i<32;++_i)y1[_i]=5;var jk=N0(Fh,9,0),Ik=N0(y1,5,0),nE=function(t){return(t+7)/8|0},Fk=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Jl(t.subarray(e,r))},iu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},u0=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Jv=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:aE,l:0};if(i==1){var s=new Jl(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(X,ce){return X.f-ce.f}),r.push({s:-1,f:25001});var l=r[0],u=r[1],f=0,p=1,v=2;for(r[0]={s:-1,f:l.f+u.f,l,r:u};p!=i-1;)l=r[r[f].f<r[v].f?f++:v++],u=r[f!=p&&r[f].f<r[v].f?f++:v++],r[p++]={s:-1,f:l.f+u.f,l,r:u};for(var y=a[0].s,n=1;n<i;++n)a[n].s>y&&(y=a[n].s);var _=new el(y+1),T=l_(r[p-1],_,0);if(T>e){var n=0,S=0,C=T-e,M=1<<C;for(a.sort(function(ce,I){return _[I.s]-_[ce.s]||ce.f-I.f});n<i;++n){var D=a[n].s;if(_[D]>e)S+=M-(1<<T-_[D]),_[D]=e;else break}for(S>>=C;S>0;){var j=a[n].s;_[j]<e?S-=1<<e-_[j]++-1:++n}for(;n>=0&&S;--n){var V=a[n].s;_[V]==e&&(--_[V],++S)}T=e}return{t:new Jl(_),l:T}},l_=function(t,e,r){return t.s==-1?Math.max(l_(t.l,e,r+1),l_(t.r,e,r+1)):e[t.s]=r},x5=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new el(++e),n=0,i=t[0],a=1,s=function(u){r[n++]=u},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[l]}return{c:r.subarray(0,n),n:e}},h0=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},iE=function(t,e,r){var n=r.length,i=nE(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},w5=function(t,e,r,n,i,a,s,l,u,f,p){iu(e,p++,r),++i[256];for(var v=Jv(i,15),y=v.t,_=v.l,T=Jv(a,15),S=T.t,C=T.l,M=x5(y),D=M.c,j=M.n,V=x5(S),X=V.c,ce=V.n,I=new el(19),q=0;q<D.length;++q)++I[D[q]&31];for(var q=0;q<X.length;++q)++I[X[q]&31];for(var F=Jv(I,7),J=F.t,B=F.l,Z=19;Z>4&&!J[_5[Z-1]];--Z);var ue=f+5<<3,de=h0(i,Fh)+h0(a,y1)+s,xe=h0(i,y)+h0(a,S)+s+14+3*Z+h0(I,J)+2*I[16]+3*I[17]+7*I[18];if(u>=0&&ue<=de&&ue<=xe)return iE(e,p,t.subarray(u,u+f));var oe,be,_e,Le;if(iu(e,p,1+(xe<de)),p+=2,xe<de){oe=N0(y,_,0),be=y,_e=N0(S,C,0),Le=S;var Ne=N0(J,B,0);iu(e,p,j-257),iu(e,p+5,ce-1),iu(e,p+10,Z-4),p+=14;for(var q=0;q<Z;++q)iu(e,p+3*q,J[_5[q]]);p+=3*Z;for(var ee=[D,X],O=0;O<2;++O)for(var G=ee[O],q=0;q<G.length;++q){var H=G[q]&31;iu(e,p,Ne[H]),p+=J[H],H>15&&(iu(e,p,G[q]>>5&127),p+=G[q]>>12)}}else oe=jk,be=Fh,_e=Ik,Le=y1;for(var q=0;q<l;++q){var Y=n[q];if(Y>255){var H=Y>>18&31;u0(e,p,oe[H+257]),p+=be[H+257],H>7&&(iu(e,p,Y>>23&31),p+=G_[H]);var se=Y&31;u0(e,p,_e[se]),p+=Le[se],se>3&&(u0(e,p,Y>>5&8191),p+=H_[se])}else u0(e,p,oe[Y]),p+=be[Y]}return u0(e,p,oe[256]),p+be[256]},Bk=new z_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),aE=new Jl(0),Uk=function(t,e,r,n,i,a){var s=a.z||t.length,l=new Jl(n+s+5*(1+Math.ceil(s/7e3))+i),u=l.subarray(n,l.length-i),f=a.l,p=(a.r||0)&7;if(e){p&&(u[0]=a.r>>3);for(var v=Bk[e-1],y=v>>13,_=v&8191,T=(1<<r)-1,S=a.p||new el(32768),C=a.h||new el(T+1),M=Math.ceil(r/3),D=2*M,j=function(Nt){return(t[Nt]^t[Nt+1]<<M^t[Nt+2]<<D)&T},V=new z_(25e3),X=new el(288),ce=new el(32),I=0,q=0,F=a.i||0,J=0,B=a.w||0,Z=0;F+2<s;++F){var ue=j(F),de=F&32767,xe=C[ue];if(S[de]=xe,C[ue]=de,B<=F){var oe=s-F;if((I>7e3||J>24576)&&(oe>423||!f)){p=w5(t,u,0,V,X,ce,q,J,Z,F-Z,p),J=I=q=0,Z=F;for(var be=0;be<286;++be)X[be]=0;for(var be=0;be<30;++be)ce[be]=0}var _e=2,Le=0,Ne=_,ee=de-xe&32767;if(oe>2&&ue==j(F-ee))for(var O=Math.min(y,oe)-1,G=Math.min(32767,F),H=Math.min(258,oe);ee<=G&&--Ne&&de!=xe;){if(t[F+_e]==t[F+_e-ee]){for(var Y=0;Y<H&&t[F+Y]==t[F+Y-ee];++Y);if(Y>_e){if(_e=Y,Le=ee,Y>O)break;for(var se=Math.min(ee,Y-2),Ae=0,be=0;be<se;++be){var Oe=F-ee+be&32767,Re=S[Oe],Ie=Oe-Re&32767;Ie>Ae&&(Ae=Ie,xe=Oe)}}}de=xe,xe=S[de],ee+=de-xe&32767}if(Le){V[J++]=268435456|s_[_e]<<18|y5[Le];var ot=s_[_e]&31,it=y5[Le]&31;q+=G_[ot]+H_[it],++X[257+ot],++ce[it],B=F+_e,++I}else V[J++]=t[F],++X[t[F]]}}for(F=Math.max(F,B);F<s;++F)V[J++]=t[F],++X[t[F]];p=w5(t,u,f,V,X,ce,q,J,Z,F-Z,p),f||(a.r=p&7|u[p/8|0]<<3,p-=7,a.h=C,a.p=S,a.i=F,a.w=B)}else{for(var F=a.w||0;F<s+f;F+=65535){var Tt=F+65535;Tt>=s&&(u[p/8|0]=f,Tt=s),p=iE(u,p+1,t.subarray(F,Tt))}a.i=s}return Fk(l,0,n+nE(p)+i)},sE=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},zk=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Jl(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return Uk(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},oE=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Gk=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=sE();i.p(e.dictionary),oE(t,2,i.d())}};function c_(t,e){e||(e={});var r=sE();r.p(t);var n=zk(t,e,e.dictionary?6:2,4);return Gk(n,e),oE(n,n.length-4,r.d()),n}var Hk=typeof TextDecoder<"u"&&new TextDecoder,qk=0;try{Hk.decode(aE,{stream:!0}),qk=1}catch{}function Vk(t){if(Array.isArray(t))return t}function $k(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],u=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function b5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Wk(t,e){if(t){if(typeof t=="string")return b5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b5(t,e):void 0}}function Zk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S5(t,e){return Vk(t)||$k(t,e)||Wk(t,e)||Zk()}function E5(t,e="utf8"){return new TextDecoder(e).decode(t)}const Yk=new TextEncoder;function Kk(t){return Yk.encode(t)}const Xk=1024*8,Jk=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Qv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class q_{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Xk,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof q_)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Qv[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===Jk&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const u=new Qv[r](l.buffer);return this.offset+=n,u.reverse(),u}const s=new Qv[r](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return E5(this.readBytes(e))}decodeText(e=1,r="utf8"){return E5(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(Kk(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function bd(t){let e=t.length;for(;--e>=0;)t[e]=0}const Qk=3,eP=258,lE=29,tP=256,rP=tP+1+lE,cE=30,nP=512,iP=new Array((rP+2)*2);bd(iP);const aP=new Array(cE*2);bd(aP);const sP=new Array(nP);bd(sP);const oP=new Array(eP-Qk+1);bd(oP);const lP=new Array(lE);bd(lP);const cP=new Array(cE);bd(cP);const uP=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var u_=uP;const hP=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},fP=new Uint32Array(hP()),dP=(t,e,r,n)=>{const i=fP,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Tc=dP,h_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},uE={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const pP=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var mP=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)pP(r,n)&&(t[n]=r[n])}}return t},gP=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},hE={assign:mP,flattenChunks:gP};let fE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{fE=!1}const J0=new Uint8Array(256);for(let t=0;t<256;t++)J0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;J0[254]=J0[254]=1;var vP=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,l=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const _P=(t,e)=>{if(e<65534&&t.subarray&&fE)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var yP=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let l=J0[s];if(l>4){a[i++]=65533,n+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&n<r;)s=s<<6|t[n++]&63,l--;if(l>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return _P(a,i)},xP=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+J0[t[r]]>e?r:e},f_={string2buf:vP,buf2string:yP,utf8border:xP};function wP(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var bP=wP;const Mm=16209,SP=16191;var EP=function(e,r){let n,i,a,s,l,u,f,p,v,y,_,T,S,C,M,D,j,V,X,ce,I,q,F,J;const B=e.state;n=e.next_in,F=e.input,i=n+(e.avail_in-5),a=e.next_out,J=e.output,s=a-(r-e.avail_out),l=a+(e.avail_out-257),u=B.dmax,f=B.wsize,p=B.whave,v=B.wnext,y=B.window,_=B.hold,T=B.bits,S=B.lencode,C=B.distcode,M=(1<<B.lenbits)-1,D=(1<<B.distbits)-1;e:do{T<15&&(_+=F[n++]<<T,T+=8,_+=F[n++]<<T,T+=8),j=S[_&M];t:for(;;){if(V=j>>>24,_>>>=V,T-=V,V=j>>>16&255,V===0)J[a++]=j&65535;else if(V&16){X=j&65535,V&=15,V&&(T<V&&(_+=F[n++]<<T,T+=8),X+=_&(1<<V)-1,_>>>=V,T-=V),T<15&&(_+=F[n++]<<T,T+=8,_+=F[n++]<<T,T+=8),j=C[_&D];r:for(;;){if(V=j>>>24,_>>>=V,T-=V,V=j>>>16&255,V&16){if(ce=j&65535,V&=15,T<V&&(_+=F[n++]<<T,T+=8,T<V&&(_+=F[n++]<<T,T+=8)),ce+=_&(1<<V)-1,ce>u){e.msg="invalid distance too far back",B.mode=Mm;break e}if(_>>>=V,T-=V,V=a-s,ce>V){if(V=ce-V,V>p&&B.sane){e.msg="invalid distance too far back",B.mode=Mm;break e}if(I=0,q=y,v===0){if(I+=f-V,V<X){X-=V;do J[a++]=y[I++];while(--V);I=a-ce,q=J}}else if(v<V){if(I+=f+v-V,V-=v,V<X){X-=V;do J[a++]=y[I++];while(--V);if(I=0,v<X){V=v,X-=V;do J[a++]=y[I++];while(--V);I=a-ce,q=J}}}else if(I+=v-V,V<X){X-=V;do J[a++]=y[I++];while(--V);I=a-ce,q=J}for(;X>2;)J[a++]=q[I++],J[a++]=q[I++],J[a++]=q[I++],X-=3;X&&(J[a++]=q[I++],X>1&&(J[a++]=q[I++]))}else{I=a-ce;do J[a++]=J[I++],J[a++]=J[I++],J[a++]=J[I++],X-=3;while(X>2);X&&(J[a++]=J[I++],X>1&&(J[a++]=J[I++]))}}else if((V&64)===0){j=C[(j&65535)+(_&(1<<V)-1)];continue r}else{e.msg="invalid distance code",B.mode=Mm;break e}break}}else if((V&64)===0){j=S[(j&65535)+(_&(1<<V)-1)];continue t}else if(V&32){B.mode=SP;break e}else{e.msg="invalid literal/length code",B.mode=Mm;break e}break}}while(n<i&&a<l);X=T>>3,n-=X,T-=X<<3,_&=(1<<T)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<l?257+(l-a):257-(a-l),B.hold=_,B.bits=T};const Df=15,T5=852,A5=592,L5=0,e2=1,N5=2,TP=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),AP=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),LP=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),NP=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),CP=(t,e,r,n,i,a,s,l)=>{const u=l.bits;let f=0,p=0,v=0,y=0,_=0,T=0,S=0,C=0,M=0,D=0,j,V,X,ce,I,q=null,F;const J=new Uint16Array(Df+1),B=new Uint16Array(Df+1);let Z=null,ue,de,xe;for(f=0;f<=Df;f++)J[f]=0;for(p=0;p<n;p++)J[e[r+p]]++;for(_=u,y=Df;y>=1&&J[y]===0;y--);if(_>y&&(_=y),y===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(v=1;v<y&&J[v]===0;v++);for(_<v&&(_=v),C=1,f=1;f<=Df;f++)if(C<<=1,C-=J[f],C<0)return-1;if(C>0&&(t===L5||y!==1))return-1;for(B[1]=0,f=1;f<Df;f++)B[f+1]=B[f]+J[f];for(p=0;p<n;p++)e[r+p]!==0&&(s[B[e[r+p]]++]=p);if(t===L5?(q=Z=s,F=20):t===e2?(q=TP,Z=AP,F=257):(q=LP,Z=NP,F=0),D=0,p=0,f=v,I=a,T=_,S=0,X=-1,M=1<<_,ce=M-1,t===e2&&M>T5||t===N5&&M>A5)return 1;for(;;){ue=f-S,s[p]+1<F?(de=0,xe=s[p]):s[p]>=F?(de=Z[s[p]-F],xe=q[s[p]-F]):(de=96,xe=0),j=1<<f-S,V=1<<T,v=V;do V-=j,i[I+(D>>S)+V]=ue<<24|de<<16|xe|0;while(V!==0);for(j=1<<f-1;D&j;)j>>=1;if(j!==0?(D&=j-1,D+=j):D=0,p++,--J[f]===0){if(f===y)break;f=e[r+s[p]]}if(f>_&&(D&ce)!==X){for(S===0&&(S=_),I+=v,T=f-S,C=1<<T;T+S<y&&(C-=J[T+S],!(C<=0));)T++,C<<=1;if(M+=1<<T,t===e2&&M>T5||t===N5&&M>A5)return 1;X=D&ce,i[X]=_<<24|T<<16|I-a|0}}return D!==0&&(i[I+D]=f-S<<24|64<<16|0),l.bits=_,0};var C0=CP;const MP=0,dE=1,pE=2,{Z_FINISH:C5,Z_BLOCK:kP,Z_TREES:km,Z_OK:Bh,Z_STREAM_END:PP,Z_NEED_DICT:OP,Z_STREAM_ERROR:Sl,Z_DATA_ERROR:mE,Z_MEM_ERROR:gE,Z_BUF_ERROR:RP,Z_DEFLATED:M5}=uE,ig=16180,k5=16181,P5=16182,O5=16183,R5=16184,D5=16185,j5=16186,I5=16187,F5=16188,B5=16189,x1=16190,au=16191,t2=16192,U5=16193,r2=16194,z5=16195,G5=16196,H5=16197,q5=16198,Pm=16199,Om=16200,V5=16201,$5=16202,W5=16203,Z5=16204,Y5=16205,n2=16206,K5=16207,X5=16208,Li=16209,vE=16210,_E=16211,DP=852,jP=592,IP=15,FP=IP,J5=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function BP(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<ig||e.mode>_E?1:0},yE=t=>{if(Wh(t))return Sl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=ig,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(DP),e.distcode=e.distdyn=new Int32Array(jP),e.sane=1,e.back=-1,Bh},xE=t=>{if(Wh(t))return Sl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,yE(t)},wE=(t,e)=>{let r;if(Wh(t))return Sl;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Sl:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,xE(t))},bE=(t,e)=>{if(!t)return Sl;const r=new BP;t.state=r,r.strm=t,r.window=null,r.mode=ig;const n=wE(t,e);return n!==Bh&&(t.state=null),n},UP=t=>bE(t,FP);let Q5=!0,i2,a2;const zP=t=>{if(Q5){i2=new Int32Array(512),a2=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(C0(dE,t.lens,0,288,i2,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;C0(pE,t.lens,0,32,a2,0,t.work,{bits:5}),Q5=!1}t.lencode=i2,t.lenbits=9,t.distcode=a2,t.distbits=5},SE=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},GP=(t,e)=>{let r,n,i,a,s,l,u,f,p,v,y,_,T,S,C=0,M,D,j,V,X,ce,I,q;const F=new Uint8Array(4);let J,B;const Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wh(t)||!t.output||!t.input&&t.avail_in!==0)return Sl;r=t.state,r.mode===au&&(r.mode=t2),s=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,f=r.hold,p=r.bits,v=l,y=u,q=Bh;e:for(;;)switch(r.mode){case ig:if(r.wrap===0){r.mode=t2;break}for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,F[0]=f&255,F[1]=f>>>8&255,r.check=Tc(r.check,F,2,0),f=0,p=0,r.mode=k5;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",r.mode=Li;break}if((f&15)!==M5){t.msg="unknown compression method",r.mode=Li;break}if(f>>>=4,p-=4,I=(f&15)+8,r.wbits===0&&(r.wbits=I),I>15||I>r.wbits){t.msg="invalid window size",r.mode=Li;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=f&512?B5:au,f=0,p=0;break;case k5:for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.flags=f,(r.flags&255)!==M5){t.msg="unknown compression method",r.mode=Li;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Li;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(F[0]=f&255,F[1]=f>>>8&255,r.check=Tc(r.check,F,2,0)),f=0,p=0,r.mode=P5;case P5:for(;p<32;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(F[0]=f&255,F[1]=f>>>8&255,F[2]=f>>>16&255,F[3]=f>>>24&255,r.check=Tc(r.check,F,4,0)),f=0,p=0,r.mode=O5;case O5:for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(F[0]=f&255,F[1]=f>>>8&255,r.check=Tc(r.check,F,2,0)),f=0,p=0,r.mode=R5;case R5:if(r.flags&1024){for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(F[0]=f&255,F[1]=f>>>8&255,r.check=Tc(r.check,F,2,0)),f=0,p=0}else r.head&&(r.head.extra=null);r.mode=D5;case D5:if(r.flags&1024&&(_=r.length,_>l&&(_=l),_&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+_),I)),r.flags&512&&r.wrap&4&&(r.check=Tc(r.check,n,_,a)),l-=_,a+=_,r.length-=_),r.length))break e;r.length=0,r.mode=j5;case j5:if(r.flags&2048){if(l===0)break e;_=0;do I=n[a+_++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I));while(I&&_<l);if(r.flags&512&&r.wrap&4&&(r.check=Tc(r.check,n,_,a)),l-=_,a+=_,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=I5;case I5:if(r.flags&4096){if(l===0)break e;_=0;do I=n[a+_++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I));while(I&&_<l);if(r.flags&512&&r.wrap&4&&(r.check=Tc(r.check,n,_,a)),l-=_,a+=_,I)break e}else r.head&&(r.head.comment=null);r.mode=F5;case F5:if(r.flags&512){for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.wrap&4&&f!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Li;break}f=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=au;break;case B5:for(;p<32;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}t.adler=r.check=J5(f),f=0,p=0,r.mode=x1;case x1:if(r.havedict===0)return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,r.hold=f,r.bits=p,OP;t.adler=r.check=1,r.mode=au;case au:if(e===kP||e===km)break e;case t2:if(r.last){f>>>=p&7,p-=p&7,r.mode=n2;break}for(;p<3;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}switch(r.last=f&1,f>>>=1,p-=1,f&3){case 0:r.mode=U5;break;case 1:if(zP(r),r.mode=Pm,e===km){f>>>=2,p-=2;break e}break;case 2:r.mode=G5;break;case 3:t.msg="invalid block type",r.mode=Li}f>>>=2,p-=2;break;case U5:for(f>>>=p&7,p-=p&7;p<32;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Li;break}if(r.length=f&65535,f=0,p=0,r.mode=r2,e===km)break e;case r2:r.mode=z5;case z5:if(_=r.length,_){if(_>l&&(_=l),_>u&&(_=u),_===0)break e;i.set(n.subarray(a,a+_),s),l-=_,a+=_,u-=_,s+=_,r.length-=_;break}r.mode=au;break;case G5:for(;p<14;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.nlen=(f&31)+257,f>>>=5,p-=5,r.ndist=(f&31)+1,f>>>=5,p-=5,r.ncode=(f&15)+4,f>>>=4,p-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Li;break}r.have=0,r.mode=H5;case H5:for(;r.have<r.ncode;){for(;p<3;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.lens[Z[r.have++]]=f&7,f>>>=3,p-=3}for(;r.have<19;)r.lens[Z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,J={bits:r.lenbits},q=C0(MP,r.lens,0,19,r.lencode,0,r.work,J),r.lenbits=J.bits,q){t.msg="invalid code lengths set",r.mode=Li;break}r.have=0,r.mode=q5;case q5:for(;r.have<r.nlen+r.ndist;){for(;C=r.lencode[f&(1<<r.lenbits)-1],M=C>>>24,D=C>>>16&255,j=C&65535,!(M<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(j<16)f>>>=M,p-=M,r.lens[r.have++]=j;else{if(j===16){for(B=M+2;p<B;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(f>>>=M,p-=M,r.have===0){t.msg="invalid bit length repeat",r.mode=Li;break}I=r.lens[r.have-1],_=3+(f&3),f>>>=2,p-=2}else if(j===17){for(B=M+3;p<B;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}f>>>=M,p-=M,I=0,_=3+(f&7),f>>>=3,p-=3}else{for(B=M+7;p<B;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}f>>>=M,p-=M,I=0,_=11+(f&127),f>>>=7,p-=7}if(r.have+_>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Li;break}for(;_--;)r.lens[r.have++]=I}}if(r.mode===Li)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Li;break}if(r.lenbits=9,J={bits:r.lenbits},q=C0(dE,r.lens,0,r.nlen,r.lencode,0,r.work,J),r.lenbits=J.bits,q){t.msg="invalid literal/lengths set",r.mode=Li;break}if(r.distbits=6,r.distcode=r.distdyn,J={bits:r.distbits},q=C0(pE,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,J),r.distbits=J.bits,q){t.msg="invalid distances set",r.mode=Li;break}if(r.mode=Pm,e===km)break e;case Pm:r.mode=Om;case Om:if(l>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,r.hold=f,r.bits=p,EP(t,y),s=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,f=r.hold,p=r.bits,r.mode===au&&(r.back=-1);break}for(r.back=0;C=r.lencode[f&(1<<r.lenbits)-1],M=C>>>24,D=C>>>16&255,j=C&65535,!(M<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(D&&(D&240)===0){for(V=M,X=D,ce=j;C=r.lencode[ce+((f&(1<<V+X)-1)>>V)],M=C>>>24,D=C>>>16&255,j=C&65535,!(V+M<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}f>>>=V,p-=V,r.back+=V}if(f>>>=M,p-=M,r.back+=M,r.length=j,D===0){r.mode=Y5;break}if(D&32){r.back=-1,r.mode=au;break}if(D&64){t.msg="invalid literal/length code",r.mode=Li;break}r.extra=D&15,r.mode=V5;case V5:if(r.extra){for(B=r.extra;p<B;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=$5;case $5:for(;C=r.distcode[f&(1<<r.distbits)-1],M=C>>>24,D=C>>>16&255,j=C&65535,!(M<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if((D&240)===0){for(V=M,X=D,ce=j;C=r.distcode[ce+((f&(1<<V+X)-1)>>V)],M=C>>>24,D=C>>>16&255,j=C&65535,!(V+M<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}f>>>=V,p-=V,r.back+=V}if(f>>>=M,p-=M,r.back+=M,D&64){t.msg="invalid distance code",r.mode=Li;break}r.offset=j,r.extra=D&15,r.mode=W5;case W5:if(r.extra){for(B=r.extra;p<B;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Li;break}r.mode=Z5;case Z5:if(u===0)break e;if(_=y-u,r.offset>_){if(_=r.offset-_,_>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Li;break}_>r.wnext?(_-=r.wnext,T=r.wsize-_):T=r.wnext-_,_>r.length&&(_=r.length),S=r.window}else S=i,T=s-r.offset,_=r.length;_>u&&(_=u),u-=_,r.length-=_;do i[s++]=S[T++];while(--_);r.length===0&&(r.mode=Om);break;case Y5:if(u===0)break e;i[s++]=r.length,u--,r.mode=Om;break;case n2:if(r.wrap){for(;p<32;){if(l===0)break e;l--,f|=n[a++]<<p,p+=8}if(y-=u,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Tc(r.check,i,y,s-y):u_(r.check,i,y,s-y)),y=u,r.wrap&4&&(r.flags?f:J5(f))!==r.check){t.msg="incorrect data check",r.mode=Li;break}f=0,p=0}r.mode=K5;case K5:if(r.wrap&&r.flags){for(;p<32;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.wrap&4&&f!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Li;break}f=0,p=0}r.mode=X5;case X5:q=PP;break e;case Li:q=mE;break e;case vE:return gE;case _E:default:return Sl}return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,r.hold=f,r.bits=p,(r.wsize||y!==t.avail_out&&r.mode<Li&&(r.mode<n2||e!==C5))&&SE(t,t.output,t.next_out,y-t.avail_out),v-=t.avail_in,y-=t.avail_out,t.total_in+=v,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Tc(r.check,i,y,t.next_out-y):u_(r.check,i,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===au?128:0)+(r.mode===Pm||r.mode===r2?256:0),(v===0&&y===0||e===C5)&&q===Bh&&(q=RP),q},HP=t=>{if(Wh(t))return Sl;let e=t.state;return e.window&&(e.window=null),t.state=null,Bh},qP=(t,e)=>{if(Wh(t))return Sl;const r=t.state;return(r.wrap&2)===0?Sl:(r.head=e,e.done=!1,Bh)},VP=(t,e)=>{const r=e.length;let n,i,a;return Wh(t)||(n=t.state,n.wrap!==0&&n.mode!==x1)?Sl:n.mode===x1&&(i=1,i=u_(i,e,r,0),i!==n.check)?mE:(a=SE(t,e,r,r),a?(n.mode=vE,gE):(n.havedict=1,Bh))};var $P=xE,WP=wE,ZP=yE,YP=UP,KP=bE,XP=GP,JP=HP,QP=qP,eO=VP,tO="pako inflate (from Nodeca project)",cu={inflateReset:$P,inflateReset2:WP,inflateResetKeep:ZP,inflateInit:YP,inflateInit2:KP,inflate:XP,inflateEnd:JP,inflateGetHeader:QP,inflateSetDictionary:eO,inflateInfo:tO};function rO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nO=rO;const EE=Object.prototype.toString,{Z_NO_FLUSH:iO,Z_FINISH:aO,Z_OK:Q0,Z_STREAM_END:s2,Z_NEED_DICT:o2,Z_STREAM_ERROR:sO,Z_DATA_ERROR:e4,Z_MEM_ERROR:oO}=uE;function _p(t){this.options=hE.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bP,this.strm.avail_out=0;let r=cu.inflateInit2(this.strm,e.windowBits);if(r!==Q0)throw new Error(h_[r]);if(this.header=new nO,cu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=f_.string2buf(e.dictionary):EE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=cu.inflateSetDictionary(this.strm,e.dictionary),r!==Q0)))throw new Error(h_[r])}_p.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?aO:iO,EE.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=cu.inflate(r,s),a===o2&&i&&(a=cu.inflateSetDictionary(r,i),a===Q0?a=cu.inflate(r,s):a===e4&&(a=o2));r.avail_in>0&&a===s2&&r.state.wrap>0&&t[r.next_in]!==0;)cu.inflateReset(r),a=cu.inflate(r,s);switch(a){case sO:case e4:case o2:case oO:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===s2))if(this.options.to==="string"){let u=f_.utf8border(r.output,r.next_out),f=r.next_out-u,p=f_.buf2string(r.output,u);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(u,u+f),0),this.onData(p)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Q0&&l===0)){if(a===s2)return a=cu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};_p.prototype.onData=function(t){this.chunks.push(t)};_p.prototype.onEnd=function(t){t===Q0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=hE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function lO(t,e){const r=new _p(e);if(r.push(t),r.err)throw r.msg||h_[r.err];return r.result}var cO=_p,uO=lO,hO={Inflate:cO,inflate:uO};const{Inflate:fO,inflate:dO}=hO;var t4=fO,pO=dO;const TE=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;TE[t]=e}const r4=4294967295;function mO(t,e,r){let n=t;for(let i=0;i<r;i++)n=TE[(n^e[i])&255]^n>>>8;return n}function gO(t,e){return(mO(r4,t,e)^r4)>>>0}function n4(t,e,r){const n=t.readUint32(),i=gO(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function AE(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function LE(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function NE(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function CE(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function ME(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+vO(e[a-i],r[a],r[a-i])&255}}function vO(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function _O(t,e,r,n,i,a){switch(t){case 0:AE(e,r,i);break;case 1:LE(e,r,i,a);break;case 2:NE(e,r,n,i);break;case 3:CE(e,r,n,i,a);break;case 4:ME(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const yO=new Uint16Array([255]),xO=new Uint8Array(yO.buffer),wO=xO[0]===255;function bO(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,u=new Uint8Array(n*r*l);let f=0;for(let p=0;p<7;p++){const v=s[p],y=Math.ceil((r-v.x)/v.xStep),_=Math.ceil((n-v.y)/v.yStep);if(y<=0||_<=0)continue;const T=y*l,S=new Uint8Array(T);for(let C=0;C<_;C++){const M=e[f++],D=e.subarray(f,f+T);f+=T;const j=new Uint8Array(T);_O(M,D,j,S,T,l),S.set(j);for(let V=0;V<y;V++){const X=v.x+V*v.xStep,ce=v.y+C*v.yStep;if(!(X>=r||ce>=n))for(let I=0;I<l;I++)u[(ce*r+X)*l+I]=j[V*l+I]}}}if(a===16){const p=new Uint16Array(u.buffer);if(wO)for(let v=0;v<p.length;v++)p[v]=SO(p[v]);return p}else return u}function SO(t){return(t&255)<<8|t>>8&255}const EO=new Uint16Array([255]),TO=new Uint8Array(EO.buffer),AO=TO[0]===255,LO=new Uint8Array(0);function i4(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),u=new Uint8Array(n*l);let f=LO,p=0,v,y;for(let _=0;_<n;_++){switch(v=e.subarray(p+1,p+1+l),y=u.subarray(_*l,(_+1)*l),e[p]){case 0:AE(v,y,l);break;case 1:LE(v,y,l,s);break;case 2:NE(v,y,f,l);break;case 3:CE(v,y,f,l,s);break;case 4:ME(v,y,f,l,s);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=y,p+=l+1}if(a===16){const _=new Uint16Array(u.buffer);if(AO)for(let T=0;T<_.length;T++)_[T]=NO(_[T]);return _}else return u}function NO(t){return(t&255)<<8|t>>8&255}const r1=Uint8Array.of(137,80,78,71,13,10,26,10);function a4(t){if(!CO(t.readBytes(r1.length)))throw new Error("wrong PNG signature")}function CO(t){if(t.length<r1.length)return!1;for(let e=0;e<r1.length;e++)if(t[e]!==r1[e])return!1;return!0}const MO="tEXt",kO=0,kE=new TextDecoder("latin1");function PO(t){if(RO(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const OO=/^[\u0000-\u00FF]*$/;function RO(t){if(!OO.test(t))throw new Error("invalid latin1 text")}function DO(t,e,r){const n=PE(e);t[n]=jO(e,r-n.length-1)}function PE(t){for(t.mark();t.readByte()!==kO;);const e=t.offset;t.reset();const r=kE.decode(t.readBytes(e-t.offset-1));return t.skip(1),PO(r),r}function jO(t,e){return kE.decode(t.readBytes(e))}const Wo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},l2={UNKNOWN:-1,DEFLATE:0},s4={UNKNOWN:-1,ADAPTIVE:0},c2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Rm={NONE:0,BACKGROUND:1,PREVIOUS:2},u2={SOURCE:0,OVER:1};class IO extends q_{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new t4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=l2.UNKNOWN,this._filterMethod=s4.UNKNOWN,this._interlaceMethod=c2.UNKNOWN,this._colorType=Wo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(a4(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(a4(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case MO:DO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?n4(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?n4(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=FO(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Wo.GREYSCALE:n=1;break;case Wo.TRUECOLOUR:n=3;break;case Wo.INDEXED_COLOUR:n=1;break;case Wo.GREYSCALE_ALPHA:n=2;break;case Wo.TRUECOLOUR_ALPHA:n=4;break;case Wo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==l2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Wo.GREYSCALE:case Wo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Wo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Wo.UNKNOWN:case Wo.GREYSCALE_ALPHA:case Wo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=PE(this),n=this.readUint8();if(n!==l2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:pO(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=i4({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case Rm.NONE:break;case Rm.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const s=(i*e.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[s+l]=0}break;case Rm.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(a,s)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,u=(a*r.width+s)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case u2.SOURCE:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:u}=i(a,s);for(let f=0;f<this._png.channels;f++)e.data[l+f]=r.data[u+f]}break;case u2.OVER:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:u}=i(a,s);for(let f=0;f<this._png.channels;f++){const p=r.data[u+this._png.channels-1]/n,v=f%(this._png.channels-1)===0?1:r.data[u+f],y=Math.floor(p*v+(1-p)*e.data[l+f]);e.data[l+f]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==s4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===c2.NO_INTERLACE)this._png.data=i4({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===c2.ADAM7)this._png.data=bO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Rm.NONE,blendOp:u2.SOURCE,data:e}),this._inflator=new t4,this._writingDataChunks=!1}}function FO(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var o4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(o4||(o4={}));function BO(t,e){return new IO(t,e).decode()}var Or=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function h2(){Or.console&&typeof Or.console.log=="function"&&Or.console.log.apply(Or.console,arguments)}var ti={log:h2,warn:function(t){Or.console&&(typeof Or.console.warn=="function"?Or.console.warn.apply(Or.console,arguments):h2.call(null,arguments))},error:function(t){Or.console&&(typeof Or.console.error=="function"?Or.console.error.apply(Or.console,arguments):h2(t))}};function f2(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Th(n.response,e,r)},n.onerror=function(){ti.error("could not download file")},n.send()}function l4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Dm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Th=Or.saveAs||((typeof window>"u"?"undefined":zn(window))!=="object"||window!==Or?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Or.URL||Or.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?l4(i.href)?f2(t,e,r):Dm(i,i.target="_blank"):Dm(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Dm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(l4(t))f2(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Dm(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:zn(a)!=="object"&&(ti.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return f2(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Or.HTMLElement)||Or.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":zn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=s?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},l.readAsDataURL(t)}else{var u=Or.URL||Or.webkitURL,f=u.createObjectURL(t);n?n.location=f:location.href=f,n=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});function OE(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+l+u+f}}var n1=Or.atob.bind(Or),c4=Or.btoa.bind(Or);function d2(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Os(r,n,i,a,e[0],7,-680876936),a=Os(a,r,n,i,e[1],12,-389564586),i=Os(i,a,r,n,e[2],17,606105819),n=Os(n,i,a,r,e[3],22,-1044525330),r=Os(r,n,i,a,e[4],7,-176418897),a=Os(a,r,n,i,e[5],12,1200080426),i=Os(i,a,r,n,e[6],17,-1473231341),n=Os(n,i,a,r,e[7],22,-45705983),r=Os(r,n,i,a,e[8],7,1770035416),a=Os(a,r,n,i,e[9],12,-1958414417),i=Os(i,a,r,n,e[10],17,-42063),n=Os(n,i,a,r,e[11],22,-1990404162),r=Os(r,n,i,a,e[12],7,1804603682),a=Os(a,r,n,i,e[13],12,-40341101),i=Os(i,a,r,n,e[14],17,-1502002290),r=Rs(r,n=Os(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Rs(a,r,n,i,e[6],9,-1069501632),i=Rs(i,a,r,n,e[11],14,643717713),n=Rs(n,i,a,r,e[0],20,-373897302),r=Rs(r,n,i,a,e[5],5,-701558691),a=Rs(a,r,n,i,e[10],9,38016083),i=Rs(i,a,r,n,e[15],14,-660478335),n=Rs(n,i,a,r,e[4],20,-405537848),r=Rs(r,n,i,a,e[9],5,568446438),a=Rs(a,r,n,i,e[14],9,-1019803690),i=Rs(i,a,r,n,e[3],14,-187363961),n=Rs(n,i,a,r,e[8],20,1163531501),r=Rs(r,n,i,a,e[13],5,-1444681467),a=Rs(a,r,n,i,e[2],9,-51403784),i=Rs(i,a,r,n,e[7],14,1735328473),r=Ds(r,n=Rs(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ds(a,r,n,i,e[8],11,-2022574463),i=Ds(i,a,r,n,e[11],16,1839030562),n=Ds(n,i,a,r,e[14],23,-35309556),r=Ds(r,n,i,a,e[1],4,-1530992060),a=Ds(a,r,n,i,e[4],11,1272893353),i=Ds(i,a,r,n,e[7],16,-155497632),n=Ds(n,i,a,r,e[10],23,-1094730640),r=Ds(r,n,i,a,e[13],4,681279174),a=Ds(a,r,n,i,e[0],11,-358537222),i=Ds(i,a,r,n,e[3],16,-722521979),n=Ds(n,i,a,r,e[6],23,76029189),r=Ds(r,n,i,a,e[9],4,-640364487),a=Ds(a,r,n,i,e[12],11,-421815835),i=Ds(i,a,r,n,e[15],16,530742520),r=js(r,n=Ds(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=js(a,r,n,i,e[7],10,1126891415),i=js(i,a,r,n,e[14],15,-1416354905),n=js(n,i,a,r,e[5],21,-57434055),r=js(r,n,i,a,e[12],6,1700485571),a=js(a,r,n,i,e[3],10,-1894986606),i=js(i,a,r,n,e[10],15,-1051523),n=js(n,i,a,r,e[1],21,-2054922799),r=js(r,n,i,a,e[8],6,1873313359),a=js(a,r,n,i,e[15],10,-30611744),i=js(i,a,r,n,e[6],15,-1560198380),n=js(n,i,a,r,e[13],21,1309151649),r=js(r,n,i,a,e[4],6,-145523070),a=js(a,r,n,i,e[11],10,-1120210379),i=js(i,a,r,n,e[2],15,718787259),n=js(n,i,a,r,e[9],21,-343485551),t[0]=Ku(r,t[0]),t[1]=Ku(n,t[1]),t[2]=Ku(i,t[2]),t[3]=Ku(a,t[3])}function ag(t,e,r,n,i,a){return e=Ku(Ku(e,t),Ku(n,a)),Ku(e<<i|e>>>32-i,r)}function Os(t,e,r,n,i,a,s){return ag(e&r|~e&n,t,e,i,a,s)}function Rs(t,e,r,n,i,a,s){return ag(e&n|r&~n,t,e,i,a,s)}function Ds(t,e,r,n,i,a,s){return ag(e^r^n,t,e,i,a,s)}function js(t,e,r,n,i,a,s){return ag(r^(e|~n),t,e,i,a,s)}function RE(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)d2(n,UO(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(d2(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,d2(n,i),n}function UO(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var u4="0123456789abcdef".split("");function zO(t){for(var e="",r=0;r<4;r++)e+=u4[t>>8*r+4&15]+u4[t>>8*r&15];return e}function GO(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function d_(t){return RE(t).map(GO).join("")}var HO=(function(t){for(var e=0;e<t.length;e++)t[e]=zO(t[e]);return t.join("")})(RE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ku(t,e){if(HO){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}function p_(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var f=0;for(u=0;u<256;u++){var p=l[u];f=(f+p+s.charCodeAt(u))%256,l[u]=l[f],l[f]=p}r=t,n=l}else l=n;var v=e.length,y=0,_=0,T="";for(u=0;u<v;u++)_=(_+(p=l[y=(y+1)%256]))%256,l[y]=l[_],l[_]=p,s=l[(l[y]+l[_])%256],T+=String.fromCharCode(e.charCodeAt(u)^s);return T}var h4={print:4,modify:8,copy:16,"annot-forms":32};function Wf(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(h4.perm!==void 0)throw new Error("Invalid permission: "+l);i+=h4[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=d_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=p_(this.encryptionKey,this.padding)}function Zf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function f4(t){if(zn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(l){Or.console&&ti.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function w1(t){if(!(this instanceof w1))return new w1(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function DE(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Mh(t,e,r,n,i){if(!(this instanceof Mh))return new Mh(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,DE.call(this,n,i)}function Qf(t,e,r,n,i){if(!(this instanceof Qf))return new Qf(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,DE.call(this,n,i)}function fr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,u=16,f="S",p=null;zn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),f=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,y={},_={internal:{},__private__:{}};_.__private__.PubSub=f4;var T="1.3",S=_.__private__.getPdfVersion=function(){return T};_.__private__.setPdfVersion=function(P){T=P};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return C};var M=_.__private__.getPageFormat=function(P){return C[P]};i=i||"a4";var D="compat",j="advanced",V=D;function X(){this.saveGraphicsState(),we(new Qt(_r,0,0,-_r,0,Ro()*_r).toString()+" cm"),this.setFontSize(this.getFontSize()/_r),f="n",V=j}function ce(){this.restoreGraphicsState(),f="S",V=D}var I=_.__private__.combineFontStyleAndFontWeight=function(P,Q){if(P=="bold"&&Q=="normal"||P=="bold"&&Q==400||P=="normal"&&Q=="italic"||P=="bold"&&Q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Q&&(P=Q==400||Q==="normal"?P==="italic"?"italic":"normal":Q!=700&&Q!=="bold"||P!=="normal"?(Q==700?"bold":Q)+""+P:"bold"),P};_.advancedAPI=function(P){var Q=V===D;return Q&&X.call(this),typeof P!="function"||(P(this),Q&&ce.call(this)),this},_.compatAPI=function(P){var Q=V===j;return Q&&ce.call(this),typeof P!="function"||(P(this),Q&&X.call(this)),this},_.isAdvancedAPI=function(){return V===j};var q,F=function(P){if(V!==j)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},J=_.roundToPrecision=_.__private__.roundToPrecision=function(P,Q){var Se=e||Q;if(isNaN(P)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(Se).replace(/0+$/,"")};q=_.hpf=_.__private__.hpf=typeof u=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return J(P,u)}:u==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return J(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return J(P,16)};var B=_.f2=_.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return J(P,2)},Z=_.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return J(P,3)},ue=_.scale=_.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return V===D?P*_r:V===j?P:void 0},de=function(P){return ue((function(Q){return V===D?Ro()-Q:V===j?Q:void 0})(P))};_.__private__.setPrecision=_.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var xe,oe="00000000000000000000000000000000",be=_.__private__.getFileId=function(){return oe},_e=_.__private__.setFileId=function(P){return oe=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(ni=new Wf(p.userPermissions,p.userPassword,p.ownerPassword,oe)),oe};_.setFileId=function(P){return _e(P),this},_.getFileId=function(){return be()};var Le=_.__private__.convertDateToPDFDate=function(P){var Q=P.getTimezoneOffset(),Se=Q<0?"+":"-",De=Math.floor(Math.abs(Q/60)),Ve=Math.abs(Q%60),at=[Se,H(De),"'",H(Ve),"'"].join("");return["D:",P.getFullYear(),H(P.getMonth()+1),H(P.getDate()),H(P.getHours()),H(P.getMinutes()),H(P.getSeconds()),at].join("")},Ne=_.__private__.convertPDFDateToDate=function(P){var Q=parseInt(P.substr(2,4),10),Se=parseInt(P.substr(6,2),10)-1,De=parseInt(P.substr(8,2),10),Ve=parseInt(P.substr(10,2),10),at=parseInt(P.substr(12,2),10),St=parseInt(P.substr(14,2),10);return new Date(Q,Se,De,Ve,at,St,0)},ee=_.__private__.setCreationDate=function(P){var Q;if(P===void 0&&(P=new Date),P instanceof Date)Q=Le(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Q=P}return xe=Q},O=_.__private__.getCreationDate=function(P){var Q=xe;return P==="jsDate"&&(Q=Ne(xe)),Q};_.setCreationDate=function(P){return ee(P),this},_.getCreationDate=function(P){return O(P)};var G,H=_.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},Y=_.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},se=0,Ae=[],Oe=[],Re=0,Ie=[],ot=[],it=!1,Tt=Oe;_.__private__.setCustomOutputDestination=function(P){it=!0,Tt=P};var Nt=function(P){it||(Tt=P)};_.__private__.resetCustomOutputDestination=function(){it=!1,Tt=Oe};var we=_.__private__.out=function(P){return P=P.toString(),Re+=P.length+1,Tt.push(P),Tt},yt=_.__private__.write=function(P){return we(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},xt=_.__private__.getArrayBuffer=function(P){for(var Q=P.length,Se=new ArrayBuffer(Q),De=new Uint8Array(Se);Q--;)De[Q]=P.charCodeAt(Q);return Se},zt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return zt};var dt=t.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(P){return dt=V===j?P/_r:P,this};var Vt,jt=_.__private__.getFontSize=_.getFontSize=function(){return V===D?dt:dt*_r},sr=t.R2L||!1;_.__private__.setR2L=_.setR2L=function(P){return sr=P,this},_.__private__.getR2L=_.getR2L=function(){return sr};var Xt,Jt=_.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))Vt=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');Vt=P}else Vt=parseInt(P,10)};_.__private__.getZoomMode=function(){return Vt};var Er,dr=_.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Xt=P};_.__private__.getPageMode=function(){return Xt};var Nr=_.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');Er=P};_.__private__.getLayoutMode=function(){return Er},_.__private__.setDisplayMode=_.setDisplayMode=function(P,Q,Se){return Jt(P),Nr(Q),dr(Se),this};var or={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(P){if(Object.keys(or).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return or[P]},_.__private__.getDocumentProperties=function(){return or},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(P){for(var Q in or)or.hasOwnProperty(Q)&&P[Q]&&(or[Q]=P[Q]);return this},_.__private__.setDocumentProperty=function(P,Q){if(Object.keys(or).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return or[P]=Q};var Ft,_r,Wt,yn,Mr,Gt={},pr={},Dr=[],Yt={},ln={},cr={},ur={},en=null,xr=0,Zt=[],Gr=new f4(_),Ea=t.hotfixes||[],ci={},Qi={},Ci=[],Qt=function P(Q,Se,De,Ve,at,St){if(!(this instanceof P))return new P(Q,Se,De,Ve,at,St);isNaN(Q)&&(Q=1),isNaN(Se)&&(Se=0),isNaN(De)&&(De=0),isNaN(Ve)&&(Ve=1),isNaN(at)&&(at=0),isNaN(St)&&(St=0),this._matrix=[Q,Se,De,Ve,at,St]};Object.defineProperty(Qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(P)},Qt.prototype.multiply=function(P){var Q=P.sx*this.sx+P.shy*this.shx,Se=P.sx*this.shy+P.shy*this.sy,De=P.shx*this.sx+P.sy*this.shx,Ve=P.shx*this.shy+P.sy*this.sy,at=P.tx*this.sx+P.ty*this.shx+this.tx,St=P.tx*this.shy+P.ty*this.sy+this.ty;return new Qt(Q,Se,De,Ve,at,St)},Qt.prototype.decompose=function(){var P=this.sx,Q=this.shy,Se=this.shx,De=this.sy,Ve=this.tx,at=this.ty,St=Math.sqrt(P*P+Q*Q),$t=(P/=St)*Se+(Q/=St)*De;Se-=P*$t,De-=Q*$t;var er=Math.sqrt(Se*Se+De*De);return $t/=er,P*(De/=er)<Q*(Se/=er)&&(P=-P,Q=-Q,$t=-$t,St=-St),{scale:new Qt(St,0,0,er,0,0),translate:new Qt(1,0,0,1,Ve,at),rotate:new Qt(P,Q,-Q,P,0,0),skew:new Qt(1,0,$t,1,0,0)}},Qt.prototype.toString=function(P){return this.join(" ")},Qt.prototype.inversed=function(){var P=this.sx,Q=this.shy,Se=this.shx,De=this.sy,Ve=this.tx,at=this.ty,St=1/(P*De-Q*Se),$t=De*St,er=-Q*St,br=-Se*St,kr=P*St;return new Qt($t,er,br,kr,-$t*Ve-br*at,-er*Ve-kr*at)},Qt.prototype.applyToPoint=function(P){var Q=P.x*this.sx+P.y*this.shx+this.tx,Se=P.x*this.shy+P.y*this.sy+this.ty;return new Ss(Q,Se)},Qt.prototype.applyToRectangle=function(P){var Q=this.applyToPoint(P),Se=this.applyToPoint(new Ss(P.x+P.w,P.y+P.h));return new io(Q.x,Q.y,Se.x-Q.x,Se.y-Q.y)},Qt.prototype.clone=function(){var P=this.sx,Q=this.shy,Se=this.shx,De=this.sy,Ve=this.tx,at=this.ty;return new Qt(P,Q,Se,De,Ve,at)},_.Matrix=Qt;var Ja=_.matrixMult=function(P,Q){return Q.multiply(P)},Ua=new Qt(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Ua;var Ce=function(P,Q){if(!ln[P]){var Se=(Q instanceof Mh?"Sh":"P")+(Object.keys(Yt).length+1).toString(10);Q.id=Se,ln[P]=Se,Yt[Se]=Q,Gr.publish("addPattern",Q)}};_.ShadingPattern=Mh,_.TilingPattern=Qf,_.addShadingPattern=function(P,Q){return F("addShadingPattern()"),Ce(P,Q),this},_.beginTilingPattern=function(P){F("beginTilingPattern()"),Ml(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},_.endTilingPattern=function(P,Q){F("endTilingPattern()"),Q.stream=ot[G].join(`
`),Ce(P,Q),Gr.publish("endTilingPattern",Q),Ci.pop().restore()};var Ge,qe=_.__private__.newObject=function(){var P=Ye();return K(P,!0),P},Ye=_.__private__.newObjectDeferred=function(){return se++,Ae[se]=function(){return Re},se},K=function(P,Q){return Q=typeof Q=="boolean"&&Q,Ae[P]=Re,Q&&we(P+" 0 obj"),P},pe=_.__private__.newAdditionalObject=function(){var P={objId:Ye(),content:""};return Ie.push(P),P},re=Ye(),ne=Ye(),he=_.__private__.decodeColorString=function(P){var Q=P.split(" ");if(Q.length!==2||Q[1]!=="g"&&Q[1]!=="G")Q.length!==5||Q[4]!=="k"&&Q[4]!=="K"||(Q=[(1-Q[0])*(1-Q[3]),(1-Q[1])*(1-Q[3]),(1-Q[2])*(1-Q[3]),"r"]);else{var Se=parseFloat(Q[0]);Q=[Se,Se,Se,"r"]}for(var De="#",Ve=0;Ve<3;Ve++)De+=("0"+Math.floor(255*parseFloat(Q[Ve])).toString(16)).slice(-2);return De},ge=_.__private__.encodeColorString=function(P){var Q;typeof P=="string"&&(P={ch1:P});var Se=P.ch1,De=P.ch2,Ve=P.ch3,at=P.ch4,St=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var $t=new OE(Se);if($t.ok)Se=$t.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var er=parseInt(Se.substr(1),16);Se=er>>16&255,De=er>>8&255,Ve=255&er}if(De===void 0||at===void 0&&Se===De&&De===Ve)Q=typeof Se=="string"?Se+" "+St[0]:P.precision===2?B(Se/255)+" "+St[0]:Z(Se/255)+" "+St[0];else if(at===void 0||zn(at)==="object"){if(at&&!isNaN(at.a)&&at.a===0)return["1.","1.","1.",St[1]].join(" ");Q=typeof Se=="string"?[Se,De,Ve,St[1]].join(" "):P.precision===2?[B(Se/255),B(De/255),B(Ve/255),St[1]].join(" "):[Z(Se/255),Z(De/255),Z(Ve/255),St[1]].join(" ")}else Q=typeof Se=="string"?[Se,De,Ve,at,St[2]].join(" "):P.precision===2?[B(Se),B(De),B(Ve),B(at),St[2]].join(" "):[Z(Se),Z(De),Z(Ve),Z(at),St[2]].join(" ");return Q},Pe=_.__private__.getFilters=function(){return s},ze=_.__private__.putStream=function(P){var Q=(P=P||{}).data||"",Se=P.filters||Pe(),De=P.alreadyAppliedFilters||[],Ve=P.addLength1||!1,at=Q.length,St=P.objectId,$t=function(Ri){return Ri};if(p!==null&&St===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&($t=ni.encryptor(St,0));var er={};Se===!0&&(Se=["FlateEncode"]);var br=P.additionalKeyValues||[],kr=(er=fr.API.processDataByFilters!==void 0?fr.API.processDataByFilters(Q,Se):{data:Q,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(er.data.length!==0&&(br.push({key:"Length",value:er.data.length}),Ve===!0&&br.push({key:"Length1",value:at})),kr.length!=0)if(kr.split("/").length-1==1)br.push({key:"Filter",value:kr});else{br.push({key:"Filter",value:"["+kr+"]"});for(var Xr=0;Xr<br.length;Xr+=1)if(br[Xr].key==="DecodeParms"){for(var Jn=[],ui=0;ui<er.reverseChain.split("/").length-1;ui+=1)Jn.push("null");Jn.push(br[Xr].value),br[Xr].value="["+Jn.join(" ")+"]"}}we("<<");for(var xn=0;xn<br.length;xn++)we("/"+br[xn].key+" "+br[xn].value);we(">>"),er.data.length!==0&&(we("stream"),we($t(er.data)),we("endstream"))},Be=_.__private__.putPage=function(P){var Q=P.number,Se=P.data,De=P.objId,Ve=P.contentsObjId;K(De,!0),we("<</Type /Page"),we("/Parent "+P.rootDictionaryObjId+" 0 R"),we("/Resources "+P.resourceDictionaryObjId+" 0 R"),we("/MediaBox ["+parseFloat(q(P.mediaBox.bottomLeftX))+" "+parseFloat(q(P.mediaBox.bottomLeftY))+" "+q(P.mediaBox.topRightX)+" "+q(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&we("/CropBox ["+q(P.cropBox.bottomLeftX)+" "+q(P.cropBox.bottomLeftY)+" "+q(P.cropBox.topRightX)+" "+q(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&we("/BleedBox ["+q(P.bleedBox.bottomLeftX)+" "+q(P.bleedBox.bottomLeftY)+" "+q(P.bleedBox.topRightX)+" "+q(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&we("/TrimBox ["+q(P.trimBox.bottomLeftX)+" "+q(P.trimBox.bottomLeftY)+" "+q(P.trimBox.topRightX)+" "+q(P.trimBox.topRightY)+"]"),P.artBox!==null&&we("/ArtBox ["+q(P.artBox.bottomLeftX)+" "+q(P.artBox.bottomLeftY)+" "+q(P.artBox.topRightX)+" "+q(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&we("/UserUnit "+P.userUnit),Gr.publish("putPage",{objId:De,pageContext:Zt[Q],pageNumber:Q,page:Se}),we("/Contents "+Ve+" 0 R"),we(">>"),we("endobj");var at=Se.join(`
`);return V===j&&(at+=`
Q`),K(Ve,!0),ze({data:at,filters:Pe(),objectId:Ve}),we("endobj"),De},Ue=_.__private__.putPages=function(){var P,Q,Se=[];for(P=1;P<=xr;P++)Zt[P].objId=Ye(),Zt[P].contentsObjId=Ye();for(P=1;P<=xr;P++)Se.push(Be({number:P,data:ot[P],objId:Zt[P].objId,contentsObjId:Zt[P].contentsObjId,mediaBox:Zt[P].mediaBox,cropBox:Zt[P].cropBox,bleedBox:Zt[P].bleedBox,trimBox:Zt[P].trimBox,artBox:Zt[P].artBox,userUnit:Zt[P].userUnit,rootDictionaryObjId:re,resourceDictionaryObjId:ne}));K(re,!0),we("<</Type /Pages");var De="/Kids [";for(Q=0;Q<xr;Q++)De+=Se[Q]+" 0 R ";we(De+"]"),we("/Count "+xr),we(">>"),we("endobj"),Gr.publish("postPutPages")},$e=function(P){Gr.publish("putFont",{font:P,out:we,newObject:qe,putStream:ze}),P.isAlreadyPutted!==!0&&(P.objectNumber=qe(),we("<<"),we("/Type /Font"),we("/BaseFont /"+Zf(P.postScriptName)),we("/Subtype /Type1"),typeof P.encoding=="string"&&we("/Encoding /"+P.encoding),we("/FirstChar 32"),we("/LastChar 255"),we(">>"),we("endobj"))},ht=function(P){P.objectNumber=qe();var Q=[];Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Form"}),Q.push({key:"BBox",value:"["+[q(P.x),q(P.y),q(P.x+P.width),q(P.y+P.height)].join(" ")+"]"}),Q.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var Se=P.pages[1].join(`
`);ze({data:Se,additionalKeyValues:Q,objectId:P.objectNumber}),we("endobj")},bt=function(P,Q){Q||(Q=21);var Se=qe(),De=(function(St,$t){var er,br=[],kr=1/($t-1);for(er=0;er<1;er+=kr)br.push(er);if(br.push(1),St[0].offset!=0){var Xr={offset:0,color:St[0].color};St.unshift(Xr)}if(St[St.length-1].offset!=1){var Jn={offset:1,color:St[St.length-1].color};St.push(Jn)}for(var ui="",xn=0,Ri=0;Ri<br.length;Ri++){for(er=br[Ri];er>St[xn+1].offset;)xn++;var hi=St[xn].offset,Fi=(er-hi)/(St[xn+1].offset-hi),Es=St[xn].color,ra=St[xn+1].color;ui+=Y(Math.round((1-Fi)*Es[0]+Fi*ra[0]).toString(16))+Y(Math.round((1-Fi)*Es[1]+Fi*ra[1]).toString(16))+Y(Math.round((1-Fi)*Es[2]+Fi*ra[2]).toString(16))}return ui.trim()})(P.colors,Q),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+Q+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze({data:De,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),we("endobj"),P.objectNumber=qe(),we("<< /ShadingType "+P.type),we("/ColorSpace /DeviceRGB");var at="/Coords ["+q(parseFloat(P.coords[0]))+" "+q(parseFloat(P.coords[1]))+" ";P.type===2?at+=q(parseFloat(P.coords[2]))+" "+q(parseFloat(P.coords[3])):at+=q(parseFloat(P.coords[2]))+" "+q(parseFloat(P.coords[3]))+" "+q(parseFloat(P.coords[4]))+" "+q(parseFloat(P.coords[5])),we(at+="]"),P.matrix&&we("/Matrix ["+P.matrix.toString()+"]"),we("/Function "+Se+" 0 R"),we("/Extend [true true]"),we(">>"),we("endobj")},wt=function(P,Q){var Se=Ye(),De=qe();Q.push({resourcesOid:Se,objectOid:De}),P.objectNumber=De;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+P.boundingBox.map(q).join(" ")+"]"}),Ve.push({key:"XStep",value:q(P.xStep)}),Ve.push({key:"YStep",value:q(P.yStep)}),Ve.push({key:"Resources",value:Se+" 0 R"}),P.matrix&&Ve.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),ze({data:P.stream,additionalKeyValues:Ve,objectId:P.objectNumber}),we("endobj")},gt=function(P){for(var Q in P.objectNumber=qe(),we("<<"),P)switch(Q){case"opacity":we("/ca "+B(P[Q]));break;case"stroke-opacity":we("/CA "+B(P[Q]))}we(">>"),we("endobj")},Mt=function(P){K(P.resourcesOid,!0),we("<<"),we("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Q in we("/Font <<"),Gt)Gt.hasOwnProperty(Q)&&(v===!1||v===!0&&y.hasOwnProperty(Q))&&we("/"+Q+" "+Gt[Q].objectNumber+" 0 R");we(">>")})(),(function(){if(Object.keys(Yt).length>0){for(var Q in we("/Shading <<"),Yt)Yt.hasOwnProperty(Q)&&Yt[Q]instanceof Mh&&Yt[Q].objectNumber>=0&&we("/"+Q+" "+Yt[Q].objectNumber+" 0 R");Gr.publish("putShadingPatternDict"),we(">>")}})(),(function(Q){if(Object.keys(Yt).length>0){for(var Se in we("/Pattern <<"),Yt)Yt.hasOwnProperty(Se)&&Yt[Se]instanceof _.TilingPattern&&Yt[Se].objectNumber>=0&&Yt[Se].objectNumber<Q&&we("/"+Se+" "+Yt[Se].objectNumber+" 0 R");Gr.publish("putTilingPatternDict"),we(">>")}})(P.objectOid),(function(){if(Object.keys(cr).length>0){var Q;for(Q in we("/ExtGState <<"),cr)cr.hasOwnProperty(Q)&&cr[Q].objectNumber>=0&&we("/"+Q+" "+cr[Q].objectNumber+" 0 R");Gr.publish("putGStateDict"),we(">>")}})(),(function(){for(var Q in we("/XObject <<"),ci)ci.hasOwnProperty(Q)&&ci[Q].objectNumber>=0&&we("/"+Q+" "+ci[Q].objectNumber+" 0 R");Gr.publish("putXobjectDict"),we(">>")})(),we(">>"),we("endobj")},Bt=function(P){pr[P.fontName]=pr[P.fontName]||{},pr[P.fontName][P.fontStyle]=P.id},Hr=function(P,Q,Se,De,Ve){var at={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:P,fontName:Q,fontStyle:Se,encoding:De,isStandardFont:Ve||!1,metadata:{}};return Gr.publish("addFont",{font:at,instance:this}),Gt[at.id]=at,Bt(at),at.id},wr=_.__private__.pdfEscape=_.pdfEscape=function(P,Q){return(function(Se,De){var Ve,at,St,$t,er,br,kr,Xr,Jn;if(St=(De=De||{}).sourceEncoding||"Unicode",er=De.outputEncoding,(De.autoencode||er)&&Gt[Ft].metadata&&Gt[Ft].metadata[St]&&Gt[Ft].metadata[St].encoding&&($t=Gt[Ft].metadata[St].encoding,!er&&Gt[Ft].encoding&&(er=Gt[Ft].encoding),!er&&$t.codePages&&(er=$t.codePages[0]),typeof er=="string"&&(er=$t[er]),er)){for(kr=!1,br=[],Ve=0,at=Se.length;Ve<at;Ve++)(Xr=er[Se.charCodeAt(Ve)])?br.push(String.fromCharCode(Xr)):br.push(Se[Ve]),br[Ve].charCodeAt(0)>>8&&(kr=!0);Se=br.join("")}for(Ve=Se.length;kr===void 0&&Ve!==0;)Se.charCodeAt(Ve-1)>>8&&(kr=!0),Ve--;if(!kr)return Se;for(br=De.noBOM?[]:[254,255],Ve=0,at=Se.length;Ve<at;Ve++){if((Jn=(Xr=Se.charCodeAt(Ve))>>8)>>8)throw new Error("Character at position "+Ve+" of string '"+Se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");br.push(Jn),br.push(Xr-(Jn<<8))}return String.fromCharCode.apply(void 0,br)})(P,Q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nn=_.__private__.beginPage=function(P){ot[++xr]=[],Zt[xr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},ea(xr),Nt(ot[G])},Kn=function(P,Q){var Se,De,Ve;switch(r=Q||r,typeof P=="string"&&(Se=M(P.toLowerCase()),Array.isArray(Se)&&(De=Se[0],Ve=Se[1])),Array.isArray(P)&&(De=P[0]*_r,Ve=P[1]*_r),isNaN(De)&&(De=i[0],Ve=i[1]),(De>14400||Ve>14400)&&(ti.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),Ve=Math.min(14400,Ve)),i=[De,Ve],r.substr(0,1)){case"l":Ve>De&&(i=[Ve,De]);break;case"p":De>Ve&&(i=[Ve,De])}nn(i),Ct(Po),we(Ca),ac!==0&&we(ac+" J"),Pi!==0&&we(Pi+" j"),Gr.publish("addPage",{pageNumber:xr})},Xn=function(P){P>0&&P<=xr&&(ot.splice(P,1),Zt.splice(P,1),xr--,G>xr&&(G=xr),this.setPage(G))},ea=function(P){P>0&&P<=xr&&(G=P)},Mi=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return ot.length-1},Ar=function(P,Q,Se){var De,Ve=void 0;return Se=Se||{},P=P!==void 0?P:Gt[Ft].fontName,Q=Q!==void 0?Q:Gt[Ft].fontStyle,De=P.toLowerCase(),pr[De]!==void 0&&pr[De][Q]!==void 0?Ve=pr[De][Q]:pr[P]!==void 0&&pr[P][Q]!==void 0?Ve=pr[P][Q]:Se.disableWarning===!1&&ti.warn("Unable to look up font label for font '"+P+"', '"+Q+"'. Refer to getFontList() for available fonts."),Ve||Se.noFallback||(Ve=pr.times[Q])==null&&(Ve=pr.times.normal),Ve},Ut=_.__private__.putInfo=function(){var P=qe(),Q=function(De){return De};for(var Se in p!==null&&(Q=ni.encryptor(P,0)),we("<<"),we("/Producer ("+wr(Q("jsPDF "+fr.version))+")"),or)or.hasOwnProperty(Se)&&or[Se]&&we("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+wr(Q(or[Se]))+")");we("/CreationDate ("+wr(Q(xe))+")"),we(">>"),we("endobj")},qr=_.__private__.putCatalog=function(P){var Q=(P=P||{}).rootDictionaryObjId||re;switch(qe(),we("<<"),we("/Type /Catalog"),we("/Pages "+Q+" 0 R"),Vt||(Vt="fullwidth"),Vt){case"fullwidth":we("/OpenAction [3 0 R /FitH null]");break;case"fullheight":we("/OpenAction [3 0 R /FitV null]");break;case"fullpage":we("/OpenAction [3 0 R /Fit]");break;case"original":we("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+Vt;Se.substr(Se.length-1)==="%"&&(Vt=parseInt(Vt)/100),typeof Vt=="number"&&we("/OpenAction [3 0 R /XYZ null null "+B(Vt)+"]")}switch(Er||(Er="continuous"),Er){case"continuous":we("/PageLayout /OneColumn");break;case"single":we("/PageLayout /SinglePage");break;case"two":case"twoleft":we("/PageLayout /TwoColumnLeft");break;case"tworight":we("/PageLayout /TwoColumnRight")}Xt&&we("/PageMode /"+Xt),Gr.publish("putCatalog"),we(">>"),we("endobj")},ri=_.__private__.putTrailer=function(){we("trailer"),we("<<"),we("/Size "+(se+1)),we("/Root "+se+" 0 R"),we("/Info "+(se-1)+" 0 R"),p!==null&&we("/Encrypt "+ni.oid+" 0 R"),we("/ID [ <"+oe+"> <"+oe+"> ]"),we(">>")},ar=_.__private__.putHeader=function(){we("%PDF-"+T),we("%")},Ta=_.__private__.putXRef=function(){var P="0000000000";we("xref"),we("0 "+(se+1)),we("0000000000 65535 f ");for(var Q=1;Q<=se;Q++)typeof Ae[Q]=="function"?we((P+Ae[Q]()).slice(-10)+" 00000 n "):Ae[Q]!==void 0?we((P+Ae[Q]).slice(-10)+" 00000 n "):we("0000000000 00000 n ")},Aa=_.__private__.buildDocument=function(){var P;se=0,Re=0,Oe=[],Ae=[],Ie=[],re=Ye(),ne=Ye(),Nt(Oe),Gr.publish("buildDocument"),ar(),Ue(),(function(){Gr.publish("putAdditionalObjects");for(var Se=0;Se<Ie.length;Se++){var De=Ie[Se];K(De.objId,!0),we(De.content),we("endobj")}Gr.publish("postPutAdditionalObjects")})(),P=[],(function(){for(var Se in Gt)Gt.hasOwnProperty(Se)&&(v===!1||v===!0&&y.hasOwnProperty(Se))&&$e(Gt[Se])})(),(function(){var Se;for(Se in cr)cr.hasOwnProperty(Se)&&gt(cr[Se])})(),(function(){for(var Se in ci)ci.hasOwnProperty(Se)&&ht(ci[Se])})(),(function(Se){var De;for(De in Yt)Yt.hasOwnProperty(De)&&(Yt[De]instanceof Mh?bt(Yt[De]):Yt[De]instanceof Qf&&wt(Yt[De],Se))})(P),Gr.publish("putResources"),P.forEach(Mt),Mt({resourcesOid:ne,objectOid:Number.MAX_SAFE_INTEGER}),Gr.publish("postPutResources"),p!==null&&(ni.oid=qe(),we("<<"),we("/Filter /Standard"),we("/V "+ni.v),we("/R "+ni.r),we("/U <"+ni.toHexString(ni.U)+">"),we("/O <"+ni.toHexString(ni.O)+">"),we("/P "+ni.P),we(">>"),we("endobj")),Ut(),qr();var Q=Re;return Ta(),ri(),we("startxref"),we(""+Q),we("%%EOF"),Nt(ot[G]),Oe.join(`
`)},yr=_.__private__.getBlob=function(P){return new Blob([xt(P)],{type:"application/pdf"})},Rn=_.output=_.__private__.output=(Ge=function(P,Q){switch(typeof(Q=Q||{})=="string"?Q={filename:Q}:Q.filename=Q.filename||"generated.pdf",P){case void 0:return Aa();case"save":_.save(Q.filename);break;case"arraybuffer":return xt(Aa());case"blob":return yr(Aa());case"bloburi":case"bloburl":if(Or.URL!==void 0&&typeof Or.URL.createObjectURL=="function")return Or.URL&&Or.URL.createObjectURL(yr(Aa()))||void 0;ti.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",De=Aa();try{Se=c4(De)}catch{Se=c4(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+Q.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",at=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Q.pdfObjectUrl&&(Ve=Q.pdfObjectUrl,at="");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+at+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Q)+");<\/script></body></html>",$t=Or.open();return $t!==null&&$t.document.write(St),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Q.filename+'" width="500px" height="400px" /></body></html>',br=Or.open();if(br!==null){br.document.write(er);var kr=this;br.document.documentElement.querySelector("#pdfViewer").onload=function(){br.document.title=Q.filename,br.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kr.output("bloburl"))}}return br}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Or)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Q)+'"></iframe></body></html>',Jn=Or.open();if(Jn!==null&&(Jn.document.write(Xr),Jn.document.title=Q.filename),Jn||typeof safari>"u")return Jn;break;case"datauri":case"dataurl":return Or.document.location.href=this.output("datauristring",Q);default:return null}},Ge.foo=function(){try{return Ge.apply(this,arguments)}catch(Se){var P=Se.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var Q="Error in function "+P.split(`
`)[0].split("<")[0]+": "+Se.message;if(!Or.console)throw new Error(Q);Or.console.error(Q,Se),Or.alert&&alert(Q)}},Ge.foo.bar=Ge,Ge.foo),ta=function(P){return Array.isArray(Ea)===!0&&Ea.indexOf(P)>-1};switch(n){case"pt":_r=1;break;case"mm":_r=72/25.4;break;case"cm":_r=72/2.54;break;case"in":_r=72;break;case"px":_r=ta("px_scaling")==1?.75:96/72;break;case"pc":case"em":_r=12;break;case"ex":_r=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);_r=n}var ni=null;ee(),_e();var cn=_.__private__.getPageInfo=_.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Zt[P].objId,pageNumber:P,pageContext:Zt[P]}},rc=_.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Q in Zt)if(Zt[Q].objId===P)break;return cn(Q)},Al=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Zt[G].objId,pageNumber:G,pageContext:Zt[G]}};_.addPage=function(){return Kn.apply(this,arguments),this},_.setPage=function(){return ea.apply(this,arguments),Nt.call(this,ot[G]),this},_.insertPage=function(P){return this.addPage(),this.movePage(G,P),this},_.movePage=function(P,Q){var Se,De;if(P>Q){Se=ot[P],De=Zt[P];for(var Ve=P;Ve>Q;Ve--)ot[Ve]=ot[Ve-1],Zt[Ve]=Zt[Ve-1];ot[Q]=Se,Zt[Q]=De,this.setPage(Q)}else if(P<Q){Se=ot[P],De=Zt[P];for(var at=P;at<Q;at++)ot[at]=ot[at+1],Zt[at]=Zt[at+1];ot[Q]=Se,Zt[Q]=De,this.setPage(Q)}return this},_.deletePage=function(){return Xn.apply(this,arguments),this},_.__private__.text=_.text=function(P,Q,Se,De,Ve){var at,St,$t,er,br,kr,Xr,Jn,ui,xn=(De=De||{}).scope||this;if(typeof P=="number"&&typeof Q=="number"&&(typeof Se=="string"||Array.isArray(Se))){var Ri=Se;Se=Q,Q=P,P=Ri}if(arguments[3]instanceof Qt==0?($t=arguments[4],er=arguments[5],zn(Xr=arguments[3])==="object"&&Xr!==null||(typeof $t=="string"&&(er=$t,$t=null),typeof Xr=="string"&&(er=Xr,Xr=null),typeof Xr=="number"&&($t=Xr,Xr=null),De={flags:Xr,angle:$t,align:er})):(F("The transform parameter of text() with a Matrix value"),ui=Ve),isNaN(Q)||isNaN(Se)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return xn;var hi,Fi="",Es=typeof De.lineHeightFactor=="number"?De.lineHeightFactor:ro,ra=xn.internal.scaleFactor;function Do(un){return un=un.split("	").join(Array(De.TabLen||9).join(" ")),wr(un,Xr)}function jo(un){for(var Jr,Mn=un.concat(),ai=[],ho=Mn.length;ho--;)typeof(Jr=Mn.shift())=="string"?ai.push(Jr):Array.isArray(un)&&(Jr.length===1||Jr[1]===void 0&&Jr[2]===void 0)?ai.push(Jr[0]):ai.push([Jr[0],Jr[1],Jr[2]]);return ai}function na(un,Jr){var Mn;if(typeof un=="string")Mn=Jr(un)[0];else if(Array.isArray(un)){for(var ai,ho,bi=un.concat(),fo=[],zc=bi.length;zc--;)typeof(ai=bi.shift())=="string"?fo.push(Jr(ai)[0]):Array.isArray(ai)&&typeof ai[0]=="string"&&(ho=Jr(ai[0],ai[1],ai[2]),fo.push([ho[0],ho[1],ho[2]]));Mn=fo}return Mn}var $s=!1,Ts=!0;if(typeof P=="string")$s=!0;else if(Array.isArray(P)){var kl=P.concat();St=[];for(var Ws,xi=kl.length;xi--;)(typeof(Ws=kl.shift())!="string"||Array.isArray(Ws)&&typeof Ws[0]!="string")&&(Ts=!1);$s=Ts}if($s===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var ll=dt/xn.internal.scaleFactor,cl=ll*(Es-1);switch(De.baseline){case"bottom":Se-=cl;break;case"top":Se+=ll-cl;break;case"hanging":Se+=ll-2*cl;break;case"middle":Se+=ll/2-cl}if((kr=De.maxWidth||0)>0&&(typeof P=="string"?P=xn.splitTextToSize(P,kr):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(un,Jr){return un.concat(xn.splitTextToSize(Jr,kr))},[]))),at={text:P,x:Q,y:Se,options:De,mutex:{pdfEscape:wr,activeFontKey:Ft,fonts:Gt,activeFontSize:dt}},Gr.publish("preProcessText",at),P=at.text,$t=(De=at.options).angle,ui instanceof Qt==0&&$t&&typeof $t=="number"){$t*=Math.PI/180,De.rotationDirection===0&&($t=-$t),V===j&&($t=-$t);var Pl=Math.cos($t),ao=Math.sin($t);ui=new Qt(Pl,ao,-ao,Pl,0,0)}else $t&&$t instanceof Qt&&(ui=$t);V!==j||ui||(ui=Ua),(br=De.charSpace||ts)!==void 0&&(Fi+=q(ue(br))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jn=De.horizontalScale)!==void 0&&(Fi+=q(100*Jn)+` Tz
`),De.lang;var Dn=-1,Ga=De.renderingMode!==void 0?De.renderingMode:De.stroke,sc=xn.internal.getCurrentPageInfo().pageContext;switch(Ga){case 0:case!1:case"fill":Dn=0;break;case 1:case!0:case"stroke":Dn=1;break;case 2:case"fillThenStroke":Dn=2;break;case 3:case"invisible":Dn=3;break;case 4:case"fillAndAddForClipping":Dn=4;break;case 5:case"strokeAndAddPathForClipping":Dn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Dn=6;break;case 7:case"addToPathForClipping":Dn=7}var ns=sc.usedRenderingMode!==void 0?sc.usedRenderingMode:-1;Dn!==-1?Fi+=Dn+` Tr
`:ns!==-1&&(Fi+=`0 Tr
`),Dn!==-1&&(sc.usedRenderingMode=Dn),er=De.align||"left";var is,pa=dt*Es,Io=xn.internal.pageSize.getWidth(),Fo=Gt[Ft];br=De.charSpace||ts,kr=De.maxWidth||0,Xr=Object.assign({autoencode:!0,noBOM:!0},De.flags);var As=[],Zs=function(un){return xn.getStringUnitWidth(un,{font:Fo,charSpace:br,fontSize:dt,doKerning:!1})*dt/ra};if(Object.prototype.toString.call(P)==="[object Array]"){var Ha;St=jo(P),er!=="left"&&(is=St.map(Zs));var ii,as=0;if(er==="right"){Q-=is[0],P=[],xi=St.length;for(var so=0;so<xi;so++)so===0?(ii=Na(Q),Ha=ki(Se)):(ii=ue(as-is[so]),Ha=-pa),P.push([St[so],ii,Ha]),as=is[so]}else if(er==="center"){Q-=is[0]/2,P=[],xi=St.length;for(var Ys=0;Ys<xi;Ys++)Ys===0?(ii=Na(Q),Ha=ki(Se)):(ii=ue((as-is[Ys])/2),Ha=-pa),P.push([St[Ys],ii,Ha]),as=is[Ys]}else if(er==="left"){P=[],xi=St.length;for(var oc=0;oc<xi;oc++)P.push(St[oc])}else if(er==="justify"&&Fo.encoding==="Identity-H"){P=[],xi=St.length,kr=kr!==0?kr:Io;for(var qa=0,fi=0;fi<xi;fi++)if(Ha=fi===0?ki(Se):-pa,ii=fi===0?Na(Q):qa,fi<xi-1){var Bo=ue((kr-is[fi])/(St[fi].split(" ").length-1)),oo=St[fi].split(" ");P.push([oo[0]+" ",ii,Ha]),qa=0;for(var Bi=1;Bi<oo.length;Bi++){var wi=(Zs(oo[Bi-1]+" "+oo[Bi])-Zs(oo[Bi]))*ra+Bo;Bi==oo.length-1?P.push([oo[Bi],wi,0]):P.push([oo[Bi]+" ",wi,0]),qa-=wi}}else P.push([St[fi],ii,Ha]);P.push(["",qa,0])}else{if(er!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],xi=St.length,kr=kr!==0?kr:Io,fi=0;fi<xi;fi++){Ha=fi===0?ki(Se):-pa,ii=fi===0?Na(Q):0;var lo=St[fi].split(" ").length-1,ul=lo>0?(kr-is[fi])/lo:0;fi<xi-1?As.push(q(ue(ul))):As.push(0),P.push([St[fi],ii,Ha])}}}(typeof De.R2L=="boolean"?De.R2L:sr)===!0&&(P=na(P,function(un,Jr,Mn){return[un.split("").reverse().join(""),Jr,Mn]})),at={text:P,x:Q,y:Se,options:De,mutex:{pdfEscape:wr,activeFontKey:Ft,fonts:Gt,activeFontSize:dt}},Gr.publish("postProcessText",at),P=at.text,hi=at.mutex.isHex||!1;var Uo=Gt[Ft].encoding;Uo!=="WinAnsiEncoding"&&Uo!=="StandardEncoding"||(P=na(P,function(un,Jr,Mn){return[Do(un),Jr,Mn]})),St=jo(P),P=[];for(var Ks,Ls,Ma,co=Array.isArray(St[0])?1:0,ka="",uo=function(un,Jr,Mn){var ai="";return Mn instanceof Qt?(Mn=typeof De.angle=="number"?Ja(Mn,new Qt(1,0,0,1,un,Jr)):Ja(new Qt(1,0,0,1,un,Jr),Mn),V===j&&(Mn=Ja(new Qt(1,0,0,-1,0,0),Mn)),ai=Mn.join(" ")+` Tm
`):ai=q(un)+" "+q(Jr)+` Td
`,ai},ma=0;ma<St.length;ma++){switch(ka="",co){case 1:Ma=(hi?"<":"(")+St[ma][0]+(hi?">":")"),Ks=parseFloat(St[ma][1]),Ls=parseFloat(St[ma][2]);break;case 0:Ma=(hi?"<":"(")+St[ma]+(hi?">":")"),Ks=Na(Q),Ls=ki(Se)}As!==void 0&&As[ma]!==void 0&&(ka=As[ma]+` Tw
`),ma===0?P.push(ka+uo(Ks,Ls,ui)+Ma):co===0?P.push(ka+Ma):co===1&&P.push(ka+uo(Ks,Ls,ui)+Ma)}P=co===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Pa=`BT
/`;return Pa+=Ft+" "+dt+` Tf
`,Pa+=q(dt*Es)+` TL
`,Pa+=Cn+`
`,Pa+=Fi,Pa+=P,we(Pa+="ET"),y[Ft]=!0,xn};var Gs=_.__private__.clip=_.clip=function(P){return we(P==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Gs("evenodd")},_.__private__.discardPath=_.discardPath=function(){return we("n"),this};var Kr=_.__private__.isValidStyle=function(P){var Q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(Q=!0),Q};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(P){return Kr(P)&&(f=P),this};var Hs=_.__private__.getStyle=_.getStyle=function(P){var Q=f;switch(P){case"D":case"S":Q="S";break;case"F":Q="f";break;case"FD":case"DF":Q="B";break;case"f":case"f*":case"B":case"B*":Q=P}return Q},Mo=_.close=function(){return we("h"),this};_.stroke=function(){return we("S"),this},_.fill=function(P){return La("f",P),this},_.fillEvenOdd=function(P){return La("f*",P),this},_.fillStroke=function(P){return La("B",P),this},_.fillStrokeEvenOdd=function(P){return La("B*",P),this};var La=function(P,Q){zn(Q)==="object"?nc(Q,P):we(P)},ko=function(P){P===null||V===j&&P===void 0||(P=Hs(P),we(P))};function il(P,Q,Se,De,Ve){var at=new Qf(Q||this.boundingBox,Se||this.xStep,De||this.yStep,this.gState,Ve||this.matrix);at.stream=this.stream;var St=P+"$$"+this.cloneIndex+++"$$";return Ce(St,at),at}var nc=function(P,Q){var Se=ln[P.key],De=Yt[Se];if(De instanceof Mh)we("q"),we(Ll(Q)),De.gState&&_.setGState(De.gState),we(P.matrix.toString()+" cm"),we("/"+Se+" sh"),we("Q");else if(De instanceof Qf){var Ve=new Qt(1,0,0,-1,0,Ro());P.matrix&&(Ve=Ve.multiply(P.matrix||Ua),Se=il.call(De,P.key,P.boundingBox,P.xStep,P.yStep,Ve).id),we("q"),we("/Pattern cs"),we("/"+Se+" scn"),De.gState&&_.setGState(De.gState),we(Q),we("Q")}},Ll=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},al=_.moveTo=function(P,Q){return we(q(ue(P))+" "+q(de(Q))+" m"),this},ic=_.lineTo=function(P,Q){return we(q(ue(P))+" "+q(de(Q))+" l"),this},da=_.curveTo=function(P,Q,Se,De,Ve,at){return we([q(ue(P)),q(de(Q)),q(ue(Se)),q(de(De)),q(ue(Ve)),q(de(at)),"c"].join(" ")),this};_.__private__.line=_.line=function(P,Q,Se,De,Ve){if(isNaN(P)||isNaN(Q)||isNaN(Se)||isNaN(De)||!Kr(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return V===D?this.lines([[Se-P,De-Q]],P,Q,[1,1],Ve||"S"):this.lines([[Se-P,De-Q]],P,Q,[1,1]).stroke()},_.__private__.lines=_.lines=function(P,Q,Se,De,Ve,at){var St,$t,er,br,kr,Xr,Jn,ui,xn,Ri,hi,Fi;if(typeof P=="number"&&(Fi=Se,Se=Q,Q=P,P=Fi),De=De||[1,1],at=at||!1,isNaN(Q)||isNaN(Se)||!Array.isArray(P)||!Array.isArray(De)||!Kr(Ve)||typeof at!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(al(Q,Se),St=De[0],$t=De[1],br=P.length,Ri=Q,hi=Se,er=0;er<br;er++)(kr=P[er]).length===2?(Ri=kr[0]*St+Ri,hi=kr[1]*$t+hi,ic(Ri,hi)):(Xr=kr[0]*St+Ri,Jn=kr[1]*$t+hi,ui=kr[2]*St+Ri,xn=kr[3]*$t+hi,Ri=kr[4]*St+Ri,hi=kr[5]*$t+hi,da(Xr,Jn,ui,xn,Ri,hi));return at&&Mo(),ko(Ve),this},_.path=function(P){for(var Q=0;Q<P.length;Q++){var Se=P[Q],De=Se.c;switch(Se.op){case"m":al(De[0],De[1]);break;case"l":ic(De[0],De[1]);break;case"c":da.apply(this,De);break;case"h":Mo()}}return this},_.__private__.rect=_.rect=function(P,Q,Se,De,Ve){if(isNaN(P)||isNaN(Q)||isNaN(Se)||isNaN(De)||!Kr(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return V===D&&(De=-De),we([q(ue(P)),q(de(Q)),q(ue(Se)),q(ue(De)),"re"].join(" ")),ko(Ve),this},_.__private__.triangle=_.triangle=function(P,Q,Se,De,Ve,at,St){if(isNaN(P)||isNaN(Q)||isNaN(Se)||isNaN(De)||isNaN(Ve)||isNaN(at)||!Kr(St))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-P,De-Q],[Ve-Se,at-De],[P-Ve,Q-at]],P,Q,[1,1],St,!0),this},_.__private__.roundedRect=_.roundedRect=function(P,Q,Se,De,Ve,at,St){if(isNaN(P)||isNaN(Q)||isNaN(Se)||isNaN(De)||isNaN(Ve)||isNaN(at)||!Kr(St))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Se),at=Math.min(at,.5*De),this.lines([[Se-2*Ve,0],[Ve*$t,0,Ve,at-at*$t,Ve,at],[0,De-2*at],[0,at*$t,-Ve*$t,at,-Ve,at],[2*Ve-Se,0],[-Ve*$t,0,-Ve,-at*$t,-Ve,-at],[0,2*at-De],[0,-at*$t,Ve*$t,-at,Ve,-at]],P+Ve,Q,[1,1],St,!0),this},_.__private__.ellipse=_.ellipse=function(P,Q,Se,De,Ve){if(isNaN(P)||isNaN(Q)||isNaN(Se)||isNaN(De)||!Kr(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var at=4/3*(Math.SQRT2-1)*Se,St=4/3*(Math.SQRT2-1)*De;return al(P+Se,Q),da(P+Se,Q-St,P+at,Q-De,P,Q-De),da(P-at,Q-De,P-Se,Q-St,P-Se,Q),da(P-Se,Q+St,P-at,Q+De,P,Q+De),da(P+at,Q+De,P+Se,Q+St,P+Se,Q),ko(Ve),this},_.__private__.circle=_.circle=function(P,Q,Se,De){if(isNaN(P)||isNaN(Q)||isNaN(Se)||!Kr(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,Q,Se,Se,De)},_.setFont=function(P,Q,Se){return Se&&(Q=I(Q,Se)),Ft=Ar(P,Q,{disableWarning:!1}),this};var za=_.__private__.getFont=_.getFont=function(){return Gt[Ar.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var P,Q,Se={};for(P in pr)if(pr.hasOwnProperty(P))for(Q in Se[P]=[],pr[P])pr[P].hasOwnProperty(Q)&&Se[P].push(Q);return Se},_.addFont=function(P,Q,Se,De,Ve){var at=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&at.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&at.indexOf(arguments[3])==-1&&(Se=I(Se,De)),Hr.call(this,P,Q,Se,Ve=Ve||"Identity-H")};var ro,Po=t.lineWidth||.200025,sl=_.__private__.getLineWidth=_.getLineWidth=function(){return Po},Ct=_.__private__.setLineWidth=_.setLineWidth=function(P){return Po=P,we(q(ue(P))+" w"),this};_.__private__.setLineDash=fr.API.setLineDash=fr.API.setLineDashPattern=function(P,Q){if(P=P||[],Q=Q||0,isNaN(Q)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(Se){return q(ue(Se))}).join(" "),Q=q(ue(Q)),we("["+P+"] "+Q+" d"),this};var Qa=_.__private__.getLineHeight=_.getLineHeight=function(){return dt*ro};_.__private__.getLineHeight=_.getLineHeight=function(){return dt*ro};var fn=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(ro=P),this},Fc=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return ro};fn(t.lineHeight);var Na=_.__private__.getHorizontalCoordinate=function(P){return ue(P)},ki=_.__private__.getVerticalCoordinate=function(P){return V===j?P:Zt[G].mediaBox.topRightY-Zt[G].mediaBox.bottomLeftY-ue(P)},Nl=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(P){return q(Na(P))},es=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(P){return q(ki(P))},Ca=t.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return he(Ca)},_.__private__.setStrokeColor=_.setDrawColor=function(P,Q,Se,De){return Ca=ge({ch1:P,ch2:Q,ch3:Se,ch4:De,pdfColorType:"draw",precision:2}),we(Ca),this};var qs=t.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return he(qs)},_.__private__.setFillColor=_.setFillColor=function(P,Q,Se,De){return qs=ge({ch1:P,ch2:Q,ch3:Se,ch4:De,pdfColorType:"fill",precision:2}),we(qs),this};var Cn=t.textColor||"0 g",no=_.__private__.getTextColor=_.getTextColor=function(){return he(Cn)};_.__private__.setTextColor=_.setTextColor=function(P,Q,Se,De){return Cn=ge({ch1:P,ch2:Q,ch3:Se,ch4:De,pdfColorType:"text",precision:3}),this};var ts=t.charSpace,Cl=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(ts||0)};_.__private__.setCharSpace=_.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ts=P,this};var ac=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(P){var Q=_.CapJoinStyles[P];if(Q===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ac=Q,we(Q+" J"),this};var Pi=0;_.__private__.setLineJoin=_.setLineJoin=function(P){var Q=_.CapJoinStyles[P];if(Q===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pi=Q,we(Q+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return we(q(ue(P))+" M"),this},_.GState=w1,_.setGState=function(P){(P=typeof P=="string"?cr[ur[P]]:bs(null,P)).equals(en)||(we("/"+P.id+" gs"),en=P)};var bs=function(P,Q){if(!P||!ur[P]){var Se=!1;for(var De in cr)if(cr.hasOwnProperty(De)&&cr[De].equals(Q)){Se=!0;break}if(Se)Q=cr[De];else{var Ve="GS"+(Object.keys(cr).length+1).toString(10);cr[Ve]=Q,Q.id=Ve}return P&&(ur[P]=Q.id),Gr.publish("addGState",Q),Q}};_.addGState=function(P,Q){return bs(P,Q),this},_.saveGraphicsState=function(){return we("q"),Dr.push({key:Ft,size:dt,color:Cn}),this},_.restoreGraphicsState=function(){we("Q");var P=Dr.pop();return Ft=P.key,dt=P.size,Cn=P.color,en=null,this},_.setCurrentTransformationMatrix=function(P){return we(P.toString()+" cm"),this},_.comment=function(P){return we("#"+P),this};var Ss=function(P,Q){var Se=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(at){isNaN(at)||(Se=parseFloat(at))}});var De=Q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(at){isNaN(at)||(De=parseFloat(at))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(at){Ve=at.toString()}}),this},io=function(P,Q,Se,De){Ss.call(this,P,Q),this.type="rect";var Ve=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(St){isNaN(St)||(Ve=parseFloat(St))}});var at=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return at},set:function(St){isNaN(St)||(at=parseFloat(St))}}),this},Br=function(){this.page=xr,this.currentPage=G,this.pages=ot.slice(0),this.pagesContext=Zt.slice(0),this.x=Wt,this.y=yn,this.matrix=Mr,this.width=rs(G),this.height=Bc(G),this.outputDestination=Tt,this.id="",this.objectNumber=-1};Br.prototype.restore=function(){xr=this.page,G=this.currentPage,Zt=this.pagesContext,ot=this.pages,Wt=this.x,yn=this.y,Mr=this.matrix,ol(G,this.width),Vs(G,this.height),Tt=this.outputDestination};var Ml=function(P,Q,Se,De,Ve){Ci.push(new Br),xr=G=0,ot=[],Wt=P,yn=Q,Mr=Ve,nn([Se,De])};for(var Oi in _.beginFormObject=function(P,Q,Se,De,Ve){return Ml(P,Q,Se,De,Ve),this},_.endFormObject=function(P){return(function(Q){if(Qi[Q])Ci.pop().restore();else{var Se=new Br,De="Xo"+(Object.keys(ci).length+1).toString(10);Se.id=De,Qi[Q]=De,ci[De]=Se,Gr.publish("addFormObject",Se),Ci.pop().restore()}})(P),this},_.doFormObject=function(P,Q){var Se=ci[Qi[P]];return we("q"),we(Q.toString()+" cm"),we("/"+Se.id+" Do"),we("Q"),this},_.getFormObject=function(P){var Q=ci[Qi[P]];return{x:Q.x,y:Q.y,width:Q.width,height:Q.height,matrix:Q.matrix}},_.save=function(P,Q){return P=P||"generated.pdf",(Q=Q||{}).returnPromise=Q.returnPromise||!1,Q.returnPromise===!1?(Th(yr(Aa()),P),typeof Th.unload=="function"&&Or.setTimeout&&setTimeout(Th.unload,911),this):new Promise(function(Se,De){try{var Ve=Th(yr(Aa()),P);typeof Th.unload=="function"&&Or.setTimeout&&setTimeout(Th.unload,911),Se(Ve)}catch(at){De(at.message)}})},fr.API)fr.API.hasOwnProperty(Oi)&&(Oi==="events"&&fr.API.events.length?(function(P,Q){var Se,De,Ve;for(Ve=Q.length-1;Ve!==-1;Ve--)Se=Q[Ve][0],De=Q[Ve][1],P.subscribe.apply(P,[Se].concat(typeof De=="function"?[De]:De))})(Gr,fr.API.events):_[Oi]=fr.API[Oi]);function rs(P){return Zt[P].mediaBox.topRightX-Zt[P].mediaBox.bottomLeftX}function ol(P,Q){Zt[P].mediaBox.topRightX=Q+Zt[P].mediaBox.bottomLeftX}function Bc(P){return Zt[P].mediaBox.topRightY-Zt[P].mediaBox.bottomLeftY}function Vs(P,Q){Zt[P].mediaBox.topRightY=Q+Zt[P].mediaBox.bottomLeftY}var Oo=_.getPageWidth=function(P){return rs(P=P||G)/_r},Uc=_.setPageWidth=function(P,Q){ol(P,Q*_r)},Ro=_.getPageHeight=function(P){return Bc(P=P||G)/_r},yu=_.setPageHeight=function(P,Q){Vs(P,Q*_r)};return _.internal={pdfEscape:wr,getStyle:Hs,getFont:za,getFontSize:jt,getCharSpace:Cl,getTextColor:no,getLineHeight:Qa,getLineHeightFactor:Fc,getLineWidth:sl,write:yt,getHorizontalCoordinate:Na,getVerticalCoordinate:ki,getCoordinateString:Nl,getVerticalCoordinateString:es,collections:{},newObject:qe,newAdditionalObject:pe,newObjectDeferred:Ye,newObjectDeferredBegin:K,getFilters:Pe,putStream:ze,events:Gr,scaleFactor:_r,pageSize:{getWidth:function(){return Oo(G)},setWidth:function(P){Uc(G,P)},getHeight:function(){return Ro(G)},setHeight:function(P){yu(G,P)}},encryptionOptions:p,encryption:ni,getEncryptor:function(P){return p!==null?ni.encryptor(P,0):function(Q){return Q}},output:Rn,getNumberOfPages:Mi,get pages(){return ot},out:we,f2:B,f3:Z,getPageInfo:cn,getPageInfoByObjId:rc,getCurrentPageInfo:Al,getPDFVersion:S,Point:Ss,Rectangle:io,Matrix:Qt,hasHotfix:ta},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Oo(G)},set:function(P){Uc(G,P)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Ro(G)},set:function(P){yu(G,P)},enumerable:!0,configurable:!0}),(function(P){for(var Q=0,Se=zt.length;Q<Se;Q++){var De=Hr.call(this,P[Q][0],P[Q][1],P[Q][2],zt[Q][3],!0);v===!1&&(y[De]=!0);var Ve=P[Q][0].split("-");Bt({id:De,fontName:Ve[0],fontStyle:Ve[1]||""})}Gr.publish("addFonts",{fonts:Gt,dictionary:pr})}).call(_,zt),Ft="F1",Kn(i,r),Gr.publish("initialized"),_}Wf.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Wf.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wf.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Wf.prototype.processOwnerPassword=function(t,e){return p_(d_(e).substr(0,5),t)},Wf.prototype.encryptor=function(t,e){var r=d_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return p_(r,n)}},w1.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||zn(t)!==zn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},fr.API={events:[]},fr.version="4.0.0";var Wi=fr.API,V_=1,Zh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fr=function(t){return t.toFixed(2)},Hu=function(t){return t.toFixed(5)};Wi.__acroform__={};var No=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},d4=function(t){return t*V_},Lc=function(t){var e=new IE,r=ir.internal.getHeight(t)||0,n=ir.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Fr(n)),Number(Fr(r))],e},qO=Wi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},VO=Wi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},$O=Wi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ua=Wi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $O(t,e-1)},ha=Wi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return qO(t,e-1)},fa=Wi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return VO(t,e-1)},WO=Wi.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],l=t[3],u={};return u.lowerLeft_X=r(i)||0,u.lowerLeft_Y=n(a+l)||0,u.upperRight_X=r(i+s)||0,u.upperRight_Y=n(a)||0,[Number(Fr(u.lowerLeft_X)),Number(Fr(u.lowerLeft_Y)),Number(Fr(u.upperRight_X)),Number(Fr(u.upperRight_Y))]},ZO=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=m_(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Fr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Lc(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},m_=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(B){return B.split(`
`)}):i.map(function(B){return[B]});var a=r,s=ir.internal.getHeight(t)||0;s=s<0?-s:s;var l=ir.internal.getWidth(t)||0;l=l<0?-l:l;var u=function(B,Z,ue){if(B+1<i.length){var de=Z+" "+i[B+1][0];return jm(de,t,ue).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var f,p,v=jm("3",t,a).height,y=t.multiline?s-a:(s-v)/2,_=y+=2,T=0,S=0,C=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+jm(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var M="",D=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var V=!1;if(i[j].length!==1&&C!==i[j].length-1){if((v+2)*(D+2)+2>s)continue e;M+=i[j][C],V=!0,S=j,j--}else{M=(M+=i[j][C]+" ").substr(M.length-1)==" "?M.substr(0,M.length-1):M;var X=parseInt(j),ce=u(X,M,a),I=j>=i.length-1;if(ce&&!I){M+=" ",C=0;continue}if(ce||I){if(I)S=X;else if(t.multiline&&(v+2)*(D+2)+2>s)continue e}else{if(!t.multiline||(v+2)*(D+2)+2>s)continue e;S=X}}for(var q="",F=T;F<=S;F++){var J=i[F];if(t.multiline){if(F===S){q+=J[C]+" ",C=(C+1)%J.length;continue}if(F===T){q+=J[J.length-1]+" ";continue}}q+=J[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,p=jm(q,t,a).width,t.textAlign){case"right":f=l-p-2;break;case"center":f=(l-p)/2;break;default:f=2}e+=Fr(f)+" "+Fr(_)+` Td
`,e+="("+Zh(q)+`) Tj
`,e+=-Fr(f)+` 0 Td
`,_=-(a+2),p=0,T=V?S:S+1,D++,M=""}break}return n.text=e,n.fontSize=a,n},jm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},YO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},KO=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},XO=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ql.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(YO)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");V_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new FE,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&KO(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],u=[],f=l.Rect;if(l.Rect&&(l.Rect=WO(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ir.createDefaultAppearanceStream(l),zn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=ZO(l);u.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var v="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var _=l.appearanceStreamContent[y];if(v+="/"+y+" ",v+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var s in _)if(_.hasOwnProperty(s)){var T=_[s];typeof T=="function"&&(T=T.call(i,l)),v+="/"+s+" "+T+" ",i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T)}}else typeof(T=_)=="function"&&(T=T.call(i,l)),v+="/"+s+" "+T,i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T);v+=">>"}u.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}a&&(function(S,C){for(var M in S)if(S.hasOwnProperty(M)){var D=M,j=S[M];C.internal.newObjectDeferredBegin(j.objId,!0),zn(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete S[D]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},jE=Wi.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),zn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Zh(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},p2=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Zh(n(t))+")"},kc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};kc.prototype.toString=function(){return this.objId+" 0 R"},kc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},kc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:jE(i,this.objId,this.scope)}):i instanceof kc?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var IE=function(){kc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};No(IE,kc);var FE=function(){kc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Zh(r(t))+")"}},set:function(r){t=r}})};No(FE,kc);var Ql=function t(){kc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute F supplied.');e=M}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ua(e,3)},set:function(M){M?this.F=ha(e,3):this.F=fa(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute Ff supplied.');r=M}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(M){n=M!==void 0?M:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(M){n[0]=M}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(M){n[1]=M}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(M){n[2]=M}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(M){n[3]=M}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(M){switch(M){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=M;break;default:throw new Error('Invalid value "'+M+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof b1)return;a="FieldObject"+t.FieldNum++}var M=function(D){return D};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+Zh(M(a))+")"},set:function(M){a=M.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(M){a=M}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(M){s=M}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(M){l=M}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(M){u=M}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/V_:f},set:function(M){f=M}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(M){p=M}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof b1||this instanceof Dh))return p2(v,this.objId,this.scope)},set:function(M){M=M.toString(),v=M}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Za==0?p2(y,this.objId,this.scope):y},set:function(M){M=M.toString(),y=this instanceof Za==0?M.substr(0,1)==="("?jf(M.substr(1,M.length-2)):jf(M):M}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Za==1?jf(y.substr(1,y.length-1)):y},set:function(M){M=M.toString(),y=this instanceof Za==1?"/"+M:M}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(M){this.V=M}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Za==0?p2(_,this.objId,this.scope):_},set:function(M){M=M.toString(),_=this instanceof Za==0?M.substr(0,1)==="("?jf(M.substr(1,M.length-2)):jf(M):M}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Za==1?jf(_.substr(1,_.length-1)):_},set:function(M){M=M.toString(),_=this instanceof Za==1?"/"+M:M}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(M){M=!!M,S=M}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(M){T=M}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,1)},set:function(M){M?this.Ff=ha(this.Ff,1):this.Ff=fa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,2)},set:function(M){M?this.Ff=ha(this.Ff,2):this.Ff=fa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,3)},set:function(M){M?this.Ff=ha(this.Ff,3):this.Ff=fa(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(M){if([0,1,2].indexOf(M)===-1)throw new Error('Invalid value "'+M+'" for attribute Q supplied.');C=M}}),Object.defineProperty(this,"textAlign",{get:function(){var M;switch(C){case 0:default:M="left";break;case 1:M="center";break;case 2:M="right"}return M},configurable:!0,enumerable:!0,set:function(M){switch(M){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};No(Ql,kc);var ld=function(){Ql.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jE(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(a,s,l){l||(l=1);for(var u,f=[];u=s.exec(a);)f.push(u[l]);return f})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,18)},set:function(r){r?this.Ff=ha(this.Ff,18):this.Ff=fa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ha(this.Ff,19):this.Ff=fa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,20)},set:function(r){r?(this.Ff=ha(this.Ff,20),e.sort()):this.Ff=fa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,22)},set:function(r){r?this.Ff=ha(this.Ff,22):this.Ff=fa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(r){r?this.Ff=ha(this.Ff,23):this.Ff=fa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,27)},set:function(r){r?this.Ff=ha(this.Ff,27):this.Ff=fa(this.Ff,27)}}),this.hasAppearanceStream=!1};No(ld,Ql);var cd=function(){ld.call(this),this.fontName="helvetica",this.combo=!1};No(cd,ld);var ud=function(){cd.call(this),this.combo=!0};No(ud,cd);var i1=function(){ud.call(this),this.edit=!0};No(i1,ud);var Za=function(){Ql.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,15)},set:function(r){r?this.Ff=ha(this.Ff,15):this.Ff=fa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,16)},set:function(r){r?this.Ff=ha(this.Ff,16):this.Ff=fa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,17)},set:function(r){r?this.Ff=ha(this.Ff,17):this.Ff=fa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(r){r?this.Ff=ha(this.Ff,26):this.Ff=fa(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Zh(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){zn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};No(Za,Ql);var a1=function(){Za.call(this),this.pushButton=!0};No(a1,Za);var hd=function(){Za.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};No(hd,Za);var b1=function(){var t,e;Ql.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+Zh(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){zn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ir.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};No(b1,Ql),hd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},hd.prototype.createOption=function(t){var e=new b1;return e.Parent=this,e.optionName=t,this.Kids.push(e),JO.call(this.scope,e),e};var s1=function(){Za.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ir.CheckBox.createAppearanceStream()};No(s1,Za);var Dh=function(){Ql.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,13)},set:function(e){e?this.Ff=ha(this.Ff,13):this.Ff=fa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,21)},set:function(e){e?this.Ff=ha(this.Ff,21):this.Ff=fa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(e){e?this.Ff=ha(this.Ff,23):this.Ff=fa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,24)},set:function(e){e?this.Ff=ha(this.Ff,24):this.Ff=fa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,25)},set:function(e){e?this.Ff=ha(this.Ff,25):this.Ff=fa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(e){e?this.Ff=ha(this.Ff,26):this.Ff=fa(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};No(Dh,Ql);var o1=function(){Dh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,14)},set:function(t){t?this.Ff=ha(this.Ff,14):this.Ff=fa(this.Ff,14)}}),this.password=!0};No(o1,Dh);var ir={CheckBox:{createAppearanceStream:function(){return{N:{On:ir.CheckBox.YesNormal},D:{On:ir.CheckBox.YesPushDown,Off:ir.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Lc(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=m_(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Fr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Lc(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=ir.internal.getHeight(t),s=ir.internal.getWidth(t),l=m_(t,t.caption);return i.push("1 g"),i.push("0 0 "+Fr(s)+" "+Fr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Fr(s-1)+" "+Fr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Fr(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Lc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ir.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ir.RadioButton.Circle.YesNormal,e.D[t]=ir.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Lc(t);e.scope=t.scope;var r=[],n=ir.internal.getWidth(t)<=ir.internal.getHeight(t)?ir.internal.getWidth(t)/4:ir.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=ir.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Hu(ir.internal.getWidth(t)/2)+" "+Hu(ir.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Lc(t);e.scope=t.scope;var r=[],n=ir.internal.getWidth(t)<=ir.internal.getHeight(t)?ir.internal.getWidth(t)/4:ir.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ir.internal.Bezier_C).toFixed(5)),s=Number((n*ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hu(ir.internal.getWidth(t)/2)+" "+Hu(ir.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Hu(ir.internal.getWidth(t)/2)+" "+Hu(ir.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Lc(t);e.scope=t.scope;var r=[],n=ir.internal.getWidth(t)<=ir.internal.getHeight(t)?ir.internal.getWidth(t)/4:ir.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hu(ir.internal.getWidth(t)/2)+" "+Hu(ir.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ir.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ir.RadioButton.Cross.YesNormal,e.D[t]=ir.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Lc(t);e.scope=t.scope;var r=[],n=ir.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Fr(ir.internal.getWidth(t)-2)+" "+Fr(ir.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Fr(n.x1.x)+" "+Fr(n.x1.y)+" m"),r.push(Fr(n.x2.x)+" "+Fr(n.x2.y)+" l"),r.push(Fr(n.x4.x)+" "+Fr(n.x4.y)+" m"),r.push(Fr(n.x3.x)+" "+Fr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Lc(t);e.scope=t.scope;var r=ir.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Fr(ir.internal.getWidth(t)-2)+" "+Fr(ir.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Fr(r.x1.x)+" "+Fr(r.x1.y)+" m"),n.push(Fr(r.x2.x)+" "+Fr(r.x2.y)+" l"),n.push(Fr(r.x4.x)+" "+Fr(r.x4.y)+" m"),n.push(Fr(r.x3.x)+" "+Fr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Lc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ir.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ir.internal.getWidth(t),r=ir.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ir.internal.getWidth=function(t){var e=0;return zn(t)==="object"&&(e=d4(t.Rect[2])),e},ir.internal.getHeight=function(t){var e=0;return zn(t)==="object"&&(e=d4(t.Rect[3])),e};var JO=Wi.addField=function(t){if(XO(this,t),!(t instanceof Ql))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Wi.AcroFormChoiceField=ld,Wi.AcroFormListBox=cd,Wi.AcroFormComboBox=ud,Wi.AcroFormEditBox=i1,Wi.AcroFormButton=Za,Wi.AcroFormPushButton=a1,Wi.AcroFormRadioButton=hd,Wi.AcroFormCheckBox=s1,Wi.AcroFormTextField=Dh,Wi.AcroFormPasswordField=o1,Wi.AcroFormAppearance=ir,Wi.AcroForm={ChoiceField:ld,ListBox:cd,ComboBox:ud,EditBox:i1,Button:Za,PushButton:a1,RadioButton:hd,CheckBox:s1,TextField:Dh,PasswordField:o1,Appearance:ir},fr.AcroForm={ChoiceField:ld,ListBox:cd,ComboBox:ud,EditBox:i1,Button:Za,PushButton:a1,RadioButton:hd,CheckBox:s1,TextField:Dh,PasswordField:o1,Appearance:ir};fr.AcroForm;function BE(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(B,Z){var ue,de,xe,oe,be,_e=r;if((Z=Z||r)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(ce(B))for(be in n)for(xe=n[be],ue=0;ue<xe.length;ue+=1){for(oe=!0,de=0;de<xe[ue].length;de+=1)if(xe[ue][de]!==void 0&&xe[ue][de]!==B[de]){oe=!1;break}if(oe===!0){_e=be;break}}else for(be in n)for(xe=n[be],ue=0;ue<xe.length;ue+=1){for(oe=!0,de=0;de<xe[ue].length;de+=1)if(xe[ue][de]!==void 0&&xe[ue][de]!==B.charCodeAt(de)){oe=!1;break}if(oe===!0){_e=be;break}}return _e===r&&Z!==r&&(_e=Z),_e},a=function B(Z){for(var ue=this.internal.write,de=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);Z.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:Z.width}),oe.push({key:"Height",value:Z.height}),Z.colorSpace===M.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Z.palette.length/3-1)+" "+("sMask"in Z&&Z.sMask!==void 0?Z.objectId+2:Z.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+Z.colorSpace}),Z.colorSpace===M.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:Z.bitsPerComponent}),"decodeParameters"in Z&&Z.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+Z.decodeParameters+">>"}),"transparency"in Z&&Array.isArray(Z.transparency)&&Z.transparency.length>0){for(var be="",_e=0,Le=Z.transparency.length;_e<Le;_e++)be+=Z.transparency[_e]+" "+Z.transparency[_e]+" ";oe.push({key:"Mask",value:"["+be+"]"})}Z.sMask!==void 0&&oe.push({key:"SMask",value:Z.objectId+1+" 0 R"});var Ne=Z.filter!==void 0?["/"+Z.filter]:void 0;if(de({data:Z.data,additionalKeyValues:oe,alreadyAppliedFilters:Ne,objectId:Z.objectId}),ue("endobj"),"sMask"in Z&&Z.sMask!==void 0){var ee,O=(ee=Z.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:Z.bitsPerComponent,G={width:Z.width,height:Z.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:Z.sMask};"filter"in Z&&(G.decodeParameters="/Predictor ".concat(Z.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(Z.width),G.filter=Z.filter),B.call(this,G)}if(Z.colorSpace===M.INDEXED){var H=this.internal.newObject();de({data:q(new Uint8Array(Z.palette)),objectId:H}),ue("endobj")}},s=function(){var B=this.internal.collections[e+"images"];for(var Z in B)a.call(this,B[Z])},l=function(){var B,Z=this.internal.collections[e+"images"],ue=this.internal.write;for(var de in Z)ue("/I"+(B=Z[de]).index,B.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},f=function(){var B=this.internal.collections[e+"images"];return u.call(this),B},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},v=function(B){return typeof t["process"+B.toUpperCase()]=="function"},y=function(B){return zn(B)==="object"&&B.nodeType===1},_=function(B,Z){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var ue=""+B.getAttribute("src");if(ue.indexOf("data:image/")===0)return n1(unescape(ue).split("base64,").pop());var de=t.loadFile(ue,!0);if(de!==void 0)return de}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var xe;switch(Z){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return n1(B.toDataURL(xe,1).split("base64,").pop())}},T=function(B){var Z=this.internal.collections[e+"images"];if(Z){for(var ue in Z)if(B===Z[ue].alias)return Z[ue]}},S=function(B,Z,ue){return B||Z||(B=-96,Z=-96),B<0&&(B=-1*ue.width*72/B/this.internal.scaleFactor),Z<0&&(Z=-1*ue.height*72/Z/this.internal.scaleFactor),B===0&&(B=Z*ue.width/ue.height),Z===0&&(Z=B*ue.height/ue.width),[B,Z]},C=function(B,Z,ue,de,xe,oe){var be=S.call(this,ue,de,xe),_e=this.internal.getCoordinateString,Le=this.internal.getVerticalCoordinateString,Ne=f.call(this);if(ue=be[0],de=be[1],Ne[xe.index]=xe,oe){oe*=Math.PI/180;var ee=Math.cos(oe),O=Math.sin(oe),G=function(Y){return Y.toFixed(4)},H=[G(ee),G(O),G(-1*O),G(ee),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,_e(B),Le(Z+de),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([_e(ue),"0","0",_e(de),"0","0","cm"].join(" "))):this.internal.write([_e(ue),"0","0",_e(de),_e(B),Le(Z+de),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},M=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=t.__addimage__.sHashCode=function(B){var Z,ue,de=0;if(typeof B=="string")for(ue=B.length,Z=0;Z<ue;Z++)de=(de<<5)-de+B.charCodeAt(Z),de|=0;else if(ce(B))for(ue=B.byteLength/2,Z=0;Z<ue;Z++)de=(de<<5)-de+B[Z],de|=0;return de},V=t.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var Z=!0;return B.length===0&&(Z=!1),B.length%4!=0&&(Z=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(Z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(Z=!1),Z},X=t.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var Z=B.indexOf(",");return Z<0?null:B.substring(0,Z).trim().endsWith("base64")?B.substring(Z+1):null};t.__addimage__.isArrayBuffer=function(B){return B instanceof ArrayBuffer};var ce=t.__addimage__.isArrayBufferView=function(B){return B instanceof Int8Array||B instanceof Uint8Array||B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array},I=t.__addimage__.binaryStringToUint8Array=function(B){for(var Z=B.length,ue=new Uint8Array(Z),de=0;de<Z;de++)ue[de]=B.charCodeAt(de);return ue},q=t.__addimage__.arrayBufferToBinaryString=function(B){for(var Z="",ue=ce(B)?B:new Uint8Array(B),de=0;de<ue.length;de+=8192)Z+=String.fromCharCode.apply(null,ue.subarray(de,de+8192));return Z};t.addImage=function(){var B,Z,ue,de,xe,oe,be,_e,Le;if(typeof arguments[1]=="number"?(Z=r,ue=arguments[1],de=arguments[2],xe=arguments[3],oe=arguments[4],be=arguments[5],_e=arguments[6],Le=arguments[7]):(Z=arguments[1],ue=arguments[2],de=arguments[3],xe=arguments[4],oe=arguments[5],be=arguments[6],_e=arguments[7],Le=arguments[8]),zn(B=arguments[0])==="object"&&!y(B)&&"imageData"in B){var Ne=B;B=Ne.imageData,Z=Ne.format||Z||r,ue=Ne.x||ue||0,de=Ne.y||de||0,xe=Ne.w||Ne.width||xe,oe=Ne.h||Ne.height||oe,be=Ne.alias||be,_e=Ne.compression||_e,Le=Ne.rotation||Ne.angle||Le}var ee=this.internal.getFilters();if(_e===void 0&&ee.indexOf("FlateEncode")!==-1&&(_e="SLOW"),isNaN(ue)||isNaN(de))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var O=F.call(this,B,Z,be,_e);return C.call(this,ue,de,xe,oe,O,Le),this};var F=function(B,Z,ue,de){var xe,oe,be;if(typeof B=="string"&&i(B)===r){B=unescape(B);var _e=J(B,!1);(_e!==""||(_e=t.loadFile(B,!0))!==void 0)&&(B=_e)}if(y(B)&&(B=_(B,Z)),Z=i(B,Z),!v(Z))throw new Error("addImage does not support files of type '"+Z+"', please ensure that a plugin for '"+Z+"' support is added.");if(((be=ue)==null||be.length===0)&&(ue=(function(Le){return typeof Le=="string"||ce(Le)?j(Le):ce(Le.data)?j(Le.data):null})(B)),(xe=T.call(this,ue))||(B instanceof Uint8Array||Z==="RGBA"||(oe=B,B=I(B)),xe=this["process"+Z.toUpperCase()](B,p.call(this),ue,(function(Le){return Le&&typeof Le=="string"&&(Le=Le.toUpperCase()),Le in t.image_compression?Le:D.NONE})(de),oe)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},J=t.__addimage__.convertBase64ToBinaryString=function(B,Z){Z=typeof Z!="boolean"||Z;var ue,de="";if(typeof B=="string"){var xe;ue=(xe=X(B))!==null&&xe!==void 0?xe:B;try{de=n1(ue)}catch(oe){if(Z)throw V(ue)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return de};t.getImageProperties=function(B){var Z,ue,de="";if(y(B)&&(B=_(B)),typeof B=="string"&&i(B)===r&&((de=J(B,!1))===""&&(de=t.loadFile(B)||""),B=de),ue=i(B),!v(ue))throw new Error("addImage does not support files of type '"+ue+"', please ensure that a plugin for '"+ue+"' support is added.");if(B instanceof Uint8Array||(B=I(B)),!(Z=this["process"+ue.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return Z.fileType=ue,Z}})(fr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};fr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,p=!1,v=0;v<f.length&&!p;v++)switch((n=f[v]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){n=f[y];var _=this.internal.pdfEscape,T=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),M=this.internal.getEncryptor(S.objId),D=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+_(M(n.contents))+")",a+=" /Popup "+C.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+_(M(D))+") >>",S.content=a;var j=S.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(a+=" /Open true"),a+=" >>",C.content=a,this.internal.write(S.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var V=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+_(T(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var X=this.annotations._nameMap[n.options.name];n.options.pageNumber=X.page,n.options.top=X.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+_(T(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var ce=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+ce+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(r),y:f(n),w:u(r+i),h:f(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,l,u=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var p=this.splitTextToSize(r,l).length;s=Math.ceil(f*p)}else l=u,s=f;return this.text(r,n,i,a),i+=.2*f,a.align==="center"&&(n-=u/2),a.align==="right"&&(n-=u),this.link(n,i-f,l,s,a),u},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(fr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=t.__arabicParser__.isArabicEndLetter=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(S){return s(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(S){var C=0,M=r,D="",j=0;for(C=0;C<S.length;C+=1)M[S.charCodeAt(C)]!==void 0?(j++,typeof(M=M[S.charCodeAt(C)])=="number"&&(D+=String.fromCharCode(M),M=r,j=0),C===S.length-1&&(M=r,D+=S.charAt(C-(j-1)),C-=j-1,j=0)):(M=r,D+=S.charAt(C-j),C-=j,j=0);return D};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(S,C,M){return s(S)?a(S)===!1?-1:!f(S)||!s(C)&&!s(M)||!s(M)&&l(C)||l(S)&&!s(C)||l(S)&&u(C)||l(S)&&l(C)?0:p(S)&&s(C)&&!l(C)&&s(M)&&f(M)?3:l(S)||!s(M)?1:2:-1},_=function(S){var C=0,M=0,D=0,j="",V="",X="",ce=(S=S||"").split("\\s+"),I=[];for(C=0;C<ce.length;C+=1){for(I.push(""),M=0;M<ce[C].length;M+=1)j=ce[C][M],V=ce[C][M-1],X=ce[C][M+1],s(j)?(D=y(j,V,X),I[C]+=D!==-1?String.fromCharCode(e[j.charCodeAt(0)][D]):j):I[C]+=j;I[C]=v(I[C])}return I.join(" ")},T=t.__arabicParser__.processArabic=t.processArabic=function(){var S,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,M=[];if(Array.isArray(C)){var D=0;for(M=[],D=0;D<C.length;D+=1)Array.isArray(C[D])?M.push([_(C[D][0]),C[D][1],C[D][2]]):M.push([_(C[D])]);S=M}else S=_(C);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",T])})(fr.API),fr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(fr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(S){_=S}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(S){T=S}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,f){n.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,_=0,T=0,S=0,C=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var M=f.maxWidth;M>0?typeof u=="string"?u=this.splitTextToSize(u,M):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(j,V){return j.concat(C.splitTextToSize(V,M))},[])):u=Array.isArray(u)?u:[u];for(var D=0;D<u.length;D++)_<(S=this.getStringUnitWidth(u[D],{font:v})*p)&&(_=S);return _!==0&&(T=u.length),{w:_/=y,h:Math.max((T*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=v.top,_&&y&&(this.printHeaderRow(u.lineNumber,!0),u.y+=y[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-p,u.y+p,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+p,{align:"center",baseline:"top",maxWidth:u.width-p-p}):this.text(u.text,u.x+p,u.y+p,{align:"left",baseline:"top",maxWidth:u.width-p-p})),this.internal.__cell__.lastCell=u,this};t.table=function(u,f,p,v,y){if(n.call(this),!p)throw new Error("No data for PDF table.");var _,T,S,C,M=[],D=[],j=[],V={},X={},ce=[],I=[],q=(y=y||{}).autoSize||!1,F=y.printHeaders!==!1,J=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,B=y.margins||Object.assign({width:this.getPageWidth()},e),Z=typeof y.padding=="number"?y.padding:3,ue=y.headerBackgroundColor||"#c8c8c8",de=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=Z,this.internal.__cell__.headerBackgroundColor=ue,this.internal.__cell__.headerTextColor=de,this.setFontSize(J),v==null)D=M=Object.keys(p[0]),j=M.map(function(){return"left"});else if(Array.isArray(v)&&zn(v[0])==="object")for(M=v.map(function(Ne){return Ne.name}),D=v.map(function(Ne){return Ne.prompt||Ne.name||""}),j=v.map(function(Ne){return Ne.align||"left"}),_=0;_<v.length;_+=1)X[v[_].name]=.7499990551181103*v[_].width;else Array.isArray(v)&&typeof v[0]=="string"&&(D=M=v,j=M.map(function(){return"left"}));if(q||Array.isArray(v)&&typeof v[0]=="string")for(_=0;_<M.length;_+=1){for(V[C=M[_]]=p.map(function(Ne){return Ne[C]}),this.setFont(void 0,"bold"),ce.push(this.getTextDimensions(D[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=V[C],this.setFont(void 0,"normal"),S=0;S<T.length;S+=1)ce.push(this.getTextDimensions(T[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[C]=Math.max.apply(null,ce)+Z+Z,ce=[]}if(F){var xe={};for(_=0;_<M.length;_+=1)xe[M[_]]={},xe[M[_]].text=D[_],xe[M[_]].align=j[_];var oe=l.call(this,xe,X);I=M.map(function(Ne){return new a(u,f,X[Ne],oe,xe[Ne].text,void 0,xe[Ne].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var be=v.reduce(function(Ne,ee){return Ne[ee.name]=ee.align,Ne},{});for(_=0;_<p.length;_+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:_,data:p[_]},this);var _e=l.call(this,p[_],X);for(S=0;S<M.length;S+=1){var Le=p[_][M[S]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:_,col:S,data:Le},this),s.call(this,new a(u,f,X[M[S]],_e,Le,_+2,be[M[S]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var l=function(u,f){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(u).map(function(_){var T=u[_];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,f[_]-p-p)},this).map(function(_){return this.getLineHeightFactor()*_.length*v/y+p+p},this).reduce(function(_,T){return Math.max(_,T)},0)};t.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){p=this.internal.__cell__.tableHeaderRow[_].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=u;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,p),this.setTextColor(T)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}})(fr.API);var UE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],g_=BE(zE),GE=[100,200,300,400,500,600,700,800,900],QO=BE(GE);function m2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(a){return UE[a=a||"normal"]?a:"normal"})(t.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof g_[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function p4(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var eR={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},m4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function g4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function v4(t){return t.trimLeft()}function tR(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function rR(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Im,_4,y4,If,Fm,x4,w4,b4,g2=["times"];function S4(t,e,r,n,i){var a=4,s=T4;switch(i){case fr.API.image_compression.FAST:a=1,s=E4;break;case fr.API.image_compression.MEDIUM:a=6,s=A4;break;case fr.API.image_compression.SLOW:a=9,s=L4}t=(function(u,f,p,v){for(var y,_=u.length/f,T=new Uint8Array(u.length+_),S=[nR,E4,T4,A4,L4],C=0;C<_;C+=1){var M=C*f,D=u.subarray(M,M+f);if(v)T.set(v(D,p,y),M+C);else{for(var j=S.length,V=[],X=0;X<j;X+=1)V[X]=S[X](D,p,y);var ce=aR(V.concat());T.set(V[ce],M+C)}y=D}return T})(t,e,Math.ceil(r*n/8),s);var l=c_(t,{level:a});return fr.API.__addimage__.arrayBufferToBinaryString(l)}function nR(t){var e=Array.apply([],t);return e.unshift(0),e}function E4(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function T4(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=t[a]-s+256&255}return i}function A4(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,l=r&&r[a]||0;i[a+1]=t[a]+256-(s+l>>>1)&255}return i}function L4(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=iR(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function iR(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function aR(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function v2(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return HE(t,i)>>a&s}function N4(t,e,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),l=(1<<n)-1,u=(e&l)<<s;(function(f,p,v){if(p+1<f.byteLength)f.setUint16(p,v,!1);else{var y=v>>8&255;f.setUint8(p,y)}})(t,a,HE(t,a)&~(l<<s)&65535|u)}function HE(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function sR(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var l=null,u=null;a&&(l=e,u=s,e+=3*s);var f=!0,p=[],v=0,y=null,_=0,T=null;for(this.width=r,this.height=n;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,T=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];v=t[e++]|t[e++]<<8,y=t[e++],1&S||(y=null),_=S>>2&7,e++;break;case 254:for(;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var C=t[e++]|t[e++]<<8,M=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,V=t[e++],X=V>>6&1,ce=1<<1+(7&V),I=l,q=u,F=!1;V>>7&&(F=!0,I=e,q=ce,e+=3*ce);var J=e;for(e++;;){var B;if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}p.push({x:C,y:M,width:D,height:j,has_local_palette:F,palette_offset:I,palette_size:q,data_offset:J,data_length:e-J,transparent_index:y,interlaced:!!X,delay:v,disposal:_});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return T},this.frameInfo=function(Z){if(Z<0||Z>=p.length)throw new Error("Frame index out of range.");return p[Z]},this.decodeAndBlitFrameBGRA=function(Z,ue){var de=this.frameInfo(Z),xe=de.width*de.height,oe=new Uint8Array(xe);C4(t,de.data_offset,oe,xe);var be=de.palette_offset,_e=de.transparent_index;_e===null&&(_e=256);var Le=de.width,Ne=r-Le,ee=Le,O=4*(de.y*r+de.x),G=4*((de.y+de.height)*r+de.x),H=O,Y=4*Ne;de.interlaced===!0&&(Y+=4*r*7);for(var se=8,Ae=0,Oe=oe.length;Ae<Oe;++Ae){var Re=oe[Ae];if(ee===0&&(ee=Le,(H+=Y)>=G&&(Y=4*Ne+4*r*(se-1),H=O+(Le+Ne)*(se<<1),se>>=1)),Re===_e)H+=4;else{var Ie=t[be+3*Re],ot=t[be+3*Re+1],it=t[be+3*Re+2];ue[H++]=it,ue[H++]=ot,ue[H++]=Ie,ue[H++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(Z,ue){var de=this.frameInfo(Z),xe=de.width*de.height,oe=new Uint8Array(xe);C4(t,de.data_offset,oe,xe);var be=de.palette_offset,_e=de.transparent_index;_e===null&&(_e=256);var Le=de.width,Ne=r-Le,ee=Le,O=4*(de.y*r+de.x),G=4*((de.y+de.height)*r+de.x),H=O,Y=4*Ne;de.interlaced===!0&&(Y+=4*r*7);for(var se=8,Ae=0,Oe=oe.length;Ae<Oe;++Ae){var Re=oe[Ae];if(ee===0&&(ee=Le,(H+=Y)>=G&&(Y=4*Ne+4*r*(se-1),H=O+(Le+Ne)*(se<<1),se>>=1)),Re===_e)H+=4;else{var Ie=t[be+3*Re],ot=t[be+3*Re+1],it=t[be+3*Re+2];ue[H++]=Ie,ue[H++]=ot,ue[H++]=it,ue[H++]=255}--ee}}}function C4(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,l=s+1,u=i+1,f=(1<<u)-1,p=0,v=0,y=0,_=t[e++],T=new Int32Array(4096),S=null;;){for(;p<16&&_!==0;)v|=t[e++]<<p,p+=8,_===1?_=t[e++]:--_;if(p<u)break;var C=v&f;if(v>>=u,p-=u,C!==a){if(C===s)break;for(var M=C<l?C:S,D=0,j=M;j>a;)j=T[j]>>8,++D;var V=j;if(y+D+(M!==C?1:0)>n)return void ti.log("Warning, gif stream longer than expected.");r[y++]=V;var X=y+=D;for(M!==C&&(r[y++]=V),j=M;D--;)j=T[j],r[--X]=255&j,j>>=8;S!==null&&l<4096&&(T[l++]=S<<8|V,l>=f+1&&u<12&&(++u,f=f<<1|1)),S=C}else l=s+1,f=(1<<(u=i+1))-1,S=null}return y!==n&&ti.log("Warning, gif stream shorter than expected."),r}function _2(t){var e,r,n,i,a,s=Math.floor,l=new Array(64),u=new Array(64),f=new Array(64),p=new Array(64),v=new Array(65535),y=new Array(65535),_=new Array(64),T=new Array(64),S=[],C=0,M=7,D=new Array(64),j=new Array(64),V=new Array(64),X=new Array(256),ce=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ue=[0,1,2,3,4,5,6,7,8,9,10,11],de=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(O,G){for(var H=0,Y=0,se=new Array,Ae=1;Ae<=16;Ae++){for(var Oe=1;Oe<=O[Ae];Oe++)se[G[Y]]=[],se[G[Y]][0]=H,se[G[Y]][1]=Ae,Y++,H++;H*=2}return se}function be(O){for(var G=O[0],H=O[1]-1;H>=0;)G&1<<H&&(C|=1<<M),H--,--M<0&&(C==255?(_e(255),_e(0)):_e(C),M=7,C=0)}function _e(O){S.push(O)}function Le(O){_e(O>>8&255),_e(255&O)}function Ne(O,G,H,Y,se){for(var Ae,Oe=se[0],Re=se[240],Ie=(function(dt,Vt){var jt,sr,Xt,Jt,Er,dr,Nr,or,Ft,_r,Wt=0;for(Ft=0;Ft<8;++Ft){jt=dt[Wt],sr=dt[Wt+1],Xt=dt[Wt+2],Jt=dt[Wt+3],Er=dt[Wt+4],dr=dt[Wt+5],Nr=dt[Wt+6];var yn=jt+(or=dt[Wt+7]),Mr=jt-or,Gt=sr+Nr,pr=sr-Nr,Dr=Xt+dr,Yt=Xt-dr,ln=Jt+Er,cr=Jt-Er,ur=yn+ln,en=yn-ln,xr=Gt+Dr,Zt=Gt-Dr;dt[Wt]=ur+xr,dt[Wt+4]=ur-xr;var Gr=.707106781*(Zt+en);dt[Wt+2]=en+Gr,dt[Wt+6]=en-Gr;var Ea=.382683433*((ur=cr+Yt)-(Zt=pr+Mr)),ci=.5411961*ur+Ea,Qi=1.306562965*Zt+Ea,Ci=.707106781*(xr=Yt+pr),Qt=Mr+Ci,Ja=Mr-Ci;dt[Wt+5]=Ja+ci,dt[Wt+3]=Ja-ci,dt[Wt+1]=Qt+Qi,dt[Wt+7]=Qt-Qi,Wt+=8}for(Wt=0,Ft=0;Ft<8;++Ft){jt=dt[Wt],sr=dt[Wt+8],Xt=dt[Wt+16],Jt=dt[Wt+24],Er=dt[Wt+32],dr=dt[Wt+40],Nr=dt[Wt+48];var Ua=jt+(or=dt[Wt+56]),Ce=jt-or,Ge=sr+Nr,qe=sr-Nr,Ye=Xt+dr,K=Xt-dr,pe=Jt+Er,re=Jt-Er,ne=Ua+pe,he=Ua-pe,ge=Ge+Ye,Pe=Ge-Ye;dt[Wt]=ne+ge,dt[Wt+32]=ne-ge;var ze=.707106781*(Pe+he);dt[Wt+16]=he+ze,dt[Wt+48]=he-ze;var Be=.382683433*((ne=re+K)-(Pe=qe+Ce)),Ue=.5411961*ne+Be,$e=1.306562965*Pe+Be,ht=.707106781*(ge=K+qe),bt=Ce+ht,wt=Ce-ht;dt[Wt+40]=wt+Ue,dt[Wt+24]=wt-Ue,dt[Wt+8]=bt+$e,dt[Wt+56]=bt-$e,Wt++}for(Ft=0;Ft<64;++Ft)_r=dt[Ft]*Vt[Ft],_[Ft]=_r>0?_r+.5|0:_r-.5|0;return _})(O,G),ot=0;ot<64;++ot)T[I[ot]]=Ie[ot];var it=T[0]-H;H=T[0],it==0?be(Y[0]):(be(Y[y[Ae=32767+it]]),be(v[Ae]));for(var Tt=63;Tt>0&&T[Tt]==0;)Tt--;if(Tt==0)return be(Oe),H;for(var Nt,we=1;we<=Tt;){for(var yt=we;T[we]==0&&we<=Tt;)++we;var xt=we-yt;if(xt>=16){Nt=xt>>4;for(var zt=1;zt<=Nt;++zt)be(Re);xt&=15}Ae=32767+T[we],be(se[(xt<<4)+y[Ae]]),be(v[Ae]),we++}return Tt!=63&&be(Oe),H}function ee(O){O=Math.min(Math.max(O,1),100),a!=O&&((function(G){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var se=s((H[Y]*G+50)/100);se=Math.min(Math.max(se,1),255),l[I[Y]]=se}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Oe=0;Oe<64;Oe++){var Re=s((Ae[Oe]*G+50)/100);Re=Math.min(Math.max(Re,1),255),u[I[Oe]]=Re}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ot=0,it=0;it<8;it++)for(var Tt=0;Tt<8;Tt++)f[ot]=1/(l[I[ot]]*Ie[it]*Ie[Tt]*8),p[ot]=1/(u[I[ot]]*Ie[it]*Ie[Tt]*8),ot++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),a=O)}this.encode=function(O,G){G&&ee(G),S=new Array,C=0,M=7,Le(65496),Le(65504),Le(16),_e(74),_e(70),_e(73),_e(70),_e(0),_e(1),_e(1),_e(0),Le(1),Le(1),_e(0),_e(0),(function(){Le(65499),Le(132),_e(0);for(var sr=0;sr<64;sr++)_e(l[sr]);_e(1);for(var Xt=0;Xt<64;Xt++)_e(u[Xt])})(),(function(sr,Xt){Le(65472),Le(17),_e(8),Le(Xt),Le(sr),_e(3),_e(1),_e(17),_e(0),_e(2),_e(17),_e(1),_e(3),_e(17),_e(1)})(O.width,O.height),(function(){Le(65476),Le(418),_e(0);for(var sr=0;sr<16;sr++)_e(q[sr+1]);for(var Xt=0;Xt<=11;Xt++)_e(F[Xt]);_e(16);for(var Jt=0;Jt<16;Jt++)_e(J[Jt+1]);for(var Er=0;Er<=161;Er++)_e(B[Er]);_e(1);for(var dr=0;dr<16;dr++)_e(Z[dr+1]);for(var Nr=0;Nr<=11;Nr++)_e(ue[Nr]);_e(17);for(var or=0;or<16;or++)_e(de[or+1]);for(var Ft=0;Ft<=161;Ft++)_e(xe[Ft])})(),Le(65498),Le(12),_e(3),_e(1),_e(0),_e(2),_e(17),_e(3),_e(17),_e(0),_e(63),_e(0);var H=0,Y=0,se=0;C=0,M=7,this.encode.displayName="_encode_";for(var Ae,Oe,Re,Ie,ot,it,Tt,Nt,we,yt=O.data,xt=O.width,zt=O.height,dt=4*xt,Vt=0;Vt<zt;){for(Ae=0;Ae<dt;){for(ot=dt*Vt+Ae,Tt=-1,Nt=0,we=0;we<64;we++)it=ot+(Nt=we>>3)*dt+(Tt=4*(7&we)),Vt+Nt>=zt&&(it-=dt*(Vt+1+Nt-zt)),Ae+Tt>=dt&&(it-=Ae+Tt-dt+4),Oe=yt[it++],Re=yt[it++],Ie=yt[it++],D[we]=(ce[Oe]+ce[Re+256|0]+ce[Ie+512|0]>>16)-128,j[we]=(ce[Oe+768|0]+ce[Re+1024|0]+ce[Ie+1280|0]>>16)-128,V[we]=(ce[Oe+1280|0]+ce[Re+1536|0]+ce[Ie+1792|0]>>16)-128;H=Ne(D,f,H,e,n),Y=Ne(j,p,Y,r,i),se=Ne(V,p,se,r,i),Ae+=32}Vt+=8}if(M>=0){var jt=[];jt[1]=M+1,jt[0]=(1<<M+1)-1,be(jt)}return Le(65497),new Uint8Array(S)},t=t||50,(function(){for(var O=String.fromCharCode,G=0;G<256;G++)X[G]=O(G)})(),e=oe(q,F),r=oe(Z,ue),n=oe(J,B),i=oe(de,xe),(function(){for(var O=1,G=2,H=1;H<=15;H++){for(var Y=O;Y<G;Y++)y[32767+Y]=H,v[32767+Y]=[],v[32767+Y][1]=H,v[32767+Y][0]=Y;for(var se=-(G-1);se<=-O;se++)y[32767+se]=H,v[32767+se]=[],v[32767+se][1]=H,v[32767+se][0]=G-1+se;O<<=1,G<<=1}})(),(function(){for(var O=0;O<256;O++)ce[O]=19595*O,ce[O+256|0]=38470*O,ce[O+512|0]=7471*O+32768,ce[O+768|0]=-11059*O,ce[O+1024|0]=-21709*O,ce[O+1280|0]=32768*O+8421375,ce[O+1536|0]=-27439*O,ce[O+1792|0]=-5329*O})(),ee(t)}function Gl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function M4(t){function e(F){if(!F)throw Error("assert :P")}function r(F,J,B){for(var Z=0;4>Z;Z++)if(F[J+Z]!=B.charCodeAt(Z))return!0;return!1}function n(F,J,B,Z,ue){for(var de=0;de<ue;de++)F[J+de]=B[Z+de]}function i(F,J,B,Z){for(var ue=0;ue<Z;ue++)F[J+ue]=B}function a(F){return new Int32Array(F)}function s(F,J){for(var B=[],Z=0;Z<F;Z++)B.push(new J);return B}function l(F,J){var B=[];return(function Z(ue,de,xe){for(var oe=xe[de],be=0;be<oe&&(ue.push(xe.length>de+1?[]:new J),!(xe.length<de+1));be++)Z(ue[be],de+1,xe)})(B,0,F),B}var u=function(){var F=this;function J(w,A){for(var R=1<<A-1>>>0;w&R;)R>>>=1;return R?(w&R-1)+R:w}function B(w,A,R,U,te){e(!(U%R));do w[A+(U-=R)]=te;while(0<U)}function Z(w,A,R,U,te){if(e(2328>=te),512>=te)var ie=a(512);else if((ie=a(te))==null)return 0;return(function(le,me,ye,Te,je,Je){var Ee,He,Ke=me,lt=1<<ye,Xe=a(16),st=a(16);for(e(je!=0),e(Te!=null),e(le!=null),e(0<ye),He=0;He<je;++He){if(15<Te[He])return 0;++Xe[Te[He]]}if(Xe[0]==je)return 0;for(st[1]=0,Ee=1;15>Ee;++Ee){if(Xe[Ee]>1<<Ee)return 0;st[Ee+1]=st[Ee]+Xe[Ee]}for(He=0;He<je;++He)Ee=Te[He],0<Te[He]&&(Je[st[Ee]++]=He);if(st[15]==1)return(Te=new ue).g=0,Te.value=Je[0],B(le,Ke,1,lt,Te),lt;var ft,Lt=-1,_t=lt-1,nr=0,Ht=1,Pr=1,Kt=1<<ye;for(He=0,Ee=1,je=2;Ee<=ye;++Ee,je<<=1){if(Ht+=Pr<<=1,0>(Pr-=Xe[Ee]))return 0;for(;0<Xe[Ee];--Xe[Ee])(Te=new ue).g=Ee,Te.value=Je[He++],B(le,Ke+nr,je,Kt,Te),nr=J(nr,Ee)}for(Ee=ye+1,je=2;15>=Ee;++Ee,je<<=1){if(Ht+=Pr<<=1,0>(Pr-=Xe[Ee]))return 0;for(;0<Xe[Ee];--Xe[Ee]){if(Te=new ue,(nr&_t)!=Lt){for(Ke+=Kt,ft=1<<(Lt=Ee)-ye;15>Lt&&!(0>=(ft-=Xe[Lt]));)++Lt,ft<<=1;lt+=Kt=1<<(ft=Lt-ye),le[me+(Lt=nr&_t)].g=ft+ye,le[me+Lt].value=Ke-me-Lt}Te.g=Ee-ye,Te.value=Je[He++],B(le,Ke+(nr>>ye),je,Kt,Te),nr=J(nr,Ee)}}return Ht!=2*st[15]-1?0:lt})(w,A,R,U,te,ie)}function ue(){this.value=this.g=0}function de(){this.value=this.g=0}function xe(){this.G=s(5,ue),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Zs,de)}function oe(w,A,R,U){e(w!=null),e(A!=null),e(2147483648>U),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=A,w.pa=R,w.Jd=A,w.Yc=R+U,w.Zc=4<=U?R+U-4+1:R,Oe(w)}function be(w,A){for(var R=0;0<A--;)R|=Ie(w,128)<<A;return R}function _e(w,A){var R=be(w,A);return Re(w)?-R:R}function Le(w,A,R,U){var te,ie=0;for(e(w!=null),e(A!=null),e(4294967288>U),w.Sb=U,w.Ra=0,w.u=0,w.h=0,4<U&&(U=4),te=0;te<U;++te)ie+=A[R+te]<<8*te;w.Ra=ie,w.bb=U,w.oa=A,w.pa=R}function Ne(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<as-8>>>0,++w.bb,w.u-=8;Y(w)&&(w.h=1,w.u=0)}function ee(w,A){if(e(0<=A),!w.h&&A<=ii){var R=H(w)&Ha[A];return w.u+=A,Ne(w),R}return w.h=1,w.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(w){return w.Ra>>>(w.u&as-1)>>>0}function Y(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>as}function se(w,A){w.u=A,w.h=Y(w)}function Ae(w){w.u>=so&&(e(w.u>=so),Ne(w))}function Oe(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function Re(w){return be(w,1)}function Ie(w,A){var R=w.Ca;0>w.b&&Oe(w);var U=w.b,te=R*A>>>8,ie=(w.I>>>U>te)+0;for(ie?(R-=te,w.I-=te+1<<U>>>0):R=te+1,U=R,te=0;256<=U;)te+=8,U>>=8;return U=7^te+Ys[U],w.b-=U,w.Ca=(R<<U)-1,ie}function ot(w,A,R){w[A+0]=R>>24&255,w[A+1]=R>>16&255,w[A+2]=R>>8&255,w[A+3]=255&R}function it(w,A){return w[A+0]|w[A+1]<<8}function Tt(w,A){return it(w,A)|w[A+2]<<16}function Nt(w,A){return it(w,A)|it(w,A+2)<<16}function we(w,A){var R=1<<A;return e(w!=null),e(0<A),w.X=a(R),w.X==null?0:(w.Mb=32-A,w.Xa=A,1)}function yt(w,A){e(w!=null),e(A!=null),e(w.Xa==A.Xa),n(A.X,0,w.X,0,1<<A.Xa)}function xt(){this.X=[],this.Xa=this.Mb=0}function zt(w,A,R,U){e(R!=null),e(U!=null);var te=R[0],ie=U[0];return te==0&&(te=(w*ie+A/2)/A),ie==0&&(ie=(A*te+w/2)/w),0>=te||0>=ie?0:(R[0]=te,U[0]=ie,1)}function dt(w,A){return w+(1<<A)-1>>>A}function Vt(w,A){return((4278255360&w)+(4278255360&A)>>>0&4278255360)+((16711935&w)+(16711935&A)>>>0&16711935)>>>0}function jt(w,A){F[A]=function(R,U,te,ie,le,me,ye){var Te;for(Te=0;Te<le;++Te){var je=F[w](me[ye+Te-1],te,ie+Te);me[ye+Te]=Vt(R[U+Te],je)}}}function sr(){this.ud=this.hd=this.jd=0}function Xt(w,A){return((4278124286&(w^A))>>>1)+(w&A)>>>0}function Jt(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Er(w,A){return Jt(w+(w-A+.5>>1))}function dr(w,A,R){return Math.abs(A-R)-Math.abs(w-R)}function Nr(w,A,R,U,te,ie,le){for(U=ie[le-1],R=0;R<te;++R)ie[le+R]=U=Vt(w[A+R],U)}function or(w,A,R,U,te){var ie;for(ie=0;ie<R;++ie){var le=w[A+ie],me=le>>8&255,ye=16711935&(ye=(ye=16711935&le)+((me<<16)+me));U[te+ie]=(4278255360&le)+ye>>>0}}function Ft(w,A){A.jd=255&w,A.hd=w>>8&255,A.ud=w>>16&255}function _r(w,A,R,U,te,ie){var le;for(le=0;le<U;++le){var me=A[R+le],ye=me>>>8,Te=me,je=255&(je=(je=me>>>16)+((w.jd<<24>>24)*(ye<<24>>24)>>>5));Te=255&(Te=(Te+=(w.hd<<24>>24)*(ye<<24>>24)>>>5)+((w.ud<<24>>24)*(je<<24>>24)>>>5)),te[ie+le]=(4278255360&me)+(je<<16)+Te}}function Wt(w,A,R,U,te){F[A]=function(ie,le,me,ye,Te,je,Je,Ee,He){for(ye=Je;ye<Ee;++ye)for(Je=0;Je<He;++Je)Te[je++]=te(me[U(ie[le++])])},F[w]=function(ie,le,me,ye,Te,je,Je){var Ee=8>>ie.b,He=ie.Ea,Ke=ie.K[0],lt=ie.w;if(8>Ee)for(ie=(1<<ie.b)-1,lt=(1<<Ee)-1;le<me;++le){var Xe,st=0;for(Xe=0;Xe<He;++Xe)Xe&ie||(st=U(ye[Te++])),je[Je++]=te(Ke[st&lt]),st>>=Ee}else F["VP8LMapColor"+R](ye,Te,Ke,lt,je,Je,le,me,He)}}function yn(w,A,R,U,te){for(R=A+R;A<R;){var ie=w[A++];U[te++]=ie>>16&255,U[te++]=ie>>8&255,U[te++]=255&ie}}function Mr(w,A,R,U,te){for(R=A+R;A<R;){var ie=w[A++];U[te++]=ie>>16&255,U[te++]=ie>>8&255,U[te++]=255&ie,U[te++]=ie>>24&255}}function Gt(w,A,R,U,te){for(R=A+R;A<R;){var ie=(le=w[A++])>>16&240|le>>12&15,le=240&le|le>>28&15;U[te++]=ie,U[te++]=le}}function pr(w,A,R,U,te){for(R=A+R;A<R;){var ie=(le=w[A++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;U[te++]=ie,U[te++]=le}}function Dr(w,A,R,U,te){for(R=A+R;A<R;){var ie=w[A++];U[te++]=255&ie,U[te++]=ie>>8&255,U[te++]=ie>>16&255}}function Yt(w,A,R,U,te,ie){if(ie==0)for(R=A+R;A<R;)ot(U,((ie=w[A++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),te+=32;else n(U,te,w,A,R)}function ln(w,A){F[A][0]=F[w+"0"],F[A][1]=F[w+"1"],F[A][2]=F[w+"2"],F[A][3]=F[w+"3"],F[A][4]=F[w+"4"],F[A][5]=F[w+"5"],F[A][6]=F[w+"6"],F[A][7]=F[w+"7"],F[A][8]=F[w+"8"],F[A][9]=F[w+"9"],F[A][10]=F[w+"10"],F[A][11]=F[w+"11"],F[A][12]=F[w+"12"],F[A][13]=F[w+"13"],F[A][14]=F[w+"0"],F[A][15]=F[w+"0"]}function cr(w){return w==fc||w==qc||w==dc||w==h}function ur(){this.eb=[],this.size=this.A=this.fb=0}function en(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ur,this.f.kb=new en,this.sd=null}function Zt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ea(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function ci(w,A){var R=w.T,U=A.ba.f.RGBA,te=U.eb,ie=U.fb+w.ka*U.A,le=Si[A.ba.S],me=w.y,ye=w.O,Te=w.f,je=w.N,Je=w.ea,Ee=w.W,He=A.cc,Ke=A.dc,lt=A.Mc,Xe=A.Nc,st=w.ka,ft=w.ka+w.T,Lt=w.U,_t=Lt+1>>1;for(st==0?le(me,ye,null,null,Te,je,Je,Ee,Te,je,Je,Ee,te,ie,null,null,Lt):(le(A.ec,A.fc,me,ye,He,Ke,lt,Xe,Te,je,Je,Ee,te,ie-U.A,te,ie,Lt),++R);st+2<ft;st+=2)He=Te,Ke=je,lt=Je,Xe=Ee,je+=w.Rc,Ee+=w.Rc,ie+=2*U.A,le(me,(ye+=2*w.fa)-w.fa,me,ye,He,Ke,lt,Xe,Te,je,Je,Ee,te,ie-U.A,te,ie,Lt);return ye+=w.fa,w.j+ft<w.o?(n(A.ec,A.fc,me,ye,Lt),n(A.cc,A.dc,Te,je,_t),n(A.Mc,A.Nc,Je,Ee,_t),R--):1&ft||le(me,ye,null,null,Te,je,Je,Ee,Te,je,Je,Ee,te,ie+U.A,null,null,Lt),R}function Qi(w,A,R){var U=w.F,te=[w.J];if(U!=null){var ie=w.U,le=A.ba.S,me=le==hc||le==dc;A=A.ba.f.RGBA;var ye=[0],Te=w.ka;ye[0]=w.T,w.Kb&&(Te==0?--ye[0]:(--Te,te[0]-=w.width),w.j+w.ka+w.T==w.o&&(ye[0]=w.o-w.j-Te));var je=A.eb;Te=A.fb+Te*A.A,w=cc(U,te[0],w.width,ie,ye,je,Te+(me?0:3),A.A),e(R==ye),w&&cr(le)&&Ns(je,Te,me,ie,ye,A.A)}return 0}function Ci(w){var A=w.ma,R=A.ba.S,U=11>R,te=R==aa||R==ls||R==hc||R==Rl||R==12||cr(R);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Io(A.Oa,w,te?11:12))return 0;if(te&&cr(R)&&jo(),w.da)alert("todo:use_scaling");else{if(U){if(A.Ib=Ea,w.Kb){if(R=w.U+1>>1,A.memory=a(w.U+2*R),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+w.U,A.Mc=A.cc,A.Nc=A.dc+R,A.Ib=ci,jo()}}else alert("todo:EmitYUV");te&&(A.Jb=Qi,U&&ra())}if(U&&!_c){for(w=0;256>w;++w)Da[w]=89858*(w-128)+Su>>mo,vg[w]=-22014*(w-128)+Su,Pp[w]=-45773*(w-128),af[w]=113618*(w-128)+Su>>mo;for(w=Vc;w<vc;++w)A=76283*(w-16)+Su>>mo,_g[w-Vc]=Ut(A,255),yg[w-Vc]=Ut(A+8>>4,15);_c=1}return 1}function Qt(w){var A=w.ma,R=w.U,U=w.T;return e(!(1&w.ka)),0>=R||0>=U?0:(R=A.Ib(w,A),A.Jb!=null&&A.Jb(w,A,R),A.Dc+=R,1)}function Ja(w){w.ma.memory=null}function Ua(w,A,R,U){return ee(w,8)!=47?0:(A[0]=ee(w,14)+1,R[0]=ee(w,14)+1,U[0]=ee(w,1),ee(w,3)!=0?0:!w.h)}function Ce(w,A){if(4>w)return w+1;var R=w-2>>1;return(2+(1&w)<<R)+ee(A,R)+1}function Ge(w,A){return 120<A?A-120:1<=(R=((R=Me[A-1])>>4)*w+(8-(15&R)))?R:1;var R}function qe(w,A,R){var U=H(R),te=w[A+=255&U].g-8;return 0<te&&(se(R,R.u+8),U=H(R),A+=w[A].value,A+=U&(1<<te)-1),se(R,R.u+w[A].g),w[A].value}function Ye(w,A,R){return R.g+=w.g,R.value+=w.value<<A>>>0,e(8>=R.g),w.g}function K(w,A,R){var U=w.xc;return e((A=U==0?0:w.vc[w.md*(R>>U)+(A>>U)])<w.Wb),w.Ya[A]}function pe(w,A,R,U){var te=w.ab,ie=w.c*A,le=w.C;A=le+A;var me=R,ye=U;for(U=w.Ta,R=w.Ua;0<te--;){var Te=w.gc[te],je=le,Je=A,Ee=me,He=ye,Ke=(ye=U,me=R,Te.Ea);switch(e(je<Je),e(Je<=Te.nc),Te.hc){case 2:fi(Ee,He,(Je-je)*Ke,ye,me);break;case 0:var lt=je,Xe=Je,st=ye,ft=me,Lt=(Kt=Te).Ea;lt==0&&(oc(Ee,He,null,null,1,st,ft),Nr(Ee,He+1,0,0,Lt-1,st,ft+1),He+=Lt,ft+=Lt,++lt);for(var _t=1<<Kt.b,nr=_t-1,Ht=dt(Lt,Kt.b),Pr=Kt.K,Kt=Kt.w+(lt>>Kt.b)*Ht;lt<Xe;){var Qr=Pr,Qn=Kt,jr=1;for(qa(Ee,He,st,ft-Lt,1,st,ft);jr<Lt;){var qt=(jr&~nr)+_t;qt>Lt&&(qt=Lt),(0,lo[Qr[Qn++]>>8&15])(Ee,He+ +jr,st,ft+jr-Lt,qt-jr,st,ft+jr),jr=qt}He+=Lt,ft+=Lt,++lt&nr||(Kt+=Ht)}Je!=Te.nc&&n(ye,me-Ke,ye,me+(Je-je-1)*Ke,Ke);break;case 1:for(Ke=Ee,Xe=He,Lt=(Ee=Te.Ea)-(ft=Ee&~(st=(He=1<<Te.b)-1)),lt=dt(Ee,Te.b),_t=Te.K,Te=Te.w+(je>>Te.b)*lt;je<Je;){for(nr=_t,Ht=Te,Pr=new sr,Kt=Xe+ft,Qr=Xe+Ee;Xe<Kt;)Ft(nr[Ht++],Pr),ul(Pr,Ke,Xe,He,ye,me),Xe+=He,me+=He;Xe<Qr&&(Ft(nr[Ht++],Pr),ul(Pr,Ke,Xe,Lt,ye,me),Xe+=Lt,me+=Lt),++je&st||(Te+=lt)}break;case 3:if(Ee==ye&&He==me&&0<Te.b){for(Xe=ye,Ee=Ke=me+(Je-je)*Ke-(ft=(Je-je)*dt(Te.Ea,Te.b)),He=ye,st=me,lt=[],ft=(Lt=ft)-1;0<=ft;--ft)lt[ft]=He[st+ft];for(ft=Lt-1;0<=ft;--ft)Xe[Ee+ft]=lt[ft];Bo(Te,je,Je,ye,Ke,ye,me)}else Bo(Te,je,Je,Ee,He,ye,me)}me=U,ye=R}ye!=R&&n(U,R,me,ye,ie)}function re(w,A){var R=w.V,U=w.Ba+w.c*w.C,te=A-w.C;if(e(A<=w.l.o),e(16>=te),0<te){var ie=w.l,le=w.Ta,me=w.Ua,ye=ie.width;if(pe(w,te,R,U),te=me=[me],e((R=w.C)<(U=A)),e(ie.v<ie.va),U>ie.o&&(U=ie.o),R<ie.j){var Te=ie.j-R;R=ie.j,te[0]+=Te*ye}if(R>=U?R=0:(te[0]+=4*ie.v,ie.ka=R-ie.j,ie.U=ie.va-ie.v,ie.T=U-R,R=1),R){if(me=me[0],11>(R=w.ca).S){var je=R.f.RGBA,Je=(U=R.S,te=ie.U,ie=ie.T,Te=je.eb,je.A),Ee=ie;for(je=je.fb+w.Ma*je.A;0<Ee--;){var He=le,Ke=me,lt=te,Xe=Te,st=je;switch(U){case wu:Uo(He,Ke,lt,Xe,st);break;case aa:Ks(He,Ke,lt,Xe,st);break;case fc:Ks(He,Ke,lt,Xe,st),Ns(Xe,st,0,lt,1,0);break;case Hc:co(He,Ke,lt,Xe,st);break;case ls:Yt(He,Ke,lt,Xe,st,1);break;case qc:Yt(He,Ke,lt,Xe,st,1),Ns(Xe,st,0,lt,1,0);break;case hc:Yt(He,Ke,lt,Xe,st,0);break;case dc:Yt(He,Ke,lt,Xe,st,0),Ns(Xe,st,1,lt,1,0);break;case Rl:Ls(He,Ke,lt,Xe,st);break;case h:Ls(He,Ke,lt,Xe,st),ss(Xe,st,lt,1,0);break;case hl:Ma(He,Ke,lt,Xe,st);break;default:e(0)}me+=ye,je+=Je}w.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=R.height)}}w.C=A,e(w.C<=w.i)}function ne(w){var A;if(0<w.ua)return 0;for(A=0;A<w.Wb;++A){var R=w.Ya[A].G,U=w.Ya[A].H;if(0<R[1][U[1]+0].g||0<R[2][U[2]+0].g||0<R[3][U[3]+0].g)return 0}return 1}function he(w,A,R,U,te,ie){if(w.Z!=0){var le=w.qd,me=w.rd;for(e(wn[w.Z]!=null);A<R;++A)wn[w.Z](le,me,U,te,U,te,ie),le=U,me=te,te+=ie;w.qd=le,w.rd=me}}function ge(w,A){var R=w.l.ma,U=R.Z==0||R.Z==1?w.l.j:w.C;if(U=w.C<U?U:w.C,e(A<=w.l.o),A>U){var te=w.l.width,ie=R.ca,le=R.tb+te*U,me=w.V,ye=w.Ba+w.c*U,Te=w.gc;e(w.ab==1),e(Te[0].hc==3),Bi(Te[0],U,A,me,ye,ie,le),he(R,U,A,ie,le,te)}w.C=w.Ma=A}function Pe(w,A,R,U,te,ie,le){var me=w.$/U,ye=w.$%U,Te=w.m,je=w.s,Je=R+w.$,Ee=Je;te=R+U*te;var He=R+U*ie,Ke=280+je.ua,lt=w.Pb?me:16777216,Xe=0<je.ua?je.Wa:null,st=je.wc,ft=Je<He?K(je,ye,me):null;e(w.C<ie),e(He<=te);var Lt=!1;e:for(;;){for(;Lt||Je<He;){var _t=0;if(me>=lt){var nr=Je-R;e((lt=w).Pb),lt.wd=lt.m,lt.xd=nr,0<lt.s.ua&&yt(lt.s.Wa,lt.s.vb),lt=me+tt}if(ye&st||(ft=K(je,ye,me)),e(ft!=null),ft.Qb&&(A[Je]=ft.qb,Lt=!0),!Lt)if(Ae(Te),ft.jc){_t=Te,nr=A;var Ht=Je,Pr=ft.pd[H(_t)&Zs-1];e(ft.jc),256>Pr.g?(se(_t,_t.u+Pr.g),nr[Ht]=Pr.value,_t=0):(se(_t,_t.u+Pr.g-256),e(256<=Pr.value),_t=Pr.value),_t==0&&(Lt=!0)}else _t=qe(ft.G[0],ft.H[0],Te);if(Te.h)break;if(Lt||256>_t){if(!Lt)if(ft.nd)A[Je]=(ft.qb|_t<<8)>>>0;else{if(Ae(Te),Lt=qe(ft.G[1],ft.H[1],Te),Ae(Te),nr=qe(ft.G[2],ft.H[2],Te),Ht=qe(ft.G[3],ft.H[3],Te),Te.h)break;A[Je]=(Ht<<24|Lt<<16|_t<<8|nr)>>>0}if(Lt=!1,++Je,++ye>=U&&(ye=0,++me,le!=null&&me<=ie&&!(me%16)&&le(w,me),Xe!=null))for(;Ee<Je;)_t=A[Ee++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t}else if(280>_t){if(_t=Ce(_t-256,Te),nr=qe(ft.G[4],ft.H[4],Te),Ae(Te),nr=Ge(U,nr=Ce(nr,Te)),Te.h)break;if(Je-R<nr||te-Je<_t)break e;for(Ht=0;Ht<_t;++Ht)A[Je+Ht]=A[Je+Ht-nr];for(Je+=_t,ye+=_t;ye>=U;)ye-=U,++me,le!=null&&me<=ie&&!(me%16)&&le(w,me);if(e(Je<=te),ye&st&&(ft=K(je,ye,me)),Xe!=null)for(;Ee<Je;)_t=A[Ee++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t}else{if(!(_t<Ke))break e;for(Lt=_t-280,e(Xe!=null);Ee<Je;)_t=A[Ee++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t;_t=Je,e(!(Lt>>>(nr=Xe).Xa)),A[_t]=nr.X[Lt],Lt=!0}Lt||e(Te.h==Y(Te))}if(w.Pb&&Te.h&&Je<te)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&yt(w.s.vb,w.s.Wa);else{if(Te.h)break e;le?.(w,me>ie?ie:me),w.a=0,w.$=Je-R}return 1}return w.a=3,0}function ze(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var A=w.Wa;A!=null&&(A.X=null),w.vb=null,e(w!=null)}function Be(){var w=new br;return w==null?null:(w.a=0,w.xb=bu,ln("Predictor","VP8LPredictors"),ln("Predictor","VP8LPredictors_C"),ln("PredictorAdd","VP8LPredictorsAdd"),ln("PredictorAdd","VP8LPredictorsAdd_C"),fi=or,ul=_r,Uo=yn,Ks=Mr,Ls=Gt,Ma=pr,co=Dr,F.VP8LMapColor32b=oo,F.VP8LMapColor8b=wi,w)}function Ue(w,A,R,U,te){var ie=1,le=[w],me=[A],ye=U.m,Te=U.s,je=null,Je=0;e:for(;;){if(R)for(;ie&&ee(ye,1);){var Ee=le,He=me,Ke=U,lt=1,Xe=Ke.m,st=Ke.gc[Ke.ab],ft=ee(Xe,2);if(Ke.Oc&1<<ft)ie=0;else{switch(Ke.Oc|=1<<ft,st.hc=ft,st.Ea=Ee[0],st.nc=He[0],st.K=[null],++Ke.ab,e(4>=Ke.ab),ft){case 0:case 1:st.b=ee(Xe,3)+2,lt=Ue(dt(st.Ea,st.b),dt(st.nc,st.b),0,Ke,st.K),st.K=st.K[0];break;case 3:var Lt,_t=ee(Xe,8)+1,nr=16<_t?0:4<_t?1:2<_t?2:3;if(Ee[0]=dt(st.Ea,nr),st.b=nr,Lt=lt=Ue(_t,1,0,Ke,st.K)){var Ht,Pr=_t,Kt=st,Qr=1<<(8>>Kt.b),Qn=a(Qr);if(Qn==null)Lt=0;else{var jr=Kt.K[0],qt=Kt.w;for(Qn[0]=Kt.K[0][0],Ht=1;Ht<1*Pr;++Ht)Qn[Ht]=Vt(jr[qt+Ht],Qn[Ht-1]);for(;Ht<4*Qr;++Ht)Qn[Ht]=0;Kt.K[0]=null,Kt.K[0]=Qn,Lt=1}}lt=Lt;break;case 2:break;default:e(0)}ie=lt}}if(le=le[0],me=me[0],ie&&ee(ye,1)&&!(ie=1<=(Je=ee(ye,4))&&11>=Je)){U.a=3;break e}var Rt;if(Rt=ie)t:{var pi,Sr,zr,Tn=U,oa=le,ja=me,qn=Je,zi=R,Va=Tn.m,Gi=Tn.s,$r=[null],mn=1,mi=0,_n=We[qn];r:for(;;){if(zi&&ee(Va,1)){var la=ee(Va,3)+2,gi=dt(oa,la),gn=dt(ja,la),ji=gi*gn;if(!Ue(gi,gn,0,Tn,$r))break r;for($r=$r[0],Gi.xc=la,pi=0;pi<ji;++pi){var An=$r[pi]>>8&65535;$r[pi]=An,An>=mn&&(mn=An+1)}}if(Va.h)break r;for(Sr=0;5>Sr;++Sr){var Hi=k[Sr];!Sr&&0<qn&&(Hi+=1<<qn),mi<Hi&&(mi=Hi)}var qi=s(mn*_n,ue),jn=mn,hn=s(jn,xe);if(hn==null)var $a=null;else e(65536>=jn),$a=hn;var Ei=a(mi);if($a==null||Ei==null||qi==null){Tn.a=1;break r}var mr=qi;for(pi=zr=0;pi<mn;++pi){var gr=$a[pi],vn=gr.G,ks=gr.H,go=0,us=1,Vi=0;for(Sr=0;5>Sr;++Sr){Hi=k[Sr],vn[Sr]=mr,ks[Sr]=zr,!Sr&&0<qn&&(Hi+=1<<qn);i:{var yc,xc=Hi,of=Tn,Vn=Ei,Nd=mr,Cd=zr,lf=0,jl=of.m,xg=ee(jl,1);if(i(Vn,0,0,xc),xg){var Md=ee(jl,1)+1,kd=ee(jl,1),cf=ee(jl,kd==0?1:8);Vn[cf]=1,Md==2&&(Vn[cf=ee(jl,8)]=1);var ga=1}else{var Ti=a(19),gh=ee(jl,4)+4;if(19<gh){of.a=3;var wc=0;break i}for(yc=0;yc<gh;++yc)Ti[ae[yc]]=ee(jl,3);var Tu=void 0,$c=void 0,dl=of,uf=Ti,Au=xc,hf=Vn,ff=0,Il=dl.m,Pd=8,Od=s(128,ue);n:for(;Z(Od,0,7,uf,19);){if(ee(Il,1)){var Op=2+2*ee(Il,3);if((Tu=2+ee(Il,Op))>Au)break n}else Tu=Au;for($c=0;$c<Au&&Tu--;){Ae(Il);var Rd=Od[0+(127&H(Il))];se(Il,Il.u+Rd.g);var bc=Rd.value;if(16>bc)hf[$c++]=bc,bc!=0&&(Pd=bc);else{var Rp=bc==16,Dp=bc-16,jp=b[Dp],Dd=ee(Il,m[Dp])+jp;if($c+Dd>Au)break n;for(var Ip=Rp?Pd:0;0<Dd--;)hf[$c++]=Ip}}ff=1;break n}ff||(dl.a=3),ga=ff}(ga=ga&&!jl.h)&&(lf=Z(Nd,Cd,8,Vn,xc)),ga&&lf!=0?wc=lf:(of.a=3,wc=0)}if(wc==0)break r;if(us&&z[Sr]==1&&(us=mr[zr].g==0),go+=mr[zr].g,zr+=wc,3>=Sr){var Wc,df=Ei[0];for(Wc=1;Wc<Hi;++Wc)Ei[Wc]>df&&(df=Ei[Wc]);Vi+=df}}if(gr.nd=us,gr.Qb=0,us&&(gr.qb=(vn[3][ks[3]+0].value<<24|vn[1][ks[1]+0].value<<16|vn[2][ks[2]+0].value)>>>0,go==0&&256>vn[0][ks[0]+0].value&&(gr.Qb=1,gr.qb+=vn[0][ks[0]+0].value<<8)),gr.jc=!gr.Qb&&6>Vi,gr.jc){var vh,pl=gr;for(vh=0;vh<Zs;++vh){var Fl=vh,Bl=pl.pd[Fl],pf=pl.G[0][pl.H[0]+Fl];256<=pf.value?(Bl.g=pf.g+256,Bl.value=pf.value):(Bl.g=0,Bl.value=0,Fl>>=Ye(pf,8,Bl),Fl>>=Ye(pl.G[1][pl.H[1]+Fl],16,Bl),Fl>>=Ye(pl.G[2][pl.H[2]+Fl],0,Bl),Ye(pl.G[3][pl.H[3]+Fl],24,Bl))}}}Gi.vc=$r,Gi.Wb=mn,Gi.Ya=$a,Gi.yc=qi,Rt=1;break t}Rt=0}if(!(ie=Rt)){U.a=3;break e}if(0<Je){if(Te.ua=1<<Je,!we(Te.Wa,Je)){U.a=1,ie=0;break e}}else Te.ua=0;var mf=U,Zc=le,Fp=me,Lu=mf.s,Nu=Lu.xc;if(mf.c=Zc,mf.i=Fp,Lu.md=dt(Zc,Nu),Lu.wc=Nu==0?-1:(1<<Nu)-1,R){U.xb=fl;break e}if((je=a(le*me))==null){U.a=1,ie=0;break e}ie=(ie=Pe(U,je,0,le,me,me,null))&&!ye.h;break e}return ie?(te!=null?te[0]=je:(e(je==null),e(R)),U.$=0,R||ze(Te)):ze(Te),ie}function $e(w,A){var R=w.c*w.i,U=R+A+16*A;return e(w.c<=A),w.V=a(U),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+R+A,1)}function ht(w,A){var R=w.C,U=A-R,te=w.V,ie=w.Ba+w.c*R;for(e(A<=w.l.o);0<U;){var le=16<U?16:U,me=w.l.ma,ye=w.l.width,Te=ye*le,je=me.ca,Je=me.tb+ye*R,Ee=w.Ta,He=w.Ua;pe(w,le,te,ie),os(Ee,He,je,Je,Te),he(me,R,R+le,je,Je,ye),U-=le,te+=le*w.c,R+=le}e(R==A),w.C=w.Ma=A}function bt(){this.ub=this.yd=this.td=this.Rb=0}function wt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Mt(){this.Yb=(function(){var w=[];return(function A(R,U,te){for(var ie=te[U],le=0;le<ie&&(R.push(te.length>U+1?[]:0),!(te.length<U+1));le++)A(R[le],U+1,te)})(w,0,[3,11]),w})()}function Bt(){this.jb=a(3),this.Wc=l([4,8],Mt),this.Xc=l([4,17],Mt)}function Hr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function wr(){this.ld=this.La=this.dd=this.tc=0}function nn(){this.Na=this.la=0}function Kn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xn(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ea(){this.uc=this.M=this.Nb=0,this.wa=Array(new wr),this.Y=0,this.ya=Array(new Xn),this.aa=0,this.l=new qr}function Mi(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ar(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new bt,this.Kc=new wt,this.ed=new Hr,this.Qa=new gt,this.Ic=this.$c=this.Aa=0,this.D=new ea,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,O),this.ia=0,this.pb=s(4,Kn),this.Pa=new Bt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Mi),this.Hd=0,this.rb=Array(new nn),this.sb=0,this.wa=Array(new wr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xn),this.L=this.aa=0,this.gd=l([4,2],wr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ut(w,A){return 0>w?0:w>A?A:w}function qr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ri(){var w=new Ar;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,tr||(tr=yr)),w}function ar(w,A,R){return w.a==0&&(w.a=A,w.sc=R,w.cb=0),0}function Ta(w,A,R){return 3<=R&&w[A+0]==157&&w[A+1]==1&&w[A+2]==42}function Aa(w,A){if(w==null)return 0;if(w.a=0,w.sc="OK",A==null)return ar(w,2,"null VP8Io passed to VP8GetHeaders()");var R=A.data,U=A.w,te=A.ha;if(4>te)return ar(w,7,"Truncated header.");var ie=R[U+0]|R[U+1]<<8|R[U+2]<<16,le=w.Od;if(le.Rb=!(1&ie),le.td=ie>>1&7,le.yd=ie>>4&1,le.ub=ie>>5,3<le.td)return ar(w,3,"Incorrect keyframe parameters.");if(!le.yd)return ar(w,4,"Frame not displayable.");U+=3,te-=3;var me=w.Kc;if(le.Rb){if(7>te)return ar(w,7,"cannot parse picture header");if(!Ta(R,U,te))return ar(w,3,"Bad code word");me.c=16383&(R[U+4]<<8|R[U+3]),me.Td=R[U+4]>>6,me.i=16383&(R[U+6]<<8|R[U+5]),me.Ud=R[U+6]>>6,U+=7,te-=7,w.za=me.c+15>>4,w.Ub=me.i+15>>4,A.width=me.c,A.height=me.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,i((ie=w.Pa).jb,0,255,ie.jb.length),e((ie=w.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,i(ie.Zb,0,0,ie.Zb.length),i(ie.Lb,0,0,ie.Lb)}if(le.ub>te)return ar(w,7,"bad partition length");oe(ie=w.m,R,U,le.ub),U+=le.ub,te-=le.ub,le.Rb&&(me.Ld=Re(ie),me.Kd=Re(ie)),me=w.Qa;var ye,Te=w.Pa;if(e(ie!=null),e(me!=null),me.Cb=Re(ie),me.Cb){if(me.Bb=Re(ie),Re(ie)){for(me.Fb=Re(ie),ye=0;4>ye;++ye)me.Zb[ye]=Re(ie)?_e(ie,7):0;for(ye=0;4>ye;++ye)me.Lb[ye]=Re(ie)?_e(ie,6):0}if(me.Bb)for(ye=0;3>ye;++ye)Te.jb[ye]=Re(ie)?be(ie,8):255}else me.Bb=0;if(ie.Ka)return ar(w,3,"cannot parse segment header");if((me=w.ed).zd=Re(ie),me.Tb=be(ie,6),me.wb=be(ie,3),me.Pc=Re(ie),me.Pc&&Re(ie)){for(Te=0;4>Te;++Te)Re(ie)&&(me.vd[Te]=_e(ie,6));for(Te=0;4>Te;++Te)Re(ie)&&(me.od[Te]=_e(ie,6))}if(w.L=me.Tb==0?0:me.zd?1:2,ie.Ka)return ar(w,3,"cannot parse filter header");var je=te;if(te=ye=U,U=ye+je,me=je,w.Xb=(1<<be(w.m,2))-1,je<3*(Te=w.Xb))R=7;else{for(ye+=3*Te,me-=3*Te,je=0;je<Te;++je){var Je=R[te+0]|R[te+1]<<8|R[te+2]<<16;Je>me&&(Je=me),oe(w.Jc[+je],R,ye,Je),ye+=Je,me-=Je,te+=3}oe(w.Jc[+Te],R,ye,me),R=ye<U?0:5}if(R!=0)return ar(w,R,"cannot parse partitions");for(R=be(ye=w.m,7),te=Re(ye)?_e(ye,4):0,U=Re(ye)?_e(ye,4):0,me=Re(ye)?_e(ye,4):0,Te=Re(ye)?_e(ye,4):0,ye=Re(ye)?_e(ye,4):0,je=w.Qa,Je=0;4>Je;++Je){if(je.Cb){var Ee=je.Zb[Je];je.Fb||(Ee+=R)}else{if(0<Je){w.pb[Je]=w.pb[0];continue}Ee=R}var He=w.pb[Je];He.Sc[0]=pt[Ut(Ee+te,127)],He.Sc[1]=kt[Ut(Ee+0,127)],He.Eb[0]=2*pt[Ut(Ee+U,127)],He.Eb[1]=101581*kt[Ut(Ee+me,127)]>>16,8>He.Eb[1]&&(He.Eb[1]=8),He.Qc[0]=pt[Ut(Ee+Te,117)],He.Qc[1]=kt[Ut(Ee+ye,127)],He.lc=Ee+ye}if(!le.Rb)return ar(w,4,"Not a key frame.");for(Re(ie),le=w.Pa,R=0;4>R;++R){for(te=0;8>te;++te)for(U=0;3>U;++U)for(me=0;11>me;++me)Te=Ie(ie,pn[R][te][U][me])?be(ie,8):cs[R][te][U][me],le.Wc[R][te].Yb[U][me]=Te;for(te=0;17>te;++te)le.Xc[R][te]=le.Wc[R][Zr[te]]}return w.kc=Re(ie),w.kc&&(w.Bd=be(ie,8)),w.cb=1}function yr(w,A,R,U,te,ie,le){var me=A[te].Yb[R];for(R=0;16>te;++te){if(!Ie(w,me[R+0]))return te;for(;!Ie(w,me[R+1]);)if(me=A[++te].Yb[0],R=0,te==16)return 16;var ye=A[te+1].Yb;if(Ie(w,me[R+2])){var Te=w,je=0;if(Ie(Te,(Ee=me)[(Je=R)+3]))if(Ie(Te,Ee[Je+6])){for(me=0,Je=2*(je=Ie(Te,Ee[Je+8]))+(Ee=Ie(Te,Ee[Je+9+je])),je=0,Ee=Ur[Je];Ee[me];++me)je+=je+Ie(Te,Ee[me]);je+=3+(8<<Je)}else Ie(Te,Ee[Je+7])?(je=7+2*Ie(Te,165),je+=Ie(Te,145)):je=5+Ie(Te,159);else je=Ie(Te,Ee[Je+4])?3+Ie(Te,Ee[Je+5]):2;me=ye[2]}else je=1,me=ye[1];ye=le+sa[te],0>(Te=w).b&&Oe(Te);var Je,Ee=Te.b,He=(Je=Te.Ca>>1)-(Te.I>>Ee)>>31;--Te.b,Te.Ca+=He,Te.Ca|=1,Te.I-=(Je+1&He)<<Ee,ie[ye]=((je^He)-He)*U[(0<te)+0]}return 16}function Rn(w){var A=w.rb[w.sb-1];A.la=0,A.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function ta(w,A,R,U,te){te=w[A+R+32*U]+(te>>3),w[A+R+32*U]=-256&te?0>te?0:255:te}function ni(w,A,R,U,te,ie){ta(w,A,0,R,U+te),ta(w,A,1,R,U+ie),ta(w,A,2,R,U-ie),ta(w,A,3,R,U-te)}function cn(w){return(20091*w>>16)+w}function rc(w,A,R,U){var te,ie=0,le=a(16);for(te=0;4>te;++te){var me=w[A+0]+w[A+8],ye=w[A+0]-w[A+8],Te=(35468*w[A+4]>>16)-cn(w[A+12]),je=cn(w[A+4])+(35468*w[A+12]>>16);le[ie+0]=me+je,le[ie+1]=ye+Te,le[ie+2]=ye-Te,le[ie+3]=me-je,ie+=4,A++}for(te=ie=0;4>te;++te)me=(w=le[ie+0]+4)+le[ie+8],ye=w-le[ie+8],Te=(35468*le[ie+4]>>16)-cn(le[ie+12]),ta(R,U,0,0,me+(je=cn(le[ie+4])+(35468*le[ie+12]>>16))),ta(R,U,1,0,ye+Te),ta(R,U,2,0,ye-Te),ta(R,U,3,0,me-je),ie++,U+=32}function Al(w,A,R,U){var te=w[A+0]+4,ie=35468*w[A+4]>>16,le=cn(w[A+4]),me=35468*w[A+1]>>16;ni(R,U,0,te+le,w=cn(w[A+1]),me),ni(R,U,1,te+ie,w,me),ni(R,U,2,te-ie,w,me),ni(R,U,3,te-le,w,me)}function Gs(w,A,R,U,te){rc(w,A,R,U),te&&rc(w,A+16,R,U+4)}function Kr(w,A,R,U){uo(w,A+0,R,U,1),uo(w,A+32,R,U+128,1)}function Hs(w,A,R,U){var te;for(w=w[A+0]+4,te=0;4>te;++te)for(A=0;4>A;++A)ta(R,U,A,te,w)}function Mo(w,A,R,U){w[A+0]&&un(w,A+0,R,U),w[A+16]&&un(w,A+16,R,U+4),w[A+32]&&un(w,A+32,R,U+128),w[A+48]&&un(w,A+48,R,U+128+4)}function La(w,A,R,U){var te,ie=a(16);for(te=0;4>te;++te){var le=w[A+0+te]+w[A+12+te],me=w[A+4+te]+w[A+8+te],ye=w[A+4+te]-w[A+8+te],Te=w[A+0+te]-w[A+12+te];ie[0+te]=le+me,ie[8+te]=le-me,ie[4+te]=Te+ye,ie[12+te]=Te-ye}for(te=0;4>te;++te)le=(w=ie[0+4*te]+3)+ie[3+4*te],me=ie[1+4*te]+ie[2+4*te],ye=ie[1+4*te]-ie[2+4*te],Te=w-ie[3+4*te],R[U+0]=le+me>>3,R[U+16]=Te+ye>>3,R[U+32]=le-me>>3,R[U+48]=Te-ye>>3,U+=64}function ko(w,A,R){var U,te=A-32,ie=ia,le=255-w[te-1];for(U=0;U<R;++U){var me,ye=ie,Te=le+w[A-1];for(me=0;me<R;++me)w[A+me]=ye[Te+w[te+me]];A+=32}}function il(w,A){ko(w,A,4)}function nc(w,A){ko(w,A,8)}function Ll(w,A){ko(w,A,16)}function al(w,A){var R;for(R=0;16>R;++R)n(w,A+32*R,w,A-32,16)}function ic(w,A){var R;for(R=16;0<R;--R)i(w,A,w[A-1],16),A+=32}function da(w,A,R){var U;for(U=0;16>U;++U)i(A,R+32*U,w,16)}function za(w,A){var R,U=16;for(R=0;16>R;++R)U+=w[A-1+32*R]+w[A+R-32];da(U>>5,w,A)}function ro(w,A){var R,U=8;for(R=0;16>R;++R)U+=w[A-1+32*R];da(U>>4,w,A)}function Po(w,A){var R,U=8;for(R=0;16>R;++R)U+=w[A+R-32];da(U>>4,w,A)}function sl(w,A){da(128,w,A)}function Ct(w,A,R){return w+2*A+R+2>>2}function Qa(w,A){var R,U=A-32;for(U=new Uint8Array([Ct(w[U-1],w[U+0],w[U+1]),Ct(w[U+0],w[U+1],w[U+2]),Ct(w[U+1],w[U+2],w[U+3]),Ct(w[U+2],w[U+3],w[U+4])]),R=0;4>R;++R)n(w,A+32*R,U,0,U.length)}function fn(w,A){var R=w[A-1],U=w[A-1+32],te=w[A-1+64],ie=w[A-1+96];ot(w,A+0,16843009*Ct(w[A-1-32],R,U)),ot(w,A+32,16843009*Ct(R,U,te)),ot(w,A+64,16843009*Ct(U,te,ie)),ot(w,A+96,16843009*Ct(te,ie,ie))}function Fc(w,A){var R,U=4;for(R=0;4>R;++R)U+=w[A+R-32]+w[A-1+32*R];for(U>>=3,R=0;4>R;++R)i(w,A+32*R,U,4)}function Na(w,A){var R=w[A-1+0],U=w[A-1+32],te=w[A-1+64],ie=w[A-1-32],le=w[A+0-32],me=w[A+1-32],ye=w[A+2-32],Te=w[A+3-32];w[A+0+96]=Ct(U,te,w[A-1+96]),w[A+1+96]=w[A+0+64]=Ct(R,U,te),w[A+2+96]=w[A+1+64]=w[A+0+32]=Ct(ie,R,U),w[A+3+96]=w[A+2+64]=w[A+1+32]=w[A+0+0]=Ct(le,ie,R),w[A+3+64]=w[A+2+32]=w[A+1+0]=Ct(me,le,ie),w[A+3+32]=w[A+2+0]=Ct(ye,me,le),w[A+3+0]=Ct(Te,ye,me)}function ki(w,A){var R=w[A+1-32],U=w[A+2-32],te=w[A+3-32],ie=w[A+4-32],le=w[A+5-32],me=w[A+6-32],ye=w[A+7-32];w[A+0+0]=Ct(w[A+0-32],R,U),w[A+1+0]=w[A+0+32]=Ct(R,U,te),w[A+2+0]=w[A+1+32]=w[A+0+64]=Ct(U,te,ie),w[A+3+0]=w[A+2+32]=w[A+1+64]=w[A+0+96]=Ct(te,ie,le),w[A+3+32]=w[A+2+64]=w[A+1+96]=Ct(ie,le,me),w[A+3+64]=w[A+2+96]=Ct(le,me,ye),w[A+3+96]=Ct(me,ye,ye)}function Nl(w,A){var R=w[A-1+0],U=w[A-1+32],te=w[A-1+64],ie=w[A-1-32],le=w[A+0-32],me=w[A+1-32],ye=w[A+2-32],Te=w[A+3-32];w[A+0+0]=w[A+1+64]=ie+le+1>>1,w[A+1+0]=w[A+2+64]=le+me+1>>1,w[A+2+0]=w[A+3+64]=me+ye+1>>1,w[A+3+0]=ye+Te+1>>1,w[A+0+96]=Ct(te,U,R),w[A+0+64]=Ct(U,R,ie),w[A+0+32]=w[A+1+96]=Ct(R,ie,le),w[A+1+32]=w[A+2+96]=Ct(ie,le,me),w[A+2+32]=w[A+3+96]=Ct(le,me,ye),w[A+3+32]=Ct(me,ye,Te)}function es(w,A){var R=w[A+0-32],U=w[A+1-32],te=w[A+2-32],ie=w[A+3-32],le=w[A+4-32],me=w[A+5-32],ye=w[A+6-32],Te=w[A+7-32];w[A+0+0]=R+U+1>>1,w[A+1+0]=w[A+0+64]=U+te+1>>1,w[A+2+0]=w[A+1+64]=te+ie+1>>1,w[A+3+0]=w[A+2+64]=ie+le+1>>1,w[A+0+32]=Ct(R,U,te),w[A+1+32]=w[A+0+96]=Ct(U,te,ie),w[A+2+32]=w[A+1+96]=Ct(te,ie,le),w[A+3+32]=w[A+2+96]=Ct(ie,le,me),w[A+3+64]=Ct(le,me,ye),w[A+3+96]=Ct(me,ye,Te)}function Ca(w,A){var R=w[A-1+0],U=w[A-1+32],te=w[A-1+64],ie=w[A-1+96];w[A+0+0]=R+U+1>>1,w[A+2+0]=w[A+0+32]=U+te+1>>1,w[A+2+32]=w[A+0+64]=te+ie+1>>1,w[A+1+0]=Ct(R,U,te),w[A+3+0]=w[A+1+32]=Ct(U,te,ie),w[A+3+32]=w[A+1+64]=Ct(te,ie,ie),w[A+3+64]=w[A+2+64]=w[A+0+96]=w[A+1+96]=w[A+2+96]=w[A+3+96]=ie}function qs(w,A){var R=w[A-1+0],U=w[A-1+32],te=w[A-1+64],ie=w[A-1+96],le=w[A-1-32],me=w[A+0-32],ye=w[A+1-32],Te=w[A+2-32];w[A+0+0]=w[A+2+32]=R+le+1>>1,w[A+0+32]=w[A+2+64]=U+R+1>>1,w[A+0+64]=w[A+2+96]=te+U+1>>1,w[A+0+96]=ie+te+1>>1,w[A+3+0]=Ct(me,ye,Te),w[A+2+0]=Ct(le,me,ye),w[A+1+0]=w[A+3+32]=Ct(R,le,me),w[A+1+32]=w[A+3+64]=Ct(U,R,le),w[A+1+64]=w[A+3+96]=Ct(te,U,R),w[A+1+96]=Ct(ie,te,U)}function Cn(w,A){var R;for(R=0;8>R;++R)n(w,A+32*R,w,A-32,8)}function no(w,A){var R;for(R=0;8>R;++R)i(w,A,w[A-1],8),A+=32}function ts(w,A,R){var U;for(U=0;8>U;++U)i(A,R+32*U,w,8)}function Cl(w,A){var R,U=8;for(R=0;8>R;++R)U+=w[A+R-32]+w[A-1+32*R];ts(U>>4,w,A)}function ac(w,A){var R,U=4;for(R=0;8>R;++R)U+=w[A+R-32];ts(U>>3,w,A)}function Pi(w,A){var R,U=4;for(R=0;8>R;++R)U+=w[A-1+32*R];ts(U>>3,w,A)}function bs(w,A){ts(128,w,A)}function Ss(w,A,R){var U=w[A-R],te=w[A+0],ie=3*(te-U)+Cs[1020+w[A-2*R]-w[A+R]],le=Go[112+(ie+4>>3)];w[A-R]=ia[255+U+Go[112+(ie+3>>3)]],w[A+0]=ia[255+te-le]}function io(w,A,R,U){var te=w[A+0],ie=w[A+R];return Ui[255+w[A-2*R]-w[A-R]]>U||Ui[255+ie-te]>U}function Br(w,A,R,U){return 4*Ui[255+w[A-R]-w[A+0]]+Ui[255+w[A-2*R]-w[A+R]]<=U}function Ml(w,A,R,U,te){var ie=w[A-3*R],le=w[A-2*R],me=w[A-R],ye=w[A+0],Te=w[A+R],je=w[A+2*R],Je=w[A+3*R];return 4*Ui[255+me-ye]+Ui[255+le-Te]>U?0:Ui[255+w[A-4*R]-ie]<=te&&Ui[255+ie-le]<=te&&Ui[255+le-me]<=te&&Ui[255+Je-je]<=te&&Ui[255+je-Te]<=te&&Ui[255+Te-ye]<=te}function Oi(w,A,R,U){var te=2*U+1;for(U=0;16>U;++U)Br(w,A+U,R,te)&&Ss(w,A+U,R)}function rs(w,A,R,U){var te=2*U+1;for(U=0;16>U;++U)Br(w,A+U*R,1,te)&&Ss(w,A+U*R,1)}function ol(w,A,R,U){var te;for(te=3;0<te;--te)Oi(w,A+=4*R,R,U)}function Bc(w,A,R,U){var te;for(te=3;0<te;--te)rs(w,A+=4,R,U)}function Vs(w,A,R,U,te,ie,le,me){for(ie=2*ie+1;0<te--;){if(Ml(w,A,R,ie,le))if(io(w,A,R,me))Ss(w,A,R);else{var ye=w,Te=A,je=R,Je=ye[Te-2*je],Ee=ye[Te-je],He=ye[Te+0],Ke=ye[Te+je],lt=ye[Te+2*je],Xe=27*(ft=Cs[1020+3*(He-Ee)+Cs[1020+Je-Ke]])+63>>7,st=18*ft+63>>7,ft=9*ft+63>>7;ye[Te-3*je]=ia[255+ye[Te-3*je]+ft],ye[Te-2*je]=ia[255+Je+st],ye[Te-je]=ia[255+Ee+Xe],ye[Te+0]=ia[255+He-Xe],ye[Te+je]=ia[255+Ke-st],ye[Te+2*je]=ia[255+lt-ft]}A+=U}}function Oo(w,A,R,U,te,ie,le,me){for(ie=2*ie+1;0<te--;){if(Ml(w,A,R,ie,le))if(io(w,A,R,me))Ss(w,A,R);else{var ye=w,Te=A,je=R,Je=ye[Te-je],Ee=ye[Te+0],He=ye[Te+je],Ke=Go[112+(4+(lt=3*(Ee-Je))>>3)],lt=Go[112+(lt+3>>3)],Xe=Ke+1>>1;ye[Te-2*je]=ia[255+ye[Te-2*je]+Xe],ye[Te-je]=ia[255+Je+lt],ye[Te+0]=ia[255+Ee-Ke],ye[Te+je]=ia[255+He-Xe]}A+=U}}function Uc(w,A,R,U,te,ie){Vs(w,A,R,1,16,U,te,ie)}function Ro(w,A,R,U,te,ie){Vs(w,A,1,R,16,U,te,ie)}function yu(w,A,R,U,te,ie){var le;for(le=3;0<le;--le)Oo(w,A+=4*R,R,1,16,U,te,ie)}function P(w,A,R,U,te,ie){var le;for(le=3;0<le;--le)Oo(w,A+=4,1,R,16,U,te,ie)}function Q(w,A,R,U,te,ie,le,me){Vs(w,A,te,1,8,ie,le,me),Vs(R,U,te,1,8,ie,le,me)}function Se(w,A,R,U,te,ie,le,me){Vs(w,A,1,te,8,ie,le,me),Vs(R,U,1,te,8,ie,le,me)}function De(w,A,R,U,te,ie,le,me){Oo(w,A+4*te,te,1,8,ie,le,me),Oo(R,U+4*te,te,1,8,ie,le,me)}function Ve(w,A,R,U,te,ie,le,me){Oo(w,A+4,1,te,8,ie,le,me),Oo(R,U+4,1,te,8,ie,le,me)}function at(){this.ba=new xr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function St(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function er(){this.ua=0,this.Wa=new xt,this.vb=new xt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new ue}function br(){this.xb=this.a=0,this.l=new qr,this.ca=new xr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new er,this.ab=0,this.gc=s(4,$t),this.Oc=0}function kr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xr(w,A,R,U,te,ie,le){for(w=w==null?0:w[A+0],A=0;A<le;++A)te[ie+A]=w+R[U+A]&255,w=te[ie+A]}function Jn(w,A,R,U,te,ie,le){var me;if(w==null)Xr(null,null,R,U,te,ie,le);else for(me=0;me<le;++me)te[ie+me]=w[A+me]+R[U+me]&255}function ui(w,A,R,U,te,ie,le){if(w==null)Xr(null,null,R,U,te,ie,le);else{var me,ye=w[A+0],Te=ye,je=ye;for(me=0;me<le;++me)Te=je+(ye=w[A+me])-Te,je=R[U+me]+(-256&Te?0>Te?0:255:Te)&255,Te=ye,te[ie+me]=je}}function xn(w,A,R,U){var te=A.width,ie=A.o;if(e(w!=null&&A!=null),0>R||0>=U||R+U>ie)return null;if(!w.Cc){if(w.ga==null){var le;if(w.ga=new kr,(le=w.ga==null)||(le=A.width*A.o,e(w.Gb.length==0),w.Gb=a(le),w.Uc=0,w.Gb==null?le=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,le=1),le=!le),!le){le=w.ga;var me=w.Fa,ye=w.P,Te=w.qc,je=w.mb,Je=w.nb,Ee=ye+1,He=Te-1,Ke=le.l;if(e(me!=null&&je!=null&&A!=null),wn[0]=null,wn[1]=Xr,wn[2]=Jn,wn[3]=ui,le.ca=je,le.tb=Je,le.c=A.width,le.i=A.height,e(0<le.c&&0<le.i),1>=Te)A=0;else if(le.$a=3&me[ye+0],le.Z=me[ye+0]>>2&3,le.Lc=me[ye+0]>>4&3,ye=me[ye+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||ye)A=0;else if(Ke.put=Qt,Ke.ac=Ci,Ke.bc=Ja,Ke.ma=le,Ke.width=A.width,Ke.height=A.height,Ke.Da=A.Da,Ke.v=A.v,Ke.va=A.va,Ke.j=A.j,Ke.o=A.o,le.$a)e:{e(le.$a==1),A=Be();t:for(;;){if(A==null){A=0;break e}if(e(le!=null),le.mc=A,A.c=le.c,A.i=le.i,A.l=le.l,A.l.ma=le,A.l.width=le.c,A.l.height=le.i,A.a=0,Le(A.m,me,Ee,He),!Ue(le.c,le.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&ne(A.s)?(le.ic=1,me=A.c*A.i,A.Ta=null,A.Ua=0,A.V=a(me),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(le.ic=0,A=$e(A,le.c)),!A))break t;A=1;break e}le.mc=null,A=0}else A=He>=le.c*le.i;le=!A}if(le)return null;w.ga.Lc!=1?w.Ga=0:U=ie-R}e(w.ga!=null),e(R+U<=ie);e:{if(A=(me=w.ga).c,ie=me.l.o,me.$a==0){if(Ee=w.rc,He=w.Vc,Ke=w.Fa,ye=w.P+1+R*A,Te=w.mb,je=w.nb+R*A,e(ye<=w.P+w.qc),me.Z!=0)for(e(wn[me.Z]!=null),le=0;le<U;++le)wn[me.Z](Ee,He,Ke,ye,Te,je,A),Ee=Te,He=je,je+=A,ye+=A;else for(le=0;le<U;++le)n(Te,je,Ke,ye,A),Ee=Te,He=je,je+=A,ye+=A;w.rc=Ee,w.Vc=He}else{if(e(me.mc!=null),A=R+U,e((le=me.mc)!=null),e(A<=le.i),le.C>=A)A=1;else if(me.ic||ra(),me.ic){me=le.V,Ee=le.Ba,He=le.c;var lt=le.i,Xe=(Ke=1,ye=le.$/He,Te=le.$%He,je=le.m,Je=le.s,le.$),st=He*lt,ft=He*A,Lt=Je.wc,_t=Xe<ft?K(Je,Te,ye):null;e(Xe<=st),e(A<=lt),e(ne(Je));t:for(;;){for(;!je.h&&Xe<ft;){if(Te&Lt||(_t=K(Je,Te,ye)),e(_t!=null),Ae(je),256>(lt=qe(_t.G[0],_t.H[0],je)))me[Ee+Xe]=lt,++Xe,++Te>=He&&(Te=0,++ye<=A&&!(ye%16)&&ge(le,ye));else{if(!(280>lt)){Ke=0;break t}lt=Ce(lt-256,je);var nr,Ht=qe(_t.G[4],_t.H[4],je);if(Ae(je),!(Xe>=(Ht=Ge(He,Ht=Ce(Ht,je)))&&st-Xe>=lt)){Ke=0;break t}for(nr=0;nr<lt;++nr)me[Ee+Xe+nr]=me[Ee+Xe+nr-Ht];for(Xe+=lt,Te+=lt;Te>=He;)Te-=He,++ye<=A&&!(ye%16)&&ge(le,ye);Xe<ft&&Te&Lt&&(_t=K(Je,Te,ye))}e(je.h==Y(je))}ge(le,ye>A?A:ye);break t}!Ke||je.h&&Xe<st?(Ke=0,le.a=je.h?5:3):le.$=Xe,A=Ke}else A=Pe(le,le.V,le.Ba,le.c,le.i,A,ht);if(!A){U=0;break e}}R+U>=ie&&(w.Cc=1),U=1}if(!U)return null;if(w.Cc&&((U=w.ga)!=null&&(U.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+R*te}function Ri(w,A,R,U,te,ie){for(;0<te--;){var le,me=w,ye=A+(R?1:0),Te=w,je=A+(R?0:3);for(le=0;le<U;++le){var Je=Te[je+4*le];Je!=255&&(Je*=32897,me[ye+4*le+0]=me[ye+4*le+0]*Je>>23,me[ye+4*le+1]=me[ye+4*le+1]*Je>>23,me[ye+4*le+2]=me[ye+4*le+2]*Je>>23)}A+=ie}}function hi(w,A,R,U,te){for(;0<U--;){var ie;for(ie=0;ie<R;++ie){var le=w[A+2*ie+0],me=15&(Te=w[A+2*ie+1]),ye=4369*me,Te=(240&Te|Te>>4)*ye>>16;w[A+2*ie+0]=(240&le|le>>4)*ye>>16&240|(15&le|le<<4)*ye>>16>>4&15,w[A+2*ie+1]=240&Te|me}A+=te}}function Fi(w,A,R,U,te,ie,le,me){var ye,Te,je=255;for(Te=0;Te<te;++Te){for(ye=0;ye<U;++ye){var Je=w[A+ye];ie[le+4*ye]=Je,je&=Je}A+=R,le+=me}return je!=255}function Es(w,A,R,U,te){var ie;for(ie=0;ie<te;++ie)R[U+ie]=w[A+ie]>>8}function ra(){Ns=Ri,ss=hi,cc=Fi,os=Es}function Do(w,A,R){F[w]=function(U,te,ie,le,me,ye,Te,je,Je,Ee,He,Ke,lt,Xe,st,ft,Lt){var _t,nr=Lt-1>>1,Ht=me[ye+0]|Te[je+0]<<16,Pr=Je[Ee+0]|He[Ke+0]<<16;e(U!=null);var Kt=3*Ht+Pr+131074>>2;for(A(U[te+0],255&Kt,Kt>>16,lt,Xe),ie!=null&&(Kt=3*Pr+Ht+131074>>2,A(ie[le+0],255&Kt,Kt>>16,st,ft)),_t=1;_t<=nr;++_t){var Qr=me[ye+_t]|Te[je+_t]<<16,Qn=Je[Ee+_t]|He[Ke+_t]<<16,jr=Ht+Qr+Pr+Qn+524296,qt=jr+2*(Qr+Pr)>>3;Kt=qt+Ht>>1,Ht=(jr=jr+2*(Ht+Qn)>>3)+Qr>>1,A(U[te+2*_t-1],255&Kt,Kt>>16,lt,Xe+(2*_t-1)*R),A(U[te+2*_t-0],255&Ht,Ht>>16,lt,Xe+(2*_t-0)*R),ie!=null&&(Kt=jr+Pr>>1,Ht=qt+Qn>>1,A(ie[le+2*_t-1],255&Kt,Kt>>16,st,ft+(2*_t-1)*R),A(ie[le+2*_t+0],255&Ht,Ht>>16,st,ft+(2*_t+0)*R)),Ht=Qr,Pr=Qn}1&Lt||(Kt=3*Ht+Pr+131074>>2,A(U[te+Lt-1],255&Kt,Kt>>16,lt,Xe+(Lt-1)*R),ie!=null&&(Kt=3*Pr+Ht+131074>>2,A(ie[le+Lt-1],255&Kt,Kt>>16,st,ft+(Lt-1)*R)))}}function jo(){Si[wu]=Dl,Si[aa]=pc,Si[Hc]=dh,Si[ls]=mc,Si[hc]=Ho,Si[Rl]=po,Si[hl]=gc,Si[fc]=pc,Si[qc]=mc,Si[dc]=Ho,Si[h]=po}function na(w){return w&-16384?0>w?0:255:w>>nf}function $s(w,A){return na((19077*w>>8)+(26149*A>>8)-14234)}function Ts(w,A,R){return na((19077*w>>8)-(6419*A>>8)-(13320*R>>8)+8708)}function kl(w,A){return na((19077*w>>8)+(33050*A>>8)-17685)}function Ws(w,A,R,U,te){U[te+0]=$s(w,R),U[te+1]=Ts(w,A,R),U[te+2]=kl(w,A)}function xi(w,A,R,U,te){U[te+0]=kl(w,A),U[te+1]=Ts(w,A,R),U[te+2]=$s(w,R)}function ll(w,A,R,U,te){var ie=Ts(w,A,R);A=ie<<3&224|kl(w,A)>>3,U[te+0]=248&$s(w,R)|ie>>5,U[te+1]=A}function cl(w,A,R,U,te){var ie=240&kl(w,A)|15;U[te+0]=240&$s(w,R)|Ts(w,A,R)>>4,U[te+1]=ie}function Pl(w,A,R,U,te){U[te+0]=255,Ws(w,A,R,U,te+1)}function ao(w,A,R,U,te){xi(w,A,R,U,te),U[te+3]=255}function Dn(w,A,R,U,te){Ws(w,A,R,U,te),U[te+3]=255}function Ga(w,A,R){F[w]=function(U,te,ie,le,me,ye,Te,je,Je){for(var Ee=je+(-2&Je)*R;je!=Ee;)A(U[te+0],ie[le+0],me[ye+0],Te,je),A(U[te+1],ie[le+0],me[ye+0],Te,je+R),te+=2,++le,++ye,je+=2*R;1&Je&&A(U[te+0],ie[le+0],me[ye+0],Te,je)}}function sc(w,A,R){return R==0?w==0?A==0?6:5:A==0?4:0:R}function ns(w,A,R,U,te){switch(w>>>30){case 3:uo(A,R,U,te,0);break;case 2:ma(A,R,U,te);break;case 1:un(A,R,U,te)}}function is(w,A){var R,U,te=A.M,ie=A.Nb,le=w.oc,me=w.pc+40,ye=w.oc,Te=w.pc+584,je=w.oc,Je=w.pc+600;for(R=0;16>R;++R)le[me+32*R-1]=129;for(R=0;8>R;++R)ye[Te+32*R-1]=129,je[Je+32*R-1]=129;for(0<te?le[me-1-32]=ye[Te-1-32]=je[Je-1-32]=129:(i(le,me-32-1,127,21),i(ye,Te-32-1,127,9),i(je,Je-32-1,127,9)),U=0;U<w.za;++U){var Ee=A.ya[A.aa+U];if(0<U){for(R=-1;16>R;++R)n(le,me+32*R-4,le,me+32*R+12,4);for(R=-1;8>R;++R)n(ye,Te+32*R-4,ye,Te+32*R+4,4),n(je,Je+32*R-4,je,Je+32*R+4,4)}var He=w.Gd,Ke=w.Hd+U,lt=Ee.ad,Xe=Ee.Hc;if(0<te&&(n(le,me-32,He[Ke].y,0,16),n(ye,Te-32,He[Ke].f,0,8),n(je,Je-32,He[Ke].ea,0,8)),Ee.Za){var st=le,ft=me-32+16;for(0<te&&(U>=w.za-1?i(st,ft,He[Ke].y[15],4):n(st,ft,He[Ke+1].y,0,4)),R=0;4>R;R++)st[ft+128+R]=st[ft+256+R]=st[ft+384+R]=st[ft+0+R];for(R=0;16>R;++R,Xe<<=2)st=le,ft=me+Di[R],si[Ee.Ob[R]](st,ft),ns(Xe,lt,16*+R,st,ft)}else if(st=sc(U,te,Ee.Ob[0]),Ra[st](le,me),Xe!=0)for(R=0;16>R;++R,Xe<<=2)ns(Xe,lt,16*+R,le,me+Di[R]);for(R=Ee.Gc,st=sc(U,te,Ee.Dd),Ms[st](ye,Te),Ms[st](je,Je),Xe=lt,st=ye,ft=Te,255&(Ee=0|R)&&(170&Ee?Pa(Xe,256,st,ft):Jr(Xe,256,st,ft)),Ee=je,Xe=Je,255&(R>>=8)&&(170&R?Pa(lt,320,Ee,Xe):Jr(lt,320,Ee,Xe)),te<w.Ub-1&&(n(He[Ke].y,0,le,me+480,16),n(He[Ke].f,0,ye,Te+224,8),n(He[Ke].ea,0,je,Je+224,8)),R=8*ie*w.B,He=w.sa,Ke=w.ta+16*U+16*ie*w.R,lt=w.qa,Ee=w.ra+8*U+R,Xe=w.Ha,st=w.Ia+8*U+R,R=0;16>R;++R)n(He,Ke+R*w.R,le,me+32*R,16);for(R=0;8>R;++R)n(lt,Ee+R*w.B,ye,Te+32*R,8),n(Xe,st+R*w.B,je,Je+32*R,8)}}function pa(w,A,R,U,te,ie,le,me,ye){var Te=[0],je=[0],Je=0,Ee=ye!=null?ye.kd:0,He=ye??new St;if(w==null||12>R)return 7;He.data=w,He.w=A,He.ha=R,A=[A],R=[R],He.gb=[He.gb];e:{var Ke=A,lt=R,Xe=He.gb;if(e(w!=null),e(lt!=null),e(Xe!=null),Xe[0]=0,12<=lt[0]&&!r(w,Ke[0],"RIFF")){if(r(w,Ke[0]+8,"WEBP")){Xe=3;break e}var st=Nt(w,Ke[0]+4);if(12>st||4294967286<st){Xe=3;break e}if(Ee&&st>lt[0]-8){Xe=7;break e}Xe[0]=st,Ke[0]+=12,lt[0]-=12}Xe=0}if(Xe!=0)return Xe;for(st=0<He.gb[0],R=R[0];;){e:{var ft=w;lt=A,Xe=R;var Lt=Te,_t=je,nr=Ke=[0];if((Kt=Je=[Je])[0]=0,8>Xe[0])Xe=7;else{if(!r(ft,lt[0],"VP8X")){if(Nt(ft,lt[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var Ht=Nt(ft,lt[0]+8),Pr=1+Tt(ft,lt[0]+12);if(2147483648<=Pr*(ft=1+Tt(ft,lt[0]+15))){Xe=3;break e}nr!=null&&(nr[0]=Ht),Lt!=null&&(Lt[0]=Pr),_t!=null&&(_t[0]=ft),lt[0]+=18,Xe[0]-=18,Kt[0]=1}Xe=0}}if(Je=Je[0],Ke=Ke[0],Xe!=0)return Xe;if(lt=!!(2&Ke),!st&&Je)return 3;if(ie!=null&&(ie[0]=!!(16&Ke)),le!=null&&(le[0]=lt),me!=null&&(me[0]=0),le=Te[0],Ke=je[0],Je&&lt&&ye==null){Xe=0;break}if(4>R){Xe=7;break}if(st&&Je||!st&&!Je&&!r(w,A[0],"ALPH")){R=[R],He.na=[He.na],He.P=[He.P],He.Sa=[He.Sa];e:{Ht=w,Xe=A,st=R;var Kt=He.gb;Lt=He.na,_t=He.P,nr=He.Sa,Pr=22,e(Ht!=null),e(st!=null),ft=Xe[0];var Qr=st[0];for(e(Lt!=null),e(nr!=null),Lt[0]=null,_t[0]=null,nr[0]=0;;){if(Xe[0]=ft,st[0]=Qr,8>Qr){Xe=7;break e}var Qn=Nt(Ht,ft+4);if(4294967286<Qn){Xe=3;break e}var jr=8+Qn+1&-2;if(Pr+=jr,0<Kt&&Pr>Kt){Xe=3;break e}if(!r(Ht,ft,"VP8 ")||!r(Ht,ft,"VP8L")){Xe=0;break e}if(Qr[0]<jr){Xe=7;break e}r(Ht,ft,"ALPH")||(Lt[0]=Ht,_t[0]=ft+8,nr[0]=Qn),ft+=jr,Qr-=jr}}if(R=R[0],He.na=He.na[0],He.P=He.P[0],He.Sa=He.Sa[0],Xe!=0)break}R=[R],He.Ja=[He.Ja],He.xa=[He.xa];e:if(Kt=w,Xe=A,st=R,Lt=He.gb[0],_t=He.Ja,nr=He.xa,Ht=Xe[0],ft=!r(Kt,Ht,"VP8 "),Pr=!r(Kt,Ht,"VP8L"),e(Kt!=null),e(st!=null),e(_t!=null),e(nr!=null),8>st[0])Xe=7;else{if(ft||Pr){if(Kt=Nt(Kt,Ht+4),12<=Lt&&Kt>Lt-12){Xe=3;break e}if(Ee&&Kt>st[0]-8){Xe=7;break e}_t[0]=Kt,Xe[0]+=8,st[0]-=8,nr[0]=Pr}else nr[0]=5<=st[0]&&Kt[Ht+0]==47&&!(Kt[Ht+4]>>5),_t[0]=st[0];Xe=0}if(R=R[0],He.Ja=He.Ja[0],He.xa=He.xa[0],A=A[0],Xe!=0)break;if(4294967286<He.Ja)return 3;if(me==null||lt||(me[0]=He.xa?2:1),le=[le],Ke=[Ke],He.xa){if(5>R){Xe=7;break}me=le,Ee=Ke,lt=ie,w==null||5>R?w=0:5<=R&&w[A+0]==47&&!(w[A+4]>>5)?(st=[0],Kt=[0],Lt=[0],Le(_t=new G,w,A,R),Ua(_t,st,Kt,Lt)?(me!=null&&(me[0]=st[0]),Ee!=null&&(Ee[0]=Kt[0]),lt!=null&&(lt[0]=Lt[0]),w=1):w=0):w=0}else{if(10>R){Xe=7;break}me=Ke,w==null||10>R||!Ta(w,A+3,R-3)?w=0:(Ee=w[A+0]|w[A+1]<<8|w[A+2]<<16,lt=16383&(w[A+7]<<8|w[A+6]),w=16383&(w[A+9]<<8|w[A+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=He.Ja||!lt||!w?w=0:(le&&(le[0]=lt),me&&(me[0]=w),w=1))}if(!w||(le=le[0],Ke=Ke[0],Je&&(Te[0]!=le||je[0]!=Ke)))return 3;ye!=null&&(ye[0]=He,ye.offset=A-ye.w,e(4294967286>A-ye.w),e(ye.offset==ye.ha-R));break}return Xe==0||Xe==7&&Je&&ye==null?(ie!=null&&(ie[0]|=He.na!=null&&0<He.na.length),U!=null&&(U[0]=le),te!=null&&(te[0]=Ke),0):Xe}function Io(w,A,R){var U=A.width,te=A.height,ie=0,le=0,me=U,ye=te;if(A.Da=w!=null&&0<w.Da,A.Da&&(me=w.cd,ye=w.bd,ie=w.v,le=w.j,11>R||(ie&=-2,le&=-2),0>ie||0>le||0>=me||0>=ye||ie+me>U||le+ye>te))return 0;if(A.v=ie,A.j=le,A.va=ie+me,A.o=le+ye,A.U=me,A.T=ye,A.da=w!=null&&0<w.da,A.da){if(!zt(me,ye,R=[w.ib],ie=[w.hb]))return 0;A.ib=R[0],A.hb=ie[0]}return A.ob=w!=null&&w.ob,A.Kb=w==null||!w.Sd,A.da&&(A.ob=A.ib<3*U/4&&A.hb<3*te/4,A.Kb=0),1}function Fo(w){if(w==null)return 2;if(11>w.S){var A=w.f.RGBA;A.fb+=(w.height-1)*A.A,A.A=-A.A}else A=w.f.kb,w=w.height,A.O+=(w-1)*A.fa,A.fa=-A.fa,A.N+=(w-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(w-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(w-1)*A.lb,A.lb=-A.lb);return 0}function As(w,A,R,U){if(U==null||0>=w||0>=A)return 2;if(R!=null){if(R.Da){var te=R.cd,ie=R.bd,le=-2&R.v,me=-2&R.j;if(0>le||0>me||0>=te||0>=ie||le+te>w||me+ie>A)return 2;w=te,A=ie}if(R.da){if(!zt(w,A,te=[R.ib],ie=[R.hb]))return 2;w=te[0],A=ie[0]}}U.width=w,U.height=A;e:{var ye=U.width,Te=U.height;if(w=U.S,0>=ye||0>=Te||!(w>=wu&&13>w))w=2;else{if(0>=U.Rd&&U.sd==null){le=ie=te=A=0;var je=(me=ye*sf[w])*Te;if(11>w||(ie=(Te+1)/2*(A=(ye+1)/2),w==12&&(le=(te=ye)*Te)),(Te=a(je+2*ie+le))==null){w=1;break e}U.sd=Te,11>w?((ye=U.f.RGBA).eb=Te,ye.fb=0,ye.A=me,ye.size=je):((ye=U.f.kb).y=Te,ye.O=0,ye.fa=me,ye.Fd=je,ye.f=Te,ye.N=0+je,ye.Ab=A,ye.Cd=ie,ye.ea=Te,ye.W=0+je+ie,ye.Db=A,ye.Ed=ie,w==12&&(ye.F=Te,ye.J=0+je+2*ie),ye.Tc=le,ye.lb=te)}if(A=1,te=U.S,ie=U.width,le=U.height,te>=wu&&13>te)if(11>te)w=U.f.RGBA,A&=(me=Math.abs(w.A))*(le-1)+ie<=w.size,A&=me>=ie*sf[te],A&=w.eb!=null;else{w=U.f.kb,me=(ie+1)/2,je=(le+1)/2,ye=Math.abs(w.fa),Te=Math.abs(w.Ab);var Je=Math.abs(w.Db),Ee=Math.abs(w.lb),He=Ee*(le-1)+ie;A&=ye*(le-1)+ie<=w.Fd,A&=Te*(je-1)+me<=w.Cd,A=(A&=Je*(je-1)+me<=w.Ed)&ye>=ie&Te>=me&Je>=me,A&=w.y!=null,A&=w.f!=null,A&=w.ea!=null,te==12&&(A&=Ee>=ie,A&=He<=w.Tc,A&=w.F!=null)}else A=0;w=A?0:2}}return w!=0||R!=null&&R.fd&&(w=Fo(U)),w}var Zs=64,Ha=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ii=24,as=32,so=8,Ys=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];jt("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(w){return w},F.Predictor2=function(w,A,R){return A[R+0]},F.Predictor3=function(w,A,R){return A[R+1]},F.Predictor4=function(w,A,R){return A[R-1]},F.Predictor5=function(w,A,R){return Xt(Xt(w,A[R+1]),A[R+0])},F.Predictor6=function(w,A,R){return Xt(w,A[R-1])},F.Predictor7=function(w,A,R){return Xt(w,A[R+0])},F.Predictor8=function(w,A,R){return Xt(A[R-1],A[R+0])},F.Predictor9=function(w,A,R){return Xt(A[R+0],A[R+1])},F.Predictor10=function(w,A,R){return Xt(Xt(w,A[R-1]),Xt(A[R+0],A[R+1]))},F.Predictor11=function(w,A,R){var U=A[R+0];return 0>=dr(U>>24&255,w>>24&255,(A=A[R-1])>>24&255)+dr(U>>16&255,w>>16&255,A>>16&255)+dr(U>>8&255,w>>8&255,A>>8&255)+dr(255&U,255&w,255&A)?U:w},F.Predictor12=function(w,A,R){var U=A[R+0];return(Jt((w>>24&255)+(U>>24&255)-((A=A[R-1])>>24&255))<<24|Jt((w>>16&255)+(U>>16&255)-(A>>16&255))<<16|Jt((w>>8&255)+(U>>8&255)-(A>>8&255))<<8|Jt((255&w)+(255&U)-(255&A)))>>>0},F.Predictor13=function(w,A,R){var U=A[R-1];return(Er((w=Xt(w,A[R+0]))>>24&255,U>>24&255)<<24|Er(w>>16&255,U>>16&255)<<16|Er(w>>8&255,U>>8&255)<<8|Er(255&w,255&U))>>>0};var oc=F.PredictorAdd0;F.PredictorAdd1=Nr,jt("Predictor2","PredictorAdd2"),jt("Predictor3","PredictorAdd3"),jt("Predictor4","PredictorAdd4"),jt("Predictor5","PredictorAdd5"),jt("Predictor6","PredictorAdd6"),jt("Predictor7","PredictorAdd7"),jt("Predictor8","PredictorAdd8"),jt("Predictor9","PredictorAdd9"),jt("Predictor10","PredictorAdd10"),jt("Predictor11","PredictorAdd11"),jt("Predictor12","PredictorAdd12"),jt("Predictor13","PredictorAdd13");var qa=F.PredictorAdd2;Wt("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),Wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var fi,Bo=F.ColorIndexInverseTransform,oo=F.MapARGB,Bi=F.VP8LColorIndexInverseTransformAlpha,wi=F.MapAlpha,lo=F.VP8LPredictorsAdd=[];lo.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var ul,Uo,Ks,Ls,Ma,co,ka,uo,ma,Pa,un,Jr,Mn,ai,ho,bi,fo,zc,lc,tf,hh,rf,Ol,fh,Ns,ss,cc,os,Oa=a(511),Gc=a(2041),uc=a(225),zo=a(767),xu=0,Cs=Gc,Go=uc,ia=zo,Ui=Oa,wu=0,aa=1,Hc=2,ls=3,hc=4,Rl=5,hl=6,fc=7,qc=8,dc=9,h=10,m=[2,3,7],b=[3,3,11],k=[280,256,256,256,40],z=[0,1,1,1,0],ae=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Me=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],We=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tt=8,pt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],kt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tr=null,Ur=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],di=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cs=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],dn=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],pn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Zr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ra=[],si=[],Ms=[],fl=1,bu=2,wn=[],Si=[];Do("UpsampleRgbLinePair",Ws,3),Do("UpsampleBgrLinePair",xi,3),Do("UpsampleRgbaLinePair",Dn,4),Do("UpsampleBgraLinePair",ao,4),Do("UpsampleArgbLinePair",Pl,4),Do("UpsampleRgba4444LinePair",cl,2),Do("UpsampleRgb565LinePair",ll,2);var Dl=F.UpsampleRgbLinePair,dh=F.UpsampleBgrLinePair,pc=F.UpsampleRgbaLinePair,mc=F.UpsampleBgraLinePair,Ho=F.UpsampleArgbLinePair,po=F.UpsampleRgba4444LinePair,gc=F.UpsampleRgb565LinePair,mo=16,Su=1<<mo-1,Vc=-227,vc=482,nf=6,_c=0,Da=a(256),af=a(256),Pp=a(256),vg=a(256),_g=a(vc-Vc),yg=a(vc-Vc);Ga("YuvToRgbRow",Ws,3),Ga("YuvToBgrRow",xi,3),Ga("YuvToRgbaRow",Dn,4),Ga("YuvToBgraRow",ao,4),Ga("YuvToArgbRow",Pl,4),Ga("YuvToRgba4444Row",cl,2),Ga("YuvToRgb565Row",ll,2);var Di=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Eu=[0,2,8],ph=[8,7,6,4,4,2,2,2,1,1,1,1],mh=1;this.WebPDecodeRGBA=function(w,A,R,U,te){var ie=aa,le=new at,me=new xr;le.ba=me,me.S=ie,me.width=[me.width],me.height=[me.height];var ye=me.width,Te=me.height,je=new Zt;if(je==null||w==null)var Je=2;else e(je!=null),Je=pa(w,A,R,je.width,je.height,je.Pd,je.Qd,je.format,null);if(Je!=0?ye=0:(ye!=null&&(ye[0]=je.width[0]),Te!=null&&(Te[0]=je.height[0]),ye=1),ye){me.width=me.width[0],me.height=me.height[0],U!=null&&(U[0]=me.width),te!=null&&(te[0]=me.height);e:{if(U=new qr,(te=new St).data=w,te.w=A,te.ha=R,te.kd=1,A=[0],e(te!=null),((w=pa(te.data,te.w,te.ha,null,null,null,A,null,te))==0||w==7)&&A[0]&&(w=4),(A=w)==0){if(e(le!=null),U.data=te.data,U.w=te.w+te.offset,U.ha=te.ha-te.offset,U.put=Qt,U.ac=Ci,U.bc=Ja,U.ma=le,te.xa){if((w=Be())==null){le=1;break e}if((function(Ee,He){var Ke=[0],lt=[0],Xe=[0];t:for(;;){if(Ee==null)return 0;if(He==null)return Ee.a=2,0;if(Ee.l=He,Ee.a=0,Le(Ee.m,He.data,He.w,He.ha),!Ua(Ee.m,Ke,lt,Xe)){Ee.a=3;break t}if(Ee.xb=bu,He.width=Ke[0],He.height=lt[0],!Ue(Ke[0],lt[0],1,Ee,null))break t;return 1}return e(Ee.a!=0),0})(w,U)){if(U=(A=As(U.width,U.height,le.Oa,le.ba))==0){t:{U=w;r:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((R=U.l)!=null),e((te=R.ma)!=null),U.xb!=0){if(U.ca=te.ba,U.tb=te.tb,e(U.ca!=null),!Io(te.Oa,R,ls)){U.a=2;break r}if(!$e(U,R.width)||R.da)break r;if((R.da||cr(U.ca.S))&&ra(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&ra()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!we(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!Pe(U,U.V,U.Ba,U.c,U.i,R.o,re))break r;te.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(A=w.a)}else A=w.a}else{if((w=new ri)==null){le=1;break e}if(w.Fa=te.na,w.P=te.P,w.qc=te.Sa,Aa(w,U)){if((A=As(U.width,U.height,le.Oa,le.ba))==0){if(w.Aa=0,R=le.Oa,e((te=w)!=null),R!=null){if(0<(ye=0>(ye=R.Md)?0:100<ye?255:255*ye/100)){for(Te=je=0;4>Te;++Te)12>(Je=te.pb[Te]).lc&&(Je.ia=ye*ph[0>Je.lc?0:Je.lc]>>3),je|=Je.ia;je&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=R.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}(function(Ee,He){if(Ee==null)return 0;if(He==null)return ar(Ee,2,"NULL VP8Io parameter in VP8Decode().");if(!Ee.cb&&!Aa(Ee,He))return 0;if(e(Ee.cb),He.ac==null||He.ac(He)){He.ob&&(Ee.L=0);var Ke=Eu[Ee.L];if(Ee.L==2?(Ee.yb=0,Ee.zb=0):(Ee.yb=He.v-Ke>>4,Ee.zb=He.j-Ke>>4,0>Ee.yb&&(Ee.yb=0),0>Ee.zb&&(Ee.zb=0)),Ee.Va=He.o+15+Ke>>4,Ee.Hb=He.va+15+Ke>>4,Ee.Hb>Ee.za&&(Ee.Hb=Ee.za),Ee.Va>Ee.Ub&&(Ee.Va=Ee.Ub),0<Ee.L){var lt=Ee.ed;for(Ke=0;4>Ke;++Ke){var Xe;if(Ee.Qa.Cb){var st=Ee.Qa.Lb[Ke];Ee.Qa.Fb||(st+=lt.Tb)}else st=lt.Tb;for(Xe=0;1>=Xe;++Xe){var ft=Ee.gd[Ke][Xe],Lt=st;if(lt.Pc&&(Lt+=lt.vd[0],Xe&&(Lt+=lt.od[0])),0<(Lt=0>Lt?0:63<Lt?63:Lt)){var _t=Lt;0<lt.wb&&(_t=4<lt.wb?_t>>2:_t>>1)>9-lt.wb&&(_t=9-lt.wb),1>_t&&(_t=1),ft.dd=_t,ft.tc=2*Lt+_t,ft.ld=40<=Lt?2:15<=Lt?1:0}else ft.tc=0;ft.La=Xe}}}Ke=0}else ar(Ee,6,"Frame setup failed"),Ke=Ee.a;if(Ke=Ke==0){if(Ke){Ee.$c=0,0<Ee.Aa||(Ee.Ic=mh);t:{Ke=Ee.Ic,lt=4*(_t=Ee.za);var nr=32*_t,Ht=_t+1,Pr=0<Ee.L?_t*(0<Ee.Aa?2:1):0,Kt=(Ee.Aa==2?2:1)*_t;if((ft=lt+832+(Xe=3*(16*Ke+Eu[Ee.L])/2*nr)+(st=Ee.Fa!=null&&0<Ee.Fa.length?Ee.Kc.c*Ee.Kc.i:0))!=ft)Ke=0;else{if(ft>Ee.Vb){if(Ee.Vb=0,Ee.Ec=a(ft),Ee.Fc=0,Ee.Ec==null){Ke=ar(Ee,1,"no memory during frame initialization.");break t}Ee.Vb=ft}ft=Ee.Ec,Lt=Ee.Fc,Ee.Ac=ft,Ee.Bc=Lt,Lt+=lt,Ee.Gd=s(nr,Mi),Ee.Hd=0,Ee.rb=s(Ht+1,nn),Ee.sb=1,Ee.wa=Pr?s(Pr,wr):null,Ee.Y=0,Ee.D.Nb=0,Ee.D.wa=Ee.wa,Ee.D.Y=Ee.Y,0<Ee.Aa&&(Ee.D.Y+=_t),e(!0),Ee.oc=ft,Ee.pc=Lt,Lt+=832,Ee.ya=s(Kt,Xn),Ee.aa=0,Ee.D.ya=Ee.ya,Ee.D.aa=Ee.aa,Ee.Aa==2&&(Ee.D.aa+=_t),Ee.R=16*_t,Ee.B=8*_t,_t=(nr=Eu[Ee.L])*Ee.R,nr=nr/2*Ee.B,Ee.sa=ft,Ee.ta=Lt+_t,Ee.qa=Ee.sa,Ee.ra=Ee.ta+16*Ke*Ee.R+nr,Ee.Ha=Ee.qa,Ee.Ia=Ee.ra+8*Ke*Ee.B+nr,Ee.$c=0,Lt+=Xe,Ee.mb=st?ft:null,Ee.nb=st?Lt:null,e(Lt+st<=Ee.Fc+Ee.Vb),Rn(Ee),i(Ee.Ac,Ee.Bc,0,lt),Ke=1}}if(Ke){if(He.ka=0,He.y=Ee.sa,He.O=Ee.ta,He.f=Ee.qa,He.N=Ee.ra,He.ea=Ee.Ha,He.Vd=Ee.Ia,He.fa=Ee.R,He.Rc=Ee.B,He.F=null,He.J=0,!xu){for(Ke=-255;255>=Ke;++Ke)Oa[255+Ke]=0>Ke?-Ke:Ke;for(Ke=-1020;1020>=Ke;++Ke)Gc[1020+Ke]=-128>Ke?-128:127<Ke?127:Ke;for(Ke=-112;112>=Ke;++Ke)uc[112+Ke]=-16>Ke?-16:15<Ke?15:Ke;for(Ke=-255;510>=Ke;++Ke)zo[255+Ke]=0>Ke?0:255<Ke?255:Ke;xu=1}ka=La,uo=Gs,Pa=Kr,un=Hs,Jr=Mo,ma=Al,Mn=Uc,ai=Ro,ho=Q,bi=Se,fo=yu,zc=P,lc=De,tf=Ve,hh=Oi,rf=rs,Ol=ol,fh=Bc,si[0]=Fc,si[1]=il,si[2]=Qa,si[3]=fn,si[4]=Na,si[5]=Nl,si[6]=ki,si[7]=es,si[8]=qs,si[9]=Ca,Ra[0]=za,Ra[1]=Ll,Ra[2]=al,Ra[3]=ic,Ra[4]=ro,Ra[5]=Po,Ra[6]=sl,Ms[0]=Cl,Ms[1]=nc,Ms[2]=Cn,Ms[3]=no,Ms[4]=Pi,Ms[5]=ac,Ms[6]=bs,Ke=1}else Ke=0}Ke&&(Ke=(function(Qr,Qn){for(Qr.M=0;Qr.M<Qr.Va;++Qr.M){var jr,qt=Qr.Jc[Qr.M&Qr.Xb],Rt=Qr.m,pi=Qr;for(jr=0;jr<pi.za;++jr){var Sr=Rt,zr=pi,Tn=zr.Ac,oa=zr.Bc+4*jr,ja=zr.zc,qn=zr.ya[zr.aa+jr];if(zr.Qa.Bb?qn.$b=Ie(Sr,zr.Pa.jb[0])?2+Ie(Sr,zr.Pa.jb[2]):Ie(Sr,zr.Pa.jb[1]):qn.$b=0,zr.kc&&(qn.Ad=Ie(Sr,zr.Bd)),qn.Za=!Ie(Sr,145)+0,qn.Za){var zi=qn.Ob,Va=0;for(zr=0;4>zr;++zr){var Gi,$r=ja[0+zr];for(Gi=0;4>Gi;++Gi){$r=dn[Tn[oa+Gi]][$r];for(var mn=di[Ie(Sr,$r[0])];0<mn;)mn=di[2*mn+Ie(Sr,$r[mn])];$r=-mn,Tn[oa+Gi]=$r}n(zi,Va,Tn,oa,4),Va+=4,ja[0+zr]=$r}}else $r=Ie(Sr,156)?Ie(Sr,128)?1:3:Ie(Sr,163)?2:0,qn.Ob[0]=$r,i(Tn,oa,$r,4),i(ja,0,$r,4);qn.Dd=Ie(Sr,142)?Ie(Sr,114)?Ie(Sr,183)?1:3:2:0}if(pi.m.Ka)return ar(Qr,7,"Premature end-of-partition0 encountered.");for(;Qr.ja<Qr.za;++Qr.ja){if(pi=qt,Sr=(Rt=Qr).rb[Rt.sb-1],Tn=Rt.rb[Rt.sb+Rt.ja],jr=Rt.ya[Rt.aa+Rt.ja],oa=Rt.kc?jr.Ad:0)Sr.la=Tn.la=0,jr.Za||(Sr.Na=Tn.Na=0),jr.Hc=0,jr.Gc=0,jr.ia=0;else{var mi,_n;if(Sr=Tn,Tn=pi,oa=Rt.Pa.Xc,ja=Rt.ya[Rt.aa+Rt.ja],qn=Rt.pb[ja.$b],zr=ja.ad,zi=0,Va=Rt.rb[Rt.sb-1],$r=Gi=0,i(zr,zi,0,384),ja.Za)var la=0,gi=oa[3];else{mn=a(16);var gn=Sr.Na+Va.Na;if(gn=tr(Tn,oa[1],gn,qn.Eb,0,mn,0),Sr.Na=Va.Na=(0<gn)+0,1<gn)ka(mn,0,zr,zi);else{var ji=mn[0]+3>>3;for(mn=0;256>mn;mn+=16)zr[zi+mn]=ji}la=1,gi=oa[0]}var An=15&Sr.la,Hi=15&Va.la;for(mn=0;4>mn;++mn){var qi=1&Hi;for(ji=_n=0;4>ji;++ji)An=An>>1|(qi=(gn=tr(Tn,gi,gn=qi+(1&An),qn.Sc,la,zr,zi))>la)<<7,_n=_n<<2|(3<gn?3:1<gn?2:zr[zi+0]!=0),zi+=16;An>>=4,Hi=Hi>>1|qi<<7,Gi=(Gi<<8|_n)>>>0}for(gi=An,la=Hi>>4,mi=0;4>mi;mi+=2){for(_n=0,An=Sr.la>>4+mi,Hi=Va.la>>4+mi,mn=0;2>mn;++mn){for(qi=1&Hi,ji=0;2>ji;++ji)gn=qi+(1&An),An=An>>1|(qi=0<(gn=tr(Tn,oa[2],gn,qn.Qc,0,zr,zi)))<<3,_n=_n<<2|(3<gn?3:1<gn?2:zr[zi+0]!=0),zi+=16;An>>=2,Hi=Hi>>1|qi<<5}$r|=_n<<4*mi,gi|=An<<4<<mi,la|=(240&Hi)<<mi}Sr.la=gi,Va.la=la,ja.Hc=Gi,ja.Gc=$r,ja.ia=43690&$r?0:qn.ia,oa=!(Gi|$r)}if(0<Rt.L&&(Rt.wa[Rt.Y+Rt.ja]=Rt.gd[jr.$b][jr.Za],Rt.wa[Rt.Y+Rt.ja].La|=!oa),pi.Ka)return ar(Qr,7,"Premature end-of-file encountered.")}if(Rn(Qr),Rt=Qn,pi=1,jr=(qt=Qr).D,Sr=0<qt.L&&qt.M>=qt.zb&&qt.M<=qt.Va,qt.Aa==0)t:{if(jr.M=qt.M,jr.uc=Sr,is(qt,jr),pi=1,jr=(_n=qt.D).Nb,Sr=($r=Eu[qt.L])*qt.R,Tn=$r/2*qt.B,mn=16*jr*qt.R,ji=8*jr*qt.B,oa=qt.sa,ja=qt.ta-Sr+mn,qn=qt.qa,zr=qt.ra-Tn+ji,zi=qt.Ha,Va=qt.Ia-Tn+ji,Hi=(An=_n.M)==0,Gi=An>=qt.Va-1,qt.Aa==2&&is(qt,_n),_n.uc)for(qi=(gn=qt).D.M,e(gn.D.uc),_n=gn.yb;_n<gn.Hb;++_n){la=_n,gi=qi;var jn=(hn=(Vi=gn).D).Nb;mi=Vi.R;var hn=hn.wa[hn.Y+la],$a=Vi.sa,Ei=Vi.ta+16*jn*mi+16*la,mr=hn.dd,gr=hn.tc;if(gr!=0)if(e(3<=gr),Vi.L==1)0<la&&rf($a,Ei,mi,gr+4),hn.La&&fh($a,Ei,mi,gr),0<gi&&hh($a,Ei,mi,gr+4),hn.La&&Ol($a,Ei,mi,gr);else{var vn=Vi.B,ks=Vi.qa,go=Vi.ra+8*jn*vn+8*la,us=Vi.Ha,Vi=Vi.Ia+8*jn*vn+8*la;jn=hn.ld,0<la&&(ai($a,Ei,mi,gr+4,mr,jn),bi(ks,go,us,Vi,vn,gr+4,mr,jn)),hn.La&&(zc($a,Ei,mi,gr,mr,jn),tf(ks,go,us,Vi,vn,gr,mr,jn)),0<gi&&(Mn($a,Ei,mi,gr+4,mr,jn),ho(ks,go,us,Vi,vn,gr+4,mr,jn)),hn.La&&(fo($a,Ei,mi,gr,mr,jn),lc(ks,go,us,Vi,vn,gr,mr,jn))}}if(qt.ia&&alert("todo:DitherRow"),Rt.put!=null){if(_n=16*An,An=16*(An+1),Hi?(Rt.y=qt.sa,Rt.O=qt.ta+mn,Rt.f=qt.qa,Rt.N=qt.ra+ji,Rt.ea=qt.Ha,Rt.W=qt.Ia+ji):(_n-=$r,Rt.y=oa,Rt.O=ja,Rt.f=qn,Rt.N=zr,Rt.ea=zi,Rt.W=Va),Gi||(An-=$r),An>Rt.o&&(An=Rt.o),Rt.F=null,Rt.J=null,qt.Fa!=null&&0<qt.Fa.length&&_n<An&&(Rt.J=xn(qt,Rt,_n,An-_n),Rt.F=qt.mb,Rt.F==null&&Rt.F.length==0)){pi=ar(qt,3,"Could not decode alpha data.");break t}_n<Rt.j&&($r=Rt.j-_n,_n=Rt.j,e(!(1&$r)),Rt.O+=qt.R*$r,Rt.N+=qt.B*($r>>1),Rt.W+=qt.B*($r>>1),Rt.F!=null&&(Rt.J+=Rt.width*$r)),_n<An&&(Rt.O+=Rt.v,Rt.N+=Rt.v>>1,Rt.W+=Rt.v>>1,Rt.F!=null&&(Rt.J+=Rt.v),Rt.ka=_n-Rt.j,Rt.U=Rt.va-Rt.v,Rt.T=An-_n,pi=Rt.put(Rt))}jr+1!=qt.Ic||Gi||(n(qt.sa,qt.ta-Sr,oa,ja+16*qt.R,Sr),n(qt.qa,qt.ra-Tn,qn,zr+8*qt.B,Tn),n(qt.Ha,qt.Ia-Tn,zi,Va+8*qt.B,Tn))}if(!pi)return ar(Qr,6,"Output aborted.")}return 1})(Ee,He)),He.bc!=null&&He.bc(He),Ke&=1}return Ke?(Ee.cb=0,Ke):0})(w,U)||(A=w.a)}}else A=w.a}A==0&&le.Oa!=null&&le.Oa.fd&&(A=Fo(le.ba))}le=A}ie=le!=0?null:11>ie?me.f.RGBA.eb:me.f.kb.y}else ie=null;return ie};var sf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(F,J){for(var B="",Z=0;Z<4;Z++)B+=String.fromCharCode(F[J++]);return B}function p(F,J){return F[J+0]|F[J+1]<<8}function v(F,J){return(F[J+0]|F[J+1]<<8|F[J+2]<<16)>>>0}function y(F,J){return(F[J+0]|F[J+1]<<8|F[J+2]<<16|F[J+3]<<24)>>>0}new u;var _=[0],T=[0],S=[],C=new u,M=t,D=(function(F,J){var B={},Z=0,ue=!1,de=0,xe=0;if(B.frames=[],!(function(O,G){for(var H=0;H<4;H++)if(O[G+H]!="RIFF".charCodeAt(H))return!0;return!1})(F,J)){for(y(F,J+=4),J+=8;J<F.length;){var oe=f(F,J),be=y(F,J+=4);J+=4;var _e=be+(1&be);switch(oe){case"VP8 ":case"VP8L":B.frames[Z]===void 0&&(B.frames[Z]={}),(ee=B.frames[Z]).src_off=ue?xe:J-8,ee.src_size=de+be+8,Z++,ue&&(ue=!1,de=0,xe=0);break;case"VP8X":(ee=B.header={}).feature_flags=F[J];var Le=J+4;ee.canvas_width=1+v(F,Le),Le+=3,ee.canvas_height=1+v(F,Le),Le+=3;break;case"ALPH":ue=!0,de=_e+8,xe=J-8;break;case"ANIM":(ee=B.header).bgcolor=y(F,J),Le=J+4,ee.loop_count=p(F,Le),Le+=2;break;case"ANMF":var Ne,ee;(ee=B.frames[Z]={}).offset_x=2*v(F,J),J+=3,ee.offset_y=2*v(F,J),J+=3,ee.width=1+v(F,J),J+=3,ee.height=1+v(F,J),J+=3,ee.duration=v(F,J),J+=3,Ne=F[J++],ee.dispose=1&Ne,ee.blend=Ne>>1&1}oe!="ANMF"&&(J+=_e)}return B}})(M,0);D.response=M,D.rgbaoutput=!0,D.dataurl=!1;var j=D.header?D.header:null,V=D.frames?D.frames:null;if(j){j.loop_counter=j.loop_count,_=[j.canvas_height],T=[j.canvas_width];for(var X=0;X<V.length&&V[X].blend!=0;X++);}var ce=V[0],I=C.WebPDecodeRGBA(M,ce.src_off,ce.src_size,T,_);ce.rgba=I,ce.imgwidth=T[0],ce.imgheight=_[0];for(var q=0;q<T[0]*_[0]*4;q++)S[q]=I[q];return this.width=T,this.height=_,this.data=S,this}(function(t){var e,r,n,i,a,s,l,u,f,p=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new u,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new s,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new s,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,f=new p}]);var v=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=O;Object.defineProperty(this,"pdf",{get:function(){return G}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(we){H=!!we}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(we){Y=!!we}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(we){isNaN(we)||(se=we)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(we){isNaN(we)||(Ae=we)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(we){var yt;typeof we=="number"?yt=[we,we,we,we]:((yt=new Array(4))[0]=we[0],yt[1]=we.length>=2?we[1]:yt[0],yt[2]=we.length>=3?we[2]:yt[0],yt[3]=we.length>=4?we[3]:yt[1]),f.margin=yt}});var Oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Oe},set:function(we){Oe=we}});var Re=0;Object.defineProperty(this,"lastBreak",{get:function(){return Re},set:function(we){Re=we}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(we){Ie=we}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(we){we instanceof p&&(f=we)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(we){f.path=we}});var ot=[];Object.defineProperty(this,"ctxStack",{get:function(){return ot},set:function(we){ot=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var yt;yt=y(we),this.ctx.fillStyle=yt.style,this.ctx.isFillTransparent=yt.a===0,this.ctx.fillOpacity=yt.a,this.pdf.setFillColor(yt.r,yt.g,yt.b,{a:yt.a}),this.pdf.setTextColor(yt.r,yt.g,yt.b,{a:yt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var yt=y(we);this.ctx.strokeStyle=yt.style,this.ctx.isStrokeTransparent=yt.a===0,this.ctx.strokeOpacity=yt.a,yt.a===0?this.pdf.setDrawColor(255,255,255):(yt.a,this.pdf.setDrawColor(yt.r,yt.g,yt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var it=null,Tt=null,Nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Nt},set:function(we){it=null,Tt=null,Nt=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var yt;if(this.ctx.font=we,(yt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(we))!==null){var xt=yt[1];yt[2];var zt=yt[3],dt=yt[4];yt[5];var Vt=yt[6],jt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(dt)[2];dt=Math.floor(jt==="px"?parseFloat(dt)*this.pdf.internal.scaleFactor:jt==="em"?parseFloat(dt)*this.pdf.getFontSize():parseFloat(dt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(dt);var sr=(function(Wt){var yn,Mr,Gt=[],pr=Wt.trim();if(pr==="")return g2;if(pr in m4)return[m4[pr]];for(;pr!=="";){switch(Mr=null,yn=(pr=v4(pr)).charAt(0)){case'"':case"'":Mr=tR(pr.substring(1),yn);break;default:Mr=rR(pr)}if(Mr===null||(Gt.push(Mr[0]),(pr=v4(Mr[1]))!==""&&pr.charAt(0)!==","))return g2;pr=pr.replace(/^,/,"")}return Gt})(Vt);if(this.fontFaces){var Xt=(function(Wt,yn){var Mr=Wt.getFontList(),Gt=JSON.stringify(Mr);if(it===null||Tt!==Gt){var pr=(function(Dr){var Yt=[];return Object.keys(Dr).forEach(function(ln){Dr[ln].forEach(function(cr){var ur=null;switch(cr){case"bold":ur={family:ln,weight:"bold"};break;case"italic":ur={family:ln,style:"italic"};break;case"bolditalic":ur={family:ln,weight:"bold",style:"italic"};break;case"":case"normal":ur={family:ln}}ur!==null&&(ur.ref={name:ln,style:cr},Yt.push(ur))})}),Yt})(Mr);it=(function(Dr){for(var Yt={},ln=0;ln<Dr.length;++ln){var cr=m2(Dr[ln]),ur=cr.family,en=cr.stretch,xr=cr.style,Zt=cr.weight;Yt[ur]=Yt[ur]||{},Yt[ur][en]=Yt[ur][en]||{},Yt[ur][en][xr]=Yt[ur][en][xr]||{},Yt[ur][en][xr][Zt]=cr}return Yt})(pr.concat(yn)),Tt=Gt}return it})(this.pdf,this.fontFaces),Jt=sr.map(function(Wt){return{family:Wt,stretch:"normal",weight:zt,style:xt}}),Er=(function(Wt,yn,Mr){for(var Gt=(Mr=Mr||{}).defaultFontFamily||"times",pr=Object.assign({},eR,Mr.genericFontFamilies||{}),Dr=null,Yt=null,ln=0;ln<yn.length;++ln)if(pr[(Dr=m2(yn[ln])).family]&&(Dr.family=pr[Dr.family]),Wt.hasOwnProperty(Dr.family)){Yt=Wt[Dr.family];break}if(!(Yt=Yt||Wt[Gt]))throw new Error("Could not find a font-family for the rule '"+g4(Dr)+"' and default family '"+Gt+"'.");if(Yt=(function(cr,ur){if(ur[cr])return ur[cr];var en=g_[cr],xr=en<=g_.normal?-1:1,Zt=p4(ur,zE,en,xr);if(!Zt)throw new Error("Could not find a matching font-stretch value for "+cr);return Zt})(Dr.stretch,Yt),Yt=(function(cr,ur){if(ur[cr])return ur[cr];for(var en=UE[cr],xr=0;xr<en.length;++xr)if(ur[en[xr]])return ur[en[xr]];throw new Error("Could not find a matching font-style for "+cr)})(Dr.style,Yt),!(Yt=(function(cr,ur){if(ur[cr])return ur[cr];if(cr===400&&ur[500])return ur[500];if(cr===500&&ur[400])return ur[400];var en=QO[cr],xr=p4(ur,GE,en,cr<400?-1:1);if(!xr)throw new Error("Could not find a matching font-weight for value "+cr);return xr})(Dr.weight,Yt)))throw new Error("Failed to resolve a font for the rule '"+g4(Dr)+"'.");return Yt})(Xt,Jt);this.pdf.setFont(Er.ref.name,Er.ref.style)}else{var dr="";(zt==="bold"||parseInt(zt,10)>=700||xt==="bold")&&(dr="bold"),xt==="italic"&&(dr+="italic"),dr.length===0&&(dr="normal");for(var Nr="",or={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ft=0;Ft<sr.length;Ft++){if(this.pdf.internal.getFont(sr[Ft],dr,{noFallback:!0,disableWarning:!0})!==void 0){Nr=sr[Ft];break}if(dr==="bolditalic"&&this.pdf.internal.getFont(sr[Ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nr=sr[Ft],dr="bold";else if(this.pdf.internal.getFont(sr[Ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nr=sr[Ft],dr="normal";break}}if(Nr===""){for(var _r=0;_r<sr.length;_r++)if(or[sr[_r]]){Nr=or[sr[_r]];break}}Nr=Nr===""?"Times":Nr,this.pdf.setFont(Nr,dr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};v.prototype.setLineDash=function(O){this.lineDash=O},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){V.call(this,"fill",!1)},v.prototype.stroke=function(){V.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(O,G){if(isNaN(O)||isNaN(G))throw ti.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new s(O,G));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new s(O,G)},v.prototype.closePath=function(){var O=new s(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&zn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){O=new s(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(O.x,O.y)},v.prototype.lineTo=function(O,G){if(isNaN(O)||isNaN(G))throw ti.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new s(O,G));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new s(H.x,H.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},v.prototype.quadraticCurveTo=function(O,G,H,Y){if(isNaN(H)||isNaN(Y)||isNaN(O)||isNaN(G))throw ti.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new s(H,Y)),Ae=this.ctx.transform.applyToPoint(new s(O,G));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:se.x,y:se.y}),this.ctx.lastPoint=new s(se.x,se.y)},v.prototype.bezierCurveTo=function(O,G,H,Y,se,Ae){if(isNaN(se)||isNaN(Ae)||isNaN(O)||isNaN(G)||isNaN(H)||isNaN(Y))throw ti.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Oe=this.ctx.transform.applyToPoint(new s(se,Ae)),Re=this.ctx.transform.applyToPoint(new s(O,G)),Ie=this.ctx.transform.applyToPoint(new s(H,Y));this.path.push({type:"bct",x1:Re.x,y1:Re.y,x2:Ie.x,y2:Ie.y,x:Oe.x,y:Oe.y}),this.ctx.lastPoint=new s(Oe.x,Oe.y)},v.prototype.arc=function(O,G,H,Y,se,Ae){if(isNaN(O)||isNaN(G)||isNaN(H)||isNaN(Y)||isNaN(se))throw ti.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var Oe=this.ctx.transform.applyToPoint(new s(O,G));O=Oe.x,G=Oe.y;var Re=this.ctx.transform.applyToPoint(new s(0,H)),Ie=this.ctx.transform.applyToPoint(new s(0,0));H=Math.sqrt(Math.pow(Re.x-Ie.x,2)+Math.pow(Re.y-Ie.y,2))}Math.abs(se-Y)>=2*Math.PI&&(Y=0,se=2*Math.PI),this.path.push({type:"arc",x:O,y:G,radius:H,startAngle:Y,endAngle:se,counterclockwise:Ae})},v.prototype.arcTo=function(O,G,H,Y,se){throw new Error("arcTo not implemented.")},v.prototype.rect=function(O,G,H,Y){if(isNaN(O)||isNaN(G)||isNaN(H)||isNaN(Y))throw ti.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,G),this.lineTo(O+H,G),this.lineTo(O+H,G+Y),this.lineTo(O,G+Y),this.lineTo(O,G),this.lineTo(O+H,G),this.lineTo(O,G)},v.prototype.fillRect=function(O,G,H,Y){if(isNaN(O)||isNaN(G)||isNaN(H)||isNaN(Y))throw ti.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,G,H,Y),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},v.prototype.strokeRect=function(O,G,H,Y){if(isNaN(O)||isNaN(G)||isNaN(H)||isNaN(Y))throw ti.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(O,G,H,Y),this.stroke())},v.prototype.clearRect=function(O,G,H,Y){if(isNaN(O)||isNaN(G)||isNaN(H)||isNaN(Y))throw ti.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,G,H,Y))},v.prototype.save=function(O){O=typeof O!="boolean"||O;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},v.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(G),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(O){var G,H,Y,se;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))G=0,H=0,Y=0,se=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(Ae!==null)G=parseInt(Ae[1]),H=parseInt(Ae[2]),Y=parseInt(Ae[3]),se=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)G=parseInt(Ae[1]),H=parseInt(Ae[2]),Y=parseInt(Ae[3]),se=parseFloat(Ae[4]);else{if(se=1,typeof O=="string"&&O.charAt(0)!=="#"){var Oe=new OE(O);O=Oe.ok?Oe.toHex():"#000000"}O.length===4?(G=O.substring(1,2),G+=G,H=O.substring(2,3),H+=H,Y=O.substring(3,4),Y+=Y):(G=O.substring(1,3),H=O.substring(3,5),Y=O.substring(5,7)),G=parseInt(G,16),H=parseInt(H,16),Y=parseInt(Y,16)}}return{r:G,g:H,b:Y,a:se,style:O}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(O,G,H,Y){if(isNaN(G)||isNaN(H)||typeof O!="string")throw ti.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!_.call(this)){var se=_e(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;Z.call(this,{text:O,x:G,y:H,scale:Ae,angle:se,align:this.textAlign,maxWidth:Y})}},v.prototype.strokeText=function(O,G,H,Y){if(isNaN(G)||isNaN(H)||typeof O!="string")throw ti.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){Y=isNaN(Y)?void 0:Y;var se=_e(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;Z.call(this,{text:O,x:G,y:H,scale:Ae,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:Y})}},v.prototype.measureText=function(O){if(typeof O!="string")throw ti.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,H=this.pdf.internal.scaleFactor,Y=G.internal.getFontSize(),se=G.getStringUnitWidth(O)*Y/G.internal.scaleFactor;return new function(Ae){var Oe=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Oe}}),this}({width:se*=Math.round(96*H/72*1e4)/1e4})},v.prototype.scale=function(O,G){if(isNaN(O)||isNaN(G))throw ti.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new u(O,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},v.prototype.rotate=function(O){if(isNaN(O))throw ti.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new u(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},v.prototype.translate=function(O,G){if(isNaN(O)||isNaN(G))throw ti.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new u(1,0,0,1,O,G);this.ctx.transform=this.ctx.transform.multiply(H)},v.prototype.transform=function(O,G,H,Y,se,Ae){if(isNaN(O)||isNaN(G)||isNaN(H)||isNaN(Y)||isNaN(se)||isNaN(Ae))throw ti.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Oe=new u(O,G,H,Y,se,Ae);this.ctx.transform=this.ctx.transform.multiply(Oe)},v.prototype.setTransform=function(O,G,H,Y,se,Ae){O=isNaN(O)?1:O,G=isNaN(G)?0:G,H=isNaN(H)?0:H,Y=isNaN(Y)?1:Y,se=isNaN(se)?0:se,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new u(O,G,H,Y,se,Ae)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(O,G,H,Y,se,Ae,Oe,Re,Ie){var ot=this.pdf.getImageProperties(O),it=1,Tt=1,Nt=1,we=1;Y!==void 0&&Re!==void 0&&(Nt=Re/Y,we=Ie/se,it=ot.width/Y*Re/Y,Tt=ot.height/se*Ie/se),Ae===void 0&&(Ae=G,Oe=H,G=0,H=0),Y!==void 0&&Re===void 0&&(Re=Y,Ie=se),Y===void 0&&Re===void 0&&(Re=ot.width,Ie=ot.height);var yt=this.ctx.transform.decompose(),xt=_e(yt.rotate.shx),zt=new u,dt=(zt=(zt=(zt=zt.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale)).applyToRectangle(new l(Ae-G*Nt,Oe-H*we,Y*it,se*Tt));if(this.autoPaging){for(var Vt,jt=C.call(this,dt),sr=[],Xt=0;Xt<jt.length;Xt+=1)sr.indexOf(jt[Xt])===-1&&sr.push(jt[Xt]);j(sr);for(var Jt=sr[0],Er=sr[sr.length-1],dr=Jt;dr<Er+1;dr++){this.pdf.setPage(dr);var Nr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],or=dr===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_r=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=dr===1?0:Ft+(dr-2)*_r;if(this.ctx.clip_path.length!==0){var yn=this.path;Vt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Vt,this.posX+this.margin[3],-Wt+or+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=yn}var Mr=JSON.parse(JSON.stringify(dt));Mr=D([Mr],this.posX+this.margin[3],-Wt+or+this.ctx.prevPageLastElemOffset)[0];var Gt=(dr>Jt||dr<Er)&&S.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nr,_r,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Mr.x,Mr.y,Mr.w,Mr.h,null,null,xt),Gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,xt)};var C=function(O,G,H){var Y=[];G=G||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":Y.push(Math.floor((O.y+se)/H)+1);break;case"arc":Y.push(Math.floor((O.y+se-O.radius)/H)+1),Y.push(Math.floor((O.y+se+O.radius)/H)+1);break;case"qct":var Ae=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);Y.push(Math.floor((Ae.y+se)/H)+1),Y.push(Math.floor((Ae.y+Ae.h+se)/H)+1);break;case"bct":var Oe=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);Y.push(Math.floor((Oe.y+se)/H)+1),Y.push(Math.floor((Oe.y+Oe.h+se)/H)+1);break;case"rect":Y.push(Math.floor((O.y+se)/H)+1),Y.push(Math.floor((O.y+O.h+se)/H)+1)}for(var Re=0;Re<Y.length;Re+=1)for(;this.pdf.internal.getNumberOfPages()<Y[Re];)M.call(this);return Y},M=function(){var O=this.fillStyle,G=this.strokeStyle,H=this.font,Y=this.lineCap,se=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=G,this.font=H,this.lineCap=Y,this.lineWidth=se,this.lineJoin=Ae},D=function(O,G,H){for(var Y=0;Y<O.length;Y++)switch(O[Y].type){case"bct":O[Y].x2+=G,O[Y].y2+=H;case"qct":O[Y].x1+=G,O[Y].y1+=H;default:O[Y].x+=G,O[Y].y+=H}return O},j=function(O){return O.sort(function(G,H){return G-H})},V=function(O,G){var H=this.fillStyle,Y=this.strokeStyle,se=this.lineCap,Ae=this.lineWidth,Oe=Math.abs(Ae*this.ctx.transform.scaleX),Re=this.lineJoin;if(this.autoPaging){for(var Ie,ot,it=JSON.parse(JSON.stringify(this.path)),Tt=JSON.parse(JSON.stringify(this.path)),Nt=[],we=0;we<Tt.length;we++)if(Tt[we].x!==void 0)for(var yt=C.call(this,Tt[we]),xt=0;xt<yt.length;xt+=1)Nt.indexOf(yt[xt])===-1&&Nt.push(yt[xt]);for(var zt=0;zt<Nt.length;zt++)for(;this.pdf.internal.getNumberOfPages()<Nt[zt];)M.call(this);j(Nt);for(var dt=Nt[0],Vt=Nt[Nt.length-1],jt=dt;jt<Vt+1;jt++){this.pdf.setPage(jt),this.fillStyle=H,this.strokeStyle=Y,this.lineCap=se,this.lineWidth=Oe,this.lineJoin=Re;var sr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xt=jt===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Er=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dr=jt===1?0:Jt+(jt-2)*Er;if(this.ctx.clip_path.length!==0){var Nr=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Ie,this.posX+this.margin[3],-dr+Xt+this.ctx.prevPageLastElemOffset),X.call(this,O,!0),this.path=Nr}if(ot=JSON.parse(JSON.stringify(it)),this.path=D(ot,this.posX+this.margin[3],-dr+Xt+this.ctx.prevPageLastElemOffset),G===!1||jt===0){var or=(jt>dt||jt<Vt)&&S.call(this);or&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sr,Er,null).clip().discardPath()),X.call(this,O,G),or&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}this.path=it}else this.lineWidth=Oe,X.call(this,O,G),this.lineWidth=Ae},X=function(O,G){if((O!=="stroke"||G||!T.call(this))&&(O==="stroke"||G||!_.call(this))){for(var H,Y,se=[],Ae=this.path,Oe=0;Oe<Ae.length;Oe++){var Re=Ae[Oe];switch(Re.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:Re,deltas:[],abs:[]});break;case"lt":var Ie=se.length;if(Ae[Oe-1]&&!isNaN(Ae[Oe-1].x)&&(H=[Re.x-Ae[Oe-1].x,Re.y-Ae[Oe-1].y],Ie>0)){for(;Ie>=0;Ie--)if(se[Ie-1].close!==!0&&se[Ie-1].begin!==!0){se[Ie-1].deltas.push(H),se[Ie-1].abs.push(Re);break}}break;case"bct":H=[Re.x1-Ae[Oe-1].x,Re.y1-Ae[Oe-1].y,Re.x2-Ae[Oe-1].x,Re.y2-Ae[Oe-1].y,Re.x-Ae[Oe-1].x,Re.y-Ae[Oe-1].y],se[se.length-1].deltas.push(H);break;case"qct":var ot=Ae[Oe-1].x+2/3*(Re.x1-Ae[Oe-1].x),it=Ae[Oe-1].y+2/3*(Re.y1-Ae[Oe-1].y),Tt=Re.x+2/3*(Re.x1-Re.x),Nt=Re.y+2/3*(Re.y1-Re.y),we=Re.x,yt=Re.y;H=[ot-Ae[Oe-1].x,it-Ae[Oe-1].y,Tt-Ae[Oe-1].x,Nt-Ae[Oe-1].y,we-Ae[Oe-1].x,yt-Ae[Oe-1].y],se[se.length-1].deltas.push(H);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(Re)}}Y=G?null:O==="stroke"?"stroke":"fill";for(var xt=!1,zt=0;zt<se.length;zt++)if(se[zt].arc)for(var dt=se[zt].abs,Vt=0;Vt<dt.length;Vt++){var jt=dt[Vt];jt.type==="arc"?q.call(this,jt.x,jt.y,jt.radius,jt.startAngle,jt.endAngle,jt.counterclockwise,void 0,G,!xt):ue.call(this,jt.x,jt.y),xt=!0}else if(se[zt].close===!0)this.pdf.internal.out("h"),xt=!1;else if(se[zt].begin!==!0){var sr=se[zt].start.x,Xt=se[zt].start.y;de.call(this,se[zt].deltas,sr,Xt),xt=!0}Y&&F.call(this,Y),G&&J.call(this)}},ce=function(O){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-H;case"top":return O+G-H;case"hanging":return O+G-2*H;case"middle":return O+G/2-H;default:return O}},I=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(G,H){this.colorStops.push([G,H])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(O,G,H,Y,se,Ae,Oe,Re,Ie){for(var ot=oe.call(this,H,Y,se,Ae),it=0;it<ot.length;it++){var Tt=ot[it];it===0&&(Ie?B.call(this,Tt.x1+O,Tt.y1+G):ue.call(this,Tt.x1+O,Tt.y1+G)),xe.call(this,O,G,Tt.x2,Tt.y2,Tt.x3,Tt.y3,Tt.x4,Tt.y4)}Re?J.call(this):F.call(this,Oe)},F=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(O,G){this.pdf.internal.out(r(O)+" "+n(G)+" m")},Z=function(O){var G;switch(O.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var H,Y,se,Ae=this.pdf.getTextDimensions(O.text),Oe=ce.call(this,O.y),Re=I.call(this,Oe)-Ae.h,Ie=this.ctx.transform.applyToPoint(new s(O.x,Oe));if(this.autoPaging){var ot=this.ctx.transform.decompose(),it=new u;it=(it=(it=it.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale);for(var Tt=this.ctx.transform.applyToRectangle(new l(O.x,Oe,Ae.w,Ae.h)),Nt=it.applyToRectangle(new l(O.x,Re,Ae.w,Ae.h)),we=C.call(this,Nt),yt=[],xt=0;xt<we.length;xt+=1)yt.indexOf(we[xt])===-1&&yt.push(we[xt]);j(yt);for(var zt=yt[0],dt=yt[yt.length-1],Vt=zt;Vt<dt+1;Vt++){this.pdf.setPage(Vt);var jt=Vt===1?this.posY+this.margin[0]:this.margin[0],sr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[2],Jt=Xt-this.margin[0],Er=this.pdf.internal.pageSize.width-this.margin[1],dr=Er-this.margin[3],Nr=Vt===1?0:sr+(Vt-2)*Jt;if(this.ctx.clip_path.length!==0){var or=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(H,this.posX+this.margin[3],-1*Nr+jt),X.call(this,"fill",!0),this.path=or}var Ft=D([JSON.parse(JSON.stringify(Nt))],this.posX+this.margin[3],-Nr+jt+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*O.scale),se=this.lineWidth,this.lineWidth=se*O.scale);var _r=this.autoPaging!=="text";if(_r||Ft.y+Ft.h<=Xt){if(_r||Ft.y>=jt&&Ft.x<=Er){var Wt=_r?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Er-Ft.x)[0],yn=D([JSON.parse(JSON.stringify(Tt))],this.posX+this.margin[3],-Nr+jt+this.ctx.prevPageLastElemOffset)[0],Mr=_r&&(Vt>zt||Vt<dt)&&S.call(this);Mr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dr,Jt,null).clip().discardPath()),this.pdf.text(Wt,yn.x,yn.y,{angle:O.angle,align:G,renderingMode:O.renderingMode}),Mr&&this.pdf.restoreGraphicsState()}}else Ft.y<Xt&&(this.ctx.prevPageLastElemOffset+=Xt-Ft.y);O.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=se)}}else O.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*O.scale),se=this.lineWidth,this.lineWidth=se*O.scale),this.pdf.text(O.text,Ie.x+this.posX,Ie.y+this.posY,{angle:O.angle,align:G,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=se)},ue=function(O,G,H,Y){H=H||0,Y=Y||0,this.pdf.internal.out(r(O+H)+" "+n(G+Y)+" l")},de=function(O,G,H){return this.pdf.lines(O,G,H,null,null)},xe=function(O,G,H,Y,se,Ae,Oe,Re){this.pdf.internal.out([e(i(H+O)),e(a(Y+G)),e(i(se+O)),e(a(Ae+G)),e(i(Oe+O)),e(a(Re+G)),"c"].join(" "))},oe=function(O,G,H,Y){for(var se=2*Math.PI,Ae=Math.PI/2;G>H;)G-=se;var Oe=Math.abs(H-G);Oe<se&&Y&&(Oe=se-Oe);for(var Re=[],Ie=Y?-1:1,ot=G;Oe>1e-5;){var it=ot+Ie*Math.min(Oe,Ae);Re.push(be.call(this,O,ot,it)),Oe-=Math.abs(it-ot),ot=it}return Re},be=function(O,G,H){var Y=(H-G)/2,se=O*Math.cos(Y),Ae=O*Math.sin(Y),Oe=se,Re=-Ae,Ie=Oe*Oe+Re*Re,ot=Ie+Oe*se+Re*Ae,it=4/3*(Math.sqrt(2*Ie*ot)-ot)/(Oe*Ae-Re*se),Tt=Oe-it*Re,Nt=Re+it*Oe,we=Tt,yt=-Nt,xt=Y+G,zt=Math.cos(xt),dt=Math.sin(xt);return{x1:O*Math.cos(G),y1:O*Math.sin(G),x2:Tt*zt-Nt*dt,y2:Tt*dt+Nt*zt,x3:we*zt-yt*dt,y3:we*dt+yt*zt,x4:O*Math.cos(H),y4:O*Math.sin(H)}},_e=function(O){return 180*O/Math.PI},Le=function(O,G,H,Y,se,Ae){var Oe=O+.5*(H-O),Re=G+.5*(Y-G),Ie=se+.5*(H-se),ot=Ae+.5*(Y-Ae),it=Math.min(O,se,Oe,Ie),Tt=Math.max(O,se,Oe,Ie),Nt=Math.min(G,Ae,Re,ot),we=Math.max(G,Ae,Re,ot);return new l(it,Nt,Tt-it,we-Nt)},Ne=function(O,G,H,Y,se,Ae,Oe,Re){var Ie,ot,it,Tt,Nt,we,yt,xt,zt,dt,Vt,jt,sr,Xt,Jt=H-O,Er=Y-G,dr=se-H,Nr=Ae-Y,or=Oe-se,Ft=Re-Ae;for(ot=0;ot<41;ot++)zt=(yt=(it=O+(Ie=ot/40)*Jt)+Ie*((Nt=H+Ie*dr)-it))+Ie*(Nt+Ie*(se+Ie*or-Nt)-yt),dt=(xt=(Tt=G+Ie*Er)+Ie*((we=Y+Ie*Nr)-Tt))+Ie*(we+Ie*(Ae+Ie*Ft-we)-xt),ot==0?(Vt=zt,jt=dt,sr=zt,Xt=dt):(Vt=Math.min(Vt,zt),jt=Math.min(jt,dt),sr=Math.max(sr,zt),Xt=Math.max(Xt,dt));return new l(Math.round(Vt),Math.round(jt),Math.round(sr-Vt),Math.round(Xt-jt))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,G,H=(O=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:G}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(fr.API),(function(t){var e=function(s){var l,u,f,p,v,y,_,T,S,C;for(u=[],f=0,p=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;p>f;f+=4)(v=(s.charCodeAt(f)<<24)+(s.charCodeAt(f+1)<<16)+(s.charCodeAt(f+2)<<8)+s.charCodeAt(f+3))!==0?(y=(v=((v=((v=((v=(v-(C=v%85))/85)-(S=v%85))/85)-(T=v%85))/85)-(_=v%85))/85)%85,u.push(y+33,_+33,T+33,S+33,C+33)):u.push(122);return(function(M,D){for(var j=D;j>0;j--)M.pop()})(u,l.length),String.fromCharCode.apply(String,u)+"~>"},r=function(s){var l,u,f,p,v,y=String,_="length",T=255,S="charCodeAt",C="slice",M="replace";for(s[C](-2),s=s[C](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),f=[],p=0,v=(s+=l="uuuuu"[C](s[_]%5||5))[_];v>p;p+=5)u=52200625*(s[S](p)-33)+614125*(s[S](p+1)-33)+7225*(s[S](p+2)-33)+85*(s[S](p+3)-33)+(s[S](p+4)-33),f.push(T&u>>24,T&u>>16,T&u>>8,T&u);return(function(D,j){for(var V=j;V>0;V--)D.pop()})(f,l[_]),y.fromCharCode.apply(y,f)},n=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var u="",f=0;f<s.length;f+=2)u+=String.fromCharCode("0x"+(s[f]+s[f+1]));return u},a=function(s){for(var l=new Uint8Array(s.length),u=s.length;u--;)l[u]=s.charCodeAt(u);return(l=c_(l)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};t.processDataByFilters=function(s,l){var u=0,f=s||"",p=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(fr.API),(function(t){t.loadFile=function(e,r,n){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(u,f,p){var v=new XMLHttpRequest,y=0,_=function(T){var S=T.length,C=[],M=String.fromCharCode;for(y=0;y<S;y+=1)C.push(M(255&T.charCodeAt(y)));return C.join("")};if(v.open("GET",u,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?p(_(this.responseText)):p(void 0)}),v.send(null),f&&v.status===200)return _(v.responseText)})(i,a,s)}catch{}return l})(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(fr.API),(function(t){function e(){return(Or.html2canvas?Promise.resolve(Or.html2canvas):T0(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Or.DOMPurify?Promise.resolve(Or.DOMPurify):T0(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var u=zn(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(l,u){var f=document.createElement(l);for(var p in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[p]=u.style[p];return f},a=function l(u,f){for(var p=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),v=u.firstChild;v;v=v.nextSibling)f!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||p.appendChild(l(v,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(p.width=u.width,p.height=u.height,p.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(p.value=u.value),p.addEventListener("load",function(){p.scrollTop=u.scrollTop,p.scrollLeft=u.scrollLeft},!0)),p},s=function l(u){var f=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),p=l.convert(Promise.resolve(),f);return(p=p.setProgress(1,l,1,[l])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,u){return l.__proto__=u||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,u){return this.then(function(){switch(u=u||(function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),u){case"string":return this.then(r).then(function(f){return this.set({src:i("div",{innerHTML:l,dompurify:f})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var f=this.opt.jsPDF,p=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var _=0;_<p.length;++_){var T=p[_],S=T.src.find(function(C){return C.format==="truetype"});S&&f.addFont(S.url,T.ref.name,T.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,f.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},s.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(n(l)!=="object")return this;var u=Object.keys(l||{}).map(function(f){if(f in s.template.prop)return function(){this.prop[f]=l[f]};switch(f){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[f]=l[f]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(l,u){return this.then(function(){var f=l in s.template.prop?this.prop[l]:this.opt[l];return u?u(f):f})},s.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function u(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(l=l||fr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,u,f,p){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,u,f,p){return this.setProgress(l?this.progress.val+l:null,u||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},s.prototype.then=function(l,u){var f=this;return this.thenCore(l,u,function(p,v){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return f.updateProgress(null,p),y}).then(p,v).then(function(y){return f.updateProgress(1),y})})},s.prototype.thenCore=function(l,u,f){f=f||Promise.prototype.then;var p=this;l&&(l=l.bind(p)),u&&(u=u.bind(p));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:s.convert(Object.assign({},p),Promise.prototype),y=f.call(v,l,u);return s.convert(y,p.__proto__)},s.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},s.prototype.thenList=function(l){var u=this;return l.forEach(function(f){u=u.thenCore(f)}),u},s.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return s.convert(u,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,fr.getPageSize=function(l,u,f){if(zn(l)==="object"){var p=l;l=p.orientation,u=p.unit||u,f=p.format||f}u=u||"mm",f=f||"a4",l=(""+(l||"P")).toLowerCase();var v,y=(""+f).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+u}var T,S=0,C=0;if(_.hasOwnProperty(y))S=_[y][1]/v,C=_[y][0]/v;else try{S=f[1],C=f[0]}catch{throw new Error("Invalid format: "+f)}if(l==="p"||l==="portrait")l="p",C>S&&(T=C,C=S,S=T);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",S>C&&(T=C,C=S,S=T)}return{width:C,height:S,unit:u,k:v,orientation:l}},t.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(m2):null;var f=new s(u);return u.worker?f:f.from(l).doCallback()}})(fr.API),fr.API.addJS=function(t){return y4=t,this.internal.events.subscribe("postPutResources",function(){Im=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Im+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+y4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Im!==void 0&&_4!==void 0&&this.internal.out("/Names <</JavaScript "+Im+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=n.exec(s);if(l!=null){var u=l[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var v=r.internal.newObject();p.push(v);var y=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var _=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<p.length;a++)r.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+_+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var u=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(fr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,l){var u,f=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=(function(v){for(var y,_=256*v.charCodeAt(4)+v.charCodeAt(5),T=v.length,S={width:0,height:0,numcomponents:1},C=4;C<T;C+=2){if(C+=_,e.indexOf(v.charCodeAt(C+1))!==-1){y=256*v.charCodeAt(C+5)+v.charCodeAt(C+6),S={width:256*v.charCodeAt(C+7)+v.charCodeAt(C+8),height:y,numcomponents:v.charCodeAt(C+9)};break}_=256*v.charCodeAt(C+2)+v.charCodeAt(C+3)}return S})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:r,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:f,index:n,alias:i}}return p}})(fr.API),fr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=BO(t,{checkCrc:!0}),s=a.width,l=a.height,u=a.channels,f=a.palette,p=a.depth;i=f&&u===1?(function(q){for(var F=q.width,J=q.height,B=q.data,Z=q.palette,ue=q.depth,de=!1,xe=[],oe=[],be=void 0,_e=!1,Le=0,Ne=0;Ne<Z.length;Ne++){var ee=S5(Z[Ne],4),O=ee[0],G=ee[1],H=ee[2],Y=ee[3];xe.push(O,G,H),Y!=null&&(Y===0?(Le++,oe.length<1&&oe.push(Ne)):Y<255&&(_e=!0))}if(_e||Le>1){de=!0,oe=void 0;var se=F*J;be=new Uint8Array(se);for(var Ae=new DataView(B.buffer),Oe=0;Oe<se;Oe++){var Re=v2(Ae,Oe,ue),Ie=S5(Z[Re],4)[3];be[Oe]=Ie}}else Le===0&&(oe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:de?8:void 0,colorBytes:B,alphaBytes:be,needSMask:de,palette:xe,mask:oe}})(a):u===2||u===4?(function(q){for(var F=q.data,J=q.width,B=q.height,Z=q.channels,ue=q.depth,de=Z===2?"DeviceGray":"DeviceRGB",xe=Z-1,oe=J*B,be=xe,_e=oe*be,Le=1*oe,Ne=Math.ceil(_e*ue/8),ee=Math.ceil(Le*ue/8),O=new Uint8Array(Ne),G=new Uint8Array(ee),H=new DataView(F.buffer),Y=new DataView(O.buffer),se=new DataView(G.buffer),Ae=!1,Oe=0;Oe<oe;Oe++){for(var Re=Oe*Z,Ie=0;Ie<be;Ie++)N4(Y,v2(H,Re+Ie,ue),Oe*be+Ie,ue);var ot=v2(H,Re+be,ue);ot<(1<<ue)-1&&(Ae=!0),N4(se,ot,1*Oe,ue)}return{colorSpace:de,colorsPerPixel:xe,sMaskBitsPerComponent:Ae?ue:void 0,colorBytes:O,alphaBytes:G,needSMask:Ae}})(a):(function(q){var F=q.data,J=q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:J,colorsPerPixel:J==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?(function(B){for(var Z=B.length,ue=new Uint8Array(2*Z),de=new DataView(ue.buffer,ue.byteOffset,ue.byteLength),xe=0;xe<Z;xe++)de.setUint16(2*xe,B[xe],!1);return ue})(F):F,needSMask:!1}})(a);var v,y,_,T=i,S=T.colorSpace,C=T.colorsPerPixel,M=T.sMaskBitsPerComponent,D=T.colorBytes,j=T.alphaBytes,V=T.needSMask,X=T.palette,ce=T.mask,I=null;return n!==fr.API.image_compression.NONE&&typeof c_=="function"?(I=(function(q){var F;switch(q){case fr.API.image_compression.FAST:F=11;break;case fr.API.image_compression.MEDIUM:F=13;break;case fr.API.image_compression.SLOW:F=14;break;default:F=12}return F})(n),v=this.decode.FLATE_DECODE,y="/Predictor ".concat(I," /Colors ").concat(C," /BitsPerComponent ").concat(p," /Columns ").concat(s),t=S4(D,Math.ceil(s*C*p/8),C,p,n),V&&(_=S4(j,Math.ceil(s*M/8),1,M,n))):(v=void 0,y=void 0,t=D,V&&(_=j)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:r,data:t,index:e,filter:v,decodeParameters:y,transparency:ce,palette:X,sMask:_,predictor:I,width:s,height:l,bitsPerComponent:p,sMaskBitsPerComponent:M,colorSpace:S}}},(function(t){t.processGIF89A=function(e,r,n,i){var a=new sR(e),s=a.width,l=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:s,height:l},p=new _2(100).encode(f,100);return t.processJPEG.call(this,p,r,n,i)},t.processGIF87A=t.processGIF89A})(fr.API),Gl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Gl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){ti.log("bit decode error:"+r)}},Gl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[a>>7-l&1];this.data[s+4*l]=u.blue,this.data[s+4*l+1]=u.green,this.data[s+4*l+2]=u.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Gl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,l=a>>4,u=15&a,f=this.palette[l];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*i+1>=this.width)break;f=this.palette[u],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Gl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Gl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,u=(a>>10&e)/e*255|0,f=a>>15?255:0,p=n*this.width*4+4*i;this.data[p]=u,this.data[p+1]=l,this.data[p+2]=s,this.data[p+3]=f}this.pos+=t}},Gl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,u=(s>>5&r)/r*255|0,f=(s>>11)/e*255|0,p=i*this.width*4+4*a;this.data[p]=f,this.data[p+1]=u,this.data[p+2]=l,this.data[p+3]=255}this.pos+=t}},Gl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Gl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=s}},Gl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var a=new Gl(e,!1),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},f=new _2(100).encode(u,100);return t.processJPEG.call(this,f,r,n,i)}})(fr.API),M4.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var a=new M4(e),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},f=new _2(100).encode(u,100);return t.processJPEG.call(this,f,r,n,i)}})(fr.API),fr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,u=0,f=0;f<i;f+=4){var p=n[f],v=n[f+1],y=n[f+2],_=n[f+3];a[l++]=p,a[l++]=v,a[l++]=y,s[u++]=_}var T=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:T,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},fr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},If=fr.API,Fm=If.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,v=e.doKerning!==!1,y=0,_=t.length,T=0,S=l[0]||u,C=[];for(r=0;r<_;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(y=v&&zn(f[n])==="object"&&!isNaN(parseInt(f[n][T],10))?f[n][T]/p:0,C.push((l[n]||S)/u+y)),T=n;return C},x4=If.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return If.processArabic&&(t=If.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Fm.apply(this,arguments).reduce(function(a,s){return a+s},0)},w4=function(t,e,r,n){for(var i=[],a=0,s=t.length,l=0;a!==s&&l+e[a]<r;)l+=e[a],a++;i.push(t.slice(0,a));var u=a;for(l=0;a!==s;)l+e[a]>n&&(i.push(t.slice(u,a)),l=0,u=a),l+=e[a],a++;return u!==a&&i.push(t.slice(u,a)),i},b4=function(t,e,r){r||(r={});var n,i,a,s,l,u,f,p=[],v=[p],y=r.textIndent||0,_=0,T=0,S=t.split(" "),C=Fm.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var M=Array(u).join(" "),D=[];S.map(function(V){(V=V.split(/\s*\n/)).length>1?D=D.concat(V.map(function(X,ce){return(ce&&X.length?`
`:"")+X})):D.push(V[0])}),S=D,u=x4.apply(this,[M,r])}for(a=0,s=S.length;a<s;a++){var j=0;if(n=S[a],u&&n[0]==`
`&&(n=n.substr(1),j=1),y+_+(T=(i=Fm.apply(this,[n,r])).reduce(function(V,X){return V+X},0))>e||j){if(T>e){for(l=w4.apply(this,[n,i,e-(y+_),e]),p.push(l.shift()),p=[l.pop()];l.length;)v.push([l.shift()]);T=i.slice(n.length-(p[0]?p[0].length:0)).reduce(function(V,X){return V+X},0)}else p=[n];v.push(p),y=T+u,_=C}else p.push(n),y+=_+T,_=C}return f=u?function(V,X){return(X?M:"")+V.join(" ")}:function(V){return V.join(" ")},v.map(f)},If.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle),y="Unicode";return v.metadata[y]?{widths:v.metadata[y].widths||{0:1},kerning:v.metadata[y].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,u,f=[];for(l=0,u=n.length;l<u;l++)f=f.concat(b4.apply(this,[n[l],s,a]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var s=function(y){return"0x"+parseInt(y,10).toString(16)},l=t.__fontmetrics__.compress=function(y){var _,T,S,C,M=["{"];for(var D in y){if(_=y[D],isNaN(parseInt(D,10))?T="'"+D+"'":(D=parseInt(D,10),T=(T=s(D).slice(2)).slice(0,-1)+i[T.slice(-1)]),typeof _=="number")_<0?(S=s(_).slice(3),C="-"):(S=s(_).slice(2),C=""),S=C+S.slice(0,-1)+i[S.slice(-1)];else{if(zn(_)!=="object")throw new Error("Don't know what to do with value type "+zn(_)+".");S=l(_)}M.push(T+S)}return M.push("}"),M.join("")},u=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,T,S,C,M={},D=1,j=M,V=[],X="",ce="",I=y.length-1,q=1;q<I;q+=1)(C=y[q])=="'"?_?(S=_.join(""),_=void 0):_=[]:_?_.push(C):C=="{"?(V.push([j,S]),j={},S=void 0):C=="}"?((T=V.pop())[0][T[1]]=j,S=void 0,j=T[0]):C=="-"?D=-1:S===void 0?n.hasOwnProperty(C)?(X+=n[C],S=parseInt(X,16)*D,D=1,X=""):X+=C:n.hasOwnProperty(C)?(ce+=n[C],j[S]=parseInt(ce,16)*D,D=1,S=void 0,ce=""):ce+=C;return M},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},v={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var _=y.font,T=v.Unicode[_.postScriptName];T&&(_.metadata.Unicode={},_.metadata.Unicode.widths=T.widths,_.metadata.Unicode.kerning=T.kerning);var S=p.Unicode[_.postScriptName];S&&(_.metadata.Unicode.encoding=S,_.encoding=S.codePages[0])}])})(fr.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(n1(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])})(fr),fr.API.addSvgAsImage=function(t,e,r,n,i,a,s,l){if(isNaN(e)||isNaN(r))throw ti.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw ti.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=i;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(Or.canvg?Promise.resolve(Or.canvg):T0(()=>import("./index.es-BnPnp3BP.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(f,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){v.addImage(u.toDataURL("image/jpeg",1),e,r,n,i,s,l)})},fr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},fr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),u=[],f=0,p=0,v=0;function y(T,S){var C,M=!1;for(C=0;C<T.length;C+=1)T[C]===S&&(M=!0);return M}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var _=l.length;for(v=0;v<_;v+=1)r[l[v]].value=r[l[v]].defaultValue,r[l[v]].explicitSet=!1}if(zn(t)==="object"){for(i in t)if(a=t[i],y(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&y(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(f=0;f<a.length;f+=1)if(n=!0,a[f].length===1&&typeof a[f][0]=="number")u.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(n=!1);n===!0&&u.push([a[f][0]-1,a[f][1]-1].join(" "))}r[i].value="["+u.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,S=[];for(T in r)r[T].explicitSet===!0&&(r[T].type==="name"?S.push("/"+T+" /"+r[T].value):S.push("/"+T+" "+r[T].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+s.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(fr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var l,u=s.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],v=0,y=a.length;v<y;++v){if(l=s.metadata.characterToGlyph(a.charCodeAt(v)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(v),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(f[4-l.length],l)}return p.join("")},n=function(a){var s,l,u,f,p,v,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],v=0,y=(l=Object.keys(a).sort(function(_,T){return _-T})).length;v<y;v++)s=l[v],u.length>=100&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(f=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+f+">"));return u.length&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,f=s.newObject,p=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var v=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),_="",T=0;T<y.length;T++)_+=String.fromCharCode(y[T]);var S=f();p({data:_,addLength1:!0,objectId:S}),u("endobj");var C=f();p({data:n(l.metadata.toUnicode),addLength1:!0,objectId:C}),u("endobj");var M=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Zf(l.fontName)),u("/FontFile2 "+S+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var D=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+Zf(l.fontName)),u("/FontDescriptor "+M+" 0 R"),u("/W "+t.API.PDFObject.convert(v)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+C+" 0 R"),u("/BaseFont /"+Zf(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+D+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,f=s.newObject,p=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var v=l.metadata.rawData,y="",_=0;_<v.length;_++)y+=String.fromCharCode(v[_]);var T=f();p({data:y,addLength1:!0,objectId:T}),u("endobj");var S=f();p({data:n(l.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var C=f();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+T+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+Zf(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=f();for(var M=0;M<l.metadata.hmtx.widths.length;M++)l.metadata.hmtx.widths[M]=parseInt(l.metadata.hmtx.widths[M]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Zf(l.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",u=a.x,f=a.y,p=a.options||{},v=a.mutex||{},y=v.pdfEscape,_=v.activeFontKey,T=v.fonts,S=_,C="",M=0,D="",j=T[S].encoding;if(T[S].encoding!=="Identity-H")return{text:l,x:u,y:f,options:p,mutex:v};for(D=l,S=_,Array.isArray(l)&&(D=l[0]),M=0;M<D.length;M+=1)T[S].metadata.hasOwnProperty("cmap")&&(s=T[S].metadata.cmap.unicode.codeMap[D[M].charCodeAt(0)]),s||D[M].charCodeAt(0)<256&&T[S].metadata.hasOwnProperty("Unicode")?C+=D[M]:C+="";var V="";return parseInt(S.slice(1))<14||j==="WinAnsiEncoding"?V=y(C,S).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(V=r(C,T[S])),v.isHex=!0,{text:V,x:u,y:f,options:p,mutex:v}};e.events.push(["postProcessText",function(a){var s=a.text||"",l=[],u={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?l.push([i(Object.assign({},u,{text:s[f][0]})).text,s[f][1],s[f][2]]):l.push(i(Object.assign({},u,{text:s[f]})).text);a.text=l}else a.text=i(Object.assign({},u,{text:s})).text}])})(fr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(fr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,l,u,f,p,v=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],M=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,j=0;this.__bidiEngine__={};var V=function(B){var Z=B.charCodeAt(),ue=Z>>8,de=S[ue];return de!==void 0?v[256*de+(255&Z)]:ue===252||ue===253?"AL":M.test(ue)?"L":ue===8?"R":"N"},X=function(B){for(var Z,ue=0;ue<B.length;ue++){if((Z=V(B.charAt(ue)))==="L")return!1;if(Z==="R")return!0}return!1},ce=function(B,Z,ue,de){var xe,oe,be,_e,Le=Z[de];switch(Le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(Le="AN");break;case"AL":D=!0,Le="R";break;case"WS":case"BN":Le="N";break;case"CS":de<1||de+1>=Z.length||(xe=ue[de-1])!=="EN"&&xe!=="AN"||(oe=Z[de+1])!=="EN"&&oe!=="AN"?Le="N":D&&(oe="AN"),Le=oe===xe?oe:"N";break;case"ES":Le=(xe=de>0?ue[de-1]:"B")==="EN"&&de+1<Z.length&&Z[de+1]==="EN"?"EN":"N";break;case"ET":if(de>0&&ue[de-1]==="EN"){Le="EN";break}if(D){Le="N";break}for(be=de+1,_e=Z.length;be<_e&&Z[be]==="ET";)be++;Le=be<_e&&Z[be]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(_e=Z.length,be=de+1;be<_e&&Z[be]==="NSM";)be++;if(be<_e){var Ne=B[de],ee=Ne>=1425&&Ne<=2303||Ne===64286;if(xe=Z[be],ee&&(xe==="R"||xe==="AL")){Le="R";break}}}Le=de<1||(xe=Z[de-1])==="B"?"N":ue[de-1];break;case"B":D=!1,i=!0,Le=j;break;case"S":a=!0,Le="N"}return Le},I=function(B,Z,ue){var de=B.split("");return ue&&q(de,ue,{hiLevel:j}),de.reverse(),Z&&Z.reverse(),de.join("")},q=function(B,Z,ue){var de,xe,oe,be,_e,Le=-1,Ne=B.length,ee=0,O=[],G=j?_:y,H=[];for(D=!1,i=!1,a=!1,xe=0;xe<Ne;xe++)H[xe]=V(B[xe]);for(oe=0;oe<Ne;oe++){if(_e=ee,O[oe]=ce(B,H,O,oe),de=240&(ee=G[_e][T[O[oe]]]),ee&=15,Z[oe]=be=G[ee][5],de>0)if(de===16){for(xe=Le;xe<oe;xe++)Z[xe]=1;Le=-1}else Le=-1;if(G[ee][6])Le===-1&&(Le=oe);else if(Le>-1){for(xe=Le;xe<oe;xe++)Z[xe]=be;Le=-1}H[oe]==="B"&&(Z[oe]=0),ue.hiLevel|=be}a&&(function(Y,se,Ae){for(var Oe=0;Oe<Ae;Oe++)if(Y[Oe]==="S"){se[Oe]=j;for(var Re=Oe-1;Re>=0&&Y[Re]==="WS";Re--)se[Re]=j}})(H,Z,Ne)},F=function(B,Z,ue,de,xe){if(!(xe.hiLevel<B)){if(B===1&&j===1&&!i)return Z.reverse(),void(ue&&ue.reverse());for(var oe,be,_e,Le,Ne=Z.length,ee=0;ee<Ne;){if(de[ee]>=B){for(_e=ee+1;_e<Ne&&de[_e]>=B;)_e++;for(Le=ee,be=_e-1;Le<be;Le++,be--)oe=Z[Le],Z[Le]=Z[be],Z[be]=oe,ue&&(oe=ue[Le],ue[Le]=ue[be],ue[be]=oe);ee=_e}ee++}}},J=function(B,Z,ue){var de=B.split(""),xe={hiLevel:j};return ue||(ue=[]),q(de,ue,xe),(function(oe,be,_e){if(_e.hiLevel!==0&&p)for(var Le,Ne=0;Ne<oe.length;Ne++)be[Ne]===1&&(Le=C.indexOf(oe[Ne]))>=0&&(oe[Ne]=C[Le+1])})(de,ue,xe),F(2,de,Z,ue,xe),F(1,de,Z,ue,xe),de.join("")};return this.__bidiEngine__.doBidiReorder=function(B,Z,ue){if((function(xe,oe){if(oe)for(var be=0;be<xe.length;be++)oe[be]=be;l===void 0&&(l=X(xe)),f===void 0&&(f=X(xe))})(B,Z),s||!u||f)if(s&&u&&l^f)j=l?1:0,B=I(B,Z,ue);else if(!s&&u&&f)j=l?1:0,B=J(B,Z,ue),B=I(B,Z);else if(!s||l||u||f){if(s&&!u&&l^f)B=I(B,Z),l?(j=0,B=J(B,Z,ue)):(j=1,B=J(B,Z,ue),B=I(B,Z));else if(s&&l&&!u&&f)j=1,B=J(B,Z,ue),B=I(B,Z);else if(!s&&!u&&l^f){var de=p;l?(j=1,B=J(B,Z,ue),j=0,p=!1,B=J(B,Z,ue),p=de):(j=0,B=J(B,Z,ue),B=I(B,Z),j=1,p=!1,B=J(B,Z,ue),p=de,B=I(B,Z))}}else j=0,B=J(B,Z,ue);else j=l?1:0,B=J(B,Z,ue);return B},this.__bidiEngine__.setOptions=function(B){B&&(s=B.isInputVisual,u=B.isOutputVisual,l=B.isInputRtl,f=B.isOutputRtl,p=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([r.doBidiReorder(i[l])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(fr),fr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new rh(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new wR(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new oR(this.contents),this.head=new cR(this),this.name=new pR(this),this.cmap=new qE(this),this.toUnicode={},this.hhea=new uR(this),this.maxp=new mR(this),this.hmtx=new gR(this),this.post=new fR(this),this.os2=new hR(this),this.loca=new xR(this),this.glyf=new vR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,u,f;for(f=[],s=0,l=(u=this.bbox).length;s<l;s++)e=u[s],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,l;for(s=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var ec,rh=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,l,u;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^u)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*l+u},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t})(),oR=(function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,l,u,f,p,v,y,_,T,S;for(S in _=Object.keys(r).length,u=Math.log(2),v=16*Math.floor(Math.log(_)/u),s=Math.floor(v/u),p=16*_-v,(i=new rh).writeInt(this.scalarType),i.writeShort(_),i.writeShort(v),i.writeShort(s),i.writeShort(p),a=16*_,f=i.pos+a,l=null,T=[],r)for(y=r[S],i.writeString(S),i.writeInt(t(y)),i.writeInt(f),i.writeInt(y.length),T=T.concat(y),S==="head"&&(l=f),f+=y.length;f%4;)T.push(0),f++;return i.write(T),n=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=VE.call(r);r.length%4;)r.push(0);for(a=new rh(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),lR={}.hasOwnProperty,Ic=function(t,e){for(var r in e)lR.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ec=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var cR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ic(t,ec),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new rh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),k4=(function(){function t(e,r){var n,i,a,s,l,u,f,p,v,y,_,T,S,C,M,D,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(_=e.readUInt16(),y=_/2,e.pos+=6,a=(function(){var V,X;for(X=[],u=V=0;0<=y?V<y:V>y;u=0<=y?++V:--V)X.push(e.readUInt16());return X})(),e.pos+=2,S=(function(){var V,X;for(X=[],u=V=0;0<=y?V<y:V>y;u=0<=y?++V:--V)X.push(e.readUInt16());return X})(),f=(function(){var V,X;for(X=[],u=V=0;0<=y?V<y:V>y;u=0<=y?++V:--V)X.push(e.readUInt16());return X})(),p=(function(){var V,X;for(X=[],u=V=0;0<=y?V<y:V>y;u=0<=y?++V:--V)X.push(e.readUInt16());return X})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var V,X;for(X=[],u=V=0;0<=i?V<i:V>i;u=0<=i?++V:--V)X.push(e.readUInt16());return X})(),u=M=0,j=a.length;M<j;u=++M)for(C=a[u],n=D=T=S[u];T<=C?D<=C:D>=C;n=T<=C?++D:--D)p[u]===0?s=n+f[u]:(s=l[p[u]/2+(n-T)-(y-u)]||0)!==0&&(s+=f[u]),this.codeMap[n]=65535&s}e.pos=v}return t.encode=function(e,r){var n,i,a,s,l,u,f,p,v,y,_,T,S,C,M,D,j,V,X,ce,I,q,F,J,B,Z,ue,de,xe,oe,be,_e,Le,Ne,ee,O,G,H,Y,se,Ae,Oe,Re,Ie,ot,it;switch(de=new rh,s=Object.keys(e).sort(function(Tt,Nt){return Tt-Nt}),r){case"macroman":for(S=0,C=(function(){var Tt=[];for(T=0;T<256;++T)Tt.push(0);return Tt})(),D={0:0},a={},xe=0,Le=s.length;xe<Le;xe++)D[Re=e[i=s[xe]]]==null&&(D[Re]=++S),a[i]={old:e[i],new:D[e[i]]},C[i]=D[e[i]];return de.writeUInt16(1),de.writeUInt16(0),de.writeUInt32(12),de.writeUInt16(0),de.writeUInt16(262),de.writeUInt16(0),de.write(C),{charMap:a,subtable:de.data,maxGlyphID:S+1};case"unicode":for(Z=[],v=[],j=0,D={},n={},M=f=null,oe=0,Ne=s.length;oe<Ne;oe++)D[X=e[i=s[oe]]]==null&&(D[X]=++j),n[i]={old:X,new:D[X]},l=D[X]-i,M!=null&&l===f||(M&&v.push(M),Z.push(i),f=l),M=i;for(M&&v.push(M),v.push(65535),Z.push(65535),J=2*(F=Z.length),q=2*Math.pow(Math.log(F)/Math.LN2,2),y=Math.log(q/2)/Math.LN2,I=2*F-q,u=[],ce=[],_=[],T=be=0,ee=Z.length;be<ee;T=++be){if(B=Z[T],p=v[T],B===65535){u.push(0),ce.push(0);break}if(B-(ue=n[B].new)>=32768)for(u.push(0),ce.push(2*(_.length+F-T)),i=_e=B;B<=p?_e<=p:_e>=p;i=B<=p?++_e:--_e)_.push(n[i].new);else u.push(ue-B),ce.push(0)}for(de.writeUInt16(3),de.writeUInt16(1),de.writeUInt32(12),de.writeUInt16(4),de.writeUInt16(16+8*F+2*_.length),de.writeUInt16(0),de.writeUInt16(J),de.writeUInt16(q),de.writeUInt16(y),de.writeUInt16(I),Ae=0,O=v.length;Ae<O;Ae++)i=v[Ae],de.writeUInt16(i);for(de.writeUInt16(0),Oe=0,G=Z.length;Oe<G;Oe++)i=Z[Oe],de.writeUInt16(i);for(Ie=0,H=u.length;Ie<H;Ie++)l=u[Ie],de.writeUInt16(l);for(ot=0,Y=ce.length;ot<Y;ot++)V=ce[ot],de.writeUInt16(V);for(it=0,se=_.length;it<se;it++)S=_[it],de.writeUInt16(S);return{charMap:n,subtable:de.data,maxGlyphID:j+1}}},t})(),qE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ic(t,ec),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new k4(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=k4.encode(e,r),(i=new rh).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),uR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ic(t,ec),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),hR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ic(t,ec),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),fR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ic(t,ec),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,l,u;for(u=[],a=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;a=0<=l?++s:--s)u.push(e.readUInt32());return u}).call(this)}},t})(),dR=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ic(t,ec),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,s,l,u,f,p,v,y;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(u={},a=p=0,v=n.length;p<v;a=++p)i=n[a],e.pos=i.offset,f=e.readString(i.length),s=new dR(f,i),u[y=i.nameID]==null&&(u[y]=[]),u[i.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t})(),mR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ic(t,ec),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),gR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ic(t,ec),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,s,l,u;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],r=f=0;0<=i?f<i:f>i;r=0<=i?++f:--f)p.push(e.readInt16());return p})(),this.widths=(function(){var f,p,v,y;for(y=[],f=0,p=(v=this.metrics).length;f<p;f++)a=v[f],y.push(a.advance);return y}).call(this),n=this.widths[this.widths.length-1],u=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)u.push(this.widths.push(n));return u},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),VE=[].slice,vR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ic(t,ec),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,s,l,u,f,p,v;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(l=new rh(r.read(i))).readShort(),f=l.readShort(),v=l.readShort(),u=l.readShort(),p=l.readShort(),this.cache[e]=s===-1?new yR(l,f,v,u,p):new _R(l,s,f,v,u,p),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,s,l,u;for(s=[],a=[],l=0,u=r.length;l<u;l++)i=e[r[l]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},t})(),_R=(function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),yR=(function(){function t(e,r,n,i,a){var s,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new rh(VE.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),xR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ic(t,ec),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(i+=u)}for(var f=new Array(4*n.length),p=0;p<n.length;++p)f[4*p+3]=255&n[p],f[4*p+2]=(65280&n[p])>>8,f[4*p+1]=(16711680&n[p])>>16,f[4*p]=(4278190080&n[p])>>24;return f},t})(),wR=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,l,u;for(i={},s=0,l=e.length;s<l;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in u=this.glyphsFor(r))n=u[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,l,u,f,p,v,y,_,T,S,C,M;for(i in n=qE.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),_={0:0},M=n.charMap)_[(u=M[i]).old]=u.new;for(T in y=n.maxGlyphID,s)T in _||(_[T]=y++);return p=(function(D){var j,V;for(j in V={},D)V[D[j]]=j;return V})(_),v=Object.keys(p).sort(function(D,j){return D-j}),S=(function(){var D,j,V;for(V=[],D=0,j=v.length;D<j;D++)l=v[D],V.push(p[l]);return V})(),a=this.font.glyf.encode(s,S,_),f=this.font.loca.encode(a.offsets,S),C={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},t})();fr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+(function(){var l,u,f;for(f=[],l=0,u=r.length;l<u;l++)n=r[l],f.push(e.convert(n));return f})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e})();const y2=async t=>{try{const r=await(await fetch(t)).blob();return new Promise((n,i)=>{const a=new FileReader;a.onloadend=()=>n(a.result),a.onerror=i,a.readAsDataURL(r)})}catch(e){return console.error("Error loading image:",e),null}},bR=(t,e)=>new Promise(r=>{const n=document.createElement("canvas");n.width=600,n.height=450;const i=n.getContext("2d"),a=i.createLinearGradient(0,0,n.width,n.height);a.addColorStop(0,"#f8fafc"),a.addColorStop(1,"#e2e8f0"),i.fillStyle=a,i.fillRect(0,0,n.width,n.height),i.strokeStyle="#cbd5e1",i.lineWidth=.3;for(let u=0;u<=n.width;u+=25)i.beginPath(),i.moveTo(u,0),i.lineTo(u,n.height),i.stroke();for(let u=0;u<=n.height;u+=25)i.beginPath(),i.moveTo(0,u),i.lineTo(n.width,u),i.stroke();if(i.shadowColor="rgba(0, 0, 0, 0.1)",i.shadowBlur=10,i.strokeStyle="#64748b",i.lineWidth=3,i.strokeRect(5,5,n.width-10,n.height-10),i.shadowBlur=0,t&&t.type==="Polygon"){const u=t.coordinates[0],f=u.map(I=>I[0]),p=u.map(I=>I[1]),v=Math.min(...f),y=Math.max(...f),_=Math.min(...p),T=Math.max(...p),S=60,C=(n.width-2*S)/(y-v),M=(n.height-2*S)/(T-_),D=Math.min(C,M),j=I=>S+(I-v)*D,V=I=>n.height-(S+(I-_)*D);i.shadowColor="rgba(37, 99, 235, 0.3)",i.shadowBlur=15,i.shadowOffsetX=5,i.shadowOffsetY=5;const X=i.createLinearGradient(0,0,n.width,n.height);X.addColorStop(0,"rgba(59, 130, 246, 0.2)"),X.addColorStop(1,"rgba(37, 99, 235, 0.3)"),i.fillStyle=X,i.beginPath(),u.forEach((I,q)=>{const F=j(I[0]),J=V(I[1]);q===0?i.moveTo(F,J):i.lineTo(F,J)}),i.closePath(),i.fill(),i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0,i.strokeStyle="#1d4ed8",i.lineWidth=3,i.stroke(),u.forEach((I,q)=>{if(q<u.length-1){const F=j(I[0]),J=V(I[1]);i.beginPath(),i.arc(F,J,8,0,2*Math.PI),i.fillStyle="rgba(37, 99, 235, 0.3)",i.fill(),i.beginPath(),i.arc(F,J,5,0,2*Math.PI),i.fillStyle="#1e40af",i.fill(),i.beginPath(),i.arc(F,J,2,0,2*Math.PI),i.fillStyle="#ffffff",i.fill(),i.fillStyle="#1e293b",i.font="bold 10px Arial",i.fillText(`P${q+1}`,F+10,J-10)}}),i.font="bold 11px Arial",i.textAlign="center";for(let I=0;I<u.length-1;I++){const q=u[I],F=u[(I+1)%(u.length-1)]||u[I+1],J=j(q[0]),B=V(q[1]),Z=j(F[0]),ue=V(F[1]),de=6371e3,xe=q[1]*Math.PI/180,oe=F[1]*Math.PI/180,be=(F[1]-q[1])*Math.PI/180,_e=(F[0]-q[0])*Math.PI/180,Le=Math.sin(be/2)*Math.sin(be/2)+Math.cos(xe)*Math.cos(oe)*Math.sin(_e/2)*Math.sin(_e/2),Ne=2*Math.atan2(Math.sqrt(Le),Math.sqrt(1-Le)),ee=de*Ne,O=(J+Z)/2,G=(B+ue)/2;i.fillStyle="#1e40af";const H=55,Y=18;i.beginPath(),i.roundRect(O-H/2,G-Y/2,H,Y,4),i.fill(),i.fillStyle="#ffffff",i.fillText(`${ee.toFixed(1)}m`,O,G+4)}const ce=n.width/2;i.fillStyle="#059669",i.beginPath(),i.roundRect(ce-60,20,120,30,6),i.fill(),i.fillStyle="#ffffff",i.font="bold 14px Arial",i.fillText(`Area: ${e||0} m`,ce,40)}const s=n.width-50,l=50;i.beginPath(),i.arc(s,l,20,0,2*Math.PI),i.fillStyle="#ffffff",i.fill(),i.strokeStyle="#64748b",i.lineWidth=2,i.stroke(),i.fillStyle="#dc2626",i.beginPath(),i.moveTo(s,l-12),i.lineTo(s-6,l+5),i.lineTo(s,l),i.lineTo(s+6,l+5),i.closePath(),i.fill(),i.fillStyle="#1e293b",i.font="bold 10px Arial",i.textAlign="center",i.fillText("N",s,l+15),i.fillStyle="#64748b",i.font="9px Arial",i.textAlign="left",i.fillText("Scale: Approximate",15,n.height-15),r(n.toDataURL("image/png"))}),kn={primary:[37,99,235],primaryDark:[30,64,175],success:[5,150,105],warning:[245,158,11],danger:[220,38,38],gray:[100,116,139],grayLight:[241,245,249],white:[255,255,255],black:[15,23,42]},$E=async t=>{const e=new fr("p","mm","a4"),r=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),i=12,a=r-2*i;let s=0;const l=J=>e.setTextColor(J[0],J[1],J[2]),u=J=>e.setFillColor(J[0],J[1],J[2]),f=J=>e.setDrawColor(J[0],J[1],J[2]),p=(J=50)=>s>n-J?(e.addPage(),s=i+10,!0):!1,v=(J,B,Z)=>(u(kn.primary),e.roundedRect(i,Z,a,10,2,2,"F"),u(kn.primaryDark),e.rect(i,Z,4,10,"F"),e.setFontSize(11),e.setFont("helvetica","bold"),l(kn.white),e.text(`${B}  ${J}`,i+8,Z+7),Z+14),y=(J,B,Z,ue,de=80)=>{e.setFontSize(8),e.setFont("helvetica","normal"),l(kn.gray),e.text(J,Z,ue),e.setFontSize(9),e.setFont("helvetica","bold"),l(kn.black);const xe=B!=null&&B!==""?String(B):"";e.text(xe.substring(0,40),Z,ue+4)},_=(J,B,Z,ue)=>{f(kn.gray),e.setLineWidth(.3),e.rect(Z,ue-3,3.5,3.5),B&&(u(kn.success),e.rect(Z+.5,ue-2.5,2.5,2.5,"F")),e.setFontSize(8),e.setFont("helvetica","normal"),l(kn.black),e.text(J,Z+5,ue)},T=(J,B,Z,ue,de,xe,oe)=>{u(oe),e.roundedRect(J,B,Z,ue,2,2,"F"),e.setFontSize(8),e.setFont("helvetica","normal"),l(kn.white),e.text(de,J+Z/2,B+6,{align:"center"}),e.setFontSize(14),e.setFont("helvetica","bold"),e.text(String(xe||""),J+Z/2,B+14,{align:"center"})};u(kn.primary),e.rect(0,0,r,45,"F"),u(kn.primaryDark),e.rect(0,40,r,5,"F"),u(kn.white),e.circle(20,20,10,"F"),e.setFontSize(6),l(kn.primary),e.text("LOGO",20,21,{align:"center"}),e.setFontSize(20),e.setFont("helvetica","bold"),l(kn.white),e.text("Property Tax Assessment Report",35,18),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Annexure-A Form | Official Survey Document",35,26),e.setFontSize(8),e.text(`Generated: ${new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,r-i,18,{align:"right"}),e.text(`Document ID: ${t.id?.substring(0,8)||"N/A"}`,r-i,24,{align:"right"}),s=52;const S=(a-9)/4;if(T(i,s,S,18,"Building ID",t.building_id||"N/A",kn.primary),T(i+S+3,s,S,18,"Total Area",`${t.area_sqm||0} m`,kn.success),T(i+(S+3)*2,s,S,18,"Floor",`${t.floor_number||1}/${t.total_floors||1}`,kn.warning),T(i+(S+3)*3,s,S,18,"Status",t.status||"Pending",kn.gray),s+=25,t.geometry)try{u(kn.grayLight),e.roundedRect(i,s,a,75,3,3,"F"),f([203,213,225]),e.setLineWidth(.5),e.roundedRect(i,s,a,75,3,3);const J=await bR(t.geometry,t.area_sqm);e.addImage(J,"PNG",i+5,s+3,a-10,69),s+=80}catch(J){console.error("Error adding CAD diagram:",J),s+=10}p(60),s=v("Owner Information","",s);const C=i+3,M=i+a/3+3,D=i+a/3*2+3;if(y("Owner Name",t.owner_name,C,s),y("Phone Number",t.phone_number,M,s),y("Aadhaar Number",t.aadhaar_number,D,s),s+=12,y("Email Address",t.email_address,C,s),y("Family Members",t.family_members_count,M,s),y("Ownership Type",t.ownership_type,D,s),s+=12,y("Occupier Name",t.occupier_name,C,s),s+=15,p(50),s=v("Location Details","",s),y("7/12 Survey/Gat No",t.survey_gat_no,C,s),y("City Survey No",t.city_survey_no,M,s),y("Layout/Plot No",t.layout_name_plot_no,D,s),s+=12,y("Building Name",t.building_name,C,s),y("Nearest Road Type",t.nearest_road_type,M,s),y("Pin Code",t.pin_code,D,s),s+=12,y("Property Type",t.property_type,C,s),y("Usage Type",t.usage_type,M,s),y("Usage Sub-Type",t.usage_sub_type,D,s),s+=12,y("Full Address with Floor",t.address_with_floor,C,s,a-6),s+=15,p(50),s=v("Construction Details","",s),y("Construction Type",t.construction_type,C,s),y("Year of Construction",t.year_of_construction,M,s),t.year_of_construction){const J=new Date().getFullYear()-t.year_of_construction;y("Building Age",`${J} years`,D,s)}s+=12,y("Permission No",t.permission_no,C,s),y("Permission Date",t.permission_date,M,s),s+=10,_("Building Permission",t.building_permission,C,s),_("Occupancy Certificate",t.occupancy_certificate,M,s),s+=12,p(50),s=v("Water Supply Details","",s),_("Water Connection Available",t.water_connection,C,s),s+=8,t.water_connection&&(y("Connection Type",t.water_connection_type,C,s),y("Authorization",t.water_authorized,M,s),y("Pipe Size",t.pipe_size,D,s),s+=12,y("Meter No",t.water_meter_no,C,s),y("Consumer No",t.water_consumer_no,M,s),y("Connection Date",t.water_connection_date,D,s),s+=12),s+=5,p(50),s=v("Sanitation & Utilities","",s);const j=C,V=i+a/2;_("Has Toilet",t.has_toilet,j,s),_("Electricity Connection",t.electricity_connection,V,s),s+=7,_("Septic Tank",t.has_septic_tank,j,s),_("Solar Panels",t.has_solar,V,s),s+=7,_("Sewerage Connection",t.has_sewerage,j,s),_("Rain Water Harvesting",t.has_rainwater_harvesting,V,s),s+=7,_("Property Tax Paid",t.tax_paid,j,s),t.has_toilet&&t.toilet_count&&y("Toilet Count",t.toilet_count,V,s-2),s+=12,p(60),s=v("Assessment Details","",s),y("ULB Name",t.ulb_name,C,s),y("District",t.district,M,s),y("Town",t.town,D,s),s+=12,y("Zone No",t.zone_no,C,s),y("New Ward No",t.new_ward_no,M,s),y("Old Ward No",t.old_ward_no,D,s),s+=12,y("Old Property No",t.old_property_no,C,s),y("New Property No",t.new_property_no,M,s),s+=12,u([240,253,244]),e.roundedRect(i,s,a,16,2,2,"F"),s+=4,y("Total Carpet Area (m)",t.total_carpet_area,C,s),y("Exempted Area (m)",t.exempted_area,M,s),y("Assessable Area (m)",t.assessable_area,D,s),s+=18,p(80),s=v("Photo Documentation","",s);let X=i+5;const ce=45,I=55;if(t.owner_photo_url)try{const J=await y2(t.owner_photo_url);J&&(u(kn.grayLight),e.roundedRect(X-2,s,ce+4,I+12,2,2,"F"),e.addImage(J,"JPEG",X,s+2,ce,I),e.setFontSize(7),e.setFont("helvetica","bold"),l(kn.gray),e.text("Owner Photo",X+ce/2,s+I+8,{align:"center"}),X+=ce+15)}catch(J){console.error("Error adding owner photo:",J)}if(t.building_photo_url)try{const J=await y2(t.building_photo_url);J&&(u(kn.grayLight),e.roundedRect(X-2,s,ce+4,I+12,2,2,"F"),e.addImage(J,"JPEG",X,s+2,ce,I),e.setFontSize(7),e.setFont("helvetica","bold"),l(kn.gray),e.text("Building Front",X+ce/2,s+I+8,{align:"center"}),X+=ce+15)}catch(J){console.error("Error adding building photo 1:",J)}if(t.building_photo_url_2)try{const J=await y2(t.building_photo_url_2);J&&(u(kn.grayLight),e.roundedRect(X-2,s,ce+4,I+12,2,2,"F"),e.addImage(J,"JPEG",X,s+2,ce,I),e.setFontSize(7),e.setFont("helvetica","bold"),l(kn.gray),e.text("Building Side",X+ce/2,s+I+8,{align:"center"}))}catch(J){console.error("Error adding building photo 2:",J)}s+=I+20,p(30),u(kn.grayLight),e.roundedRect(i,s,a,20,2,2,"F"),s+=6,e.setFontSize(8),e.setFont("helvetica","bold"),l(kn.gray),e.text("Survey Metadata",i+5,s),s+=6,e.setFont("helvetica","normal"),e.setFontSize(7),e.text(`Survey ID: ${t.id||"N/A"}`,i+5,s),e.text(`Created: ${t.created_at?new Date(t.created_at).toLocaleString("en-IN"):"N/A"}`,i+70,s),e.text(`Surveyor ID: ${t.surveyor_id?.substring(0,12)||"N/A"}...`,i+140,s);const q=e.internal.getNumberOfPages();for(let J=1;J<=q;J++)e.setPage(J),f(kn.primary),e.setLineWidth(.5),e.line(i,n-12,r-i,n-12),e.setFontSize(7),l(kn.gray),e.text("Property Tax Assessment System | Annexure-A Form | Official Document | Confidential",r/2,n-8,{align:"center"}),e.setFont("helvetica","bold"),l(kn.primary),e.text(`Page ${J} of ${q}`,r-i,n-8,{align:"right"});const F=`Annexure_A_${t.building_id||t.id?.substring(0,8)||"Survey"}_${new Date().toISOString().split("T")[0]}.pdf`;e.save(F)},WE=ve.createContext(),ZE=()=>{const t=ve.useContext(WE);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},SR=({children:t})=>{const[e,r]=ve.useState([]),n=ve.useCallback((f,p="info",v=4e3)=>{const y=Date.now();return r(_=>[..._,{id:y,message:f,type:p,duration:v}]),y},[]),i=ve.useCallback(f=>{r(p=>p.filter(v=>v.id!==f))},[]),a=ve.useCallback((f,p)=>n(f,"success",p),[n]),s=ve.useCallback((f,p)=>n(f,"error",p),[n]),l=ve.useCallback((f,p)=>n(f,"info",p),[n]),u=ve.useCallback((f,p)=>n(f,"warning",p),[n]);return x.jsxs(WE.Provider,{value:{success:a,error:s,info:l,warning:u,removeToast:i},children:[t,x.jsx(ER,{toasts:e,removeToast:i})]})},ER=({toasts:t,removeToast:e})=>x.jsx("div",{className:"fixed bottom-4 right-4 z-[10000] flex flex-col gap-2 max-w-sm w-full px-4 sm:px-0",children:t.map(r=>x.jsx(TR,{...r,onClose:()=>e(r.id)},r.id))}),TR=({id:t,message:e,type:r,duration:n,onClose:i})=>{const[a,s]=ve.useState(!1),[l,u]=ve.useState(100);ve.useEffect(()=>{setTimeout(()=>s(!0),10);const y=Date.now(),_=setInterval(()=>{const S=Date.now()-y,C=Math.max(0,100-S/n*100);u(C)},50),T=setTimeout(()=>{s(!1),setTimeout(i,300)},n);return()=>{clearInterval(_),clearTimeout(T)}},[n,i]);const f={success:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),error:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),warning:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),info:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},p={success:"bg-green-500 text-white",error:"bg-red-500 text-white",warning:"bg-yellow-500 text-white",info:"bg-blue-500 text-white"},v={success:"bg-green-300",error:"bg-red-300",warning:"bg-yellow-300",info:"bg-blue-300"};return x.jsx("div",{className:`transform transition-all duration-300 ease-out ${a?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:x.jsxs("div",{className:`${p[r]} rounded-xl shadow-lg overflow-hidden`,children:[x.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[x.jsx("div",{className:"flex-shrink-0",children:f[r]}),x.jsx("p",{className:"flex-1 text-sm font-medium",children:e}),x.jsx("button",{onClick:()=>{s(!1),setTimeout(i,300)},className:"flex-shrink-0 p-1 rounded-full hover:bg-white/20 transition-colors",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"h-1 bg-black/10",children:x.jsx("div",{className:`h-full ${v[r]} transition-all duration-100 ease-linear`,style:{width:`${l}%`}})})]})})};var S1={};S1.version="0.18.5";var YE=1252,AR=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],KE=function(t){AR.indexOf(t)!=-1&&(YE=t)};function LR(){KE(1252)}var ep=function(t){KE(t)};function NR(){ep(1200),LR()}var Bm=function(e){return String.fromCharCode(e)},P4=function(e){return String.fromCharCode(e)},E1,Xu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function tp(t){for(var e="",r=0,n=0,i=0,a=0,s=0,l=0,u=0,f=0;f<t.length;)r=t.charCodeAt(f++),a=r>>2,n=t.charCodeAt(f++),s=(r&3)<<4|n>>4,i=t.charCodeAt(f++),l=(n&15)<<2|i>>6,u=i&63,isNaN(n)?l=u=64:isNaN(i)&&(u=64),e+=Xu.charAt(a)+Xu.charAt(s)+Xu.charAt(l)+Xu.charAt(u);return e}function du(t){var e="",r=0,n=0,i=0,a=0,s=0,l=0,u=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)a=Xu.indexOf(t.charAt(f++)),s=Xu.indexOf(t.charAt(f++)),r=a<<2|s>>4,e+=String.fromCharCode(r),l=Xu.indexOf(t.charAt(f++)),n=(s&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(n)),u=Xu.indexOf(t.charAt(f++)),i=(l&3)<<6|u,u!==64&&(e+=String.fromCharCode(i));return e}var Nn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),vu=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Uh(t){return Nn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function O4(t){return Nn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Zl=function(e){return Nn?vu(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function sg(t){if(typeof ArrayBuffer>"u")return Zl(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function yp(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function CR(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var _s=Nn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:vu(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function MR(t){for(var e=[],r=0,n=t.length+250,i=Uh(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var l=t.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|l>>6&15|(s&3)<<4,i[r++]=128|l&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(e.push(i.slice(0,r)),r=0,i=Uh(65535),n=65530)}return e.push(i.slice(0,r)),_s(e)}var M0=/\u0000/g,Um=/[\u0001-\u0006]/g;function fd(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Yl(t,e){var r=""+t;return r.length>=e?r:Ki("0",e-r.length)+r}function $_(t,e){var r=""+t;return r.length>=e?r:Ki(" ",e-r.length)+r}function T1(t,e){var r=""+t;return r.length>=e?r:r+Ki(" ",e-r.length)}function kR(t,e){var r=""+Math.round(t);return r.length>=e?r:Ki("0",e-r.length)+r}function PR(t,e){var r=""+t;return r.length>=e?r:Ki("0",e-r.length)+r}var R4=Math.pow(2,32);function Ff(t,e){if(t>R4||t<-R4)return kR(t,e);var r=Math.round(t);return PR(r,e)}function A1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var D4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],x2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function OR(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Ji={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},j4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},RR={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function L1(t,e,r){for(var n=t<0?-1:1,i=t*n,a=0,s=1,l=0,u=1,f=0,p=0,v=Math.floor(i);f<e&&(v=Math.floor(i),l=v*s+a,p=v*f+u,!(i-v<5e-8));)i=1/(i-v),a=s,s=l,u=f,f=p;if(p>e&&(f>e?(p=u,l=a):(p=f,l=s)),!r)return[0,n*l,p];var y=Math.floor(n*l/p);return[y,n*l-y*p,p]}function zm(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),a=0,s=[],l={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++n,++l.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),s=[u.getFullYear(),u.getMonth()+1,u.getDate()],a=u.getDay(),n<60&&(a=(a+6)%7),r&&(a=zR(u,s))}return l.y=s[0],l.m=s[1],l.d=s[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=a,l}var XE=new Date(1899,11,31,0,0,0),DR=XE.getTime(),jR=new Date(1900,2,1,0,0,0);function JE(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=jR&&(r+=1440*60*1e3),(r-(DR+(t.getTimezoneOffset()-XE.getTimezoneOffset())*6e4))/(1440*60*1e3)}function W_(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function IR(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function FR(t){var e=t<0?12:11,r=W_(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function BR(t){var e=W_(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function UR(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=FR(t):e===10?r=t.toFixed(10).substr(0,12):r=BR(t),W_(IR(r.toUpperCase()))}function v_(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):UR(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return nh(14,JE(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function zR(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function GR(t,e,r,n){var i="",a=0,s=0,l=r.y,u,f=0;switch(t){case 98:l=r.y+543;case 121:switch(e.length){case 1:case 2:u=l%100,f=2;break;default:u=l%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:u=r.m,f=e.length;break;case 3:return x2[r.m-1][1];case 5:return x2[r.m-1][0];default:return x2[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:u=r.d,f=e.length;break;case 3:return D4[r.q][0];default:return D4[r.q][1]}break;case 104:switch(e.length){case 1:case 2:u=1+(r.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:u=r.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:u=r.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Yl(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=Yl(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:u=l,f=1;break}var p=f>0?Yl(u,f):"";return p}function Ju(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var QE=/%/g;function HR(t,e,r){var n=e.replace(QE,""),i=e.length-n.length;return uu(t,n,r*Math.pow(10,2*i))+Ki("%",i)}function qR(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return uu(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function e6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+e6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,p){return u+f+p.substr(0,(i+a)%i)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var t6=/# (\?+)( ?)\/( ?)(\d+)/;function VR(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,l=n;return r+(a===0?"":""+a)+" "+(s===0?Ki(" ",t[1].length+1+t[4].length):$_(s,t[1].length)+t[2]+"/"+t[3]+Yl(l,t[4].length))}function $R(t,e,r){return r+(e===0?"":""+e)+Ki(" ",t[1].length+2+t[4].length)}var r6=/^#*0*\.([0#]+)/,n6=/\).*[0#]/,i6=/\(###\) ###\\?-####/;function Xs(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function I4(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function F4(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function WR(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function ZR(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function vl(t,e,r){if(t.charCodeAt(0)===40&&!e.match(n6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vl("n",n,r):"("+vl("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return qR(t,e,r);if(e.indexOf("%")!==-1)return HR(t,e,r);if(e.indexOf("E")!==-1)return e6(e,r);if(e.charCodeAt(0)===36)return"$"+vl(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,l,u=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+Ff(u,e.length);if(e.match(/^[#?]+$/))return i=Ff(r,0),i==="0"&&(i=""),i.length>e.length?i:Xs(e.substr(0,e.length-i.length))+i;if(a=e.match(t6))return VR(a,u,f);if(e.match(/^#+0+$/))return f+Ff(u,e.length-e.indexOf("0"));if(a=e.match(r6))return i=I4(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Xs(a[1])).replace(/\.$/,"."+Xs(a[1])).replace(/\.(\d*)$/,function(T,S){return"."+S+Ki("0",Xs(a[1]).length-S.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+I4(u,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+Ju(Ff(u,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vl(t,e,-r):Ju(""+(Math.floor(r)+WR(r,a[1].length)))+"."+Yl(F4(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return vl(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=fd(vl(t,e.replace(/[\\-]/g,""),r)),s=0,fd(fd(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return s<i.length?i.charAt(s++):T==="0"?"0":""}));if(e.match(i6))return i=vl(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=L1(u,Math.pow(10,s)-1,!1),i=""+f,p=uu("n",a[1],l[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+a[2]+"/"+a[3],p=T1(l[2],s),p.length<a[4].length&&(p=Xs(a[4].substr(a[4].length-p.length))+p),i+=p,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=L1(u,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?$_(l[1],s)+a[2]+"/"+a[3]+T1(l[2],s):Ki(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=Ff(r,0),e.length<=i.length?i:Xs(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var v=e.indexOf(".")-s,y=e.length-i.length-v;return Xs(e.substr(0,v)+i+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=F4(r,a[1].length),r<0?"-"+vl(t,e,-r):Ju(ZR(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Yl(0,3-T.length):"")+T})+"."+Yl(s,a[1].length);switch(e){case"###,##0.00":return vl(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var _=Ju(Ff(u,0));return _!=="0"?f+_:"";case"###,###.00":return vl(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return vl(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function YR(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return uu(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function KR(t,e,r){var n=e.replace(QE,""),i=e.length-n.length;return uu(t,n,r*Math.pow(10,2*i))+Ki("%",i)}function a6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+a6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,p){return u+f+p.substr(0,(i+a)%i)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Nc(t,e,r){if(t.charCodeAt(0)===40&&!e.match(n6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Nc("n",n,r):"("+Nc("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return YR(t,e,r);if(e.indexOf("%")!==-1)return KR(t,e,r);if(e.indexOf("E")!==-1)return a6(e,r);if(e.charCodeAt(0)===36)return"$"+Nc(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,l,u=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+Yl(u,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Xs(e.substr(0,e.length-i.length))+i;if(a=e.match(t6))return $R(a,u,f);if(e.match(/^#+0+$/))return f+Yl(u,e.length-e.indexOf("0"));if(a=e.match(r6))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Xs(a[1])).replace(/\.$/,"."+Xs(a[1])),i=i.replace(/\.(\d*)$/,function(T,S){return"."+S+Ki("0",Xs(a[1]).length-S.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+Ju(""+u);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Nc(t,e,-r):Ju(""+r)+"."+Ki("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Nc(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=fd(Nc(t,e.replace(/[\\-]/g,""),r)),s=0,fd(fd(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return s<i.length?i.charAt(s++):T==="0"?"0":""}));if(e.match(i6))return i=Nc(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=L1(u,Math.pow(10,s)-1,!1),i=""+f,p=uu("n",a[1],l[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+a[2]+"/"+a[3],p=T1(l[2],s),p.length<a[4].length&&(p=Xs(a[4].substr(a[4].length-p.length))+p),i+=p,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=L1(u,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?$_(l[1],s)+a[2]+"/"+a[3]+T1(l[2],s):Ki(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Xs(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var v=e.indexOf(".")-s,y=e.length-i.length-v;return Xs(e.substr(0,v)+i+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Nc(t,e,-r):Ju(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Yl(0,3-T.length):"")+T})+"."+Yl(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var _=Ju(""+u);return _!=="0"?f+_:"";default:if(e.match(/\.[0#?]*$/))return Nc(t,e.slice(0,e.lastIndexOf(".")),r)+Xs(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function uu(t,e,r){return(r|0)===r?Nc(t,e,r):vl(t,e,r)}function XR(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var s6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function o6(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":A1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(s6))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function JR(t,e,r,n){for(var i=[],a="",s=0,l="",u="t",f,p,v,y="H";s<t.length;)switch(l=t.charAt(s)){case"G":if(!A1(t,s))throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(v=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(v);i[i.length]={t:"t",v:a},++s;break;case"\\":var _=t.charAt(++s),T=_==="("||_===")"?_:"t";i[i.length]={t:T,v:_},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(f==null&&(f=zm(e,r,t.charAt(s+1)==="2"),f==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},u=l,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=zm(e,r),f==null))return"";for(a=l;++s<t.length&&t.charAt(s).toLowerCase()===l;)a+=l;l==="m"&&u.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=y),i[i.length]={t:l,v:a},u=l;break;case"A":case"a":case"":var S={t:l,v:l};if(f==null&&(f=zm(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(f!=null&&(S.v=f.H>=12?"P":"A"),S.t="T",y="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(f!=null&&(S.v=f.H>=12?"PM":"AM"),S.t="T",s+=5,y="h"):t.substr(s,5).toUpperCase()==="/"?(f!=null&&(S.v=f.H>=12?"":""),S.t="T",s+=5,y="h"):(S.t="t",++s),f==null&&S.t==="T")return"";i[i.length]=S,u=l;break;case"[":for(a=l;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(s6)){if(f==null&&(f=zm(e,r),f==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},u=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",o6(t)||(i[i.length]={t:"t",v:a}));break;case".":if(f!=null){for(a=l;++s<t.length&&(l=t.charAt(s))==="0";)a+=l;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++s<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(s))>-1;)a+=l;i[i.length]={t:"n",v:a};break;case"?":for(a=l;t.charAt(++s)===l;)a+=l;i[i.length]={t:l,v:a},u=l;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":l,v:l},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:l,v:l},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"t",v:l},++s;break}var C=0,M=0,D;for(s=i.length-1,u="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=y,u="h",C<1&&(C=1);break;case"s":(D=i[s].v.match(/\.0+$/))&&(M=Math.max(M,D[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":u=i[s].t;break;case"m":u==="s"&&(i[s].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&i[s].v.match(/[Hh]/)&&(C=1),C<2&&i[s].v.match(/[Mm]/)&&(C=2),C<3&&i[s].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var j="",V;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=GR(i[s].t.charCodeAt(0),i[s].v,f,M),i[s].t="t";break;case"n":case"?":for(V=s+1;i[V]!=null&&((l=i[V].t)==="?"||l==="D"||(l===" "||l==="t")&&i[V+1]!=null&&(i[V+1].t==="?"||i[V+1].t==="t"&&i[V+1].v==="/")||i[s].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[V].v==="/"||i[V].v===" "&&i[V+1]!=null&&i[V+1].t=="?"));)i[s].v+=i[V].v,i[V]={v:"",t:";"},++V;j+=i[s].v,s=V-1;break;case"G":i[s].t="t",i[s].v=v_(e,r);break}var X="",ce,I;if(j.length>0){j.charCodeAt(0)==40?(ce=e<0&&j.charCodeAt(0)===45?-e:e,I=uu("n",j,ce)):(ce=e<0&&n>1?-e:e,I=uu("n",j,ce),ce<0&&i[0]&&i[0].t=="t"&&(I=I.substr(1),i[0].v="-"+i[0].v)),V=I.length-1;var q=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){q=s;break}var F=i.length;if(q===i.length&&I.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(V>=i[s].v.length-1?(V-=i[s].v.length,i[s].v=I.substr(V+1,i[s].v.length)):V<0?i[s].v="":(i[s].v=I.substr(0,V+1),V=-1),i[s].t="t",F=s);V>=0&&F<i.length&&(i[F].v=I.substr(0,V+1)+i[F].v)}else if(q!==i.length&&I.indexOf("E")===-1){for(V=I.indexOf(".")-1,s=q;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(p=i[s].v.indexOf(".")>-1&&s===q?i[s].v.indexOf(".")-1:i[s].v.length-1,X=i[s].v.substr(p+1);p>=0;--p)V>=0&&(i[s].v.charAt(p)==="0"||i[s].v.charAt(p)==="#")&&(X=I.charAt(V--)+X);i[s].v=X,i[s].t="t",F=s}for(V>=0&&F<i.length&&(i[F].v=I.substr(0,V+1)+i[F].v),V=I.indexOf(".")+1,s=q;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==q)){for(p=i[s].v.indexOf(".")>-1&&s===q?i[s].v.indexOf(".")+1:0,X=i[s].v.substr(0,p);p<i[s].v.length;++p)V<I.length&&(X+=I.charAt(V++));i[s].v=X,i[s].t="t",F=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(ce=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=uu(i[s].t,i[s].v,ce),i[s].t="t");var J="";for(s=0;s!==i.length;++s)i[s]!=null&&(J+=i[s].v);return J}var B4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function U4(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function QR(t,e){var r=XR(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(B4),l=r[1].match(B4);return U4(e,s)?[n,r[0]]:U4(e,l)?[n,r[1]]:[n,r[s!=null&&l!=null?2:1]]}return[n,a]}function nh(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ji)[t],n==null&&(n=r.table&&r.table[j4[t]]||Ji[j4[t]]),n==null&&(n=RR[t]||"General");break}if(A1(n,0))return v_(e,r);e instanceof Date&&(e=JE(e,r.date1904));var i=QR(n,e);if(A1(i[1]))return v_(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return JR(i[1],e,r,i[0])}function l6(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Ji[r]==null){e<0&&(e=r);continue}if(Ji[r]==t){e=r;break}}e<0&&(e=391)}return Ji[e]=t,e}function og(t){for(var e=0;e!=392;++e)t[e]!==void 0&&l6(t[e],e)}function lg(){Ji=OR()}var c6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function e9(t){var e=typeof t=="number"?Ji[t]:t;return e=e.replace(c6,"(\\d+)"),new RegExp("^"+e+"$")}function t9(t,e,r){var n=-1,i=-1,a=-1,s=-1,l=-1,u=-1;(e.match(c6)||[]).forEach(function(v,y){var _=parseInt(r[y+1],10);switch(v.toLowerCase().charAt(0)){case"y":n=_;break;case"d":a=_;break;case"h":s=_;break;case"s":u=_;break;case"m":s>=0?l=_:i=_;break}}),u>=0&&l==-1&&i>=0&&(l=i,i=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var p=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return s==-1&&l==-1&&u==-1?f:n==-1&&i==-1&&a==-1?p:f+"T"+p}var r9=(function(){var t={};t.version="1.2.0";function e(){for(var I=0,q=new Array(256),F=0;F!=256;++F)I=F,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,q[F]=I;return typeof Int32Array<"u"?new Int32Array(q):q}var r=e();function n(I){var q=0,F=0,J=0,B=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(J=0;J!=256;++J)B[J]=I[J];for(J=0;J!=256;++J)for(F=I[J],q=256+J;q<4096;q+=256)F=B[q]=F>>>8^I[F&255];var Z=[];for(J=1;J!=16;++J)Z[J-1]=typeof Int32Array<"u"?B.subarray(J*256,J*256+256):B.slice(J*256,J*256+256);return Z}var i=n(r),a=i[0],s=i[1],l=i[2],u=i[3],f=i[4],p=i[5],v=i[6],y=i[7],_=i[8],T=i[9],S=i[10],C=i[11],M=i[12],D=i[13],j=i[14];function V(I,q){for(var F=q^-1,J=0,B=I.length;J<B;)F=F>>>8^r[(F^I.charCodeAt(J++))&255];return~F}function X(I,q){for(var F=q^-1,J=I.length-15,B=0;B<J;)F=j[I[B++]^F&255]^D[I[B++]^F>>8&255]^M[I[B++]^F>>16&255]^C[I[B++]^F>>>24]^S[I[B++]]^T[I[B++]]^_[I[B++]]^y[I[B++]]^v[I[B++]]^p[I[B++]]^f[I[B++]]^u[I[B++]]^l[I[B++]]^s[I[B++]]^a[I[B++]]^r[I[B++]];for(J+=15;B<J;)F=F>>>8^r[(F^I[B++])&255];return~F}function ce(I,q){for(var F=q^-1,J=0,B=I.length,Z=0,ue=0;J<B;)Z=I.charCodeAt(J++),Z<128?F=F>>>8^r[(F^Z)&255]:Z<2048?(F=F>>>8^r[(F^(192|Z>>6&31))&255],F=F>>>8^r[(F^(128|Z&63))&255]):Z>=55296&&Z<57344?(Z=(Z&1023)+64,ue=I.charCodeAt(J++)&1023,F=F>>>8^r[(F^(240|Z>>8&7))&255],F=F>>>8^r[(F^(128|Z>>2&63))&255],F=F>>>8^r[(F^(128|ue>>6&15|(Z&3)<<4))&255],F=F>>>8^r[(F^(128|ue&63))&255]):(F=F>>>8^r[(F^(224|Z>>12&15))&255],F=F>>>8^r[(F^(128|Z>>6&63))&255],F=F>>>8^r[(F^(128|Z&63))&255]);return~F}return t.table=r,t.bstr=V,t.buf=X,t.str=ce,t})(),Yn=(function(){var e={};e.version="1.2.1";function r(K,pe){for(var re=K.split("/"),ne=pe.split("/"),he=0,ge=0,Pe=Math.min(re.length,ne.length);he<Pe;++he){if(ge=re[he].length-ne[he].length)return ge;if(re[he]!=ne[he])return re[he]<ne[he]?-1:1}return re.length-ne.length}function n(K){if(K.charAt(K.length-1)=="/")return K.slice(0,-1).indexOf("/")===-1?K:n(K.slice(0,-1));var pe=K.lastIndexOf("/");return pe===-1?K:K.slice(0,pe+1)}function i(K){if(K.charAt(K.length-1)=="/")return i(K.slice(0,-1));var pe=K.lastIndexOf("/");return pe===-1?K:K.slice(pe+1)}function a(K,pe){typeof pe=="string"&&(pe=new Date(pe));var re=pe.getHours();re=re<<6|pe.getMinutes(),re=re<<5|pe.getSeconds()>>>1,K.write_shift(2,re);var ne=pe.getFullYear()-1980;ne=ne<<4|pe.getMonth()+1,ne=ne<<5|pe.getDate(),K.write_shift(2,ne)}function s(K){var pe=K.read_shift(2)&65535,re=K.read_shift(2)&65535,ne=new Date,he=re&31;re>>>=5;var ge=re&15;re>>>=4,ne.setMilliseconds(0),ne.setFullYear(re+1980),ne.setMonth(ge-1),ne.setDate(he);var Pe=pe&31;pe>>>=5;var ze=pe&63;return pe>>>=6,ne.setHours(pe),ne.setMinutes(ze),ne.setSeconds(Pe<<1),ne}function l(K){Xo(K,0);for(var pe={},re=0;K.l<=K.length-4;){var ne=K.read_shift(2),he=K.read_shift(2),ge=K.l+he,Pe={};ne===21589&&(re=K.read_shift(1),re&1&&(Pe.mtime=K.read_shift(4)),he>5&&(re&2&&(Pe.atime=K.read_shift(4)),re&4&&(Pe.ctime=K.read_shift(4))),Pe.mtime&&(Pe.mt=new Date(Pe.mtime*1e3))),K.l=ge,pe[ne]=Pe}return pe}var u;function f(){return u||(u={})}function p(K,pe){if(K[0]==80&&K[1]==75)return ur(K,pe);if((K[0]|32)==109&&(K[1]|32)==105)return Qt(K,pe);if(K.length<512)throw new Error("CFB file size "+K.length+" < 512");var re=3,ne=512,he=0,ge=0,Pe=0,ze=0,Be=0,Ue=[],$e=K.slice(0,512);Xo($e,0);var ht=v($e);switch(re=ht[0],re){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(ht[1]==0)return ur(K,pe);default:throw new Error("Major Version: Expected 3 or 4 saw "+re)}ne!==512&&($e=K.slice(0,ne),Xo($e,28));var bt=K.slice(0,ne);y($e,re);var wt=$e.read_shift(4,"i");if(re===3&&wt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+wt);$e.l+=4,Pe=$e.read_shift(4,"i"),$e.l+=4,$e.chk("00100000","Mini Stream Cutoff Size: "),ze=$e.read_shift(4,"i"),he=$e.read_shift(4,"i"),Be=$e.read_shift(4,"i"),ge=$e.read_shift(4,"i");for(var gt=-1,Mt=0;Mt<109&&(gt=$e.read_shift(4,"i"),!(gt<0));++Mt)Ue[Mt]=gt;var Bt=_(K,ne);C(Be,ge,Bt,ne,Ue);var Hr=D(Bt,Pe,Ue,ne);Hr[Pe].name="!Directory",he>0&&ze!==ue&&(Hr[ze].name="!MiniFAT"),Hr[Ue[0]].name="!FAT",Hr.fat_addrs=Ue,Hr.ssz=ne;var wr={},nn=[],Kn=[],Xn=[];j(Pe,Hr,Bt,nn,he,wr,Kn,ze),T(Kn,Xn,nn),nn.shift();var ea={FileIndex:Kn,FullPaths:Xn};return pe&&pe.raw&&(ea.raw={header:bt,sectors:Bt}),ea}function v(K){if(K[K.l]==80&&K[K.l+1]==75)return[0,0];K.chk(de,"Header Signature: "),K.l+=16;var pe=K.read_shift(2,"u");return[K.read_shift(2,"u"),pe]}function y(K,pe){var re=9;switch(K.l+=2,re=K.read_shift(2)){case 9:if(pe!=3)throw new Error("Sector Shift: Expected 9 saw "+re);break;case 12:if(pe!=4)throw new Error("Sector Shift: Expected 12 saw "+re);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+re)}K.chk("0600","Mini Sector Shift: "),K.chk("000000000000","Reserved: ")}function _(K,pe){for(var re=Math.ceil(K.length/pe)-1,ne=[],he=1;he<re;++he)ne[he-1]=K.slice(he*pe,(he+1)*pe);return ne[re-1]=K.slice(re*pe),ne}function T(K,pe,re){for(var ne=0,he=0,ge=0,Pe=0,ze=0,Be=re.length,Ue=[],$e=[];ne<Be;++ne)Ue[ne]=$e[ne]=ne,pe[ne]=re[ne];for(;ze<$e.length;++ze)ne=$e[ze],he=K[ne].L,ge=K[ne].R,Pe=K[ne].C,Ue[ne]===ne&&(he!==-1&&Ue[he]!==he&&(Ue[ne]=Ue[he]),ge!==-1&&Ue[ge]!==ge&&(Ue[ne]=Ue[ge])),Pe!==-1&&(Ue[Pe]=ne),he!==-1&&ne!=Ue[ne]&&(Ue[he]=Ue[ne],$e.lastIndexOf(he)<ze&&$e.push(he)),ge!==-1&&ne!=Ue[ne]&&(Ue[ge]=Ue[ne],$e.lastIndexOf(ge)<ze&&$e.push(ge));for(ne=1;ne<Be;++ne)Ue[ne]===ne&&(ge!==-1&&Ue[ge]!==ge?Ue[ne]=Ue[ge]:he!==-1&&Ue[he]!==he&&(Ue[ne]=Ue[he]));for(ne=1;ne<Be;++ne)if(K[ne].type!==0){if(ze=ne,ze!=Ue[ze])do ze=Ue[ze],pe[ne]=pe[ze]+"/"+pe[ne];while(ze!==0&&Ue[ze]!==-1&&ze!=Ue[ze]);Ue[ne]=-1}for(pe[0]+="/",ne=1;ne<Be;++ne)K[ne].type!==2&&(pe[ne]+="/")}function S(K,pe,re){for(var ne=K.start,he=K.size,ge=[],Pe=ne;re&&he>0&&Pe>=0;)ge.push(pe.slice(Pe*Z,Pe*Z+Z)),he-=Z,Pe=kh(re,Pe*4);return ge.length===0?ct(0):_s(ge).slice(0,K.size)}function C(K,pe,re,ne,he){var ge=ue;if(K===ue){if(pe!==0)throw new Error("DIFAT chain shorter than expected")}else if(K!==-1){var Pe=re[K],ze=(ne>>>2)-1;if(!Pe)return;for(var Be=0;Be<ze&&(ge=kh(Pe,Be*4))!==ue;++Be)he.push(ge);C(kh(Pe,ne-4),pe-1,re,ne,he)}}function M(K,pe,re,ne,he){var ge=[],Pe=[];he||(he=[]);var ze=ne-1,Be=0,Ue=0;for(Be=pe;Be>=0;){he[Be]=!0,ge[ge.length]=Be,Pe.push(K[Be]);var $e=re[Math.floor(Be*4/ne)];if(Ue=Be*4&ze,ne<4+Ue)throw new Error("FAT boundary crossed: "+Be+" 4 "+ne);if(!K[$e])break;Be=kh(K[$e],Ue)}return{nodes:ge,data:Z4([Pe])}}function D(K,pe,re,ne){var he=K.length,ge=[],Pe=[],ze=[],Be=[],Ue=ne-1,$e=0,ht=0,bt=0,wt=0;for($e=0;$e<he;++$e)if(ze=[],bt=$e+pe,bt>=he&&(bt-=he),!Pe[bt]){Be=[];var gt=[];for(ht=bt;ht>=0;){gt[ht]=!0,Pe[ht]=!0,ze[ze.length]=ht,Be.push(K[ht]);var Mt=re[Math.floor(ht*4/ne)];if(wt=ht*4&Ue,ne<4+wt)throw new Error("FAT boundary crossed: "+ht+" 4 "+ne);if(!K[Mt]||(ht=kh(K[Mt],wt),gt[ht]))break}ge[bt]={nodes:ze,data:Z4([Be])}}return ge}function j(K,pe,re,ne,he,ge,Pe,ze){for(var Be=0,Ue=ne.length?2:0,$e=pe[K].data,ht=0,bt=0,wt;ht<$e.length;ht+=128){var gt=$e.slice(ht,ht+128);Xo(gt,64),bt=gt.read_shift(2),wt=J_(gt,0,bt-Ue),ne.push(wt);var Mt={name:wt,type:gt.read_shift(1),color:gt.read_shift(1),L:gt.read_shift(4,"i"),R:gt.read_shift(4,"i"),C:gt.read_shift(4,"i"),clsid:gt.read_shift(16),state:gt.read_shift(4,"i"),start:0,size:0},Bt=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Bt!==0&&(Mt.ct=V(gt,gt.l-8));var Hr=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Hr!==0&&(Mt.mt=V(gt,gt.l-8)),Mt.start=gt.read_shift(4,"i"),Mt.size=gt.read_shift(4,"i"),Mt.size<0&&Mt.start<0&&(Mt.size=Mt.type=0,Mt.start=ue,Mt.name=""),Mt.type===5?(Be=Mt.start,he>0&&Be!==ue&&(pe[Be].name="!StreamData")):Mt.size>=4096?(Mt.storage="fat",pe[Mt.start]===void 0&&(pe[Mt.start]=M(re,Mt.start,pe.fat_addrs,pe.ssz)),pe[Mt.start].name=Mt.name,Mt.content=pe[Mt.start].data.slice(0,Mt.size)):(Mt.storage="minifat",Mt.size<0?Mt.size=0:Be!==ue&&Mt.start!==ue&&pe[Be]&&(Mt.content=S(Mt,pe[Be].data,(pe[ze]||{}).data))),Mt.content&&Xo(Mt.content,0),ge[wt]=Mt,Pe.push(Mt)}}function V(K,pe){return new Date((Qo(K,pe+4)/1e7*Math.pow(2,32)+Qo(K,pe)/1e7-11644473600)*1e3)}function X(K,pe){return f(),p(u.readFileSync(K),pe)}function ce(K,pe){var re=pe&&pe.type;switch(re||Nn&&Buffer.isBuffer(K)&&(re="buffer"),re||"base64"){case"file":return X(K,pe);case"base64":return p(Zl(du(K)),pe);case"binary":return p(Zl(K),pe)}return p(K,pe)}function I(K,pe){var re=pe||{},ne=re.root||"Root Entry";if(K.FullPaths||(K.FullPaths=[]),K.FileIndex||(K.FileIndex=[]),K.FullPaths.length!==K.FileIndex.length)throw new Error("inconsistent CFB structure");K.FullPaths.length===0&&(K.FullPaths[0]=ne+"/",K.FileIndex[0]={name:ne,type:5}),re.CLSID&&(K.FileIndex[0].clsid=re.CLSID),q(K)}function q(K){var pe="Sh33tJ5";if(!Yn.find(K,"/"+pe)){var re=ct(4);re[0]=55,re[1]=re[3]=50,re[2]=54,K.FileIndex.push({name:pe,type:2,content:re,size:4,L:69,R:69,C:69}),K.FullPaths.push(K.FullPaths[0]+pe),F(K)}}function F(K,pe){I(K);for(var re=!1,ne=!1,he=K.FullPaths.length-1;he>=0;--he){var ge=K.FileIndex[he];switch(ge.type){case 0:ne?re=!0:(K.FileIndex.pop(),K.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(ge.R*ge.L*ge.C)&&(re=!0),ge.R>-1&&ge.L>-1&&ge.R==ge.L&&(re=!0);break;default:re=!0;break}}if(!(!re&&!pe)){var Pe=new Date(1987,1,19),ze=0,Be=Object.create?Object.create(null):{},Ue=[];for(he=0;he<K.FullPaths.length;++he)Be[K.FullPaths[he]]=!0,K.FileIndex[he].type!==0&&Ue.push([K.FullPaths[he],K.FileIndex[he]]);for(he=0;he<Ue.length;++he){var $e=n(Ue[he][0]);ne=Be[$e],ne||(Ue.push([$e,{name:i($e).replace("/",""),type:1,clsid:oe,ct:Pe,mt:Pe,content:null}]),Be[$e]=!0)}for(Ue.sort(function(wt,gt){return r(wt[0],gt[0])}),K.FullPaths=[],K.FileIndex=[],he=0;he<Ue.length;++he)K.FullPaths[he]=Ue[he][0],K.FileIndex[he]=Ue[he][1];for(he=0;he<Ue.length;++he){var ht=K.FileIndex[he],bt=K.FullPaths[he];if(ht.name=i(bt).replace("/",""),ht.L=ht.R=ht.C=-(ht.color=1),ht.size=ht.content?ht.content.length:0,ht.start=0,ht.clsid=ht.clsid||oe,he===0)ht.C=Ue.length>1?1:-1,ht.size=0,ht.type=5;else if(bt.slice(-1)=="/"){for(ze=he+1;ze<Ue.length&&n(K.FullPaths[ze])!=bt;++ze);for(ht.C=ze>=Ue.length?-1:ze,ze=he+1;ze<Ue.length&&n(K.FullPaths[ze])!=n(bt);++ze);ht.R=ze>=Ue.length?-1:ze,ht.type=1}else n(K.FullPaths[he+1]||"")==n(bt)&&(ht.R=he+1),ht.type=2}}}function J(K,pe){var re=pe||{};if(re.fileType=="mad")return Ja(K,re);if(F(K),re.fileType==="zip")return xr(K,re);var ne=(function(wt){for(var gt=0,Mt=0,Bt=0;Bt<wt.FileIndex.length;++Bt){var Hr=wt.FileIndex[Bt];if(Hr.content){var wr=Hr.content.length;wr>0&&(wr<4096?gt+=wr+63>>6:Mt+=wr+511>>9)}}for(var nn=wt.FullPaths.length+3>>2,Kn=gt+7>>3,Xn=gt+127>>7,ea=Kn+Mt+nn+Xn,Mi=ea+127>>7,Ar=Mi<=109?0:Math.ceil((Mi-109)/127);ea+Mi+Ar+127>>7>Mi;)Ar=++Mi<=109?0:Math.ceil((Mi-109)/127);var Ut=[1,Ar,Mi,Xn,nn,Mt,gt,0];return wt.FileIndex[0].size=gt<<6,Ut[7]=(wt.FileIndex[0].start=Ut[0]+Ut[1]+Ut[2]+Ut[3]+Ut[4]+Ut[5])+(Ut[6]+7>>3),Ut})(K),he=ct(ne[7]<<9),ge=0,Pe=0;{for(ge=0;ge<8;++ge)he.write_shift(1,xe[ge]);for(ge=0;ge<8;++ge)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),ge=0;ge<3;++ge)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,ne[2]),he.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:ue),he.write_shift(4,ne[3]),he.write_shift(-4,ne[1]?ne[0]-1:ue),he.write_shift(4,ne[1]),ge=0;ge<109;++ge)he.write_shift(-4,ge<ne[2]?ne[1]+ge:-1)}if(ne[1])for(Pe=0;Pe<ne[1];++Pe){for(;ge<236+Pe*127;++ge)he.write_shift(-4,ge<ne[2]?ne[1]+ge:-1);he.write_shift(-4,Pe===ne[1]-1?ue:Pe+1)}var ze=function(wt){for(Pe+=wt;ge<Pe-1;++ge)he.write_shift(-4,ge+1);wt&&(++ge,he.write_shift(-4,ue))};for(Pe=ge=0,Pe+=ne[1];ge<Pe;++ge)he.write_shift(-4,be.DIFSECT);for(Pe+=ne[2];ge<Pe;++ge)he.write_shift(-4,be.FATSECT);ze(ne[3]),ze(ne[4]);for(var Be=0,Ue=0,$e=K.FileIndex[0];Be<K.FileIndex.length;++Be)$e=K.FileIndex[Be],$e.content&&(Ue=$e.content.length,!(Ue<4096)&&($e.start=Pe,ze(Ue+511>>9)));for(ze(ne[6]+7>>3);he.l&511;)he.write_shift(-4,be.ENDOFCHAIN);for(Pe=ge=0,Be=0;Be<K.FileIndex.length;++Be)$e=K.FileIndex[Be],$e.content&&(Ue=$e.content.length,!(!Ue||Ue>=4096)&&($e.start=Pe,ze(Ue+63>>6)));for(;he.l&511;)he.write_shift(-4,be.ENDOFCHAIN);for(ge=0;ge<ne[4]<<2;++ge){var ht=K.FullPaths[ge];if(!ht||ht.length===0){for(Be=0;Be<17;++Be)he.write_shift(4,0);for(Be=0;Be<3;++Be)he.write_shift(4,-1);for(Be=0;Be<12;++Be)he.write_shift(4,0);continue}$e=K.FileIndex[ge],ge===0&&($e.start=$e.size?$e.start-1:ue);var bt=ge===0&&re.root||$e.name;if(Ue=2*(bt.length+1),he.write_shift(64,bt,"utf16le"),he.write_shift(2,Ue),he.write_shift(1,$e.type),he.write_shift(1,$e.color),he.write_shift(-4,$e.L),he.write_shift(-4,$e.R),he.write_shift(-4,$e.C),$e.clsid)he.write_shift(16,$e.clsid,"hex");else for(Be=0;Be<4;++Be)he.write_shift(4,0);he.write_shift(4,$e.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,$e.start),he.write_shift(4,$e.size),he.write_shift(4,0)}for(ge=1;ge<K.FileIndex.length;++ge)if($e=K.FileIndex[ge],$e.size>=4096)if(he.l=$e.start+1<<9,Nn&&Buffer.isBuffer($e.content))$e.content.copy(he,he.l,0,$e.size),he.l+=$e.size+511&-512;else{for(Be=0;Be<$e.size;++Be)he.write_shift(1,$e.content[Be]);for(;Be&511;++Be)he.write_shift(1,0)}for(ge=1;ge<K.FileIndex.length;++ge)if($e=K.FileIndex[ge],$e.size>0&&$e.size<4096)if(Nn&&Buffer.isBuffer($e.content))$e.content.copy(he,he.l,0,$e.size),he.l+=$e.size+63&-64;else{for(Be=0;Be<$e.size;++Be)he.write_shift(1,$e.content[Be]);for(;Be&63;++Be)he.write_shift(1,0)}if(Nn)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function B(K,pe){var re=K.FullPaths.map(function(Be){return Be.toUpperCase()}),ne=re.map(function(Be){var Ue=Be.split("/");return Ue[Ue.length-(Be.slice(-1)=="/"?2:1)]}),he=!1;pe.charCodeAt(0)===47?(he=!0,pe=re[0].slice(0,-1)+pe):he=pe.indexOf("/")!==-1;var ge=pe.toUpperCase(),Pe=he===!0?re.indexOf(ge):ne.indexOf(ge);if(Pe!==-1)return K.FileIndex[Pe];var ze=!ge.match(Um);for(ge=ge.replace(M0,""),ze&&(ge=ge.replace(Um,"!")),Pe=0;Pe<re.length;++Pe)if((ze?re[Pe].replace(Um,"!"):re[Pe]).replace(M0,"")==ge||(ze?ne[Pe].replace(Um,"!"):ne[Pe]).replace(M0,"")==ge)return K.FileIndex[Pe];return null}var Z=64,ue=-2,de="d0cf11e0a1b11ae1",xe=[208,207,17,224,161,177,26,225],oe="00000000000000000000000000000000",be={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ue,FREESECT:-1,HEADER_SIGNATURE:de,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:oe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _e(K,pe,re){f();var ne=J(K,re);u.writeFileSync(pe,ne)}function Le(K){for(var pe=new Array(K.length),re=0;re<K.length;++re)pe[re]=String.fromCharCode(K[re]);return pe.join("")}function Ne(K,pe){var re=J(K,pe);switch(pe&&pe.type||"buffer"){case"file":return f(),u.writeFileSync(pe.filename,re),re;case"binary":return typeof re=="string"?re:Le(re);case"base64":return tp(typeof re=="string"?re:Le(re));case"buffer":if(Nn)return Buffer.isBuffer(re)?re:vu(re);case"array":return typeof re=="string"?Zl(re):re}return re}var ee;function O(K){try{var pe=K.InflateRaw,re=new pe;if(re._processChunk(new Uint8Array([3,0]),re._finishFlushFlag),re.bytesRead)ee=K;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function G(K,pe){if(!ee)return ln(K,pe);var re=ee.InflateRaw,ne=new re,he=ne._processChunk(K.slice(K.l),ne._finishFlushFlag);return K.l+=ne.bytesRead,he}function H(K){return ee?ee.deflateRawSync(K):_r(K)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Oe(K){var pe=(K<<1|K<<11)&139536|(K<<5|K<<15)&558144;return(pe>>16|pe>>8|pe)&255}for(var Re=typeof Uint8Array<"u",Ie=Re?new Uint8Array(256):[],ot=0;ot<256;++ot)Ie[ot]=Oe(ot);function it(K,pe){var re=Ie[K&255];return pe<=8?re>>>8-pe:(re=re<<8|Ie[K>>8&255],pe<=16?re>>>16-pe:(re=re<<8|Ie[K>>16&255],re>>>24-pe))}function Tt(K,pe){var re=pe&7,ne=pe>>>3;return(K[ne]|(re<=6?0:K[ne+1]<<8))>>>re&3}function Nt(K,pe){var re=pe&7,ne=pe>>>3;return(K[ne]|(re<=5?0:K[ne+1]<<8))>>>re&7}function we(K,pe){var re=pe&7,ne=pe>>>3;return(K[ne]|(re<=4?0:K[ne+1]<<8))>>>re&15}function yt(K,pe){var re=pe&7,ne=pe>>>3;return(K[ne]|(re<=3?0:K[ne+1]<<8))>>>re&31}function xt(K,pe){var re=pe&7,ne=pe>>>3;return(K[ne]|(re<=1?0:K[ne+1]<<8))>>>re&127}function zt(K,pe,re){var ne=pe&7,he=pe>>>3,ge=(1<<re)-1,Pe=K[he]>>>ne;return re<8-ne||(Pe|=K[he+1]<<8-ne,re<16-ne)||(Pe|=K[he+2]<<16-ne,re<24-ne)||(Pe|=K[he+3]<<24-ne),Pe&ge}function dt(K,pe,re){var ne=pe&7,he=pe>>>3;return ne<=5?K[he]|=(re&7)<<ne:(K[he]|=re<<ne&255,K[he+1]=(re&7)>>8-ne),pe+3}function Vt(K,pe,re){var ne=pe&7,he=pe>>>3;return re=(re&1)<<ne,K[he]|=re,pe+1}function jt(K,pe,re){var ne=pe&7,he=pe>>>3;return re<<=ne,K[he]|=re&255,re>>>=8,K[he+1]=re,pe+8}function sr(K,pe,re){var ne=pe&7,he=pe>>>3;return re<<=ne,K[he]|=re&255,re>>>=8,K[he+1]=re&255,K[he+2]=re>>>8,pe+16}function Xt(K,pe){var re=K.length,ne=2*re>pe?2*re:pe+5,he=0;if(re>=pe)return K;if(Nn){var ge=O4(ne);if(K.copy)K.copy(ge);else for(;he<K.length;++he)ge[he]=K[he];return ge}else if(Re){var Pe=new Uint8Array(ne);if(Pe.set)Pe.set(K);else for(;he<re;++he)Pe[he]=K[he];return Pe}return K.length=ne,K}function Jt(K){for(var pe=new Array(K),re=0;re<K;++re)pe[re]=0;return pe}function Er(K,pe,re){var ne=1,he=0,ge=0,Pe=0,ze=0,Be=K.length,Ue=Re?new Uint16Array(32):Jt(32);for(ge=0;ge<32;++ge)Ue[ge]=0;for(ge=Be;ge<re;++ge)K[ge]=0;Be=K.length;var $e=Re?new Uint16Array(Be):Jt(Be);for(ge=0;ge<Be;++ge)Ue[he=K[ge]]++,ne<he&&(ne=he),$e[ge]=0;for(Ue[0]=0,ge=1;ge<=ne;++ge)Ue[ge+16]=ze=ze+Ue[ge-1]<<1;for(ge=0;ge<Be;++ge)ze=K[ge],ze!=0&&($e[ge]=Ue[ze+16]++);var ht=0;for(ge=0;ge<Be;++ge)if(ht=K[ge],ht!=0)for(ze=it($e[ge],ne)>>ne-ht,Pe=(1<<ne+4-ht)-1;Pe>=0;--Pe)pe[ze|Pe<<ht]=ht&15|ge<<4;return ne}var dr=Re?new Uint16Array(512):Jt(512),Nr=Re?new Uint16Array(32):Jt(32);if(!Re){for(var or=0;or<512;++or)dr[or]=0;for(or=0;or<32;++or)Nr[or]=0}(function(){for(var K=[],pe=0;pe<32;pe++)K.push(5);Er(K,Nr,32);var re=[];for(pe=0;pe<=143;pe++)re.push(8);for(;pe<=255;pe++)re.push(9);for(;pe<=279;pe++)re.push(7);for(;pe<=287;pe++)re.push(8);Er(re,dr,288)})();var Ft=(function(){for(var pe=Re?new Uint8Array(32768):[],re=0,ne=0;re<Ae.length-1;++re)for(;ne<Ae[re+1];++ne)pe[ne]=re;for(;ne<32768;++ne)pe[ne]=29;var he=Re?new Uint8Array(259):[];for(re=0,ne=0;re<se.length-1;++re)for(;ne<se[re+1];++ne)he[ne]=re;function ge(ze,Be){for(var Ue=0;Ue<ze.length;){var $e=Math.min(65535,ze.length-Ue),ht=Ue+$e==ze.length;for(Be.write_shift(1,+ht),Be.write_shift(2,$e),Be.write_shift(2,~$e&65535);$e-- >0;)Be[Be.l++]=ze[Ue++]}return Be.l}function Pe(ze,Be){for(var Ue=0,$e=0,ht=Re?new Uint16Array(32768):[];$e<ze.length;){var bt=Math.min(65535,ze.length-$e);if(bt<10){for(Ue=dt(Be,Ue,+($e+bt==ze.length)),Ue&7&&(Ue+=8-(Ue&7)),Be.l=Ue/8|0,Be.write_shift(2,bt),Be.write_shift(2,~bt&65535);bt-- >0;)Be[Be.l++]=ze[$e++];Ue=Be.l*8;continue}Ue=dt(Be,Ue,+($e+bt==ze.length)+2);for(var wt=0;bt-- >0;){var gt=ze[$e];wt=(wt<<5^gt)&32767;var Mt=-1,Bt=0;if((Mt=ht[wt])&&(Mt|=$e&-32768,Mt>$e&&(Mt-=32768),Mt<$e))for(;ze[Mt+Bt]==ze[$e+Bt]&&Bt<250;)++Bt;if(Bt>2){gt=he[Bt],gt<=22?Ue=jt(Be,Ue,Ie[gt+1]>>1)-1:(jt(Be,Ue,3),Ue+=5,jt(Be,Ue,Ie[gt-23]>>5),Ue+=3);var Hr=gt<8?0:gt-4>>2;Hr>0&&(sr(Be,Ue,Bt-se[gt]),Ue+=Hr),gt=pe[$e-Mt],Ue=jt(Be,Ue,Ie[gt]>>3),Ue-=3;var wr=gt<4?0:gt-2>>1;wr>0&&(sr(Be,Ue,$e-Mt-Ae[gt]),Ue+=wr);for(var nn=0;nn<Bt;++nn)ht[wt]=$e&32767,wt=(wt<<5^ze[$e])&32767,++$e;bt-=Bt-1}else gt<=143?gt=gt+48:Ue=Vt(Be,Ue,1),Ue=jt(Be,Ue,Ie[gt]),ht[wt]=$e&32767,++$e}Ue=jt(Be,Ue,0)-1}return Be.l=(Ue+7)/8|0,Be.l}return function(Be,Ue){return Be.length<8?ge(Be,Ue):Pe(Be,Ue)}})();function _r(K){var pe=ct(50+Math.floor(K.length*1.1)),re=Ft(K,pe);return pe.slice(0,re)}var Wt=Re?new Uint16Array(32768):Jt(32768),yn=Re?new Uint16Array(32768):Jt(32768),Mr=Re?new Uint16Array(128):Jt(128),Gt=1,pr=1;function Dr(K,pe){var re=yt(K,pe)+257;pe+=5;var ne=yt(K,pe)+1;pe+=5;var he=we(K,pe)+4;pe+=4;for(var ge=0,Pe=Re?new Uint8Array(19):Jt(19),ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Be=1,Ue=Re?new Uint8Array(8):Jt(8),$e=Re?new Uint8Array(8):Jt(8),ht=Pe.length,bt=0;bt<he;++bt)Pe[Y[bt]]=ge=Nt(K,pe),Be<ge&&(Be=ge),Ue[ge]++,pe+=3;var wt=0;for(Ue[0]=0,bt=1;bt<=Be;++bt)$e[bt]=wt=wt+Ue[bt-1]<<1;for(bt=0;bt<ht;++bt)(wt=Pe[bt])!=0&&(ze[bt]=$e[wt]++);var gt=0;for(bt=0;bt<ht;++bt)if(gt=Pe[bt],gt!=0){wt=Ie[ze[bt]]>>8-gt;for(var Mt=(1<<7-gt)-1;Mt>=0;--Mt)Mr[wt|Mt<<gt]=gt&7|bt<<3}var Bt=[];for(Be=1;Bt.length<re+ne;)switch(wt=Mr[xt(K,pe)],pe+=wt&7,wt>>>=3){case 16:for(ge=3+Tt(K,pe),pe+=2,wt=Bt[Bt.length-1];ge-- >0;)Bt.push(wt);break;case 17:for(ge=3+Nt(K,pe),pe+=3;ge-- >0;)Bt.push(0);break;case 18:for(ge=11+xt(K,pe),pe+=7;ge-- >0;)Bt.push(0);break;default:Bt.push(wt),Be<wt&&(Be=wt);break}var Hr=Bt.slice(0,re),wr=Bt.slice(re);for(bt=re;bt<286;++bt)Hr[bt]=0;for(bt=ne;bt<30;++bt)wr[bt]=0;return Gt=Er(Hr,Wt,286),pr=Er(wr,yn,30),pe}function Yt(K,pe){if(K[0]==3&&!(K[1]&3))return[Uh(pe),2];for(var re=0,ne=0,he=O4(pe||1<<18),ge=0,Pe=he.length>>>0,ze=0,Be=0;(ne&1)==0;){if(ne=Nt(K,re),re+=3,ne>>>1)ne>>1==1?(ze=9,Be=5):(re=Dr(K,re),ze=Gt,Be=pr);else{re&7&&(re+=8-(re&7));var Ue=K[re>>>3]|K[(re>>>3)+1]<<8;if(re+=32,Ue>0)for(!pe&&Pe<ge+Ue&&(he=Xt(he,ge+Ue),Pe=he.length);Ue-- >0;)he[ge++]=K[re>>>3],re+=8;continue}for(;;){!pe&&Pe<ge+32767&&(he=Xt(he,ge+32767),Pe=he.length);var $e=zt(K,re,ze),ht=ne>>>1==1?dr[$e]:Wt[$e];if(re+=ht&15,ht>>>=4,(ht>>>8&255)===0)he[ge++]=ht;else{if(ht==256)break;ht-=257;var bt=ht<8?0:ht-4>>2;bt>5&&(bt=0);var wt=ge+se[ht];bt>0&&(wt+=zt(K,re,bt),re+=bt),$e=zt(K,re,Be),ht=ne>>>1==1?Nr[$e]:yn[$e],re+=ht&15,ht>>>=4;var gt=ht<4?0:ht-2>>1,Mt=Ae[ht];for(gt>0&&(Mt+=zt(K,re,gt),re+=gt),!pe&&Pe<wt&&(he=Xt(he,wt+100),Pe=he.length);ge<wt;)he[ge]=he[ge-Mt],++ge}}}return pe?[he,re+7>>>3]:[he.slice(0,ge),re+7>>>3]}function ln(K,pe){var re=K.slice(K.l||0),ne=Yt(re,pe);return K.l+=ne[1],ne[0]}function cr(K,pe){if(K)typeof console<"u"&&console.error(pe);else throw new Error(pe)}function ur(K,pe){var re=K;Xo(re,0);var ne=[],he=[],ge={FileIndex:ne,FullPaths:he};I(ge,{root:pe.root});for(var Pe=re.length-4;(re[Pe]!=80||re[Pe+1]!=75||re[Pe+2]!=5||re[Pe+3]!=6)&&Pe>=0;)--Pe;re.l=Pe+4,re.l+=4;var ze=re.read_shift(2);re.l+=6;var Be=re.read_shift(4);for(re.l=Be,Pe=0;Pe<ze;++Pe){re.l+=20;var Ue=re.read_shift(4),$e=re.read_shift(4),ht=re.read_shift(2),bt=re.read_shift(2),wt=re.read_shift(2);re.l+=8;var gt=re.read_shift(4),Mt=l(re.slice(re.l+ht,re.l+ht+bt));re.l+=ht+bt+wt;var Bt=re.l;re.l=gt+4,en(re,Ue,$e,ge,Mt),re.l=Bt}return ge}function en(K,pe,re,ne,he){K.l+=2;var ge=K.read_shift(2),Pe=K.read_shift(2),ze=s(K);if(ge&8257)throw new Error("Unsupported ZIP encryption");for(var Be=K.read_shift(4),Ue=K.read_shift(4),$e=K.read_shift(4),ht=K.read_shift(2),bt=K.read_shift(2),wt="",gt=0;gt<ht;++gt)wt+=String.fromCharCode(K[K.l++]);if(bt){var Mt=l(K.slice(K.l,K.l+bt));(Mt[21589]||{}).mt&&(ze=Mt[21589].mt),((he||{})[21589]||{}).mt&&(ze=he[21589].mt)}K.l+=bt;var Bt=K.slice(K.l,K.l+Ue);switch(Pe){case 8:Bt=G(K,$e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Pe)}var Hr=!1;ge&8&&(Be=K.read_shift(4),Be==134695760&&(Be=K.read_shift(4),Hr=!0),Ue=K.read_shift(4),$e=K.read_shift(4)),Ue!=pe&&cr(Hr,"Bad compressed size: "+pe+" != "+Ue),$e!=re&&cr(Hr,"Bad uncompressed size: "+re+" != "+$e),Ce(ne,wt,Bt,{unsafe:!0,mt:ze})}function xr(K,pe){var re=pe||{},ne=[],he=[],ge=ct(1),Pe=re.compression?8:0,ze=0,Be=0,Ue=0,$e=0,ht=0,bt=K.FullPaths[0],wt=bt,gt=K.FileIndex[0],Mt=[],Bt=0;for(Be=1;Be<K.FullPaths.length;++Be)if(wt=K.FullPaths[Be].slice(bt.length),gt=K.FileIndex[Be],!(!gt.size||!gt.content||wt=="Sh33tJ5")){var Hr=$e,wr=ct(wt.length);for(Ue=0;Ue<wt.length;++Ue)wr.write_shift(1,wt.charCodeAt(Ue)&127);wr=wr.slice(0,wr.l),Mt[ht]=r9.buf(gt.content,0);var nn=gt.content;Pe==8&&(nn=H(nn)),ge=ct(30),ge.write_shift(4,67324752),ge.write_shift(2,20),ge.write_shift(2,ze),ge.write_shift(2,Pe),gt.mt?a(ge,gt.mt):ge.write_shift(4,0),ge.write_shift(-4,Mt[ht]),ge.write_shift(4,nn.length),ge.write_shift(4,gt.content.length),ge.write_shift(2,wr.length),ge.write_shift(2,0),$e+=ge.length,ne.push(ge),$e+=wr.length,ne.push(wr),$e+=nn.length,ne.push(nn),ge=ct(46),ge.write_shift(4,33639248),ge.write_shift(2,0),ge.write_shift(2,20),ge.write_shift(2,ze),ge.write_shift(2,Pe),ge.write_shift(4,0),ge.write_shift(-4,Mt[ht]),ge.write_shift(4,nn.length),ge.write_shift(4,gt.content.length),ge.write_shift(2,wr.length),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(4,0),ge.write_shift(4,Hr),Bt+=ge.l,he.push(ge),Bt+=wr.length,he.push(wr),++ht}return ge=ct(22),ge.write_shift(4,101010256),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,ht),ge.write_shift(2,ht),ge.write_shift(4,Bt),ge.write_shift(4,$e),ge.write_shift(2,0),_s([_s(ne),_s(he),ge])}var Zt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Gr(K,pe){if(K.ctype)return K.ctype;var re=K.name||"",ne=re.match(/\.([^\.]+)$/);return ne&&Zt[ne[1]]||pe&&(ne=(re=pe).match(/[\.\\]([^\.\\])+$/),ne&&Zt[ne[1]])?Zt[ne[1]]:"application/octet-stream"}function Ea(K){for(var pe=tp(K),re=[],ne=0;ne<pe.length;ne+=76)re.push(pe.slice(ne,ne+76));return re.join(`\r
`)+`\r
`}function ci(K){var pe=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var $e=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+($e.length==1?"0"+$e:$e)});pe=pe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),pe.charAt(0)==`
`&&(pe="=0D"+pe.slice(1)),pe=pe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var re=[],ne=pe.split(`\r
`),he=0;he<ne.length;++he){var ge=ne[he];if(ge.length==0){re.push("");continue}for(var Pe=0;Pe<ge.length;){var ze=76,Be=ge.slice(Pe,Pe+ze);Be.charAt(ze-1)=="="?ze--:Be.charAt(ze-2)=="="?ze-=2:Be.charAt(ze-3)=="="&&(ze-=3),Be=ge.slice(Pe,Pe+ze),Pe+=ze,Pe<ge.length&&(Be+="="),re.push(Be)}}return re.join(`\r
`)}function Qi(K){for(var pe=[],re=0;re<K.length;++re){for(var ne=K[re];re<=K.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+K[++re];pe.push(ne)}for(var he=0;he<pe.length;++he)pe[he]=pe[he].replace(/[=][0-9A-Fa-f]{2}/g,function(ge){return String.fromCharCode(parseInt(ge.slice(1),16))});return Zl(pe.join(`\r
`))}function Ci(K,pe,re){for(var ne="",he="",ge="",Pe,ze=0;ze<10;++ze){var Be=pe[ze];if(!Be||Be.match(/^\s*$/))break;var Ue=Be.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":ne=Ue[2].trim();break;case"content-type":ge=Ue[2].trim();break;case"content-transfer-encoding":he=Ue[2].trim();break}}switch(++ze,he.toLowerCase()){case"base64":Pe=Zl(du(pe.slice(ze).join("")));break;case"quoted-printable":Pe=Qi(pe.slice(ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var $e=Ce(K,ne.slice(re.length),Pe,{unsafe:!0});ge&&($e.ctype=ge)}function Qt(K,pe){if(Le(K.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var re=pe&&pe.root||"",ne=(Nn&&Buffer.isBuffer(K)?K.toString("binary"):Le(K)).split(`\r
`),he=0,ge="";for(he=0;he<ne.length;++he)if(ge=ne[he],!!/^Content-Location:/i.test(ge)&&(ge=ge.slice(ge.indexOf("file")),re||(re=ge.slice(0,ge.lastIndexOf("/")+1)),ge.slice(0,re.length)!=re))for(;re.length>0&&(re=re.slice(0,re.length-1),re=re.slice(0,re.lastIndexOf("/")+1),ge.slice(0,re.length)!=re););var Pe=(ne[1]||"").match(/boundary="(.*?)"/);if(!Pe)throw new Error("MAD cannot find boundary");var ze="--"+(Pe[1]||""),Be=[],Ue=[],$e={FileIndex:Be,FullPaths:Ue};I($e);var ht,bt=0;for(he=0;he<ne.length;++he){var wt=ne[he];wt!==ze&&wt!==ze+"--"||(bt++&&Ci($e,ne.slice(ht,he),re),ht=he)}return $e}function Ja(K,pe){var re=pe||{},ne=re.boundary||"SheetJS";ne="------="+ne;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],ge=K.FullPaths[0],Pe=ge,ze=K.FileIndex[0],Be=1;Be<K.FullPaths.length;++Be)if(Pe=K.FullPaths[Be].slice(ge.length),ze=K.FileIndex[Be],!(!ze.size||!ze.content||Pe=="Sh33tJ5")){Pe=Pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Bt){return"_x"+Bt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Bt){return"_u"+Bt.charCodeAt(0).toString(16)+"_"});for(var Ue=ze.content,$e=Nn&&Buffer.isBuffer(Ue)?Ue.toString("binary"):Le(Ue),ht=0,bt=Math.min(1024,$e.length),wt=0,gt=0;gt<=bt;++gt)(wt=$e.charCodeAt(gt))>=32&&wt<128&&++ht;var Mt=ht>=bt*4/5;he.push(ne),he.push("Content-Location: "+(re.root||"file:///C:/SheetJS/")+Pe),he.push("Content-Transfer-Encoding: "+(Mt?"quoted-printable":"base64")),he.push("Content-Type: "+Gr(ze,Pe)),he.push(""),he.push(Mt?ci($e):Ea($e))}return he.push(ne+`--\r
`),he.join(`\r
`)}function Ua(K){var pe={};return I(pe,K),pe}function Ce(K,pe,re,ne){var he=ne&&ne.unsafe;he||I(K);var ge=!he&&Yn.find(K,pe);if(!ge){var Pe=K.FullPaths[0];pe.slice(0,Pe.length)==Pe?Pe=pe:(Pe.slice(-1)!="/"&&(Pe+="/"),Pe=(Pe+pe).replace("//","/")),ge={name:i(pe),type:2},K.FileIndex.push(ge),K.FullPaths.push(Pe),he||Yn.utils.cfb_gc(K)}return ge.content=re,ge.size=re?re.length:0,ne&&(ne.CLSID&&(ge.clsid=ne.CLSID),ne.mt&&(ge.mt=ne.mt),ne.ct&&(ge.ct=ne.ct)),ge}function Ge(K,pe){I(K);var re=Yn.find(K,pe);if(re){for(var ne=0;ne<K.FileIndex.length;++ne)if(K.FileIndex[ne]==re)return K.FileIndex.splice(ne,1),K.FullPaths.splice(ne,1),!0}return!1}function qe(K,pe,re){I(K);var ne=Yn.find(K,pe);if(ne){for(var he=0;he<K.FileIndex.length;++he)if(K.FileIndex[he]==ne)return K.FileIndex[he].name=i(re),K.FullPaths[he]=re,!0}return!1}function Ye(K){F(K,!0)}return e.find=B,e.read=ce,e.parse=p,e.write=Ne,e.writeFile=_e,e.utils={cfb_new:Ua,cfb_add:Ce,cfb_del:Ge,cfb_mov:qe,cfb_gc:Ye,ReadShift:P0,CheckField:L6,prep_blob:Xo,bconcat:_s,use_zlib:O,_deflateRaw:_r,_inflateRaw:ln,consts:be},e})();function n9(t){return typeof t=="string"?sg(t):Array.isArray(t)?CR(t):t}function xp(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=sg(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?np(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([n9(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(t);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=yp(e)),l.write(e),l.close(),e}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+t)}function ws(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function z4(t,e){for(var r=[],n=ws(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function Z_(t){for(var e=[],r=ws(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function cg(t){for(var e=[],r=ws(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function i9(t){for(var e=[],r=ws(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var N1=new Date(1899,11,30,0,0,0);function Ao(t,e){var r=t.getTime(),n=N1.getTime()+(t.getTimezoneOffset()-N1.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var u6=new Date,a9=N1.getTime()+(u6.getTimezoneOffset()-N1.getTimezoneOffset())*6e4,G4=u6.getTimezoneOffset();function h6(t){var e=new Date;return e.setTime(t*24*60*60*1e3+a9),e.getTimezoneOffset()!==G4&&e.setTime(e.getTime()+(e.getTimezoneOffset()-G4)*6e4),e}var H4=new Date("2017-02-19T19:06:09.000Z"),f6=isNaN(H4.getFullYear())?new Date("2/19/17"):H4,s9=f6.getFullYear()==2017;function eo(t,e){var r=new Date(t);if(s9)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(f6.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function ug(t,e){if(Nn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Lo(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Lo(t[r]));return e}function Ki(t,e){for(var r="";r.length<e;)r+=t;return r}function hu(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var o9=["january","february","march","april","may","june","july","august","september","october","november","december"];function rp(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&o9.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Wr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Nn?n=vu(r):n=MR(r),Yn.utils.cfb_add(t,e,n)}Yn.utils.cfb_add(t,e,r)}else t.file(e,r)}function Y_(){return Yn.utils.cfb_new()}var Sa=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,l9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},K_=Z_(l9),X_=/[&<>'"]/g,c9=/[\u0000-\u0008\u000b-\u001f]/g;function Gn(t){var e=t+"";return e.replace(X_,function(r){return K_[r]}).replace(c9,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function q4(t){return Gn(t).replace(/ /g,"_x0020_")}var d6=/[\u0000-\u001f]/g;function u9(t){var e=t+"";return e.replace(X_,function(r){return K_[r]}).replace(/\n/g,"<br/>").replace(d6,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function h9(t){var e=t+"";return e.replace(X_,function(r){return K_[r]}).replace(d6,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function f9(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function d9(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function w2(t){for(var e="",r=0,n=0,i=0,a=0,s=0,l=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(r++),l=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function V4(t){var e=Uh(2*t.length),r,n,i=1,a=0,s=0,l;for(n=0;n<t.length;n+=i)i=1,(l=t.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(t.charCodeAt(n+1)&63),i=2):l<240?(r=(l&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(l&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function $4(t){return vu(t,"binary").toString("utf8")}var Gm="foo bar baz",k0=Nn&&($4(Gm)==w2(Gm)&&$4||V4(Gm)==w2(Gm)&&V4)||w2,np=Nn?function(t){return vu(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},p9=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),p6=/(^\s|\s$|\n)/;function ys(t,e){return"<"+t+(e.match(p6)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function ip(t){return ws(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Pt(t,e,r){return"<"+t+(r!=null?ip(r):"")+(e!=null?(e.match(p6)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function __(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function m9(t,e){switch(typeof t){case"string":var r=Pt("vt:lpwstr",Gn(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Pt((t|0)==t?"vt:i4":"vt:r8",Gn(String(t)));case"boolean":return Pt("vt:bool",t?"true":"false")}if(t instanceof Date)return Pt("vt:filetime",__(t));throw new Error("Unable to serialize "+t)}var Ya={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Sd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Jo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function g9(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function v9(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var l=0;l<=5;++l,a/=256)t[r+l]=a&255;t[r+6]=(i&15)<<4|a&15,t[r+7]=i>>4|n}var W4=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,a=t[0][n].length;i<a;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},Z4=Nn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:vu(e)})):W4(t)}:W4,Y4=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(v0(t,i)));return n.join("").replace(M0,"")},J_=Nn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(M0,""):Y4(t,e,r)}:Y4,K4=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},m6=Nn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):K4(t,e,r)}:K4,X4=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Yf(t,i)));return n.join("")},wp=Nn?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):X4(e,r,n)}:X4,g6=function(t,e){var r=Qo(t,e);return r>0?wp(t,e+4,e+4+r-1):""},v6=g6,_6=function(t,e){var r=Qo(t,e);return r>0?wp(t,e+4,e+4+r-1):""},y6=_6,x6=function(t,e){var r=2*Qo(t,e);return r>0?wp(t,e+4,e+4+r-1):""},w6=x6,b6=function(e,r){var n=Qo(e,r);return n>0?J_(e,r+4,r+4+n):""},S6=b6,E6=function(t,e){var r=Qo(t,e);return r>0?wp(t,e+4,e+4+r):""},T6=E6,A6=function(t,e){return g9(t,e)},C1=A6,Q_=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Nn&&(v6=function(e,r){if(!Buffer.isBuffer(e))return g6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},y6=function(e,r){if(!Buffer.isBuffer(e))return _6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},w6=function(e,r){if(!Buffer.isBuffer(e))return x6(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},S6=function(e,r){if(!Buffer.isBuffer(e))return b6(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},T6=function(e,r){if(!Buffer.isBuffer(e))return E6(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},C1=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):A6(e,r)},Q_=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Yf=function(t,e){return t[e]},v0=function(t,e){return t[e+1]*256+t[e]},_9=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Qo=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},kh=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},y9=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function P0(t,e){var r="",n,i,a=[],s,l,u,f;switch(e){case"dbcs":if(f=this.l,Nn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(u=0;u<t;++u)r+=String.fromCharCode(v0(this,f)),f+=2;t*=2;break;case"utf8":r=wp(this,this.l,this.l+t);break;case"utf16le":t*=2,r=J_(this,this.l,this.l+t);break;case"wstr":return P0.call(this,t,"dbcs");case"lpstr-ansi":r=v6(this,this.l),t=4+Qo(this,this.l);break;case"lpstr-cp":r=y6(this,this.l),t=4+Qo(this,this.l);break;case"lpwstr":r=w6(this,this.l),t=4+2*Qo(this,this.l);break;case"lpp4":t=4+Qo(this,this.l),r=S6(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Qo(this,this.l),r=T6(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=Yf(this,this.l+t++))!==0;)a.push(Bm(s));r=a.join("");break;case"_wstr":for(t=0,r="";(s=v0(this,this.l+t))!==0;)a.push(Bm(s)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<t;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return s=Yf(this,f),this.l=f+1,l=P0.call(this,t-u,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Bm(v0(this,f))),f+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=t;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return s=Yf(this,f),this.l=f+1,l=P0.call(this,t-u,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Bm(Yf(this,f))),f+=1}r=a.join("");break;default:switch(t){case 1:return n=Yf(this,this.l),this.l++,n;case 2:return n=(e==="i"?_9:v0)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?kh:y9)(this,this.l),this.l+=4,n):(i=Qo(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=C1(this,this.l):i=C1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=m6(this,this.l,t);break}}return this.l+=t,r}var x9=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},w9=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},b9=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function S9(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)b9(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,x9(this,e,this.l);break;case 8:if(n=8,r==="f"){v9(this,e,this.l);break}case 16:break;case-4:n=4,w9(this,e,this.l);break}return this.l+=n,this}function L6(t,e){var r=m6(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Xo(t,e){t.l=e,t.read_shift=P0,t.chk=L6,t.write_shift=S9}function Rc(t,e){t.l+=e}function ct(t){var e=Uh(t);return Xo(e,0),e}function To(){var t=[],e=Nn?256:2048,r=function(f){var p=ct(f);return Xo(p,0),p},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(f){return n&&f<n.length-n.l?n:(i(),n=r(Math.max(f+1,e)))},s=function(){return i(),_s(t)},l=function(f){i(),n=f,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:l,end:s,_bufs:t}}function Et(t,e,r,n){var i=+e,a;if(!isNaN(i)){n||(n=gU[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=t.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var l=0;l!=4;++l)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&Q_(r)&&t.push(r)}}function O0(t,e,r){var n=Lo(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function J4(t,e,r){var n=Lo(t);return n.s=O0(n.s,e.s,r),n.e=O0(n.e,e.s,r),n}function R0(t,e){if(t.cRel&&t.c<0)for(t=Lo(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Lo(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Hn(t);return!t.cRel&&t.cRel!=null&&(r=A9(r)),!t.rRel&&t.rRel!=null&&(r=E9(r)),r}function b2(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Us(t.s.c)+":"+(t.e.cRel?"":"$")+Us(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+xs(t.s.r)+":"+(t.e.rRel?"":"$")+xs(t.e.r):R0(t.s,e.biff)+":"+R0(t.e,e.biff)}function ey(t){return parseInt(T9(t),10)-1}function xs(t){return""+(t+1)}function E9(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function T9(t){return t.replace(/\$(\d+)$/,"$1")}function ty(t){for(var e=L9(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Us(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function A9(t){return t.replace(/^([A-Z])/,"$$$1")}function L9(t){return t.replace(/^\$([A-Z])/,"$1")}function N9(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ka(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Hn(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function rl(t){var e=t.indexOf(":");return e==-1?{s:Ka(t),e:Ka(t)}:{s:Ka(t.slice(0,e)),e:Ka(t.slice(e+1))}}function ba(t,e){return typeof e>"u"||typeof e=="number"?ba(t.s,t.e):(typeof t!="string"&&(t=Hn(t)),typeof e!="string"&&(e=Hn(e)),t==e?t:t+":"+e)}function yi(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=t.length;for(r=0;n<a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function Q4(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=nh(t.z,r?Ao(e):e)}catch{}try{return t.w=nh((t.XF||{}).numFmtId||(r?14:0),r?Ao(e):e)}catch{return""+e}}function pu(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?bp[t.v]||t.v:e==null?Q4(t,t.v):Q4(t,e))}function Yh(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function N6(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,a=t||(i?[]:{}),s=0,l=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var u=typeof n.origin=="string"?Ka(n.origin):n.origin;s=u.r,l=u.c}a["!ref"]||(a["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var p=yi(a["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),s==-1&&(f.e.r=s=p.e.r+1)}for(var v=0;v!=e.length;++v)if(e[v]){if(!Array.isArray(e[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[v].length;++y)if(!(typeof e[v][y]>"u")){var _={v:e[v][y]},T=s+v,S=l+y;if(f.s.r>T&&(f.s.r=T),f.s.c>S&&(f.s.c=S),f.e.r<T&&(f.e.r=T),f.e.c<S&&(f.e.c=S),e[v][y]&&typeof e[v][y]=="object"&&!Array.isArray(e[v][y])&&!(e[v][y]instanceof Date))_=e[v][y];else if(Array.isArray(_.v)&&(_.f=e[v][y][1],_.v=_.v[0]),_.v===null)if(_.f)_.t="n";else if(n.nullError)_.t="e",_.v=0;else if(n.sheetStubs)_.t="z";else continue;else typeof _.v=="number"?_.t="n":typeof _.v=="boolean"?_.t="b":_.v instanceof Date?(_.z=n.dateNF||Ji[14],n.cellDates?(_.t="d",_.w=nh(_.z,Ao(_.v))):(_.t="n",_.v=Ao(_.v),_.w=nh(_.z,_.v))):_.t="s";if(i)a[T]||(a[T]=[]),a[T][S]&&a[T][S].z&&(_.z=a[T][S].z),a[T][S]=_;else{var C=Hn({c:S,r:T});a[C]&&a[C].z&&(_.z=a[C].z),a[C]=_}}}return f.s.c<1e7&&(a["!ref"]=ba(f)),a}function Ed(t,e){return N6(null,t,e)}function C9(t){return t.read_shift(4,"i")}function Kl(t,e){return e||(e=ct(4)),e.write_shift(4,t),e}function zs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Xa(t,e){var r=!1;return e==null&&(r=!0,e=ct(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function M9(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function k9(t,e){return e||(e=ct(4)),e.write_shift(2,0),e.write_shift(2,0),e}function ry(t,e){var r=t.l,n=t.read_shift(1),i=zs(t),a=[],s={t:i,h:i};if((n&1)!==0){for(var l=t.read_shift(4),u=0;u!=l;++u)a.push(M9(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function P9(t,e){var r=!1;return e==null&&(r=!0,e=ct(15+4*t.t.length)),e.write_shift(1,0),Xa(t.t,e),r?e.slice(0,e.l):e}var O9=ry;function R9(t,e){var r=!1;return e==null&&(r=!0,e=ct(23+4*t.t.length)),e.write_shift(1,1),Xa(t.t,e),e.write_shift(4,1),k9({},e),r?e.slice(0,e.l):e}function Tl(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Kh(t,e){return e==null&&(e=ct(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Xh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Jh(t,e){return e==null&&(e=ct(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var D9=zs,C6=Xa;function ny(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function M1(t,e){var r=!1;return e==null&&(r=!0,e=ct(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var j9=zs,y_=ny,iy=M1;function M6(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?C1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):kh(e,0)>>2;return r?i/100:i}function k6(t,e){e==null&&(e=ct(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function P6(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function I9(t,e){return e||(e=ct(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Qh=P6,Td=I9;function Ad(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function zh(t,e){return(e||ct(8)).write_shift(8,t,"f")}function F9(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),l=t.read_shift(1),u=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var f=W9[i];f&&(e.rgb=u3(f));break;case 2:e.rgb=u3([s,l,u]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function k1(t,e){if(e||(e=ct(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function B9(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function U9(t,e){e||(e=ct(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var O6=2,Yo=3,Hm=11,P1=19,qm=64,z9=65,G9=71,H9=4108,q9=4126,vs=80,e3={1:{n:"CodePage",t:O6},2:{n:"Category",t:vs},3:{n:"PresentationFormat",t:vs},4:{n:"ByteCount",t:Yo},5:{n:"LineCount",t:Yo},6:{n:"ParagraphCount",t:Yo},7:{n:"SlideCount",t:Yo},8:{n:"NoteCount",t:Yo},9:{n:"HiddenCount",t:Yo},10:{n:"MultimediaClipCount",t:Yo},11:{n:"ScaleCrop",t:Hm},12:{n:"HeadingPairs",t:H9},13:{n:"TitlesOfParts",t:q9},14:{n:"Manager",t:vs},15:{n:"Company",t:vs},16:{n:"LinksUpToDate",t:Hm},17:{n:"CharacterCount",t:Yo},19:{n:"SharedDoc",t:Hm},22:{n:"HyperlinksChanged",t:Hm},23:{n:"AppVersion",t:Yo,p:"version"},24:{n:"DigSig",t:z9},26:{n:"ContentType",t:vs},27:{n:"ContentStatus",t:vs},28:{n:"Language",t:vs},29:{n:"Version",t:vs},255:{},2147483648:{n:"Locale",t:P1},2147483651:{n:"Behavior",t:P1},1919054434:{}},t3={1:{n:"CodePage",t:O6},2:{n:"Title",t:vs},3:{n:"Subject",t:vs},4:{n:"Author",t:vs},5:{n:"Keywords",t:vs},6:{n:"Comments",t:vs},7:{n:"Template",t:vs},8:{n:"LastAuthor",t:vs},9:{n:"RevNumber",t:vs},10:{n:"EditTime",t:qm},11:{n:"LastPrinted",t:qm},12:{n:"CreatedDate",t:qm},13:{n:"ModifiedDate",t:qm},14:{n:"PageCount",t:Yo},15:{n:"WordCount",t:Yo},16:{n:"CharCount",t:Yo},17:{n:"Thumbnail",t:G9},18:{n:"Application",t:vs},19:{n:"DocSecurity",t:Yo},255:{},2147483648:{n:"Locale",t:P1},2147483651:{n:"Behavior",t:P1},1919054434:{}};function V9(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var $9=V9([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),W9=Lo($9),bp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Z9={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Vm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function R6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function D6(t,e){var r=i9(Z9),n=[],i;n[n.length]=Sa,n[n.length]=Pt("Types",null,{xmlns:Ya.CT,"xmlns:xsd":Ya.xsd,"xmlns:xsi":Ya.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return Pt("Default",null,{Extension:u[0],ContentType:u[1]})}));var a=function(u){t[u]&&t[u].length>0&&(i=t[u][0],n[n.length]=Pt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Vm[u][e.bookType]||Vm[u].xlsx}))},s=function(u){(t[u]||[]).forEach(function(f){n[n.length]=Pt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:Vm[u][e.bookType]||Vm[u].xlsx})})},l=function(u){(t[u]||[]).forEach(function(f){n[n.length]=Pt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[u][0]})})};return a("workbooks"),s("sheets"),s("charts"),l("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),s("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var En={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function j6(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function dd(t){var e=[Sa,Pt("Relationships",null,{xmlns:Ya.RELS})];return ws(t["!id"]).forEach(function(r){e[e.length]=Pt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Un(t,e,r,n,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[En.HLINK,En.XPATH,En.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function Y9(t){var e=[Sa];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function r3(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function K9(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function X9(t){var e=[Sa];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(r3(t[r][0],t[r][1])),e.push(K9("",t[r][0]));return e.push(r3("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function I6(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+S1.version+"</meta:generator></office:meta></office:document-meta>"}var jh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function S2(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Gn(e),n[n.length]=r?Pt(t,e,r):ys(t,e))}function F6(t,e){var r=e||{},n=[Sa,Pt("cp:coreProperties",null,{"xmlns:cp":Ya.CORE_PROPS,"xmlns:dc":Ya.dc,"xmlns:dcterms":Ya.dcterms,"xmlns:dcmitype":Ya.dcmitype,"xmlns:xsi":Ya.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&S2("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:__(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&S2("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:__(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=jh.length;++a){var s=jh[a],l=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&S2(s[0],l,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var pd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],B6=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function U6(t){var e=[],r=Pt;return t||(t={}),t.Application="SheetJS",e[e.length]=Sa,e[e.length]=Pt("Properties",null,{xmlns:Ya.EXT_PROPS,"xmlns:vt":Ya.vt}),pd.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Gn(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Gn(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function z6(t){var e=[Sa,Pt("Properties",null,{xmlns:Ya.CUST_PROPS,"xmlns:vt":Ya.vt})];if(!t)return e.join("");var r=1;return ws(t).forEach(function(i){++r,e[e.length]=Pt("property",m9(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Gn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var n3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function J9(t,e){var r=[];return ws(n3).map(function(n){for(var i=0;i<jh.length;++i)if(jh[i][1]==n)return jh[i];for(i=0;i<pd.length;++i)if(pd[i][1]==n)return pd[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];n[2]==="date"&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(ys(n3[n[1]]||n[1],i))}}),Pt("DocumentProperties",r.join(""),{xmlns:Jo.o})}function Q9(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&ws(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<jh.length;++s)if(a==jh[s][1])return;for(s=0;s<pd.length;++s)if(a==pd[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var l=t[a],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l=String(l),i.push(Pt(q4(a),l,{"dt:dt":u}))}}),e&&ws(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=e[a],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s instanceof Date?(l="dateTime.tz",s=s.toISOString()):s=String(s),i.push(Pt(q4(a),s,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Jo.o+'">'+i.join("")+"</"+n+">"}function eD(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=ct(8);return s.write_shift(4,n),s.write_shift(4,i),s}function i3(t,e){var r=ct(4),n=ct(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=ct(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=eD(e);break;case 31:case 80:for(n=ct(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return _s([r,n])}var G6=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function tD(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function a3(t,e,r){var n=ct(8),i=[],a=[],s=8,l=0,u=ct(8),f=ct(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),a.push(u),i.push(f),s+=8+u.length,!e){f=ct(8),f.write_shift(4,0),i.unshift(f);var p=[ct(4)];for(p[0].write_shift(4,t.length),l=0;l<t.length;++l){var v=t[l][0];for(u=ct(8+2*(v.length+1)+(v.length%2?0:2)),u.write_shift(4,l+2),u.write_shift(4,v.length+1),u.write_shift(0,v,"dbcs");u.l!=u.length;)u.write_shift(1,0);p.push(u)}u=_s(p),a.unshift(u),s+=8+u.length}for(l=0;l<t.length;++l)if(!(e&&!e[t[l][0]])&&!(G6.indexOf(t[l][0])>-1||B6.indexOf(t[l][0])>-1)&&t[l][1]!=null){var y=t[l][1],_=0;if(e){_=+e[t[l][0]];var T=r[_];if(T.p=="version"&&typeof y=="string"){var S=y.split(".");y=(+S[0]<<16)+(+S[1]||0)}u=i3(T.t,y)}else{var C=tD(y);C==-1&&(C=31,y=String(y)),u=i3(C,y)}a.push(u),f=ct(8),f.write_shift(4,e?_:2+l),i.push(f),s+=8+u.length}var M=8*(a.length+1);for(l=0;l<a.length;++l)i[l].write_shift(4,M),M+=a[l].length;return n.write_shift(4,s),n.write_shift(4,a.length),_s([n].concat(i).concat(a))}function s3(t,e,r,n,i,a){var s=ct(i?68:48),l=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Yn.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var u=a3(t,r,n);if(l.push(u),i){var f=a3(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+u.length),l.push(f)}return _s(l)}function rD(t,e){e||(e=ct(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function nD(t,e){return t.read_shift(e)===1}function Js(t,e){return e||(e=ct(2)),e.write_shift(2,+!!t),e}function H6(t){return t.read_shift(2,"u")}function xl(t,e){return e||(e=ct(2)),e.write_shift(2,t),e}function q6(t,e,r){return r||(r=ct(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function V6(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?t.read_shift(n,i):"";return s}function iD(t){var e=t.t||"",r=ct(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=ct(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return _s(i)}function aD(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function sD(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):aD(t,n,r)}function oD(t,e,r){if(r.biff>5)return sD(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function $6(t,e,r){return r||(r=ct(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function o3(t,e){e||(e=ct(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function lD(t){var e=ct(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(a==28)n=n.slice(1),o3(n,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var l=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)e.write_shift(2,l.charCodeAt(r));e.write_shift(2,0),a&8&&o3(i>-1?n.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var u=0;n.slice(u*3,u*3+3)=="../"||n.slice(u*3,u*3+3)=="..\\";)++u;for(e.write_shift(2,u),e.write_shift(4,n.length-3*u+1),r=0;r<n.length-3*u;++r)e.write_shift(1,n.charCodeAt(r+3*u)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Gh(t,e,r,n){return n||(n=ct(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function cD(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),a=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[i,a,s]}function uD(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function W6(t,e){return e||(e=ct(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function ay(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=ct(i);return a.write_shift(2,n),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function hD(t,e){var r=!e||e.biff==8,n=ct(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function fD(t,e){var r=!e||e.biff>=8?2:1,n=ct(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function dD(t,e){var r=ct(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=iD(t[i]);var a=_s([r].concat(n));return a.parts=[r.length].concat(n.map(function(s){return s.length})),a}function pD(){var t=ct(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function mD(t){var e=ct(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function gD(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,a=ct(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function vD(t,e,r,n){var i=ct(10);return Gh(t,e,n,i),i.write_shift(4,r),i}function _D(t,e,r,n,i){var a=!i||i.biff==8,s=ct(8+ +a+(1+a)*r.length);return Gh(t,e,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function yD(t,e,r,n){var i=r&&r.biff==5;n||(n=ct(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function xD(t,e){var r=e.biff==8||!e.biff?4:2,n=ct(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function l3(t,e,r,n){var i=r&&r.biff==5;n||(n=ct(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function wD(t){var e=ct(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function bD(t,e,r,n,i,a){var s=ct(8);return Gh(t,e,n,s),q6(r,a,s),s}function SD(t,e,r,n){var i=ct(14);return Gh(t,e,n,i),zh(r,i),i}function ED(t,e,r){if(r.biff<8)return TD(t,e,r);for(var n=[],i=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(cD(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function TD(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=V6(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function AD(t){var e=ct(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)W6(t[r],e);return e}function LD(t){var e=ct(24),r=Ka(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return _s([e,lD(t[1])])}function ND(t){var e=t[1].Tooltip,r=ct(10+2*(e.length+1));r.write_shift(2,2048);var n=Ka(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function CD(t){return t||(t=ct(4)),t.write_shift(2,1),t.write_shift(2,1),t}function MD(t,e,r){if(!r.cellStyles)return Rc(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),a=t.read_shift(n),s=t.read_shift(n),l=t.read_shift(n),u=t.read_shift(2);n==2&&(t.l+=2);var f={s:i,e:a,w:s,ixfe:l,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function kD(t,e){var r=ct(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function PD(t){for(var e=ct(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function OD(t,e,r){var n=ct(15);return Ep(n,t,e),n.write_shift(8,r,"f"),n}function RD(t,e,r){var n=ct(9);return Ep(n,t,e),n.write_shift(2,r),n}var DD=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Z_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,u){var f=[],p=Uh(1);switch(u.type){case"base64":p=Zl(du(l));break;case"binary":p=Zl(l);break;case"buffer":case"array":p=l;break}Xo(p,0);var v=p.read_shift(1),y=!!(v&136),_=!1,T=!1;switch(v){case 2:break;case 3:break;case 48:_=!0,y=!0;break;case 49:_=!0,y=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var S=0,C=521;v==2&&(S=p.read_shift(2)),p.l+=3,v!=2&&(S=p.read_shift(4)),S>1048576&&(S=1e6),v!=2&&(C=p.read_shift(2));var M=p.read_shift(2),D=u.codepage||1252;v!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(D=t[p[p.l]]),p.l+=1,p.l+=2),T&&(p.l+=36);for(var j=[],V={},X=Math.min(p.length,v==2?521:C-10-(_?264:0)),ce=T?32:11;p.l<X&&p[p.l]!=13;)switch(V={},V.name=E1.utils.decode(D,p.slice(p.l,p.l+ce)).replace(/[\u0000\r\n].*$/g,""),p.l+=ce,V.type=String.fromCharCode(p.read_shift(1)),v!=2&&!T&&(V.offset=p.read_shift(4)),V.len=p.read_shift(1),v==2&&(V.offset=p.read_shift(2)),V.dec=p.read_shift(1),V.name.length&&j.push(V),v!=2&&(p.l+=T?13:14),V.type){case"B":(!_||V.len!=8)&&u.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+V.type)}if(p[p.l]!==13&&(p.l=C-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=C;var I=0,q=0;for(f[0]=[],q=0;q!=j.length;++q)f[0][q]=j[q].name;for(;S-- >0;){if(p[p.l]===42){p.l+=M;continue}for(++p.l,f[++I]=[],q=0,q=0;q!=j.length;++q){var F=p.slice(p.l,p.l+j[q].len);p.l+=j[q].len,Xo(F,0);var J=E1.utils.decode(D,F);switch(j[q].type){case"C":J.trim().length&&(f[I][q]=J.replace(/\s+$/,""));break;case"D":J.length===8?f[I][q]=new Date(+J.slice(0,4),+J.slice(4,6)-1,+J.slice(6,8)):f[I][q]=J;break;case"F":f[I][q]=parseFloat(J.trim());break;case"+":case"I":f[I][q]=T?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(J.trim().toUpperCase()){case"Y":case"T":f[I][q]=!0;break;case"N":case"F":f[I][q]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+J+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));f[I][q]="##MEMO##"+(T?parseInt(J.trim(),10):F.read_shift(4));break;case"N":J=J.replace(/\u0000/g,"").trim(),J&&J!="."&&(f[I][q]=+J||0);break;case"@":f[I][q]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":f[I][q]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":f[I][q]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[I][q]=-F.read_shift(-8,"f");break;case"B":if(_&&j[q].len==8){f[I][q]=F.read_shift(8,"f");break}case"G":case"P":F.l+=j[q].len;break;case"0":if(j[q].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[q].type)}}}if(v!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=j,f}function n(l,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var p=Ed(r(l,f),f);return p["!cols"]=f.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete f.DBF,p}function i(l,u){try{return Yh(n(l,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(l,u){var f=u||{};if(+f.codepage>=0&&ep(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var p=To(),v=I1(l,{header:1,raw:!0,cellDates:!0}),y=v[0],_=v.slice(1),T=l["!cols"]||[],S=0,C=0,M=0,D=1;for(S=0;S<y.length;++S){if(((T[S]||{}).DBF||{}).name){y[S]=T[S].DBF.name,++M;continue}if(y[S]!=null){if(++M,typeof y[S]=="number"&&(y[S]=y[S].toString(10)),typeof y[S]!="string")throw new Error("DBF Invalid column name "+y[S]+" |"+typeof y[S]+"|");if(y.indexOf(y[S])!==S){for(C=0;C<1024;++C)if(y.indexOf(y[S]+"_"+C)==-1){y[S]+="_"+C;break}}}}var j=yi(l["!ref"]),V=[],X=[],ce=[];for(S=0;S<=j.e.c-j.s.c;++S){var I="",q="",F=0,J=[];for(C=0;C<_.length;++C)_[C][S]!=null&&J.push(_[C][S]);if(J.length==0||y[S]==null){V[S]="?";continue}for(C=0;C<J.length;++C){switch(typeof J[C]){case"number":q="B";break;case"string":q="C";break;case"boolean":q="L";break;case"object":q=J[C]instanceof Date?"D":"C";break;default:q="C"}F=Math.max(F,String(J[C]).length),I=I&&I!=q?"C":q}F>250&&(F=250),q=((T[S]||{}).DBF||{}).type,q=="C"&&T[S].DBF.len>F&&(F=T[S].DBF.len),I=="B"&&q=="N"&&(I="N",ce[S]=T[S].DBF.dec,F=T[S].DBF.len),X[S]=I=="C"||q=="N"?F:a[I]||0,D+=X[S],V[S]=I}var B=p.next(32);for(B.write_shift(4,318902576),B.write_shift(4,_.length),B.write_shift(2,296+32*M),B.write_shift(2,D),S=0;S<4;++S)B.write_shift(4,0);for(B.write_shift(4,0|(+e[YE]||3)<<8),S=0,C=0;S<y.length;++S)if(y[S]!=null){var Z=p.next(32),ue=(y[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Z.write_shift(1,ue,"sbcs"),Z.write_shift(1,V[S]=="?"?"C":V[S],"sbcs"),Z.write_shift(4,C),Z.write_shift(1,X[S]||a[V[S]]||0),Z.write_shift(1,ce[S]||0),Z.write_shift(1,2),Z.write_shift(4,0),Z.write_shift(1,0),Z.write_shift(4,0),Z.write_shift(4,0),C+=X[S]||a[V[S]]||0}var de=p.next(264);for(de.write_shift(4,13),S=0;S<65;++S)de.write_shift(4,0);for(S=0;S<_.length;++S){var xe=p.next(D);for(xe.write_shift(1,0),C=0;C<y.length;++C)if(y[C]!=null)switch(V[C]){case"L":xe.write_shift(1,_[S][C]==null?63:_[S][C]?84:70);break;case"B":xe.write_shift(8,_[S][C]||0,"f");break;case"N":var oe="0";for(typeof _[S][C]=="number"&&(oe=_[S][C].toFixed(ce[C]||0)),M=0;M<X[C]-oe.length;++M)xe.write_shift(1,32);xe.write_shift(1,oe,"sbcs");break;case"D":_[S][C]?(xe.write_shift(4,("0000"+_[S][C].getFullYear()).slice(-4),"sbcs"),xe.write_shift(2,("00"+(_[S][C].getMonth()+1)).slice(-2),"sbcs"),xe.write_shift(2,("00"+_[S][C].getDate()).slice(-2),"sbcs")):xe.write_shift(8,"00000000","sbcs");break;case"C":var be=String(_[S][C]!=null?_[S][C]:"").slice(0,X[C]);for(xe.write_shift(1,be,"sbcs"),M=0;M<X[C]-be.length;++M)xe.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}})(),jD=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ws(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,_){var T=t[_];return typeof T=="number"?P4(T):T},n=function(y,_,T){var S=_.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return S==59?y:P4(S)};t["|"]=254;function i(y,_){switch(_.type){case"base64":return a(du(y),_);case"binary":return a(y,_);case"buffer":return a(Nn&&Buffer.isBuffer(y)?y.toString("binary"):yp(y),_);case"array":return a(ug(y),_)}throw new Error("Unrecognized type "+_.type)}function a(y,_){var T=y.split(/[\n\r]+/),S=-1,C=-1,M=0,D=0,j=[],V=[],X=null,ce={},I=[],q=[],F=[],J=0,B;for(+_.codepage>=0&&ep(+_.codepage);M!==T.length;++M){J=0;var Z=T[M].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),ue=Z.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),de=ue[0],xe;if(Z.length>0)switch(de){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ue[1].charAt(0)=="P"&&V.push(Z.slice(3).replace(/;;/g,";"));break;case"C":var oe=!1,be=!1,_e=!1,Le=!1,Ne=-1,ee=-1;for(D=1;D<ue.length;++D)switch(ue[D].charAt(0)){case"A":break;case"X":C=parseInt(ue[D].slice(1))-1,be=!0;break;case"Y":for(S=parseInt(ue[D].slice(1))-1,be||(C=0),B=j.length;B<=S;++B)j[B]=[];break;case"K":xe=ue[D].slice(1),xe.charAt(0)==='"'?xe=xe.slice(1,xe.length-1):xe==="TRUE"?xe=!0:xe==="FALSE"?xe=!1:isNaN(hu(xe))?isNaN(rp(xe).getDate())||(xe=eo(xe)):(xe=hu(xe),X!==null&&o6(X)&&(xe=h6(xe))),oe=!0;break;case"E":Le=!0;var O=Rj(ue[D].slice(1),{r:S,c:C});j[S][C]=[j[S][C],O];break;case"S":_e=!0,j[S][C]=[j[S][C],"S5S"];break;case"G":break;case"R":Ne=parseInt(ue[D].slice(1))-1;break;case"C":ee=parseInt(ue[D].slice(1))-1;break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+Z)}if(oe&&(j[S][C]&&j[S][C].length==2?j[S][C][0]=xe:j[S][C]=xe,X=null),_e){if(Le)throw new Error("SYLK shared formula cannot have own formula");var G=Ne>-1&&j[Ne][ee];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");j[S][C][1]=Dj(G[1],{r:S-Ne,c:C-ee})}break;case"F":var H=0;for(D=1;D<ue.length;++D)switch(ue[D].charAt(0)){case"X":C=parseInt(ue[D].slice(1))-1,++H;break;case"Y":for(S=parseInt(ue[D].slice(1))-1,B=j.length;B<=S;++B)j[B]=[];break;case"M":J=parseInt(ue[D].slice(1))/20;break;case"F":break;case"G":break;case"P":X=V[parseInt(ue[D].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=ue[D].slice(1).split(" "),B=parseInt(F[0],10);B<=parseInt(F[1],10);++B)J=parseInt(F[2],10),q[B-1]=J===0?{hidden:!0}:{wch:J},sy(q[B-1]);break;case"C":C=parseInt(ue[D].slice(1))-1,q[C]||(q[C]={});break;case"R":S=parseInt(ue[D].slice(1))-1,I[S]||(I[S]={}),J>0?(I[S].hpt=J,I[S].hpx=J6(J)):J===0&&(I[S].hidden=!0);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+Z)}H<1&&(X=null);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+Z)}}return I.length>0&&(ce["!rows"]=I),q.length>0&&(ce["!cols"]=q),_&&_.sheetRows&&(j=j.slice(0,_.sheetRows)),[j,ce]}function s(y,_){var T=i(y,_),S=T[0],C=T[1],M=Ed(S,_);return ws(C).forEach(function(D){M[D]=C[D]}),M}function l(y,_){return Yh(s(y,_),_)}function u(y,_,T,S){var C="C;Y"+(T+1)+";X"+(S+1)+";K";switch(y.t){case"n":C+=y.v||0,y.f&&!y.F&&(C+=";E"+ly(y.f,{r:T,c:S}));break;case"b":C+=y.v?"TRUE":"FALSE";break;case"e":C+=y.w||y.v;break;case"d":C+='"'+(y.w||y.v)+'"';break;case"s":C+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function f(y,_){_.forEach(function(T,S){var C="F;W"+(S+1)+" "+(S+1)+" ";T.hidden?C+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=O1(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=R1(T.wpx)),typeof T.wch=="number"&&(C+=Math.round(T.wch))),C.charAt(C.length-1)!=" "&&y.push(C)})}function p(y,_){_.forEach(function(T,S){var C="F;";T.hidden?C+="M0;":T.hpt?C+="M"+20*T.hpt+";":T.hpx&&(C+="M"+20*D1(T.hpx)+";"),C.length>2&&y.push(C+"R"+(S+1))})}function v(y,_){var T=["ID;PWXL;N;E"],S=[],C=yi(y["!ref"]),M,D=Array.isArray(y),j=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),y["!cols"]&&f(T,y["!cols"]),y["!rows"]&&p(T,y["!rows"]),T.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var V=C.s.r;V<=C.e.r;++V)for(var X=C.s.c;X<=C.e.c;++X){var ce=Hn({r:V,c:X});M=D?(y[V]||[])[X]:y[ce],!(!M||M.v==null&&(!M.f||M.F))&&S.push(u(M,y,V,X))}return T.join(j)+j+S.join(j)+j+"E"+j}return{to_workbook:l,to_sheet:s,from_sheet:v}})(),ID=(function(){function t(a,s){switch(s.type){case"base64":return e(du(a),s);case"binary":return e(a,s);case"buffer":return e(Nn&&Buffer.isBuffer(a)?a.toString("binary"):yp(a),s);case"array":return e(ug(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var l=a.split(`
`),u=-1,f=-1,p=0,v=[];p!==l.length;++p){if(l[p].trim()==="BOT"){v[++u]=[],f=0;continue}if(!(u<0)){var y=l[p].trim().split(","),_=y[0],T=y[1];++p;for(var S=l[p]||"";(S.match(/["]/g)||[]).length&1&&p<l.length-1;)S+=`
`+l[++p];switch(S=S.trim(),+_){case-1:if(S==="BOT"){v[++u]=[],f=0;continue}else if(S!=="EOD")throw new Error("Unrecognized DIF special command "+S);break;case 0:S==="TRUE"?v[u][f]=!0:S==="FALSE"?v[u][f]=!1:isNaN(hu(T))?isNaN(rp(T).getDate())?v[u][f]=T:v[u][f]=eo(T):v[u][f]=hu(T),++f;break;case 1:S=S.slice(1,S.length-1),S=S.replace(/""/g,'"'),S&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),v[u][f++]=S!==""?S:null;break}if(S==="EOD")break}}return s&&s.sheetRows&&(v=v.slice(0,s.sheetRows)),v}function r(a,s){return Ed(t(a,s),s)}function n(a,s){return Yh(r(a,s),s)}var i=(function(){var a=function(u,f,p,v,y){u.push(f),u.push(p+","+v),u.push('"'+y.replace(/"/g,'""')+'"')},s=function(u,f,p,v){u.push(f+","+p),u.push(f==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(u){var f=[],p=yi(u["!ref"]),v,y=Array.isArray(u);a(f,"TABLE",0,1,"sheetjs"),a(f,"VECTORS",0,p.e.r-p.s.r+1,""),a(f,"TUPLES",0,p.e.c-p.s.c+1,""),a(f,"DATA",0,0,"");for(var _=p.s.r;_<=p.e.r;++_){s(f,-1,0,"BOT");for(var T=p.s.c;T<=p.e.c;++T){var S=Hn({r:_,c:T});if(v=y?(u[_]||[])[T]:u[S],!v){s(f,1,0,"");continue}switch(v.t){case"n":var C=v.w;!C&&v.v!=null&&(C=v.v),C==null?v.f&&!v.F?s(f,1,0,"="+v.f):s(f,1,0,""):s(f,0,C,"V");break;case"b":s(f,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":s(f,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=nh(v.z||Ji[14],Ao(eo(v.v)))),s(f,0,v.w,"V");break;default:s(f,1,0,"")}}}s(f,-1,0,"EOD");var M=`\r
`,D=f.join(M);return D}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),Z6=(function(){function t(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(v,y){for(var _=v.split(`
`),T=-1,S=-1,C=0,M=[];C!==_.length;++C){var D=_[C].trim().split(":");if(D[0]==="cell"){var j=Ka(D[1]);if(M.length<=j.r)for(T=M.length;T<=j.r;++T)M[T]||(M[T]=[]);switch(T=j.r,S=j.c,D[2]){case"t":M[T][S]=t(D[3]);break;case"v":M[T][S]=+D[3];break;case"vtf":var V=D[D.length-1];case"vtc":D[3]==="nl"?M[T][S]=!!+D[4]:M[T][S]=+D[4],D[2]=="vtf"&&(M[T][S]=[M[T][S],V])}}}return y&&y.sheetRows&&(M=M.slice(0,y.sheetRows)),M}function n(v,y){return Ed(r(v,y),y)}function i(v,y){return Yh(n(v,y),y)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(v){if(!v||!v["!ref"])return"";for(var y=[],_=[],T,S="",C=rl(v["!ref"]),M=Array.isArray(v),D=C.s.r;D<=C.e.r;++D)for(var j=C.s.c;j<=C.e.c;++j)if(S=Hn({r:D,c:j}),T=M?(v[D]||[])[j]:v[S],!(!T||T.v==null||T.t==="z")){switch(_=["cell",S,"t"],T.t){case"s":case"str":_.push(e(T.v));break;case"n":T.f?(_[2]="vtf",_[3]="n",_[4]=T.v,_[5]=e(T.f)):(_[2]="v",_[3]=T.v);break;case"b":_[2]="vt"+(T.f?"f":"c"),_[3]="nl",_[4]=T.v?"1":"0",_[5]=e(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var V=Ao(eo(T.v));_[2]="vtc",_[3]="nd",_[4]=""+V,_[5]=T.w||nh(T.z||Ji[14],V);break;case"e":continue}y.push(_.join(":"))}return y.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(v){return[a,s,l,s,f(v),u].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:p}})(),FD=(function(){function t(p,v,y,_,T){T.raw?v[y][_]=p:p===""||(p==="TRUE"?v[y][_]=!0:p==="FALSE"?v[y][_]=!1:isNaN(hu(p))?isNaN(rp(p).getDate())?v[y][_]=p:v[y][_]=eo(p):v[y][_]=hu(p))}function e(p,v){var y=v||{},_=[];if(!p||p.length===0)return _;for(var T=p.split(/[\r\n]/),S=T.length-1;S>=0&&T[S].length===0;)--S;for(var C=10,M=0,D=0;D<=S;++D)M=T[D].indexOf(" "),M==-1?M=T[D].length:M++,C=Math.max(C,M);for(D=0;D<=S;++D){_[D]=[];var j=0;for(t(T[D].slice(0,C).trim(),_,D,j,y),j=1;j<=(T[D].length-C)/10+1;++j)t(T[D].slice(C+(j-1)*10,C+j*10).trim(),_,D,j,y)}return y.sheetRows&&(_=_.slice(0,y.sheetRows)),_}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(p){for(var v={},y=!1,_=0,T=0;_<p.length;++_)(T=p.charCodeAt(_))==34?y=!y:!y&&T in r&&(v[T]=(v[T]||0)+1);T=[];for(_ in v)Object.prototype.hasOwnProperty.call(v,_)&&T.push([v[_],_]);if(!T.length){v=n;for(_ in v)Object.prototype.hasOwnProperty.call(v,_)&&T.push([v[_],_])}return T.sort(function(S,C){return S[0]-C[0]||n[S[1]]-n[C[1]]}),r[T.pop()[1]]||44}function a(p,v){var y=v||{},_="",T=y.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(_=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(_=p.charAt(4),p=p.slice(6)):_=i(p.slice(0,1024)):y&&y.FS?_=y.FS:_=i(p.slice(0,1024));var C=0,M=0,D=0,j=0,V=0,X=_.charCodeAt(0),ce=!1,I=0,q=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var F=y.dateNF!=null?e9(y.dateNF):null;function J(){var B=p.slice(j,V),Z={};if(B.charAt(0)=='"'&&B.charAt(B.length-1)=='"'&&(B=B.slice(1,-1).replace(/""/g,'"')),B.length===0)Z.t="z";else if(y.raw)Z.t="s",Z.v=B;else if(B.trim().length===0)Z.t="s",Z.v=B;else if(B.charCodeAt(0)==61)B.charCodeAt(1)==34&&B.charCodeAt(B.length-1)==34?(Z.t="s",Z.v=B.slice(2,-1).replace(/""/g,'"')):jj(B)?(Z.t="n",Z.f=B.slice(1)):(Z.t="s",Z.v=B);else if(B=="TRUE")Z.t="b",Z.v=!0;else if(B=="FALSE")Z.t="b",Z.v=!1;else if(!isNaN(D=hu(B)))Z.t="n",y.cellText!==!1&&(Z.w=B),Z.v=D;else if(!isNaN(rp(B).getDate())||F&&B.match(F)){Z.z=y.dateNF||Ji[14];var ue=0;F&&B.match(F)&&(B=t9(B,y.dateNF,B.match(F)||[]),ue=1),y.cellDates?(Z.t="d",Z.v=eo(B,ue)):(Z.t="n",Z.v=Ao(eo(B,ue))),y.cellText!==!1&&(Z.w=nh(Z.z,Z.v instanceof Date?Ao(Z.v):Z.v)),y.cellNF||delete Z.z}else Z.t="s",Z.v=B;if(Z.t=="z"||(y.dense?(T[C]||(T[C]=[]),T[C][M]=Z):T[Hn({c:M,r:C})]=Z),j=V+1,q=p.charCodeAt(j),S.e.c<M&&(S.e.c=M),S.e.r<C&&(S.e.r=C),I==X)++M;else if(M=0,++C,y.sheetRows&&y.sheetRows<=C)return!0}e:for(;V<p.length;++V)switch(I=p.charCodeAt(V)){case 34:q===34&&(ce=!ce);break;case X:case 10:case 13:if(!ce&&J())break e;break}return V-j>0&&J(),T["!ref"]=ba(S),T}function s(p,v){return!(v&&v.PRN)||v.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?a(p,v):Ed(e(p,v),v)}function l(p,v){var y="",_=v.type=="string"?[0,0,0,0]:KU(p,v);switch(v.type){case"base64":y=du(p);break;case"binary":y=p;break;case"buffer":v.codepage==65001?y=p.toString("utf8"):v.codepage&&typeof E1<"u"||(y=Nn&&Buffer.isBuffer(p)?p.toString("binary"):yp(p));break;case"array":y=ug(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+v.type)}return _[0]==239&&_[1]==187&&_[2]==191?y=k0(y.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?y=k0(y):v.type=="binary"&&typeof E1<"u",y.slice(0,19)=="socialcalc:version:"?Z6.to_sheet(v.type=="string"?y:k0(y),v):s(y,v)}function u(p,v){return Yh(l(p,v),v)}function f(p){for(var v=[],y=yi(p["!ref"]),_,T=Array.isArray(p),S=y.s.r;S<=y.e.r;++S){for(var C=[],M=y.s.c;M<=y.e.c;++M){var D=Hn({r:S,c:M});if(_=T?(p[S]||[])[M]:p[D],!_||_.v==null){C.push("          ");continue}for(var j=(_.w||(pu(_),_.w)||"").slice(0,10);j.length<10;)j+=" ";C.push(j+(M===0?" ":""))}v.push(C.join(""))}return v.join(`
`)}return{to_workbook:u,to_sheet:l,from_sheet:f}})(),c3=(function(){function t(O,G,H){if(O){Xo(O,O.l||0);for(var Y=H.Enum||Ne;O.l<O.length;){var se=O.read_shift(2),Ae=Y[se]||Y[65535],Oe=O.read_shift(2),Re=O.l+Oe,Ie=Ae.f&&Ae.f(O,Oe,H);if(O.l=Re,G(Ie,Ae,se))return}}}function e(O,G){switch(G.type){case"base64":return r(Zl(du(O)),G);case"binary":return r(Zl(O),G);case"buffer":case"array":return r(O,G)}throw"Unsupported type "+G.type}function r(O,G){if(!O)return O;var H=G||{},Y=H.dense?[]:{},se="Sheet1",Ae="",Oe=0,Re={},Ie=[],ot=[],it={s:{r:0,c:0},e:{r:0,c:0}},Tt=H.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)H.Enum=Ne,t(O,function(xt,zt,dt){switch(dt){case 0:H.vers=xt,xt>=4096&&(H.qpro=!0);break;case 6:it=xt;break;case 204:xt&&(Ae=xt);break;case 222:Ae=xt;break;case 15:case 51:H.qpro||(xt[1].v=xt[1].v.slice(1));case 13:case 14:case 16:dt==14&&(xt[2]&112)==112&&(xt[2]&15)>1&&(xt[2]&15)<15&&(xt[1].z=H.dateNF||Ji[14],H.cellDates&&(xt[1].t="d",xt[1].v=h6(xt[1].v))),H.qpro&&xt[3]>Oe&&(Y["!ref"]=ba(it),Re[se]=Y,Ie.push(se),Y=H.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},Oe=xt[3],se=Ae||"Sheet"+(Oe+1),Ae="");var Vt=H.dense?(Y[xt[0].r]||[])[xt[0].c]:Y[Hn(xt[0])];if(Vt){Vt.t=xt[1].t,Vt.v=xt[1].v,xt[1].z!=null&&(Vt.z=xt[1].z),xt[1].f!=null&&(Vt.f=xt[1].f);break}H.dense?(Y[xt[0].r]||(Y[xt[0].r]=[]),Y[xt[0].r][xt[0].c]=xt[1]):Y[Hn(xt[0])]=xt[1];break}},H);else if(O[2]==26||O[2]==14)H.Enum=ee,O[2]==14&&(H.qpro=!0,O.l=0),t(O,function(xt,zt,dt){switch(dt){case 204:se=xt;break;case 22:xt[1].v=xt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(xt[3]>Oe&&(Y["!ref"]=ba(it),Re[se]=Y,Ie.push(se),Y=H.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},Oe=xt[3],se="Sheet"+(Oe+1)),Tt>0&&xt[0].r>=Tt)break;H.dense?(Y[xt[0].r]||(Y[xt[0].r]=[]),Y[xt[0].r][xt[0].c]=xt[1]):Y[Hn(xt[0])]=xt[1],it.e.c<xt[0].c&&(it.e.c=xt[0].c),it.e.r<xt[0].r&&(it.e.r=xt[0].r);break;case 27:xt[14e3]&&(ot[xt[14e3][0]]=xt[14e3][1]);break;case 1537:ot[xt[0]]=xt[1],xt[0]==Oe&&(se=xt[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(Y["!ref"]=ba(it),Re[Ae||se]=Y,Ie.push(Ae||se),!ot.length)return{SheetNames:Ie,Sheets:Re};for(var Nt={},we=[],yt=0;yt<ot.length;++yt)Re[Ie[yt]]?(we.push(ot[yt]||Ie[yt]),Nt[ot[yt]]=Re[ot[yt]]||Re[Ie[yt]]):(we.push(ot[yt]),Nt[ot[yt]]={"!ref":"A1"});return{SheetNames:we,Sheets:Nt}}function n(O,G){var H=G||{};if(+H.codepage>=0&&ep(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=To(),se=yi(O["!ref"]),Ae=Array.isArray(O),Oe=[];Ot(Y,0,a(1030)),Ot(Y,6,u(se));for(var Re=Math.min(se.e.r,8191),Ie=se.s.r;Ie<=Re;++Ie)for(var ot=xs(Ie),it=se.s.c;it<=se.e.c;++it){Ie===se.s.r&&(Oe[it]=Us(it));var Tt=Oe[it]+ot,Nt=Ae?(O[Ie]||[])[it]:O[Tt];if(!(!Nt||Nt.t=="z"))if(Nt.t=="n")(Nt.v|0)==Nt.v&&Nt.v>=-32768&&Nt.v<=32767?Ot(Y,13,_(Ie,it,Nt.v)):Ot(Y,14,S(Ie,it,Nt.v));else{var we=pu(Nt);Ot(Y,15,v(Ie,it,we.slice(0,239)))}}return Ot(Y,1),Y.end()}function i(O,G){var H=G||{};if(+H.codepage>=0&&ep(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=To();Ot(Y,0,s(O));for(var se=0,Ae=0;se<O.SheetNames.length;++se)(O.Sheets[O.SheetNames[se]]||{})["!ref"]&&Ot(Y,27,Le(O.SheetNames[se],Ae++));var Oe=0;for(se=0;se<O.SheetNames.length;++se){var Re=O.Sheets[O.SheetNames[se]];if(!(!Re||!Re["!ref"])){for(var Ie=yi(Re["!ref"]),ot=Array.isArray(Re),it=[],Tt=Math.min(Ie.e.r,8191),Nt=Ie.s.r;Nt<=Tt;++Nt)for(var we=xs(Nt),yt=Ie.s.c;yt<=Ie.e.c;++yt){Nt===Ie.s.r&&(it[yt]=Us(yt));var xt=it[yt]+we,zt=ot?(Re[Nt]||[])[yt]:Re[xt];if(!(!zt||zt.t=="z"))if(zt.t=="n")Ot(Y,23,J(Nt,yt,Oe,zt.v));else{var dt=pu(zt);Ot(Y,22,I(Nt,yt,Oe,dt.slice(0,239)))}}++Oe}}return Ot(Y,1),Y.end()}function a(O){var G=ct(2);return G.write_shift(2,O),G}function s(O){var G=ct(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var H=0,Y=0,se=0,Ae=0;Ae<O.SheetNames.length;++Ae){var Oe=O.SheetNames[Ae],Re=O.Sheets[Oe];if(!(!Re||!Re["!ref"])){++se;var Ie=rl(Re["!ref"]);H<Ie.e.r&&(H=Ie.e.r),Y<Ie.e.c&&(Y=Ie.e.c)}}return H>8191&&(H=8191),G.write_shift(2,H),G.write_shift(1,se),G.write_shift(1,Y),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function l(O,G,H){var Y={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&H.qpro?(Y.s.c=O.read_shift(1),O.l++,Y.s.r=O.read_shift(2),Y.e.c=O.read_shift(1),O.l++,Y.e.r=O.read_shift(2),Y):(Y.s.c=O.read_shift(2),Y.s.r=O.read_shift(2),G==12&&H.qpro&&(O.l+=2),Y.e.c=O.read_shift(2),Y.e.r=O.read_shift(2),G==12&&H.qpro&&(O.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function u(O){var G=ct(8);return G.write_shift(2,O.s.c),G.write_shift(2,O.s.r),G.write_shift(2,O.e.c),G.write_shift(2,O.e.r),G}function f(O,G,H){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(Y[0].c=O.read_shift(1),Y[3]=O.read_shift(1),Y[0].r=O.read_shift(2),O.l+=2):(Y[2]=O.read_shift(1),Y[0].c=O.read_shift(2),Y[0].r=O.read_shift(2)),Y}function p(O,G,H){var Y=O.l+G,se=f(O,G,H);if(se[1].t="s",H.vers==20768){O.l++;var Ae=O.read_shift(1);return se[1].v=O.read_shift(Ae,"utf8"),se}return H.qpro&&O.l++,se[1].v=O.read_shift(Y-O.l,"cstr"),se}function v(O,G,H){var Y=ct(7+H.length);Y.write_shift(1,255),Y.write_shift(2,G),Y.write_shift(2,O),Y.write_shift(1,39);for(var se=0;se<Y.length;++se){var Ae=H.charCodeAt(se);Y.write_shift(1,Ae>=128?95:Ae)}return Y.write_shift(1,0),Y}function y(O,G,H){var Y=f(O,G,H);return Y[1].v=O.read_shift(2,"i"),Y}function _(O,G,H){var Y=ct(7);return Y.write_shift(1,255),Y.write_shift(2,G),Y.write_shift(2,O),Y.write_shift(2,H,"i"),Y}function T(O,G,H){var Y=f(O,G,H);return Y[1].v=O.read_shift(8,"f"),Y}function S(O,G,H){var Y=ct(13);return Y.write_shift(1,255),Y.write_shift(2,G),Y.write_shift(2,O),Y.write_shift(8,H,"f"),Y}function C(O,G,H){var Y=O.l+G,se=f(O,G,H);if(se[1].v=O.read_shift(8,"f"),H.qpro)O.l=Y;else{var Ae=O.read_shift(2);V(O.slice(O.l,O.l+Ae),se),O.l+=Ae}return se}function M(O,G,H){var Y=G&32768;return G&=-32769,G=(Y?O:0)+(G>=8192?G-16384:G),(Y?"":"$")+(H?Us(G):xs(G))}var D={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function V(O,G){Xo(O,0);for(var H=[],Y=0,se="",Ae="",Oe="",Re="";O.l<O.length;){var Ie=O[O.l++];switch(Ie){case 0:H.push(O.read_shift(8,"f"));break;case 1:Ae=M(G[0].c,O.read_shift(2),!0),se=M(G[0].r,O.read_shift(2),!1),H.push(Ae+se);break;case 2:{var ot=M(G[0].c,O.read_shift(2),!0),it=M(G[0].r,O.read_shift(2),!1);Ae=M(G[0].c,O.read_shift(2),!0),se=M(G[0].r,O.read_shift(2),!1),H.push(ot+it+":"+Ae+se)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(O.read_shift(2));break;case 6:{for(var Tt="";Ie=O[O.l++];)Tt+=String.fromCharCode(Ie);H.push('"'+Tt.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:Re=H.pop(),Oe=H.pop(),H.push(["AND","OR"][Ie-20]+"("+Oe+","+Re+")");break;default:if(Ie<32&&j[Ie])Re=H.pop(),Oe=H.pop(),H.push(Oe+j[Ie]+Re);else if(D[Ie]){if(Y=D[Ie][1],Y==69&&(Y=O[O.l++]),Y>H.length){console.error("WK1 bad formula parse 0x"+Ie.toString(16)+":|"+H.join("|")+"|");return}var Nt=H.slice(-Y);H.length-=Y,H.push(D[Ie][0]+"("+Nt.join(",")+")")}else return Ie<=7?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=24?console.error("WK1 unsupported op "+Ie.toString(16)):Ie<=30?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=115?console.error("WK1 unsupported function opcode "+Ie.toString(16)):console.error("WK1 unrecognized opcode "+Ie.toString(16))}}H.length==1?G[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function X(O){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=O.read_shift(2),G[3]=O[O.l++],G[0].c=O[O.l++],G}function ce(O,G){var H=X(O);return H[1].t="s",H[1].v=O.read_shift(G-4,"cstr"),H}function I(O,G,H,Y){var se=ct(6+Y.length);se.write_shift(2,O),se.write_shift(1,H),se.write_shift(1,G),se.write_shift(1,39);for(var Ae=0;Ae<Y.length;++Ae){var Oe=Y.charCodeAt(Ae);se.write_shift(1,Oe>=128?95:Oe)}return se.write_shift(1,0),se}function q(O,G){var H=X(O);H[1].v=O.read_shift(2);var Y=H[1].v>>1;if(H[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return H[1].v=Y,H}function F(O,G){var H=X(O),Y=O.read_shift(4),se=O.read_shift(4),Ae=O.read_shift(2);if(Ae==65535)return Y===0&&se===3221225472?(H[1].t="e",H[1].v=15):Y===0&&se===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var Oe=Ae&32768;return Ae=(Ae&32767)-16446,H[1].v=(1-Oe*2)*(se*Math.pow(2,Ae+32)+Y*Math.pow(2,Ae)),H}function J(O,G,H,Y){var se=ct(14);if(se.write_shift(2,O),se.write_shift(1,H),se.write_shift(1,G),Y==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var Ae=0,Oe=0,Re=0,Ie=0;return Y<0&&(Ae=1,Y=-Y),Oe=Math.log2(Y)|0,Y/=Math.pow(2,Oe-31),Ie=Y>>>0,(Ie&2147483648)==0&&(Y/=2,++Oe,Ie=Y>>>0),Y-=Ie,Ie|=2147483648,Ie>>>=0,Y*=Math.pow(2,32),Re=Y>>>0,se.write_shift(4,Re),se.write_shift(4,Ie),Oe+=16383+(Ae?32768:0),se.write_shift(2,Oe),se}function B(O,G){var H=F(O);return O.l+=G-14,H}function Z(O,G){var H=X(O),Y=O.read_shift(4);return H[1].v=Y>>6,H}function ue(O,G){var H=X(O),Y=O.read_shift(8,"f");return H[1].v=Y,H}function de(O,G){var H=ue(O);return O.l+=G-10,H}function xe(O,G){return O[O.l+G-1]==0?O.read_shift(G,"cstr"):""}function oe(O,G){var H=O[O.l++];H>G-1&&(H=G-1);for(var Y="";Y.length<H;)Y+=String.fromCharCode(O[O.l++]);return Y}function be(O,G,H){if(!(!H.qpro||G<21)){var Y=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var se=O.read_shift(G-21,"cstr");return[Y,se]}}function _e(O,G){for(var H={},Y=O.l+G;O.l<Y;){var se=O.read_shift(2);if(se==14e3){for(H[se]=[0,""],H[se][0]=O.read_shift(2);O[O.l];)H[se][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return H}function Le(O,G){var H=ct(5+O.length);H.write_shift(2,14e3),H.write_shift(2,G);for(var Y=0;Y<O.length;++Y){var se=O.charCodeAt(Y);H[H.l++]=se>127?95:se}return H[H.l++]=0,H}var Ne={0:{n:"BOF",f:H6},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:xe},222:{n:"SHEETNAMELP",f:oe},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ce},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:q},25:{n:"FORMULA19",f:B},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:_e},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Z},38:{n:"??"},39:{n:"NUMBER27",f:ue},40:{n:"FORMULA28",f:de},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:xe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:be},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})(),BD=/^\s|\s$|[\t\n\r]/;function Y6(t,e){if(!e.bookSST)return"";var r=[Sa];r[r.length]=Pt("sst",null,{xmlns:Sd[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(BD)&&(a+=' xml:space="preserve"'),a+=">"+Gn(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function UD(t){return[t.read_shift(4),t.read_shift(4)]}function zD(t,e){return e||(e=ct(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var GD=P9;function HD(t){var e=To();Et(e,159,zD(t));for(var r=0;r<t.length;++r)Et(e,19,GD(t[r]));return Et(e,160),e.end()}function qD(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function K6(t){var e=0,r,n=qD(t),i=n.length+1,a,s,l,u,f;for(r=Uh(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],l=(e&16384)===0?0:1,u=e<<1&32767,f=l|u,e=f^s;return e^52811}var VD=(function(){function t(i,a){switch(a.type){case"base64":return e(du(i),a);case"binary":return e(i,a);case"buffer":return e(Nn&&Buffer.isBuffer(i)?i.toString("binary"):yp(i),a);case"array":return e(ug(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},l=s.dense?[]:{},u=i.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(p,v){Array.isArray(l)&&(l[v]=[]);for(var y=/\\\w+\b/g,_=0,T,S=-1;T=y.exec(p);){switch(T[0]){case"\\cell":var C=p.slice(_,y.lastIndex-T[0].length);if(C[0]==" "&&(C=C.slice(1)),++S,C.length){var M={v:C,t:"s"};Array.isArray(l)?l[v][S]=M:l[Hn({r:v,c:S})]=M}break}_=y.lastIndex}S>f.e.c&&(f.e.c=S)}),l["!ref"]=ba(f),l}function r(i,a){return Yh(t(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=yi(i["!ref"]),l,u=Array.isArray(i),f=s.s.r;f<=s.e.r;++f){a.push("\\trowd\\trautofit1");for(var p=s.s.c;p<=s.e.c;++p)a.push("\\cellx"+(p+1));for(a.push("\\pard\\intbl"),p=s.s.c;p<=s.e.c;++p){var v=Hn({r:f,c:p});l=u?(i[f]||[])[p]:i[v],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(pu(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function u3(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var $D=6,fu=$D;function O1(t){return Math.floor((t+Math.round(128/fu)/256)*fu)}function R1(t){return Math.floor((t-5)/fu*100+.5)/100}function x_(t){return Math.round((t*fu+5)/fu*256)/256}function sy(t){t.width?(t.wpx=O1(t.width),t.wch=R1(t.wpx),t.MDW=fu):t.wpx?(t.wch=R1(t.wpx),t.width=x_(t.wch),t.MDW=fu):typeof t.wch=="number"&&(t.width=x_(t.wch),t.wpx=O1(t.width),t.MDW=fu),t.customWidth&&delete t.customWidth}var WD=96,X6=WD;function D1(t){return t*96/X6}function J6(t){return t*X6/96}function ZD(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Pt("numFmt",null,{numFmtId:n,formatCode:Gn(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Pt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function YD(t){var e=[];return e[e.length]=Pt("cellXfs",null),t.forEach(function(r){e[e.length]=Pt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Pt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Q6(t,e){var r=[Sa,Pt("styleSheet",null,{xmlns:Sd[0],"xmlns:vt":Ya.vt})],n;return t.SSF&&(n=ZD(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=YD(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function KD(t,e){var r=t.read_shift(2),n=zs(t);return[r,n]}function XD(t,e,r){r||(r=ct(6+4*e.length)),r.write_shift(2,t),Xa(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function JD(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=B9(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var l=t.read_shift(1);l>0&&(n.family=l);var u=t.read_shift(1);switch(u>0&&(n.charset=u),t.l++,n.color=F9(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=zs(t),n}function QD(t,e){e||(e=ct(153)),e.write_shift(2,t.sz*20),U9(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),k1(t.color,e);var n=0;return n=2,e.write_shift(1,n),Xa(t.name,e),e.length>e.l?e.slice(0,e.l):e}var ej=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],E2,tj=Rc;function h3(t,e){e||(e=ct(84)),E2||(E2=Z_(ej));var r=E2[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(k1({auto:1},e),k1({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function rj(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function e8(t,e,r){r||(r=ct(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function f0(t,e){return e||(e=ct(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var nj=Rc;function ij(t,e){return e||(e=ct(51)),e.write_shift(1,0),f0(null,e),f0(null,e),f0(null,e),f0(null,e),f0(null,e),e.length>e.l?e.slice(0,e.l):e}function aj(t,e){return e||(e=ct(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),M1(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function sj(t,e,r){var n=ct(2052);return n.write_shift(4,t),M1(e,n),M1(r,n),n.length>n.l?n.slice(0,n.l):n}function oj(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(Et(t,615,Kl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Et(t,44,XD(i,e[i]))}),Et(t,616))}}function lj(t){var e=1;Et(t,611,Kl(e)),Et(t,43,QD({sz:12,color:{theme:1},name:"Calibri",family:2})),Et(t,612)}function cj(t){var e=2;Et(t,603,Kl(e)),Et(t,45,h3({patternType:"none"})),Et(t,45,h3({patternType:"gray125"})),Et(t,604)}function uj(t){var e=1;Et(t,613,Kl(e)),Et(t,46,ij()),Et(t,614)}function hj(t){var e=1;Et(t,626,Kl(e)),Et(t,47,e8({numFmtId:0},65535)),Et(t,627)}function fj(t,e){Et(t,617,Kl(e.length)),e.forEach(function(r){Et(t,47,e8(r,0))}),Et(t,618)}function dj(t){var e=1;Et(t,619,Kl(e)),Et(t,48,aj({xfId:0,name:"Normal"})),Et(t,620)}function pj(t){var e=0;Et(t,505,Kl(e)),Et(t,506)}function mj(t){var e=0;Et(t,508,sj(e,"TableStyleMedium9","PivotStyleMedium4")),Et(t,509)}function gj(t,e){var r=To();return Et(r,278),oj(r,t.SSF),lj(r),cj(r),uj(r),hj(r),fj(r,e.cellXfs),dj(r),pj(r),mj(r),Et(r,279),r.end()}function t8(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Sa];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function vj(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:zs(t)}}function _j(t){var e=ct(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Xa(t.name,e),e.slice(0,e.l)}function yj(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function xj(t){var e=ct(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function wj(t,e){var r=ct(8+2*e.length);return r.write_shift(4,t),Xa(e,r),r.slice(0,r.l)}function bj(t){return t.l+=4,t.read_shift(4)!=0}function Sj(t,e){var r=ct(8);return r.write_shift(4,t),r.write_shift(4,1),r}function Ej(){var t=To();return Et(t,332),Et(t,334,Kl(1)),Et(t,335,_j({name:"XLDAPR",version:12e4,flags:3496657072})),Et(t,336),Et(t,339,wj(1,"XLDAPR")),Et(t,52),Et(t,35,Kl(514)),Et(t,4096,Kl(0)),Et(t,4097,xl(1)),Et(t,36),Et(t,53),Et(t,340),Et(t,337,Sj(1)),Et(t,51,xj([[1,0]])),Et(t,338),Et(t,333),t.end()}function r8(){var t=[Sa];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Tj(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Hn(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var ed=1024;function n8(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Pt("xml",null,{"xmlns:v":Jo.v,"xmlns:o":Jo.o,"xmlns:x":Jo.x,"xmlns:mv":Jo.mv}).replace(/\/>/,">"),Pt("o:shapelayout",Pt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Pt("v:shapetype",[Pt("v:stroke",null,{joinstyle:"miter"}),Pt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];ed<t*1e3;)ed+=1e3;return e.forEach(function(a){var s=Ka(a[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var u=l.type=="gradient"?Pt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Pt("v:fill",u,l),p={on:"t",obscured:"t"};++ed,i=i.concat(["<v:shape"+ip({id:"_x0000_s"+ed,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Pt("v:shadow",null,p),Pt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ys("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),ys("x:AutoFill","False"),ys("x:Row",String(s.r)),ys("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function i8(t){var e=[Sa,Pt("comments",null,{xmlns:Sd[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var a=Gn(i.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(u){u.a&&(i=r.indexOf(Gn(u.a))),a.push(u.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(ys("t",Gn(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,l=1;l<a.length;++l)s+=`Reply:
    `+a[l]+`
`;e.push(ys("t",Gn(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Aj(t,e,r){var n=[Sa,Pt("ThreadedComments",null,{xmlns:Ya.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,l){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var u={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?a=u.id:u.parentId=a,s.ID=u.id,s.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(Pt("threadedComment",ys("text",s.t||""),u))})}),n.push("</ThreadedComments>"),n.join("")}function Lj(t){var e=[Sa,Pt("personList",null,{xmlns:Ya.TCMNT,"xmlns:x":Sd[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Pt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Nj(t){var e={};e.iauthor=t.read_shift(4);var r=Qh(t);return e.rfx=r.s,e.ref=Hn(r.s),t.l+=16,e}function Cj(t,e){return e==null&&(e=ct(36)),e.write_shift(4,t[1].iauthor),Td(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Mj=zs;function kj(t){return Xa(t.slice(0,54))}function Pj(t){var e=To(),r=[];return Et(e,628),Et(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Et(e,632,kj(i.a)))})}),Et(e,631),Et(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Ka(n[0]),e:Ka(n[0])};Et(e,635,Cj([a,i])),i.t&&i.t.length>0&&Et(e,637,R9(i)),Et(e,636),delete i.iauthor})}),Et(e,634),Et(e,629),e.end()}function Oj(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Yn.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var a8=["xlsb","xlsm","xlam","biff8","xla"],Rj=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,a,s){var l=!1,u=!1;a.length==0?u=!0:a.charAt(0)=="["&&(u=!0,a=a.slice(1,-1)),s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1));var f=a.length>0?parseInt(a,10)|0:0,p=s.length>0?parseInt(s,10)|0:0;return l?p+=e.c:--p,u?f+=e.r:--f,i+(l?"":"$")+Us(p)+(u?"":"$")+xs(f)}return function(i,a){return e=a,i.replace(t,r)}})(),oy=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ly=(function(){return function(e,r){return e.replace(oy,function(n,i,a,s,l,u){var f=ty(s)-(a?0:r.c),p=ey(u)-(l?0:r.r),v=p==0?"":l?p+1:"["+p+"]",y=f==0?"":a?f+1:"["+f+"]";return i+"R"+v+"C"+y})}})();function Dj(t,e){return t.replace(oy,function(r,n,i,a,s,l){return n+(i=="$"?i+a:Us(ty(a)+e.c))+(s=="$"?s+l:xs(ey(l)+e.r))})}function jj(t){return t.length!=1}function ya(t){t.l+=1}function ih(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function s8(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return o8(t);r.biff==12&&(n=4)}var i=t.read_shift(n),a=t.read_shift(n),s=ih(t),l=ih(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function o8(t){var e=ih(t),r=ih(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Ij(t,e,r){if(r.biff<8)return o8(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),a=ih(t),s=ih(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function l8(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return Fj(t);var n=t.read_shift(r&&r.biff==12?4:2),i=ih(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function Fj(t){var e=ih(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function Bj(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Uj(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return zj(t);var i=t.read_shift(n>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:l}}function zj(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function Gj(t,e,r){var n=(t[t.l++]&96)>>5,i=s8(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function Hj(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=s8(t,a,r);return[n,i,s]}function qj(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Vj(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,i]}function $j(t,e,r){var n=(t[t.l++]&96)>>5,i=Ij(t,e-1,r);return[n,i]}function Wj(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function f3(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function Zj(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function Yj(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Kj(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Xj(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Jj(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function c8(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Qj(t){return t.read_shift(2),c8(t)}function eI(t){return t.read_shift(2),c8(t)}function tI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=l8(t,0,r);return[n,i]}function rI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=Uj(t,0,r);return[n,i]}function nI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=l8(t,0,r);return[n,i,a]}function iI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[iF[i],f8[i],n]}function aI(t,e,r){var n=t[t.l++],i=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:sI(t);return[i,(a[0]===0?f8:nF)[a[1]]]}function sI(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function oI(t,e,r){t.l+=r&&r.biff==2?3:4}function lI(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function cI(t){return t.l++,bp[t.read_shift(1)]}function uI(t){return t.l++,t.read_shift(2)}function hI(t){return t.l++,t.read_shift(1)!==0}function fI(t){return t.l++,Ad(t)}function dI(t,e,r){return t.l++,V6(t,e-1,r)}function pI(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=nD(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=bp[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Ad(t);break;case 2:r[1]=oD(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function mI(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Qh:uD)(t));return i}function gI(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var l=0;l!=i;++l)s[a][l]=pI(t,r.biff);return s}function vI(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function _I(t,e,r){if(r.biff==5)return yI(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[n,i,a]}function yI(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function xI(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function wI(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function bI(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function SI(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,i]}var EI=Rc,TI=Rc,AI=Rc;function Sp(t,e,r){return t.l+=2,[Bj(t)]}function cy(t){return t.l+=6,[]}var LI=Sp,NI=cy,CI=cy,MI=Sp;function u8(t){return t.l+=2,[H6(t),t.read_shift(2)&1]}var kI=Sp,PI=u8,OI=cy,RI=Sp,DI=Sp,jI=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function II(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=jI[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:i,C:a}}function FI(t){return t.l+=2,[t.read_shift(4)]}function BI(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function UI(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function zI(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function GI(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function HI(t){return t.l+=4,[0,0]}var d3={1:{n:"PtgExp",f:lI},2:{n:"PtgTbl",f:AI},3:{n:"PtgAdd",f:ya},4:{n:"PtgSub",f:ya},5:{n:"PtgMul",f:ya},6:{n:"PtgDiv",f:ya},7:{n:"PtgPower",f:ya},8:{n:"PtgConcat",f:ya},9:{n:"PtgLt",f:ya},10:{n:"PtgLe",f:ya},11:{n:"PtgEq",f:ya},12:{n:"PtgGe",f:ya},13:{n:"PtgGt",f:ya},14:{n:"PtgNe",f:ya},15:{n:"PtgIsect",f:ya},16:{n:"PtgUnion",f:ya},17:{n:"PtgRange",f:ya},18:{n:"PtgUplus",f:ya},19:{n:"PtgUminus",f:ya},20:{n:"PtgPercent",f:ya},21:{n:"PtgParen",f:ya},22:{n:"PtgMissArg",f:ya},23:{n:"PtgStr",f:dI},26:{n:"PtgSheet",f:BI},27:{n:"PtgEndSheet",f:UI},28:{n:"PtgErr",f:cI},29:{n:"PtgBool",f:hI},30:{n:"PtgInt",f:uI},31:{n:"PtgNum",f:fI},32:{n:"PtgArray",f:Wj},33:{n:"PtgFunc",f:iI},34:{n:"PtgFuncVar",f:aI},35:{n:"PtgName",f:vI},36:{n:"PtgRef",f:tI},37:{n:"PtgArea",f:Gj},38:{n:"PtgMemArea",f:xI},39:{n:"PtgMemErr",f:EI},40:{n:"PtgMemNoMem",f:TI},41:{n:"PtgMemFunc",f:wI},42:{n:"PtgRefErr",f:bI},43:{n:"PtgAreaErr",f:qj},44:{n:"PtgRefN",f:rI},45:{n:"PtgAreaN",f:$j},46:{n:"PtgMemAreaN",f:zI},47:{n:"PtgMemNoMemN",f:GI},57:{n:"PtgNameX",f:_I},58:{n:"PtgRef3d",f:nI},59:{n:"PtgArea3d",f:Hj},60:{n:"PtgRefErr3d",f:SI},61:{n:"PtgAreaErr3d",f:Vj},255:{}},qI={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},VI={1:{n:"PtgElfLel",f:u8},2:{n:"PtgElfRw",f:RI},3:{n:"PtgElfCol",f:LI},6:{n:"PtgElfRwV",f:DI},7:{n:"PtgElfColV",f:MI},10:{n:"PtgElfRadical",f:kI},11:{n:"PtgElfRadicalS",f:OI},13:{n:"PtgElfColS",f:NI},15:{n:"PtgElfColSV",f:CI},16:{n:"PtgElfRadicalLel",f:PI},25:{n:"PtgList",f:II},29:{n:"PtgSxName",f:FI},255:{}},$I={0:{n:"PtgAttrNoop",f:HI},1:{n:"PtgAttrSemi",f:Jj},2:{n:"PtgAttrIf",f:Kj},4:{n:"PtgAttrChoose",f:Zj},8:{n:"PtgAttrGoto",f:Yj},16:{n:"PtgAttrSum",f:oI},32:{n:"PtgAttrBaxcel",f:f3},33:{n:"PtgAttrBaxcel",f:f3},64:{n:"PtgAttrSpace",f:Qj},65:{n:"PtgAttrSpaceSemi",f:eI},128:{n:"PtgAttrIfError",f:Xj},255:{}};function WI(t,e,r,n){if(n.biff<8)return Rc(t,e);for(var i=t.l+e,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=gI(t,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=mI(t,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=i-t.l,e!==0&&a.push(Rc(t,e)),a}function ZI(t,e,r){for(var n=t.l+e,i,a,s=[];n!=t.l;)e=n-t.l,a=t[t.l],i=d3[a]||d3[qI[a]],(a===24||a===25)&&(i=(a===24?VI:$I)[t[t.l+1]]),!i||!i.f?Rc(t,e):s.push([i.n,i.f(t,e,r)]);return s}function YI(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],a=0;a<n.length;++a){var s=n[a];s?s[0]===2?i.push('"'+s[1].replace(/"/g,'""')+'"'):i.push(s[1]):i.push("")}e.push(i.join(","))}return e.join(";")}var KI={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function XI(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function h8(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function p3(t,e,r){var n=h8(t,e,r);return n=="#REF"?n:XI(n,r)}function _d(t,e,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},l=[],u,f,p,v=0,y=0,_,T="";if(!t[0]||!t[0][0])return"";for(var S=-1,C="",M=0,D=t[0].length;M<D;++M){var j=t[0][M];switch(j[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=l.pop(),f=l.pop(),S>=0){switch(t[0][S][1][0]){case 0:C=Ki(" ",t[0][S][1][1]);break;case 1:C=Ki("\r",t[0][S][1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}f=f+C,S=-1}l.push(f+KI[j[0]]+u);break;case"PtgIsect":u=l.pop(),f=l.pop(),l.push(f+" "+u);break;case"PtgUnion":u=l.pop(),f=l.pop(),l.push(f+","+u);break;case"PtgRange":u=l.pop(),f=l.pop(),l.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=O0(j[1][1],s,i),l.push(R0(p,a));break;case"PtgRefN":p=r?O0(j[1][1],r,i):j[1][1],l.push(R0(p,a));break;case"PtgRef3d":v=j[1][1],p=O0(j[1][2],s,i),T=p3(n,v,i),l.push(T+"!"+R0(p,a));break;case"PtgFunc":case"PtgFuncVar":var V=j[1][0],X=j[1][1];V||(V=0),V&=127;var ce=V==0?[]:l.slice(-V);l.length-=V,X==="User"&&(X=ce.shift()),l.push(X+"("+ce.join(",")+")");break;case"PtgBool":l.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(j[1]);break;case"PtgNum":l.push(String(j[1]));break;case"PtgStr":l.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(j[1]);break;case"PtgAreaN":_=J4(j[1][1],r?{s:r}:s,i),l.push(b2(_,i));break;case"PtgArea":_=J4(j[1][1],s,i),l.push(b2(_,i));break;case"PtgArea3d":v=j[1][1],_=j[1][2],T=p3(n,v,i),l.push(T+"!"+b2(_,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=j[1][2];var I=(n.names||[])[y-1]||(n[0]||[])[y],q=I?I.Name:"SH33TJSNAME"+String(y);q&&q.slice(0,6)=="_xlfn."&&!i.xlfn&&(q=q.slice(6)),l.push(q);break;case"PtgNameX":var F=j[1][1];y=j[1][2];var J;if(i.biff<=5)F<0&&(F=-F),n[F]&&(J=n[F][y]);else{var B="";if(((n[F]||[])[0]||[])[0]==14849||(((n[F]||[])[0]||[])[0]==1025?n[F][y]&&n[F][y].itab>0&&(B=n.SheetNames[n[F][y].itab-1]+"!"):B=n.SheetNames[y-1]+"!"),n[F]&&n[F][y])B+=n[F][y].Name;else if(n[0]&&n[0][y])B+=n[0][y].Name;else{var Z=(h8(n,F,i)||"").split(";;");Z[y-1]?B=Z[y-1]:B+="SH33TJSERRX"}l.push(B);break}J||(J={Name:"SH33TJSERRY"}),l.push(J.Name);break;case"PtgParen":var ue="(",de=")";if(S>=0){switch(C="",t[0][S][1][0]){case 2:ue=Ki(" ",t[0][S][1][1])+ue;break;case 3:ue=Ki("\r",t[0][S][1][1])+ue;break;case 4:de=Ki(" ",t[0][S][1][1])+de;break;case 5:de=Ki("\r",t[0][S][1][1])+de;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}S=-1}l.push(ue+l.pop()+de);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":p={c:j[1][1],r:j[1][0]};var xe={c:r.c,r:r.r};if(n.sharedf[Hn(p)]){var oe=n.sharedf[Hn(p)];l.push(_d(oe,s,xe,n,i))}else{var be=!1;for(u=0;u!=n.arrayf.length;++u)if(f=n.arrayf[u],!(p.c<f[0].s.c||p.c>f[0].e.c)&&!(p.r<f[0].s.r||p.r>f[0].e.r)){l.push(_d(f[1],s,xe,n,i)),be=!0;break}be||l.push(j[1])}break;case"PtgArray":l.push("{"+YI(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=M;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var _e=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&S>=0&&_e.indexOf(t[0][M][0])==-1){j=t[0][S];var Le=!0;switch(j[1][0]){case 4:Le=!1;case 0:C=Ki(" ",j[1][1]);break;case 5:Le=!1;case 1:C=Ki("\r",j[1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}l.push((Le?C:"")+l.pop()+(Le?"":C)),S=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function JI(t){if(t==null){var e=ct(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return zh(t);return zh(0)}function QI(t,e,r,n,i){var a=Gh(e,r,i),s=JI(t.v),l=ct(6),u=33;l.write_shift(2,u),l.write_shift(4,0);for(var f=ct(t.bf.length),p=0;p<t.bf.length;++p)f[p]=t.bf[p];var v=_s([a,s,l,f]);return v}function hg(t,e,r){var n=t.read_shift(4),i=ZI(t,n,r),a=t.read_shift(4),s=a>0?WI(t,a,i,r):null;return[i,s]}var eF=hg,fg=hg,tF=hg,rF=hg,nF={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},f8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},iF={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function aF(t){var e="of:="+t.replace(oy,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function sF(t){return t.replace(/\./,"!")}var D0=typeof Map<"u";function uy(t,e,r){var n=0,i=t.length;if(r){if(D0?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=D0?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(D0?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function dg(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(fu=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=R1(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=x_(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function d8(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function ch(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){l6(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===n)return i;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function oF(t,e,r){if(t&&t["!ref"]){var n=yi(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function lF(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+ba(t[r])+'"/>';return e+"</mergeCells>"}function cF(t,e,r,n,i){var a=!1,s={},l=null;if(n.bookType!=="xlsx"&&e.vbaraw){var u=e.SheetNames[r];try{e.Workbook&&(u=e.Workbook.Sheets[r].CodeName||u)}catch{}a=!0,s.codeName=np(Gn(u))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),l=(l||"")+Pt("outlinePr",null,f)}!a&&!l||(i[i.length]=Pt("sheetPr",l,s))}var uF=["objects","scenarios","selectLockedCells","selectUnlockedCells"],hF=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function fF(t){var e={sheet:1};return uF.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),hF.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=K6(t.password).toString(16).toUpperCase()),Pt("sheetProtection",null,e)}function dF(t){return d8(t),Pt("pageMargins",null,t)}function pF(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=Pt("col",null,dg(i,n)));return r[r.length]="</cols>",r.join("")}function mF(t,e,r,n){var i=typeof t.ref=="string"?t.ref:ba(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=rl(i);s.s.r==s.e.r&&(s.e.r=rl(e["!ref"]).e.r,i=ba(s));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Pt("autoFilter",null,{ref:i})}function gF(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Pt("sheetViews",Pt("sheetView",null,i),{})}function vF(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=bp[t.v];break;case"d":n&&n.cellDates?i=eo(t.v,-1).toISOString():(t=Lo(t),t.t="n",i=""+(t.v=Ao(eo(t.v)))),typeof t.z>"u"&&(t.z=Ji[14]);break;default:i=t.v;break}var l=ys("v",Gn(i)),u={r:e},f=ch(n.cellXfs,t,n);switch(f!==0&&(u.s=f),t.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=ys("v",""+uy(n.Strings,t.v,n.revStrings)),u.t="s";break}u.t="str";break}if(t.t!=a&&(t.t=a,t.v=s),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;l=Pt("f",Gn(t.f),p)+(t.v!=null?l:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(u.cm=1),Pt("c",l,u)}function _F(t,e,r,n){var i=[],a=[],s=yi(t["!ref"]),l="",u,f="",p=[],v=0,y=0,_=t["!rows"],T=Array.isArray(t),S={r:f},C,M=-1;for(y=s.s.c;y<=s.e.c;++y)p[y]=Us(y);for(v=s.s.r;v<=s.e.r;++v){for(a=[],f=xs(v),y=s.s.c;y<=s.e.c;++y){u=p[y]+f;var D=T?(t[v]||[])[y]:t[u];D!==void 0&&(l=vF(D,u,t,e))!=null&&a.push(l)}(a.length>0||_&&_[v])&&(S={r:f},_&&_[v]&&(C=_[v],C.hidden&&(S.hidden=1),M=-1,C.hpx?M=D1(C.hpx):C.hpt&&(M=C.hpt),M>-1&&(S.ht=M,S.customHeight=1),C.level&&(S.outlineLevel=C.level)),i[i.length]=Pt("row",a.join(""),S))}if(_)for(;v<_.length;++v)_&&_[v]&&(S={r:v+1},C=_[v],C.hidden&&(S.hidden=1),M=-1,C.hpx?M=D1(C.hpx):C.hpt&&(M=C.hpt),M>-1&&(S.ht=M,S.customHeight=1),C.level&&(S.outlineLevel=C.level),i[i.length]=Pt("row","",S));return i.join("")}function p8(t,e,r,n){var i=[Sa,Pt("worksheet",null,{xmlns:Sd[0],"xmlns:r":Ya.r})],a=r.SheetNames[t],s=0,l="",u=r.Sheets[a];u==null&&(u={});var f=u["!ref"]||"A1",p=yi(f);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),f=ba(p)}n||(n={}),u["!comments"]=[];var v=[];cF(u,r,t,e,i),i[i.length]=Pt("dimension",null,{ref:f}),i[i.length]=gF(u,e,t,r),e.sheetFormat&&(i[i.length]=Pt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(i[i.length]=pF(u,u["!cols"])),i[s=i.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(l=_F(u,e),l.length>0&&(i[i.length]=l)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),u["!protect"]&&(i[i.length]=fF(u["!protect"])),u["!autofilter"]!=null&&(i[i.length]=mF(u["!autofilter"],u,r,t)),u["!merges"]!=null&&u["!merges"].length>0&&(i[i.length]=lF(u["!merges"]));var y=-1,_,T=-1;return u["!links"].length>0&&(i[i.length]="<hyperlinks>",u["!links"].forEach(function(S){S[1].Target&&(_={ref:S[0]},S[1].Target.charAt(0)!="#"&&(T=Un(n,-1,Gn(S[1].Target).replace(/#.*$/,""),En.HLINK),_["r:id"]="rId"+T),(y=S[1].Target.indexOf("#"))>-1&&(_.location=Gn(S[1].Target.slice(y+1))),S[1].Tooltip&&(_.tooltip=Gn(S[1].Tooltip)),i[i.length]=Pt("hyperlink",null,_))}),i[i.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(i[i.length]=dF(u["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=ys("ignoredErrors",Pt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),v.length>0&&(T=Un(n,-1,"../drawings/drawing"+(t+1)+".xml",En.DRAW),i[i.length]=Pt("drawing",null,{"r:id":"rId"+T}),u["!drawing"]=v),u["!comments"].length>0&&(T=Un(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",En.VML),i[i.length]=Pt("legacyDrawing",null,{"r:id":"rId"+T}),u["!legacy"]=T),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function yF(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function xF(t,e,r){var n=ct(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;i.hpx?a=D1(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var l=0,u=n.l;n.l+=4;for(var f={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var v=-1,y=-1,_=p<<10;_<p+1<<10;++_){f.c=_;var T=Array.isArray(r)?(r[f.r]||[])[f.c]:r[Hn(f)];T&&(v<0&&(v=_),y=_)}v<0||(++l,n.write_shift(4,v),n.write_shift(4,y))}var S=n.l;return n.l=u,n.write_shift(4,l),n.l=S,n.length>n.l?n.slice(0,n.l):n}function wF(t,e,r,n){var i=xF(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&Et(t,0,i)}var bF=Qh,SF=Td;function EF(){}function TF(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=D9(t),r}function AF(t,e,r){r==null&&(r=ct(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return k1({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),C6(t,r),r.slice(0,r.l)}function LF(t){var e=Tl(t);return[e]}function NF(t,e,r){return r==null&&(r=ct(8)),Kh(e,r)}function CF(t){var e=Xh(t);return[e]}function MF(t,e,r){return r==null&&(r=ct(4)),Jh(e,r)}function kF(t){var e=Tl(t),r=t.read_shift(1);return[e,r,"b"]}function PF(t,e,r){return r==null&&(r=ct(9)),Kh(e,r),r.write_shift(1,t.v?1:0),r}function OF(t){var e=Xh(t),r=t.read_shift(1);return[e,r,"b"]}function RF(t,e,r){return r==null&&(r=ct(5)),Jh(e,r),r.write_shift(1,t.v?1:0),r}function DF(t){var e=Tl(t),r=t.read_shift(1);return[e,r,"e"]}function jF(t,e,r){return r==null&&(r=ct(9)),Kh(e,r),r.write_shift(1,t.v),r}function IF(t){var e=Xh(t),r=t.read_shift(1);return[e,r,"e"]}function FF(t,e,r){return r==null&&(r=ct(8)),Jh(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function BF(t){var e=Tl(t),r=t.read_shift(4);return[e,r,"s"]}function UF(t,e,r){return r==null&&(r=ct(12)),Kh(e,r),r.write_shift(4,e.v),r}function zF(t){var e=Xh(t),r=t.read_shift(4);return[e,r,"s"]}function GF(t,e,r){return r==null&&(r=ct(8)),Jh(e,r),r.write_shift(4,e.v),r}function HF(t){var e=Tl(t),r=Ad(t);return[e,r,"n"]}function qF(t,e,r){return r==null&&(r=ct(16)),Kh(e,r),zh(t.v,r),r}function VF(t){var e=Xh(t),r=Ad(t);return[e,r,"n"]}function $F(t,e,r){return r==null&&(r=ct(12)),Jh(e,r),zh(t.v,r),r}function WF(t){var e=Tl(t),r=M6(t);return[e,r,"n"]}function ZF(t,e,r){return r==null&&(r=ct(12)),Kh(e,r),k6(t.v,r),r}function YF(t){var e=Xh(t),r=M6(t);return[e,r,"n"]}function KF(t,e,r){return r==null&&(r=ct(8)),Jh(e,r),k6(t.v,r),r}function XF(t){var e=Tl(t),r=ry(t);return[e,r,"is"]}function JF(t){var e=Tl(t),r=zs(t);return[e,r,"str"]}function QF(t,e,r){return r==null&&(r=ct(12+4*t.v.length)),Kh(e,r),Xa(t.v,r),r.length>r.l?r.slice(0,r.l):r}function eB(t){var e=Xh(t),r=zs(t);return[e,r,"str"]}function tB(t,e,r){return r==null&&(r=ct(8+4*t.v.length)),Jh(e,r),Xa(t.v,r),r.length>r.l?r.slice(0,r.l):r}function rB(t,e,r){var n=t.l+e,i=Tl(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(r.cellFormula){t.l+=2;var l=fg(t,n-t.l,r);s[3]=_d(l,null,i,r.supbooks,r)}else t.l=n;return s}function nB(t,e,r){var n=t.l+e,i=Tl(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(r.cellFormula){t.l+=2;var l=fg(t,n-t.l,r);s[3]=_d(l,null,i,r.supbooks,r)}else t.l=n;return s}function iB(t,e,r){var n=t.l+e,i=Tl(t);i.r=r["!row"];var a=Ad(t),s=[i,a,"n"];if(r.cellFormula){t.l+=2;var l=fg(t,n-t.l,r);s[3]=_d(l,null,i,r.supbooks,r)}else t.l=n;return s}function aB(t,e,r){var n=t.l+e,i=Tl(t);i.r=r["!row"];var a=zs(t),s=[i,a,"str"];if(r.cellFormula){t.l+=2;var l=fg(t,n-t.l,r);s[3]=_d(l,null,i,r.supbooks,r)}else t.l=n;return s}var sB=Qh,oB=Td;function lB(t,e){return e==null&&(e=ct(4)),e.write_shift(4,t),e}function cB(t,e){var r=t.l+e,n=Qh(t),i=ny(t),a=zs(t),s=zs(t),l=zs(t);t.l=r;var u={rfx:n,relId:i,loc:a,display:l};return s&&(u.Tooltip=s),u}function uB(t,e){var r=ct(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Td({s:Ka(t[0]),e:Ka(t[0])},r),iy("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Xa(i||"",r),Xa(t[1].Tooltip||"",r),Xa("",r),r.slice(0,r.l)}function hB(){}function fB(t,e,r){var n=t.l+e,i=P6(t),a=t.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var l=eF(t,n-t.l,r);s[1]=l}else t.l=n;return s}function dB(t,e,r){var n=t.l+e,i=Qh(t),a=[i];if(r.cellFormula){var s=rF(t,n-t.l,r);a[1]=s,t.l=n}else t.l=n;return a}function pB(t,e,r){r==null&&(r=ct(18));var n=dg(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var m8=["left","right","top","bottom","header","footer"];function mB(t){var e={};return m8.forEach(function(r){e[r]=Ad(t)}),e}function gB(t,e){return e==null&&(e=ct(48)),d8(t),m8.forEach(function(r){zh(t[r],e)}),e}function vB(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function _B(t,e,r){r==null&&(r=ct(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function yB(t){var e=ct(24);return e.write_shift(4,4),e.write_shift(4,1),Td(t,e),e}function xB(t,e){return e==null&&(e=ct(66)),e.write_shift(2,t.password?K6(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function wB(){}function bB(){}function SB(t,e,r,n,i,a,s){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=Lo(e),e.z=e.z||Ji[14],e.v=Ao(eo(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var u={r,c:n};switch(u.s=ch(i.cellXfs,e,i),e.l&&a["!links"].push([Hn(u),e.l]),e.c&&a["!comments"].push([Hn(u),e.c]),e.t){case"s":case"str":return i.bookSST?(l=uy(i.Strings,e.v,i.revStrings),u.t="s",u.v=l,s?Et(t,18,GF(e,u)):Et(t,7,UF(e,u))):(u.t="str",s?Et(t,17,tB(e,u)):Et(t,6,QF(e,u))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?Et(t,13,KF(e,u)):Et(t,2,ZF(e,u)):s?Et(t,16,$F(e,u)):Et(t,5,qF(e,u)),!0;case"b":return u.t="b",s?Et(t,15,RF(e,u)):Et(t,4,PF(e,u)),!0;case"e":return u.t="e",s?Et(t,14,FF(e,u)):Et(t,3,jF(e,u)),!0}return s?Et(t,12,MF(e,u)):Et(t,1,NF(e,u)),!0}function EB(t,e,r,n){var i=yi(e["!ref"]||"A1"),a,s="",l=[];Et(t,145);var u=Array.isArray(e),f=i.e.r;e["!rows"]&&(f=Math.max(i.e.r,e["!rows"].length-1));for(var p=i.s.r;p<=f;++p){s=xs(p),wF(t,e,i,p);var v=!1;if(p<=i.e.r)for(var y=i.s.c;y<=i.e.c;++y){p===i.s.r&&(l[y]=Us(y)),a=l[y]+s;var _=u?(e[p]||[])[y]:e[a];if(!_){v=!1;continue}v=SB(t,_,p,y,n,e,v)}}Et(t,146)}function TB(t,e){!e||!e["!merges"]||(Et(t,177,lB(e["!merges"].length)),e["!merges"].forEach(function(r){Et(t,176,oB(r))}),Et(t,178))}function AB(t,e){!e||!e["!cols"]||(Et(t,390),e["!cols"].forEach(function(r,n){r&&Et(t,60,pB(n,r))}),Et(t,391))}function LB(t,e){!e||!e["!ref"]||(Et(t,648),Et(t,649,yB(yi(e["!ref"]))),Et(t,650))}function NB(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=Un(r,-1,n[1].Target.replace(/#.*$/,""),En.HLINK);Et(t,494,uB(n,i))}}),delete e["!links"]}function CB(t,e,r,n){if(e["!comments"].length>0){var i=Un(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",En.VML);Et(t,551,iy("rId"+i)),e["!legacy"]=i}}function MB(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:ba(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,l=rl(a);l.s.r==l.e.r&&(l.e.r=rl(e["!ref"]).e.r,a=ba(l));for(var u=0;u<s.length;++u){var f=s[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+a;break}}u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Et(t,161,Td(yi(a))),Et(t,162)}}function kB(t,e,r){Et(t,133),Et(t,137,_B(e,r)),Et(t,138),Et(t,134)}function PB(t,e){e["!protect"]&&Et(t,535,xB(e["!protect"]))}function OB(t,e,r,n){var i=To(),a=r.SheetNames[t],s=r.Sheets[a]||{},l=a;try{r&&r.Workbook&&(l=r.Workbook.Sheets[t].CodeName||l)}catch{}var u=yi(s["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Et(i,129),(r.vbaraw||s["!outline"])&&Et(i,147,AF(l,s["!outline"])),Et(i,148,SF(u)),kB(i,s,r.Workbook),AB(i,s),EB(i,s,t,e),PB(i,s),MB(i,s,r,t),TB(i,s),NB(i,s,n),s["!margins"]&&Et(i,476,gB(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&LB(i,s),CB(i,s,t,n),Et(i,130),i.end()}function RB(t,e){t.l+=10;var r=zs(t);return{name:r}}var DB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function jB(t){return!t.Workbook||!t.Workbook.WBProps?"false":d9(t.Workbook.WBProps.date1904)?"true":"false"}var IB="][*?/\\".split("");function g8(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return IB.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function FB(t,e,r){t.forEach(function(n,i){g8(n);for(var a=0;a<i;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=e&&e[i]&&e[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function BB(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];FB(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)oF(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function v8(t){var e=[Sa];e[e.length]=Pt("workbook",null,{xmlns:Sd[0],"xmlns:r":Ya.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(DB.forEach(function(l){t.Workbook.WBProps[l[0]]!=null&&t.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=t.Workbook.WBProps[l[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Pt("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:Gn(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=Pt("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(l){var u={name:l.Name};l.Comment&&(u.comment=l.Comment),l.Sheet!=null&&(u.localSheetId=""+l.Sheet),l.Hidden&&(u.hidden="1"),l.Ref&&(e[e.length]=Pt("definedName",Gn(l.Ref),u))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function UB(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=y_(t),r.name=zs(t),r}function zB(t,e){return e||(e=ct(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),iy(t.strRelID,e),Xa(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function GB(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?zs(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function HB(t,e){e||(e=ct(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),C6(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function qB(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=j9(t),s=tF(t,0,r),l=ny(t);t.l=n;var u={Name:a,Ptg:s};return i<268435455&&(u.Sheet=i),l&&(u.Comment=l),u}function VB(t,e){Et(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Et(t,156,zB(i))}Et(t,144)}function $B(t,e){e||(e=ct(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Xa("SheetJS",e),Xa(S1.version,e),Xa(S1.version,e),Xa("7262",e),e.length>e.l?e.slice(0,e.l):e}function WB(t,e){e||(e=ct(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function ZB(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(Et(t,135),Et(t,158,WB(i)),Et(t,136))}}function YB(t,e){var r=To();return Et(r,131),Et(r,128,$B()),Et(r,153,HB(t.Workbook&&t.Workbook.WBProps||null)),ZB(r,t),VB(r,t),Et(r,132),r.end()}function KB(t,e,r){return(e.slice(-4)===".bin"?YB:v8)(t)}function XB(t,e,r,n,i){return(e.slice(-4)===".bin"?OB:p8)(t,r,n,i)}function JB(t,e,r){return(e.slice(-4)===".bin"?gj:Q6)(t,r)}function QB(t,e,r){return(e.slice(-4)===".bin"?HD:Y6)(t,r)}function eU(t,e,r){return(e.slice(-4)===".bin"?Pj:i8)(t)}function tU(t){return(t.slice(-4)===".bin"?Ej:r8)()}function rU(t,e){var r=[];return t.Props&&r.push(J9(t.Props,e)),t.Custprops&&r.push(Q9(t.Props,t.Custprops)),r.join("")}function nU(){return""}function iU(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var a=[];a.push(Pt("NumberFormat",null,{"ss:Format":Gn(Ji[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};r.push(Pt("Style",a.join(""),s))}),Pt("Styles",r.join(""))}function _8(t){return Pt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+ly(t.Ref,{r:0,c:0})})}function aU(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(_8(i)))}return Pt("Names",r.join(""))}function sU(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var l=i[s];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||a.push(_8(l)))}return a.join("")}function oU(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Pt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Pt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Pt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Pt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(ys("ProtectContents","True")),t["!protect"].objects&&i.push(ys("ProtectObjects","True")),t["!protect"].scenarios&&i.push(ys("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(ys("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(ys("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":Pt("WorksheetOptions",i.join(""),{xmlns:Jo.x})}function lU(t){return t.map(function(e){var r=f9(e.t||""),n=Pt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Pt("Comment",n,{"ss:Author":e.a})}).join("")}function cU(t,e,r,n,i,a,s){if(!t||t.v==null&&t.f==null)return"";var l={};if(t.f&&(l["ss:Formula"]="="+Gn(ly(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var u=Ka(t.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(u.r==s.r?"":"["+(u.r-s.r)+"]")+"C"+(u.c==s.c?"":"["+(u.c-s.c)+"]")}if(t.l&&t.l.Target&&(l["ss:HRef"]=Gn(t.l.Target),t.l.Tooltip&&(l["x:HRefScreenTip"]=Gn(t.l.Tooltip))),r["!merges"])for(var f=r["!merges"],p=0;p!=f.length;++p)f[p].s.c!=s.c||f[p].s.r!=s.r||(f[p].e.c>f[p].s.c&&(l["ss:MergeAcross"]=f[p].e.c-f[p].s.c),f[p].e.r>f[p].s.r&&(l["ss:MergeDown"]=f[p].e.r-f[p].s.r));var v="",y="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":v="Number",y=String(t.v);break;case"b":v="Boolean",y=t.v?"1":"0";break;case"e":v="Error",y=bp[t.v];break;case"d":v="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Ji[14]);break;case"s":v="String",y=h9(t.v||"");break}var _=ch(n.cellXfs,t,n);l["ss:StyleID"]="s"+(21+_),l["ss:Index"]=s.c+1;var T=t.v!=null?y:"",S=t.t=="z"?"":'<Data ss:Type="'+v+'">'+T+"</Data>";return(t.c||[]).length>0&&(S+=lU(t.c)),Pt("Cell",S,l)}function uU(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=J6(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function hU(t,e,r,n){if(!t["!ref"])return"";var i=yi(t["!ref"]),a=t["!merges"]||[],s=0,l=[];t["!cols"]&&t["!cols"].forEach(function(C,M){sy(C);var D=!!C.width,j=dg(M,C),V={"ss:Index":M+1};D&&(V["ss:Width"]=O1(j.width)),C.hidden&&(V["ss:Hidden"]="1"),l.push(Pt("Column",null,V))});for(var u=Array.isArray(t),f=i.s.r;f<=i.e.r;++f){for(var p=[uU(f,(t["!rows"]||[])[f])],v=i.s.c;v<=i.e.c;++v){var y=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>v)&&!(a[s].s.r>f)&&!(a[s].e.c<v)&&!(a[s].e.r<f)){(a[s].s.c!=v||a[s].s.r!=f)&&(y=!0);break}if(!y){var _={r:f,c:v},T=Hn(_),S=u?(t[f]||[])[v]:t[T];p.push(cU(S,T,t,e,r,n,_))}}p.push("</Row>"),p.length>2&&l.push(p.join(""))}return l.join("")}function fU(t,e,r){var n=[],i=r.SheetNames[t],a=r.Sheets[i],s=a?sU(a,e,t,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?hU(a,e,t,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(oU(a,e,t,r)),n.join("")}function dU(t,e){e||(e={}),t.SSF||(t.SSF=Lo(Ji)),t.SSF&&(lg(),og(t.SSF),e.revssf=cg(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],ch(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(rU(t,e)),r.push(nU()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Pt("Worksheet",fU(n,e,t),{"ss:Name":Gn(t.SheetNames[n])}));return r[2]=iU(t,e),r[3]=aU(t),Sa+Pt("Workbook",r.join(""),{xmlns:Jo.ss,"xmlns:o":Jo.o,"xmlns:x":Jo.x,"xmlns:ss":Jo.ss,"xmlns:dt":Jo.dt,"xmlns:html":Jo.html})}var T2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function pU(t,e){var r=[],n=[],i=[],a=0,s,l=z4(e3,"n"),u=z4(t3,"n");if(t.Props)for(s=ws(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(l,s[a])?r:Object.prototype.hasOwnProperty.call(u,s[a])?n:i).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=ws(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(l,s[a])?r:Object.prototype.hasOwnProperty.call(u,s[a])?n:i).push([s[a],t.Custprops[s[a]]]);var f=[];for(a=0;a<i.length;++a)G6.indexOf(i[a][0])>-1||B6.indexOf(i[a][0])>-1||i[a][1]!=null&&f.push(i[a]);n.length&&Yn.utils.cfb_add(e,"/SummaryInformation",s3(n,T2.SI,u,t3)),(r.length||f.length)&&Yn.utils.cfb_add(e,"/DocumentSummaryInformation",s3(r,T2.DSI,l,e3,f.length?f:null,T2.UDI))}function mU(t,e){var r=e||{},n=Yn.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Yn.utils.cfb_add(n,i,y8(t,r)),r.biff==8&&(t.Props||t.Custprops)&&pU(t,n),r.biff==8&&t.vbaraw&&Oj(n,Yn.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var gU={0:{f:yF},1:{f:LF},2:{f:WF},3:{f:DF},4:{f:kF},5:{f:HF},6:{f:JF},7:{f:BF},8:{f:aB},9:{f:iB},10:{f:rB},11:{f:nB},12:{f:CF},13:{f:YF},14:{f:IF},15:{f:OF},16:{f:VF},17:{f:eB},18:{f:zF},19:{f:ry},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:qB},40:{},42:{},43:{f:JD},44:{f:KD},45:{f:tj},46:{f:nj},47:{f:rj},48:{},49:{f:C9},50:{},51:{f:yj},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:MD},62:{f:XF},63:{f:Tj},64:{f:wB},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Rc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:vB},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:TF},148:{f:bF,p:16},151:{f:hB},152:{},153:{f:GB},154:{},155:{},156:{f:UB},157:{},158:{},159:{T:1,f:UD},160:{T:-1},161:{T:1,f:Qh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:sB},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:vj},336:{T:-1},337:{f:bj,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:y_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ED},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:fB},427:{f:dB},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:mB},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:EF},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:cB},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:y_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Mj},633:{T:1},634:{T:-1},635:{T:1,f:Nj},636:{T:-1},637:{f:O9},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:RB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:bB},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ot(t,e,r,n){var i=e;if(!isNaN(i)){var a=n||(r||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&Q_(r)&&t.push(r)}}function vU(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return Ot(t,e,r,i);var a=e;if(!isNaN(a)){for(var s=r.parts||[],l=0,u=0,f=0;f+(s[l]||8224)<=8224;)f+=s[l]||8224,l++;var p=t.next(4);for(p.write_shift(2,a),p.write_shift(2,f),t.push(r.slice(u,u+f)),u+=f;u<i;){for(p=t.next(4),p.write_shift(2,60),f=0;f+(s[l]||8224)<=8224;)f+=s[l]||8224,l++;p.write_shift(2,f),t.push(r.slice(u,u+f)),u+=f}}}function Ep(t,e,r){return t||(t=ct(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function _U(t,e,r,n){var i=ct(9);return Ep(i,t,e),q6(r,n||"b",i),i}function yU(t,e,r){var n=ct(8+2*r.length);return Ep(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function xU(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Ao(eo(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Ot(t,2,RD(r,n,i)):Ot(t,3,OD(r,n,i));return;case"b":case"e":Ot(t,5,_U(r,n,e.v,e.t));return;case"s":case"str":Ot(t,4,yU(r,n,(e.v||"").slice(0,255)));return}Ot(t,1,Ep(null,r,n))}function wU(t,e,r,n){var i=Array.isArray(e),a=yi(e["!ref"]||"A1"),s,l="",u=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=ba(a)}for(var f=a.s.r;f<=a.e.r;++f){l=xs(f);for(var p=a.s.c;p<=a.e.c;++p){f===a.s.r&&(u[p]=Us(p)),s=u[p]+l;var v=i?(e[f]||[])[p]:e[s];v&&xU(t,v,f,p)}}}function bU(t,e){for(var r=e||{},n=To(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ot(n,r.biff==4?1033:r.biff==3?521:9,ay(t,16,r)),wU(n,t.Sheets[t.SheetNames[i]],i,r),Ot(n,10),n.end()}function SU(t,e,r){Ot(t,49,gD({sz:12,name:"Arial"},r))}function EU(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Ot(t,1054,yD(i,e[i],r))})}function TU(t,e){var r=ct(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ot(t,2151,r),r=ct(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),W6(yi(e["!ref"]||"A1"),r),r.write_shift(4,4),Ot(t,2152,r)}function AU(t,e){for(var r=0;r<16;++r)Ot(t,224,l3({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Ot(t,224,l3(n,0,e))})}function LU(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Ot(t,440,LD(n)),n[1].Tooltip&&Ot(t,2048,ND(n))}delete e["!links"]}function NU(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&Ot(t,125,kD(dg(i,n),i))})}}function CU(t,e,r,n,i){var a=16+ch(i.cellXfs,e,i);if(e.v==null&&!e.bf){Ot(t,513,Gh(r,n,a));return}if(e.bf)Ot(t,6,QI(e,r,n,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?Ao(eo(e.v)):e.v;Ot(t,515,SD(r,n,s,a));break;case"b":case"e":Ot(t,517,bD(r,n,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var l=uy(i.Strings,e.v,i.revStrings);Ot(t,253,vD(r,n,l,a))}else Ot(t,516,_D(r,n,(e.v||"").slice(0,255),a,i));break;default:Ot(t,513,Gh(r,n,a))}}function MU(t,e,r){var n=To(),i=r.SheetNames[t],a=r.Sheets[i]||{},s=(r||{}).Workbook||{},l=(s.Sheets||[])[t]||{},u=Array.isArray(a),f=e.biff==8,p,v="",y=[],_=yi(a["!ref"]||"A1"),T=f?65536:16384;if(_.e.c>255||_.e.r>=T){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");_.e.c=Math.min(_.e.c,255),_.e.r=Math.min(_.e.c,T-1)}Ot(n,2057,ay(r,16,e)),Ot(n,13,xl(1)),Ot(n,12,xl(100)),Ot(n,15,Js(!0)),Ot(n,17,Js(!1)),Ot(n,16,zh(.001)),Ot(n,95,Js(!0)),Ot(n,42,Js(!1)),Ot(n,43,Js(!1)),Ot(n,130,xl(1)),Ot(n,128,wD()),Ot(n,131,Js(!1)),Ot(n,132,Js(!1)),f&&NU(n,a["!cols"]),Ot(n,512,xD(_,e)),f&&(a["!links"]=[]);for(var S=_.s.r;S<=_.e.r;++S){v=xs(S);for(var C=_.s.c;C<=_.e.c;++C){S===_.s.r&&(y[C]=Us(C)),p=y[C]+v;var M=u?(a[S]||[])[C]:a[p];M&&(CU(n,M,S,C,e),f&&M.l&&a["!links"].push([p,M.l]))}}var D=l.CodeName||l.name||i;return f&&Ot(n,574,mD((s.Views||[])[0])),f&&(a["!merges"]||[]).length&&Ot(n,229,AD(a["!merges"])),f&&LU(n,a),Ot(n,442,$6(D)),f&&TU(n,a),Ot(n,10),n.end()}function kU(t,e,r){var n=To(),i=(t||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},l=r.biff==8,u=r.biff==5;if(Ot(n,2057,ay(t,5,r)),r.bookType=="xla"&&Ot(n,135),Ot(n,225,l?xl(1200):null),Ot(n,193,rD(2)),u&&Ot(n,191),u&&Ot(n,192),Ot(n,226),Ot(n,92,hD("SheetJS",r)),Ot(n,66,xl(l?1200:1252)),l&&Ot(n,353,xl(0)),l&&Ot(n,448),Ot(n,317,PD(t.SheetNames.length)),l&&t.vbaraw&&Ot(n,211),l&&t.vbaraw){var f=s.CodeName||"ThisWorkbook";Ot(n,442,$6(f))}Ot(n,156,xl(17)),Ot(n,25,Js(!1)),Ot(n,18,Js(!1)),Ot(n,19,xl(0)),l&&Ot(n,431,Js(!1)),l&&Ot(n,444,xl(0)),Ot(n,61,pD()),Ot(n,64,Js(!1)),Ot(n,141,xl(0)),Ot(n,34,Js(jB(t)=="true")),Ot(n,14,Js(!0)),l&&Ot(n,439,Js(!1)),Ot(n,218,xl(0)),SU(n,t,r),EU(n,t.SSF,r),AU(n,r),l&&Ot(n,352,Js(!1));var p=n.end(),v=To();l&&Ot(v,140,CD()),l&&r.Strings&&vU(v,252,dD(r.Strings)),Ot(v,10);var y=v.end(),_=To(),T=0,S=0;for(S=0;S<t.SheetNames.length;++S)T+=(l?12:11)+(l?2:1)*t.SheetNames[S].length;var C=p.length+T+y.length;for(S=0;S<t.SheetNames.length;++S){var M=a[S]||{};Ot(_,133,fD({pos:C,hs:M.Hidden||0,dt:0,name:t.SheetNames[S]},r)),C+=e[S].length}var D=_.end();if(T!=D.length)throw new Error("BS8 "+T+" != "+D.length);var j=[];return p.length&&j.push(p),D.length&&j.push(D),y.length&&j.push(y),_s(j)}function PU(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Lo(Ji)),t&&t.SSF&&(lg(),og(t.SSF),r.revssf=cg(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,hy(r),r.cellXfs=[],ch(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=MU(i,r,t);return n.unshift(kU(t,n,r)),_s(n)}function y8(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=rl(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return PU(t,e);case 4:case 3:case 2:return bU(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function OU(t,e,r,n){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var l=0,u=0,f=0;f<i.length;++f)if(!(i[f].s.r>r||i[f].s.c>s)&&!(i[f].e.r<r||i[f].e.c<s)){if(i[f].s.r<r||i[f].s.c<s){l=-1;break}l=i[f].e.r-i[f].s.r+1,u=i[f].e.c-i[f].s.c+1;break}if(!(l<0)){var p=Hn({r,c:s}),v=n.dense?(t[r]||[])[s]:t[p],y=v&&v.v!=null&&(v.h||u9(v.w||(pu(v),v.w)||""))||"",_={};l>1&&(_.rowspan=l),u>1&&(_.colspan=u),n.editable?y='<span contenteditable="true">'+y+"</span>":v&&(_["data-t"]=v&&v.t||"z",v.v!=null&&(_["data-v"]=v.v),v.z!=null&&(_["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+v.l.Target+'">'+y+"</a>")),_.id=(n.id||"sjs")+"-"+p,a.push(Pt("td",y,_))}}var T="<tr>";return T+a.join("")+"</tr>"}var RU='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',DU="</body></html>";function jU(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function x8(t,e){var r=e||{},n=r.header!=null?r.header:RU,i=r.footer!=null?r.footer:DU,a=[n],s=rl(t["!ref"]);r.dense=Array.isArray(t),a.push(jU(t,s,r));for(var l=s.s.r;l<=s.e.r;++l)a.push(OU(t,s,l,r));return a.push("</table>"+i),a.join("")}function w8(t,e,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Ka(n.origin):n.origin;i=s.r,a=s.c}var l=e.getElementsByTagName("tr"),u=Math.min(n.sheetRows||1e7,l.length),f={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var p=rl(t["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),i==-1&&(f.e.r=i=p.e.r+1)}var v=[],y=0,_=t["!rows"]||(t["!rows"]=[]),T=0,S=0,C=0,M=0,D=0,j=0;for(t["!cols"]||(t["!cols"]=[]);T<l.length&&S<u;++T){var V=l[T];if(m3(V)){if(n.display)continue;_[S]={hidden:!0}}var X=V.children;for(C=M=0;C<X.length;++C){var ce=X[C];if(!(n.display&&m3(ce))){var I=ce.hasAttribute("data-v")?ce.getAttribute("data-v"):ce.hasAttribute("v")?ce.getAttribute("v"):p9(ce.innerHTML),q=ce.getAttribute("data-z")||ce.getAttribute("z");for(y=0;y<v.length;++y){var F=v[y];F.s.c==M+a&&F.s.r<S+i&&S+i<=F.e.r&&(M=F.e.c+1-a,y=-1)}j=+ce.getAttribute("colspan")||1,((D=+ce.getAttribute("rowspan")||1)>1||j>1)&&v.push({s:{r:S+i,c:M+a},e:{r:S+i+(D||1)-1,c:M+a+(j||1)-1}});var J={t:"s",v:I},B=ce.getAttribute("data-t")||ce.getAttribute("t")||"";I!=null&&(I.length==0?J.t=B||"z":n.raw||I.trim().length==0||B=="s"||(I==="TRUE"?J={t:"b",v:!0}:I==="FALSE"?J={t:"b",v:!1}:isNaN(hu(I))?isNaN(rp(I).getDate())||(J={t:"d",v:eo(I)},n.cellDates||(J={t:"n",v:Ao(J.v)}),J.z=n.dateNF||Ji[14]):J={t:"n",v:hu(I)})),J.z===void 0&&q!=null&&(J.z=q);var Z="",ue=ce.getElementsByTagName("A");if(ue&&ue.length)for(var de=0;de<ue.length&&!(ue[de].hasAttribute("href")&&(Z=ue[de].getAttribute("href"),Z.charAt(0)!="#"));++de);Z&&Z.charAt(0)!="#"&&(J.l={Target:Z}),n.dense?(t[S+i]||(t[S+i]=[]),t[S+i][M+a]=J):t[Hn({c:M+a,r:S+i})]=J,f.e.c<M+a&&(f.e.c=M+a),M+=j}}++S}return v.length&&(t["!merges"]=(t["!merges"]||[]).concat(v)),f.e.r=Math.max(f.e.r,S-1+i),t["!ref"]=ba(f),S>=u&&(t["!fullref"]=ba((f.e.r=l.length-T+S-1+i,f))),t}function b8(t,e){var r=e||{},n=r.dense?[]:{};return w8(n,t,e)}function IU(t,e){return Yh(b8(t,e),e)}function m3(t){var e="",r=FU(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function FU(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var BU=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+ip({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Sa+e}})(),g3=(function(){var t=function(a){return Gn(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,s,l){var u=[];u.push('      <table:table table:name="'+Gn(s.SheetNames[l])+`" table:style-name="ta1">
`);var f=0,p=0,v=rl(a["!ref"]||"A1"),y=a["!merges"]||[],_=0,T=Array.isArray(a);if(a["!cols"])for(p=0;p<=v.e.c;++p)u.push("        <table:table-column"+(a["!cols"][p]?' table:style-name="co'+a["!cols"][p].ods+'"':"")+`></table:table-column>
`);var S="",C=a["!rows"]||[];for(f=0;f<v.s.r;++f)S=C[f]?' table:style-name="ro'+C[f].ods+'"':"",u.push("        <table:table-row"+S+`></table:table-row>
`);for(;f<=v.e.r;++f){for(S=C[f]?' table:style-name="ro'+C[f].ods+'"':"",u.push("        <table:table-row"+S+`>
`),p=0;p<v.s.c;++p)u.push(e);for(;p<=v.e.c;++p){var M=!1,D={},j="";for(_=0;_!=y.length;++_)if(!(y[_].s.c>p)&&!(y[_].s.r>f)&&!(y[_].e.c<p)&&!(y[_].e.r<f)){(y[_].s.c!=p||y[_].s.r!=f)&&(M=!0),D["table:number-columns-spanned"]=y[_].e.c-y[_].s.c+1,D["table:number-rows-spanned"]=y[_].e.r-y[_].s.r+1;break}if(M){u.push(r);continue}var V=Hn({r:f,c:p}),X=T?(a[f]||[])[p]:a[V];if(X&&X.f&&(D["table:formula"]=Gn(aF(X.f)),X.F&&X.F.slice(0,V.length)==V)){var ce=rl(X.F);D["table:number-matrix-columns-spanned"]=ce.e.c-ce.s.c+1,D["table:number-matrix-rows-spanned"]=ce.e.r-ce.s.r+1}if(!X){u.push(e);continue}switch(X.t){case"b":j=X.v?"TRUE":"FALSE",D["office:value-type"]="boolean",D["office:boolean-value"]=X.v?"true":"false";break;case"n":j=X.w||String(X.v||0),D["office:value-type"]="float",D["office:value"]=X.v||0;break;case"s":case"str":j=X.v==null?"":X.v,D["office:value-type"]="string";break;case"d":j=X.w||eo(X.v).toISOString(),D["office:value-type"]="date",D["office:date-value"]=eo(X.v).toISOString(),D["table:style-name"]="ce1";break;default:u.push(e);continue}var I=t(j);if(X.l&&X.l.Target){var q=X.l.Target;q=q.charAt(0)=="#"?"#"+sF(q.slice(1)):q,q.charAt(0)!="#"&&!q.match(/^\w+:/)&&(q="../"+q),I=Pt("text:a",I,{"xlink:href":q.replace(/&/g,"&amp;")})}u.push("          "+Pt("table:table-cell",Pt("text:p",I,{}),D)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var l=0;s.SheetNames.map(function(f){return s.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var p=0;p<f["!cols"].length;++p)if(f["!cols"][p]){var v=f["!cols"][p];if(v.width==null&&v.wpx==null&&v.wch==null)continue;sy(v),v.ods=l;var y=f["!cols"][p].wpx+"px";a.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),a.push(`  </style:style>
`),++l}}});var u=0;s.SheetNames.map(function(f){return s.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var p=0;p<f["!rows"].length;++p)if(f["!rows"][p]){f["!rows"][p].ods=u;var v=f["!rows"][p].hpx+"px";a.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+v+`"/>
`),a.push(`  </style:style>
`),++u}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,l){var u=[Sa],f=ip({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=ip({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(u.push("<office:document"+f+p+`>
`),u.push(I6().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),i(u,s),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var v=0;v!=s.SheetNames.length;++v)u.push(n(s.Sheets[s.SheetNames[v]],s,v));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),l.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function S8(t,e){if(e.bookType=="fods")return g3(t,e);var r=Y_(),n="",i=[],a=[];return n="mimetype",Wr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Wr(r,n,g3(t,e)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Wr(r,n,BU(t,e)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Wr(r,n,Sa+I6()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Wr(r,n,X9(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Wr(r,n,Y9(i)),r}function j1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function UU(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Zl(np(t))}function zU(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function ah(t){var e=t.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function GU(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=r>=0?0:128}function ap(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Bn(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function md(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Ba(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=ap(t,r),a=i&7;i=Math.floor(i/8);var s=0,l;if(i==0)break;switch(a){case 0:{for(var u=r[0];t[r[0]++]>=128;);l=t.slice(u,r[0])}break;case 5:s=4,l=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,l=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=ap(t,r),l=t.slice(r[0],r[0]+s),r[0]+=s;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var f={data:l,type:a};e[i]==null?e[i]=[f]:e[i].push(f)}return e}function ms(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Bn(n*8+i.type)),i.type==2&&e.push(Bn(i.data.length)),e.push(i.data))})}),ah(e)}function Hl(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=ap(t,n),a=Ba(t.slice(n[0],n[0]+i));n[0]+=i;var s={id:md(a[1][0].data),messages:[]};a[2].forEach(function(l){var u=Ba(l.data),f=md(u[3][0].data);s.messages.push({meta:u,data:t.slice(n[0],n[0]+f)}),n[0]+=f}),(e=a[3])!=null&&e[0]&&(s.merge=md(a[3][0].data)>>>0>0),r.push(s)}return r}function Bf(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Bn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Bn(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:Bn(s.data.length)}],n[2].push({data:ms(s.meta),type:2})});var a=ms(n);e.push(Bn(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),ah(e)}function HU(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=ap(e,r),i=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var l=s-59;s=e[r[0]],l>1&&(s|=e[r[0]+1]<<8),l>2&&(s|=e[r[0]+2]<<16),l>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=l}i.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var u=0,f=0;if(a==1?(f=(e[r[0]]>>2&7)+4,u=(e[r[0]++]&224)<<3,u|=e[r[0]++]):(f=(e[r[0]++]>>2)+1,a==2?(u=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(u=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[ah(i)],u==0)throw new Error("Invalid offset 0");if(u>i[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(i.push(i[0].slice(-u)),f-=u;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-u,-u+f))}}var p=ah(i);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function ql(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(HU(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return ah(e)}function Uf(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var a=Bn(n),s=a.length;e.push(a),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return ah(e)}function A2(t,e){var r=new Uint8Array(32),n=j1(r),i=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,GU(r,i,t.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,i)}function L2(t,e){var r=new Uint8Array(32),n=j1(r),i=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,i)}function qu(t){var e=Ba(t);return ap(e[1][0].data)}function qU(t,e,r){var n,i,a,s;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var l=((s=(a=t[8])==null?void 0:a[0])==null?void 0:s.data)&&md(t[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var u=0,f=j1(t[7][0].data),p=0,v=[],y=j1(t[4][0].data),_=0,T=[],S=0;S<e.length;++S){if(e[S]==null){f.setUint16(S*2,65535,!0),y.setUint16(S*2,65535);continue}f.setUint16(S*2,p,!0),y.setUint16(S*2,_,!0);var C,M;switch(typeof e[S]){case"string":C=A2({t:"s",v:e[S]},r),M=L2({t:"s",v:e[S]},r);break;case"number":C=A2({t:"n",v:e[S]},r),M=L2({t:"n",v:e[S]},r);break;case"boolean":C=A2({t:"b",v:e[S]},r),M=L2({t:"b",v:e[S]},r);break;default:throw new Error("Unsupported value "+e[S])}v.push(C),p+=C.length,T.push(M),_+=M.length,++u}for(t[2][0].data=Bn(u);S<t[7][0].data.length/2;++S)f.setUint16(S*2,65535,!0),y.setUint16(S*2,65535,!0);return t[6][0].data=ah(v),t[3][0].data=ah(T),u}function VU(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=rl(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ba(n)));var a=I1(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(G){return G.forEach(function(H){typeof H=="string"&&s.push(H)})});var l={},u=[],f=Yn.read(e.numbers,{type:"base64"});f.FileIndex.map(function(G,H){return[G,f.FullPaths[H]]}).forEach(function(G){var H=G[0],Y=G[1];if(H.type==2&&H.name.match(/\.iwa/)){var se=H.content,Ae=ql(se),Oe=Hl(Ae);Oe.forEach(function(Re){u.push(Re.id),l[Re.id]={deps:[],location:Y,type:md(Re.messages[0].meta[1][0].data)}})}}),u.sort(function(G,H){return G-H});var p=u.filter(function(G){return G>1}).map(function(G){return[G,Bn(G)]});f.FileIndex.map(function(G,H){return[G,f.FullPaths[H]]}).forEach(function(G){var H=G[0];if(G[1],!!H.name.match(/\.iwa/)){var Y=Hl(ql(H.content));Y.forEach(function(se){se.messages.forEach(function(Ae){p.forEach(function(Oe){se.messages.some(function(Re){return md(Re.meta[1][0].data)!=11006&&zU(Re.data,Oe[1])})&&l[Oe[0]].deps.push(se.id)})})})}});for(var v=Yn.find(f,l[1].location),y=Hl(ql(v.content)),_,T=0;T<y.length;++T){var S=y[T];S.id==1&&(_=S)}var C=qu(Ba(_.messages[0].data)[1][0].data);for(v=Yn.find(f,l[C].location),y=Hl(ql(v.content)),T=0;T<y.length;++T)S=y[T],S.id==C&&(_=S);for(C=qu(Ba(_.messages[0].data)[2][0].data),v=Yn.find(f,l[C].location),y=Hl(ql(v.content)),T=0;T<y.length;++T)S=y[T],S.id==C&&(_=S);for(C=qu(Ba(_.messages[0].data)[2][0].data),v=Yn.find(f,l[C].location),y=Hl(ql(v.content)),T=0;T<y.length;++T)S=y[T],S.id==C&&(_=S);var M=Ba(_.messages[0].data);{M[6][0].data=Bn(n.e.r+1),M[7][0].data=Bn(n.e.c+1);var D=qu(M[46][0].data),j=Yn.find(f,l[D].location),V=Hl(ql(j.content));{for(var X=0;X<V.length&&V[X].id!=D;++X);if(V[X].id!=D)throw"Bad ColumnRowUIDMapArchive";var ce=Ba(V[X].messages[0].data);ce[1]=[],ce[2]=[],ce[3]=[];for(var I=0;I<=n.e.c;++I){var q=[];q[1]=q[2]=[{type:0,data:Bn(I+420690)}],ce[1].push({type:2,data:ms(q)}),ce[2].push({type:0,data:Bn(I)}),ce[3].push({type:0,data:Bn(I)})}ce[4]=[],ce[5]=[],ce[6]=[];for(var F=0;F<=n.e.r;++F)q=[],q[1]=q[2]=[{type:0,data:Bn(F+726270)}],ce[4].push({type:2,data:ms(q)}),ce[5].push({type:0,data:Bn(F)}),ce[6].push({type:0,data:Bn(F)});V[X].messages[0].data=ms(ce)}j.content=Uf(Bf(V)),j.size=j.content.length,delete M[46];var J=Ba(M[4][0].data);{J[7][0].data=Bn(n.e.r+1);var B=Ba(J[1][0].data),Z=qu(B[2][0].data);j=Yn.find(f,l[Z].location),V=Hl(ql(j.content));{if(V[0].id!=Z)throw"Bad HeaderStorageBucket";var ue=Ba(V[0].messages[0].data);for(F=0;F<a.length;++F){var de=Ba(ue[2][0].data);de[1][0].data=Bn(F),de[4][0].data=Bn(a[F].length),ue[2][F]={type:ue[2][0].type,data:ms(de)}}V[0].messages[0].data=ms(ue)}j.content=Uf(Bf(V)),j.size=j.content.length;var xe=qu(J[2][0].data);j=Yn.find(f,l[xe].location),V=Hl(ql(j.content));{if(V[0].id!=xe)throw"Bad HeaderStorageBucket";for(ue=Ba(V[0].messages[0].data),I=0;I<=n.e.c;++I)de=Ba(ue[2][0].data),de[1][0].data=Bn(I),de[4][0].data=Bn(n.e.r+1),ue[2][I]={type:ue[2][0].type,data:ms(de)};V[0].messages[0].data=ms(ue)}j.content=Uf(Bf(V)),j.size=j.content.length;var oe=qu(J[4][0].data);(function(){for(var G=Yn.find(f,l[oe].location),H=Hl(ql(G.content)),Y,se=0;se<H.length;++se){var Ae=H[se];Ae.id==oe&&(Y=Ae)}var Oe=Ba(Y.messages[0].data);{Oe[3]=[];var Re=[];s.forEach(function(it,Tt){Re[1]=[{type:0,data:Bn(Tt)}],Re[2]=[{type:0,data:Bn(1)}],Re[3]=[{type:2,data:UU(it)}],Oe[3].push({type:2,data:ms(Re)})})}Y.messages[0].data=ms(Oe);var Ie=Bf(H),ot=Uf(Ie);G.content=ot,G.size=G.content.length})();var be=Ba(J[3][0].data);{var _e=be[1][0];delete be[2];var Le=Ba(_e.data);{var Ne=qu(Le[2][0].data);(function(){for(var G=Yn.find(f,l[Ne].location),H=Hl(ql(G.content)),Y,se=0;se<H.length;++se){var Ae=H[se];Ae.id==Ne&&(Y=Ae)}var Oe=Ba(Y.messages[0].data);{delete Oe[6],delete be[7];var Re=new Uint8Array(Oe[5][0].data);Oe[5]=[];for(var Ie=0,ot=0;ot<=n.e.r;++ot){var it=Ba(Re);Ie+=qU(it,a[ot],s),it[1][0].data=Bn(ot),Oe[5].push({data:ms(it),type:2})}Oe[1]=[{type:0,data:Bn(n.e.c+1)}],Oe[2]=[{type:0,data:Bn(n.e.r+1)}],Oe[3]=[{type:0,data:Bn(Ie)}],Oe[4]=[{type:0,data:Bn(n.e.r+1)}]}Y.messages[0].data=ms(Oe);var Tt=Bf(H),Nt=Uf(Tt);G.content=Nt,G.size=G.content.length})()}_e.data=ms(Le)}J[3][0].data=ms(be)}M[4][0].data=ms(J)}_.messages[0].data=ms(M);var ee=Bf(y),O=Uf(ee);return v.content=O,v.size=v.content.length,f}function $U(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function hy(t){$U([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function WU(t,e){return e.bookType=="ods"?S8(t,e):e.bookType=="numbers"?VU(t,e):e.bookType=="xlsb"?ZU(t,e):YU(t,e)}function ZU(t,e){ed=1024,t&&!t.SSF&&(t.SSF=Lo(Ji)),t&&t.SSF&&(lg(),og(t.SSF),e.revssf=cg(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,D0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=a8.indexOf(e.bookType)>-1,i=R6();hy(e=e||{});var a=Y_(),s="",l=0;if(e.cellXfs=[],ch(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Wr(a,s,F6(t.Props,e)),i.coreprops.push(s),Un(e.rels,2,s,En.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(t.SheetNames[f]);t.Props.SheetNames=u}for(t.Props.Worksheets=t.Props.SheetNames.length,Wr(a,s,U6(t.Props)),i.extprops.push(s),Un(e.rels,3,s,En.EXT_PROPS),t.Custprops!==t.Props&&ws(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Wr(a,s,z6(t.Custprops)),i.custprops.push(s),Un(e.rels,4,s,En.CUST_PROPS)),l=1;l<=t.SheetNames.length;++l){var p={"!id":{}},v=t.Sheets[t.SheetNames[l-1]],y=(v||{})["!type"]||"sheet";if(s="xl/worksheets/sheet"+l+"."+r,Wr(a,s,XB(l-1,s,e,t,p)),i.sheets.push(s),Un(e.wbrels,-1,"worksheets/sheet"+l+"."+r,En.WS[0]),v){var _=v["!comments"],T=!1,S="";_&&_.length>0&&(S="xl/comments"+l+"."+r,Wr(a,S,eU(_,S)),i.comments.push(S),Un(p,-1,"../comments"+l+"."+r,En.CMNT),T=!0),v["!legacy"]&&T&&Wr(a,"xl/drawings/vmlDrawing"+l+".vml",n8(l,v["!comments"])),delete v["!comments"],delete v["!legacy"]}p["!id"].rId1&&Wr(a,j6(s),dd(p))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,Wr(a,s,QB(e.Strings,s,e)),i.strs.push(s),Un(e.wbrels,-1,"sharedStrings."+r,En.SST)),s="xl/workbook."+r,Wr(a,s,KB(t,s)),i.workbooks.push(s),Un(e.rels,1,s,En.WB),s="xl/theme/theme1.xml",Wr(a,s,t8(t.Themes,e)),i.themes.push(s),Un(e.wbrels,-1,"theme/theme1.xml",En.THEME),s="xl/styles."+r,Wr(a,s,JB(t,s,e)),i.styles.push(s),Un(e.wbrels,-1,"styles."+r,En.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",Wr(a,s,t.vbaraw),i.vba.push(s),Un(e.wbrels,-1,"vbaProject.bin",En.VBA)),s="xl/metadata."+r,Wr(a,s,tU(s)),i.metadata.push(s),Un(e.wbrels,-1,"metadata."+r,En.XLMETA),Wr(a,"[Content_Types].xml",D6(i,e)),Wr(a,"_rels/.rels",dd(e.rels)),Wr(a,"xl/_rels/workbook."+r+".rels",dd(e.wbrels)),delete e.revssf,delete e.ssf,a}function YU(t,e){ed=1024,t&&!t.SSF&&(t.SSF=Lo(Ji)),t&&t.SSF&&(lg(),og(t.SSF),e.revssf=cg(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,D0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=a8.indexOf(e.bookType)>-1,i=R6();hy(e=e||{});var a=Y_(),s="",l=0;if(e.cellXfs=[],ch(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Wr(a,s,F6(t.Props,e)),i.coreprops.push(s),Un(e.rels,2,s,En.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(t.SheetNames[f]);t.Props.SheetNames=u}t.Props.Worksheets=t.Props.SheetNames.length,Wr(a,s,U6(t.Props)),i.extprops.push(s),Un(e.rels,3,s,En.EXT_PROPS),t.Custprops!==t.Props&&ws(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Wr(a,s,z6(t.Custprops)),i.custprops.push(s),Un(e.rels,4,s,En.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,l=1;l<=t.SheetNames.length;++l){var v={"!id":{}},y=t.Sheets[t.SheetNames[l-1]],_=(y||{})["!type"]||"sheet";if(s="xl/worksheets/sheet"+l+"."+r,Wr(a,s,p8(l-1,e,t,v)),i.sheets.push(s),Un(e.wbrels,-1,"worksheets/sheet"+l+"."+r,En.WS[0]),y){var T=y["!comments"],S=!1,C="";if(T&&T.length>0){var M=!1;T.forEach(function(D){D[1].forEach(function(j){j.T==!0&&(M=!0)})}),M&&(C="xl/threadedComments/threadedComment"+l+"."+r,Wr(a,C,Aj(T,p,e)),i.threadedcomments.push(C),Un(v,-1,"../threadedComments/threadedComment"+l+"."+r,En.TCMNT)),C="xl/comments"+l+"."+r,Wr(a,C,i8(T)),i.comments.push(C),Un(v,-1,"../comments"+l+"."+r,En.CMNT),S=!0}y["!legacy"]&&S&&Wr(a,"xl/drawings/vmlDrawing"+l+".vml",n8(l,y["!comments"])),delete y["!comments"],delete y["!legacy"]}v["!id"].rId1&&Wr(a,j6(s),dd(v))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,Wr(a,s,Y6(e.Strings,e)),i.strs.push(s),Un(e.wbrels,-1,"sharedStrings."+r,En.SST)),s="xl/workbook."+r,Wr(a,s,v8(t)),i.workbooks.push(s),Un(e.rels,1,s,En.WB),s="xl/theme/theme1.xml",Wr(a,s,t8(t.Themes,e)),i.themes.push(s),Un(e.wbrels,-1,"theme/theme1.xml",En.THEME),s="xl/styles."+r,Wr(a,s,Q6(t,e)),i.styles.push(s),Un(e.wbrels,-1,"styles."+r,En.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",Wr(a,s,t.vbaraw),i.vba.push(s),Un(e.wbrels,-1,"vbaProject.bin",En.VBA)),s="xl/metadata."+r,Wr(a,s,r8()),i.metadata.push(s),Un(e.wbrels,-1,"metadata."+r,En.XLMETA),p.length>1&&(s="xl/persons/person.xml",Wr(a,s,Lj(p)),i.people.push(s),Un(e.wbrels,-1,"persons/person.xml",En.PEOPLE)),Wr(a,"[Content_Types].xml",D6(i,e)),Wr(a,"_rels/.rels",dd(e.rels)),Wr(a,"xl/_rels/workbook."+r+".rels",dd(e.wbrels)),delete e.revssf,delete e.ssf,a}function KU(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=du(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function E8(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return xp(e.file,Yn.write(t,{type:Nn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Yn.write(t,e)}function XU(t,e){var r=Lo(e||{}),n=WU(t,r);return JU(n,r)}function JU(t,e){var r={},n=Nn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Yn.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(sg(i))}return e.password&&typeof encrypt_agile<"u"?E8(encrypt_agile(i,e.password),e):e.type==="file"?xp(e.file,i):e.type=="string"?k0(i):i}function QU(t,e){var r=e||{},n=mU(t,r);return E8(n,r)}function Cc(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return tp(np(n));case"binary":return np(n);case"string":return t;case"file":return xp(e.file,n,"utf8");case"buffer":return Nn?vu(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Cc(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function ez(t,e){switch(e.type){case"base64":return tp(t);case"binary":return t;case"string":return t;case"file":return xp(e.file,t,"binary");case"buffer":return Nn?vu(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function $m(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?tp(r):e.type=="string"?k0(r):r;case"file":return xp(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function T8(t,e){NR(),BB(t);var r=Lo(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=T8(t,r);return r.type="array",sg(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Cc(dU(t,r),r);case"slk":case"sylk":return Cc(jD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Cc(x8(t.Sheets[t.SheetNames[i]],r),r);case"txt":return ez(A8(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Cc(fy(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Cc(ID.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return $m(DD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Cc(FD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Cc(VD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Cc(Z6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Cc(S8(t,r),r);case"wk1":return $m(c3.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return $m(c3.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),$m(y8(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),QU(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return XU(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function tz(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function rz(t,e,r){var n={};return n.type="file",n.file=e,tz(n),T8(t,n)}function nz(t,e,r,n,i,a,s,l){var u=xs(r),f=l.defval,p=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),v=!0,y=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!s||t[r])for(var _=e.s.c;_<=e.e.c;++_){var T=s?t[r][_]:t[n[_]+u];if(T===void 0||T.t===void 0){if(f===void 0)continue;a[_]!=null&&(y[a[_]]=f);continue}var S=T.v;switch(T.t){case"z":if(S==null)break;continue;case"e":S=S==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(a[_]!=null){if(S==null)if(T.t=="e"&&S===null)y[a[_]]=null;else if(f!==void 0)y[a[_]]=f;else if(p&&S===null)y[a[_]]=null;else continue;else y[a[_]]=p&&(T.t!=="n"||T.t==="n"&&l.rawNumbers!==!1)?S:pu(T,S,l);S!=null&&(v=!1)}}return{row:y,isempty:v}}function I1(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,l="",u={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},p=f.range!=null?f.range:t["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof p){case"string":u=yi(p);break;case"number":u=yi(t["!ref"]),u.s.r=p;break;default:u=p}n>0&&(i=0);var v=xs(u.s.r),y=[],_=[],T=0,S=0,C=Array.isArray(t),M=u.s.r,D=0,j={};C&&!t[M]&&(t[M]=[]);var V=f.skipHidden&&t["!cols"]||[],X=f.skipHidden&&t["!rows"]||[];for(D=u.s.c;D<=u.e.c;++D)if(!(V[D]||{}).hidden)switch(y[D]=Us(D),r=C?t[M][D]:t[y[D]+v],n){case 1:a[D]=D-u.s.c;break;case 2:a[D]=y[D];break;case 3:a[D]=f.header[D-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=s=pu(r,null,f),S=j[s]||0,!S)j[s]=1;else{do l=s+"_"+S++;while(j[l]);j[s]=S,j[l]=1}a[D]=l}for(M=u.s.r+i;M<=u.e.r;++M)if(!(X[M]||{}).hidden){var ce=nz(t,u,M,y,n,a,C,f);(ce.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(_[T++]=ce.row)}return _.length=T,_}var v3=/"/g;function iz(t,e,r,n,i,a,s,l){for(var u=!0,f=[],p="",v=xs(r),y=e.s.c;y<=e.e.c;++y)if(n[y]){var _=l.dense?(t[r]||[])[y]:t[n[y]+v];if(_==null)p="";else if(_.v!=null){u=!1,p=""+(l.rawNumbers&&_.t=="n"?_.v:pu(_,null,l));for(var T=0,S=0;T!==p.length;++T)if((S=p.charCodeAt(T))===i||S===a||S===34||l.forceQuotes){p='"'+p.replace(v3,'""')+'"';break}p=="ID"&&(p='"ID"')}else _.f!=null&&!_.F?(u=!1,p="="+_.f,p.indexOf(",")>=0&&(p='"'+p.replace(v3,'""')+'"')):p="";f.push(p)}return l.blankrows===!1&&u?null:f.join(s)}function fy(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=yi(t["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,u=l.charCodeAt(0),f=new RegExp((a=="|"?"\\|":a)+"+$"),p="",v=[];n.dense=Array.isArray(t);for(var y=n.skipHidden&&t["!cols"]||[],_=n.skipHidden&&t["!rows"]||[],T=i.s.c;T<=i.e.c;++T)(y[T]||{}).hidden||(v[T]=Us(T));for(var S=0,C=i.s.r;C<=i.e.r;++C)(_[C]||{}).hidden||(p=iz(t,i,C,v,s,u,a,n),p!=null&&(n.strip&&(p=p.replace(f,"")),(p||n.blankrows!==!1)&&r.push((S++?l:"")+p)));return delete n.dense,r.join("")}function A8(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=fy(t,e);return r}function az(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=yi(t["!ref"]),a="",s=[],l,u=[],f=Array.isArray(t);for(l=i.s.c;l<=i.e.c;++l)s[l]=Us(l);for(var p=i.s.r;p<=i.e.r;++p)for(a=xs(p),l=i.s.c;l<=i.e.c;++l)if(e=s[l]+a,r=f?(t[p]||[])[l]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}u[u.length]=e+"="+n}return u}function L8(t,e,r){var n=r||{},i=+!n.skipHeader,a=t||{},s=0,l=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var u=typeof n.origin=="string"?Ka(n.origin):n.origin;s=u.r,l=u.c}var f,p={s:{c:0,r:0},e:{c:l,r:s+e.length-1+i}};if(a["!ref"]){var v=yi(a["!ref"]);p.e.c=Math.max(p.e.c,v.e.c),p.e.r=Math.max(p.e.r,v.e.r),s==-1&&(s=v.e.r+1,p.e.r=s+e.length-1+i)}else s==-1&&(s=0,p.e.r=e.length-1+i);var y=n.header||[],_=0;e.forEach(function(S,C){ws(S).forEach(function(M){(_=y.indexOf(M))==-1&&(y[_=y.length]=M);var D=S[M],j="z",V="",X=Hn({c:l+_,r:s+C+i});f=sp(a,X),D&&typeof D=="object"&&!(D instanceof Date)?a[X]=D:(typeof D=="number"?j="n":typeof D=="boolean"?j="b":typeof D=="string"?j="s":D instanceof Date?(j="d",n.cellDates||(j="n",D=Ao(D)),V=n.dateNF||Ji[14]):D===null&&n.nullError&&(j="e",D=0),f?(f.t=j,f.v=D,delete f.w,delete f.R,V&&(f.z=V)):a[X]=f={t:j,v:D},V&&(f.z=V))})}),p.e.c=Math.max(p.e.c,l+y.length-1);var T=xs(s);if(i)for(_=0;_<y.length;++_)a[Us(_+l)+T]={t:"s",v:y[_]};return a["!ref"]=ba(p),a}function sz(t,e){return L8(null,t,e)}function sp(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Ka(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?sp(t,Hn(e)):sp(t,Hn({r:e,c:r||0}))}function oz(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function lz(){return{SheetNames:[],Sheets:{}}}function cz(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=s+i)!=-1;++i);}if(g8(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function uz(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=oz(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function hz(t,e){return t.z=e,t}function N8(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function fz(t,e,r){return N8(t,"#"+e,r)}function dz(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function pz(t,e,r,n){for(var i=typeof e!="string"?e:yi(e),a=typeof e=="string"?e:ba(e),s=i.s.r;s<=i.e.r;++s)for(var l=i.s.c;l<=i.e.c;++l){var u=sp(t,s,l);u.t="n",u.F=a,delete u.v,s==i.s.r&&l==i.s.c&&(u.f=r,n&&(u.D=!0))}return t}var Ph={encode_col:Us,encode_row:xs,encode_cell:Hn,encode_range:ba,decode_col:ty,decode_row:ey,split_cell:N9,decode_cell:Ka,decode_range:rl,format_cell:pu,sheet_add_aoa:N6,sheet_add_json:L8,sheet_add_dom:w8,aoa_to_sheet:Ed,json_to_sheet:sz,table_to_sheet:b8,table_to_book:IU,sheet_to_csv:fy,sheet_to_txt:A8,sheet_to_json:I1,sheet_to_html:x8,sheet_to_formulae:az,sheet_to_row_object_array:I1,sheet_get_cell:sp,book_new:lz,book_append_sheet:cz,book_set_sheet_visibility:uz,cell_set_number_format:hz,cell_set_hyperlink:N8,cell_set_internal_link:fz,cell_add_comment:dz,sheet_set_array_formula:pz,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const mz=(t,e=`Survey_Export_${Date.now()}`)=>{if(!t||t.length===0){alert("No data to export");return}const r=t.map(u=>({"Building ID":u.building_id||"","Survey ID":u.id||"","Floor Number":u.floor_number||"","Total Floors":u.total_floors||"","Unit Identifier":u.unit_identifier||"","Total Area (m)":u.area_sqm||"",Status:u.status||"","Owner Name":u.owner_name||"","Phone Number":u.phone_number||"","Aadhaar Number":u.aadhaar_number||"","Email Address":u.email_address||"","Family Members Count":u.family_members_count||"","Occupier Name":u.occupier_name||"","Ownership Type":u.ownership_type||"","7/12 Survey/Gat No":u.survey_gat_no||"","City Survey No":u.city_survey_no||"","Layout Name/Plot No":u.layout_name_plot_no||"","Building Name":u.building_name||"","Address with Floor":u.address_with_floor||"","Nearest Road Type":u.nearest_road_type||"","Pin Code":u.pin_code||"","Property Type":u.property_type||"","Usage Type":u.usage_type||"","Usage Sub-Type":u.usage_sub_type||"","Building Permission":u.building_permission?"Yes":"No","Permission No":u.permission_no||"","Permission Date":u.permission_date||"","Occupancy Certificate":u.occupancy_certificate?"Yes":"No","Construction Type":u.construction_type||"","Year of Construction":u.year_of_construction||"","Construction Age (years)":u.year_of_construction?new Date().getFullYear()-u.year_of_construction:"","Water Connection":u.water_connection?"Yes":"No","Water Connection Type":u.water_connection_type||"","Water Authorization":u.water_authorized||"","Water Meter No":u.water_meter_no||"","Water Consumer No":u.water_consumer_no||"","Water Connection Date":u.water_connection_date||"","Pipe Size":u.pipe_size||"","Has Toilet":u.has_toilet?"Yes":"No","Toilet Count":u.toilet_count||"","Septic Tank":u.has_septic_tank?"Yes":"No","Sewerage Connection":u.has_sewerage?"Yes":"No","Electricity Connection":u.electricity_connection?"Yes":"No","Solar Panels":u.has_solar?"Yes":"No","Rain Water Harvesting":u.has_rainwater_harvesting?"Yes":"No","Property Tax Paid":u.tax_paid?"Yes":"No","ULB Name":u.ulb_name||"",District:u.district||"",Town:u.town||"","Zone No":u.zone_no||"","New Ward No":u.new_ward_no||"","Old Ward No":u.old_ward_no||"","Old Property No":u.old_property_no||"","New Property No":u.new_property_no||"","Total Carpet Area (m)":u.total_carpet_area||"","Exempted Area (m)":u.exempted_area||"","Assessable Area (m)":u.assessable_area||"","Current Tax Details":u.current_tax_details||"","Owner Photo URL":u.owner_photo_url||"","Building Photo 1 URL":u.building_photo_url||"","Building Photo 2 URL":u.building_photo_url_2||"","Created At":new Date(u.created_at).toLocaleString(),"Updated At":new Date(u.updated_at).toLocaleString(),"Surveyor ID":u.user_id||""})),n=Ph.json_to_sheet(r),i=[{wch:15},{wch:12},{wch:10},{wch:12},{wch:15},{wch:12},{wch:10},{wch:25},{wch:15},{wch:15},{wch:25},{wch:15},{wch:25},{wch:15}];n["!cols"]=i;const a=Ph.book_new();Ph.book_append_sheet(a,n,"Survey Data");const s=[{Metric:"Total Surveys",Value:t.length},{Metric:"Export Date",Value:new Date().toLocaleString()},{Metric:"Total Area (m)",Value:t.reduce((u,f)=>u+(parseFloat(f.area_sqm)||0),0).toFixed(2)},{Metric:"Properties with Water Connection",Value:t.filter(u=>u.water_connection).length},{Metric:"Properties with Electricity",Value:t.filter(u=>u.electricity_connection).length},{Metric:"Properties with Tax Paid",Value:t.filter(u=>u.tax_paid).length}],l=Ph.json_to_sheet(s);return l["!cols"]=[{wch:40},{wch:20}],Ph.book_append_sheet(a,l,"Summary"),rz(a,`${e}.xlsx`),!0},gz=(t,e=`Survey_Export_${Date.now()}`)=>{if(!t||t.length===0){alert("No data to export");return}const r=t.map(u=>({"Building ID":u.building_id||"","Survey ID":u.id||"","Floor Number":u.floor_number||"","Total Floors":u.total_floors||"","Owner Name":u.owner_name||"","Phone Number":u.phone_number||"","Aadhaar Number":u.aadhaar_number||"","Email Address":u.email_address||"","Property Type":u.property_type||"","Construction Type":u.construction_type||"","Year of Construction":u.year_of_construction||"","Total Area (m)":u.area_sqm||"","Water Connection":u.water_connection?"Yes":"No","Electricity Connection":u.electricity_connection?"Yes":"No","Tax Paid":u.tax_paid?"Yes":"No",District:u.district||"",Town:u.town||"","Ward No":u.new_ward_no||"","Property No":u.new_property_no||"","Created At":new Date(u.created_at).toLocaleString()})),n=Ph.json_to_sheet(r),i=Ph.sheet_to_csv(n),a=new Blob([i],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),l=URL.createObjectURL(a);return s.setAttribute("href",l),s.setAttribute("download",`${e}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),!0},vz=()=>{const t=$h(),e=ZE(),r=wa("surveys"),n=wa("stats"),i=wa("loading"),a=wa("lastUpdate"),s=async()=>{(await tl.fetchAll()).success?e.success("Data refreshed successfully"):e.error("Failed to refresh data")},l=async v=>{if(confirm("Are you sure you want to delete this survey?"))try{const{error:y}=await li.from("surveys").delete().eq("id",v);y?e.error("Failed to delete survey"):(e.success("Survey deleted successfully"),tl.fetchSurveys(),tl.fetchStats())}catch{e.error("Error deleting survey")}},u=v=>{if(!v.geometry){e.error("This survey has no location data");return}t("/surveyed-buildings",{state:{highlightSurveyId:v.id}})},f=()=>{if(r.length===0){e.error("No surveys to export");return}mz(r),e.success(`Exported ${r.length} surveys to Excel`)},p=()=>{if(r.length===0){e.error("No surveys to export");return}gz(r),e.success(`Exported ${r.length}surveys to CSV`)};return x.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[x.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),x.jsx("p",{className:"text-gray-600 mt-1",children:"Overview of your survey activities"}),a&&x.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last updated: ",new Date(a).toLocaleString()]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:s,disabled:i,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center gap-2",children:[x.jsx("svg",{className:`w-4 h-4 ${i?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),i?"Loading...":"Refresh"]}),x.jsxs("button",{onClick:f,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Excel"]}),x.jsxs("button",{onClick:p,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"CSV"]}),x.jsxs("button",{onClick:()=>t("/survey"),className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105 flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Survey"]})]})]})}),x.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[x.jsx(Wm,{title:"Total Surveys",value:n.total,icon:"",color:"blue"}),x.jsx(Wm,{title:"Today",value:n.today,icon:"",color:"green"}),x.jsx(Wm,{title:"This Week",value:n.thisWeek,icon:"",color:"purple"}),x.jsx(Wm,{title:"This Month",value:n.thisMonth,icon:"",color:"orange"})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[x.jsx("div",{className:"p-6 border-b border-gray-200",children:x.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Surveys"})}),i?x.jsxs("div",{className:"p-8 text-center text-gray-500",children:[x.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),x.jsx("p",{className:"mt-2",children:"Loading..."})]}):r.length===0?x.jsx("div",{className:"p-8 text-center text-gray-500",children:x.jsx("p",{children:'No surveys found. Click "New Survey" to create one.'})}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Building ID"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Owner"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200",children:r.slice(0,20).map(v=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:v.building_id||"N/A"}),x.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:v.owner_name||"N/A"}),x.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(v.created_at).toLocaleDateString()}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${v.status==="submitted"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.status||"draft"})}),x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>u(v),className:"text-green-600 hover:text-green-800",title:"View on Map",disabled:!v.geometry,children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),x.jsx("button",{onClick:()=>$E(v),className:"text-blue-600 hover:text-blue-800",title:"Download PDF",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),x.jsx("button",{onClick:()=>l(v.id),className:"text-red-600 hover:text-red-800",title:"Delete",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},v.id))})]})})]})]})},Wm=({title:t,value:e,icon:r,color:n})=>{const i={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600"};return x.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-600 text-sm",children:t}),x.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e})]}),x.jsx("div",{className:`bg-gradient-to-br ${i[n]} w-12 h-12 rounded-lg flex items-center justify-center text-2xl`,children:r})]})})};function C8(t,e){const r=ve.useRef(e);ve.useEffect(function(){e!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),e!=null&&t.attributionControl.addAttribution(e)),r.current=e},[t,e])}function _z(t,e,r){e.center!==r.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==r.radius&&t.setRadius(e.radius)}const yz=1;function xz(t){return Object.freeze({__version:yz,map:t})}function pg(t,e){return Object.freeze({...t,...e})}const dy=ve.createContext(null);function Tp(){const t=ve.use(dy);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function M8(t){function e(r,n){const{instance:i,context:a}=t(r).current;ve.useImperativeHandle(n,()=>i);const{children:s}=r;return s==null?null:th.createElement(dy,{value:a},s)}return ve.forwardRef(e)}function wz(t){function e(r,n){const[i,a]=ve.useState(!1),{instance:s}=t(r,a).current;ve.useImperativeHandle(n,()=>s),ve.useEffect(function(){i&&s.update()},[s,i,r.children]);const l=s._contentNode;return l?PS.createPortal(r.children,l):null}return ve.forwardRef(e)}function bz(t){function e(r,n){const{instance:i}=t(r).current;return ve.useImperativeHandle(n,()=>i),null}return ve.forwardRef(e)}function py(t,e){const r=ve.useRef(void 0);ve.useEffect(function(){return e!=null&&t.instance.on(e),r.current=e,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,e])}function Ap(t,e){const r=t.pane??e.pane;return r?{...t,pane:r}:t}function Sz(t,e){return function(n,i){const a=Tp(),s=t(Ap(n,a),a);return C8(a.map,n.attribution),py(s.current,n.eventHandlers),e(s.current,a,n,i),s}}var _0={exports:{}};var Ez=_0.exports,_3;function Tz(){return _3||(_3=1,(function(t,e){(function(r,n){n(e)})(Ez,(function(r){var n="1.9.4";function i(h){var m,b,k,z;for(b=1,k=arguments.length;b<k;b++){z=arguments[b];for(m in z)h[m]=z[m]}return h}var a=Object.create||(function(){function h(){}return function(m){return h.prototype=m,new h}})();function s(h,m){var b=Array.prototype.slice;if(h.bind)return h.bind.apply(h,b.call(arguments,1));var k=b.call(arguments,2);return function(){return h.apply(m,k.length?k.concat(b.call(arguments)):arguments)}}var l=0;function u(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function f(h,m,b){var k,z,ae,Me;return Me=function(){k=!1,z&&(ae.apply(b,z),z=!1)},ae=function(){k?z=arguments:(h.apply(b,arguments),setTimeout(Me,m),k=!0)},ae}function p(h,m,b){var k=m[1],z=m[0],ae=k-z;return h===k&&b?h:((h-z)%ae+ae)%ae+z}function v(){return!1}function y(h,m){if(m===!1)return h;var b=Math.pow(10,m===void 0?6:m);return Math.round(h*b)/b}function _(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function T(h){return _(h).split(/\s+/)}function S(h,m){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?a(h.options):{});for(var b in m)h.options[b]=m[b];return h.options}function C(h,m,b){var k=[];for(var z in h)k.push(encodeURIComponent(b?z.toUpperCase():z)+"="+encodeURIComponent(h[z]));return(!m||m.indexOf("?")===-1?"?":"&")+k.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function D(h,m){return h.replace(M,function(b,k){var z=m[k];if(z===void 0)throw new Error("No value provided for variable "+b);return typeof z=="function"&&(z=z(m)),z})}var j=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function V(h,m){for(var b=0;b<h.length;b++)if(h[b]===m)return b;return-1}var X="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ce(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var I=0;function q(h){var m=+new Date,b=Math.max(0,16-(m-I));return I=m+b,window.setTimeout(h,b)}var F=window.requestAnimationFrame||ce("RequestAnimationFrame")||q,J=window.cancelAnimationFrame||ce("CancelAnimationFrame")||ce("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function B(h,m,b){if(b&&F===q)h.call(m);else return F.call(window,s(h,m))}function Z(h){h&&J.call(window,h)}var ue={__proto__:null,extend:i,create:a,bind:s,get lastId(){return l},stamp:u,throttle:f,wrapNum:p,falseFn:v,formatNum:y,trim:_,splitWords:T,setOptions:S,getParamString:C,template:D,isArray:j,indexOf:V,emptyImageUrl:X,requestFn:F,cancelFn:J,requestAnimFrame:B,cancelAnimFrame:Z};function de(){}de.extend=function(h){var m=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=m.__super__=this.prototype,k=a(b);k.constructor=m,m.prototype=k;for(var z in this)Object.prototype.hasOwnProperty.call(this,z)&&z!=="prototype"&&z!=="__super__"&&(m[z]=this[z]);return h.statics&&i(m,h.statics),h.includes&&(xe(h.includes),i.apply(null,[k].concat(h.includes))),i(k,h),delete k.statics,delete k.includes,k.options&&(k.options=b.options?a(b.options):{},i(k.options,h.options)),k._initHooks=[],k.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var ae=0,Me=k._initHooks.length;ae<Me;ae++)k._initHooks[ae].call(this)}},m},de.include=function(h){var m=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=m,this.mergeOptions(h.options)),this},de.mergeOptions=function(h){return i(this.prototype.options,h),this},de.addInitHook=function(h){var m=Array.prototype.slice.call(arguments,1),b=typeof h=="function"?h:function(){this[h].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function xe(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=j(h)?h:[h];for(var m=0;m<h.length;m++)h[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(h,m,b){if(typeof h=="object")for(var k in h)this._on(k,h[k],m);else{h=T(h);for(var z=0,ae=h.length;z<ae;z++)this._on(h[z],m,b)}return this},off:function(h,m,b){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var k in h)this._off(k,h[k],m);else{h=T(h);for(var z=arguments.length===1,ae=0,Me=h.length;ae<Me;ae++)z?this._off(h[ae]):this._off(h[ae],m,b)}return this},_on:function(h,m,b,k){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(h,m,b)===!1){b===this&&(b=void 0);var z={fn:m,ctx:b};k&&(z.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(z)}},_off:function(h,m,b){var k,z,ae;if(this._events&&(k=this._events[h],!!k)){if(arguments.length===1){if(this._firingCount)for(z=0,ae=k.length;z<ae;z++)k[z].fn=v;delete this._events[h];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var Me=this._listens(h,m,b);if(Me!==!1){var We=k[Me];this._firingCount&&(We.fn=v,this._events[h]=k=k.slice()),k.splice(Me,1)}}},fire:function(h,m,b){if(!this.listens(h,b))return this;var k=i({},m,{type:h,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var z=this._events[h];if(z){this._firingCount=this._firingCount+1||1;for(var ae=0,Me=z.length;ae<Me;ae++){var We=z[ae],tt=We.fn;We.once&&this.off(h,tt,We.ctx),tt.call(We.ctx||this,k)}this._firingCount--}}return b&&this._propagateEvent(k),this},listens:function(h,m,b,k){typeof h!="string"&&console.warn('"string" type argument expected');var z=m;typeof m!="function"&&(k=!!m,z=void 0,b=void 0);var ae=this._events&&this._events[h];if(ae&&ae.length&&this._listens(h,z,b)!==!1)return!0;if(k){for(var Me in this._eventParents)if(this._eventParents[Me].listens(h,m,b,k))return!0}return!1},_listens:function(h,m,b){if(!this._events)return!1;var k=this._events[h]||[];if(!m)return!!k.length;b===this&&(b=void 0);for(var z=0,ae=k.length;z<ae;z++)if(k[z].fn===m&&k[z].ctx===b)return z;return!1},once:function(h,m,b){if(typeof h=="object")for(var k in h)this._on(k,h[k],m,!0);else{h=T(h);for(var z=0,ae=h.length;z<ae;z++)this._on(h[z],m,b,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[u(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[u(h)],this},_propagateEvent:function(h){for(var m in this._eventParents)this._eventParents[m].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var be=de.extend(oe);function _e(h,m,b){this.x=b?Math.round(h):h,this.y=b?Math.round(m):m}var Le=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};_e.prototype={clone:function(){return new _e(this.x,this.y)},add:function(h){return this.clone()._add(Ne(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(Ne(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new _e(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new _e(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Le(this.x),this.y=Le(this.y),this},distanceTo:function(h){h=Ne(h);var m=h.x-this.x,b=h.y-this.y;return Math.sqrt(m*m+b*b)},equals:function(h){return h=Ne(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=Ne(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function Ne(h,m,b){return h instanceof _e?h:j(h)?new _e(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new _e(h.x,h.y):new _e(h,m,b)}function ee(h,m){if(h)for(var b=m?[h,m]:h,k=0,z=b.length;k<z;k++)this.extend(b[k])}ee.prototype={extend:function(h){var m,b;if(!h)return this;if(h instanceof _e||typeof h[0]=="number"||"x"in h)m=b=Ne(h);else if(h=O(h),m=h.min,b=h.max,!m||!b)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=b.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(h){return Ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return Ne(this.min.x,this.max.y)},getTopRight:function(){return Ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var m,b;return typeof h[0]=="number"||h instanceof _e?h=Ne(h):h=O(h),h instanceof ee?(m=h.min,b=h.max):m=b=h,m.x>=this.min.x&&b.x<=this.max.x&&m.y>=this.min.y&&b.y<=this.max.y},intersects:function(h){h=O(h);var m=this.min,b=this.max,k=h.min,z=h.max,ae=z.x>=m.x&&k.x<=b.x,Me=z.y>=m.y&&k.y<=b.y;return ae&&Me},overlaps:function(h){h=O(h);var m=this.min,b=this.max,k=h.min,z=h.max,ae=z.x>m.x&&k.x<b.x,Me=z.y>m.y&&k.y<b.y;return ae&&Me},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var m=this.min,b=this.max,k=Math.abs(m.x-b.x)*h,z=Math.abs(m.y-b.y)*h;return O(Ne(m.x-k,m.y-z),Ne(b.x+k,b.y+z))},equals:function(h){return h?(h=O(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function O(h,m){return!h||h instanceof ee?h:new ee(h,m)}function G(h,m){if(h)for(var b=m?[h,m]:h,k=0,z=b.length;k<z;k++)this.extend(b[k])}G.prototype={extend:function(h){var m=this._southWest,b=this._northEast,k,z;if(h instanceof Y)k=h,z=h;else if(h instanceof G){if(k=h._southWest,z=h._northEast,!k||!z)return this}else return h?this.extend(se(h)||H(h)):this;return!m&&!b?(this._southWest=new Y(k.lat,k.lng),this._northEast=new Y(z.lat,z.lng)):(m.lat=Math.min(k.lat,m.lat),m.lng=Math.min(k.lng,m.lng),b.lat=Math.max(z.lat,b.lat),b.lng=Math.max(z.lng,b.lng)),this},pad:function(h){var m=this._southWest,b=this._northEast,k=Math.abs(m.lat-b.lat)*h,z=Math.abs(m.lng-b.lng)*h;return new G(new Y(m.lat-k,m.lng-z),new Y(b.lat+k,b.lng+z))},getCenter:function(){return new Y((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Y(this.getNorth(),this.getWest())},getSouthEast:function(){return new Y(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof Y||"lat"in h?h=se(h):h=H(h);var m=this._southWest,b=this._northEast,k,z;return h instanceof G?(k=h.getSouthWest(),z=h.getNorthEast()):k=z=h,k.lat>=m.lat&&z.lat<=b.lat&&k.lng>=m.lng&&z.lng<=b.lng},intersects:function(h){h=H(h);var m=this._southWest,b=this._northEast,k=h.getSouthWest(),z=h.getNorthEast(),ae=z.lat>=m.lat&&k.lat<=b.lat,Me=z.lng>=m.lng&&k.lng<=b.lng;return ae&&Me},overlaps:function(h){h=H(h);var m=this._southWest,b=this._northEast,k=h.getSouthWest(),z=h.getNorthEast(),ae=z.lat>m.lat&&k.lat<b.lat,Me=z.lng>m.lng&&k.lng<b.lng;return ae&&Me},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,m){return h?(h=H(h),this._southWest.equals(h.getSouthWest(),m)&&this._northEast.equals(h.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function H(h,m){return h instanceof G?h:new G(h,m)}function Y(h,m,b){if(isNaN(h)||isNaN(m))throw new Error("Invalid LatLng object: ("+h+", "+m+")");this.lat=+h,this.lng=+m,b!==void 0&&(this.alt=+b)}Y.prototype={equals:function(h,m){if(!h)return!1;h=se(h);var b=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return b<=(m===void 0?1e-9:m)},toString:function(h){return"LatLng("+y(this.lat,h)+", "+y(this.lng,h)+")"},distanceTo:function(h){return Oe.distance(this,se(h))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(h){var m=180*h/40075017,b=m/Math.cos(Math.PI/180*this.lat);return H([this.lat-m,this.lng-b],[this.lat+m,this.lng+b])},clone:function(){return new Y(this.lat,this.lng,this.alt)}};function se(h,m,b){return h instanceof Y?h:j(h)&&typeof h[0]!="object"?h.length===3?new Y(h[0],h[1],h[2]):h.length===2?new Y(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new Y(h.lat,"lng"in h?h.lng:h.lon,h.alt):m===void 0?null:new Y(h,m,b)}var Ae={latLngToPoint:function(h,m){var b=this.projection.project(h),k=this.scale(m);return this.transformation._transform(b,k)},pointToLatLng:function(h,m){var b=this.scale(m),k=this.transformation.untransform(h,b);return this.projection.unproject(k)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var m=this.projection.bounds,b=this.scale(h),k=this.transformation.transform(m.min,b),z=this.transformation.transform(m.max,b);return new ee(k,z)},infinite:!1,wrapLatLng:function(h){var m=this.wrapLng?p(h.lng,this.wrapLng,!0):h.lng,b=this.wrapLat?p(h.lat,this.wrapLat,!0):h.lat,k=h.alt;return new Y(b,m,k)},wrapLatLngBounds:function(h){var m=h.getCenter(),b=this.wrapLatLng(m),k=m.lat-b.lat,z=m.lng-b.lng;if(k===0&&z===0)return h;var ae=h.getSouthWest(),Me=h.getNorthEast(),We=new Y(ae.lat-k,ae.lng-z),tt=new Y(Me.lat-k,Me.lng-z);return new G(We,tt)}},Oe=i({},Ae,{wrapLng:[-180,180],R:6371e3,distance:function(h,m){var b=Math.PI/180,k=h.lat*b,z=m.lat*b,ae=Math.sin((m.lat-h.lat)*b/2),Me=Math.sin((m.lng-h.lng)*b/2),We=ae*ae+Math.cos(k)*Math.cos(z)*Me*Me,tt=2*Math.atan2(Math.sqrt(We),Math.sqrt(1-We));return this.R*tt}}),Re=6378137,Ie={R:Re,MAX_LATITUDE:85.0511287798,project:function(h){var m=Math.PI/180,b=this.MAX_LATITUDE,k=Math.max(Math.min(b,h.lat),-b),z=Math.sin(k*m);return new _e(this.R*h.lng*m,this.R*Math.log((1+z)/(1-z))/2)},unproject:function(h){var m=180/Math.PI;return new Y((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*m,h.x*m/this.R)},bounds:(function(){var h=Re*Math.PI;return new ee([-h,-h],[h,h])})()};function ot(h,m,b,k){if(j(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=m,this._c=b,this._d=k}ot.prototype={transform:function(h,m){return this._transform(h.clone(),m)},_transform:function(h,m){return m=m||1,h.x=m*(this._a*h.x+this._b),h.y=m*(this._c*h.y+this._d),h},untransform:function(h,m){return m=m||1,new _e((h.x/m-this._b)/this._a,(h.y/m-this._d)/this._c)}};function it(h,m,b,k){return new ot(h,m,b,k)}var Tt=i({},Oe,{code:"EPSG:3857",projection:Ie,transformation:(function(){var h=.5/(Math.PI*Ie.R);return it(h,.5,-h,.5)})()}),Nt=i({},Tt,{code:"EPSG:900913"});function we(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function yt(h,m){var b="",k,z,ae,Me,We,tt;for(k=0,ae=h.length;k<ae;k++){for(We=h[k],z=0,Me=We.length;z<Me;z++)tt=We[z],b+=(z?"L":"M")+tt.x+" "+tt.y;b+=m?Ye.svg?"z":"x":""}return b||"M0 0"}var xt=document.documentElement.style,zt="ActiveXObject"in window,dt=zt&&!document.addEventListener,Vt="msLaunchUri"in navigator&&!("documentMode"in document),jt=qe("webkit"),sr=qe("android"),Xt=qe("android 2")||qe("android 3"),Jt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Er=sr&&qe("Google")&&Jt<537&&!("AudioNode"in window),dr=!!window.opera,Nr=!Vt&&qe("chrome"),or=qe("gecko")&&!jt&&!dr&&!zt,Ft=!Nr&&qe("safari"),_r=qe("phantom"),Wt="OTransition"in xt,yn=navigator.platform.indexOf("Win")===0,Mr=zt&&"transition"in xt,Gt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Xt,pr="MozPerspective"in xt,Dr=!window.L_DISABLE_3D&&(Mr||Gt||pr)&&!Wt&&!_r,Yt=typeof orientation<"u"||qe("mobile"),ln=Yt&&jt,cr=Yt&&Gt,ur=!window.PointerEvent&&window.MSPointerEvent,en=!!(window.PointerEvent||ur),xr="ontouchstart"in window||!!window.TouchEvent,Zt=!window.L_NO_TOUCH&&(xr||en),Gr=Yt&&dr,Ea=Yt&&or,ci=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qi=(function(){var h=!1;try{var m=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",v,m),window.removeEventListener("testPassiveEventSupport",v,m)}catch{}return h})(),Ci=(function(){return!!document.createElement("canvas").getContext})(),Qt=!!(document.createElementNS&&we("svg").createSVGRect),Ja=!!Qt&&(function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ua=!Qt&&(function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var m=h.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}})(),Ce=navigator.platform.indexOf("Mac")===0,Ge=navigator.platform.indexOf("Linux")===0;function qe(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var Ye={ie:zt,ielt9:dt,edge:Vt,webkit:jt,android:sr,android23:Xt,androidStock:Er,opera:dr,chrome:Nr,gecko:or,safari:Ft,phantom:_r,opera12:Wt,win:yn,ie3d:Mr,webkit3d:Gt,gecko3d:pr,any3d:Dr,mobile:Yt,mobileWebkit:ln,mobileWebkit3d:cr,msPointer:ur,pointer:en,touch:Zt,touchNative:xr,mobileOpera:Gr,mobileGecko:Ea,retina:ci,passiveEvents:Qi,canvas:Ci,svg:Qt,vml:Ua,inlineSvg:Ja,mac:Ce,linux:Ge},K=Ye.msPointer?"MSPointerDown":"pointerdown",pe=Ye.msPointer?"MSPointerMove":"pointermove",re=Ye.msPointer?"MSPointerUp":"pointerup",ne=Ye.msPointer?"MSPointerCancel":"pointercancel",he={touchstart:K,touchmove:pe,touchend:re,touchcancel:ne},ge={touchstart:Mt,touchmove:gt,touchend:gt,touchcancel:gt},Pe={},ze=!1;function Be(h,m,b){return m==="touchstart"&&wt(),ge[m]?(b=ge[m].bind(this,b),h.addEventListener(he[m],b,!1),b):(console.warn("wrong event specified:",m),v)}function Ue(h,m,b){if(!he[m]){console.warn("wrong event specified:",m);return}h.removeEventListener(he[m],b,!1)}function $e(h){Pe[h.pointerId]=h}function ht(h){Pe[h.pointerId]&&(Pe[h.pointerId]=h)}function bt(h){delete Pe[h.pointerId]}function wt(){ze||(document.addEventListener(K,$e,!0),document.addEventListener(pe,ht,!0),document.addEventListener(re,bt,!0),document.addEventListener(ne,bt,!0),ze=!0)}function gt(h,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var b in Pe)m.touches.push(Pe[b]);m.changedTouches=[m],h(m)}}function Mt(h,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Cn(m),gt(h,m)}function Bt(h){var m={},b,k;for(k in h)b=h[k],m[k]=b&&b.bind?b.bind(h):b;return h=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Hr=200;function wr(h,m){h.addEventListener("dblclick",m);var b=0,k;function z(ae){if(ae.detail!==1){k=ae.detail;return}if(!(ae.pointerType==="mouse"||ae.sourceCapabilities&&!ae.sourceCapabilities.firesTouchEvents)){var Me=ts(ae);if(!(Me.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!Me.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var We=Date.now();We-b<=Hr?(k++,k===2&&m(Bt(ae))):k=1,b=We}}}return h.addEventListener("click",z),{dblclick:m,simDblclick:z}}function nn(h,m){h.removeEventListener("dblclick",m.dblclick),h.removeEventListener("click",m.simDblclick)}var Kn=Al(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xn=Al(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ea=Xn==="webkitTransition"||Xn==="OTransition"?Xn+"End":"transitionend";function Mi(h){return typeof h=="string"?document.getElementById(h):h}function Ar(h,m){var b=h.style[m]||h.currentStyle&&h.currentStyle[m];if((!b||b==="auto")&&document.defaultView){var k=document.defaultView.getComputedStyle(h,null);b=k?k[m]:null}return b==="auto"?null:b}function Ut(h,m,b){var k=document.createElement(h);return k.className=m||"",b&&b.appendChild(k),k}function qr(h){var m=h.parentNode;m&&m.removeChild(h)}function ri(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function ar(h){var m=h.parentNode;m&&m.lastChild!==h&&m.appendChild(h)}function Ta(h){var m=h.parentNode;m&&m.firstChild!==h&&m.insertBefore(h,m.firstChild)}function Aa(h,m){if(h.classList!==void 0)return h.classList.contains(m);var b=ni(h);return b.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(b)}function yr(h,m){if(h.classList!==void 0)for(var b=T(m),k=0,z=b.length;k<z;k++)h.classList.add(b[k]);else if(!Aa(h,m)){var ae=ni(h);ta(h,(ae?ae+" ":"")+m)}}function Rn(h,m){h.classList!==void 0?h.classList.remove(m):ta(h,_((" "+ni(h)+" ").replace(" "+m+" "," ")))}function ta(h,m){h.className.baseVal===void 0?h.className=m:h.className.baseVal=m}function ni(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function cn(h,m){"opacity"in h.style?h.style.opacity=m:"filter"in h.style&&rc(h,m)}function rc(h,m){var b=!1,k="DXImageTransform.Microsoft.Alpha";try{b=h.filters.item(k)}catch{if(m===1)return}m=Math.round(m*100),b?(b.Enabled=m!==100,b.Opacity=m):h.style.filter+=" progid:"+k+"(opacity="+m+")"}function Al(h){for(var m=document.documentElement.style,b=0;b<h.length;b++)if(h[b]in m)return h[b];return!1}function Gs(h,m,b){var k=m||new _e(0,0);h.style[Kn]=(Ye.ie3d?"translate("+k.x+"px,"+k.y+"px)":"translate3d("+k.x+"px,"+k.y+"px,0)")+(b?" scale("+b+")":"")}function Kr(h,m){h._leaflet_pos=m,Ye.any3d?Gs(h,m):(h.style.left=m.x+"px",h.style.top=m.y+"px")}function Hs(h){return h._leaflet_pos||new _e(0,0)}var Mo,La,ko;if("onselectstart"in document)Mo=function(){Ct(window,"selectstart",Cn)},La=function(){fn(window,"selectstart",Cn)};else{var il=Al(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mo=function(){if(il){var h=document.documentElement.style;ko=h[il],h[il]="none"}},La=function(){il&&(document.documentElement.style[il]=ko,ko=void 0)}}function nc(){Ct(window,"dragstart",Cn)}function Ll(){fn(window,"dragstart",Cn)}var al,ic;function da(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(za(),al=h,ic=h.style.outlineStyle,h.style.outlineStyle="none",Ct(window,"keydown",za))}function za(){al&&(al.style.outlineStyle=ic,al=void 0,ic=void 0,fn(window,"keydown",za))}function ro(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Po(h){var m=h.getBoundingClientRect();return{x:m.width/h.offsetWidth||1,y:m.height/h.offsetHeight||1,boundingClientRect:m}}var sl={__proto__:null,TRANSFORM:Kn,TRANSITION:Xn,TRANSITION_END:ea,get:Mi,getStyle:Ar,create:Ut,remove:qr,empty:ri,toFront:ar,toBack:Ta,hasClass:Aa,addClass:yr,removeClass:Rn,setClass:ta,getClass:ni,setOpacity:cn,testProp:Al,setTransform:Gs,setPosition:Kr,getPosition:Hs,get disableTextSelection(){return Mo},get enableTextSelection(){return La},disableImageDrag:nc,enableImageDrag:Ll,preventOutline:da,restoreOutline:za,getSizedParentNode:ro,getScale:Po};function Ct(h,m,b,k){if(m&&typeof m=="object")for(var z in m)ki(h,z,m[z],b);else{m=T(m);for(var ae=0,Me=m.length;ae<Me;ae++)ki(h,m[ae],b,k)}return this}var Qa="_leaflet_events";function fn(h,m,b,k){if(arguments.length===1)Fc(h),delete h[Qa];else if(m&&typeof m=="object")for(var z in m)Nl(h,z,m[z],b);else if(m=T(m),arguments.length===2)Fc(h,function(We){return V(m,We)!==-1});else for(var ae=0,Me=m.length;ae<Me;ae++)Nl(h,m[ae],b,k);return this}function Fc(h,m){for(var b in h[Qa]){var k=b.split(/\d/)[0];(!m||m(k))&&Nl(h,k,null,null,b)}}var Na={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ki(h,m,b,k){var z=m+u(b)+(k?"_"+u(k):"");if(h[Qa]&&h[Qa][z])return this;var ae=function(We){return b.call(k||h,We||window.event)},Me=ae;!Ye.touchNative&&Ye.pointer&&m.indexOf("touch")===0?ae=Be(h,m,ae):Ye.touch&&m==="dblclick"?ae=wr(h,ae):"addEventListener"in h?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?h.addEventListener(Na[m]||m,ae,Ye.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(ae=function(We){We=We||window.event,bs(h,We)&&Me(We)},h.addEventListener(Na[m],ae,!1)):h.addEventListener(m,Me,!1):h.attachEvent("on"+m,ae),h[Qa]=h[Qa]||{},h[Qa][z]=ae}function Nl(h,m,b,k,z){z=z||m+u(b)+(k?"_"+u(k):"");var ae=h[Qa]&&h[Qa][z];if(!ae)return this;!Ye.touchNative&&Ye.pointer&&m.indexOf("touch")===0?Ue(h,m,ae):Ye.touch&&m==="dblclick"?nn(h,ae):"removeEventListener"in h?h.removeEventListener(Na[m]||m,ae,!1):h.detachEvent("on"+m,ae),h[Qa][z]=null}function es(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function Ca(h){return ki(h,"wheel",es),this}function qs(h){return Ct(h,"mousedown touchstart dblclick contextmenu",es),h._leaflet_disable_click=!0,this}function Cn(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function no(h){return Cn(h),es(h),this}function ts(h){if(h.composedPath)return h.composedPath();for(var m=[],b=h.target;b;)m.push(b),b=b.parentNode;return m}function Cl(h,m){if(!m)return new _e(h.clientX,h.clientY);var b=Po(m),k=b.boundingClientRect;return new _e((h.clientX-k.left)/b.x-m.clientLeft,(h.clientY-k.top)/b.y-m.clientTop)}var ac=Ye.linux&&Ye.chrome?window.devicePixelRatio:Ye.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Pi(h){return Ye.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/ac:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function bs(h,m){var b=m.relatedTarget;if(!b)return!0;try{for(;b&&b!==h;)b=b.parentNode}catch{return!1}return b!==h}var Ss={__proto__:null,on:Ct,off:fn,stopPropagation:es,disableScrollPropagation:Ca,disableClickPropagation:qs,preventDefault:Cn,stop:no,getPropagationPath:ts,getMousePosition:Cl,getWheelDelta:Pi,isExternalTarget:bs,addListener:Ct,removeListener:fn},io=be.extend({run:function(h,m,b,k){this.stop(),this._el=h,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(k||.5,.2),this._startPos=Hs(h),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(h){var m=+new Date-this._startTime,b=this._duration*1e3;m<b?this._runFrame(this._easeOut(m/b),h):(this._runFrame(1),this._complete())},_runFrame:function(h,m){var b=this._startPos.add(this._offset.multiplyBy(h));m&&b._round(),Kr(this._el,b),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Br=be.extend({options:{crs:Tt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,m){m=S(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(se(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xn&&Ye.any3d&&!Ye.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ct(this._proxy,ea,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,m,b){if(m=m===void 0?this._zoom:this._limitZoom(m),h=this._limitCenter(se(h),m,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=i({animate:b.animate},b.zoom),b.pan=i({animate:b.animate,duration:b.duration},b.pan));var k=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,m,b.zoom):this._tryAnimatedPan(h,b.pan);if(k)return clearTimeout(this._sizeTimer),this}return this._resetView(h,m,b.pan&&b.pan.noMoveStart),this},setZoom:function(h,m){return this._loaded?this.setView(this.getCenter(),h,{zoom:m}):(this._zoom=h,this)},zoomIn:function(h,m){return h=h||(Ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,m)},zoomOut:function(h,m){return h=h||(Ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,m)},setZoomAround:function(h,m,b){var k=this.getZoomScale(m),z=this.getSize().divideBy(2),ae=h instanceof _e?h:this.latLngToContainerPoint(h),Me=ae.subtract(z).multiplyBy(1-1/k),We=this.containerPointToLatLng(z.add(Me));return this.setView(We,m,{zoom:b})},_getBoundsCenterZoom:function(h,m){m=m||{},h=h.getBounds?h.getBounds():H(h);var b=Ne(m.paddingTopLeft||m.padding||[0,0]),k=Ne(m.paddingBottomRight||m.padding||[0,0]),z=this.getBoundsZoom(h,!1,b.add(k));if(z=typeof m.maxZoom=="number"?Math.min(m.maxZoom,z):z,z===1/0)return{center:h.getCenter(),zoom:z};var ae=k.subtract(b).divideBy(2),Me=this.project(h.getSouthWest(),z),We=this.project(h.getNorthEast(),z),tt=this.unproject(Me.add(We).divideBy(2).add(ae),z);return{center:tt,zoom:z}},fitBounds:function(h,m){if(h=H(h),!h.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(h,m);return this.setView(b.center,b.zoom,m)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,m){return this.setView(h,this._zoom,{pan:m})},panBy:function(h,m){if(h=Ne(h).round(),m=m||{},!h.x&&!h.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new io,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){yr(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,b,m.duration||.25,m.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,m,b){if(b=b||{},b.animate===!1||!Ye.any3d)return this.setView(h,m,b);this._stop();var k=this.project(this.getCenter()),z=this.project(h),ae=this.getSize(),Me=this._zoom;h=se(h),m=m===void 0?Me:m;var We=Math.max(ae.x,ae.y),tt=We*this.getZoomScale(Me,m),pt=z.distanceTo(k)||1,kt=1.42,tr=kt*kt;function Ur(wn){var Si=wn?-1:1,Dl=wn?tt:We,dh=tt*tt-We*We+Si*tr*tr*pt*pt,pc=2*Dl*tr*pt,mc=dh/pc,Ho=Math.sqrt(mc*mc+1)-mc,po=Ho<1e-9?-18:Math.log(Ho);return po}function sa(wn){return(Math.exp(wn)-Math.exp(-wn))/2}function di(wn){return(Math.exp(wn)+Math.exp(-wn))/2}function cs(wn){return sa(wn)/di(wn)}var dn=Ur(0);function pn(wn){return We*(di(dn)/di(dn+kt*wn))}function Zr(wn){return We*(di(dn)*cs(dn+kt*wn)-sa(dn))/tr}function Ra(wn){return 1-Math.pow(1-wn,1.5)}var si=Date.now(),Ms=(Ur(1)-dn)/kt,fl=b.duration?1e3*b.duration:1e3*Ms*.8;function bu(){var wn=(Date.now()-si)/fl,Si=Ra(wn)*Ms;wn<=1?(this._flyToFrame=B(bu,this),this._move(this.unproject(k.add(z.subtract(k).multiplyBy(Zr(Si)/pt)),Me),this.getScaleZoom(We/pn(Si),Me),{flyTo:!0})):this._move(h,m)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),bu.call(this),this},flyToBounds:function(h,m){var b=this._getBoundsCenterZoom(h,m);return this.flyTo(b.center,b.zoom,m)},setMaxBounds:function(h){return h=H(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var m=this.options.minZoom;return this.options.minZoom=h,this._loaded&&m!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var m=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&m!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,m){this._enforcingBounds=!0;var b=this.getCenter(),k=this._limitCenter(b,this._zoom,H(h));return b.equals(k)||this.panTo(k,m),this._enforcingBounds=!1,this},panInside:function(h,m){m=m||{};var b=Ne(m.paddingTopLeft||m.padding||[0,0]),k=Ne(m.paddingBottomRight||m.padding||[0,0]),z=this.project(this.getCenter()),ae=this.project(h),Me=this.getPixelBounds(),We=O([Me.min.add(b),Me.max.subtract(k)]),tt=We.getSize();if(!We.contains(ae)){this._enforcingBounds=!0;var pt=ae.subtract(We.getCenter()),kt=We.extend(ae).getSize().subtract(tt);z.x+=pt.x<0?-kt.x:kt.x,z.y+=pt.y<0?-kt.y:kt.y,this.panTo(this.unproject(z),m),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),k=m.divideBy(2).round(),z=b.divideBy(2).round(),ae=k.subtract(z);return!ae.x&&!ae.y?this:(h.animate&&h.pan?this.panBy(ae):(h.pan&&this._rawPanBy(ae),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=s(this._handleGeolocationResponse,this),b=s(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,b,h):navigator.geolocation.getCurrentPosition(m,b,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var m=h.code,b=h.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var m=h.coords.latitude,b=h.coords.longitude,k=new Y(m,b),z=k.toBounds(h.coords.accuracy*2),ae=this._locateOptions;if(ae.setView){var Me=this.getBoundsZoom(z);this.setView(k,ae.maxZoom?Math.min(Me,ae.maxZoom):Me)}var We={latlng:k,bounds:z,timestamp:h.timestamp};for(var tt in h.coords)typeof h.coords[tt]=="number"&&(We[tt]=h.coords[tt]);this.fire("locationfound",We)}},addHandler:function(h,m){if(!m)return this;var b=this[h]=new m(this);return this._handlers.push(b),this.options[h]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)qr(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,m){var b="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),k=Ut("div",b,m||this._mapPane);return h&&(this._panes[h]=k),k},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),m=this.unproject(h.getBottomLeft()),b=this.unproject(h.getTopRight());return new G(m,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,m,b){h=H(h),b=Ne(b||[0,0]);var k=this.getZoom()||0,z=this.getMinZoom(),ae=this.getMaxZoom(),Me=h.getNorthWest(),We=h.getSouthEast(),tt=this.getSize().subtract(b),pt=O(this.project(We,k),this.project(Me,k)).getSize(),kt=Ye.any3d?this.options.zoomSnap:1,tr=tt.x/pt.x,Ur=tt.y/pt.y,sa=m?Math.max(tr,Ur):Math.min(tr,Ur);return k=this.getScaleZoom(sa,k),kt&&(k=Math.round(k/(kt/100))*(kt/100),k=m?Math.ceil(k/kt)*kt:Math.floor(k/kt)*kt),Math.max(z,Math.min(ae,k))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new _e(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,m){var b=this._getTopLeftPoint(h,m);return new ee(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,m){var b=this.options.crs;return m=m===void 0?this._zoom:m,b.scale(h)/b.scale(m)},getScaleZoom:function(h,m){var b=this.options.crs;m=m===void 0?this._zoom:m;var k=b.zoom(h*b.scale(m));return isNaN(k)?1/0:k},project:function(h,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(se(h),m)},unproject:function(h,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(Ne(h),m)},layerPointToLatLng:function(h){var m=Ne(h).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(h){var m=this.project(se(h))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(se(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(H(h))},distance:function(h,m){return this.options.crs.distance(se(h),se(m))},containerPointToLayerPoint:function(h){return Ne(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return Ne(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var m=this.containerPointToLayerPoint(Ne(h));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(h)))},mouseEventToContainerPoint:function(h){return Cl(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var m=this._container=Mi(h);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ct(m,"scroll",this._onScroll,this),this._containerId=u(m)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ye.any3d,yr(h,"leaflet-container"+(Ye.touch?" leaflet-touch":"")+(Ye.retina?" leaflet-retina":"")+(Ye.ielt9?" leaflet-oldie":"")+(Ye.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=Ar(h,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Kr(this._mapPane,new _e(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yr(h.markerPane,"leaflet-zoom-hide"),yr(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,m,b){Kr(this._mapPane,new _e(0,0));var k=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var z=this._zoom!==m;this._moveStart(z,b)._move(h,m)._moveEnd(z),this.fire("viewreset"),k&&this.fire("load")},_moveStart:function(h,m){return h&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(h,m,b,k){m===void 0&&(m=this._zoom);var z=this._zoom!==m;return this._zoom=m,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),k?b&&b.pinch&&this.fire("zoom",b):((z||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){Kr(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[u(this._container)]=this;var m=h?fn:Ct;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),Ye.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,m){for(var b=[],k,z=m==="mouseout"||m==="mouseover",ae=h.target||h.srcElement,Me=!1;ae;){if(k=this._targets[u(ae)],k&&(m==="click"||m==="preclick")&&this._draggableMoved(k)){Me=!0;break}if(k&&k.listens(m,!0)&&(z&&!bs(ae,h)||(b.push(k),z))||ae===this._container)break;ae=ae.parentNode}return!b.length&&!Me&&!z&&this.listens(m,!0)&&(b=[this]),b},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var m=h.target||h.srcElement;if(!(!this._loaded||m._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(m))){var b=h.type;b==="mousedown"&&da(m),this._fireDOMEvent(h,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,m,b){if(h.type==="click"){var k=i({},h);k.type="preclick",this._fireDOMEvent(k,k.type,b)}var z=this._findEventTargets(h,m);if(b){for(var ae=[],Me=0;Me<b.length;Me++)b[Me].listens(m,!0)&&ae.push(b[Me]);z=ae.concat(z)}if(z.length){m==="contextmenu"&&Cn(h);var We=z[0],tt={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var pt=We.getLatLng&&(!We._radius||We._radius<=10);tt.containerPoint=pt?this.latLngToContainerPoint(We.getLatLng()):this.mouseEventToContainerPoint(h),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=pt?We.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(Me=0;Me<z.length;Me++)if(z[Me].fire(m,tt,!0),tt.originalEvent._stopped||z[Me].options.bubblingMouseEvents===!1&&V(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,m=this._handlers.length;h<m;h++)this._handlers[h].disable()},whenReady:function(h,m){return this._loaded?h.call(m||this,{target:this}):this.on("load",h,m),this},_getMapPanePos:function(){return Hs(this._mapPane)||new _e(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,m){var b=h&&m!==void 0?this._getNewPixelOrigin(h,m):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,m){var b=this.getSize()._divideBy(2);return this.project(h,m)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,m,b){var k=this._getNewPixelOrigin(b,m);return this.project(h,m)._subtract(k)},_latLngBoundsToNewLayerBounds:function(h,m,b){var k=this._getNewPixelOrigin(b,m);return O([this.project(h.getSouthWest(),m)._subtract(k),this.project(h.getNorthWest(),m)._subtract(k),this.project(h.getSouthEast(),m)._subtract(k),this.project(h.getNorthEast(),m)._subtract(k)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,m,b){if(!b)return h;var k=this.project(h,m),z=this.getSize().divideBy(2),ae=new ee(k.subtract(z),k.add(z)),Me=this._getBoundsOffset(ae,b,m);return Math.abs(Me.x)<=1&&Math.abs(Me.y)<=1?h:this.unproject(k.add(Me),m)},_limitOffset:function(h,m){if(!m)return h;var b=this.getPixelBounds(),k=new ee(b.min.add(h),b.max.add(h));return h.add(this._getBoundsOffset(k,m))},_getBoundsOffset:function(h,m,b){var k=O(this.project(m.getNorthEast(),b),this.project(m.getSouthWest(),b)),z=k.min.subtract(h.min),ae=k.max.subtract(h.max),Me=this._rebound(z.x,-ae.x),We=this._rebound(z.y,-ae.y);return new _e(Me,We)},_rebound:function(h,m){return h+m>0?Math.round(h-m)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(m))},_limitZoom:function(h){var m=this.getMinZoom(),b=this.getMaxZoom(),k=Ye.any3d?this.options.zoomSnap:1;return k&&(h=Math.round(h/k)*k),Math.max(m,Math.min(b,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Rn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,m){var b=this._getCenterOffset(h)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,m),!0)},_createAnimProxy:function(){var h=this._proxy=Ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(m){var b=Kn,k=this._proxy.style[b];Gs(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),k===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),m=this.getZoom();Gs(this._proxy,this.project(h,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,m,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var k=this.getZoomScale(m),z=this._getCenterOffset(h)._divideBy(1-1/k);return b.animate!==!0&&!this.getSize().contains(z)?!1:(B(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(h,m,!0)},this),!0)},_animateZoom:function(h,m,b,k){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=m,yr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:m,noUpdate:k}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Rn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ml(h,m){return new Br(h,m)}var Oi=de.extend({options:{position:"topright"},initialize:function(h){S(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var m=this._map;return m&&m.removeControl(this),this.options.position=h,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var m=this._container=this.onAdd(h),b=this.getPosition(),k=h._controlCorners[b];return yr(m,"leaflet-control"),b.indexOf("bottom")!==-1?k.insertBefore(m,k.firstChild):k.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),rs=function(h){return new Oi(h)};Br.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},m="leaflet-",b=this._controlContainer=Ut("div",m+"control-container",this._container);function k(z,ae){var Me=m+z+" "+m+ae;h[z+ae]=Ut("div",Me,b)}k("top","left"),k("top","right"),k("bottom","left"),k("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)qr(this._controlCorners[h]);qr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ol=Oi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,m,b,k){return b<k?-1:k<b?1:0}},initialize:function(h,m,b){S(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var k in h)this._addLayer(h[k],k);for(k in m)this._addLayer(m[k],k,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Oi.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,m){return this._addLayer(h,m),this._map?this._update():this},addOverlay:function(h,m){return this._addLayer(h,m,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var m=this._getLayer(u(h));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){yr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(yr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Rn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Rn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",m=this._container=Ut("div",h),b=this.options.collapsed;m.setAttribute("aria-haspopup",!0),qs(m),Ca(m);var k=this._section=Ut("section",h+"-list");b&&(this._map.on("click",this.collapse,this),Ct(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var z=this._layersLink=Ut("a",h+"-toggle",m);z.href="#",z.title="Layers",z.setAttribute("role","button"),Ct(z,{keydown:function(ae){ae.keyCode===13&&this._expandSafely()},click:function(ae){Cn(ae),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=Ut("div",h+"-base",k),this._separator=Ut("div",h+"-separator",k),this._overlaysList=Ut("div",h+"-overlays",k),m.appendChild(k)},_getLayer:function(h){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&u(this._layers[m].layer)===h)return this._layers[m]},_addLayer:function(h,m,b){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:m,overlay:b}),this.options.sortLayers&&this._layers.sort(s(function(k,z){return this.options.sortFunction(k.layer,z.layer,k.name,z.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ri(this._baseLayersList),ri(this._overlaysList),this._layerControlInputs=[];var h,m,b,k,z=0;for(b=0;b<this._layers.length;b++)k=this._layers[b],this._addItem(k),m=m||k.overlay,h=h||!k.overlay,z+=k.overlay?0:1;return this.options.hideSingleBase&&(h=h&&z>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=m&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var m=this._getLayer(u(h.target)),b=m.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;b&&this._map.fire(b,m)},_createRadioElement:function(h,m){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(m?' checked="checked"':"")+"/>",k=document.createElement("div");return k.innerHTML=b,k.firstChild},_addItem:function(h){var m=document.createElement("label"),b=this._map.hasLayer(h.layer),k;h.overlay?(k=document.createElement("input"),k.type="checkbox",k.className="leaflet-control-layers-selector",k.defaultChecked=b):k=this._createRadioElement("leaflet-base-layers_"+u(this),b),this._layerControlInputs.push(k),k.layerId=u(h.layer),Ct(k,"click",this._onInputClick,this);var z=document.createElement("span");z.innerHTML=" "+h.name;var ae=document.createElement("span");m.appendChild(ae),ae.appendChild(k),ae.appendChild(z);var Me=h.overlay?this._overlaysList:this._baseLayersList;return Me.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,m,b,k=[],z=[];this._handlingClick=!0;for(var ae=h.length-1;ae>=0;ae--)m=h[ae],b=this._getLayer(m.layerId).layer,m.checked?k.push(b):m.checked||z.push(b);for(ae=0;ae<z.length;ae++)this._map.hasLayer(z[ae])&&this._map.removeLayer(z[ae]);for(ae=0;ae<k.length;ae++)this._map.hasLayer(k[ae])||this._map.addLayer(k[ae]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,m,b,k=this._map.getZoom(),z=h.length-1;z>=0;z--)m=h[z],b=this._getLayer(m.layerId).layer,m.disabled=b.options.minZoom!==void 0&&k<b.options.minZoom||b.options.maxZoom!==void 0&&k>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Ct(h,"click",Cn),this.expand();var m=this;setTimeout(function(){fn(h,"click",Cn),m._preventClick=!1})}}),Bc=function(h,m,b){return new ol(h,m,b)},Vs=Oi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var m="leaflet-control-zoom",b=Ut("div",m+" leaflet-bar"),k=this.options;return this._zoomInButton=this._createButton(k.zoomInText,k.zoomInTitle,m+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(k.zoomOutText,k.zoomOutTitle,m+"-out",b,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,m,b,k,z){var ae=Ut("a",b,k);return ae.innerHTML=h,ae.href="#",ae.title=m,ae.setAttribute("role","button"),ae.setAttribute("aria-label",m),qs(ae),Ct(ae,"click",no),Ct(ae,"click",z,this),Ct(ae,"click",this._refocusOnMap,this),ae},_updateDisabled:function(){var h=this._map,m="leaflet-disabled";Rn(this._zoomInButton,m),Rn(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(yr(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(yr(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});Br.mergeOptions({zoomControl:!0}),Br.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vs,this.addControl(this.zoomControl))});var Oo=function(h){return new Vs(h)},Uc=Oi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var m="leaflet-control-scale",b=Ut("div",m),k=this.options;return this._addScales(k,m+"-line",b),h.on(k.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),b},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,m,b){h.metric&&(this._mScale=Ut("div",m,b)),h.imperial&&(this._iScale=Ut("div",m,b))},_update:function(){var h=this._map,m=h.getSize().y/2,b=h.distance(h.containerPointToLatLng([0,m]),h.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(b)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var m=this._getRoundNum(h),b=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,b,m/h)},_updateImperial:function(h){var m=h*3.2808399,b,k,z;m>5280?(b=m/5280,k=this._getRoundNum(b),this._updateScale(this._iScale,k+" mi",k/b)):(z=this._getRoundNum(m),this._updateScale(this._iScale,z+" ft",z/m))},_updateScale:function(h,m,b){h.style.width=Math.round(this.options.maxWidth*b)+"px",h.innerHTML=m},_getRoundNum:function(h){var m=Math.pow(10,(Math.floor(h)+"").length-1),b=h/m;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,m*b}}),Ro=function(h){return new Uc(h)},yu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',P=Oi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ye.inlineSvg?yu+" ":"")+"Leaflet</a>"},initialize:function(h){S(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Ut("div","leaflet-control-attribution"),qs(this._container);for(var m in h._layers)h._layers[m].getAttribution&&this.addAttribution(h._layers[m].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var m in this._attributions)this._attributions[m]&&h.push(m);var b=[];this.options.prefix&&b.push(this.options.prefix),h.length&&b.push(h.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});Br.mergeOptions({attributionControl:!0}),Br.addInitHook(function(){this.options.attributionControl&&new P().addTo(this)});var Q=function(h){return new P(h)};Oi.Layers=ol,Oi.Zoom=Vs,Oi.Scale=Uc,Oi.Attribution=P,rs.layers=Bc,rs.zoom=Oo,rs.scale=Ro,rs.attribution=Q;var Se=de.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Se.addTo=function(h,m){return h.addHandler(m,this),this};var De={Events:oe},Ve=Ye.touch?"touchstart mousedown":"mousedown",at=be.extend({options:{clickTolerance:3},initialize:function(h,m,b,k){S(this,k),this._element=h,this._dragStartTarget=m||h,this._preventOutline=b},enable:function(){this._enabled||(Ct(this._dragStartTarget,Ve,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(at._dragging===this&&this.finishDrag(!0),fn(this._dragStartTarget,Ve,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Aa(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){at._dragging===this&&this.finishDrag();return}if(!(at._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(at._dragging=this,this._preventOutline&&da(this._element),nc(),Mo(),!this._moving)){this.fire("down");var m=h.touches?h.touches[0]:h,b=ro(this._element);this._startPoint=new _e(m.clientX,m.clientY),this._startPos=Hs(this._element),this._parentScale=Po(b);var k=h.type==="mousedown";Ct(document,k?"mousemove":"touchmove",this._onMove,this),Ct(document,k?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var m=h.touches&&h.touches.length===1?h.touches[0]:h,b=new _e(m.clientX,m.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,Cn(h),this._moved||(this.fire("dragstart"),this._moved=!0,yr(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),Kr(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Rn(document.body,"leaflet-dragging"),this._lastTarget&&(Rn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fn(document,"mousemove touchmove",this._onMove,this),fn(document,"mouseup touchend touchcancel",this._onUp,this),Ll(),La();var m=this._moved&&this._moving;this._moving=!1,at._dragging=!1,m&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function St(h,m,b){var k,z=[1,4,2,8],ae,Me,We,tt,pt,kt,tr,Ur;for(ae=0,kt=h.length;ae<kt;ae++)h[ae]._code=ra(h[ae],m);for(We=0;We<4;We++){for(tr=z[We],k=[],ae=0,kt=h.length,Me=kt-1;ae<kt;Me=ae++)tt=h[ae],pt=h[Me],tt._code&tr?pt._code&tr||(Ur=Es(pt,tt,tr,m,b),Ur._code=ra(Ur,m),k.push(Ur)):(pt._code&tr&&(Ur=Es(pt,tt,tr,m,b),Ur._code=ra(Ur,m),k.push(Ur)),k.push(tt));h=k}return h}function $t(h,m){var b,k,z,ae,Me,We,tt,pt,kt;if(!h||h.length===0)throw new Error("latlngs not passed");na(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var tr=se([0,0]),Ur=H(h),sa=Ur.getNorthWest().distanceTo(Ur.getSouthWest())*Ur.getNorthEast().distanceTo(Ur.getNorthWest());sa<1700&&(tr=er(h));var di=h.length,cs=[];for(b=0;b<di;b++){var dn=se(h[b]);cs.push(m.project(se([dn.lat-tr.lat,dn.lng-tr.lng])))}for(We=tt=pt=0,b=0,k=di-1;b<di;k=b++)z=cs[b],ae=cs[k],Me=z.y*ae.x-ae.y*z.x,tt+=(z.x+ae.x)*Me,pt+=(z.y+ae.y)*Me,We+=Me*3;We===0?kt=cs[0]:kt=[tt/We,pt/We];var pn=m.unproject(Ne(kt));return se([pn.lat+tr.lat,pn.lng+tr.lng])}function er(h){for(var m=0,b=0,k=0,z=0;z<h.length;z++){var ae=se(h[z]);m+=ae.lat,b+=ae.lng,k++}return se([m/k,b/k])}var br={__proto__:null,clipPolygon:St,polygonCenter:$t,centroid:er};function kr(h,m){if(!m||!h.length)return h.slice();var b=m*m;return h=Ri(h,b),h=ui(h,b),h}function Xr(h,m,b){return Math.sqrt(jo(h,m,b,!0))}function Jn(h,m,b){return jo(h,m,b)}function ui(h,m){var b=h.length,k=typeof Uint8Array<"u"?Uint8Array:Array,z=new k(b);z[0]=z[b-1]=1,xn(h,z,m,0,b-1);var ae,Me=[];for(ae=0;ae<b;ae++)z[ae]&&Me.push(h[ae]);return Me}function xn(h,m,b,k,z){var ae=0,Me,We,tt;for(We=k+1;We<=z-1;We++)tt=jo(h[We],h[k],h[z],!0),tt>ae&&(Me=We,ae=tt);ae>b&&(m[Me]=1,xn(h,m,b,k,Me),xn(h,m,b,Me,z))}function Ri(h,m){for(var b=[h[0]],k=1,z=0,ae=h.length;k<ae;k++)Do(h[k],h[z])>m&&(b.push(h[k]),z=k);return z<ae-1&&b.push(h[ae-1]),b}var hi;function Fi(h,m,b,k,z){var ae=k?hi:ra(h,b),Me=ra(m,b),We,tt,pt;for(hi=Me;;){if(!(ae|Me))return[h,m];if(ae&Me)return!1;We=ae||Me,tt=Es(h,m,We,b,z),pt=ra(tt,b),We===ae?(h=tt,ae=pt):(m=tt,Me=pt)}}function Es(h,m,b,k,z){var ae=m.x-h.x,Me=m.y-h.y,We=k.min,tt=k.max,pt,kt;return b&8?(pt=h.x+ae*(tt.y-h.y)/Me,kt=tt.y):b&4?(pt=h.x+ae*(We.y-h.y)/Me,kt=We.y):b&2?(pt=tt.x,kt=h.y+Me*(tt.x-h.x)/ae):b&1&&(pt=We.x,kt=h.y+Me*(We.x-h.x)/ae),new _e(pt,kt,z)}function ra(h,m){var b=0;return h.x<m.min.x?b|=1:h.x>m.max.x&&(b|=2),h.y<m.min.y?b|=4:h.y>m.max.y&&(b|=8),b}function Do(h,m){var b=m.x-h.x,k=m.y-h.y;return b*b+k*k}function jo(h,m,b,k){var z=m.x,ae=m.y,Me=b.x-z,We=b.y-ae,tt=Me*Me+We*We,pt;return tt>0&&(pt=((h.x-z)*Me+(h.y-ae)*We)/tt,pt>1?(z=b.x,ae=b.y):pt>0&&(z+=Me*pt,ae+=We*pt)),Me=h.x-z,We=h.y-ae,k?Me*Me+We*We:new _e(z,ae)}function na(h){return!j(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function $s(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),na(h)}function Ts(h,m){var b,k,z,ae,Me,We,tt,pt;if(!h||h.length===0)throw new Error("latlngs not passed");na(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var kt=se([0,0]),tr=H(h),Ur=tr.getNorthWest().distanceTo(tr.getSouthWest())*tr.getNorthEast().distanceTo(tr.getNorthWest());Ur<1700&&(kt=er(h));var sa=h.length,di=[];for(b=0;b<sa;b++){var cs=se(h[b]);di.push(m.project(se([cs.lat-kt.lat,cs.lng-kt.lng])))}for(b=0,k=0;b<sa-1;b++)k+=di[b].distanceTo(di[b+1])/2;if(k===0)pt=di[0];else for(b=0,ae=0;b<sa-1;b++)if(Me=di[b],We=di[b+1],z=Me.distanceTo(We),ae+=z,ae>k){tt=(ae-k)/z,pt=[We.x-tt*(We.x-Me.x),We.y-tt*(We.y-Me.y)];break}var dn=m.unproject(Ne(pt));return se([dn.lat+kt.lat,dn.lng+kt.lng])}var kl={__proto__:null,simplify:kr,pointToSegmentDistance:Xr,closestPointOnSegment:Jn,clipSegment:Fi,_getEdgeIntersection:Es,_getBitCode:ra,_sqClosestPointOnSegment:jo,isFlat:na,_flat:$s,polylineCenter:Ts},Ws={project:function(h){return new _e(h.lng,h.lat)},unproject:function(h){return new Y(h.y,h.x)},bounds:new ee([-180,-90],[180,90])},xi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var m=Math.PI/180,b=this.R,k=h.lat*m,z=this.R_MINOR/b,ae=Math.sqrt(1-z*z),Me=ae*Math.sin(k),We=Math.tan(Math.PI/4-k/2)/Math.pow((1-Me)/(1+Me),ae/2);return k=-b*Math.log(Math.max(We,1e-10)),new _e(h.lng*m*b,k)},unproject:function(h){for(var m=180/Math.PI,b=this.R,k=this.R_MINOR/b,z=Math.sqrt(1-k*k),ae=Math.exp(-h.y/b),Me=Math.PI/2-2*Math.atan(ae),We=0,tt=.1,pt;We<15&&Math.abs(tt)>1e-7;We++)pt=z*Math.sin(Me),pt=Math.pow((1-pt)/(1+pt),z/2),tt=Math.PI/2-2*Math.atan(ae*pt)-Me,Me+=tt;return new Y(Me*m,h.x*m/b)}},ll={__proto__:null,LonLat:Ws,Mercator:xi,SphericalMercator:Ie},cl=i({},Oe,{code:"EPSG:3395",projection:xi,transformation:(function(){var h=.5/(Math.PI*xi.R);return it(h,.5,-h,.5)})()}),Pl=i({},Oe,{code:"EPSG:4326",projection:Ws,transformation:it(1/180,1,-1/180,.5)}),ao=i({},Ae,{projection:Ws,transformation:it(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,m){var b=m.lng-h.lng,k=m.lat-h.lat;return Math.sqrt(b*b+k*k)},infinite:!0});Ae.Earth=Oe,Ae.EPSG3395=cl,Ae.EPSG3857=Tt,Ae.EPSG900913=Nt,Ae.EPSG4326=Pl,Ae.Simple=ao;var Dn=be.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[u(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[u(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var m=h.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var b=this.getEvents();m.on(b,this),this.once("remove",function(){m.off(b,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});Br.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var m=u(h);return this._layers[m]?this:(this._layers[m]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var m=u(h);return this._layers[m]?(this._loaded&&h.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return u(h)in this._layers},eachLayer:function(h,m){for(var b in this._layers)h.call(m,this._layers[b]);return this},_addLayers:function(h){h=h?j(h)?h:[h]:[];for(var m=0,b=h.length;m<b;m++)this.addLayer(h[m])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[u(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var m=u(h);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,m=-1/0,b=this._getZoomSpan();for(var k in this._zoomBoundLayers){var z=this._zoomBoundLayers[k].options;h=z.minZoom===void 0?h:Math.min(h,z.minZoom),m=z.maxZoom===void 0?m:Math.max(m,z.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=h===1/0?void 0:h,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ga=Dn.extend({initialize:function(h,m){S(this,m),this._layers={};var b,k;if(h)for(b=0,k=h.length;b<k;b++)this.addLayer(h[b])},addLayer:function(h){var m=this.getLayerId(h);return this._layers[m]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var m=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(h){var m=typeof h=="number"?h:this.getLayerId(h);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var m=Array.prototype.slice.call(arguments,1),b,k;for(b in this._layers)k=this._layers[b],k[h]&&k[h].apply(k,m);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,m){for(var b in this._layers)h.call(m,this._layers[b]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return u(h)}}),sc=function(h,m){return new Ga(h,m)},ns=Ga.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),Ga.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),Ga.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new G;for(var m in this._layers){var b=this._layers[m];h.extend(b.getBounds?b.getBounds():b.getLatLng())}return h}}),is=function(h,m){return new ns(h,m)},pa=de.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){S(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,m){var b=this._getIconUrl(h);if(!b){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var k=this._createImg(b,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(k,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),k},_setIconStyles:function(h,m){var b=this.options,k=b[m+"Size"];typeof k=="number"&&(k=[k,k]);var z=Ne(k),ae=Ne(m==="shadow"&&b.shadowAnchor||b.iconAnchor||z&&z.divideBy(2,!0));h.className="leaflet-marker-"+m+" "+(b.className||""),ae&&(h.style.marginLeft=-ae.x+"px",h.style.marginTop=-ae.y+"px"),z&&(h.style.width=z.x+"px",h.style.height=z.y+"px")},_createImg:function(h,m){return m=m||document.createElement("img"),m.src=h,m},_getIconUrl:function(h){return Ye.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function Io(h){return new pa(h)}var Fo=pa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Fo.imagePath!="string"&&(Fo.imagePath=this._detectIconPath()),(this.options.imagePath||Fo.imagePath)+pa.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var m=function(b,k,z){var ae=k.exec(b);return ae&&ae[z]};return h=m(h,/^url\((['"])?(.+)\1\)$/,2),h&&m(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Ut("div","leaflet-default-icon-path",document.body),m=Ar(h,"background-image")||Ar(h,"backgroundImage");if(document.body.removeChild(h),m=this._stripUrl(m),m)return m;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),As=Se.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new at(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yr(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Rn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var m=this._marker,b=m._map,k=this._marker.options.autoPanSpeed,z=this._marker.options.autoPanPadding,ae=Hs(m._icon),Me=b.getPixelBounds(),We=b.getPixelOrigin(),tt=O(Me.min._subtract(We).add(z),Me.max._subtract(We).subtract(z));if(!tt.contains(ae)){var pt=Ne((Math.max(tt.max.x,ae.x)-tt.max.x)/(Me.max.x-tt.max.x)-(Math.min(tt.min.x,ae.x)-tt.min.x)/(Me.min.x-tt.min.x),(Math.max(tt.max.y,ae.y)-tt.max.y)/(Me.max.y-tt.max.y)-(Math.min(tt.min.y,ae.y)-tt.min.y)/(Me.min.y-tt.min.y)).multiplyBy(k);b.panBy(pt,{animate:!1}),this._draggable._newPos._add(pt),this._draggable._startPos._add(pt),Kr(m._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=B(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,h)))},_onDrag:function(h){var m=this._marker,b=m._shadow,k=Hs(m._icon),z=m._map.layerPointToLatLng(k);b&&Kr(b,k),m._latlng=z,h.latlng=z,h.oldLatLng=this._oldLatLng,m.fire("move",h).fire("drag",h)},_onDragEnd:function(h){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),Zs=Dn.extend({options:{icon:new Fo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,m){S(this,m),this._latlng=se(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var m=this._latlng;return this._latlng=se(h),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=h.icon.createIcon(this._icon),k=!1;b!==this._icon&&(this._icon&&this._removeIcon(),k=!0,h.title&&(b.title=h.title),b.tagName==="IMG"&&(b.alt=h.alt||"")),yr(b,m),h.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(b,"focus",this._panOnFocus,this);var z=h.icon.createShadow(this._shadow),ae=!1;z!==this._shadow&&(this._removeShadow(),ae=!0),z&&(yr(z,m),z.alt=""),this._shadow=z,h.opacity<1&&this._updateOpacity(),k&&this.getPane().appendChild(this._icon),this._initInteraction(),z&&ae&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fn(this._icon,"focus",this._panOnFocus,this),qr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qr(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&Kr(this._icon,h),this._shadow&&Kr(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var m=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(yr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),As)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new As(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&cn(this._icon,h),this._shadow&&cn(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var m=this.options.icon.options,b=m.iconSize?Ne(m.iconSize):Ne(0,0),k=m.iconAnchor?Ne(m.iconAnchor):Ne(0,0);h.panInside(this._latlng,{paddingTopLeft:k,paddingBottomRight:b.subtract(k)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ha(h,m){return new Zs(h,m)}var ii=Dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return S(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),as=ii.extend({options:{fill:!0,radius:10},initialize:function(h,m){S(this,m),this._latlng=se(h),this._radius=this.options.radius},setLatLng:function(h){var m=this._latlng;return this._latlng=se(h),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var m=h&&h.radius||this._radius;return ii.prototype.setStyle.call(this,h),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,m=this._radiusY||h,b=this._clickTolerance(),k=[h+b,m+b];this._pxBounds=new ee(this._point.subtract(k),this._point.add(k))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function so(h,m){return new as(h,m)}var Ys=as.extend({initialize:function(h,m,b){if(typeof m=="number"&&(m=i({},b,{radius:m})),S(this,m),this._latlng=se(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:ii.prototype.setStyle,_project:function(){var h=this._latlng.lng,m=this._latlng.lat,b=this._map,k=b.options.crs;if(k.distance===Oe.distance){var z=Math.PI/180,ae=this._mRadius/Oe.R/z,Me=b.project([m+ae,h]),We=b.project([m-ae,h]),tt=Me.add(We).divideBy(2),pt=b.unproject(tt).lat,kt=Math.acos((Math.cos(ae*z)-Math.sin(m*z)*Math.sin(pt*z))/(Math.cos(m*z)*Math.cos(pt*z)))/z;(isNaN(kt)||kt===0)&&(kt=ae/Math.cos(Math.PI/180*m)),this._point=tt.subtract(b.getPixelOrigin()),this._radius=isNaN(kt)?0:tt.x-b.project([pt,h-kt]).x,this._radiusY=tt.y-Me.y}else{var tr=k.unproject(k.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(tr).x}this._updateBounds()}});function oc(h,m,b){return new Ys(h,m,b)}var qa=ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,m){S(this,m),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var m=1/0,b=null,k=jo,z,ae,Me=0,We=this._parts.length;Me<We;Me++)for(var tt=this._parts[Me],pt=1,kt=tt.length;pt<kt;pt++){z=tt[pt-1],ae=tt[pt];var tr=k(h,z,ae,!0);tr<m&&(m=tr,b=k(h,z,ae))}return b&&(b.distance=Math.sqrt(m)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ts(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,m){return m=m||this._defaultShape(),h=se(h),m.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new G,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return na(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var m=[],b=na(h),k=0,z=h.length;k<z;k++)b?(m[k]=se(h[k]),this._bounds.extend(m[k])):m[k]=this._convertLatLngs(h[k]);return m},_project:function(){var h=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),m=new _e(h,h);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(h,m,b){var k=h[0]instanceof Y,z=h.length,ae,Me;if(k){for(Me=[],ae=0;ae<z;ae++)Me[ae]=this._map.latLngToLayerPoint(h[ae]),b.extend(Me[ae]);m.push(Me)}else for(ae=0;ae<z;ae++)this._projectLatlngs(h[ae],m,b)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,b,k,z,ae,Me,We,tt;for(b=0,z=0,ae=this._rings.length;b<ae;b++)for(tt=this._rings[b],k=0,Me=tt.length;k<Me-1;k++)We=Fi(tt[k],tt[k+1],h,k,!0),We&&(m[z]=m[z]||[],m[z].push(We[0]),(We[1]!==tt[k+1]||k===Me-2)&&(m[z].push(We[1]),z++))}},_simplifyPoints:function(){for(var h=this._parts,m=this.options.smoothFactor,b=0,k=h.length;b<k;b++)h[b]=kr(h[b],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,m){var b,k,z,ae,Me,We,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(b=0,ae=this._parts.length;b<ae;b++)for(We=this._parts[b],k=0,Me=We.length,z=Me-1;k<Me;z=k++)if(!(!m&&k===0)&&Xr(h,We[z],We[k])<=tt)return!0;return!1}});function fi(h,m){return new qa(h,m)}qa._flat=$s;var Bo=qa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $t(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var m=qa.prototype._convertLatLngs.call(this,h),b=m.length;return b>=2&&m[0]instanceof Y&&m[0].equals(m[b-1])&&m.pop(),m},_setLatLngs:function(h){qa.prototype._setLatLngs.call(this,h),na(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return na(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,m=this.options.weight,b=new _e(m,m);if(h=new ee(h.min.subtract(b),h.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var k=0,z=this._rings.length,ae;k<z;k++)ae=St(this._rings[k],h,!0),ae.length&&this._parts.push(ae)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var m=!1,b,k,z,ae,Me,We,tt,pt;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(ae=0,tt=this._parts.length;ae<tt;ae++)for(b=this._parts[ae],Me=0,pt=b.length,We=pt-1;Me<pt;We=Me++)k=b[Me],z=b[We],k.y>h.y!=z.y>h.y&&h.x<(z.x-k.x)*(h.y-k.y)/(z.y-k.y)+k.x&&(m=!m);return m||qa.prototype._containsPoint.call(this,h,!0)}});function oo(h,m){return new Bo(h,m)}var Bi=ns.extend({initialize:function(h,m){S(this,m),this._layers={},h&&this.addData(h)},addData:function(h){var m=j(h)?h:h.features,b,k,z;if(m){for(b=0,k=m.length;b<k;b++)z=m[b],(z.geometries||z.geometry||z.features||z.coordinates)&&this.addData(z);return this}var ae=this.options;if(ae.filter&&!ae.filter(h))return this;var Me=wi(h,ae);return Me?(Me.feature=co(h),Me.defaultOptions=Me.options,this.resetStyle(Me),ae.onEachFeature&&ae.onEachFeature(h,Me),this.addLayer(Me)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(m){this._setLayerStyle(m,h)},this)},_setLayerStyle:function(h,m){h.setStyle&&(typeof m=="function"&&(m=m(h.feature)),h.setStyle(m))}});function wi(h,m){var b=h.type==="Feature"?h.geometry:h,k=b?b.coordinates:null,z=[],ae=m&&m.pointToLayer,Me=m&&m.coordsToLatLng||ul,We,tt,pt,kt;if(!k&&!b)return null;switch(b.type){case"Point":return We=Me(k),lo(ae,h,We,m);case"MultiPoint":for(pt=0,kt=k.length;pt<kt;pt++)We=Me(k[pt]),z.push(lo(ae,h,We,m));return new ns(z);case"LineString":case"MultiLineString":return tt=Uo(k,b.type==="LineString"?0:1,Me),new qa(tt,m);case"Polygon":case"MultiPolygon":return tt=Uo(k,b.type==="Polygon"?1:2,Me),new Bo(tt,m);case"GeometryCollection":for(pt=0,kt=b.geometries.length;pt<kt;pt++){var tr=wi({geometry:b.geometries[pt],type:"Feature",properties:h.properties},m);tr&&z.push(tr)}return new ns(z);case"FeatureCollection":for(pt=0,kt=b.features.length;pt<kt;pt++){var Ur=wi(b.features[pt],m);Ur&&z.push(Ur)}return new ns(z);default:throw new Error("Invalid GeoJSON object.")}}function lo(h,m,b,k){return h?h(m,b):new Zs(b,k&&k.markersInheritOptions&&k)}function ul(h){return new Y(h[1],h[0],h[2])}function Uo(h,m,b){for(var k=[],z=0,ae=h.length,Me;z<ae;z++)Me=m?Uo(h[z],m-1,b):(b||ul)(h[z]),k.push(Me);return k}function Ks(h,m){return h=se(h),h.alt!==void 0?[y(h.lng,m),y(h.lat,m),y(h.alt,m)]:[y(h.lng,m),y(h.lat,m)]}function Ls(h,m,b,k){for(var z=[],ae=0,Me=h.length;ae<Me;ae++)z.push(m?Ls(h[ae],na(h[ae])?0:m-1,b,k):Ks(h[ae],k));return!m&&b&&z.length>0&&z.push(z[0].slice()),z}function Ma(h,m){return h.feature?i({},h.feature,{geometry:m}):co(m)}function co(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var ka={toGeoJSON:function(h){return Ma(this,{type:"Point",coordinates:Ks(this.getLatLng(),h)})}};Zs.include(ka),Ys.include(ka),as.include(ka),qa.include({toGeoJSON:function(h){var m=!na(this._latlngs),b=Ls(this._latlngs,m?1:0,!1,h);return Ma(this,{type:(m?"Multi":"")+"LineString",coordinates:b})}}),Bo.include({toGeoJSON:function(h){var m=!na(this._latlngs),b=m&&!na(this._latlngs[0]),k=Ls(this._latlngs,b?2:m?1:0,!0,h);return m||(k=[k]),Ma(this,{type:(b?"Multi":"")+"Polygon",coordinates:k})}}),Ga.include({toMultiPoint:function(h){var m=[];return this.eachLayer(function(b){m.push(b.toGeoJSON(h).geometry.coordinates)}),Ma(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(h){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(h);var b=m==="GeometryCollection",k=[];return this.eachLayer(function(z){if(z.toGeoJSON){var ae=z.toGeoJSON(h);if(b)k.push(ae.geometry);else{var Me=co(ae);Me.type==="FeatureCollection"?k.push.apply(k,Me.features):k.push(Me)}}}),b?Ma(this,{geometries:k,type:"GeometryCollection"}):{type:"FeatureCollection",features:k}}});function uo(h,m){return new Bi(h,m)}var ma=uo,Pa=Dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,m,b){this._url=h,this._bounds=H(m),S(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&ar(this._image),this},bringToBack:function(){return this._map&&Ta(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=H(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",m=this._image=h?this._url:Ut("img");if(yr(m,"leaflet-image-layer"),this._zoomAnimated&&yr(m,"leaflet-zoom-animated"),this.options.className&&yr(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onload=s(this.fire,this,"load"),m.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(h){var m=this._map.getZoomScale(h.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;Gs(this._image,b,m)},_reset:function(){var h=this._image,m=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=m.getSize();Kr(h,m.min),h.style.width=b.x+"px",h.style.height=b.y+"px"},_updateOpacity:function(){cn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),un=function(h,m,b){return new Pa(h,m,b)},Jr=Pa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",m=this._image=h?this._url:Ut("video");if(yr(m,"leaflet-image-layer"),this._zoomAnimated&&yr(m,"leaflet-zoom-animated"),this.options.className&&yr(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onloadeddata=s(this.fire,this,"load"),h){for(var b=m.getElementsByTagName("source"),k=[],z=0;z<b.length;z++)k.push(b[z].src);this._url=b.length>0?k:[m.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var ae=0;ae<this._url.length;ae++){var Me=Ut("source");Me.src=this._url[ae],m.appendChild(Me)}}});function Mn(h,m,b){return new Jr(h,m,b)}var ai=Pa.extend({_initImage:function(){var h=this._image=this._url;yr(h,"leaflet-image-layer"),this._zoomAnimated&&yr(h,"leaflet-zoom-animated"),this.options.className&&yr(h,this.options.className),h.onselectstart=v,h.onmousemove=v}});function ho(h,m,b){return new ai(h,m,b)}var bi=Dn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,m){h&&(h instanceof Y||j(h))?(this._latlng=se(h),S(this,m)):(S(this,h),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&cn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&cn(this._container,1),this.bringToFront(),this.options.interactive&&(yr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(cn(this._container,0),this._removeTimeout=setTimeout(s(qr,void 0,this._container),200)):qr(this._container),this.options.interactive&&(Rn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=se(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ar(this._container),this},bringToBack:function(){return this._map&&Ta(this._container),this},_prepareOpen:function(h){var m=this._source;if(!m._map)return!1;if(m instanceof ns){m=null;var b=this._source._layers;for(var k in b)if(b[k]._map){m=b[k];break}if(!m)return!1;this._source=m}if(!h)if(m.getCenter)h=m.getCenter();else if(m.getLatLng)h=m.getLatLng();else if(m.getBounds)h=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")h.innerHTML=m;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),m=Ne(this.options.offset),b=this._getAnchor();this._zoomAnimated?Kr(this._container,h.add(b)):m=m.add(h).add(b);var k=this._containerBottom=-m.y,z=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=k+"px",this._container.style.left=z+"px"}},_getAnchor:function(){return[0,0]}});Br.include({_initOverlay:function(h,m,b,k){var z=m;return z instanceof h||(z=new h(k).setContent(m)),b&&z.setLatLng(b),z}}),Dn.include({_initOverlay:function(h,m,b,k){var z=b;return z instanceof h?(S(z,k),z._source=this):(z=m&&!k?m:new h(k,this),z.setContent(b)),z}});var fo=bi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,bi.prototype.openOn.call(this,h)},onAdd:function(h){bi.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ii||this._source.on("preclick",es))},onRemove:function(h){bi.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ii||this._source.off("preclick",es))},getEvents:function(){var h=bi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",m=this._container=Ut("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=Ut("div",h+"-content-wrapper",m);if(this._contentNode=Ut("div",h+"-content",b),qs(m),Ca(this._contentNode),Ct(m,"contextmenu",es),this._tipContainer=Ut("div",h+"-tip-container",m),this._tip=Ut("div",h+"-tip",this._tipContainer),this.options.closeButton){var k=this._closeButton=Ut("a",h+"-close-button",m);k.setAttribute("role","button"),k.setAttribute("aria-label","Close popup"),k.href="#close",k.innerHTML='<span aria-hidden="true">&#215;</span>',Ct(k,"click",function(z){Cn(z),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,m=h.style;m.width="",m.whiteSpace="nowrap";var b=h.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),m.width=b+1+"px",m.whiteSpace="",m.height="";var k=h.offsetHeight,z=this.options.maxHeight,ae="leaflet-popup-scrolled";z&&k>z?(m.height=z+"px",yr(h,ae)):Rn(h,ae),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var m=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),b=this._getAnchor();Kr(this._container,m.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,m=parseInt(Ar(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+m,k=this._containerWidth,z=new _e(this._containerLeft,-b-this._containerBottom);z._add(Hs(this._container));var ae=h.layerPointToContainerPoint(z),Me=Ne(this.options.autoPanPadding),We=Ne(this.options.autoPanPaddingTopLeft||Me),tt=Ne(this.options.autoPanPaddingBottomRight||Me),pt=h.getSize(),kt=0,tr=0;ae.x+k+tt.x>pt.x&&(kt=ae.x+k-pt.x+tt.x),ae.x-kt-We.x<0&&(kt=ae.x-We.x),ae.y+b+tt.y>pt.y&&(tr=ae.y+b-pt.y+tt.y),ae.y-tr-We.y<0&&(tr=ae.y-We.y),(kt||tr)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([kt,tr]))}},_getAnchor:function(){return Ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zc=function(h,m){return new fo(h,m)};Br.mergeOptions({closePopupOnClick:!0}),Br.include({openPopup:function(h,m,b){return this._initOverlay(fo,h,m,b).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),Dn.include({bindPopup:function(h,m){return this._popup=this._initOverlay(fo,this._popup,h,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof ns||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){no(h);var m=h.layer||h.target;if(this._popup._source===m&&!(m instanceof ii)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=m,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var lc=bi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){bi.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){bi.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=bi.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",m=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ut("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var m,b,k=this._map,z=this._container,ae=k.latLngToContainerPoint(k.getCenter()),Me=k.layerPointToContainerPoint(h),We=this.options.direction,tt=z.offsetWidth,pt=z.offsetHeight,kt=Ne(this.options.offset),tr=this._getAnchor();We==="top"?(m=tt/2,b=pt):We==="bottom"?(m=tt/2,b=0):We==="center"?(m=tt/2,b=pt/2):We==="right"?(m=0,b=pt/2):We==="left"?(m=tt,b=pt/2):Me.x<ae.x?(We="right",m=0,b=pt/2):(We="left",m=tt+(kt.x+tr.x)*2,b=pt/2),h=h.subtract(Ne(m,b,!0)).add(kt).add(tr),Rn(z,"leaflet-tooltip-right"),Rn(z,"leaflet-tooltip-left"),Rn(z,"leaflet-tooltip-top"),Rn(z,"leaflet-tooltip-bottom"),yr(z,"leaflet-tooltip-"+We),Kr(z,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&cn(this._container,h)},_animateZoom:function(h){var m=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(m)},_getAnchor:function(){return Ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),tf=function(h,m){return new lc(h,m)};Br.include({openTooltip:function(h,m,b){return this._initOverlay(lc,h,m,b).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Dn.include({bindTooltip:function(h,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lc,this._tooltip,h,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var m=h?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[m](b),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof ns||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var m=typeof h.getElement=="function"&&h.getElement();m&&(Ct(m,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Ct(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var m=typeof h.getElement=="function"&&h.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var m=h.latlng,b,k;this._tooltip.options.sticky&&h.originalEvent&&(b=this._map.mouseEventToContainerPoint(h.originalEvent),k=this._map.containerPointToLayerPoint(b),m=this._map.layerPointToLatLng(k)),this._tooltip.setLatLng(m)}});var hh=pa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var m=h&&h.tagName==="DIV"?h:document.createElement("div"),b=this.options;if(b.html instanceof Element?(ri(m),m.appendChild(b.html)):m.innerHTML=b.html!==!1?b.html:"",b.bgPos){var k=Ne(b.bgPos);m.style.backgroundPosition=-k.x+"px "+-k.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function rf(h){return new hh(h)}pa.Default=Fo;var Ol=Dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ye.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){S(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),qr(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ar(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ta(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof _e?h:new _e(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var m=this.getPane().children,b=-h(-1/0,1/0),k=0,z=m.length,ae;k<z;k++)ae=m[k].style.zIndex,m[k]!==this._container&&ae&&(b=h(b,+ae));isFinite(b)&&(this.options.zIndex=b+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ye.ielt9){cn(this._container,this.options.opacity);var h=+new Date,m=!1,b=!1;for(var k in this._tiles){var z=this._tiles[k];if(!(!z.current||!z.loaded)){var ae=Math.min(1,(h-z.loaded)/200);cn(z.el,ae),ae<1?m=!0:(z.active?b=!0:this._onOpaqueTile(z),z.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),m&&(Z(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=Ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,m=this.options.maxZoom;if(h!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===h?(this._levels[b].el.style.zIndex=m-Math.abs(h-b),this._onUpdateLevel(b)):(qr(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var k=this._levels[h],z=this._map;return k||(k=this._levels[h]={},k.el=Ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),k.el.style.zIndex=m,k.origin=z.project(z.unproject(z.getPixelOrigin()),h).round(),k.zoom=h,this._setZoomTransform(k,z.getCenter(),z.getZoom()),v(k.el.offsetWidth),this._onCreateLevel(k)),this._level=k,k}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var h,m,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)m=this._tiles[h],m.retain=m.current;for(h in this._tiles)if(m=this._tiles[h],m.current&&!m.active){var k=m.coords;this._retainParent(k.x,k.y,k.z,k.z-5)||this._retainChildren(k.x,k.y,k.z,k.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var m in this._tiles)this._tiles[m].coords.z===h&&this._removeTile(m)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)qr(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,m,b,k){var z=Math.floor(h/2),ae=Math.floor(m/2),Me=b-1,We=new _e(+z,+ae);We.z=+Me;var tt=this._tileCoordsToKey(We),pt=this._tiles[tt];return pt&&pt.active?(pt.retain=!0,!0):(pt&&pt.loaded&&(pt.retain=!0),Me>k?this._retainParent(z,ae,Me,k):!1)},_retainChildren:function(h,m,b,k){for(var z=2*h;z<2*h+2;z++)for(var ae=2*m;ae<2*m+2;ae++){var Me=new _e(z,ae);Me.z=b+1;var We=this._tileCoordsToKey(Me),tt=this._tiles[We];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);b+1<k&&this._retainChildren(z,ae,b+1,k)}},_resetView:function(h){var m=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var m=this.options;return m.minNativeZoom!==void 0&&h<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<h?m.maxNativeZoom:h},_setView:function(h,m,b,k){var z=Math.round(m);this.options.maxZoom!==void 0&&z>this.options.maxZoom||this.options.minZoom!==void 0&&z<this.options.minZoom?z=void 0:z=this._clampZoom(z);var ae=this.options.updateWhenZooming&&z!==this._tileZoom;(!k||ae)&&(this._tileZoom=z,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),z!==void 0&&this._update(h),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(h,m)},_setZoomTransforms:function(h,m){for(var b in this._levels)this._setZoomTransform(this._levels[b],h,m)},_setZoomTransform:function(h,m,b){var k=this._map.getZoomScale(b,h.zoom),z=h.origin.multiplyBy(k).subtract(this._map._getNewPixelOrigin(m,b)).round();Ye.any3d?Gs(h.el,z,k):Kr(h.el,z)},_resetGrid:function(){var h=this._map,m=h.options.crs,b=this._tileSize=this.getTileSize(),k=this._tileZoom,z=this._map.getPixelWorldBounds(this._tileZoom);z&&(this._globalTileRange=this._pxBoundsToTileRange(z)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,m.wrapLng[0]],k).x/b.x),Math.ceil(h.project([0,m.wrapLng[1]],k).x/b.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([m.wrapLat[0],0],k).y/b.x),Math.ceil(h.project([m.wrapLat[1],0],k).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var m=this._map,b=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),k=m.getZoomScale(b,this._tileZoom),z=m.project(h,this._tileZoom).floor(),ae=m.getSize().divideBy(k*2);return new ee(z.subtract(ae),z.add(ae))},_update:function(h){var m=this._map;if(m){var b=this._clampZoom(m.getZoom());if(h===void 0&&(h=m.getCenter()),this._tileZoom!==void 0){var k=this._getTiledPixelBounds(h),z=this._pxBoundsToTileRange(k),ae=z.getCenter(),Me=[],We=this.options.keepBuffer,tt=new ee(z.getBottomLeft().subtract([We,-We]),z.getTopRight().add([We,-We]));if(!(isFinite(z.min.x)&&isFinite(z.min.y)&&isFinite(z.max.x)&&isFinite(z.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var pt in this._tiles){var kt=this._tiles[pt].coords;(kt.z!==this._tileZoom||!tt.contains(new _e(kt.x,kt.y)))&&(this._tiles[pt].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(h,b);return}for(var tr=z.min.y;tr<=z.max.y;tr++)for(var Ur=z.min.x;Ur<=z.max.x;Ur++){var sa=new _e(Ur,tr);if(sa.z=this._tileZoom,!!this._isValidTile(sa)){var di=this._tiles[this._tileCoordsToKey(sa)];di?di.current=!0:Me.push(sa)}}if(Me.sort(function(dn,pn){return dn.distanceTo(ae)-pn.distanceTo(ae)}),Me.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var cs=document.createDocumentFragment();for(Ur=0;Ur<Me.length;Ur++)this._addTile(Me[Ur],cs);this._level.el.appendChild(cs)}}}},_isValidTile:function(h){var m=this._map.options.crs;if(!m.infinite){var b=this._globalTileRange;if(!m.wrapLng&&(h.x<b.min.x||h.x>b.max.x)||!m.wrapLat&&(h.y<b.min.y||h.y>b.max.y))return!1}if(!this.options.bounds)return!0;var k=this._tileCoordsToBounds(h);return H(this.options.bounds).overlaps(k)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var m=this._map,b=this.getTileSize(),k=h.scaleBy(b),z=k.add(b),ae=m.unproject(k,h.z),Me=m.unproject(z,h.z);return[ae,Me]},_tileCoordsToBounds:function(h){var m=this._tileCoordsToNwSe(h),b=new G(m[0],m[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var m=h.split(":"),b=new _e(+m[0],+m[1]);return b.z=+m[2],b},_removeTile:function(h){var m=this._tiles[h];m&&(qr(m.el),delete this._tiles[h],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){yr(h,"leaflet-tile");var m=this.getTileSize();h.style.width=m.x+"px",h.style.height=m.y+"px",h.onselectstart=v,h.onmousemove=v,Ye.ielt9&&this.options.opacity<1&&cn(h,this.options.opacity)},_addTile:function(h,m){var b=this._getTilePos(h),k=this._tileCoordsToKey(h),z=this.createTile(this._wrapCoords(h),s(this._tileReady,this,h));this._initTile(z),this.createTile.length<2&&B(s(this._tileReady,this,h,null,z)),Kr(z,b),this._tiles[k]={el:z,coords:h,current:!0},m.appendChild(z),this.fire("tileloadstart",{tile:z,coords:h})},_tileReady:function(h,m,b){m&&this.fire("tileerror",{error:m,tile:b,coords:h});var k=this._tileCoordsToKey(h);b=this._tiles[k],b&&(b.loaded=+new Date,this._map._fadeAnimated?(cn(b.el,0),Z(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),m||(yr(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ye.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var m=new _e(this._wrapX?p(h.x,this._wrapX):h.x,this._wrapY?p(h.y,this._wrapY):h.y);return m.z=h.z,m},_pxBoundsToTileRange:function(h){var m=this.getTileSize();return new ee(h.min.unscaleBy(m).floor(),h.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function fh(h){return new Ol(h)}var Ns=Ol.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,m){this._url=h,m=S(this,m),m.detectRetina&&Ye.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,m){return this._url===h&&m===void 0&&(m=!0),this._url=h,m||this.redraw(),this},createTile:function(h,m){var b=document.createElement("img");return Ct(b,"load",s(this._tileOnLoad,this,m,b)),Ct(b,"error",s(this._tileOnError,this,m,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(h),b},getTileUrl:function(h){var m={r:Ye.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-h.y;this.options.tms&&(m.y=b),m["-y"]=b}return D(this._url,i(m,this.options))},_tileOnLoad:function(h,m){Ye.ielt9?setTimeout(s(h,this,null,m),0):h(null,m)},_tileOnError:function(h,m,b){var k=this.options.errorTileUrl;k&&m.getAttribute("src")!==k&&(m.src=k),h(b,m)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,m=this.options.maxZoom,b=this.options.zoomReverse,k=this.options.zoomOffset;return b&&(h=m-h),h+k},_getSubdomain:function(h){var m=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var h,m;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(m=this._tiles[h].el,m.onload=v,m.onerror=v,!m.complete)){m.src=X;var b=this._tiles[h].coords;qr(m),delete this._tiles[h],this.fire("tileabort",{tile:m,coords:b})}},_removeTile:function(h){var m=this._tiles[h];if(m)return m.el.setAttribute("src",X),Ol.prototype._removeTile.call(this,h)},_tileReady:function(h,m,b){if(!(!this._map||b&&b.getAttribute("src")===X))return Ol.prototype._tileReady.call(this,h,m,b)}});function ss(h,m){return new Ns(h,m)}var cc=Ns.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,m){this._url=h;var b=i({},this.defaultWmsParams);for(var k in m)k in this.options||(b[k]=m[k]);m=S(this,m);var z=m.detectRetina&&Ye.retina?2:1,ae=this.getTileSize();b.width=ae.x*z,b.height=ae.y*z,this.wmsParams=b},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,Ns.prototype.onAdd.call(this,h)},getTileUrl:function(h){var m=this._tileCoordsToNwSe(h),b=this._crs,k=O(b.project(m[0]),b.project(m[1])),z=k.min,ae=k.max,Me=(this._wmsVersion>=1.3&&this._crs===Pl?[z.y,z.x,ae.y,ae.x]:[z.x,z.y,ae.x,ae.y]).join(","),We=Ns.prototype.getTileUrl.call(this,h);return We+C(this.wmsParams,We,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Me},setParams:function(h,m){return i(this.wmsParams,h),m||this.redraw(),this}});function os(h,m){return new cc(h,m)}Ns.WMS=cc,ss.wms=os;var Oa=Dn.extend({options:{padding:.1},initialize:function(h){S(this,h),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,m){var b=this._map.getZoomScale(m,this._zoom),k=this._map.getSize().multiplyBy(.5+this.options.padding),z=this._map.project(this._center,m),ae=k.multiplyBy(-b).add(z).subtract(this._map._getNewPixelOrigin(h,m));Ye.any3d?Gs(this._container,ae,b):Kr(this._container,ae)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,m=this._map.getSize(),b=this._map.containerPointToLayerPoint(m.multiplyBy(-h)).round();this._bounds=new ee(b,b.add(m.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gc=Oa.extend({options:{tolerance:0},getEvents:function(){var h=Oa.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Oa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Ct(h,"mousemove",this._onMouseMove,this),Ct(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ct(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,qr(this._container),fn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var m in this._layers)h=this._layers[m],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oa.prototype._update.call(this);var h=this._bounds,m=this._container,b=h.getSize(),k=Ye.retina?2:1;Kr(m,h.min),m.width=k*b.x,m.height=k*b.y,m.style.width=b.x+"px",m.style.height=b.y+"px",Ye.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){Oa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[u(h)]=h;var m=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var m=h._order,b=m.next,k=m.prev;b?b.prev=k:this._drawLast=k,k?k.next=b:this._drawFirst=b,delete h._order,delete this._layers[u(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var m=h.options.dashArray.split(/[, ]+/),b=[],k,z;for(z=0;z<m.length;z++){if(k=Number(m[z]),isNaN(k))return;b.push(k)}h.options._dashArray=b}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var m=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(h._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(h._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var m=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,m=this._redrawBounds;if(this._ctx.save(),m){var b=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var k=this._drawFirst;k;k=k.next)h=k.layer,(!m||h._pxBounds&&h._pxBounds.intersects(m))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,m){if(this._drawing){var b,k,z,ae,Me=h._parts,We=Me.length,tt=this._ctx;if(We){for(tt.beginPath(),b=0;b<We;b++){for(k=0,z=Me[b].length;k<z;k++)ae=Me[b][k],tt[k?"lineTo":"moveTo"](ae.x,ae.y);m&&tt.closePath()}this._fillStroke(tt,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var m=h._point,b=this._ctx,k=Math.max(Math.round(h._radius),1),z=(Math.max(Math.round(h._radiusY),1)||k)/k;z!==1&&(b.save(),b.scale(1,z)),b.beginPath(),b.arc(m.x,m.y/z,k,0,Math.PI*2,!1),z!==1&&b.restore(),this._fillStroke(b,h)}},_fillStroke:function(h,m){var b=m.options;b.fill&&(h.globalAlpha=b.fillOpacity,h.fillStyle=b.fillColor||b.color,h.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(h.setLineDash&&h.setLineDash(m.options&&m.options._dashArray||[]),h.globalAlpha=b.opacity,h.lineWidth=b.weight,h.strokeStyle=b.color,h.lineCap=b.lineCap,h.lineJoin=b.lineJoin,h.stroke())},_onClick:function(h){for(var m=this._map.mouseEventToLayerPoint(h),b,k,z=this._drawFirst;z;z=z.next)b=z.layer,b.options.interactive&&b._containsPoint(m)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(b))&&(k=b);this._fireEvent(k?[k]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,m)}},_handleMouseOut:function(h){var m=this._hoveredLayer;m&&(Rn(this._container,"leaflet-interactive"),this._fireEvent([m],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,m){if(!this._mouseHoverThrottled){for(var b,k,z=this._drawFirst;z;z=z.next)b=z.layer,b.options.interactive&&b._containsPoint(m)&&(k=b);k!==this._hoveredLayer&&(this._handleMouseOut(h),k&&(yr(this._container,"leaflet-interactive"),this._fireEvent([k],h,"mouseover"),this._hoveredLayer=k)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,m,b){this._map._fireDOMEvent(m,b||m.type,h)},_bringToFront:function(h){var m=h._order;if(m){var b=m.next,k=m.prev;if(b)b.prev=k;else return;k?k.next=b:b&&(this._drawFirst=b),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(h)}},_bringToBack:function(h){var m=h._order;if(m){var b=m.next,k=m.prev;if(k)k.next=b;else return;b?b.prev=k:k&&(this._drawLast=k),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(h)}}});function uc(h){return Ye.canvas?new Gc(h):null}var zo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),xu={_initContainer:function(){this._container=Ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Oa.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var m=h._container=zo("shape");yr(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",h._path=zo("path"),m.appendChild(h._path),this._updateStyle(h),this._layers[u(h)]=h},_addPath:function(h){var m=h._container;this._container.appendChild(m),h.options.interactive&&h.addInteractiveTarget(m)},_removePath:function(h){var m=h._container;qr(m),h.removeInteractiveTarget(m),delete this._layers[u(h)]},_updateStyle:function(h){var m=h._stroke,b=h._fill,k=h.options,z=h._container;z.stroked=!!k.stroke,z.filled=!!k.fill,k.stroke?(m||(m=h._stroke=zo("stroke")),z.appendChild(m),m.weight=k.weight+"px",m.color=k.color,m.opacity=k.opacity,k.dashArray?m.dashStyle=j(k.dashArray)?k.dashArray.join(" "):k.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=k.lineCap.replace("butt","flat"),m.joinstyle=k.lineJoin):m&&(z.removeChild(m),h._stroke=null),k.fill?(b||(b=h._fill=zo("fill")),z.appendChild(b),b.color=k.fillColor||k.color,b.opacity=k.fillOpacity):b&&(z.removeChild(b),h._fill=null)},_updateCircle:function(h){var m=h._point.round(),b=Math.round(h._radius),k=Math.round(h._radiusY||b);this._setPath(h,h._empty()?"M0 0":"AL "+m.x+","+m.y+" "+b+","+k+" 0,"+65535*360)},_setPath:function(h,m){h._path.v=m},_bringToFront:function(h){ar(h._container)},_bringToBack:function(h){Ta(h._container)}},Cs=Ye.vml?zo:we,Go=Oa.extend({_initContainer:function(){this._container=Cs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Cs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qr(this._container),fn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oa.prototype._update.call(this);var h=this._bounds,m=h.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,b.setAttribute("width",m.x),b.setAttribute("height",m.y)),Kr(b,h.min),b.setAttribute("viewBox",[h.min.x,h.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(h){var m=h._path=Cs("path");h.options.className&&yr(m,h.options.className),h.options.interactive&&yr(m,"leaflet-interactive"),this._updateStyle(h),this._layers[u(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){qr(h._path),h.removeInteractiveTarget(h._path),delete this._layers[u(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var m=h._path,b=h.options;m&&(b.stroke?(m.setAttribute("stroke",b.color),m.setAttribute("stroke-opacity",b.opacity),m.setAttribute("stroke-width",b.weight),m.setAttribute("stroke-linecap",b.lineCap),m.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?m.setAttribute("stroke-dasharray",b.dashArray):m.removeAttribute("stroke-dasharray"),b.dashOffset?m.setAttribute("stroke-dashoffset",b.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),b.fill?(m.setAttribute("fill",b.fillColor||b.color),m.setAttribute("fill-opacity",b.fillOpacity),m.setAttribute("fill-rule",b.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(h,m){this._setPath(h,yt(h._parts,m))},_updateCircle:function(h){var m=h._point,b=Math.max(Math.round(h._radius),1),k=Math.max(Math.round(h._radiusY),1)||b,z="a"+b+","+k+" 0 1,0 ",ae=h._empty()?"M0 0":"M"+(m.x-b)+","+m.y+z+b*2+",0 "+z+-b*2+",0 ";this._setPath(h,ae)},_setPath:function(h,m){h._path.setAttribute("d",m)},_bringToFront:function(h){ar(h._path)},_bringToBack:function(h){Ta(h._path)}});Ye.vml&&Go.include(xu);function ia(h){return Ye.svg||Ye.vml?new Go(h):null}Br.include({getRenderer:function(h){var m=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var m=this._paneRenderers[h];return m===void 0&&(m=this._createRenderer({pane:h}),this._paneRenderers[h]=m),m},_createRenderer:function(h){return this.options.preferCanvas&&uc(h)||ia(h)}});var Ui=Bo.extend({initialize:function(h,m){Bo.prototype.initialize.call(this,this._boundsToLatLngs(h),m)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=H(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function wu(h,m){return new Ui(h,m)}Go.create=Cs,Go.pointsToPath=yt,Bi.geometryToLayer=wi,Bi.coordsToLatLng=ul,Bi.coordsToLatLngs=Uo,Bi.latLngToCoords=Ks,Bi.latLngsToCoords=Ls,Bi.getFeature=Ma,Bi.asFeature=co,Br.mergeOptions({boxZoom:!0});var aa=Se.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mo(),nc(),this._startPoint=this._map.mouseEventToContainerPoint(h),Ct(document,{contextmenu:no,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Ut("div","leaflet-zoom-box",this._container),yr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var m=new ee(this._point,this._startPoint),b=m.getSize();Kr(this._box,m.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(qr(this._box),Rn(this._container,"leaflet-crosshair")),La(),Ll(),fn(document,{contextmenu:no,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var m=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Br.addInitHook("addHandler","boxZoom",aa),Br.mergeOptions({doubleClickZoom:!0});var Hc=Se.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var m=this._map,b=m.getZoom(),k=m.options.zoomDelta,z=h.originalEvent.shiftKey?b-k:b+k;m.options.doubleClickZoom==="center"?m.setZoom(z):m.setZoomAround(h.containerPoint,z)}});Br.addInitHook("addHandler","doubleClickZoom",Hc),Br.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ls=Se.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new at(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}yr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Rn(this._map._container,"leaflet-grab"),Rn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=H(this._map.options.maxBounds);this._offsetLimit=O(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var m=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(m),this._prunePositions(m)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,m){return h-(h-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;h.x<m.min.x&&(h.x=this._viscousLimit(h.x,m.min.x)),h.y<m.min.y&&(h.y=this._viscousLimit(h.y,m.min.y)),h.x>m.max.x&&(h.x=this._viscousLimit(h.x,m.max.x)),h.y>m.max.y&&(h.y=this._viscousLimit(h.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,m=Math.round(h/2),b=this._initialWorldOffset,k=this._draggable._newPos.x,z=(k-m+b)%h+m-b,ae=(k+m+b)%h-m-b,Me=Math.abs(z+b)<Math.abs(ae+b)?z:ae;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Me},_onDragEnd:function(h){var m=this._map,b=m.options,k=!b.inertia||h.noInertia||this._times.length<2;if(m.fire("dragend",h),k)m.fire("moveend");else{this._prunePositions(+new Date);var z=this._lastPos.subtract(this._positions[0]),ae=(this._lastTime-this._times[0])/1e3,Me=b.easeLinearity,We=z.multiplyBy(Me/ae),tt=We.distanceTo([0,0]),pt=Math.min(b.inertiaMaxSpeed,tt),kt=We.multiplyBy(pt/tt),tr=pt/(b.inertiaDeceleration*Me),Ur=kt.multiplyBy(-tr/2).round();!Ur.x&&!Ur.y?m.fire("moveend"):(Ur=m._limitOffset(Ur,m.options.maxBounds),B(function(){m.panBy(Ur,{duration:tr,easeLinearity:Me,noMoveStart:!0,animate:!0})}))}}});Br.addInitHook("addHandler","dragging",ls),Br.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hc=Se.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Ct(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,m=document.documentElement,b=h.scrollTop||m.scrollTop,k=h.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(k,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var m=this._panKeys={},b=this.keyCodes,k,z;for(k=0,z=b.left.length;k<z;k++)m[b.left[k]]=[-1*h,0];for(k=0,z=b.right.length;k<z;k++)m[b.right[k]]=[h,0];for(k=0,z=b.down.length;k<z;k++)m[b.down[k]]=[0,h];for(k=0,z=b.up.length;k<z;k++)m[b.up[k]]=[0,-1*h]},_setZoomDelta:function(h){var m=this._zoomKeys={},b=this.keyCodes,k,z;for(k=0,z=b.zoomIn.length;k<z;k++)m[b.zoomIn[k]]=h;for(k=0,z=b.zoomOut.length;k<z;k++)m[b.zoomOut[k]]=-h},_addHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var m=h.keyCode,b=this._map,k;if(m in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(k=this._panKeys[m],h.shiftKey&&(k=Ne(k).multiplyBy(3)),b.options.maxBounds&&(k=b._limitOffset(Ne(k),b.options.maxBounds)),b.options.worldCopyJump){var z=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(k)));b.panTo(z)}else b.panBy(k)}else if(m in this._zoomKeys)b.setZoom(b.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;no(h)}}});Br.addInitHook("addHandler","keyboard",hc),Br.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Rl=Se.extend({addHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var m=Pi(h),b=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var k=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),k),no(h)},_performZoom:function(){var h=this._map,m=h.getZoom(),b=this._map.options.zoomSnap||0;h._stop();var k=this._delta/(this._map.options.wheelPxPerZoomLevel*4),z=4*Math.log(2/(1+Math.exp(-Math.abs(k))))/Math.LN2,ae=b?Math.ceil(z/b)*b:z,Me=h._limitZoom(m+(this._delta>0?ae:-ae))-m;this._delta=0,this._startTime=null,Me&&(h.options.scrollWheelZoom==="center"?h.setZoom(m+Me):h.setZoomAround(this._lastMousePos,m+Me))}});Br.addInitHook("addHandler","scrollWheelZoom",Rl);var hl=600;Br.mergeOptions({tapHold:Ye.touchNative&&Ye.safari&&Ye.mobile,tapTolerance:15});var fc=Se.extend({addHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var m=h.touches[0];this._startPos=this._newPos=new _e(m.clientX,m.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(Ct(document,"touchend",Cn),Ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),hl),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){fn(document,"touchend",Cn),fn(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),fn(document,"touchend touchcancel contextmenu",this._cancel,this),fn(document,"touchmove",this._onMove,this)},_onMove:function(h){var m=h.touches[0];this._newPos=new _e(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,m){var b=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});b._simulated=!0,m.target.dispatchEvent(b)}});Br.addInitHook("addHandler","tapHold",fc),Br.mergeOptions({touchZoom:Ye.touch,bounceAtZoomLimits:!0});var qc=Se.extend({addHooks:function(){yr(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Rn(this._map._container,"leaflet-touch-zoom"),fn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var m=this._map;if(!(!h.touches||h.touches.length!==2||m._animatingZoom||this._zooming)){var b=m.mouseEventToContainerPoint(h.touches[0]),k=m.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(b.add(k)._divideBy(2))),this._startDist=b.distanceTo(k),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),Cn(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var m=this._map,b=m.mouseEventToContainerPoint(h.touches[0]),k=m.mouseEventToContainerPoint(h.touches[1]),z=b.distanceTo(k)/this._startDist;if(this._zoom=m.getScaleZoom(z,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&z<1||this._zoom>m.getMaxZoom()&&z>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,z===1)return}else{var ae=b._add(k)._divideBy(2)._subtract(this._centerPoint);if(z===1&&ae.x===0&&ae.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(ae),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var Me=s(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(Me,this,!0),Cn(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),fn(document,"touchmove",this._onTouchMove,this),fn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Br.addInitHook("addHandler","touchZoom",qc),Br.BoxZoom=aa,Br.DoubleClickZoom=Hc,Br.Drag=ls,Br.Keyboard=hc,Br.ScrollWheelZoom=Rl,Br.TapHold=fc,Br.TouchZoom=qc,r.Bounds=ee,r.Browser=Ye,r.CRS=Ae,r.Canvas=Gc,r.Circle=Ys,r.CircleMarker=as,r.Class=de,r.Control=Oi,r.DivIcon=hh,r.DivOverlay=bi,r.DomEvent=Ss,r.DomUtil=sl,r.Draggable=at,r.Evented=be,r.FeatureGroup=ns,r.GeoJSON=Bi,r.GridLayer=Ol,r.Handler=Se,r.Icon=pa,r.ImageOverlay=Pa,r.LatLng=Y,r.LatLngBounds=G,r.Layer=Dn,r.LayerGroup=Ga,r.LineUtil=kl,r.Map=Br,r.Marker=Zs,r.Mixin=De,r.Path=ii,r.Point=_e,r.PolyUtil=br,r.Polygon=Bo,r.Polyline=qa,r.Popup=fo,r.PosAnimation=io,r.Projection=ll,r.Rectangle=Ui,r.Renderer=Oa,r.SVG=Go,r.SVGOverlay=ai,r.TileLayer=Ns,r.Tooltip=lc,r.Transformation=ot,r.Util=ue,r.VideoOverlay=Jr,r.bind=s,r.bounds=O,r.canvas=uc,r.circle=oc,r.circleMarker=so,r.control=rs,r.divIcon=rf,r.extend=i,r.featureGroup=is,r.geoJSON=uo,r.geoJson=ma,r.gridLayer=fh,r.icon=Io,r.imageOverlay=un,r.latLng=se,r.latLngBounds=H,r.layerGroup=sc,r.map=Ml,r.marker=Ha,r.point=Ne,r.polygon=oo,r.polyline=fi,r.popup=zc,r.rectangle=wu,r.setOptions=S,r.stamp=u,r.svg=ia,r.svgOverlay=ho,r.tileLayer=ss,r.tooltip=tf,r.transformation=it,r.version=n,r.videoOverlay=Mn;var dc=window.L;r.noConflict=function(){return window.L=dc,this},window.L=r}))})(_0,_0.exports)),_0.exports}var tc=Tz();const Is=$1(tc);function ef(t,e,r){return Object.freeze({instance:t,context:e,container:r})}function mg(t,e){return e==null?function(n,i){const a=ve.useRef(void 0);return a.current||(a.current=t(n,i)),a}:function(n,i){const a=ve.useRef(void 0);a.current||(a.current=t(n,i));const s=ve.useRef(n),{instance:l}=a.current;return ve.useEffect(function(){s.current!==n&&(e(l,n,s.current),s.current=n)},[l,n,e]),a}}function k8(t,e){ve.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function P8(t){return function(r){const n=Tp(),i=t(Ap(r,n),n);return C8(n.map,r.attribution),py(i.current,r.eventHandlers),k8(i.current,n),i}}function Az(t,e){const r=ve.useRef(void 0);ve.useEffect(function(){if(e.pathOptions!==r.current){const i=e.pathOptions??{};t.instance.setStyle(i),r.current=i}},[t,e])}function Lz(t){return function(r){const n=Tp(),i=t(Ap(r,n),n);return py(i.current,r.eventHandlers),k8(i.current,n),Az(i.current,r),i}}function Nz(t,e){const r=mg(t,e),n=P8(r);return M8(n)}function Cz(t,e){const r=mg(t),n=Sz(r,e);return wz(n)}function my(t,e){const r=mg(t,e),n=Lz(r);return M8(n)}function O8(t,e){const r=mg(t,e),n=P8(r);return bz(n)}function R8(t,e,r){const{opacity:n,zIndex:i}=e;n!=null&&n!==r.opacity&&t.setOpacity(n),i!=null&&i!==r.zIndex&&t.setZIndex(i)}function Mz(){return Tp().map}const kz=my(function({center:e,children:r,...n},i){const a=new tc.Circle(e,n);return ef(a,pg(i,{overlayContainer:a}))},_z),Pz=my(function({children:e,...r},n){const i=new tc.FeatureGroup([],r);return ef(i,pg(n,{layerContainer:i,overlayContainer:i}))}),D8=my(function({data:e,...r},n){const i=new tc.GeoJSON(e,r);return ef(i,pg(n,{overlayContainer:i}))},function(e,r,n){r.style!==n.style&&(r.style==null?e.resetStyle():e.setStyle(r.style))});function Oz({bounds:t,boundsOptions:e,center:r,children:n,className:i,id:a,placeholder:s,style:l,whenReady:u,zoom:f,...p},v){const[y]=ve.useState({className:i,id:a,style:l}),[_,T]=ve.useState(null),S=ve.useRef(void 0);ve.useImperativeHandle(v,()=>_?.map??null,[_]);const C=ve.useCallback(D=>{if(D!==null&&!S.current){const j=new tc.Map(D,p);S.current=j,r!=null&&f!=null?j.setView(r,f):t!=null&&j.fitBounds(t,e),u!=null&&j.whenReady(u),T(xz(j))}},[]);ve.useEffect(()=>()=>{_?.map.remove()},[_]);const M=_?th.createElement(dy,{value:_},n):s??null;return th.createElement("div",{...y,ref:C},M)}const gy=ve.forwardRef(Oz),Rz=Nz(function({position:e,...r},n){const i=new tc.Marker(e,r);return ef(i,pg(n,{overlayContainer:i}))},function(e,r,n){r.position!==n.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),j8=Cz(function(e,r){const n=new tc.Popup(e,r.overlayContainer);return ef(n,r)},function(e,r,{position:n},i){ve.useEffect(function(){const{instance:s}=e;function l(f){f.popup===s&&(s.update(),i(!0))}function u(f){f.popup===s&&i(!1)}return r.map.on({popupopen:l,popupclose:u}),r.overlayContainer==null?(n!=null&&s.setLatLng(n),s.openOn(r.map)):r.overlayContainer.bindPopup(s),function(){r.map.off({popupopen:l,popupclose:u}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(s)}},[e,r,i,n])}),vy=O8(function({url:e,...r},n){const i=new tc.TileLayer(e,Ap(r,n));return ef(i,n)},function(e,r,n){R8(e,r,n);const{url:i}=r;i!=null&&i!==n.url&&e.setUrl(i)}),I8=O8(function({eventHandlers:e,params:r={},url:n,...i},a){const s=new tc.TileLayer.WMS(n,{...r,...Ap(i,a)});return ef(s,a)},function(e,r,n){R8(e,r,n),r.params!=null&&r.params!==n.params&&e.setParams(r.params)});var N2={exports:{}},C2,y3;function Dz(){if(y3)return C2;y3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return C2=t,C2}var M2,x3;function jz(){if(x3)return M2;x3=1;var t=Dz();function e(){}function r(){}return r.resetWarningCache=e,M2=function(){function n(s,l,u,f,p,v){if(v!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},M2}var w3;function Iz(){return w3||(w3=1,N2.exports=jz()()),N2.exports}var on=Iz();(function(t,e,r){function n(i,a){for(;(i=i.parentElement)&&!i.classList.contains(a););return i}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(i,a){this._map=i,this._container=i._container,this._overlayPane=i._panes.overlayPane,this._popupPane=i._panes.popupPane,a&&a.shapeOptions&&(a.shapeOptions=L.Util.extend({},this.options.shapeOptions,a.shapeOptions)),L.setOptions(this,a);var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(L.DomUtil.disableTextSelection(),i.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(i){L.setOptions(this,i)},_fireCreatedEvent:function(i){this._map.fire(L.Draw.Event.CREATED,{layer:i,layerType:this.type})},_cancelDrawing:function(i){i.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(i,a){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,a&&a.drawError&&(a.drawError=L.Util.extend({},this.options.drawError,a.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,i,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var i=this._markers.pop(),a=this._poly,s=a.getLatLngs(),l=s.splice(-1,1)[0];this._poly.setLatLngs(s),this._markerGroup.removeLayer(i),a.getLatLngs().length<2&&this._map.removeLayer(a),this._vertexChanged(l,!1)}},addVertex:function(i){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(i))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(i)),this._poly.addLatLng(i),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(i,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var i=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),a=this._poly.newLatLngIntersects(i[i.length-1]);if(!this.options.allowIntersection&&a||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(i){var a=this._map.mouseEventToLayerPoint(i.originalEvent),s=this._map.layerPointToLatLng(a);this._currentLatLng=s,this._updateTooltip(s),this._updateGuide(a),this._mouseMarker.setLatLng(s),L.DomEvent.preventDefault(i.originalEvent)},_vertexChanged:function(i,a){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(i,a),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(i){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(i),this._clickHandled=!0,this._disableNewMarkers();var a=i.originalEvent,s=a.clientX,l=a.clientY;this._startPoint.call(this,s,l)}},_startPoint:function(i,a){this._mouseDownOrigin=L.point(i,a)},_onMouseUp:function(i){var a=i.originalEvent,s=a.clientX,l=a.clientY;this._endPoint.call(this,s,l,i),this._clickHandled=null},_endPoint:function(i,a,s){if(this._mouseDownOrigin){var l=L.point(i,a).distanceTo(this._mouseDownOrigin),u=this._calculateFinishDistance(s.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(s.latlng),this._finishShape()):u<10&&L.Browser.touch?this._finishShape():Math.abs(l)<9*(t.devicePixelRatio||1)&&this.addVertex(s.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(i){var a,s,l=i.originalEvent;!l.touches||!l.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(a=l.touches[0].clientX,s=l.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,a,s),this._endPoint.call(this,a,s,i),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(i){var a;if(this._markers.length>0){var s;if(this.type===L.Draw.Polyline.TYPE)s=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;s=this._markers[0]}var l=this._map.latLngToContainerPoint(s.getLatLng()),u=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),f=this._map.latLngToContainerPoint(u.getLatLng());a=l.distanceTo(f)}else a=1/0;return a},_updateFinishHandler:function(){var i=this._markers.length;i>1&&this._markers[i-1].on("click",this._finishShape,this),i>2&&this._markers[i-2].off("click",this._finishShape,this)},_createMarker:function(i){var a=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(a),a},_updateGuide:function(i){var a=this._markers?this._markers.length:0;a>0&&(i=i||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[a-1].getLatLng()),i))},_updateTooltip:function(i){var a=this._getTooltipText();i&&this._tooltip.updatePosition(i),this._errorShown||this._tooltip.updateContent(a)},_drawGuide:function(i,a){var s,l,u,f=Math.floor(Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2))),p=this.options.guidelineDistance,v=this.options.maxGuideLineLength,y=f>v?f-v:p;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));y<f;y+=this.options.guidelineDistance)s=y/f,l={x:Math.floor(i.x*(1-s)+s*a.x),y:Math.floor(i.y*(1-s)+s*a.y)},u=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),u.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(u,l)},_updateGuideColor:function(i){if(this._guidesContainer)for(var a=0,s=this._guidesContainer.childNodes.length;a<s;a++)this._guidesContainer.childNodes[a].style.backgroundColor=i},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var i,a,s=this.options.showLength;return this._markers.length===0?i={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(a=s?this._getMeasurementString():"",i=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:a}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:a}),i},_updateRunningMeasure:function(i,a){var s,l,u=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(s=u-(a?2:1),l=L.GeometryUtil.isVersion07x()?i.distanceTo(this._markers[s].getLatLng())*(this.options.factor||1):this._map.distance(i,this._markers[s].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=l*(a?1:-1))},_getMeasurementString:function(){var i,a=this._currentLatLng,s=this._markers[this._markers.length-1].getLatLng();return i=L.GeometryUtil.isVersion07x()?s&&a&&a.distanceTo?this._measurementRunningTotal+a.distanceTo(s)*(this.options.factor||1):this._measurementRunningTotal||0:s&&a?this._measurementRunningTotal+this._map.distance(a,s)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(i,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var i=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(i,a){L.Draw.Polyline.prototype.initialize.call(this,i,a),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var i=this._markers.length;i===1&&this._markers[0].on("click",this._finishShape,this),i>2&&(this._markers[i-1].on("dblclick",this._finishShape,this),i>3&&this._markers[i-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var i,a;return this._markers.length===0?i=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(i=L.drawLocal.draw.handlers.polygon.tooltip.cont,a=this._getMeasurementString()):(i=L.drawLocal.draw.handlers.polygon.tooltip.end,a=this._getMeasurementString()),{text:i,subtext:a}},_getMeasurementString:function(){var i=this._area,a="";return i||this.options.showLength?(this.options.showLength&&(a=L.Draw.Polyline.prototype._getMeasurementString.call(this)),i&&(a+="<br>"+L.GeometryUtil.readableArea(i,this.options.metric,this.options.precision)),a):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(i,a){var s;!this.options.allowIntersection&&this.options.showArea&&(s=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(s)),L.Draw.Polyline.prototype._vertexChanged.call(this,i,a)},_cleanUpShape:function(){var i=this._markers.length;i>0&&(this._markers[0].off("click",this._finishShape,this),i>2&&this._markers[i-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(i,a){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,i,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(i){this._isDrawing=!0,this._startLatLng=i.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(i.originalEvent)},_onMouseMove:function(i){var a=i.latlng;this._tooltip.updatePosition(a),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(a))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(i,a){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,a)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(i){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!n(i.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(i){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,i)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,i),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_getTooltipText:function(){var i,a,s,l=L.Draw.SimpleShape.prototype._getTooltipText.call(this),u=this._shape,f=this.options.showArea;return u&&(i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),a=L.GeometryUtil.geodesicArea(i),s=f?L.GeometryUtil.readableArea(a,this.options.metric):""),{text:l.text,subtext:s}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(i,a){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(i){var a=i.latlng;this._tooltip.updatePosition(a),this._mouseMarker.setLatLng(a),this._marker?(a=this._mouseMarker.getLatLng(),this._marker.setLatLng(a)):(this._marker=this._createMarker(a),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(i){return new L.Marker(i,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(i){this._onMouseMove(i),this._onClick()},_fireCreatedEvent:function(){var i=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(i,a){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,a)},_fireCreatedEvent:function(){var i=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)},_createMarker:function(i){return new L.CircleMarker(i,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(i,a){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,a)},_drawShape:function(i){if(L.GeometryUtil.isVersion07x())var a=this._startLatLng.distanceTo(i);else var a=this._map.distance(this._startLatLng,i);this._shape?this._shape.setRadius(a):(this._shape=new L.Circle(this._startLatLng,a,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_onMouseMove:function(i){var a,s=i.latlng,l=this.options.showRadius,u=this.options.metric;if(this._tooltip.updatePosition(s),this._isDrawing){this._drawShape(s),a=this._shape.getRadius().toFixed(1);var f="";l&&(f=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(a,u,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:f})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(i,a){this._marker=i,L.setOptions(this,a)},addHooks:function(){var i=this._marker;i.dragging.enable(),i.on("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},removeHooks:function(){var i=this._marker;i.dragging.disable(),i.off("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},_onDragEnd:function(i){var a=i.target;a.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_toggleMarkerHighlight:function(){var i=this._marker._icon;i&&(i.style.display="none",L.DomUtil.hasClass(i,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,-4)):(L.DomUtil.addClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,4)),i.style.display="")},_offsetMarker:function(i,a){var s=parseInt(i.style.marginTop,10)-a,l=parseInt(i.style.marginLeft,10)-a;i.style.marginTop=s+"px",i.style.marginLeft=l+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(i){this.latlngs=[i._latlngs],i._holes&&(this.latlngs=this.latlngs.concat(i._holes)),this._poly=i,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(i){for(var a=0;a<this._verticesHandlers.length;a++)i(this._verticesHandlers[a])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(i){i.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(i){i.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(i){i.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var i=0;i<this.latlngs.length;i++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[i],this._poly.options.poly))},_updateLatLngs:function(i){this.latlngs=[i.layer._latlngs],i.layer._holes&&(this.latlngs=this.latlngs.concat(i.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(i,a,s){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=i,s&&s.drawError&&(s.drawError=L.Util.extend({},this.options.drawError,s.drawError)),this._latlngs=a,L.setOptions(this,s)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var i=this._poly,a=i._path;i instanceof L.Polygon||(i.options.fill=!1,i.options.editing&&(i.options.editing.fill=!1)),a&&i.options.editing&&i.options.editing.className&&(i.options.original.className&&i.options.original.className.split(" ").forEach(function(s){L.DomUtil.removeClass(a,s)}),i.options.editing.className.split(" ").forEach(function(s){L.DomUtil.addClass(a,s)})),i.setStyle(i.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var i=this._poly,a=i._path;a&&i.options.editing&&i.options.editing.className&&(i.options.editing.className.split(" ").forEach(function(s){L.DomUtil.removeClass(a,s)}),i.options.original.className&&i.options.original.className.split(" ").forEach(function(s){L.DomUtil.addClass(a,s)})),i.setStyle(i.options.original),i._map&&(i._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var i,a,s,l,u=this._defaultShape();for(i=0,s=u.length;i<s;i++)l=this._createMarker(u[i],i),l.on("click",this._onMarkerClick,this),l.on("contextmenu",this._onContextMenu,this),this._markers.push(l);var f,p;for(i=0,a=s-1;i<s;a=i++)(i!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(f=this._markers[a],p=this._markers[i],this._createMiddleMarker(f,p),this._updatePrevNext(f,p))},_createMarker:function(i,a){var s=new L.Marker.Touch(i,{draggable:!0,icon:this.options.icon});return s._origLatLng=i,s._index=a,s.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(s),s},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var i=this._defaultShape(),a=[].splice.apply(i,arguments);return this._poly._convertLatLngs(i,!0),this._poly.redraw(),a},_removeMarker:function(i){var a=i._index;this._markerGroup.removeLayer(i),this._markers.splice(a,1),this._spliceLatLngs(a,1),this._updateIndexes(a,-1),i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(i){var a=i.target,s=this._poly,l=L.LatLngUtil.cloneLatLng(a._origLatLng);if(L.extend(a._origLatLng,a._latlng),s.options.poly){var u=s._map._editTooltip;if(!s.options.poly.allowIntersection&&s.intersects()){L.extend(a._origLatLng,l),a.setLatLng(l);var f=s.options.color;s.setStyle({color:this.options.drawError.color}),u&&u.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){s.setStyle({color:f}),u&&u.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}a._middleLeft&&a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev,a)),a._middleRight&&a._middleRight.setLatLng(this._getMiddleLatLng(a,a._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var p=this._poly.getLatLngs();this._poly._convertLatLngs(p,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(i){var a=L.Polygon&&this._poly instanceof L.Polygon?4:3,s=i.target;this._defaultShape().length<a||(this._removeMarker(s),this._updatePrevNext(s._prev,s._next),s._middleLeft&&this._markerGroup.removeLayer(s._middleLeft),s._middleRight&&this._markerGroup.removeLayer(s._middleRight),s._prev&&s._next?this._createMiddleMarker(s._prev,s._next):s._prev?s._next||(s._prev._middleRight=null):s._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(i){var a=i.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:a,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(i){var a=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),s=this._map.layerPointToLatLng(a),l=i.target;L.extend(l._origLatLng,s),l._middleLeft&&l._middleLeft.setLatLng(this._getMiddleLatLng(l._prev,l)),l._middleRight&&l._middleRight.setLatLng(this._getMiddleLatLng(l,l._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(i,a){this._markerGroup.eachLayer(function(s){s._index>i&&(s._index+=a)})},_createMiddleMarker:function(i,a){var s,l,u,f=this._getMiddleLatLng(i,a),p=this._createMarker(f);p.setOpacity(.6),i._middleRight=a._middleLeft=p,l=function(){p.off("touchmove",l,this);var v=a._index;p._index=v,p.off("click",s,this).on("click",this._onMarkerClick,this),f.lat=p.getLatLng().lat,f.lng=p.getLatLng().lng,this._spliceLatLngs(v,0,f),this._markers.splice(v,0,p),p.setOpacity(1),this._updateIndexes(v,1),a._index++,this._updatePrevNext(i,p),this._updatePrevNext(p,a),this._poly.fire("editstart")},u=function(){p.off("dragstart",l,this),p.off("dragend",u,this),p.off("touchmove",l,this),this._createMiddleMarker(i,p),this._createMiddleMarker(p,a)},s=function(){l.call(this),u.call(this),this._fireEdit()},p.on("click",s,this).on("dragstart",l,this).on("dragend",u,this).on("touchmove",l,this),this._markerGroup.addLayer(p)},_updatePrevNext:function(i,a){i&&(i._next=a),a&&(a._prev=i)},_getMiddleLatLng:function(i,a){var s=this._poly._map,l=s.project(i.getLatLng()),u=s.project(a.getLatLng());return s.unproject(l._add(u)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(i,a){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=i,L.Util.setOptions(this,a)},addHooks:function(){var i=this._shape;this._shape._map&&(this._map=this._shape._map,i.setStyle(i.options.editing),i._map&&(this._map=i._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var i=this._shape;if(i.setStyle(i.options.original),i._map){this._unbindMarker(this._moveMarker);for(var a=0,s=this._resizeMarkers.length;a<s;a++)this._unbindMarker(this._resizeMarkers[a]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(i,a){var s=new L.Marker.Touch(i,{draggable:!0,icon:a,zIndexOffset:10});return this._bindMarker(s),this._markerGroup.addLayer(s),s},_bindMarker:function(i){i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(i){i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(i){i.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(i){var a=i.target,s=a.getLatLng();a===this._moveMarker?this._move(s):this._resize(s),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(i){i.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(i){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i),typeof this._getCorners=="function"){var a=this._getCorners(),s=i.target,l=s._cornerIndex;s.setOpacity(0),this._oppositeCorner=a[(l+2)%4],this._toggleCornerMarkers(0,l)}this._shape.fire("editstart")},_onTouchMove:function(i){var a=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),s=this._map.layerPointToLatLng(a);return i.target===this._moveMarker?this._move(s):this._resize(s),this._shape.redraw(),!1},_onTouchEnd:function(i){i.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getBounds(),a=i.getCenter();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){var i=this._getCorners();this._resizeMarkers=[];for(var a=0,s=i.length;a<s;a++)this._resizeMarkers.push(this._createMarker(i[a],this.options.resizeIcon)),this._resizeMarkers[a]._cornerIndex=a},_onMarkerDragStart:function(i){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i);var a=this._getCorners(),s=i.target,l=s._cornerIndex;this._oppositeCorner=a[(l+2)%4],this._toggleCornerMarkers(0,l)},_onMarkerDragEnd:function(i){var a,s,l=i.target;l===this._moveMarker&&(a=this._shape.getBounds(),s=a.getCenter(),l.setLatLng(s)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,i)},_move:function(i){for(var a,s=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),l=this._shape.getBounds(),u=l.getCenter(),f=[],p=0,v=s.length;p<v;p++)a=[s[p].lat-u.lat,s[p].lng-u.lng],f.push([i.lat+a[0],i.lng+a[1]]);this._shape.setLatLngs(f),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(i){var a;this._shape.setBounds(L.latLngBounds(i,this._oppositeCorner)),a=this._shape.getBounds(),this._moveMarker.setLatLng(a.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var i=this._shape.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_toggleCornerMarkers:function(i){for(var a=0,s=this._resizeMarkers.length;a<s;a++)this._resizeMarkers[a].setOpacity(i)},_repositionCornerMarkers:function(){for(var i=this._getCorners(),a=0,s=this._resizeMarkers.length;a<s;a++)this._resizeMarkers[a].setLatLng(i[a])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getLatLng();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(i){if(this._resizeMarkers.length){var a=this._getResizeMarkerPoint(i);this._resizeMarkers[0].setLatLng(a)}this._shape.setLatLng(i),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var i=this._shape.getLatLng(),a=this._getResizeMarkerPoint(i);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(a,this.options.resizeIcon))},_getResizeMarkerPoint:function(i){var a=this._shape._radius*Math.cos(Math.PI/4),s=this._map.project(i);return this._map.unproject([s.x+a,s.y-a])},_resize:function(i){var a=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=a.distanceTo(i):radius=this._map.distance(a,i),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(i,a){var s={};if(i.touches!==void 0){if(!i.touches.length)return;s=i.touches[0]}else if(i.pointerType!=="touch"||(s=i,!this._filterClick(i)))return;var l=this._map.mouseEventToContainerPoint(s),u=this._map.mouseEventToLayerPoint(s),f=this._map.layerPointToLatLng(u);this._map.fire(a,{latlng:f,layerPoint:u,containerPoint:l,pageX:s.pageX,pageY:s.pageY,originalEvent:i})},_filterClick:function(i){var a=i.timeStamp||i.originalEvent.timeStamp,s=L.DomEvent._lastClick&&a-L.DomEvent._lastClick;return s&&s>100&&s<500||i.target._simulatedClick&&!i._simulated?(L.DomEvent.stop(i),!1):(L.DomEvent._lastClick=a,!0)},_onTouchStart:function(i){this._map._loaded&&this._touchEvent(i,"touchstart")},_onTouchEnd:function(i){this._map._loaded&&this._touchEvent(i,"touchend")},_onTouchCancel:function(i){if(this._map._loaded){var a="touchcancel";this._detectIE()&&(a="pointercancel"),this._touchEvent(i,a)}},_onTouchLeave:function(i){this._map._loaded&&this._touchEvent(i,"touchleave")},_onTouchMove:function(i){this._map._loaded&&this._touchEvent(i,"touchmove")},_detectIE:function(){var i=t.navigator.userAgent,a=i.indexOf("MSIE ");if(a>0)return parseInt(i.substring(a+5,i.indexOf(".",a)),10);if(i.indexOf("Trident/")>0){var s=i.indexOf("rv:");return parseInt(i.substring(s+3,i.indexOf(".",s)),10)}var l=i.indexOf("Edge/");return l>0&&parseInt(i.substring(l+5,i.indexOf(".",l)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var i=this._icon,a=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?a.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):a.concat(["touchcancel"]),L.DomUtil.addClass(i,"leaflet-clickable"),L.DomEvent.on(i,"click",this._onMouseClick,this),L.DomEvent.on(i,"keypress",this._onKeyPress,this);for(var s=0;s<a.length;s++)L.DomEvent.on(i,a[s],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var i=t.navigator.userAgent,a=i.indexOf("MSIE ");if(a>0)return parseInt(i.substring(a+5,i.indexOf(".",a)),10);if(i.indexOf("Trident/")>0){var s=i.indexOf("rv:");return parseInt(i.substring(s+3,i.indexOf(".",s)),10)}var l=i.indexOf("Edge/");return l>0&&parseInt(i.substring(l+5,i.indexOf(".",l)),10)}}),L.LatLngUtil={cloneLatLngs:function(i){for(var a=[],s=0,l=i.length;s<l;s++)Array.isArray(i[s])?a.push(L.LatLngUtil.cloneLatLngs(i[s])):a.push(this.cloneLatLng(i[s]));return a},cloneLatLng:function(i){return L.latLng(i.lat,i.lng)}},(function(){var i={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(a){var s,l,u=a.length,f=0,p=Math.PI/180;if(u>2){for(var v=0;v<u;v++)s=a[v],l=a[(v+1)%u],f+=(l.lng-s.lng)*p*(2+Math.sin(s.lat*p)+Math.sin(l.lat*p));f=6378137*f*6378137/2}return Math.abs(f)},formattedNumber:function(a,s){var l=parseFloat(a).toFixed(s),u=L.drawLocal.format&&L.drawLocal.format.numeric,f=u&&u.delimiters,p=f&&f.thousands,v=f&&f.decimal;if(p||v){var y=l.split(".");l=p?y[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p):y[0],v=v||".",y.length>1&&(l=l+v+y[1])}return l},readableArea:function(a,s,p){var u,f,p=L.Util.extend({},i,p);return s?(f=["ha","m"],type=typeof s,type==="string"?f=[s]:type!=="boolean"&&(f=s),u=a>=1e6&&f.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*a,p.km)+" km":a>=1e4&&f.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*a,p.ha)+" ha":L.GeometryUtil.formattedNumber(a,p.m)+" m"):(a/=.836127,u=a>=3097600?L.GeometryUtil.formattedNumber(a/3097600,p.mi)+" mi":a>=4840?L.GeometryUtil.formattedNumber(a/4840,p.ac)+" acres":L.GeometryUtil.formattedNumber(a,p.yd)+" yd"),u},readableDistance:function(a,s,l,u,v){var p,v=L.Util.extend({},i,v);switch(s?typeof s=="string"?s:"metric":l?"feet":u?"nauticalMile":"yards"){case"metric":p=a>1e3?L.GeometryUtil.formattedNumber(a/1e3,v.km)+" km":L.GeometryUtil.formattedNumber(a,v.m)+" m";break;case"feet":a*=3.28083,p=L.GeometryUtil.formattedNumber(a,v.ft)+" ft";break;case"nauticalMile":a*=.53996,p=L.GeometryUtil.formattedNumber(a/1e3,v.nm)+" nm";break;default:a*=1.09361,p=a>1760?L.GeometryUtil.formattedNumber(a/1760,v.mi)+" miles":L.GeometryUtil.formattedNumber(a,v.yd)+" yd"}return p},isVersion07x:function(){var a=L.version.split(".");return parseInt(a[0],10)===0&&parseInt(a[1],10)===7}})})(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(i,a,s,l){return this._checkCounterclockwise(i,s,l)!==this._checkCounterclockwise(a,s,l)&&this._checkCounterclockwise(i,a,s)!==this._checkCounterclockwise(i,a,l)},_checkCounterclockwise:function(i,a,s){return(s.y-i.y)*(a.x-i.x)>(a.y-i.y)*(s.x-i.x)}}),L.Polyline.include({intersects:function(){var i,a,s,l=this._getProjectedPoints(),u=l?l.length:0;if(this._tooFewPointsForIntersection())return!1;for(i=u-1;i>=3;i--)if(a=l[i-1],s=l[i],this._lineSegmentsIntersectsRange(a,s,i-2))return!0;return!1},newLatLngIntersects:function(i,a){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(i),a)},newPointIntersects:function(i,a){var s=this._getProjectedPoints(),l=s?s.length:0,u=s?s[l-1]:null,f=l-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(u,i,f,a?1:0)},_tooFewPointsForIntersection:function(i){var a=this._getProjectedPoints(),s=a?a.length:0;return s+=i||0,!a||s<=3},_lineSegmentsIntersectsRange:function(i,a,s,l){var u,f,p=this._getProjectedPoints();l=l||0;for(var v=s;v>l;v--)if(u=p[v-1],f=p[v],L.LineUtil.segmentsIntersect(i,a,u,f))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var i=[],a=this._defaultShape(),s=0;s<a.length;s++)i.push(this._map.latLngToLayerPoint(a[s]));return i}}),L.Polygon.include({intersects:function(){var i,a,s,l,u=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(i=u.length,a=u[0],s=u[i-1],l=i-2,this._lineSegmentsIntersectsRange(s,a,l,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(i){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,i);var a;this._toolbars={},L.DrawToolbar&&this.options.draw&&(a=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=a,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(a=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=a,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(i){var a,s=L.DomUtil.create("div","leaflet-draw"),l=!1;for(var u in this._toolbars)this._toolbars.hasOwnProperty(u)&&(a=this._toolbars[u].addToolbar(i))&&(l||(L.DomUtil.hasClass(a,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(a.childNodes[0],"leaflet-draw-toolbar-top"),l=!0),s.appendChild(a));return s},onRemove:function(){for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&this._toolbars[i].removeToolbar()},setDrawingOptions:function(i){for(var a in this._toolbars)this._toolbars[a]instanceof L.DrawToolbar&&this._toolbars[a].setOptions(i)},_toolbarEnabled:function(i){var a=i.target;for(var s in this._toolbars)this._toolbars[s]!==a&&this._toolbars[s].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(i){L.setOptions(this,i),this._modes={},this._actionButtons=[],this._activeMode=null;var a=L.version.split(".");parseInt(a[0],10)===1&&parseInt(a[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(i){var a,s=L.DomUtil.create("div","leaflet-draw-section"),l=0,u=this._toolbarClass||"",f=this.getModeHandlers(i);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=i,a=0;a<f.length;a++)f[a].enabled&&this._initModeHandler(f[a].handler,this._toolbarContainer,l++,u,f[a].title);if(l)return this._lastButtonIndex=--l,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),s.appendChild(this._toolbarContainer),s.appendChild(this._actionsContainer),s},removeToolbar:function(){for(var i in this._modes)this._modes.hasOwnProperty(i)&&(this._disposeButton(this._modes[i].button,this._modes[i].handler.enable,this._modes[i].handler),this._modes[i].handler.disable(),this._modes[i].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var a=0,s=this._actionButtons.length;a<s;a++)this._disposeButton(this._actionButtons[a].button,this._actionButtons[a].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(i,a,s,l,u){var f=i.type;this._modes[f]={},this._modes[f].handler=i,this._modes[f].button=this._createButton({type:f,title:u,className:l+"-"+f,container:a,callback:this._modes[f].handler.enable,context:this._modes[f].handler}),this._modes[f].buttonIndex=s,this._modes[f].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(i){var a=L.DomUtil.create("a",i.className||"",i.container),s=L.DomUtil.create("span","sr-only",i.container);a.href="#",a.appendChild(s),i.title&&(a.title=i.title,s.innerHTML=i.title),i.text&&(a.innerHTML=i.text,s.innerHTML=i.text);var l=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(a,"click",L.DomEvent.stopPropagation).on(a,"mousedown",L.DomEvent.stopPropagation).on(a,"dblclick",L.DomEvent.stopPropagation).on(a,"touchstart",L.DomEvent.stopPropagation).on(a,"click",L.DomEvent.preventDefault).on(a,l,i.callback,i.context),a},_disposeButton:function(i,a){var s=this._detectIOS()?"touchstart":"click";L.DomEvent.off(i,"click",L.DomEvent.stopPropagation).off(i,"mousedown",L.DomEvent.stopPropagation).off(i,"dblclick",L.DomEvent.stopPropagation).off(i,"touchstart",L.DomEvent.stopPropagation).off(i,"click",L.DomEvent.preventDefault).off(i,s,a)},_handlerActivated:function(i){this.disable(),this._activeMode=this._modes[i.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(i){var a,s,l,u,f=this._actionsContainer,p=this.getActions(i),v=p.length;for(s=0,l=this._actionButtons.length;s<l;s++)this._disposeButton(this._actionButtons[s].button,this._actionButtons[s].callback);for(this._actionButtons=[];f.firstChild;)f.removeChild(f.firstChild);for(var y=0;y<v;y++)"enabled"in p[y]&&!p[y].enabled||(a=L.DomUtil.create("li","",f),u=this._createButton({title:p[y].title,text:p[y].text,container:a,callback:p[y].callback,context:p[y].context}),this._actionButtons.push({button:u,callback:p[y].callback}))},_showActionsToolbar:function(){var i=this._activeMode.buttonIndex,a=this._lastButtonIndex,s=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=s+"px",i===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),i===a&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(i){this._map=i,this._popupPane=i._panes.popupPane,this._visible=!1,this._container=i.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(i){return this._container?(i.subtext=i.subtext||"",i.subtext.length!==0||this._singleLineLabel?i.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(i.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+i.subtext+"</span><br />":"")+"<span>"+i.text+"</span>",i.text||i.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(i){var a=this._map.latLngToLayerPoint(i),s=this._container;return this._container&&(this._visible&&(s.style.visibility="inherit"),L.DomUtil.setPosition(s,a)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(i){for(var a in this.options)this.options.hasOwnProperty(a)&&i[a]&&(i[a]=L.extend({},this.options[a],i[a]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,i)},getModeHandlers:function(i){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(i,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(i,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(i,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(i,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(i,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(i,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(i){return[{enabled:i.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:i.completeShape,context:i},{enabled:i.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:i.deleteLastVertex,context:i},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(i){L.setOptions(this,i);for(var a in this._modes)this._modes.hasOwnProperty(a)&&i.hasOwnProperty(a)&&this._modes[a].handler.setOptions(i[a])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(i){i.edit&&(i.edit.selectedPathOptions===void 0&&(i.edit.selectedPathOptions=this.options.edit.selectedPathOptions),i.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,i.edit.selectedPathOptions)),i.remove&&(i.remove=L.extend({},this.options.remove,i.remove)),i.poly&&(i.poly=L.extend({},this.options.poly,i.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,i),this._selectedFeatureCount=0},getModeHandlers:function(i){var a=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(i,{featureGroup:a,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(i,{featureGroup:a}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(i){var a=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return i.removeAllLayers&&a.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),a},addToolbar:function(i){var a=L.Toolbar.prototype.addToolbar.call(this,i);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),a},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var i,a=this.options.featureGroup,s=a.getLayers().length!==0;this.options.edit&&(i=this._modes[L.EditToolbar.Edit.TYPE].button,s?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",s?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(i=this._modes[L.EditToolbar.Delete.TYPE].button,s?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",s?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(i,a){if(L.Handler.prototype.initialize.call(this,i),L.setOptions(this,a),this._featureGroup=a.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),i._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(i){this._revertLayer(i)},this)},save:function(){var i=new L.LayerGroup;this._featureGroup.eachLayer(function(a){a.edited&&(i.addLayer(a),a.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:i})},_backupLayer:function(i){var a=L.Util.stamp(i);this._uneditedLayerProps[a]||(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?this._uneditedLayerProps[a]={latlngs:L.LatLngUtil.cloneLatLngs(i.getLatLngs())}:i instanceof L.Circle?this._uneditedLayerProps[a]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng()),radius:i.getRadius()}:(i instanceof L.Marker||i instanceof L.CircleMarker)&&(this._uneditedLayerProps[a]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(i){var a=L.Util.stamp(i);i.edited=!1,this._uneditedLayerProps.hasOwnProperty(a)&&(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?i.setLatLngs(this._uneditedLayerProps[a].latlngs):i instanceof L.Circle?(i.setLatLng(this._uneditedLayerProps[a].latlng),i.setRadius(this._uneditedLayerProps[a].radius)):(i instanceof L.Marker||i instanceof L.CircleMarker)&&i.setLatLng(this._uneditedLayerProps[a].latlng),i.fire("revert-edited",{layer:i}))},_enableLayerEdit:function(i){var a,s,l=i.layer||i.target||i;this._backupLayer(l),this.options.poly&&(s=L.Util.extend({},this.options.poly),l.options.poly=s),this.options.selectedPathOptions&&(a=L.Util.extend({},this.options.selectedPathOptions),a.maintainColor&&(a.color=l.options.color,a.fillColor=l.options.fillColor),l.options.original=L.extend({},l.options),l.options.editing=a),l instanceof L.Marker?(l.editing&&l.editing.enable(),l.dragging.enable(),l.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):l.editing.enable()},_disableLayerEdit:function(i){var a=i.layer||i.target||i;a.edited=!1,a.editing&&a.editing.disable(),delete a.options.editing,delete a.options.original,this._selectedPathOptions&&(a instanceof L.Marker?this._toggleMarkerHighlight(a):(a.setStyle(a.options.previousOptions),delete a.options.previousOptions)),a instanceof L.Marker?(a.dragging.disable(),a.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):a.editing.disable()},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_onMarkerDragEnd:function(i){var a=i.target;a.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_onTouchMove:function(i){var a=i.originalEvent.changedTouches[0],s=this._map.mouseEventToLayerPoint(a),l=this._map.layerPointToLatLng(s);i.target.setLatLng(l)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(i,a){if(L.Handler.prototype.initialize.call(this,i),L.Util.setOptions(this,a),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(i){this._deletableLayers.addLayer(i),i.fire("revert-deleted",{layer:i})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(i){this._removeLayer({layer:i})},this),this.save()},_enableLayerDelete:function(i){(i.layer||i.target||i).on("click",this._removeLayer,this)},_disableLayerDelete:function(i){var a=i.layer||i.target||i;a.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(a)},_removeLayer:function(i){var a=i.layer||i.target||i;this._deletableLayers.removeLayer(a),this._deletedLayers.addLayer(a),a.fire("deleted")},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);var k2,b3;function Fz(){return b3||(b3=1,k2=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}),k2}var Bz=Fz();const S3=$1(Bz);function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function E3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E3(Object(r),!0).forEach(function(n){Uz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uz(t,e,r){return(e=zz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zz(t){var e=Gz(t,"string");return op(e)=="symbol"?e:e+""}function Gz(t,e){if(op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ah={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"};function F8(t){var e=Tp(),r=ve.useRef(),n=ve.useRef(t),i=function(s){var l=t.onCreated,u=e.layerContainer||e.map;u.addLayer(s.layer),l&&l(s)};return th.useEffect(function(){var a=e.map,s=t.onMounted;for(var l in Ah)a.on(Ah[l],function(u){var f=Object.keys(Ah).filter(function(v){return Ah[v]===u.type});if(f.length===1){var p=f[0];t[p]&&t[p](u)}});return a.on(Is.Draw.Event.CREATED,i),r.current=T3(t,e),a.addControl(r.current),s&&s(r.current),function(){a.off(Is.Draw.Event.CREATED,i);for(var u in Ah)t[u]&&a.off(Ah[u],t[u]);r.current.remove(a)}},[t.onCreated,t.onDeleted,t.onEdited]),th.useEffect(function(){if(!(S3(t.draw,n.current.draw)&&S3(t.edit,n.current.edit)&&t.position===n.current.position)){var a=e.map;r.current.remove(a),r.current=T3(t,e),r.current.addTo(a);var s=t.onMounted;return s&&s(r.current),function(){r.current.remove(a)}}},[t.draw,t.edit,t.position,t.onCreated,t.onDeleted,t.onEdited]),null}function T3(t,e){var r=e.layerContainer,n=t.draw,i=t.edit,a=t.position,s={edit:j0(j0({},i),{},{featureGroup:r})};return n&&(s.draw=j0({},n)),a&&(s.position=a),new tc.Control.Draw(s)}F8.propTypes=j0(j0({},Object.keys(Ah).reduce(function(t,e){return t[e]=on.PropTypes.func,t},{})),{},{onCreated:on.PropTypes.func,onMounted:on.PropTypes.func,draw:on.PropTypes.shape({polyline:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),polygon:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),rectangle:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),circle:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),marker:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool])}),edit:on.PropTypes.shape({edit:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),remove:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),poly:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),allowIntersection:on.PropTypes.bool}),position:on.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:on.PropTypes.shape({map:on.PropTypes.instanceOf(tc.Map),layerContainer:on.PropTypes.shape({addLayer:on.PropTypes.func.isRequired,removeLayer:on.PropTypes.func.isRequired})})});function Hz(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t("EPSG:5041","+title=WGS 84 / UPS North (E,N) +proj=stere +lat_0=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t("EPSG:5042","+title=WGS 84 / UPS South (E,N) +proj=stere +lat_0=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var Hh=1,qh=2,gd=3,qz=4,w_=5,A3=6378137,Vz=6356752314e-3,L3=.0066943799901413165,I0=484813681109536e-20,At=Math.PI/2,$z=.16666666666666666,Wz=.04722222222222222,Zz=.022156084656084655,Dt=1e-10,Zi=.017453292519943295,Eo=57.29577951308232,Pn=Math.PI/4,lp=Math.PI*2,ca=3.14159265359,Co={};Co.greenwich=0;Co.lisbon=-9.131906111111;Co.paris=2.337229166667;Co.bogota=-74.080916666667;Co.madrid=-3.687938888889;Co.rome=12.452333333333;Co.bern=7.439583333333;Co.jakarta=106.807719444444;Co.ferro=-17.666666666667;Co.brussels=4.367975;Co.stockholm=18.058277777778;Co.athens=23.7163375;Co.oslo=10.722916666667;const Yz={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var N3=/[\s_\-\/\(\)]/g;function sh(t,e){if(t[e])return t[e];for(var r=Object.keys(t),n=e.toLowerCase().replace(N3,""),i=-1,a,s;++i<r.length;)if(a=r[i],s=a.toLowerCase().replace(N3,""),s===n)return t[a]}function b_(t){var e={},r=t.split("+").map(function(l){return l.trim()}).filter(function(l){return l}).reduce(function(l,u){var f=u.split("=");return f.push(!0),l[f[0].toLowerCase()]=f[1],l},{}),n,i,a,s={proj:"projName",datum:"datumCode",rf:function(l){e.rf=parseFloat(l)},lat_0:function(l){e.lat0=l*Zi},lat_1:function(l){e.lat1=l*Zi},lat_2:function(l){e.lat2=l*Zi},lat_ts:function(l){e.lat_ts=l*Zi},lon_0:function(l){e.long0=l*Zi},lon_1:function(l){e.long1=l*Zi},lon_2:function(l){e.long2=l*Zi},alpha:function(l){e.alpha=parseFloat(l)*Zi},gamma:function(l){e.rectified_grid_angle=parseFloat(l)*Zi},lonc:function(l){e.longc=l*Zi},x_0:function(l){e.x0=parseFloat(l)},y_0:function(l){e.y0=parseFloat(l)},k_0:function(l){e.k0=parseFloat(l)},k:function(l){e.k0=parseFloat(l)},a:function(l){e.a=parseFloat(l)},b:function(l){e.b=parseFloat(l)},r:function(l){e.a=e.b=parseFloat(l)},r_a:function(){e.R_A=!0},zone:function(l){e.zone=parseInt(l,10)},south:function(){e.utmSouth=!0},towgs84:function(l){e.datum_params=l.split(",").map(function(u){return parseFloat(u)})},to_meter:function(l){e.to_meter=parseFloat(l)},units:function(l){e.units=l;var u=sh(Yz,l);u&&(e.to_meter=u.to_meter)},from_greenwich:function(l){e.from_greenwich=l*Zi},pm:function(l){var u=sh(Co,l);e.from_greenwich=(u||parseFloat(l))*Zi},nadgrids:function(l){l==="@null"?e.datumCode="none":e.nadgrids=l},axis:function(l){var u="ewnsud";l.length===3&&u.indexOf(l.substr(0,1))!==-1&&u.indexOf(l.substr(1,1))!==-1&&u.indexOf(l.substr(2,1))!==-1&&(e.axis=l)},approx:function(){e.approx=!0},over:function(){e.over=!0}};for(n in r)i=r[n],n in s?(a=s[n],typeof a=="function"?a(i):e[a]=i):e[n]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e.projStr=t,e}class B8{static getId(e){const r=e.find(n=>Array.isArray(n)&&n[0]==="ID");return r&&r.length>=3?{authority:r[1],code:parseInt(r[2],10)}:null}static convertUnit(e,r="unit"){if(!e||e.length<3)return{type:r,name:"unknown",conversion_factor:null};const n=e[1],i=parseFloat(e[2])||null,a=e.find(l=>Array.isArray(l)&&l[0]==="ID"),s=a?{authority:a[1],code:parseInt(a[2],10)}:null;return{type:r,name:n,conversion_factor:i,id:s}}static convertAxis(e){const r=e[1]||"Unknown";let n;const i=r.match(/^\((.)\)$/);if(i){const f=i[1].toUpperCase();if(f==="E")n="east";else if(f==="N")n="north";else if(f==="U")n="up";else throw new Error(`Unknown axis abbreviation: ${f}`)}else n=e[2]?e[2].toLowerCase():"unknown";const a=e.find(f=>Array.isArray(f)&&f[0]==="ORDER"),s=a?parseInt(a[1],10):null,l=e.find(f=>Array.isArray(f)&&(f[0]==="LENGTHUNIT"||f[0]==="ANGLEUNIT"||f[0]==="SCALEUNIT")),u=this.convertUnit(l);return{name:r,direction:n,unit:u,order:s}}static extractAxes(e){return e.filter(r=>Array.isArray(r)&&r[0]==="AXIS").map(r=>this.convertAxis(r)).sort((r,n)=>(r.order||0)-(n.order||0))}static convert(e,r={}){switch(e[0]){case"PROJCRS":r.type="ProjectedCRS",r.name=e[1],r.base_crs=e.find(y=>Array.isArray(y)&&y[0]==="BASEGEOGCRS")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="BASEGEOGCRS")):null,r.conversion=e.find(y=>Array.isArray(y)&&y[0]==="CONVERSION")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="CONVERSION")):null;const n=e.find(y=>Array.isArray(y)&&y[0]==="CS");n&&(r.coordinate_system={type:n[1],axis:this.extractAxes(e)});const i=e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT");if(i){const y=this.convertUnit(i);r.coordinate_system.unit=y}r.id=this.getId(e);break;case"BASEGEOGCRS":case"GEOGCRS":r.type="GeographicCRS",r.name=e[1];const a=e.find(y=>Array.isArray(y)&&(y[0]==="DATUM"||y[0]==="ENSEMBLE"));if(a){const y=this.convert(a);a[0]==="ENSEMBLE"?r.datum_ensemble=y:r.datum=y;const _=e.find(T=>Array.isArray(T)&&T[0]==="PRIMEM");_&&_[1]!=="Greenwich"&&(y.prime_meridian={name:_[1],longitude:parseFloat(_[2])})}r.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(e)},r.id=this.getId(e);break;case"DATUM":r.type="GeodeticReferenceFrame",r.name=e[1],r.ellipsoid=e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":r.type="DatumEnsemble",r.name=e[1],r.members=e.filter(y=>Array.isArray(y)&&y[0]==="MEMBER").map(y=>({type:"DatumEnsembleMember",name:y[1],id:this.getId(y)}));const s=e.find(y=>Array.isArray(y)&&y[0]==="ENSEMBLEACCURACY");s&&(r.accuracy=parseFloat(s[1]));const l=e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID");l&&(r.ellipsoid=this.convert(l)),r.id=this.getId(e);break;case"ELLIPSOID":r.type="Ellipsoid",r.name=e[1],r.semi_major_axis=parseFloat(e[2]),r.inverse_flattening=parseFloat(e[3]),e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT")&&this.convert(e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT"),r);break;case"CONVERSION":r.type="Conversion",r.name=e[1],r.method=e.find(y=>Array.isArray(y)&&y[0]==="METHOD")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="METHOD")):null,r.parameters=e.filter(y=>Array.isArray(y)&&y[0]==="PARAMETER").map(y=>this.convert(y));break;case"METHOD":r.type="Method",r.name=e[1],r.id=this.getId(e);break;case"PARAMETER":r.type="Parameter",r.name=e[1],r.value=parseFloat(e[2]),r.unit=this.convertUnit(e.find(y=>Array.isArray(y)&&(y[0]==="LENGTHUNIT"||y[0]==="ANGLEUNIT"||y[0]==="SCALEUNIT"))),r.id=this.getId(e);break;case"BOUNDCRS":r.type="BoundCRS";const u=e.find(y=>Array.isArray(y)&&y[0]==="SOURCECRS");if(u){const y=u.find(_=>Array.isArray(_));r.source_crs=y?this.convert(y):null}const f=e.find(y=>Array.isArray(y)&&y[0]==="TARGETCRS");if(f){const y=f.find(_=>Array.isArray(_));r.target_crs=y?this.convert(y):null}const p=e.find(y=>Array.isArray(y)&&y[0]==="ABRIDGEDTRANSFORMATION");p?r.transformation=this.convert(p):r.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(r.type="Transformation",r.name=e[1],r.method=e.find(y=>Array.isArray(y)&&y[0]==="METHOD")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="METHOD")):null,r.parameters=e.filter(y=>Array.isArray(y)&&(y[0]==="PARAMETER"||y[0]==="PARAMETERFILE")).map(y=>{if(y[0]==="PARAMETER")return this.convert(y);if(y[0]==="PARAMETERFILE")return{name:y[1],value:y[2],id:{authority:"EPSG",code:8656}}}),r.parameters.length===7){const y=r.parameters[6];y.name==="Scale difference"&&(y.value=Math.round((y.value-1)*1e12)/1e6)}r.id=this.getId(e);break;case"AXIS":r.coordinate_system||(r.coordinate_system={type:"unspecified",axis:[]}),r.coordinate_system.axis.push(this.convertAxis(e));break;case"LENGTHUNIT":const v=this.convertUnit(e,"LinearUnit");r.coordinate_system&&r.coordinate_system.axis&&r.coordinate_system.axis.forEach(y=>{y.unit||(y.unit=v)}),v.conversion_factor&&v.conversion_factor!==1&&r.semi_major_axis&&(r.semi_major_axis={value:r.semi_major_axis,unit:v});break;default:r.keyword=e[0];break}return r}}class Kz extends B8{static convert(e,r={}){return super.convert(e,r),r.coordinate_system&&r.coordinate_system.subtype==="Cartesian"&&delete r.coordinate_system,r.usage&&delete r.usage,r}}class Xz extends B8{static convert(e,r={}){super.convert(e,r);const n=e.find(a=>Array.isArray(a)&&a[0]==="CS");n&&(r.coordinate_system={subtype:n[1],axis:this.extractAxes(e)});const i=e.find(a=>Array.isArray(a)&&a[0]==="USAGE");if(i){const a=i.find(u=>Array.isArray(u)&&u[0]==="SCOPE"),s=i.find(u=>Array.isArray(u)&&u[0]==="AREA"),l=i.find(u=>Array.isArray(u)&&u[0]==="BBOX");r.usage={},a&&(r.usage.scope=a[1]),s&&(r.usage.area=s[1]),l&&(r.usage.bbox=l.slice(1))}return r}}function Jz(t){return t.find(e=>Array.isArray(e)&&e[0]==="USAGE")?"2019":(t.find(e=>Array.isArray(e)&&e[0]==="CS")||t[0]==="BOUNDCRS"||t[0]==="PROJCRS"||t[0]==="GEOGCRS","2015")}function Qz(t){return(Jz(t)==="2019"?Xz:Kz).convert(t)}function eG(t){const e=t.toUpperCase();return e.includes("PROJCRS")||e.includes("GEOGCRS")||e.includes("BOUNDCRS")||e.includes("VERTCRS")||e.includes("LENGTHUNIT")||e.includes("ANGLEUNIT")||e.includes("SCALEUNIT")?"WKT2":(e.includes("PROJCS")||e.includes("GEOGCS")||e.includes("LOCAL_CS")||e.includes("VERT_CS")||e.includes("UNIT"),"WKT1")}var cp=1,U8=2,z8=3,F1=4,G8=5,_y=-1,tG=/\s/,rG=/[A-Za-z]/,nG=/[A-Za-z84_]/,gg=/[,\]]/,H8=/[\d\.E\-\+]/;function _u(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=cp}_u.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==F1)for(;tG.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case cp:return this.neutral(t);case U8:return this.keyword(t);case F1:return this.quoted(t);case G8:return this.afterquote(t);case z8:return this.number(t);case _y:return}};_u.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=F1;return}if(gg.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};_u.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=cp;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=cp,this.currentObject=this.stack.pop(),this.currentObject||(this.state=_y);return}};_u.prototype.number=function(t){if(H8.test(t)){this.word+=t;return}if(gg.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};_u.prototype.quoted=function(t){if(t==='"'){this.state=G8;return}this.word+=t};_u.prototype.keyword=function(t){if(nG.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=cp;return}if(gg.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};_u.prototype.neutral=function(t){if(rG.test(t)){this.word=t,this.state=U8;return}if(t==='"'){this.word="",this.state=F1;return}if(H8.test(t)){this.word=t,this.state=z8;return}if(gg.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};_u.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===_y)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function iG(t){var e=new _u(t);return e.output()}function P2(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var n=e?{}:t,i=r.reduce(function(a,s){return td(s,a),a},n);e&&(t[e]=i)}function td(t,e){if(!Array.isArray(t)){e[t]=!0;return}var r=t.shift();if(r==="PARAMETER"&&(r=t.shift()),t.length===1){if(Array.isArray(t[0])){e[r]={},td(t[0],e[r]);return}e[r]=t[0];return}if(!t.length){e[r]=!0;return}if(r==="TOWGS84"){e[r]=t;return}if(r==="AXIS"){r in e||(e[r]=[]),e[r].push(t);return}Array.isArray(r)||(e[r]={});var n;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[r]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&td(t[2],e[r]);return;case"SPHEROID":case"ELLIPSOID":e[r]={name:t[0],a:t[1],rf:t[2]},t.length===4&&td(t[3],e[r]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],P2(e,r,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],P2(e,r,t),e[r].type=r;return;default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return td(t,e[r]);return P2(e,r,t)}}var aG=.017453292519943295;function $l(t){return t*aG}function q8(t){const e=(t.projName||"").toLowerCase().replace(/_/g," ");!t.long0&&t.longc&&(e==="albers conic equal area"||e==="lambert azimuthal equal area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(e==="stereographic south pole"||e==="polar stereographic (variant b)")?(t.lat0=$l(t.lat1>0?90:-90),t.lat_ts=t.lat1,delete t.lat1):!t.lat_ts&&t.lat0&&(e==="polar stereographic"||e==="polar stereographic (variant a)")&&(t.lat_ts=t.lat0,t.lat0=$l(t.lat0>0?90:-90),delete t.lat1)}function C3(t){let e={units:null,to_meter:void 0};return typeof t=="string"?(e.units=t.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.units==="meter"&&(e.to_meter=1)):t&&t.name&&(e.units=t.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.to_meter=t.conversion_factor),e}function M3(t){return typeof t=="object"?t.value*t.unit.conversion_factor:t}function k3(t,e){t.ellipsoid.radius?(e.a=t.ellipsoid.radius,e.rf=0):(e.a=M3(t.ellipsoid.semi_major_axis),t.ellipsoid.inverse_flattening!==void 0?e.rf=t.ellipsoid.inverse_flattening:t.ellipsoid.semi_major_axis!==void 0&&t.ellipsoid.semi_minor_axis!==void 0&&(e.rf=e.a/(e.a-M3(t.ellipsoid.semi_minor_axis))))}function B1(t,e={}){return!t||typeof t!="object"?t:t.type==="BoundCRS"?(B1(t.source_crs,e),t.transformation&&(t.transformation.method&&t.transformation.method.name==="NTv2"?e.nadgrids=t.transformation.parameters[0].value:e.datum_params=t.transformation.parameters.map(r=>r.value)),e):(Object.keys(t).forEach(r=>{const n=t[r];if(n!==null)switch(r){case"name":if(e.srsCode)break;e.name=n,e.srsCode=n;break;case"type":n==="GeographicCRS"?e.projName="longlat":n==="ProjectedCRS"&&t.conversion&&t.conversion.method&&(e.projName=t.conversion.method.name);break;case"datum":case"datum_ensemble":n.ellipsoid&&(e.ellps=n.ellipsoid.name,k3(n,e)),n.prime_meridian&&(e.from_greenwich=n.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":e.ellps=n.name,k3(n,e);break;case"prime_meridian":e.long0=(n.longitude||0)*Math.PI/180;break;case"coordinate_system":if(n.axis){if(e.axis=n.axis.map(i=>{const a=i.direction;if(a==="east")return"e";if(a==="north")return"n";if(a==="west")return"w";if(a==="south")return"s";throw new Error(`Unknown axis direction: ${a}`)}).join("")+"u",n.unit){const{units:i,to_meter:a}=C3(n.unit);e.units=i,e.to_meter=a}else if(n.axis[0]&&n.axis[0].unit){const{units:i,to_meter:a}=C3(n.axis[0].unit);e.units=i,e.to_meter=a}}break;case"id":n.authority&&n.code&&(e.title=n.authority+":"+n.code);break;case"conversion":n.method&&n.method.name&&(e.projName=n.method.name),n.parameters&&n.parameters.forEach(i=>{const a=i.name.toLowerCase().replace(/\s+/g,"_"),s=i.value;i.unit&&i.unit.conversion_factor?e[a]=s*i.unit.conversion_factor:i.unit==="degree"?e[a]=s*Math.PI/180:e[a]=s});break;case"unit":n.name&&(e.units=n.name.toLowerCase(),e.units==="metre"&&(e.units="meter")),n.conversion_factor&&(e.to_meter=n.conversion_factor);break;case"base_crs":B1(n,e),e.datumCode=n.id?n.id.authority+"_"+n.id.code:n.name;break}}),e.latitude_of_false_origin!==void 0&&(e.lat0=e.latitude_of_false_origin),e.longitude_of_false_origin!==void 0&&(e.long0=e.longitude_of_false_origin),e.latitude_of_standard_parallel!==void 0&&(e.lat0=e.latitude_of_standard_parallel,e.lat1=e.latitude_of_standard_parallel),e.latitude_of_1st_standard_parallel!==void 0&&(e.lat1=e.latitude_of_1st_standard_parallel),e.latitude_of_2nd_standard_parallel!==void 0&&(e.lat2=e.latitude_of_2nd_standard_parallel),e.latitude_of_projection_centre!==void 0&&(e.lat0=e.latitude_of_projection_centre),e.longitude_of_projection_centre!==void 0&&(e.longc=e.longitude_of_projection_centre),e.easting_at_false_origin!==void 0&&(e.x0=e.easting_at_false_origin),e.northing_at_false_origin!==void 0&&(e.y0=e.northing_at_false_origin),e.latitude_of_natural_origin!==void 0&&(e.lat0=e.latitude_of_natural_origin),e.longitude_of_natural_origin!==void 0&&(e.long0=e.longitude_of_natural_origin),e.longitude_of_origin!==void 0&&(e.long0=e.longitude_of_origin),e.false_easting!==void 0&&(e.x0=e.false_easting),e.easting_at_projection_centre&&(e.x0=e.easting_at_projection_centre),e.false_northing!==void 0&&(e.y0=e.false_northing),e.northing_at_projection_centre&&(e.y0=e.northing_at_projection_centre),e.standard_parallel_1!==void 0&&(e.lat1=e.standard_parallel_1),e.standard_parallel_2!==void 0&&(e.lat2=e.standard_parallel_2),e.scale_factor_at_natural_origin!==void 0&&(e.k0=e.scale_factor_at_natural_origin),e.scale_factor_at_projection_centre!==void 0&&(e.k0=e.scale_factor_at_projection_centre),e.scale_factor_on_pseudo_standard_parallel!==void 0&&(e.k0=e.scale_factor_on_pseudo_standard_parallel),e.azimuth!==void 0&&(e.alpha=e.azimuth),e.azimuth_at_projection_centre!==void 0&&(e.alpha=e.azimuth_at_projection_centre),e.angle_from_rectified_to_skew_grid&&(e.rectified_grid_angle=e.angle_from_rectified_to_skew_grid),q8(e),e)}var sG=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function oG(t,e){var r=e[0],n=e[1];!(r in t)&&n in t&&(t[r]=t[n],e.length===3&&(t[r]=e[2](t[r])))}function V8(t){for(var e=Object.keys(t),r=0,n=e.length;r<n;++r){var i=e[r];sG.indexOf(i)!==-1&&lG(t[i]),typeof t[i]=="object"&&V8(t[i])}}function lG(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var r="",n=0,i=t.AXIS.length;n<i;++n){var a=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];a[0].indexOf("north")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="north"?r+="n":a[0].indexOf("south")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="south"?r+="s":a[0].indexOf("east")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="east"?r+="e":(a[0].indexOf("west")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="west")&&(r+="w")}r.length===2&&(r+="u"),r.length===3&&(t.axis=r)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),t.rectified_grid_angle&&(t.rectified_grid_angle=$l(t.rectified_grid_angle));function l(p){var v=t.to_meter||1;return p*v}var u=function(p){return oG(t,p)},f=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",$l],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",$l],["x0","false_easting",l],["y0","false_northing",l],["long0","central_meridian",$l],["lat0","latitude_of_origin",$l],["lat0","standard_parallel_1",$l],["lat1","standard_parallel_1",$l],["lat2","standard_parallel_2",$l],["azimuth","Azimuth"],["alpha","azimuth",$l],["srsCode","name"]];f.forEach(u),q8(t)}function U1(t){if(typeof t=="object")return B1(t);const e=eG(t);var r=iG(t);if(e==="WKT2"){const a=Qz(r);return B1(a)}var n=r[0],i={};return td(r,i),V8(i),i[n]}function gs(t){var e=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?gs[t]=b_(arguments[1]):gs[t]=U1(arguments[1]):r&&typeof r=="object"&&!("projName"in r)?gs[t]=U1(arguments[1]):(gs[t]=r,r||delete gs[t])}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(n){return Array.isArray(n)?gs.apply(e,n):gs(n)});if(typeof t=="string"){if(t in gs)return gs[t]}else"EPSG"in t?gs["EPSG:"+t.EPSG]=t:"ESRI"in t?gs["ESRI:"+t.ESRI]=t:"IAU2000"in t?gs["IAU2000:"+t.IAU2000]=t:console.log(t);return}}Hz(gs);function cG(t){return typeof t=="string"}function uG(t){return t in gs}function hG(t){return t.indexOf("+")!==0&&t.indexOf("[")!==-1||typeof t=="object"&&!("srsCode"in t)}var fG=["3857","900913","3785","102113"];function dG(t){var e=sh(t,"authority");if(e){var r=sh(e,"epsg");return r&&fG.indexOf(r)>-1}}function pG(t){var e=sh(t,"extension");if(e)return sh(e,"proj4")}function mG(t){return t[0]==="+"}function gG(t){if(cG(t)){if(uG(t))return gs[t];if(hG(t)){var e=U1(t);if(dG(e))return gs["EPSG:3857"];var r=pG(e);return r?b_(r):e}if(mG(t))return b_(t)}else return"projName"in t?t:U1(t)}function P3(t,e){t=t||{};var r,n;if(!e)return t;for(n in e)r=e[n],r!==void 0&&(t[n]=r);return t}function Dc(t,e,r){var n=t*e;return r/Math.sqrt(1-n*n)}function Lp(t){return t<0?-1:1}function It(t,e){return e||Math.abs(t)<=ca?t:t-Lp(t)*lp}function Xl(t,e,r){var n=t*r,i=.5*t;return n=Math.pow((1-n)/(1+n),i),Math.tan(.5*(At-e))/n}function up(t,e){for(var r=.5*t,n,i,a=At-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(a),i=At-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-a,a+=i,Math.abs(i)<=1e-10)return a;return-9999}function vG(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Dc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function _G(t){var e=t.x,r=t.y;if(r*Eo>90&&r*Eo<-90&&e*Eo>180&&e*Eo<-180)return null;var n,i;if(Math.abs(Math.abs(r)-At)<=Dt)return null;if(this.sphere)n=this.x0+this.a*this.k0*It(e-this.long0,this.over),i=this.y0+this.a*this.k0*Math.log(Math.tan(Pn+.5*r));else{var a=Math.sin(r),s=Xl(this.e,r,a);n=this.x0+this.a*this.k0*It(e-this.long0,this.over),i=this.y0-this.a*this.k0*Math.log(s)}return t.x=n,t.y=i,t}function yG(t){var e=t.x-this.x0,r=t.y-this.y0,n,i;if(this.sphere)i=At-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var a=Math.exp(-r/(this.a*this.k0));if(i=up(this.e,a),i===-9999)return null}return n=It(this.long0+e/(this.a*this.k0),this.over),t.x=n,t.y=i,t}var xG=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"];const wG={init:vG,forward:_G,inverse:yG,names:xG};function bG(){}function O3(t){return t}var $8=["longlat","identity"];const SG={init:bG,forward:O3,inverse:O3,names:$8};var EG=[wG,SG],Lh={},rd=[];function W8(t,e){var r=rd.length;return t.names?(rd[r]=t,t.names.forEach(function(n){Lh[n.toLowerCase()]=r}),this):(console.log(e),!0)}function Z8(t){return t.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function TG(t){if(!t)return!1;var e=t.toLowerCase();if(typeof Lh[e]<"u"&&rd[Lh[e]]||(e=Z8(e),e in Lh&&rd[Lh[e]]))return rd[Lh[e]]}function AG(){EG.forEach(W8)}const LG={start:AG,add:W8,get:TG};var Y8={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};const NG=Y8.WGS84;function CG(t,e,r,n){var i=t*t,a=e*e,s=(i-a)/i,l=0;n?(t*=1-s*($z+s*(Wz+s*Zz)),i=t*t,s=0):l=Math.sqrt(s);var u=(i-a)/a;return{es:s,e:l,ep2:u}}function MG(t,e,r,n,i){if(!t){var a=sh(Y8,n);a||(a=NG),t=a.a,e=a.b,r=a.rf}return r&&!e&&(e=(1-1/r)*t),(r===0||Math.abs(t-e)<Dt)&&(i=!0,e=t),{a:t,b:e,rf:r,sphere:i}}var l1={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var kG in l1){var O2=l1[kG];O2.datumName&&(l1[O2.datumName]=O2)}function PG(t,e,r,n,i,a,s){var l={};return t===void 0||t==="none"?l.datum_type=w_:l.datum_type=qz,e&&(l.datum_params=e.map(parseFloat),(l.datum_params[0]!==0||l.datum_params[1]!==0||l.datum_params[2]!==0)&&(l.datum_type=Hh),l.datum_params.length>3&&(l.datum_params[3]!==0||l.datum_params[4]!==0||l.datum_params[5]!==0||l.datum_params[6]!==0)&&(l.datum_type=qh,l.datum_params[3]*=I0,l.datum_params[4]*=I0,l.datum_params[5]*=I0,l.datum_params[6]=l.datum_params[6]/1e6+1)),s&&(l.datum_type=gd,l.grids=s),l.a=r,l.b=n,l.es=i,l.ep2=a,l}var yy={};function OG(t,e,r){return e instanceof ArrayBuffer?RG(t,e,r):{ready:DG(t,e)}}function RG(t,e,r){var n=!0;r!==void 0&&r.includeErrorFields===!1&&(n=!1);var i=new DataView(e),a=FG(i),s=BG(i,a),l=UG(i,s,a,n),u={header:s,subgrids:l};return yy[t]=u,u}async function DG(t,e){for(var r=[],n=await e.getImageCount(),i=n-1;i>=0;i--){var a=await e.getImage(i),s=await a.readRasters(),l=s,u=[a.getWidth(),a.getHeight()],f=a.getBoundingBox().map(R3),p=[a.fileDirectory.ModelPixelScale[0],a.fileDirectory.ModelPixelScale[1]].map(R3),v=f[0]+(u[0]-1)*p[0],y=f[3]-(u[1]-1)*p[1],_=l[0],T=l[1],S=[];for(let D=u[1]-1;D>=0;D--)for(let j=u[0]-1;j>=0;j--){var C=D*u[0]+j;S.push([-Qu(T[C]),Qu(_[C])])}r.push({del:p,lim:u,ll:[-v,y],cvs:S})}var M={header:{nSubgrids:n},subgrids:r};return yy[t]=M,M}function jG(t){if(t===void 0)return null;var e=t.split(",");return e.map(IG)}function IG(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:yy[t]||null,isNull:!1}}function R3(t){return t*Math.PI/180}function Qu(t){return t/3600*Math.PI/180}function FG(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function BG(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:S_(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function S_(t,e,r){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,r)))}function UG(t,e,r,n){for(var i=176,a=[],s=0;s<e.nSubgrids;s++){var l=GG(t,i,r),u=HG(t,i,l,r,n),f=Math.round(1+(l.upperLongitude-l.lowerLongitude)/l.longitudeInterval),p=Math.round(1+(l.upperLatitude-l.lowerLatitude)/l.latitudeInterval);a.push({ll:[Qu(l.lowerLongitude),Qu(l.lowerLatitude)],del:[Qu(l.longitudeInterval),Qu(l.latitudeInterval)],lim:[f,p],count:l.gridNodeCount,cvs:zG(u)});var v=16;n===!1&&(v=8),i+=176+l.gridNodeCount*v}return a}function zG(t){return t.map(function(e){return[Qu(e.longitudeShift),Qu(e.latitudeShift)]})}function GG(t,e,r){return{name:S_(t,e+8,e+16).trim(),parent:S_(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,r),upperLatitude:t.getFloat64(e+88,r),lowerLongitude:t.getFloat64(e+104,r),upperLongitude:t.getFloat64(e+120,r),latitudeInterval:t.getFloat64(e+136,r),longitudeInterval:t.getFloat64(e+152,r),gridNodeCount:t.getInt32(e+168,r)}}function HG(t,e,r,n,i){var a=e+176,s=16;i===!1&&(s=8);for(var l=[],u=0;u<r.gridNodeCount;u++){var f={latitudeShift:t.getFloat32(a+u*s,n),longitudeShift:t.getFloat32(a+u*s+4,n)};i!==!1&&(f.latitudeAccuracy=t.getFloat32(a+u*s+8,n),f.longitudeAccuracy=t.getFloat32(a+u*s+12,n)),l.push(f)}return l}function wl(t,e){if(!(this instanceof wl))return new wl(t);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,e=e||function(f){if(f)throw f};var r=gG(t);if(typeof r!="object"){e("Could not parse to valid json: "+t);return}var n=wl.projections.get(r.projName);if(!n){e("Could not get projection name from: "+t);return}if(r.datumCode&&r.datumCode!=="none"){var i=sh(l1,r.datumCode);i&&(r.datum_params=r.datum_params||(i.towgs84?i.towgs84.split(","):null),r.ellps=i.ellipse,r.datumName=i.datumName?i.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var a=MG(r.a,r.b,r.rf,r.ellps,r.sphere),s=CG(a.a,a.b,a.rf,r.R_A),l=jG(r.nadgrids),u=r.datum||PG(r.datumCode,r.datum_params,a.a,a.b,s.es,s.ep2,l);P3(this,r),P3(this,n),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=u,"init"in this&&typeof this.init=="function"&&this.init(),e(null,this)}wl.projections=LG;wl.projections.start();function qG(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===Hh?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===qh?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function K8(t,e,r){var n=t.x,i=t.y,a=t.z?t.z:0,s,l,u,f;if(i<-At&&i>-1.001*At)i=-At;else if(i>At&&i<1.001*At)i=At;else{if(i<-At)return{x:-1/0,y:-1/0,z:t.z};if(i>At)return{x:1/0,y:1/0,z:t.z}}return n>Math.PI&&(n-=2*Math.PI),l=Math.sin(i),f=Math.cos(i),u=l*l,s=r/Math.sqrt(1-e*u),{x:(s+a)*f*Math.cos(n),y:(s+a)*f*Math.sin(n),z:(s*(1-e)+a)*l}}function X8(t,e,r,n){var i=1e-12,a=i*i,s=30,l,u,f,p,v,y,_,T,S,C,M,D,j,V=t.x,X=t.y,ce=t.z?t.z:0,I,q,F;if(l=Math.sqrt(V*V+X*X),u=Math.sqrt(V*V+X*X+ce*ce),l/r<i){if(I=0,u/r<i)return q=At,F=-n,{x:t.x,y:t.y,z:t.z}}else I=Math.atan2(X,V);f=ce/u,p=l/u,v=1/Math.sqrt(1-e*(2-e)*p*p),T=p*(1-e)*v,S=f*v,j=0;do j++,_=r/Math.sqrt(1-e*S*S),F=l*T+ce*S-_*(1-e*S*S),y=e*_/(_+F),v=1/Math.sqrt(1-y*(2-y)*p*p),C=p*(1-y)*v,M=f*v,D=M*T-C*S,T=C,S=M;while(D*D>a&&j<s);return q=Math.atan(M/Math.abs(C)),{x:I,y:q,z:F}}function VG(t,e,r){if(e===Hh)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===qh){var n=r[0],i=r[1],a=r[2],s=r[3],l=r[4],u=r[5],f=r[6];return{x:f*(t.x-u*t.y+l*t.z)+n,y:f*(u*t.x+t.y-s*t.z)+i,z:f*(-l*t.x+s*t.y+t.z)+a}}}function $G(t,e,r){if(e===Hh)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===qh){var n=r[0],i=r[1],a=r[2],s=r[3],l=r[4],u=r[5],f=r[6],p=(t.x-n)/f,v=(t.y-i)/f,y=(t.z-a)/f;return{x:p+u*v-l*y,y:-u*p+v+s*y,z:l*p-s*v+y}}}function Zm(t){return t===Hh||t===qh}function WG(t,e,r){if(qG(t,e)||t.datum_type===w_||e.datum_type===w_)return r;var n=t.a,i=t.es;if(t.datum_type===gd){var a=D3(t,!1,r);if(a!==0)return;n=A3,i=L3}var s=e.a,l=e.b,u=e.es;if(e.datum_type===gd&&(s=A3,l=Vz,u=L3),i===u&&n===s&&!Zm(t.datum_type)&&!Zm(e.datum_type))return r;if(r=K8(r,i,n),Zm(t.datum_type)&&(r=VG(r,t.datum_type,t.datum_params)),Zm(e.datum_type)&&(r=$G(r,e.datum_type,e.datum_params)),r=X8(r,u,s,l),e.datum_type===gd){var f=D3(e,!0,r);if(f!==0)return}return r}function D3(t,e,r){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var n={x:-r.x,y:r.y},i={x:Number.NaN,y:Number.NaN},a=[];e:for(var s=0;s<t.grids.length;s++){var l=t.grids[s];if(a.push(l.name),l.isNull){i=n;break}if(l.grid===null){if(l.mandatory)return console.log("Unable to find mandatory grid '"+l.name+"'"),-1;continue}for(var u=l.grid.subgrids,f=0,p=u.length;f<p;f++){var v=u[f],y=(Math.abs(v.del[1])+Math.abs(v.del[0]))/1e4,_=v.ll[0]-y,T=v.ll[1]-y,S=v.ll[0]+(v.lim[0]-1)*v.del[0]+y,C=v.ll[1]+(v.lim[1]-1)*v.del[1]+y;if(!(T>n.y||_>n.x||C<n.y||S<n.x)&&(i=ZG(n,e,v),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*Eo+" "+n.y*Eo+" tried: '"+a+"'"),-1):(r.x=-i.x,r.y=i.y,0)}function ZG(t,e,r){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var i={x:t.x,y:t.y};i.x-=r.ll[0],i.y-=r.ll[1],i.x=It(i.x-Math.PI)+Math.PI;var a=j3(i,r);if(e){if(isNaN(a.x))return n;a.x=i.x-a.x,a.y=i.y-a.y;var s=9,l=1e-12,u,f;do{if(f=j3(a,r),isNaN(f.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}u={x:i.x-(f.x+a.x),y:i.y-(f.y+a.y)},a.x+=u.x,a.y+=u.y}while(s--&&Math.abs(u.x)>l&&Math.abs(u.y)>l);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=It(a.x+r.ll[0]),n.y=a.y+r.ll[1]}else isNaN(a.x)||(n.x=t.x+a.x,n.y=t.y+a.y);return n}function j3(t,e){var r={x:t.x/e.del[0],y:t.y/e.del[1]},n={x:Math.floor(r.x),y:Math.floor(r.y)},i={x:r.x-1*n.x,y:r.y-1*n.y},a={x:Number.NaN,y:Number.NaN},s;if(n.x<0||n.x>=e.lim[0]||n.y<0||n.y>=e.lim[1])return a;s=n.y*e.lim[0]+n.x;var l={x:e.cvs[s][0],y:e.cvs[s][1]};s++;var u={x:e.cvs[s][0],y:e.cvs[s][1]};s+=e.lim[0];var f={x:e.cvs[s][0],y:e.cvs[s][1]};s--;var p={x:e.cvs[s][0],y:e.cvs[s][1]},v=i.x*i.y,y=i.x*(1-i.y),_=(1-i.x)*(1-i.y),T=(1-i.x)*i.y;return a.x=_*l.x+y*u.x+T*p.x+v*f.x,a.y=_*l.y+y*u.y+T*p.y+v*f.y,a}function I3(t,e,r){var n=r.x,i=r.y,a=r.z||0,s,l,u,f={};for(u=0;u<3;u++)if(!(e&&u===2&&r.z===void 0))switch(u===0?(s=n,"ew".indexOf(t.axis[u])!==-1?l="x":l="y"):u===1?(s=i,"ns".indexOf(t.axis[u])!==-1?l="y":l="x"):(s=a,l="z"),t.axis[u]){case"e":f[l]=s;break;case"w":f[l]=-s;break;case"n":f[l]=s;break;case"s":f[l]=-s;break;case"u":r[l]!==void 0&&(f.z=s);break;case"d":r[l]!==void 0&&(f.z=-s);break;default:return null}return f}function J8(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function YG(t){F3(t.x),F3(t.y)}function F3(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function KG(t,e){return(t.datum.datum_type===Hh||t.datum.datum_type===qh||t.datum.datum_type===gd)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Hh||e.datum.datum_type===qh||e.datum.datum_type===gd)&&t.datumCode!=="WGS84"}function z1(t,e,r,n){var i;Array.isArray(r)?r=J8(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var a=r.z!==void 0;if(YG(r),t.datum&&e.datum&&KG(t,e)&&(i=new wl("WGS84"),r=z1(t,i,r,n),t=i),n&&t.axis!=="enu"&&(r=I3(t,!1,r)),t.projName==="longlat")r={x:r.x*Zi,y:r.y*Zi,z:r.z||0};else if(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),r=t.inverse(r),!r)return;if(t.from_greenwich&&(r.x+=t.from_greenwich),r=WG(t.datum,e.datum,r),!!r)return r=r,e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),e.projName==="longlat"?r={x:r.x*Eo,y:r.y*Eo,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),n&&e.axis!=="enu"?I3(e,!0,r):(r&&!a&&delete r.z,r)}var B3=wl("WGS84");function R2(t,e,r,n){var i,a,s;return Array.isArray(r)?(i=z1(t,e,r,n)||{x:NaN,y:NaN},r.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(r.slice(3)):[i.x,i.y,r[2]].concat(r.slice(3)):[i.x,i.y].concat(r.slice(2)):[i.x,i.y]):(a=z1(t,e,r,n),s=Object.keys(r),s.length===2||s.forEach(function(l){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(l==="x"||l==="y"||l==="z")return}else if(l==="x"||l==="y")return;a[l]=r[l]}),a)}function Ym(t){return t instanceof wl?t:typeof t=="object"&&"oProj"in t?t.oProj:wl(t)}function XG(t,e,r){var n,i,a=!1,s;return typeof e>"u"?(i=Ym(t),n=B3,a=!0):(typeof e.x<"u"||Array.isArray(e))&&(r=e,i=Ym(t),n=B3,a=!0),n||(n=Ym(t)),i||(i=Ym(e)),r?R2(n,i,r):(s={forward:function(l,u){return R2(n,i,l,u)},inverse:function(l,u){return R2(i,n,l,u)}},a&&(s.oProj=i),s)}var U3=6,Q8="AJSAJS",eT="AFAFAF",nd=65,bo=73,_l=79,y0=86,x0=90;const JG={forward:tT,inverse:QG,toPoint:rT};function tT(t,e){return e=e||5,rH(eH({lat:t[1],lon:t[0]}),e)}function QG(t){var e=xy(iT(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function rT(t){var e=xy(iT(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function D2(t){return t*(Math.PI/180)}function z3(t){return 180*(t/Math.PI)}function eH(t){var e=t.lat,r=t.lon,n=6378137,i=.00669438,a=.9996,s,l,u,f,p,v,y,_=D2(e),T=D2(r),S,C;C=Math.floor((r+180)/6)+1,r===180&&(C=60),e>=56&&e<64&&r>=3&&r<12&&(C=32),e>=72&&e<84&&(r>=0&&r<9?C=31:r>=9&&r<21?C=33:r>=21&&r<33?C=35:r>=33&&r<42&&(C=37)),s=(C-1)*6-180+3,S=D2(s),l=i/(1-i),u=n/Math.sqrt(1-i*Math.sin(_)*Math.sin(_)),f=Math.tan(_)*Math.tan(_),p=l*Math.cos(_)*Math.cos(_),v=Math.cos(_)*(T-S),y=n*((1-i/4-3*i*i/64-5*i*i*i/256)*_-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*_)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*_)-35*i*i*i/3072*Math.sin(6*_));var M=a*u*(v+(1-f+p)*v*v*v/6+(5-18*f+f*f+72*p-58*l)*v*v*v*v*v/120)+5e5,D=a*(y+u*Math.tan(_)*(v*v/2+(5-f+9*p+4*p*p)*v*v*v*v/24+(61-58*f+f*f+600*p-330*l)*v*v*v*v*v*v/720));return e<0&&(D+=1e7),{northing:Math.round(D),easting:Math.round(M),zoneNumber:C,zoneLetter:tH(e)}}function xy(t){var e=t.northing,r=t.easting,n=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var a=.9996,s=6378137,l=.00669438,u,f=(1-Math.sqrt(1-l))/(1+Math.sqrt(1-l)),p,v,y,_,T,S,C,M,D,j=r-5e5,V=e;n<"N"&&(V-=1e7),C=(i-1)*6-180+3,u=l/(1-l),S=V/a,M=S/(s*(1-l/4-3*l*l/64-5*l*l*l/256)),D=M+(3*f/2-27*f*f*f/32)*Math.sin(2*M)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*M)+151*f*f*f/96*Math.sin(6*M),p=s/Math.sqrt(1-l*Math.sin(D)*Math.sin(D)),v=Math.tan(D)*Math.tan(D),y=u*Math.cos(D)*Math.cos(D),_=s*(1-l)/Math.pow(1-l*Math.sin(D)*Math.sin(D),1.5),T=j/(p*a);var X=D-p*Math.tan(D)/_*(T*T/2-(5+3*v+10*y-4*y*y-9*u)*T*T*T*T/24+(61+90*v+298*y+45*v*v-252*u-3*y*y)*T*T*T*T*T*T/720);X=z3(X);var ce=(T-(1+2*v+y)*T*T*T/6+(5-2*y+28*v-3*y*y+8*u+24*v*v)*T*T*T*T*T/120)/Math.cos(D);ce=C+z3(ce);var I;if(t.accuracy){var q=xy({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});I={top:q.lat,right:q.lon,bottom:X,left:ce}}else I={lat:X,lon:ce};return I}function tH(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function rH(t,e){var r="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+nH(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+n.substr(n.length-5,e)}function nH(t,e,r){var n=nT(r),i=Math.floor(t/1e5),a=Math.floor(e/1e5)%20;return iH(i,a,n)}function nT(t){var e=t%U3;return e===0&&(e=U3),e}function iH(t,e,r){var n=r-1,i=Q8.charCodeAt(n),a=eT.charCodeAt(n),s=i+t-1,l=a+e,u=!1;s>x0&&(s=s-x0+nd-1,u=!0),(s===bo||i<bo&&s>bo||(s>bo||i<bo)&&u)&&s++,(s===_l||i<_l&&s>_l||(s>_l||i<_l)&&u)&&(s++,s===bo&&s++),s>x0&&(s=s-x0+nd-1),l>y0?(l=l-y0+nd-1,u=!0):u=!1,(l===bo||a<bo&&l>bo||(l>bo||a<bo)&&u)&&l++,(l===_l||a<_l&&l>_l||(l>_l||a<_l)&&u)&&(l++,l===bo&&l++),l>y0&&(l=l-y0+nd-1);var f=String.fromCharCode(s)+String.fromCharCode(l);return f}function iT(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,r=null,n="",i,a=0;!/[A-Z]/.test(i=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;n+=i,a++}var s=parseInt(n,10);if(a===0||a+3>e)throw"MGRSPoint bad conversion from: "+t;var l=t.charAt(a++);if(l<="A"||l==="B"||l==="Y"||l>="Z"||l==="I"||l==="O")throw"MGRSPoint zone letter "+l+" not handled: "+t;r=t.substring(a,a+=2);for(var u=nT(s),f=aH(r.charAt(0),u),p=sH(r.charAt(1),u);p<oH(l);)p+=2e6;var v=e-a;if(v%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var y=v/2,_=0,T=0,S,C,M,D,j;return y>0&&(S=1e5/Math.pow(10,y),C=t.substring(a,a+y),_=parseFloat(C)*S,M=t.substring(a+y),T=parseFloat(M)*S),D=_+f,j=T+p,{easting:D,northing:j,zoneLetter:l,zoneNumber:s,accuracy:S}}function aH(t,e){for(var r=Q8.charCodeAt(e-1),n=1e5,i=!1;r!==t.charCodeAt(0);){if(r++,r===bo&&r++,r===_l&&r++,r>x0){if(i)throw"Bad character: "+t;r=nd,i=!0}n+=1e5}return n}function sH(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=eT.charCodeAt(e-1),n=0,i=!1;r!==t.charCodeAt(0);){if(r++,r===bo&&r++,r===_l&&r++,r>y0){if(i)throw"Bad character: "+t;r=nd,i=!0}n+=1e5}return n}function oH(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function yd(t,e,r){if(!(this instanceof yd))return new yd(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var n=t.split(",");this.x=parseFloat(n[0]),this.y=parseFloat(n[1]),this.z=parseFloat(n[2])||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}yd.fromMGRS=function(t){return new yd(rT(t))};yd.prototype.toMGRS=function(t){return tT([this.x,this.y],t)};var lH=1,cH=.25,G3=.046875,H3=.01953125,q3=.01068115234375,uH=.75,hH=.46875,fH=.013020833333333334,dH=.007120768229166667,pH=.3645833333333333,mH=.005696614583333333,gH=.3076171875;function wy(t){var e=[];e[0]=lH-t*(cH+t*(G3+t*(H3+t*q3))),e[1]=t*(uH-t*(G3+t*(H3+t*q3)));var r=t*t;return e[2]=r*(hH-t*(fH+t*dH)),r*=t,e[3]=r*(pH-t*mH),e[4]=r*t*gH,e}function Ld(t,e,r,n){return r*=e,e*=e,n[0]*t-r*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}var vH=20;function by(t,e,r){for(var n=1/(1-e),i=t,a=vH;a;--a){var s=Math.sin(i),l=1-e*s*s;if(l=(Ld(i,s,Math.cos(i),r)-t)*(l*Math.sqrt(l))*n,i-=l,Math.abs(l)<Dt)return i}return i}function _H(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=wy(this.es),this.ml0=Ld(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function yH(t){var e=t.x,r=t.y,n=It(e-this.long0,this.over),i,a,s,l=Math.sin(r),u=Math.cos(r);if(this.es){var p=u*n,v=Math.pow(p,2),y=this.ep2*Math.pow(u,2),_=Math.pow(y,2),T=Math.abs(u)>Dt?Math.tan(r):0,S=Math.pow(T,2),C=Math.pow(S,2);i=1-this.es*Math.pow(l,2),p=p/Math.sqrt(i);var M=Ld(r,l,u,this.en);a=this.a*(this.k0*p*(1+v/6*(1-S+y+v/20*(5-18*S+C+14*y-58*S*y+v/42*(61+179*C-C*S-479*S)))))+this.x0,s=this.a*(this.k0*(M-this.ml0+l*n*p/2*(1+v/12*(5-S+9*y+4*_+v/30*(61+C-58*S+270*y-330*S*y+v/56*(1385+543*C-C*S-3111*S))))))+this.y0}else{var f=u*Math.sin(n);if(Math.abs(Math.abs(f)-1)<Dt)return 93;if(a=.5*this.a*this.k0*Math.log((1+f)/(1-f))+this.x0,s=u*Math.cos(n)/Math.sqrt(1-Math.pow(f,2)),f=Math.abs(s),f>=1){if(f-1>Dt)return 93;s=0}else s=Math.acos(s);r<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return t.x=a,t.y=s,t}function xH(t){var e,r,n,i,a=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,r=by(e,this.es,this.en),Math.abs(r)<At){var v=Math.sin(r),y=Math.cos(r),_=Math.abs(y)>Dt?Math.tan(r):0,T=this.ep2*Math.pow(y,2),S=Math.pow(T,2),C=Math.pow(_,2),M=Math.pow(C,2);e=1-this.es*Math.pow(v,2);var D=a*Math.sqrt(e)/this.k0,j=Math.pow(D,2);e=e*_,n=r-e*j/(1-this.es)*.5*(1-j/12*(5+3*C-9*T*C+T-4*S-j/30*(61+90*C-252*T*C+45*M+46*T-j/56*(1385+3633*C+4095*M+1574*M*C)))),i=It(this.long0+D*(1-j/6*(1+2*C+T-j/20*(5+28*C+24*M+8*T*C+6*T-j/42*(61+662*C+1320*M+720*M*C))))/y,this.over)}else n=At*Lp(s),i=0;else{var l=Math.exp(a/this.k0),u=.5*(l-1/l),f=this.lat0+s/this.k0,p=Math.cos(f);e=Math.sqrt((1-Math.pow(p,2))/(1+Math.pow(u,2))),n=Math.asin(e),s<0&&(n=-n),u===0&&p===0?i=0:i=It(Math.atan2(u,p)+this.long0,this.over)}return t.x=i,t.y=n,t}var wH=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const c1={init:_H,forward:yH,inverse:xH,names:wH};function aT(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function So(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),n=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(n,2))}function bH(t){var e=1+t,r=e-1;return r===0?t:t*Math.log(e)/r}function SH(t){var e=Math.abs(t);return e=bH(e*(1+e/(So(1,e)+1))),t<0?-e:e}function Sy(t,e){for(var r=2*Math.cos(2*e),n=t.length-1,i=t[n],a=0,s;--n>=0;)s=-a+r*i+t[n],a=i,i=s;return e+s*Math.sin(2*e)}function EH(t,e){for(var r=2*Math.cos(e),n=t.length-1,i=t[n],a=0,s;--n>=0;)s=-a+r*i+t[n],a=i,i=s;return Math.sin(e)*s}function TH(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function sT(t,e,r){for(var n=Math.sin(e),i=Math.cos(e),a=aT(r),s=TH(r),l=2*i*s,u=-2*n*a,f=t.length-1,p=t[f],v=0,y=0,_=0,T,S;--f>=0;)T=y,S=v,y=p,v=_,p=-T+l*y-u*v+t[f],_=-S+u*y+l*v;return l=n*s,u=i*a,[l*p-u*_,l*_+u*p]}function AH(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(c1.init.apply(this),this.forward=c1.forward,this.inverse=c1.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),r=r*e,this.cgb[1]=r*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r=r*e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),r=r*e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(-12/5+e*(-24832/14175))),r=r*e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r=r*e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),r=r*e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r=r*e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r=r*e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r=r*e,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var n=Sy(this.cbg,this.lat0);this.Zb=-this.Qn*(n+EH(this.gtu,2*n))}function LH(t){var e=It(t.x-this.long0,this.over),r=t.y;r=Sy(this.cbg,r);var n=Math.sin(r),i=Math.cos(r),a=Math.sin(e),s=Math.cos(e);r=Math.atan2(n,s*i),e=Math.atan2(a*i,So(n,i*s)),e=SH(Math.tan(e));var l=sT(this.gtu,2*r,2*e);r=r+l[0],e=e+l[1];var u,f;return Math.abs(e)<=2.623395162778?(u=this.a*(this.Qn*e)+this.x0,f=this.a*(this.Qn*r+this.Zb)+this.y0):(u=1/0,f=1/0),t.x=u,t.y=f,t}function NH(t){var e=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,e=e/this.Qn;var n,i;if(Math.abs(e)<=2.623395162778){var a=sT(this.utg,2*r,2*e);r=r+a[0],e=e+a[1],e=Math.atan(aT(e));var s=Math.sin(r),l=Math.cos(r),u=Math.sin(e),f=Math.cos(e);r=Math.atan2(s*f,So(u,f*l)),e=Math.atan2(u,f*l),n=It(e+this.long0,this.over),i=Sy(this.cgb,r)}else n=1/0,i=1/0;return t.x=n,t.y=i,t}var CH=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const u1={init:AH,forward:LH,inverse:NH,names:CH};function MH(t,e){if(t===void 0){if(t=Math.floor((It(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var kH="etmerc";function PH(){var t=MH(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Zi,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,u1.init.apply(this),this.forward=u1.forward,this.inverse=u1.inverse}var OH=["Universal Transverse Mercator System","utm"];const RH={init:PH,names:OH,dependsOn:kH};function Ey(t,e){return Math.pow((1-t)/(1+t),e)}var DH=20;function jH(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Pn)/(Math.pow(Math.tan(.5*this.lat0+Pn),this.C)*Ey(this.e*t,this.ratexp))}function IH(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+Pn),this.C)*Ey(this.e*Math.sin(r),this.ratexp))-At,t.x=this.C*e,t}function FH(t){for(var e=1e-14,r=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+Pn)/this.K,1/this.C),a=DH;a>0&&(n=2*Math.atan(i*Ey(this.e*Math.sin(t.y),-.5*this.e))-At,!(Math.abs(n-t.y)<e));--a)t.y=n;return a?(t.x=r,t.y=n,t):null}const Ty={init:jH,forward:IH,inverse:FH};function BH(){Ty.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function UH(t){var e,r,n,i;return t.x=It(t.x-this.long0,this.over),Ty.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*n),t.x=i*r*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*r*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function zH(t){var e,r,n,i,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=So(t.x,t.y)){var s=2*Math.atan2(a,this.R2);e=Math.sin(s),r=Math.cos(s),i=Math.asin(r*this.sinc0+t.y*e*this.cosc0/a),n=Math.atan2(t.x*e,a*this.cosc0*r-t.y*this.sinc0*e)}else i=this.phic0,n=0;return t.x=n,t.y=i,Ty.inverse.apply(this,[t]),t.x=It(t.x+this.long0,this.over),t}var GH=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const HH={init:BH,forward:UH,inverse:zH,names:GH};function Ay(t,e,r){return e*=r,Math.tan(.5*(At+t))*Math.pow((1-e)/(1+e),.5*r)}function qH(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Dt&&(this.k0=.5*(1+Lp(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Dt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Dt&&Math.abs(Math.cos(this.lat_ts))>Dt&&(this.k0=.5*this.cons*Dc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Xl(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Dc(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(Ay(this.lat0,this.sinlat0,this.e))-At,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function VH(t){var e=t.x,r=t.y,n=Math.sin(r),i=Math.cos(r),a,s,l,u,f,p,v=It(e-this.long0,this.over);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=Dt&&Math.abs(r+this.lat0)<=Dt?(t.x=NaN,t.y=NaN,t):this.sphere?(a=2*this.k0/(1+this.sinlat0*n+this.coslat0*i*Math.cos(v)),t.x=this.a*a*i*Math.sin(v)+this.x0,t.y=this.a*a*(this.coslat0*n-this.sinlat0*i*Math.cos(v))+this.y0,t):(s=2*Math.atan(Ay(r,n,this.e))-At,u=Math.cos(s),l=Math.sin(s),Math.abs(this.coslat0)<=Dt?(f=Xl(this.e,r*this.con,this.con*n),p=2*this.a*this.k0*f/this.cons,t.x=this.x0+p*Math.sin(e-this.long0),t.y=this.y0-this.con*p*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<Dt?(a=2*this.a*this.k0/(1+u*Math.cos(v)),t.y=a*l):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*l+this.cosX0*u*Math.cos(v))),t.y=a*(this.cosX0*l-this.sinX0*u*Math.cos(v))+this.y0),t.x=a*u*Math.sin(v)+this.x0,t))}function $H(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,a,s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var l=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,r=this.lat0,s<=Dt?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(l)*this.sinlat0+t.y*Math.sin(l)*this.coslat0/s),Math.abs(this.coslat0)<Dt?this.lat0>0?e=It(this.long0+Math.atan2(t.x,-1*t.y),this.over):e=It(this.long0+Math.atan2(t.x,t.y),this.over):e=It(this.long0+Math.atan2(t.x*Math.sin(l),s*this.coslat0*Math.cos(l)-t.y*this.sinlat0*Math.sin(l)),this.over),t.x=e,t.y=r,t)}else if(Math.abs(this.coslat0)<=Dt){if(s<=Dt)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,n=s*this.cons/(2*this.a*this.k0),r=this.con*up(this.e,n),e=this.con*It(this.con*this.long0+Math.atan2(t.x,-1*t.y),this.over)}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=Dt?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/s),e=It(this.long0+Math.atan2(t.x*Math.sin(i),s*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)),this.over)),r=-1*up(this.e,Math.tan(.5*(At+a)));return t.x=e,t.y=r,t}var WH=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"];const ZH={init:qH,forward:VH,inverse:$H,names:WH,ssfn_:Ay};function YH(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,n=this.rf,i=1/n,a=2*i-Math.pow(i,2),s=this.e=Math.sqrt(a);this.R=this.k0*r*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var l=Math.log(Math.tan(Math.PI/4+this.b0/2)),u=Math.log(Math.tan(Math.PI/4+t/2)),f=Math.log((1+s*e)/(1-s*e));this.K=l-this.alpha*u+this.alpha*s/2*f}function KH(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+r)+this.K,i=2*(Math.atan(Math.exp(n))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),l=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(l))/(1-Math.sin(l)))+this.y0,t.x=this.R*s+this.x0,t}function XH(t){for(var e=t.x-this.x0,r=t.y-this.y0,n=e/this.R,i=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(i))),l=this.lambda0+s/this.alpha,u=0,f=a,p=-1e3,v=0;Math.abs(f-p)>1e-7;){if(++v>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(f))/2)),p=f,f=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=l,t.y=f,t}var JH=["somerc"];const QH={init:YH,forward:KH,inverse:XH,names:JH};var Kf=1e-7;function eq(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof t.projName=="object"?Object.keys(t.projName)[0]:t.projName;return"no_uoff"in t||"no_off"in t||e.indexOf(r)!==-1||e.indexOf(Z8(r))!==-1}function tq(){var t,e,r,n,i,a,s,l,u,f,p=0,v,y=0,_=0,T=0,S=0,C=0,M=0;this.no_off=eq(this),this.no_rot="no_rot"in this;var D=!1;"alpha"in this&&(D=!0);var j=!1;if("rectified_grid_angle"in this&&(j=!0),D&&(M=this.alpha),j&&(p=this.rectified_grid_angle),D||j)y=this.longc;else if(_=this.long1,S=this.lat1,T=this.long2,C=this.lat2,Math.abs(S-C)<=Kf||(t=Math.abs(S))<=Kf||Math.abs(t-At)<=Kf||Math.abs(Math.abs(this.lat0)-At)<=Kf||Math.abs(Math.abs(C)-At)<=Kf)throw new Error;var V=1-this.es;e=Math.sqrt(V),Math.abs(this.lat0)>Dt?(l=Math.sin(this.lat0),r=Math.cos(this.lat0),t=1-this.es*l*l,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/V),this.A=this.B*this.k0*e/t,n=this.B*e/(r*Math.sqrt(t)),i=n*n-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=n,this.E*=Math.pow(Xl(this.e,this.lat0,l),this.B)):(this.B=1/e,this.A=this.k0,this.E=n=i=1),D||j?(D?(v=Math.asin(Math.sin(M)/n),j||(p=M)):(v=p,M=Math.asin(n*Math.sin(v))),this.lam0=y-Math.asin(.5*(i-1/i)*Math.tan(v))/this.B):(a=Math.pow(Xl(this.e,S,Math.sin(S)),this.B),s=Math.pow(Xl(this.e,C,Math.sin(C)),this.B),i=this.E/a,u=(s-a)/(s+a),f=this.E*this.E,f=(f-s*a)/(f+s*a),t=_-T,t<-Math.PI?T-=lp:t>Math.PI&&(T+=lp),this.lam0=It(.5*(_+T)-Math.atan(f*Math.tan(.5*this.B*(_-T))/u)/this.B,this.over),v=Math.atan(2*Math.sin(this.B*It(_-this.lam0,this.over))/(i-1/i)),p=M=Math.asin(n*Math.sin(v))),this.singam=Math.sin(v),this.cosgam=Math.cos(v),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(M))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*v,this.v_pole_n=this.ArB*Math.log(Math.tan(Pn-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(Pn+i))}function rq(t){var e={},r,n,i,a,s,l,u,f;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-At)>Dt){if(s=this.E/Math.pow(Xl(this.e,t.y,Math.sin(t.y)),this.B),l=1/s,r=.5*(s-l),n=.5*(s+l),a=Math.sin(this.B*t.x),i=(r*this.singam-a*this.cosgam)/n,Math.abs(Math.abs(i)-1)<Dt)throw new Error;f=.5*this.ArB*Math.log((1-i)/(1+i)),l=Math.cos(this.B*t.x),Math.abs(l)<Kf?u=this.A*t.x:u=this.ArB*Math.atan2(r*this.cosgam+a*this.singam,l)}else f=t.y>0?this.v_pole_n:this.v_pole_s,u=this.ArB*t.y;return this.no_rot?(e.x=u,e.y=f):(u-=this.u_0,e.x=f*this.cosrot+u*this.sinrot,e.y=u*this.cosrot-f*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function nq(t){var e,r,n,i,a,s,l,u={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(r=t.y,e=t.x):(r=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),n=Math.exp(-this.BrA*r),i=.5*(n-1/n),a=.5*(n+1/n),s=Math.sin(this.BrA*e),l=(s*this.cosgam+i*this.singam)/a,Math.abs(Math.abs(l)-1)<Dt)u.x=0,u.y=l<0?-At:At;else{if(u.y=this.E/Math.sqrt((1+l)/(1-l)),u.y=up(this.e,Math.pow(u.y,1/this.B)),u.y===1/0)throw new Error;u.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return u.x+=this.lam0,u}var iq=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const aq={init:tq,forward:rq,inverse:nq,names:iq};function sq(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Dt)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),n=Dc(this.e,e,r),i=Xl(this.e,this.lat1,e),a=Math.sin(this.lat2),s=Math.cos(this.lat2),l=Dc(this.e,a,s),u=Xl(this.e,this.lat2,a),f=Math.abs(Math.abs(this.lat0)-At)<Dt?0:Xl(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Dt?this.ns=Math.log(n/l)/Math.log(i/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function oq(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=Dt&&(r=Lp(r)*(At-2*Dt));var n=Math.abs(Math.abs(r)-At),i,a;if(n>Dt)i=Xl(this.e,r,Math.sin(r)),a=this.a*this.f0*Math.pow(i,this.ns);else{if(n=r*this.ns,n<=0)return null;a=0}var s=this.ns*It(e-this.long0,this.over);return t.x=this.k0*(a*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-a*Math.cos(s))+this.y0,t}function lq(t){var e,r,n,i,a,s=(t.x-this.x0)/this.k0,l=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+l*l),r=1):(e=-Math.sqrt(s*s+l*l),r=-1);var u=0;if(e!==0&&(u=Math.atan2(r*s,r*l)),e!==0||this.ns>0){if(r=1/this.ns,n=Math.pow(e/(this.a*this.f0),r),i=up(this.e,n),i===-9999)return null}else i=-At;return a=It(u/this.ns+this.long0,this.over),t.x=a,t.y=i,t}var cq=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const uq={init:sq,forward:oq,inverse:lq,names:cq};function hq(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function fq(t){var e,r,n,i,a,s,l,u=t.x,f=t.y,p=It(u-this.long0,this.over);return e=Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(f/2+this.s45),this.alfa)/e)-this.s45),n=-p*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),a=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(i)),s=this.n*a,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=l*Math.cos(s)/1,t.x=l*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t}function dq(t){var e,r,n,i,a,s,l,u,f=t.x;t.x=t.y,t.y=f,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x),i=a/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(e)),t.x=this.long0-r/this.alfa,l=e,u=0;var p=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.e/2))-this.s45),Math.abs(l-t.y)<1e-10&&(u=1),l=t.y,p+=1;while(u===0&&p<15);return p>=15?null:t}var pq=["Krovak","krovak"];const mq={init:hq,forward:fq,inverse:dq,names:pq};function Qs(t,e,r,n,i){return t*i-e*Math.sin(2*i)+r*Math.sin(4*i)-n*Math.sin(6*i)}function Np(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Cp(t){return .375*t*(1+.25*t*(1+.46875*t))}function Mp(t){return .05859375*t*t*(1+.75*t)}function kp(t){return t*t*t*(35/3072)}function Ly(t,e,r){var n=e*r;return t/Math.sqrt(1-n*n)}function uh(t){return Math.abs(t)<At?t:t-Lp(t)*Math.PI}function G1(t,e,r,n,i){var a,s;a=t/e;for(var l=0;l<15;l++)if(s=(t-(e*a-r*Math.sin(2*a)+n*Math.sin(4*a)-i*Math.sin(6*a)))/(e-2*r*Math.cos(2*a)+4*n*Math.cos(4*a)-6*i*Math.cos(6*a)),a+=s,Math.abs(s)<=1e-10)return a;return NaN}function gq(){this.sphere||(this.e0=Np(this.es),this.e1=Cp(this.es),this.e2=Mp(this.es),this.e3=kp(this.es),this.ml0=this.a*Qs(this.e0,this.e1,this.e2,this.e3,this.lat0))}function vq(t){var e,r,n=t.x,i=t.y;if(n=It(n-this.long0,this.over),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(n)),r=this.a*(Math.atan2(Math.tan(i),Math.cos(n))-this.lat0);else{var a=Math.sin(i),s=Math.cos(i),l=Ly(this.a,this.e,a),u=Math.tan(i)*Math.tan(i),f=n*Math.cos(i),p=f*f,v=this.es*s*s/(1-this.es),y=this.a*Qs(this.e0,this.e1,this.e2,this.e3,i);e=l*f*(1-p*u*(1/6-(8-u+8*v)*p/120)),r=y-this.ml0+l*a/s*p*(.5+(5-u+6*v)*p/24)}return t.x=e+this.x0,t.y=r+this.y0,t}function _q(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,i;if(this.sphere){var a=r+this.lat0;n=Math.asin(Math.sin(a)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(a))}else{var s=this.ml0/this.a+r,l=G1(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-At)<=Dt)return t.x=this.long0,t.y=At,r<0&&(t.y*=-1),t;var u=Ly(this.a,this.e,Math.sin(l)),f=u*u*u/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(l),2),v=e*this.a/u,y=v*v;n=l-u*Math.tan(l)/f*v*v*(.5-(1+3*p)*v*v/24),i=v*(1-y*(p/3+(1+3*p)*p*y/15))/Math.cos(l)}return t.x=It(i+this.long0,this.over),t.y=uh(n),t}var yq=["Cassini","Cassini_Soldner","cass"];const xq={init:gq,forward:vq,inverse:_q,names:yq};function eh(t,e){var r;return t>1e-7?(r=t*e,(1-t*t)*(e/(1-r*r)-.5/t*Math.log((1-r)/(1+r)))):2*e}var E_=1,T_=2,A_=3,h1=4;function wq(){var t=Math.abs(this.lat0);if(Math.abs(t-At)<Dt?this.mode=this.lat0<0?E_:T_:Math.abs(t)<Dt?this.mode=A_:this.mode=h1,this.es>0){var e;switch(this.qp=eh(this.e,1),this.mmf=.5/(1-this.es),this.apa=Mq(this.es),this.mode){case T_:this.dd=1;break;case E_:this.dd=1;break;case A_:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case h1:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=eh(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===h1&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function bq(t){var e,r,n,i,a,s,l,u,f,p,v=t.x,y=t.y;if(v=It(v-this.long0,this.over),this.sphere){if(a=Math.sin(y),p=Math.cos(y),n=Math.cos(v),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+p*n:1+this.sinph0*a+this.cosph0*p*n,r<=Dt)return null;r=Math.sqrt(2/r),e=r*p*Math.sin(v),r*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*p*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(y+this.lat0)<Dt)return null;r=Pn-y*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),e=r*Math.sin(v),r*=n}}else{switch(l=0,u=0,f=0,n=Math.cos(v),i=Math.sin(v),a=Math.sin(y),s=eh(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(l=s/this.qp,u=Math.sqrt(1-l*l)),this.mode){case this.OBLIQ:f=1+this.sinb1*l+this.cosb1*u*n;break;case this.EQUIT:f=1+u*n;break;case this.N_POLE:f=At+y,s=this.qp-s;break;case this.S_POLE:f=y-At,s=this.qp+s;break}if(Math.abs(f)<Dt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),this.mode===this.OBLIQ?r=this.ymf*f*(this.cosb1*l-this.sinb1*u*n):r=(f=Math.sqrt(2/(1+u*n)))*l*this.ymf,e=this.xmf*f*u*i;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(f=Math.sqrt(s))*i,r=n*(this.mode===this.S_POLE?f:-f)):e=r=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t}function Sq(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,i,a,s,l,u,f;if(this.sphere){var p=0,v,y=0;if(v=Math.sqrt(e*e+r*r),i=v*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(y=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(v)<=Dt?0:Math.asin(r*y/v),e*=y,r=p*v;break;case this.OBLIQ:i=Math.abs(v)<=Dt?this.lat0:Math.asin(p*this.sinph0+r*y*this.cosph0/v),e*=y*this.cosph0,r=(p-Math.sin(i)*this.sinph0)*v;break;case this.N_POLE:r=-r,i=At-i;break;case this.S_POLE:i-=At;break}n=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,r)}else{if(f=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,r*=this.dd,u=Math.sqrt(e*e+r*r),u<Dt)return t.x=this.long0,t.y=this.lat0,t;s=2*Math.asin(.5*u/this.rq),a=Math.cos(s),e*=s=Math.sin(s),this.mode===this.OBLIQ?(f=a*this.sinb1+r*s*this.cosb1/u,l=this.qp*f,r=u*this.cosb1*a-r*this.sinb1*s):(f=r*s/u,l=this.qp*f,r=u*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),l=e*e+r*r,!l)return t.x=this.long0,t.y=this.lat0,t;f=1-l/this.qp,this.mode===this.S_POLE&&(f=-f)}n=Math.atan2(e,r),i=kq(Math.asin(f),this.apa)}return t.x=It(this.long0+n,this.over),t.y=i,t}var Eq=.3333333333333333,Tq=.17222222222222222,Aq=.10257936507936508,Lq=.06388888888888888,Nq=.0664021164021164,Cq=.016415012942191543;function Mq(t){var e,r=[];return r[0]=t*Eq,e=t*t,r[0]+=e*Tq,r[1]=e*Lq,e*=t,r[0]+=e*Aq,r[1]+=e*Nq,r[2]=e*Cq,r}function kq(t,e){var r=t+t;return t+e[0]*Math.sin(r)+e[1]*Math.sin(r+r)+e[2]*Math.sin(r+r+r)}var Pq=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Oq={init:wq,forward:bq,inverse:Sq,names:Pq,S_POLE:E_,N_POLE:T_,EQUIT:A_,OBLIQ:h1};function oh(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Rq(){Math.abs(this.lat1+this.lat2)<Dt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Dc(this.e3,this.sin_po,this.cos_po),this.qs1=eh(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Dc(this.e3,this.sin_po,this.cos_po),this.qs2=eh(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=eh(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Dt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Dq(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var n=eh(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*It(e-this.long0,this.over),s=i*Math.sin(a)+this.x0,l=this.rh-i*Math.cos(a)+this.y0;return t.x=s,t.y=l,t}function jq(t){var e,r,n,i,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),i=0,e!==0&&(i=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-n*n)/(2*this.ns0)):(r=(this.c-n*n)/this.ns0,s=this.phi1z(this.e3,r)),a=It(i/this.ns0+this.long0,this.over),t.x=a,t.y=s,t}function Iq(t,e){var r,n,i,a,s,l=oh(.5*e);if(t<Dt)return l;for(var u=t*t,f=1;f<=25;f++)if(r=Math.sin(l),n=Math.cos(l),i=t*r,a=1-i*i,s=.5*a*a/n*(e/(1-u)-r/a+.5/t*Math.log((1-i)/(1+i))),l=l+s,Math.abs(s)<=1e-7)return l;return null}var Fq=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"];const Bq={init:Rq,forward:Dq,inverse:jq,names:Fq,phi1z:Iq};function Uq(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function zq(t){var e,r,n,i,a,s,l,u,f=t.x,p=t.y;return n=It(f-this.long0,this.over),e=Math.sin(p),r=Math.cos(p),i=Math.cos(n),s=this.sin_p14*e+this.cos_p14*r*i,a=1,s>0||Math.abs(s)<=Dt?(l=this.x0+this.a*a*r*Math.sin(n)/s,u=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*r*i)/s):(l=this.x0+this.infinity_dist*r*Math.sin(n),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*i)),t.x=l,t.y=u,t}function Gq(t){var e,r,n,i,a,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),r=Math.sin(i),n=Math.cos(i),s=oh(n*this.sin_p14+t.y*r*this.cos_p14/e),a=Math.atan2(t.x*r,e*this.cos_p14*n-t.y*this.sin_p14*r),a=It(this.long0+a,this.over)):(s=this.phic0,a=0),t.x=a,t.y=s,t}var Hq=["gnom"];const qq={init:Uq,forward:zq,inverse:Gq,names:Hq};function Vq(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*At:At;for(var n=Math.asin(.5*e),i,a,s,l,u=0;u<30;u++)if(a=Math.sin(n),s=Math.cos(n),l=t*a,i=Math.pow(1-l*l,2)/(2*s)*(e/(1-t*t)-a/(1-l*l)+.5/t*Math.log((1-l)/(1+l))),n+=i,Math.abs(i)<=1e-10)return n;return NaN}function $q(){this.sphere||(this.k0=Dc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Wq(t){var e=t.x,r=t.y,n,i,a=It(e-this.long0,this.over);if(this.sphere)n=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=eh(this.e,Math.sin(r));n=this.x0+this.a*this.k0*a,i=this.y0+this.a*s*.5/this.k0}return t.x=n,t.y=i,t}function Zq(t){t.x-=this.x0,t.y-=this.y0;var e,r;return this.sphere?(e=It(this.long0+t.x/this.a/Math.cos(this.lat_ts),this.over),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=Vq(this.e,2*t.y*this.k0/this.a),e=It(this.long0+t.x/(this.a*this.k0),this.over)),t.x=e,t.y=r,t}var Yq=["cea"];const Kq={init:$q,forward:Wq,inverse:Zq,names:Yq};function Xq(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Jq(t){var e=t.x,r=t.y,n=It(e-this.long0,this.over),i=uh(r-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*i,t}function Qq(t){var e=t.x,r=t.y;return t.x=It(this.long0+(e-this.x0)/(this.a*this.rc),this.over),t.y=uh(this.lat0+(r-this.y0)/this.a),t}var eV=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"];const tV={init:Xq,forward:Jq,inverse:Qq,names:eV};var V3=20;function rV(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Np(this.es),this.e1=Cp(this.es),this.e2=Mp(this.es),this.e3=kp(this.es),this.ml0=this.a*Qs(this.e0,this.e1,this.e2,this.e3,this.lat0)}function nV(t){var e=t.x,r=t.y,n,i,a,s=It(e-this.long0,this.over);if(a=s*Math.sin(r),this.sphere)Math.abs(r)<=Dt?(n=this.a*s,i=-1*this.a*this.lat0):(n=this.a*Math.sin(a)/Math.tan(r),i=this.a*(uh(r-this.lat0)+(1-Math.cos(a))/Math.tan(r)));else if(Math.abs(r)<=Dt)n=this.a*s,i=-1*this.ml0;else{var l=Ly(this.a,this.e,Math.sin(r))/Math.tan(r);n=l*Math.sin(a),i=this.a*Qs(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+l*(1-Math.cos(a))}return t.x=n+this.x0,t.y=i+this.y0,t}function iV(t){var e,r,n,i,a,s,l,u,f;if(n=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Dt)e=It(n/this.a+this.long0,this.over),r=0;else{s=this.lat0+i/this.a,l=n*n/this.a/this.a+s*s,u=s;var p;for(a=V3;a;--a)if(p=Math.tan(u),f=-1*(s*(u*p+1)-u-.5*(u*u+l)*p)/((u-s)/p-1),u+=f,Math.abs(f)<=Dt){r=u;break}e=It(this.long0+Math.asin(n*Math.tan(u)/this.a)/Math.sin(r),this.over)}else if(Math.abs(i+this.ml0)<=Dt)r=0,e=It(this.long0+n/this.a,this.over);else{s=(this.ml0+i)/this.a,l=n*n/this.a/this.a+s*s,u=s;var v,y,_,T,S;for(a=V3;a;--a)if(S=this.e*Math.sin(u),v=Math.sqrt(1-S*S)*Math.tan(u),y=this.a*Qs(this.e0,this.e1,this.e2,this.e3,u),_=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),T=y/this.a,f=(s*(v*T+1)-T-.5*v*(T*T+l))/(this.es*Math.sin(2*u)*(T*T+l-2*s*T)/(4*v)+(s-T)*(v*_-2/Math.sin(2*u))-_),u-=f,Math.abs(f)<=Dt){r=u;break}v=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=It(this.long0+Math.asin(n*v/this.a)/Math.sin(r),this.over)}return t.x=e,t.y=r,t}var aV=["Polyconic","American_Polyconic","poly"];const sV={init:rV,forward:nV,inverse:iV,names:aV};function oV(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function lV(t){var e,r=t.x,n=t.y,i=n-this.lat0,a=r-this.long0,s=i/I0*1e-5,l=a,u=1,f=0;for(e=1;e<=10;e++)u=u*s,f=f+this.A[e]*u;var p=f,v=l,y=1,_=0,T,S,C=0,M=0;for(e=1;e<=6;e++)T=y*p-_*v,S=_*p+y*v,y=T,_=S,C=C+this.B_re[e]*y-this.B_im[e]*_,M=M+this.B_im[e]*y+this.B_re[e]*_;return t.x=M*this.a+this.x0,t.y=C*this.a+this.y0,t}function cV(t){var e,r=t.x,n=t.y,i=r-this.x0,a=n-this.y0,s=a/this.a,l=i/this.a,u=1,f=0,p,v,y=0,_=0;for(e=1;e<=6;e++)p=u*s-f*l,v=f*s+u*l,u=p,f=v,y=y+this.C_re[e]*u-this.C_im[e]*f,_=_+this.C_im[e]*u+this.C_re[e]*f;for(var T=0;T<this.iterations;T++){var S=y,C=_,M,D,j=s,V=l;for(e=2;e<=6;e++)M=S*y-C*_,D=C*y+S*_,S=M,C=D,j=j+(e-1)*(this.B_re[e]*S-this.B_im[e]*C),V=V+(e-1)*(this.B_im[e]*S+this.B_re[e]*C);S=1,C=0;var X=this.B_re[1],ce=this.B_im[1];for(e=2;e<=6;e++)M=S*y-C*_,D=C*y+S*_,S=M,C=D,X=X+e*(this.B_re[e]*S-this.B_im[e]*C),ce=ce+e*(this.B_im[e]*S+this.B_re[e]*C);var I=X*X+ce*ce;y=(j*X+V*ce)/I,_=(V*X-j*ce)/I}var q=y,F=_,J=1,B=0;for(e=1;e<=9;e++)J=J*q,B=B+this.D[e]*J;var Z=this.lat0+B*I0*1e5,ue=this.long0+F;return t.x=ue,t.y=Z,t}var uV=["New_Zealand_Map_Grid","nzmg"];const hV={init:oV,forward:lV,inverse:cV,names:uV};function fV(){}function dV(t){var e=t.x,r=t.y,n=It(e-this.long0,this.over),i=this.x0+this.a*n,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=i,t.y=a,t}function pV(t){t.x-=this.x0,t.y-=this.y0;var e=It(this.long0+t.x/this.a,this.over),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t}var mV=["Miller_Cylindrical","mill"];const gV={init:fV,forward:dV,inverse:pV,names:mV};var vV=20;function _V(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=wy(this.es)}function yV(t){var e,r,n=t.x,i=t.y;if(n=It(n-this.long0,this.over),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var a=this.n*Math.sin(i),s=vV;s;--s){var l=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=l,Math.abs(l)<Dt)break}e=this.a*this.C_x*n*(this.m+Math.cos(i)),r=this.a*this.C_y*i}else{var u=Math.sin(i),f=Math.cos(i);r=this.a*Ld(i,u,f,this.en),e=this.a*n*f/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=r,t}function xV(t){var e,r,n,i;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n=n/(this.C_x*(this.m+Math.cos(e))),this.m?e=oh((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=oh(Math.sin(e)/this.n)),n=It(n+this.long0,this.over),e=uh(e)):(e=by(t.y/this.a,this.es,this.en),i=Math.abs(e),i<At?(i=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),n=It(r,this.over)):i-Dt<At&&(n=this.long0)),t.x=n,t.y=e,t}var wV=["Sinusoidal","sinu"];const bV={init:_V,forward:yV,inverse:xV,names:wV};function SV(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0}function EV(t){for(var e=t.x,r=t.y,n=It(e-this.long0,this.over),i=r,a=Math.PI*Math.sin(r);;){var s=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=s,Math.abs(s)<Dt)break}i/=2,Math.PI/2-Math.abs(r)<Dt&&(n=0);var l=.900316316158*this.a*n*Math.cos(i)+this.x0,u=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=l,t.y=u,t}function TV(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var n=It(this.long0+t.x/(.900316316158*this.a*Math.cos(e)),this.over);n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var i=Math.asin(r);return t.x=n,t.y=i,t}var AV=["Mollweide","moll"];const LV={init:SV,forward:EV,inverse:TV,names:AV};function NV(){Math.abs(this.lat1+this.lat2)<Dt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Np(this.es),this.e1=Cp(this.es),this.e2=Mp(this.es),this.e3=kp(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=Dc(this.e,this.sin_phi,this.cos_phi),this.ml1=Qs(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Dt?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=Dc(this.e,this.sin_phi,this.cos_phi),this.ml2=Qs(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Qs(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function CV(t){var e=t.x,r=t.y,n;if(this.sphere)n=this.a*(this.g-r);else{var i=Qs(this.e0,this.e1,this.e2,this.e3,r);n=this.a*(this.g-i)}var a=this.ns*It(e-this.long0,this.over),s=this.x0+n*Math.sin(a),l=this.y0+this.rh-n*Math.cos(a);return t.x=s,t.y=l,t}function MV(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,r,n,i;this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;if(r!==0&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=It(this.long0+a/this.ns,this.over),n=uh(this.g-r/this.a),t.x=i,t.y=n,t;var s=this.g-r/this.a;return n=G1(s,this.e0,this.e1,this.e2,this.e3),i=It(this.long0+a/this.ns,this.over),t.x=i,t.y=n,t}var kV=["Equidistant_Conic","eqdc"];const PV={init:NV,forward:CV,inverse:MV,names:kV};function OV(){this.R=this.a}function RV(t){var e=t.x,r=t.y,n=It(e-this.long0,this.over),i,a;Math.abs(r)<=Dt&&(i=this.x0+this.R*n,a=this.y0);var s=oh(2*Math.abs(r/Math.PI));(Math.abs(n)<=Dt||Math.abs(Math.abs(r)-At)<=Dt)&&(i=this.x0,r>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*s):a=this.y0+Math.PI*this.R*-Math.tan(.5*s));var l=.5*Math.abs(Math.PI/n-n/Math.PI),u=l*l,f=Math.sin(s),p=Math.cos(s),v=p/(f+p-1),y=v*v,_=v*(2/f-1),T=_*_,S=Math.PI*this.R*(l*(v-T)+Math.sqrt(u*(v-T)*(v-T)-(T+u)*(y-T)))/(T+u);n<0&&(S=-S),i=this.x0+S;var C=u+v;return S=Math.PI*this.R*(_*C-l*Math.sqrt((T+u)*(u+1)-C*C))/(T+u),r>=0?a=this.y0+S:a=this.y0-S,t.x=i,t.y=a,t}function DV(t){var e,r,n,i,a,s,l,u,f,p,v,y,_;return t.x-=this.x0,t.y-=this.y0,v=Math.PI*this.R,n=t.x/v,i=t.y/v,a=n*n+i*i,s=-Math.abs(i)*(1+a),l=s-2*i*i+n*n,u=-2*s+1+2*i*i+a*a,_=i*i/u+(2*l*l*l/u/u/u-9*s*l/u/u)/27,f=(s-l*l/3/u)/u,p=2*Math.sqrt(-f/3),v=3*_/f/p,Math.abs(v)>1&&(v>=0?v=1:v=-1),y=Math.acos(v)/3,t.y>=0?r=(-p*Math.cos(y+Math.PI/3)-l/3/u)*Math.PI:r=-(-p*Math.cos(y+Math.PI/3)-l/3/u)*Math.PI,Math.abs(n)<Dt?e=this.long0:e=It(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(n*n-i*i)+a*a))/2/n,this.over),t.x=e,t.y=r,t}var jV=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"];const IV={init:OV,forward:RV,inverse:DV,names:jV};function FV(t,e,r,n,i,a){const s=n-e,l=Math.atan((1-a)*Math.tan(t)),u=Math.atan((1-a)*Math.tan(r)),f=Math.sin(l),p=Math.cos(l),v=Math.sin(u),y=Math.cos(u);let _=s,T,S=100,C,M,D,j,V,X,ce,I,q,F,J,B,Z,ue;do{if(C=Math.sin(_),M=Math.cos(_),D=Math.sqrt(y*C*(y*C)+(p*v-f*y*M)*(p*v-f*y*M)),D===0)return{azi1:0,s12:0};j=f*v+p*y*M,V=Math.atan2(D,j),X=p*y*C/D,ce=1-X*X,I=ce!==0?j-2*f*v/ce:0,q=a/16*ce*(4+a*(4-3*ce)),T=_,_=s+(1-q)*a*X*(V+q*D*(I+q*j*(-1+2*I*I)))}while(Math.abs(_-T)>1e-12&&--S>0);return S===0?{azi1:NaN,s12:NaN}:(F=ce*(i*i-i*(1-a)*(i*(1-a)))/(i*(1-a)*(i*(1-a))),J=1+F/16384*(4096+F*(-768+F*(320-175*F))),B=F/1024*(256+F*(-128+F*(74-47*F))),Z=B*D*(I+B/4*(j*(-1+2*I*I)-B/6*I*(-3+4*D*D)*(-3+4*I*I))),ue=i*(1-a)*J*(V-Z),{azi1:Math.atan2(y*C,p*v-f*y*M),s12:ue})}function BV(t,e,r,n,i,a){const s=Math.atan((1-a)*Math.tan(t)),l=Math.sin(s),u=Math.cos(s),f=Math.sin(r),p=Math.cos(r),v=Math.atan2(l,u*p),y=u*f,_=1-y*y,T=_*(i*i-i*(1-a)*(i*(1-a)))/(i*(1-a)*(i*(1-a))),S=1+T/16384*(4096+T*(-768+T*(320-175*T))),C=T/1024*(256+T*(-128+T*(74-47*T)));let M=n/(i*(1-a)*S),D,j=100,V,X,ce,I;do V=Math.cos(2*v+M),X=Math.sin(M),ce=Math.cos(M),I=C*X*(V+C/4*(ce*(-1+2*V*V)-C/6*V*(-3+4*X*X)*(-3+4*V*V))),D=M,M=n/(i*(1-a)*S)+I;while(Math.abs(M-D)>1e-12&&--j>0);if(j===0)return{lat2:NaN,lon2:NaN};const q=l*X-u*ce*p,F=Math.atan2(l*ce+u*X*p,(1-a)*Math.sqrt(y*y+q*q)),J=Math.atan2(X*f,u*ce-l*X*p),B=a/16*_*(4+a*(4-3*_)),Z=J-(1-B)*a*y*(M+B*X*(V+B*ce*(-1+2*V*V))),ue=e+Z;return{lat2:F,lon2:ue}}function UV(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function zV(t){var e=t.x,r=t.y,n=Math.sin(t.y),i=Math.cos(t.y),a=It(e-this.long0,this.over),s,l,u,f,p,v,y,_,T,S,C;return this.sphere?Math.abs(this.sin_p12-1)<=Dt?(t.x=this.x0+this.a*(At-r)*Math.sin(a),t.y=this.y0-this.a*(At-r)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=Dt?(t.x=this.x0+this.a*(At+r)*Math.sin(a),t.y=this.y0+this.a*(At+r)*Math.cos(a),t):(T=this.sin_p12*n+this.cos_p12*i*Math.cos(a),y=Math.acos(T),_=y?y/Math.sin(y):1,t.x=this.x0+this.a*_*i*Math.sin(a),t.y=this.y0+this.a*_*(this.cos_p12*n-this.sin_p12*i*Math.cos(a)),t):(s=Np(this.es),l=Cp(this.es),u=Mp(this.es),f=kp(this.es),Math.abs(this.sin_p12-1)<=Dt?(p=this.a*Qs(s,l,u,f,At),v=this.a*Qs(s,l,u,f,r),t.x=this.x0+(p-v)*Math.sin(a),t.y=this.y0-(p-v)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=Dt?(p=this.a*Qs(s,l,u,f,At),v=this.a*Qs(s,l,u,f,r),t.x=this.x0+(p+v)*Math.sin(a),t.y=this.y0+(p+v)*Math.cos(a),t):Math.abs(e)<Dt&&Math.abs(r-this.lat0)<Dt?(t.x=t.y=0,t):(S=FV(this.lat0,this.long0,r,e,this.a,this.f),C=S.azi1,t.x=S.s12*Math.sin(C),t.y=S.s12*Math.cos(C),t))}function GV(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,a,s,l,u,f,p,v,y,_,T,S,C;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*At*this.a?void 0:(r=e/this.a,n=Math.sin(r),i=Math.cos(r),a=this.long0,Math.abs(e)<=Dt?s=this.lat0:(s=oh(i*this.sin_p12+t.y*n*this.cos_p12/e),l=Math.abs(this.lat0)-At,Math.abs(l)<=Dt?this.lat0>=0?a=It(this.long0+Math.atan2(t.x,-t.y),this.over):a=It(this.long0-Math.atan2(-t.x,t.y),this.over):a=It(this.long0+Math.atan2(t.x*n,e*this.cos_p12*i-t.y*this.sin_p12*n),this.over)),t.x=a,t.y=s,t)):(u=Np(this.es),f=Cp(this.es),p=Mp(this.es),v=kp(this.es),Math.abs(this.sin_p12-1)<=Dt?(y=this.a*Qs(u,f,p,v,At),e=Math.sqrt(t.x*t.x+t.y*t.y),_=y-e,s=G1(_/this.a,u,f,p,v),a=It(this.long0+Math.atan2(t.x,-1*t.y),this.over),t.x=a,t.y=s,t):Math.abs(this.sin_p12+1)<=Dt?(y=this.a*Qs(u,f,p,v,At),e=Math.sqrt(t.x*t.x+t.y*t.y),_=e-y,s=G1(_/this.a,u,f,p,v),a=It(this.long0+Math.atan2(t.x,t.y),this.over),t.x=a,t.y=s,t):(T=Math.atan2(t.x,t.y),S=Math.sqrt(t.x*t.x+t.y*t.y),C=BV(this.lat0,this.long0,T,S,this.a,this.f),t.x=C.lon2,t.y=C.lat2,t))}var HV=["Azimuthal_Equidistant","aeqd"];const qV={init:UV,forward:zV,inverse:GV,names:HV};function VV(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function $V(t){var e,r,n,i,a,s,l,u,f=t.x,p=t.y;return n=It(f-this.long0,this.over),e=Math.sin(p),r=Math.cos(p),i=Math.cos(n),s=this.sin_p14*e+this.cos_p14*r*i,a=1,(s>0||Math.abs(s)<=Dt)&&(l=this.a*a*r*Math.sin(n),u=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*r*i)),t.x=l,t.y=u,t}function WV(t){var e,r,n,i,a,s,l;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),r=oh(e/this.a),n=Math.sin(r),i=Math.cos(r),s=this.long0,Math.abs(e)<=Dt?(l=this.lat0,t.x=s,t.y=l,t):(l=oh(i*this.sin_p14+t.y*n*this.cos_p14/e),a=Math.abs(this.lat0)-At,Math.abs(a)<=Dt?(this.lat0>=0?s=It(this.long0+Math.atan2(t.x,-t.y),this.over):s=It(this.long0-Math.atan2(-t.x,t.y),this.over),t.x=s,t.y=l,t):(s=It(this.long0+Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),this.over),t.x=s,t.y=l,t))}var ZV=["ortho"];const YV={init:VV,forward:$V,inverse:WV,names:ZV};var Ii={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},On={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function KV(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=At-Pn/2?this.face=Ii.TOP:this.lat0<=-(At-Pn/2)?this.face=Ii.BOTTOM:Math.abs(this.long0)<=Pn?this.face=Ii.FRONT:Math.abs(this.long0)<=At+Pn?this.face=this.long0>0?Ii.RIGHT:Ii.LEFT:this.face=Ii.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function XV(t){var e={x:0,y:0},r,n,i,a,s,l,u={value:0};if(t.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):r=t.y,n=t.x,this.face===Ii.TOP)a=At-r,n>=Pn&&n<=At+Pn?(u.value=On.AREA_0,i=n-At):n>At+Pn||n<=-(At+Pn)?(u.value=On.AREA_1,i=n>0?n-ca:n+ca):n>-(At+Pn)&&n<=-Pn?(u.value=On.AREA_2,i=n+At):(u.value=On.AREA_3,i=n);else if(this.face===Ii.BOTTOM)a=At+r,n>=Pn&&n<=At+Pn?(u.value=On.AREA_0,i=-n+At):n<Pn&&n>=-Pn?(u.value=On.AREA_1,i=-n):n<-Pn&&n>=-(At+Pn)?(u.value=On.AREA_2,i=-n-At):(u.value=On.AREA_3,i=n>0?-n+ca:-n-ca);else{var f,p,v,y,_,T,S;this.face===Ii.RIGHT?n=vd(n,+At):this.face===Ii.BACK?n=vd(n,+ca):this.face===Ii.LEFT&&(n=vd(n,-At)),y=Math.sin(r),_=Math.cos(r),T=Math.sin(n),S=Math.cos(n),f=_*S,p=_*T,v=y,this.face===Ii.FRONT?(a=Math.acos(f),i=Km(a,v,p,u)):this.face===Ii.RIGHT?(a=Math.acos(p),i=Km(a,v,-f,u)):this.face===Ii.BACK?(a=Math.acos(-f),i=Km(a,v,-p,u)):this.face===Ii.LEFT?(a=Math.acos(-p),i=Km(a,v,f,u)):(a=i=0,u.value=On.AREA_0)}return l=Math.atan(12/ca*(i+Math.acos(Math.sin(i)*Math.cos(Pn))-At)),s=Math.sqrt((1-Math.cos(a))/(Math.cos(l)*Math.cos(l))/(1-Math.cos(Math.atan(1/Math.cos(i))))),u.value===On.AREA_1?l+=At:u.value===On.AREA_2?l+=ca:u.value===On.AREA_3&&(l+=1.5*ca),e.x=s*Math.cos(l),e.y=s*Math.sin(l),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function JV(t){var e={lam:0,phi:0},r,n,i,a,s,l,u,f,p,v={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),r=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?v.value=On.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(v.value=On.AREA_1,r-=At):t.x<0&&-t.x>=Math.abs(t.y)?(v.value=On.AREA_2,r=r<0?r+ca:r-ca):(v.value=On.AREA_3,r+=At),p=ca/12*Math.tan(r),s=Math.sin(p)/(Math.cos(p)-1/Math.sqrt(2)),l=Math.atan(s),i=Math.cos(r),a=Math.tan(n),u=1-i*i*a*a*(1-Math.cos(Math.atan(1/Math.cos(l)))),u<-1?u=-1:u>1&&(u=1),this.face===Ii.TOP)f=Math.acos(u),e.phi=At-f,v.value===On.AREA_0?e.lam=l+At:v.value===On.AREA_1?e.lam=l<0?l+ca:l-ca:v.value===On.AREA_2?e.lam=l-At:e.lam=l;else if(this.face===Ii.BOTTOM)f=Math.acos(u),e.phi=f-At,v.value===On.AREA_0?e.lam=-l+At:v.value===On.AREA_1?e.lam=-l:v.value===On.AREA_2?e.lam=-l-At:e.lam=l<0?-l-ca:-l+ca;else{var y,_,T;y=u,p=y*y,p>=1?T=0:T=Math.sqrt(1-p)*Math.sin(l),p+=T*T,p>=1?_=0:_=Math.sqrt(1-p),v.value===On.AREA_1?(p=_,_=-T,T=p):v.value===On.AREA_2?(_=-_,T=-T):v.value===On.AREA_3&&(p=_,_=T,T=-p),this.face===Ii.RIGHT?(p=y,y=-_,_=p):this.face===Ii.BACK?(y=-y,_=-_):this.face===Ii.LEFT&&(p=y,y=_,_=-p),e.phi=Math.acos(-T)-At,e.lam=Math.atan2(_,y),this.face===Ii.RIGHT?e.lam=vd(e.lam,-At):this.face===Ii.BACK?e.lam=vd(e.lam,-ca):this.face===Ii.LEFT&&(e.lam=vd(e.lam,+At))}if(this.es!==0){var S,C,M;S=e.phi<0?1:0,C=Math.tan(e.phi),M=this.b/Math.sqrt(C*C+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-M*M)/(this.one_minus_f*M)),S&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function Km(t,e,r,n){var i;return t<Dt?(n.value=On.AREA_0,i=0):(i=Math.atan2(e,r),Math.abs(i)<=Pn?n.value=On.AREA_0:i>Pn&&i<=At+Pn?(n.value=On.AREA_1,i-=At):i>At+Pn||i<=-(At+Pn)?(n.value=On.AREA_2,i=i>=0?i-ca:i+ca):(n.value=On.AREA_3,i+=At)),i}function vd(t,e){var r=t+e;return r<-ca?r+=lp:r>+ca&&(r-=lp),r}var QV=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const e$={init:KV,forward:XV,inverse:JV,names:QV};var L_=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],w0=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],oT=.8487,lT=1.3523,cT=Eo/5,t$=1/cT,id=18,H1=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},r$=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function n$(t,e,r,n){for(var i=e;n;--n){var a=t(i);if(i-=a,Math.abs(a)<r)break}return i}function i$(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function a$(t){var e=It(t.x-this.long0,this.over),r=Math.abs(t.y),n=Math.floor(r*cT);n<0?n=0:n>=id&&(n=id-1),r=Eo*(r-t$*n);var i={x:H1(L_[n],r)*e,y:H1(w0[n],r)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*oT+this.x0,i.y=i.y*this.a*lT+this.y0,i}function s$(t){var e={x:(t.x-this.x0)/(this.a*oT),y:Math.abs(t.y-this.y0)/(this.a*lT)};if(e.y>=1)e.x/=L_[id][0],e.y=t.y<0?-At:At;else{var r=Math.floor(e.y*id);for(r<0?r=0:r>=id&&(r=id-1);;)if(w0[r][0]>e.y)--r;else if(w0[r+1][0]<=e.y)++r;else break;var n=w0[r],i=5*(e.y-n[0])/(w0[r+1][0]-n[0]);i=n$(function(a){return(H1(n,a)-e.y)/r$(n,a)},i,Dt,100),e.x/=H1(L_[r],i),e.y=(5*r+i)*Zi,t.y<0&&(e.y=-e.y)}return e.x=It(e.x+this.long0,this.over),e}var o$=["Robinson","robin"];const l$={init:i$,forward:a$,inverse:s$,names:o$};function c$(){this.name="geocent"}function u$(t){var e=K8(t,this.es,this.a);return e}function h$(t){var e=X8(t,this.es,this.a,this.b);return e}var f$=["Geocentric","geocentric","geocent","Geocent"];const d$={init:c$,forward:u$,inverse:h$,names:f$};var Bs={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},d0={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function p$(){if(Object.keys(d0).forEach((function(r){if(typeof this[r]>"u")this[r]=d0[r].def;else{if(d0[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);d0[r].num&&(this[r]=parseFloat(this[r]))}d0[r].degrees&&(this[r]=this[r]*Zi)}).bind(this)),Math.abs(Math.abs(this.lat0)-At)<Dt?this.mode=this.lat0<0?Bs.S_POLE:Bs.N_POLE:Math.abs(this.lat0)<Dt?this.mode=Bs.EQUIT:(this.mode=Bs.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function m$(t){t.x-=this.long0;var e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i,a;switch(this.mode){case Bs.OBLIQ:a=this.sinph0*e+this.cosph0*r*n;break;case Bs.EQUIT:a=r*n;break;case Bs.S_POLE:a=-e;break;case Bs.N_POLE:a=e;break}switch(a=this.pn1/(this.p-a),i=a*r*Math.sin(t.x),this.mode){case Bs.OBLIQ:a*=this.cosph0*e-this.sinph0*r*n;break;case Bs.EQUIT:a*=e;break;case Bs.N_POLE:a*=-(r*n);break;case Bs.S_POLE:a*=r*n;break}var s,l;return s=a*this.cg+i*this.sg,l=1/(s*this.sw*this.h1+this.cw),i=(i*this.cg-a*this.sg)*this.cw*l,a=s*l,t.x=i*this.a,t.y=a*this.a,t}function g$(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},r,n,i;i=1/(this.pn1-t.y*this.sw),r=this.pn1*t.x*i,n=this.pn1*t.y*this.cw*i,t.x=r*this.cg+n*this.sg,t.y=n*this.cg-r*this.sg;var a=So(t.x,t.y);if(Math.abs(a)<Dt)e.x=0,e.y=t.y;else{var s,l;switch(l=1-a*a*this.pfact,l=(this.p-Math.sqrt(l))/(this.pn1/a+a/this.pn1),s=Math.sqrt(1-l*l),this.mode){case Bs.OBLIQ:e.y=Math.asin(s*this.sinph0+t.y*l*this.cosph0/a),t.y=(s-this.sinph0*Math.sin(e.y))*a,t.x*=l*this.cosph0;break;case Bs.EQUIT:e.y=Math.asin(t.y*l/a),t.y=s*a,t.x*=l;break;case Bs.N_POLE:e.y=Math.asin(s),t.y=-t.y;break;case Bs.S_POLE:e.y=-Math.asin(s);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var v$=["Tilted_Perspective","tpers"];const _$={init:p$,forward:m$,inverse:g$,names:v$};function y$(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function x$(t){var e=t.x,r=t.y,n,i,a,s;if(e=e-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var l=this.radius_p/So(this.radius_p*Math.cos(r),Math.sin(r));if(i=l*Math.cos(e)*Math.cos(r),a=l*Math.sin(e)*Math.cos(r),s=l*Math.sin(r),(this.radius_g-i)*i-a*a-s*s*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;n=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/So(s,n)),t.y=this.radius_g_1*Math.atan(s/n)):(t.x=this.radius_g_1*Math.atan(a/n),t.y=this.radius_g_1*Math.atan(s/So(a,n)))}else this.shape==="sphere"&&(n=Math.cos(r),i=Math.cos(e)*n,a=Math.sin(e)*n,s=Math.sin(r),n=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/So(s,n)),t.y=this.radius_g_1*Math.atan(s/n)):(t.x=this.radius_g_1*Math.atan(a/n),t.y=this.radius_g_1*Math.atan(s/So(a,n))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function w$(t){var e=-1,r=0,n=0,i,a,s,l;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*So(1,n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*So(1,r));var u=n/this.radius_p;if(i=r*r+u*u+e*e,a=2*this.radius_g*e,s=a*a-4*i*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;l=(-a-Math.sqrt(s))/(2*i),e=this.radius_g+l*e,r*=l,n*=l,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+n*n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+r*r)),i=r*r+n*n+e*e,a=2*this.radius_g*e,s=a*a-4*i*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;l=(-a-Math.sqrt(s))/(2*i),e=this.radius_g+l*e,r*=l,n*=l,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var b$=["Geostationary Satellite View","Geostationary_Satellite","geos"];const S$={init:y$,forward:x$,inverse:w$,names:b$};var F0=1.340264,B0=-.081106,U0=893e-6,z0=.003796,q1=Math.sqrt(3)/2;function E$(){this.es=0,this.long0=this.long0!==void 0?this.long0:0,this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0}function T$(t){var e=It(t.x-this.long0,this.over),r=t.y,n=Math.asin(q1*Math.sin(r)),i=n*n,a=i*i*i;return t.x=e*Math.cos(n)/(q1*(F0+3*B0*i+a*(7*U0+9*z0*i))),t.y=n*(F0+B0*i+a*(U0+z0*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function A$(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,r=12,n=t.y,i,a,s,l,u,f;for(f=0;f<r&&(i=n*n,a=i*i*i,s=n*(F0+B0*i+a*(U0+z0*i))-t.y,l=F0+3*B0*i+a*(7*U0+9*z0*i),n-=u=s/l,!(Math.abs(u)<e));++f);return i=n*n,a=i*i*i,t.x=q1*t.x*(F0+3*B0*i+a*(7*U0+9*z0*i))/Math.cos(n),t.y=Math.asin(Math.sin(n)/q1),t.x=It(t.x+this.long0,this.over),t}var L$=["eqearth","Equal Earth","Equal_Earth"];const N$={init:E$,forward:T$,inverse:A$,names:L$};var hp=1e-10;function C$(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<hp)throw new Error;this.es?(this.en=wy(this.es),this.m1=Ld(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=k$,this.forward=M$):(Math.abs(this.phi1)+hp>=At?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=O$,this.forward=P$)}function M$(t){var e=It(t.x-(this.long0||0),this.over),r=t.y,n,i,a;return n=this.am1+this.m1-Ld(r,i=Math.sin(r),a=Math.cos(r),this.en),i=a*e/(n*Math.sqrt(1-this.es*i*i)),t.x=n*Math.sin(i),t.y=this.am1-n*Math.cos(i),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function k$(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,n,i;if(r=So(t.x,t.y=this.am1-t.y),i=by(this.am1+this.m1-r,this.es,this.en),(e=Math.abs(i))<At)e=Math.sin(i),n=r*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(i);else if(Math.abs(e-At)<=hp)n=0;else throw new Error;return t.x=It(n+(this.long0||0),this.over),t.y=uh(i),t}function P$(t){var e=It(t.x-(this.long0||0),this.over),r=t.y,n,i;return i=this.cphi1+this.phi1-r,Math.abs(i)>hp?(t.x=i*Math.sin(n=e*Math.cos(r)/i),t.y=this.cphi1-i*Math.cos(n)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function O$(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,n=So(t.x,t.y=this.cphi1-t.y);if(r=this.cphi1+this.phi1-n,Math.abs(r)>At)throw new Error;return Math.abs(Math.abs(r)-At)<=hp?e=0:e=n*Math.atan2(t.x,t.y)/Math.cos(r),t.x=It(e+(this.long0||0),this.over),t.y=uh(r),t}var R$=["bonne","Bonne (Werner lat_1=90)"];const D$={init:C$,names:R$},$3={OBLIQUE:{forward:U$,inverse:G$},TRANSVERSE:{forward:z$,inverse:H$}},V1={ROTATE:{o_alpha:"oAlpha",o_lon_c:"oLongC",o_lat_c:"oLatC"},NEW_POLE:{o_lat_p:"oLatP",o_lon_p:"oLongP"},NEW_EQUATOR:{o_lon_1:"oLong1",o_lat_1:"oLat1",o_lon_2:"oLong2",o_lat_2:"oLat2"}};function j$(){if(this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.title=this.title||"General Oblique Transformation",this.isIdentity=$8.includes(this.o_proj),!this.o_proj)throw new Error("Missing parameter: o_proj");if(this.o_proj==="ob_tran")throw new Error("Invalid value for o_proj: "+this.o_proj);const t=this.projStr.replace("+proj=ob_tran","").replace("+o_proj=","+proj=").trim(),e=wl(t);if(!e)throw new Error("Invalid parameter: o_proj. Unknown projection "+this.o_proj);e.long0=0,this.obliqueProjection=e;let r;const n=Object.keys(V1),i=l=>{if(typeof this[l]>"u")return;const u=parseFloat(this[l])*Zi;if(isNaN(u))throw new Error("Invalid value for "+l+": "+this[l]);return u};for(let l=0;l<n.length;l++){const u=n[l],f=V1[u],p=Object.entries(f);if(p.some(([y])=>typeof this[y]<"u")){r=f;for(let y=0;y<p.length;y++){const[_,T]=p[y],S=i(_);if(typeof S>"u")throw new Error("Missing parameter: "+_+".");this[T]=S}break}}if(!r)throw new Error("No valid parameters provided for ob_tran projection.");const{lamp:a,phip:s}=B$(this,r);this.lamp=a,Math.abs(s)>Dt?(this.cphip=Math.cos(s),this.sphip=Math.sin(s),this.projectionType=$3.OBLIQUE):this.projectionType=$3.TRANSVERSE}function I$(t){return this.projectionType.forward(this,t)}function F$(t){return this.projectionType.inverse(this,t)}function B$(t,e){let r,n;if(e===V1.ROTATE){let i=t.oLongC,a=t.oLatC,s=t.oAlpha;if(Math.abs(Math.abs(a)-At)<=Dt)throw new Error("Invalid value for o_lat_c: "+t.o_lat_c+" should be < 90");n=i+Math.atan2(-1*Math.cos(s),-1*Math.sin(s)*Math.sin(a)),r=Math.asin(Math.cos(a)*Math.sin(s))}else if(e===V1.NEW_POLE)n=t.oLongP,r=t.oLatP;else{let i=t.oLong1,a=t.oLat1,s=t.oLong2,l=t.oLat2,u=Math.abs(a);if(Math.abs(a)>At-Dt)throw new Error("Invalid value for o_lat_1: "+t.o_lat_1+" should be < 90");if(Math.abs(l)>At-Dt)throw new Error("Invalid value for o_lat_2: "+t.o_lat_2+" should be < 90");if(Math.abs(a-l)<Dt)throw new Error("Invalid value for o_lat_1 and o_lat_2: o_lat_1 should be different from o_lat_2");if(u<Dt)throw new Error("Invalid value for o_lat_1: o_lat_1 should be different from zero");n=Math.atan2(Math.cos(a)*Math.sin(l)*Math.cos(i)-Math.sin(a)*Math.cos(l)*Math.cos(s),Math.sin(a)*Math.cos(l)*Math.sin(s)-Math.cos(a)*Math.sin(l)*Math.sin(i)),r=Math.atan(-1*Math.cos(n-i)/Math.tan(a))}return{lamp:n,phip:r}}function U$(t,e){let{x:r,y:n}=e;r+=t.long0;const i=Math.cos(r),a=Math.sin(n),s=Math.cos(n);e.x=It(Math.atan2(s*Math.sin(r),t.sphip*s*i+t.cphip*a)+t.lamp),e.y=Math.asin(t.sphip*a-t.cphip*s*i);const l=t.obliqueProjection.forward(e);return t.isIdentity&&(l.x*=Eo,l.y*=Eo),l}function z$(t,e){let{x:r,y:n}=e;r+=t.long0;const i=Math.cos(n),a=Math.cos(r);e.x=It(Math.atan2(i*Math.sin(r),Math.sin(n))+t.lamp),e.y=Math.asin(-1*i*a);const s=t.obliqueProjection.forward(e);return t.isIdentity&&(s.x*=Eo,s.y*=Eo),s}function G$(t,e){t.isIdentity&&(e.x*=Zi,e.y*=Zi);const r=t.obliqueProjection.inverse(e);let{x:n,y:i}=r;if(n<Number.MAX_VALUE){n-=t.lamp;const a=Math.cos(n),s=Math.sin(i),l=Math.cos(i);e.x=Math.atan2(l*Math.sin(n),t.sphip*l*a-t.cphip*s),e.y=Math.asin(t.sphip*s+t.cphip*l*a)}return e.x=It(e.x+t.long0),e}function H$(t,e){t.isIdentity&&(e.x*=Zi,e.y*=Zi);const r=t.obliqueProjection.inverse(e);let{x:n,y:i}=r;if(n<Number.MAX_VALUE){const a=Math.cos(i);n-=t.lamp,e.x=Math.atan2(a*Math.sin(n),-1*Math.sin(i)),e.y=Math.asin(a*Math.cos(n))}return e.x=It(e.x+t.long0),e}var q$=["General Oblique Transformation","General_Oblique_Transformation","ob_tran"];const V$={init:j$,forward:I$,inverse:F$,names:q$};function $$(t){t.Proj.projections.add(c1),t.Proj.projections.add(u1),t.Proj.projections.add(RH),t.Proj.projections.add(HH),t.Proj.projections.add(ZH),t.Proj.projections.add(QH),t.Proj.projections.add(aq),t.Proj.projections.add(uq),t.Proj.projections.add(mq),t.Proj.projections.add(xq),t.Proj.projections.add(Oq),t.Proj.projections.add(Bq),t.Proj.projections.add(qq),t.Proj.projections.add(Kq),t.Proj.projections.add(tV),t.Proj.projections.add(sV),t.Proj.projections.add(hV),t.Proj.projections.add(gV),t.Proj.projections.add(bV),t.Proj.projections.add(LV),t.Proj.projections.add(PV),t.Proj.projections.add(IV),t.Proj.projections.add(qV),t.Proj.projections.add(YV),t.Proj.projections.add(e$),t.Proj.projections.add(l$),t.Proj.projections.add(d$),t.Proj.projections.add(_$),t.Proj.projections.add(S$),t.Proj.projections.add(N$),t.Proj.projections.add(D$),t.Proj.projections.add(V$)}const Ny=Object.assign(XG,{defaultDatum:"WGS84",Proj:wl,WGS84:new wl("WGS84"),Point:yd,toPoint:J8,defs:gs,nadgrid:OG,transform:z1,mgrs:JG,version:"__VERSION__"});$$(Ny);const W$=(t={})=>{const{enableHighAccuracy:e=!0,timeout:r=1e4,maximumAge:n=0,watchPosition:i=!1}=t,[a,s]=ve.useState(null),[l,u]=ve.useState(null),[f,p]=ve.useState(!1),[v,y]=ve.useState("prompt"),_=ve.useRef(null);ve.useEffect(()=>{"permissions"in navigator&&navigator.permissions.query({name:"geolocation"}).then(V=>{y(V.state),V.onchange=()=>{y(V.state)}}).catch(()=>{y("prompt")})},[]),ve.useEffect(()=>()=>{_.current!==null&&navigator.geolocation.clearWatch(_.current)},[]);const T=ve.useCallback(V=>{const{latitude:X,longitude:ce,accuracy:I,altitude:q,heading:F,speed:J}=V.coords;s({latitude:X,longitude:ce,accuracy:I,altitude:q,heading:F,speed:J,timestamp:V.timestamp,accuracyLevel:Z$(I)}),u(null),p(!1)},[]),S=ve.useCallback(V=>{let X;switch(V.code){case V.PERMISSION_DENIED:X="Location permission denied. Please enable location access in your device settings.",y("denied");break;case V.POSITION_UNAVAILABLE:X="Location unavailable. Please ensure GPS is enabled.";break;case V.TIMEOUT:X="Location request timed out. Please try again.";break;default:X="An unknown error occurred while getting location."}u(X),p(!1)},[]),C=ve.useCallback(()=>{if(!("geolocation"in navigator)){u("Geolocation is not supported by your browser.");return}p(!0),u(null),navigator.geolocation.getCurrentPosition(T,S,{enableHighAccuracy:e,timeout:r,maximumAge:n})},[e,r,n,T,S]),M=ve.useCallback(()=>{if(!("geolocation"in navigator)){u("Geolocation is not supported by your browser.");return}_.current===null&&(p(!0),u(null),_.current=navigator.geolocation.watchPosition(T,S,{enableHighAccuracy:e,timeout:r,maximumAge:n}))},[e,r,n,T,S]),D=ve.useCallback(()=>{_.current!==null&&(navigator.geolocation.clearWatch(_.current),_.current=null,p(!1))},[]),j=ve.useCallback(()=>{s(null),u(null)},[]);return{location:a,error:l,isLoading:f,permissionState:v,getCurrentPosition:C,startWatching:M,stopWatching:D,clearLocation:j,isSupported:"geolocation"in navigator}},Z$=t=>t<=5?{level:"excellent",color:"#10B981",label:"GPS accuracy: Excellent"}:t<=15?{level:"good",color:"#22C55E",label:"GPS accuracy: Good"}:t<=50?{level:"moderate",color:"#F59E0B",label:"GPS accuracy: Moderate"}:t<=100?{level:"poor",color:"#EF4444",label:"GPS accuracy: Poor"}:{level:"very_poor",color:"#DC2626",label:"GPS accuracy: Very Poor"};delete Is.Icon.Default.prototype._getIconUrl;Is.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});Ny.defs("EPSG:32645","+proj=utm +zone=45 +datum=WGS84 +units=m +no_defs");const Y$=(t,e)=>Ny("EPSG:32645","EPSG:4326",[t,e]),Xm={minX:374675.5284200097,minY:2.2494228492706926e6,maxX:374819.7744433263,maxY:2249603845816269e-9},W3=[(Xm.minX+Xm.maxX)/2,(Xm.minY+Xm.maxY)/2],Jm=Y$(W3[0],W3[1]),K$=({setMapInstance:t})=>{const e=Mz();return ve.useEffect(()=>{t(e)},[e,t]),null},X$=({onBuildingSelect:t})=>{const e=ve.useRef(null),[r,n]=ve.useState(null),[i,a]=ve.useState(null),[s,l]=ve.useState(null),[u,f]=ve.useState(null),[p,v]=ve.useState(!1),[y,_]=ve.useState([]),[T,S]=ve.useState([]),[C,M]=ve.useState(!1),[D,j]=ve.useState(null),[V,X]=ve.useState(null),{location:ce,error:I,isLoading:q,getCurrentPosition:F}=W$({enableHighAccuracy:!0,timeout:15e3}),J=oe=>{if(!r)return;if(u)try{u.disable()}catch{}let be;const _e={color:oe==="polygon"?"#10b981":"#8b5cf6",weight:3,fillOpacity:.2};oe==="polygon"?be=new Is.Draw.Polygon(r,{shapeOptions:_e,allowIntersection:!1,guidelineDistance:15}):oe==="rectangle"?be=new Is.Draw.Rectangle(r,{shapeOptions:_e}):oe==="marker"&&(be=new Is.Draw.Marker(r)),be&&(be.enable(),f(be),a(oe))},B=()=>{F(),v(!0)};ve.useEffect(()=>{ce&&r&&r.flyTo([ce.latitude,ce.longitude],18,{duration:1.5})},[ce,r]);const Z=()=>{r&&r.flyTo([Jm[1],Jm[0]],19,{duration:1.5})},ue=()=>{if(u)try{u._markers&&u._markers.length>0&&(u.deleteLastVertex(),_(oe=>{const be=[...oe];return be.pop(),be}))}catch(oe){console.log("Undo not available:",oe)}},de=()=>{if(u)try{u.disable()}catch{}f(null),a(null),_([]),S([]),l(null),e.current&&e.current.clearLayers()};ve.useEffect(()=>{if(!r)return;const oe=be=>{const _e=be.layers?._layers;if(_e){const Le=Object.values(_e);if(Le.length>0&&Le[0]._latlng){const Ne=Le[0]._latlng;_(ee=>[...ee,{lat:Ne.lat,lng:Ne.lng}])}}};return r.on("draw:drawvertex",oe),()=>{r.off("draw:drawvertex",oe)}},[r]),ve.useEffect(()=>{if(!r)return;const oe=()=>{l(null)},be=()=>{l(null),a(null)},_e=Le=>{const Ne=Le.layer,ee=Le.layerType;let O,G;ee==="polygon"||ee==="rectangle"?(O={type:"Polygon",coordinates:[Ne.getLatLngs()[0].map(Ae=>[Ae.lng,Ae.lat])]},G=Ne.getBounds().getCenter()):ee==="marker"&&(G=Ne.getLatLng(),O={type:"Point",coordinates:[G.lng,G.lat]});let H=0;(ee==="polygon"||ee==="rectangle")&&(H=Is.GeometryUtil.geodesicArea(Ne.getLatLngs()[0]));const Y={id:`BLD-${Date.now()}`,geometry:O,latlng:G,area:H.toFixed(2),layerType:ee};l(null),a(null),f(null),t(Y)};return r.on("draw:drawvertex",Le=>{const Ne=Object.values(Le.layers._layers)[0];if(Ne&&Ne._latlngs){const ee=Ne._latlngs;if(ee.length>=3){const O=Is.GeometryUtil.geodesicArea(ee);l(O)}}}),r.on("draw:drawstart",oe),r.on("draw:drawstop",be),r.on("draw:created",_e),()=>{r.off("draw:drawvertex"),r.off("draw:drawstart",oe),r.off("draw:drawstop",be),r.off("draw:created",_e)}},[r,t]);const xe=oe=>{const{layerType:be,layer:_e}=oe;let Le,Ne;be==="polygon"||be==="rectangle"?(Le={type:"Polygon",coordinates:[_e.getLatLngs()[0].map(H=>[H.lng,H.lat])]},Ne=_e.getBounds().getCenter()):be==="marker"&&(Ne=_e.getLatLng(),Le={type:"Point",coordinates:[Ne.lng,Ne.lat]});let ee=0;(be==="polygon"||be==="rectangle")&&(ee=Is.GeometryUtil.geodesicArea(_e.getLatLngs()[0]));const O={id:`BLD-${Date.now()}`,geometry:Le,latlng:Ne,area:ee.toFixed(2),layerType:be};a(null),t(O)};return x.jsxs("div",{className:"relative h-full w-full",children:[x.jsxs(gy,{center:[Jm[1],Jm[0]],zoom:17,maxZoom:24,style:{height:"100%",width:"100%"},tap:!0,touchZoom:!0,dragging:!0,scrollWheelZoom:!0,children:[x.jsx(K$,{setMapInstance:n}),x.jsx(vy,{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"],attribution:" Google Maps",maxZoom:22}),x.jsx(I8,{url:"http://localhost:8080/geoserver/RASTER/wms",params:{layers:"RASTER:67cfea31928570b1a96c327e",format:"image/png",transparent:!0,version:"1.1.0",srs:"EPSG:4326"},maxZoom:24,opacity:1}),x.jsx(Pz,{ref:e,children:x.jsx(F8,{position:"topleft",onCreated:xe,draw:{rectangle:{shapeOptions:{color:"#8b5cf6",weight:3,fillOpacity:.2},touchIcon:new Is.DivIcon({className:"leaflet-draw-touch-icon",iconSize:new Is.Point(30,30),iconAnchor:new Is.Point(15,15)})},polygon:{allowIntersection:!1,guidelineDistance:15,shapeOptions:{color:"#10b981",weight:3,fillOpacity:.2},touchIcon:new Is.DivIcon({className:"leaflet-draw-touch-icon",iconSize:new Is.Point(30,30),iconAnchor:new Is.Point(15,15)})},marker:!0,circle:!1,circlemarker:!1,polyline:!1},edit:{edit:!1,remove:!1}})}),p&&ce&&x.jsxs(x.Fragment,{children:[x.jsx(kz,{center:[ce.latitude,ce.longitude],radius:ce.accuracy,pathOptions:{color:ce.accuracyLevel?.color||"#3B82F6",fillColor:ce.accuracyLevel?.color||"#3B82F6",fillOpacity:.15,weight:2}}),x.jsx(Rz,{position:[ce.latitude,ce.longitude],children:x.jsx(j8,{children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"font-semibold",children:" Your Location"}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Accuracy: ",Math.round(ce.accuracy),"m"]}),x.jsx("p",{className:"text-xs",style:{color:ce.accuracyLevel?.color},children:ce.accuracyLevel?.label})]})})})]})]}),x.jsxs("div",{className:"absolute left-4 bottom-8 z-[1000] flex flex-col gap-2",children:[x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3 border border-gray-100",children:[x.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 text-center",children:"Draw"}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("button",{onClick:()=>J("polygon"),className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${i==="polygon"?"bg-green-500 text-white shadow-lg shadow-green-200":"bg-gradient-to-br from-green-50 to-green-100 text-green-600 hover:from-green-100 hover:to-green-200"}`,title:"Draw Polygon",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-14 9V3z"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Polygon"})]}),x.jsxs("button",{onClick:()=>J("rectangle"),className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${i==="rectangle"?"bg-purple-500 text-white shadow-lg shadow-purple-200":"bg-gradient-to-br from-purple-50 to-purple-100 text-purple-600 hover:from-purple-100 hover:to-purple-200"}`,title:"Draw Rectangle",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeWidth:2})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Rectangle"})]}),x.jsxs("button",{onClick:()=>J("marker"),className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${i==="marker"?"bg-orange-500 text-white shadow-lg shadow-orange-200":"bg-gradient-to-br from-orange-50 to-orange-100 text-orange-600 hover:from-orange-100 hover:to-orange-200"}`,title:"Drop Marker",children:[x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Marker"})]})]})]}),(i||y.length>0)&&x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3 border border-gray-100",children:[x.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 text-center",children:"Edit"}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("button",{onClick:ue,disabled:!i,className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${i?"bg-gradient-to-br from-yellow-50 to-yellow-100 text-yellow-600 hover:from-yellow-100 hover:to-yellow-200 active:scale-95":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,title:"Undo Last Point",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Undo"})]}),x.jsxs("button",{onClick:de,className:"w-14 h-14 rounded-xl flex flex-col items-center justify-center bg-gradient-to-br from-red-50 to-red-100 text-red-500 hover:from-red-100 hover:to-red-200 active:scale-95 transition-all",title:"Clear Drawing",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Clear"})]})]})]}),i&&y.length>0&&x.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-2xl shadow-xl px-3 py-2 text-center",children:[x.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wide opacity-80",children:"Points"}),x.jsx("p",{className:"text-2xl font-bold",children:y.length}),x.jsx("p",{className:"text-[9px] opacity-70",children:y.length<3?`Need ${3-y.length} more`:"Ready to close"})]}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3 border border-gray-100 flex flex-col gap-2",children:[x.jsxs("button",{onClick:Z,className:"w-14 h-14 bg-gradient-to-br from-cyan-50 to-cyan-100 text-cyan-600 rounded-xl flex flex-col items-center justify-center hover:from-cyan-100 hover:to-cyan-200 transition-all",title:"Go to Drone Imagery",children:[x.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),x.jsx("circle",{cx:"12",cy:"13",r:"3",strokeWidth:2})]}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Drone"})]}),x.jsxs("button",{onClick:B,disabled:q,className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all relative ${q?"bg-blue-500 text-white animate-pulse":ce?"bg-gradient-to-br from-green-50 to-green-100 text-green-600 hover:from-green-100 hover:to-green-200":"bg-gradient-to-br from-blue-50 to-blue-100 text-blue-600 hover:from-blue-100 hover:to-blue-200"}`,title:I||(ce?`Accuracy: ${Math.round(ce.accuracy)}m`:"Get My Location"),children:[q?x.jsxs("svg",{className:"w-6 h-6 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:q?"Finding...":ce?"Located":"Location"}),ce&&x.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full border-2 border-white",style:{backgroundColor:ce.accuracyLevel?.color||"#10B981"},title:ce.accuracyLevel?.label})]})]})]}),x.jsx("style",{children:`
                .leaflet-draw-toolbar {
                    position: absolute !important;
                    left: -9999px !important;
                    opacity: 0 !important;
                    pointer-events: none !important;
                }
                .leaflet-draw-section {
                    position: absolute !important;
                    left: -9999px !important;
                }
            `}),i?x.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-[1000] max-w-[90vw]",children:x.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-3 rounded-2xl shadow-lg",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"text-2xl animate-bounce",children:""}),x.jsxs("div",{children:[x.jsxs("p",{className:"font-semibold text-sm",children:[i==="polygon"&&"Tap to add corner points",i==="rectangle"&&"Tap and drag to draw rectangle",i==="marker"&&"Tap to place marker"]}),x.jsxs("p",{className:"text-xs opacity-90",children:[i==="polygon"&&"Tap first point again to complete  Use Undo for mistakes",i==="rectangle"&&"Drag corner to resize",i==="marker"&&"Tap anywhere on the map"]})]})]})})}):x.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-[1000]",children:x.jsx("div",{className:"bg-white/95 backdrop-blur-sm px-5 py-2.5 rounded-full shadow-lg border border-gray-100",children:x.jsxs("p",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[x.jsx("span",{className:"text-lg",children:""}),x.jsx("span",{children:"Select a tool and draw around the building"})]})})})]})},J$=({onConfirm:t,onCancel:e})=>{const[r,n]=ve.useState(1),[i,a]=ve.useState(""),[s,l]=ve.useState(!1),u=()=>{const f=s?parseInt(i):r;f&&f>0&&f<=50?t(f):alert("Please enter a valid number of floors (1-50)")};return x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-8",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"text-5xl mb-4",children:""}),x.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Building Footprint Captured"}),x.jsx("p",{className:"text-gray-600 mt-2",children:"How many floors or units does this building have?"})]}),!s&&x.jsxs("div",{className:"space-y-4 mb-6",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 text-center",children:"Quick Select"}),x.jsx("div",{className:"grid grid-cols-5 gap-3",children:[1,2,3,4,5].map(f=>x.jsx("button",{onClick:()=>n(f),className:`p-4 rounded-lg border-2 font-bold text-lg transition-all ${r===f&&!s?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 hover:border-blue-400 text-gray-700"}`,children:f},f))})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("label",{className:"flex items-center space-x-3 mb-3",children:[x.jsx("input",{type:"checkbox",checked:s,onChange:f=>l(f.target.checked),className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"font-medium text-gray-700",children:"Custom number of floors"})]}),s&&x.jsx("input",{type:"number",value:i,onChange:f=>a(f.target.value),placeholder:"Enter number (1-50)",min:"1",max:"50",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-center text-xl font-bold"})]}),x.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded mb-6",children:x.jsxs("p",{className:"text-sm text-blue-900",children:[x.jsx("strong",{children:"Note:"})," You'll fill out a separate assessment form for each floor/unit, allowing different owners and property details per floor."]})}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsx("button",{onClick:e,className:"flex-1 py-3 px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-colors",children:"Cancel"}),x.jsx("button",{onClick:u,className:"flex-1 py-3 px-6 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105",children:"Continue "})]})]})},Q$=({floorNumber:t,onConfirm:e,onSkip:r})=>{const[n,i]=ve.useState(1),[a,s]=ve.useState(""),[l,u]=ve.useState(!1),f=()=>{const p=l?parseInt(a):n;p&&p>0&&p<=20?e(p):alert("Please enter a valid number of units (1-20)")};return x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 sm:p-8",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"text-4xl sm:text-5xl mb-3",children:""}),x.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Floor ",t]}),x.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"How many units/flats on this floor?"})]}),!l&&x.jsxs("div",{className:"space-y-3 mb-5",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 text-center",children:"Quick Select"}),x.jsx("div",{className:"grid grid-cols-5 gap-2 sm:gap-3",children:[1,2,3,4,5].map(p=>x.jsx("button",{onClick:()=>i(p),className:`p-3 sm:p-4 rounded-lg border-2 font-bold text-base sm:text-lg transition-all ${n===p&&!l?"border-green-600 bg-green-50 text-green-700":"border-gray-300 hover:border-green-400 text-gray-700"}`,children:p},p))})]}),x.jsxs("div",{className:"mb-5",children:[x.jsxs("label",{className:"flex items-center space-x-2 sm:space-x-3 mb-3",children:[x.jsx("input",{type:"checkbox",checked:l,onChange:p=>u(p.target.checked),className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700",children:"Custom number of units"})]}),l&&x.jsx("input",{type:"number",inputMode:"numeric",value:a,onChange:p=>s(p.target.value),placeholder:"Enter number (1-20)",min:"1",max:"20",className:"w-full p-3 sm:p-4 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none text-center text-lg sm:text-xl font-bold"})]}),x.jsx("div",{className:"bg-green-50 border-l-4 border-green-600 p-3 sm:p-4 rounded mb-5",children:x.jsxs("p",{className:"text-xs sm:text-sm text-green-900",children:[x.jsx("strong",{children:"Note:"})," Each unit will have a separate form for owner details (e.g., Unit A, Unit B, or Flat 1, Flat 2)."]})}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:space-x-3 sm:gap-0",children:[x.jsx("button",{onClick:()=>r(),className:"sm:flex-1 py-3 sm:py-4 px-4 sm:px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-colors text-base",children:"Single Owner (Skip)"}),x.jsx("button",{onClick:f,className:"sm:flex-1 py-3 sm:py-4 px-4 sm:px-6 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105 text-base",children:"Continue "})]})]})},uT=({geometry:t,area:e})=>{const r=ve.useRef(null);ve.useEffect(()=>{if(!t||!r.current)return;const u=r.current,f=u.getContext("2d"),p=u.width,v=u.height;if(f.fillStyle="#f8fafc",f.fillRect(0,0,p,v),n(f,p,v),t.type==="Polygon"){const y=t.coordinates[0];i(f,y,p,v)}else t.type==="Point"&&a(f,t.coordinates,p,v)},[t]);const n=(u,f,p)=>{u.strokeStyle="#e2e8f0",u.lineWidth=.5;for(let v=0;v<=f;v+=20)u.beginPath(),u.moveTo(v,0),u.lineTo(v,p),u.stroke();for(let v=0;v<=p;v+=20)u.beginPath(),u.moveTo(0,v),u.lineTo(f,v),u.stroke();u.strokeStyle="#94a3b8",u.lineWidth=2,u.strokeRect(0,0,f,p)},i=(u,f,p,v)=>{const y=f.map(q=>q[0]),_=f.map(q=>q[1]),T=Math.min(...y),S=Math.max(...y),C=Math.min(..._),M=Math.max(..._),D=40,j=(p-2*D)/(S-T),V=(v-2*D)/(M-C),X=Math.min(j,V),ce=q=>D+(q-T)*X,I=q=>v-(D+(q-C)*X);u.fillStyle="rgba(59, 130, 246, 0.1)",u.beginPath(),f.forEach((q,F)=>{const J=ce(q[0]),B=I(q[1]);F===0?u.moveTo(J,B):u.lineTo(J,B)}),u.closePath(),u.fill(),u.strokeStyle="#2563eb",u.lineWidth=2,u.stroke(),u.fillStyle="#1e40af",f.forEach(q=>{const F=ce(q[0]),J=I(q[1]);u.beginPath(),u.arc(F,J,4,0,2*Math.PI),u.fill()}),u.fillStyle="#1e293b",u.font="bold 11px monospace",u.textAlign="center";for(let q=0;q<f.length;q++){const F=f[q],J=f[(q+1)%f.length],B=ce(F[0]),Z=I(F[1]),ue=ce(J[0]),de=I(J[1]),xe=l(F[1],F[0],J[1],J[0]),oe=(B+ue)/2,be=(Z+de)/2;u.fillStyle="white",u.fillRect(oe-25,be-10,50,16),u.fillStyle="#1e40af",u.fillText(`${xe.toFixed(1)}m`,oe,be+3)}u.font="bold 14px monospace",u.fillStyle="white",u.fillRect(p/2-60,15,120,25),u.fillStyle="#1e40af",u.fillText(`Area: ${e} m`,p/2,32),s(u,p-40,40)},a=(u,f,p,v)=>{const y=p/2,_=v/2;u.strokeStyle="#2563eb",u.lineWidth=2,u.beginPath(),u.moveTo(y-20,_),u.lineTo(y+20,_),u.stroke(),u.beginPath(),u.moveTo(y,_-20),u.lineTo(y,_+20),u.stroke(),u.fillStyle="#1e40af",u.beginPath(),u.arc(y,_,6,0,2*Math.PI),u.fill(),u.fillStyle="#1e293b",u.font="bold 12px monospace",u.textAlign="center",u.fillText("Survey Point",p/2,v-20)},s=(u,f,p)=>{u.save(),u.translate(f,p),u.fillStyle="#ef4444",u.beginPath(),u.moveTo(0,-15),u.lineTo(-5,0),u.lineTo(5,0),u.closePath(),u.fill(),u.fillStyle="#94a3b8",u.beginPath(),u.moveTo(0,15),u.lineTo(-5,0),u.lineTo(5,0),u.closePath(),u.fill(),u.fillStyle="#1e293b",u.font="bold 10px sans-serif",u.textAlign="center",u.fillText("N",0,-20),u.restore()},l=(u,f,p,v)=>{const _=u*Math.PI/180,T=p*Math.PI/180,S=(p-u)*Math.PI/180,C=(v-f)*Math.PI/180,M=Math.sin(S/2)*Math.sin(S/2)+Math.cos(_)*Math.cos(T)*Math.sin(C/2)*Math.sin(C/2);return 6371e3*(2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M)))};return x.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:" Building Footprint - CAD View"}),x.jsx("span",{className:"text-xs text-gray-500 font-mono",children:"Scale: Auto-fit"})]}),x.jsx("canvas",{ref:r,width:500,height:400,className:"w-full border border-gray-200 rounded"}),x.jsx("div",{className:"mt-2 text-xs text-gray-500 font-mono",children:"All measurements in meters (m) | Grid spacing: 20px"})]})},j2=({label:t="Photo",onCapture:e,currentPhoto:r=null,required:n=!1,maxSizeMB:i=1})=>{const[a,s]=ve.useState(!1),[l,u]=ve.useState(null),[f,p]=ve.useState(null),[v,y]=ve.useState(null),[_,T]=ve.useState(null),[S,C]=ve.useState("environment"),[M,D]=ve.useState(!1),j=ve.useRef(null),V=ve.useRef(null),X=ve.useRef(null);ve.useEffect(()=>{r&&!v&&(typeof r=="string"?y(r):r instanceof File&&y(URL.createObjectURL(r)))},[r,v]),ve.useEffect(()=>()=>{l&&l.getTracks().forEach(de=>de.stop()),v&&v.startsWith("blob:")&&URL.revokeObjectURL(v)},[l,v]);const ce=async()=>{T(null),D(!0);try{const de={video:{facingMode:S,width:{ideal:1280},height:{ideal:720}},audio:!1},xe=await navigator.mediaDevices.getUserMedia(de);u(xe),j.current&&(j.current.srcObject=xe),s(!0)}catch(de){console.error("Camera error:",de),de.name==="NotAllowedError"?T("Camera permission denied. Please allow camera access."):de.name==="NotFoundError"?T("No camera found on this device."):T("Failed to access camera. Try selecting from gallery instead.")}finally{D(!1)}},I=ve.useCallback(()=>{l&&(l.getTracks().forEach(de=>de.stop()),u(null)),s(!1)},[l]),q=async()=>{I(),C(de=>de==="environment"?"user":"environment"),setTimeout(()=>ce(),100)},F=(de,xe)=>{let oe=.9,be=de.toDataURL("image/jpeg",oe);for(;be.length>xe*1024*1024*1.37&&oe>.1;)oe-=.1,be=de.toDataURL("image/jpeg",oe);return be},J=(de,xe)=>{const oe=de.split(","),be=oe[0].match(/:(.*?);/)[1],_e=atob(oe[1]);let Le=_e.length;const Ne=new Uint8Array(Le);for(;Le--;)Ne[Le]=_e.charCodeAt(Le);return new File([Ne],xe,{type:be})},B=()=>{if(!j.current||!V.current)return;const de=j.current,xe=V.current,oe=xe.getContext("2d");xe.width=de.videoWidth,xe.height=de.videoHeight,oe.drawImage(de,0,0);const be=F(xe,i),_e=J(be,`photo_${Date.now()}.jpg`);p(_e),y(be),I(),e&&e(_e)},Z=async de=>{const xe=de.target.files[0];if(xe){D(!0);try{const oe=new Image,be=new FileReader;be.onload=_e=>{oe.onload=()=>{const Le=V.current,Ne=Le.getContext("2d");let ee=oe.width,O=oe.height;const G=1920;(ee>G||O>G)&&(ee>O?(O=O/ee*G,ee=G):(ee=ee/O*G,O=G)),Le.width=ee,Le.height=O,Ne.drawImage(oe,0,0,ee,O);const H=F(Le,i),Y=J(H,xe.name);p(Y),y(H),D(!1),e&&e(Y)},oe.src=_e.target.result},be.readAsDataURL(xe)}catch(oe){console.error("File processing error:",oe),T("Failed to process image"),D(!1)}}},ue=()=>{p(null),y(null),e&&e(null)};return x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700",children:[t," ",n&&"*"]}),x.jsx("canvas",{ref:V,className:"hidden"}),x.jsx("input",{ref:X,type:"file",accept:"image/*",onChange:Z,className:"hidden"}),_&&x.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 rounded",children:x.jsx("p",{className:"text-sm text-red-700",children:_})}),a&&x.jsxs("div",{className:"fixed inset-0 bg-black z-[2000] flex flex-col",children:[x.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-10 bg-gradient-to-b from-black/70 to-transparent",children:[x.jsx("button",{onClick:I,className:"text-white text-2xl font-light p-2",children:""}),x.jsx("span",{className:"text-white font-medium",children:t}),x.jsx("button",{onClick:q,className:"text-white p-2",title:"Switch Camera",children:""})]}),x.jsx("video",{ref:j,autoPlay:!0,playsInline:!0,muted:!0,className:"flex-1 w-full object-cover"}),x.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 flex justify-center bg-gradient-to-t from-black/70 to-transparent",children:x.jsx("button",{onClick:B,className:"w-20 h-20 bg-white rounded-full border-4 border-gray-300 shadow-lg flex items-center justify-center hover:scale-105 active:scale-95 transition-transform",children:x.jsx("div",{className:"w-16 h-16 bg-white rounded-full border-4 border-gray-400"})})})]}),v?x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:v,alt:"Captured",className:"w-full h-48 object-cover rounded-lg border-2 border-green-500"}),x.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[x.jsx("button",{type:"button",onClick:ue,className:"bg-red-500 text-white px-3 py-1.5 rounded-lg text-sm font-medium shadow-lg hover:bg-red-600 transition-colors",children:" Remove"}),x.jsx("button",{type:"button",onClick:ce,className:"bg-blue-500 text-white px-3 py-1.5 rounded-lg text-sm font-medium shadow-lg hover:bg-blue-600 transition-colors",children:" Retake"})]}),x.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:" Photo captured"})]}):x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:ce,disabled:M,className:"flex-1 py-4 px-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl font-medium shadow-md hover:from-blue-600 hover:to-blue-700 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:M?x.jsx("span",{className:"animate-spin",children:""}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"text-xl",children:""}),x.jsx("span",{children:"Take Photo"})]})}),x.jsxs("button",{type:"button",onClick:()=>X.current?.click(),disabled:M,className:"flex-1 py-4 px-4 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-xl font-medium shadow-md hover:from-gray-200 hover:to-gray-300 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[x.jsx("span",{className:"text-xl",children:""}),x.jsx("span",{children:"Gallery"})]})]})]})},I2={owner_name:{required:!0,minLength:2,maxLength:100,pattern:/^[a-zA-Z\s.'-]+$/,message:"Please enter a valid name (letters, spaces, dots, hyphens only)"},phone_number:{required:!0,pattern:/^[6-9]\d{9}$/,message:"Please enter a valid 10-digit Indian mobile number (starting with 6-9)"},aadhaar_number:{required:!1,pattern:/^\d{12}$/,validate:t=>!t||t.length===0?!0:!(t.length!==12||t[0]==="0"||t[0]==="1"),message:"Please enter a valid 12-digit Aadhaar number (cannot start with 0 or 1)"},year_of_construction:{required:!1,validate:t=>{if(!t)return!0;const e=parseInt(t),r=new Date().getFullYear();return e>=1900&&e<=r},message:`Year must be between 1900 and ${new Date().getFullYear()}`},property_usage:{required:!1,message:"Please select a property usage type"},construction_type:{required:!1,message:"Please select a construction type"},ownership_type:{required:!1,message:"Please select ownership type"}},eW=()=>{const[t,e]=ve.useState({}),[r,n]=ve.useState({}),i=ve.useCallback((v,y)=>{const _=I2[v];return _?_.required&&(!y||y.toString().trim()==="")?`${F2(v)} is required`:!y||y.toString().trim()===""?null:_.pattern&&!_.pattern.test(y)?_.message:_.minLength&&y.length<_.minLength?`${F2(v)} must be at least ${_.minLength} characters`:_.maxLength&&y.length>_.maxLength?`${F2(v)} must be less than ${_.maxLength} characters`:_.validate&&!_.validate(y)?_.message:null:null},[]),a=ve.useCallback(v=>{const y={};let _=!0;Object.keys(I2).forEach(S=>{const C=i(S,v[S]);C&&(y[S]=C,_=!1)}),e(y);const T={};return Object.keys(I2).forEach(S=>{T[S]=!0}),n(T),_},[i]),s=ve.useCallback((v,y)=>{n(T=>({...T,[v]:!0}));const _=i(v,y);e(T=>({...T,[v]:_}))},[i]),l=ve.useCallback(v=>{e(y=>{const _={...y};return delete _[v],_})},[]),u=ve.useCallback(()=>{e({}),n({})},[]),f=ve.useCallback(v=>r[v]&&t[v],[r,t]),p=ve.useCallback(v=>r[v]?t[v]:null,[r,t]);return{errors:t,touched:r,validateField:i,validateForm:a,handleBlur:s,clearError:l,resetValidation:u,hasError:f,getError:p}},F2=t=>t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),tW="indicesSurveyDB",rW=1,ad={PENDING_SURVEYS:"pendingSurveys",CACHED_DATA:"cachedData"};let lu=null,B2=!1;const nW=()=>{if(!lu)return!1;try{return lu.objectStoreNames!==void 0}catch{return!1}},iW=()=>new Promise((t,e)=>{if(nW()){t(lu);return}if(lu=null,B2){t(null);return}try{const r=indexedDB.open(tW,rW);r.onerror=()=>{console.error("Error opening IndexedDB:",r.error),B2=!0,t(null)},r.onsuccess=()=>{lu=r.result,lu.onclose=()=>{console.log("IndexedDB connection closed"),lu=null},lu.onerror=n=>{console.error("IndexedDB error:",n)},console.log("IndexedDB initialized successfully"),t(lu)},r.onupgradeneeded=n=>{const i=n.target.result;if(!i.objectStoreNames.contains(ad.PENDING_SURVEYS)){const a=i.createObjectStore(ad.PENDING_SURVEYS,{keyPath:"id",autoIncrement:!0});a.createIndex("timestamp","timestamp",{unique:!1}),a.createIndex("status","status",{unique:!1})}i.objectStoreNames.contains(ad.CACHED_DATA)||i.createObjectStore(ad.CACHED_DATA,{keyPath:"key"})}}catch(r){console.error("IndexedDB not available:",r),B2=!0,t(null)}}),Z3=async t=>{const e=await iW();return e?new Promise((r,n)=>{try{const a=e.transaction([ad.PENDING_SURVEYS],"readwrite").objectStore(ad.PENDING_SURVEYS),s={...t,timestamp:Date.now(),status:"pending",attempts:0,lastAttempt:null},l=a.add(s);l.onsuccess=()=>{console.log("Survey added to pending queue, ID:",l.result),r(l.result)},l.onerror=()=>{console.error("Error adding survey to queue:",l.error),n(l.error)}}catch(i){console.error("Transaction error:",i),r(null)}}):(console.warn("IndexedDB not available, cannot queue survey"),null)},Y3=()=>navigator.onLine,U2="survey_form_draft",aW=({buildingData:t,floorNumber:e=1,totalFloors:r=1,unitIdentifier:n=null,onClose:i,onSuccess:a})=>{const[s,l]=ve.useState({owner_name:"",phone_number:"",aadhaar_number:"",email_address:"",family_members_count:"",occupier_name:"",survey_gat_no:"",city_survey_no:"",layout_name_plot_no:"",building_name:"",address_with_floor:"",nearest_road_type:"",pin_code:"",property_type:"Residential",usage_type:"",usage_sub_type:"",building_permission:!1,permission_no:"",permission_date:"",occupancy_certificate:!1,construction_type:"RCC",year_of_construction:"",water_connection:!1,water_connection_type:"",water_authorized:"Authorised",water_meter_no:"",water_consumer_no:"",water_connection_date:"",pipe_size:"",has_toilet:!1,toilet_count:"",has_septic_tank:!1,has_sewerage:!1,electricity_connection:!1,has_solar:!1,has_rainwater_harvesting:!1,zone_no:"",new_ward_no:"",old_ward_no:"",old_property_no:"",new_property_no:"",total_carpet_area:"",exempted_area:"",assessable_area:"",ownership_type:"owned",current_tax_details:"",ulb_name:"",district:"",town:"",tax_paid:!1}),[u,f]=ve.useState(null),[p,v]=ve.useState(null),[y,_]=ve.useState(null),[T,S]=ve.useState(!1),[C,M]=ve.useState(!1),[D,j]=ve.useState(null),[V,X]=ve.useState(!1),[ce,I]=ve.useState("owner"),{errors:q,validateForm:F,handleBlur:J,clearError:B,getError:Z,hasError:ue}=eW();ve.useEffect(()=>{const Le=localStorage.getItem(U2);if(Le)try{const Ne=JSON.parse(Le);Ne.buildingId===t?.id&&(l(ee=>({...ee,...Ne.formData})),M(!0),setTimeout(()=>M(!1),3e3))}catch(Ne){console.error("Error restoring draft:",Ne)}},[t?.id]),ve.useEffect(()=>{const Le=setTimeout(()=>{const Ne={buildingId:t?.id,formData:s,savedAt:new Date().toISOString()};localStorage.setItem(U2,JSON.stringify(Ne)),j(new Date)},2e3);return()=>clearTimeout(Le)},[s,t?.id]);const de=ve.useCallback(()=>{localStorage.removeItem(U2)},[]),xe=Le=>{const{name:Ne,value:ee,type:O,checked:G}=Le.target,H=O==="checkbox"?G:ee;l(Y=>({...Y,[Ne]:H})),q[Ne]&&B(Ne)},oe=Le=>{const{name:Ne,value:ee}=Le.target;J(Ne,ee)},be=async(Le,Ne)=>{if(!Le)return null;const ee=`${Date.now()}_${Le.name}`,{data:O,error:G}=await li.storage.from("survey-photos").upload(`${Ne}/${ee}`,Le);if(G)return console.error("Upload error:",G),null;const{data:{publicUrl:H}}=li.storage.from("survey-photos").getPublicUrl(O.path);return H},_e=async Le=>{if(Le.preventDefault(),X(!0),!F(s)){const Ne=document.querySelector(".field-error");Ne&&Ne.scrollIntoView({behavior:"smooth",block:"center"});return}S(!0);try{const Ne=(await li.auth.getUser()).data.user,ee=await be(u,"owners"),O=await be(p,"buildings"),G={surveyor_id:Ne.id,building_id:t.id,geometry:t.geometry,area_sqm:t.area,floor_number:e,total_floors:r,unit_identifier:n,status:"submitted",owner_name:s.owner_name,phone_number:s.phone_number,aadhaar_number:s.aadhaar_number||null,email_address:s.email_address||null,family_members_count:s.family_members_count?parseInt(s.family_members_count):null,occupier_name:s.occupier_name||null,ownership_type:s.ownership_type||null,survey_gat_no:s.survey_gat_no||null,city_survey_no:s.city_survey_no||null,layout_name_plot_no:s.layout_name_plot_no||null,building_name:s.building_name||null,address_with_floor:s.address_with_floor||null,nearest_road_type:s.nearest_road_type||null,pin_code:s.pin_code||null,property_type:s.property_type||null,usage_type:s.usage_type||null,usage_sub_type:s.usage_sub_type||null,building_permission:s.building_permission||!1,permission_no:s.permission_no||null,permission_date:s.permission_date||null,occupancy_certificate:s.occupancy_certificate||!1,construction_type:s.construction_type||null,year_of_construction:s.year_of_construction?parseInt(s.year_of_construction):null,water_connection:s.water_connection||!1,water_connection_type:s.water_connection_type||null,water_authorized:s.water_authorized||null,water_meter_no:s.water_meter_no||null,water_consumer_no:s.water_consumer_no||null,water_connection_date:s.water_connection_date||null,pipe_size:s.pipe_size||null,has_toilet:s.has_toilet||!1,toilet_count:s.toilet_count?parseInt(s.toilet_count):null,has_septic_tank:s.has_septic_tank||!1,has_sewerage:s.has_sewerage||!1,electricity_connection:s.electricity_connection||!1,has_solar:s.has_solar||!1,has_rainwater_harvesting:s.has_rainwater_harvesting||!1,tax_paid:s.tax_paid||!1,ulb_name:s.ulb_name||null,district:s.district||null,town:s.town||null,zone_no:s.zone_no||null,new_ward_no:s.new_ward_no||null,old_ward_no:s.old_ward_no||null,old_property_no:s.old_property_no||null,new_property_no:s.new_property_no||null,total_carpet_area:s.total_carpet_area?parseFloat(s.total_carpet_area):null,exempted_area:s.exempted_area?parseFloat(s.exempted_area):null,assessable_area:s.assessable_area?parseFloat(s.assessable_area):null,current_tax_details:s.current_tax_details||null,owner_photo_url:ee,building_photo_url:O,building_photo_url_2:s.building_photo_url_2||null,property_usage:s.usage_type||s.property_usage||null,form_data:s};if(!Y3()){await Z3(G),de(),alert(" Survey saved offline! It will sync automatically when you're back online."),a&&a(s);return}const{error:H}=await li.from("surveys").insert(G);if(H)throw H;de(),a&&a(s)}catch(Ne){if(console.error("Error submitting survey:",Ne),!Y3()||Ne.message.includes("network")||Ne.message.includes("Failed to fetch"))try{const ee={...surveyData,status:"pending_sync"};await Z3(ee),de(),alert(" Network error - Survey saved offline! It will sync when connected."),a&&a(s);return}catch(ee){console.error("Failed to save offline:",ee)}alert("Failed to submit survey: "+Ne.message)}finally{S(!1)}};return x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex justify-between items-center rounded-t-2xl z-10",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold",children:"Property Assessment Form"}),x.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:["Building ID: ",t.id,r>1&&`  Floor ${e}/${r}`]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[D&&x.jsxs("span",{className:"text-xs text-blue-200 flex items-center gap-1",children:[x.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"})}),"Draft saved"]}),x.jsx("button",{onClick:i,className:"text-white hover:text-gray-200 text-3xl font-light",children:""})]})]}),C&&x.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-3 mx-6 mt-4 rounded-r-lg",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-sm text-amber-700 font-medium",children:"Previous draft restored"})]})}),x.jsxs("form",{onSubmit:_e,className:"p-6 space-y-6",children:[x.jsx("div",{className:"flex overflow-x-auto pb-2 gap-2 -mx-6 px-6 scrollbar-hide",children:[{id:"owner",label:" Owner",icon:""},{id:"location",label:" Location",icon:""},{id:"construction",label:" Construction",icon:""},{id:"water",label:" Water",icon:""},{id:"sanitation",label:" Sanitation",icon:""},{id:"assessment",label:" Assessment",icon:""},{id:"photos",label:" Photos",icon:""}].map(Le=>x.jsx("button",{type:"button",onClick:()=>I(Le.id),className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all ${ce===Le.id?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:Le.label},Le.id))}),x.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:[x.jsx("p",{className:"text-sm font-semibold text-blue-900",children:" Auto-calculated Area"}),x.jsxs("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:[t.area," m"]})]}),x.jsx(uT,{geometry:t.geometry,area:t.area}),ce==="owner"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Owner Details"]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Owner Name *"}),x.jsx("input",{type:"text",name:"owner_name",required:!0,value:s.owner_name,onChange:xe,onBlur:oe,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ue("owner_name")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"Enter owner's full name"}),Z("owner_name")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",Z("owner_name")]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number *"}),x.jsx("input",{type:"tel",inputMode:"numeric",name:"phone_number",required:!0,value:s.phone_number,onChange:xe,onBlur:oe,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ue("phone_number")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"10-digit number",maxLength:"10"}),Z("phone_number")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",Z("phone_number")]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Aadhaar Number *"}),x.jsx("input",{type:"text",inputMode:"numeric",name:"aadhaar_number",required:!0,value:s.aadhaar_number,onChange:xe,onBlur:oe,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ue("aadhaar_number")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"12-digit number",maxLength:"12"}),Z("aadhaar_number")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",Z("aadhaar_number")]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),x.jsx("input",{type:"email",name:"email_address",value:s.email_address,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"email@example.com"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Family Members in Survey"}),x.jsx("input",{type:"number",name:"family_members_count",value:s.family_members_count,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Number of family members",min:"1"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Occupier Name (if different from owner)"}),x.jsx("input",{type:"text",name:"occupier_name",value:s.occupier_name,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter occupier's name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ownership Type *"}),x.jsxs("select",{name:"ownership_type",value:s.ownership_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"owned",children:"Owned"}),x.jsx("option",{value:"rented",children:"Rented"}),x.jsx("option",{value:"leased",children:"Leased"}),x.jsx("option",{value:"government",children:"Government"})]})]}),x.jsx("button",{type:"button",onClick:()=>I("location"),className:"w-full py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Location Details "})]}),ce==="location"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Location Details"]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"7/12 Survey / Gat No"}),x.jsx("input",{type:"text",name:"survey_gat_no",value:s.survey_gat_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter Survey/Gat number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City Survey No"}),x.jsx("input",{type:"text",name:"city_survey_no",value:s.city_survey_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"City Survey number (if existing)"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Layout Name and Plot No"}),x.jsx("input",{type:"text",name:"layout_name_plot_no",value:s.layout_name_plot_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter layout name and plot number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Building Name"}),x.jsx("input",{type:"text",name:"building_name",value:s.building_name,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter building name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address with Floor No"}),x.jsx("textarea",{name:"address_with_floor",value:s.address_with_floor,onChange:xe,rows:"2",className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter complete address including floor number"})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nearest Road Type"}),x.jsxs("select",{name:"nearest_road_type",value:s.nearest_road_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"",children:"Select road type"}),x.jsx("option",{value:"National Highway",children:"National Highway"}),x.jsx("option",{value:"State Highway",children:"State Highway"}),x.jsx("option",{value:"District Road",children:"District Road"}),x.jsx("option",{value:"Municipal Road",children:"Municipal Road"}),x.jsx("option",{value:"Internal Road",children:"Internal Road"}),x.jsx("option",{value:"Kachcha Road",children:"Kachcha Road"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Pin Code"}),x.jsx("input",{type:"text",name:"pin_code",value:s.pin_code,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"6-digit pin code",maxLength:"6"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Property Type *"}),x.jsxs("select",{name:"property_type",value:s.property_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"Residential",children:"Residential"}),x.jsx("option",{value:"Commercial",children:"Commercial"}),x.jsx("option",{value:"Industrial",children:"Industrial"}),x.jsx("option",{value:"Mixed",children:"Mixed Use"}),x.jsx("option",{value:"Agricultural",children:"Agricultural"}),x.jsx("option",{value:"Vacant",children:"Vacant Land"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Usage Type"}),x.jsx("input",{type:"text",name:"usage_type",value:s.usage_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g., Shop, Office"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Usage Sub-Type"}),x.jsx("input",{type:"text",name:"usage_sub_type",value:s.usage_sub_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g., Grocery, IT"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>I("owner"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>I("construction"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Construction "})]})]}),ce==="construction"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Construction Details"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-blue-50",children:[x.jsx("input",{type:"checkbox",name:"building_permission",checked:s.building_permission,onChange:xe,className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Building Permission Obtained"})]}),s.building_permission&&x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pl-4 border-l-4 border-blue-200",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Permission No"}),x.jsx("input",{type:"text",name:"permission_no",value:s.permission_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter permission number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Permission"}),x.jsx("input",{type:"date",name:"permission_date",value:s.permission_date,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"occupancy_certificate",checked:s.occupancy_certificate,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Occupancy / Gunthewari Certificate"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Construction Type *"}),x.jsxs("select",{name:"construction_type",value:s.construction_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"RCC",children:"RCC (Reinforced Cement Concrete)"}),x.jsx("option",{value:"Load Bearing",children:"Load Bearing"}),x.jsx("option",{value:"Steel Frame",children:"Steel Frame"}),x.jsx("option",{value:"Kachcha",children:"Kachcha"}),x.jsx("option",{value:"Semi-Pucca",children:"Semi-Pucca"}),x.jsx("option",{value:"Pucca",children:"Pucca"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year of Construction *"}),x.jsx("input",{type:"number",name:"year_of_construction",value:s.year_of_construction,onChange:xe,onBlur:oe,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ue("year_of_construction")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"e.g., 2010",min:"1900",max:new Date().getFullYear()}),Z("year_of_construction")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",Z("year_of_construction")]})]})]}),s.year_of_construction&&x.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-3 rounded-r-lg",children:x.jsxs("p",{className:"text-sm text-amber-800",children:[x.jsx("strong",{children:"Construction Age:"})," ",new Date().getFullYear()-parseInt(s.year_of_construction)," years"]})}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>I("location"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>I("water"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Water Supply "})]})]}),ce==="water"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Water Supply"]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-blue-50",children:[x.jsx("input",{type:"checkbox",name:"water_connection",checked:s.water_connection,onChange:xe,className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Water Connection Available"})]}),s.water_connection&&x.jsxs("div",{className:"space-y-4 pl-4 border-l-4 border-blue-200",children:[x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Connection Type"}),x.jsxs("select",{name:"water_connection_type",value:s.water_connection_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"",children:"Select type"}),x.jsx("option",{value:"Municipal",children:"Municipal"}),x.jsx("option",{value:"Borewell",children:"Borewell"}),x.jsx("option",{value:"Well",children:"Well"}),x.jsx("option",{value:"Tanker",children:"Tanker"}),x.jsx("option",{value:"Other",children:"Other"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Authorization Status"}),x.jsxs("select",{name:"water_authorized",value:s.water_authorized,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"Authorised",children:"Authorised"}),x.jsx("option",{value:"Unauthorised",children:"Unauthorised"})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Water Meter No"}),x.jsx("input",{type:"text",name:"water_meter_no",value:s.water_meter_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Meter number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Consumer No"}),x.jsx("input",{type:"text",name:"water_consumer_no",value:s.water_consumer_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Consumer number"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Connection"}),x.jsx("input",{type:"date",name:"water_connection_date",value:s.water_connection_date,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Pipe Size"}),x.jsxs("select",{name:"pipe_size",value:s.pipe_size,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"",children:"Select size"}),x.jsx("option",{value:"0.5 inch",children:"0.5 inch"}),x.jsx("option",{value:"0.75 inch",children:"0.75 inch"}),x.jsx("option",{value:"1 inch",children:"1 inch"}),x.jsx("option",{value:"1.5 inch",children:"1.5 inch"}),x.jsx("option",{value:"2 inch",children:"2 inch"})]})]})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>I("construction"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>I("sanitation"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Sanitation "})]})]}),ce==="sanitation"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Sanitation & Utilities"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Sanitation Facilities"}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-blue-50",children:[x.jsx("input",{type:"checkbox",name:"has_toilet",checked:s.has_toilet,onChange:xe,className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Toilet Available"})]}),s.has_toilet&&x.jsxs("div",{className:"pl-4 border-l-4 border-blue-200",children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Number of Toilets"}),x.jsx("input",{type:"number",name:"toilet_count",value:s.toilet_count,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter count",min:"1"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"has_septic_tank",checked:s.has_septic_tank,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Septic Tank"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"has_sewerage",checked:s.has_sewerage,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Sewerage Connection"})]})]}),x.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Other Utilities"}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-yellow-50",children:[x.jsx("input",{type:"checkbox",name:"electricity_connection",checked:s.electricity_connection,onChange:xe,className:"w-5 h-5 text-yellow-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Electricity Connection"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-orange-50",children:[x.jsx("input",{type:"checkbox",name:"has_solar",checked:s.has_solar,onChange:xe,className:"w-5 h-5 text-orange-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Solar Panels"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-cyan-50",children:[x.jsx("input",{type:"checkbox",name:"has_rainwater_harvesting",checked:s.has_rainwater_harvesting,onChange:xe,className:"w-5 h-5 text-cyan-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Rain Water Harvesting"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"tax_paid",checked:s.tax_paid,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Property Tax Paid (Current Year)"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>I("water"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>I("assessment"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Assessment "})]})]}),ce==="assessment"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Assessment Details"]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ULB Name"}),x.jsx("input",{type:"text",name:"ulb_name",value:s.ulb_name,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Urban Local Body"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"District"}),x.jsx("input",{type:"text",name:"district",value:s.district,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter district"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Town"}),x.jsx("input",{type:"text",name:"town",value:s.town,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter town"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Zone No"}),x.jsx("input",{type:"text",name:"zone_no",value:s.zone_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Zone number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Ward No"}),x.jsx("input",{type:"text",name:"new_ward_no",value:s.new_ward_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"New ward number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Old Ward No"}),x.jsx("input",{type:"text",name:"old_ward_no",value:s.old_ward_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Old ward number"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Old Property No"}),x.jsx("input",{type:"text",name:"old_property_no",value:s.old_property_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Old property number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Property No"}),x.jsx("input",{type:"text",name:"new_property_no",value:s.new_property_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"New property number"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Total Carpet Area (sq.m)"}),x.jsx("input",{type:"number",name:"total_carpet_area",value:s.total_carpet_area,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Area in sq.m",step:"0.01"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Exempted Area (sq.m)"}),x.jsx("input",{type:"number",name:"exempted_area",value:s.exempted_area,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Exempted area",step:"0.01"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assessable Area (sq.m)"}),x.jsx("input",{type:"number",name:"assessable_area",value:s.assessable_area,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Assessable area",step:"0.01"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Tax Details"}),x.jsx("textarea",{name:"current_tax_details",value:s.current_tax_details,onChange:xe,rows:"2",className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter current tax details/amount"})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>I("sanitation"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>I("photos"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Photos "})]})]}),ce==="photos"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Photos Documentation"]}),x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:[x.jsx("p",{children:x.jsx("strong",{children:"Required Photos as per Annexure-A:"})}),x.jsxs("ul",{className:"list-disc list-inside mt-1",children:[x.jsx("li",{children:"1 Owner Photo (30mm  30mm at 150 dpi)"}),x.jsx("li",{children:"2 Property Photos (100mm  75mm at 150 dpi)"})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(j2,{label:"Owner Photo",onCapture:Le=>f(Le),currentPhoto:u,required:!0}),x.jsx(j2,{label:"Building Photo 1 (Front View)",onCapture:Le=>v(Le),currentPhoto:p,required:!0}),x.jsx(j2,{label:"Building Photo 2 (Side/Additional View)",onCapture:Le=>_(Le),currentPhoto:y,required:!1})]}),x.jsx("div",{className:"flex gap-3",children:x.jsx("button",{type:"button",onClick:()=>I("assessment"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"})})]}),x.jsxs("div",{className:"flex space-x-4 pt-4 border-t",children:[x.jsx("button",{type:"button",onClick:i,className:"flex-1 py-4 px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-colors text-base",children:"Cancel"}),x.jsx("button",{type:"submit",disabled:T,className:`flex-1 py-4 px-6 rounded-lg font-semibold text-white text-base transition-all ${T?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 shadow-lg hover:shadow-xl transform hover:scale-105"}`,children:T?"Submitting...":" Submit Assessment"})]})]})]})},sW=({isOpen:t,onClose:e,surveyData:r,onNewSurvey:n})=>{const[i,a]=ve.useState(!1),[s,l]=ve.useState(!1);return ve.useEffect(()=>{t?(navigator.vibrate&&navigator.vibrate([100,50,100]),setTimeout(()=>a(!0),100),setTimeout(()=>l(!0),300)):(a(!1),l(!1))},[t]),t?x.jsxs("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center p-4",children:[x.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),i&&x.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(50)].map((u,f)=>x.jsx("div",{className:"absolute animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,backgroundColor:["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6"][Math.floor(Math.random()*5)],width:`${8+Math.random()*8}px`,height:`${8+Math.random()*8}px`,borderRadius:Math.random()>.5?"50%":"2px"}},f))}),x.jsxs("div",{className:`relative bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 transform transition-all duration-500 ${s?"scale-100 opacity-100":"scale-90 opacity-0"}`,children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center animate-bounce-in",children:x.jsx("svg",{className:"w-14 h-14 text-green-500 animate-checkmark",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7",className:"animate-draw-check"})})})}),x.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Survey Submitted!"}),x.jsx("p",{className:"text-gray-500 text-center mb-6",children:"Property assessment has been recorded successfully"}),r&&x.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 space-y-2",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Building ID"}),x.jsx("span",{className:"font-medium text-gray-900",children:r.buildingId})]}),r.area&&x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Area"}),x.jsxs("span",{className:"font-medium text-gray-900",children:[r.area," m"]})]}),r.floor&&x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Floor/Unit"}),x.jsx("span",{className:"font-medium text-gray-900",children:r.floor})]}),r.ownerName&&x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Owner"}),x.jsx("span",{className:"font-medium text-gray-900",children:r.ownerName})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:n,className:"flex-1 py-3 px-4 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-xl transition-colors",children:"New Survey"}),x.jsx("button",{onClick:e,className:"flex-1 py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-xl transition-colors",children:"View Dashboard"})]})]})]}):null},oW=()=>{const t=$h(),e=ZE(),[r,n]=ve.useState(null),[i,a]=ve.useState(!1),[s,l]=ve.useState(!1),[u,f]=ve.useState(1),[p,v]=ve.useState(1),[y,_]=ve.useState({}),[T,S]=ve.useState(1),[C,M]=ve.useState(!1),[D,j]=ve.useState([]),[V,X]=ve.useState(!1),[ce,I]=ve.useState(null),q=Le=>{n(Le),a(!0),e.info("Building selected! Now select number of floors.")},F=Le=>{f(Le),v(1),a(!1),l(!0)},J=()=>{a(!1),n(null)},B=Le=>{_(Ne=>({...Ne,[p]:Le})),S(1),l(!1),M(!0)},Z=()=>{_(Le=>({...Le,[p]:1})),S(1),l(!1),M(!0)},ue=()=>{M(!1),l(!1),n(null),v(1),S(1),_({}),j([])},de=Le=>{const Ne=[...D,{floor:p,unit:T}];j(Ne);const ee=y[p]||1;T<ee?(S(T+1),e.success(`Unit ${T} completed! Moving to next unit.`)):p<u?(v(p+1),S(1),M(!1),l(!0),e.success(`Floor ${p} completed! Moving to next floor.`)):(M(!1),I({buildingId:r?.id,area:r?.area,floor:_e(p,T,ee),ownerName:Le?.owner_name,totalSurveys:Ne.length,totalFloors:u}),X(!0))},xe=()=>{X(!1),ue(),t("/dashboard")},oe=()=>{X(!1),ue(),e.info("Ready for new survey! Draw on the map to begin.")},be=()=>Object.values(y).reduce((Le,Ne)=>Le+Ne,0),_e=(Le,Ne,ee)=>{if(ee===1)return`Floor ${Le}`;const O=String.fromCharCode(64+Ne);return`${Le}${O}`};return x.jsxs("div",{className:"relative h-full",children:[x.jsx(X$,{onBuildingSelect:q}),i&&r&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1000] p-4 backdrop-blur-sm",children:x.jsx(J$,{onConfirm:F,onCancel:J})}),s&&r&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1000] p-4 backdrop-blur-sm",children:x.jsx(Q$,{floorNumber:p,onConfirm:B,onSkip:Z})}),C&&r&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1000] p-4 backdrop-blur-sm overflow-y-auto",children:x.jsxs("div",{className:"relative max-w-3xl w-full my-4",children:[be()>1&&x.jsxs("div",{className:"bg-white rounded-t-xl p-3 sm:p-4 shadow-lg",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-700",children:["Floor ",p," - Unit ",T,"/",y[p]||1]}),x.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:[D.length,"/",be()," completed"]})]}),x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${D.length/be()*100}%`}})})]}),x.jsx(aW,{buildingData:r,floorNumber:p,totalFloors:u,unitIdentifier:_e(p,T,y[p]||1),onClose:ue,onSuccess:de})]})}),x.jsx(sW,{isOpen:V,onClose:xe,surveyData:ce,onNewSurvey:oe})]})},lW=()=>{const{id:t}=eN(),e=$h(),[r,n]=ve.useState(null),[i,a]=ve.useState(!0),[s,l]=ve.useState(!1);ve.useEffect(()=>{u()},[t]);const u=async()=>{const{data:v,error:y}=await li.from("surveys").select("*").eq("id",t).single();!y&&v&&n(v),a(!1)};if(i)return x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),x.jsx("p",{className:"mt-4 text-gray-600",children:"Loading survey..."})]})});if(!r)return x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-red-600 text-xl",children:"Survey not found"}),x.jsx("button",{onClick:()=>e("/dashboard"),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg",children:"Back to Dashboard"})]})});const p=(()=>{if(r.geometry.type==="Point")return[r.geometry.coordinates[1],r.geometry.coordinates[0]];if(r.geometry.type==="Polygon"){const v=r.geometry.coordinates[0],y=v.map(T=>T[1]),_=v.map(T=>T[0]);return[(Math.min(...y)+Math.max(...y))/2,(Math.min(..._)+Math.max(..._))/2]}return[20.35,85.85]})();return x.jsxs("div",{className:"relative h-full",children:[x.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-white shadow-md z-[1000] p-4 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("button",{onClick:()=>e("/dashboard"),className:"text-blue-600 hover:text-blue-800 font-medium",children:" Back to Dashboard"}),x.jsxs("h2",{className:"text-xl font-bold text-gray-900 mt-1",children:["Survey: ",r.building_id||r.id]})]}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsxs("button",{onClick:()=>$E(r),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105 flex items-center space-x-2",children:[x.jsx("span",{children:""}),x.jsx("span",{children:"Download PDF"})]}),x.jsx("button",{onClick:()=>l(!s),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold",children:s?"Hide Details":"Show Details"})]})]}),x.jsx("div",{className:"h-full pt-20",children:x.jsxs(gy,{center:p,zoom:18,maxZoom:24,style:{height:"100%",width:"100%"},children:[x.jsx(vy,{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"],maxZoom:22}),x.jsx(I8,{url:"http://localhost:8080/geoserver/RASTER/wms",params:{layers:"RASTER:67cfea31928570b1a96c327e",format:"image/png",transparent:!0,version:"1.1.0",srs:"EPSG:32645"},maxZoom:24,opacity:.8}),x.jsx(D8,{data:r.geometry,style:{color:"#f59e0b",weight:4,fillColor:"#fbbf24",fillOpacity:.3},eventHandlers:{click:()=>l(!0)},children:x.jsx(j8,{children:x.jsxs("div",{className:"p-2",children:[x.jsx("p",{className:"font-bold text-lg",children:r.building_id}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Owner: ",r.owner_name]}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Area: ",r.area_sqm," m"]}),x.jsx("button",{onClick:()=>l(!0),className:"mt-2 text-blue-600 hover:underline text-sm font-medium",children:"View Full Details "})]})})})]})}),s&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1001] p-4 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex justify-between items-center rounded-t-2xl",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold",children:"Survey Details"}),x.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:["Building ID: ",r.building_id]})]}),x.jsx("button",{onClick:()=>l(!1),className:"text-white hover:text-gray-200 text-3xl font-light",children:""})]}),x.jsxs("div",{className:"p-6 space-y-6",children:[x.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:[x.jsx("p",{className:"text-sm font-semibold text-blue-900",children:" Area"}),x.jsxs("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:[r.area_sqm," m"]})]}),x.jsx(uT,{geometry:r.geometry,area:r.area_sqm}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Owner Information"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Ac,{label:"Owner Name",value:r.owner_name}),x.jsx(Ac,{label:"Phone Number",value:r.phone_number}),x.jsx(Ac,{label:"Aadhaar Number",value:r.aadhaar_number}),r.owner_photo_url&&x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Owner Photo"}),x.jsx("img",{src:r.owner_photo_url,alt:"Owner",className:"w-48 h-48 object-cover rounded-lg border border-gray-300"})]})]})]}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Property Details"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Ac,{label:"Property Usage",value:r.property_usage}),x.jsx(Ac,{label:"Construction Type",value:r.construction_type}),x.jsx(Ac,{label:"Ownership Type",value:r.ownership_type}),x.jsx(Ac,{label:"Year of Construction",value:r.year_of_construction}),r.building_photo_url&&x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Building Photo"}),x.jsx("img",{src:r.building_photo_url,alt:"Building",className:"w-full max-w-md h-64 object-cover rounded-lg border border-gray-300"})]})]})]}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Utilities & Amenities"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(z2,{label:" Water Connection",active:r.water_connection}),x.jsx(z2,{label:" Electricity Connection",active:r.electricity_connection}),x.jsx(z2,{label:" Property Tax Paid",active:r.form_data?.tax_paid})]})]}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:" Survey Metadata"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Ac,{label:"Status",value:r.status}),x.jsx(Ac,{label:"Created At",value:new Date(r.created_at).toLocaleString()}),x.jsx(Ac,{label:"Updated At",value:new Date(r.updated_at).toLocaleString()})]})]})]})]})})]})},Ac=({label:t,value:e})=>x.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[x.jsx("span",{className:"text-sm font-semibold text-gray-700",children:t}),x.jsx("span",{className:"text-sm text-gray-900",children:e||"N/A"})]}),z2=({label:t,active:e})=>x.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg ${e?"bg-green-100":"bg-gray-100"}`,children:[x.jsx("span",{className:`w-4 h-4 rounded-full ${e?"bg-green-500":"bg-gray-400"}`}),x.jsx("span",{className:`font-medium ${e?"text-green-800":"text-gray-600"}`,children:t})]}),Cy=({children:t,roles:e=[],fallback:r=null,redirectTo:n="/dashboard"})=>{const{profile:i,loading:a,hasAnyRole:s}=lh();return a?x.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),x.jsx("span",{className:"text-gray-500",children:"Checking permissions..."})]})}):e.length>0&&!s(e)?r||x.jsx(X1,{to:n,replace:!0}):t},My=({message:t="You don't have permission to view this content."})=>x.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px] p-8 text-center",children:[x.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-4",children:x.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),x.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Access Denied"}),x.jsx("p",{className:"text-gray-500 max-w-md",children:t})]}),cW=()=>{const{t}=gp(),{isAdmin:e}=lh(),r=wa("surveys"),n=wa("users"),i=wa("stats"),a=wa("zones"),s=wa("loading"),[l,u]=ve.useState("overview"),f=async()=>{await tl.fetchAll()},p=n?.filter(X=>X.role==="admin").length||0,v=n?.filter(X=>X.role==="supervisor").length||0,y=n?.filter(X=>X.role==="surveyor").length||0,_=a?.filter(X=>X.status==="pending").length||0,T=a?.filter(X=>X.status==="in_progress").length||0,S=a?.filter(X=>X.status==="completed").length||0,C=r?.filter(X=>X.status==="draft").length||0,M=r?.filter(X=>X.status==="submitted").length||0,D=r?.filter(X=>X.status==="verified").length||0,j=X=>{switch(X){case"draft":return"bg-yellow-100 text-yellow-800";case"submitted":return"bg-green-100 text-green-800";case"verified":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},V=X=>{switch(X){case"admin":return"bg-red-100 text-red-700";case"supervisor":return"bg-purple-100 text-purple-700";case"surveyor":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}};return x.jsx(Cy,{roles:["admin"],fallback:x.jsx(My,{message:t("messages.noPermission")}),children:x.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[x.jsxs("div",{children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[x.jsx("span",{className:"text-3xl",children:""}),"Admin Panel"]}),x.jsx("p",{className:"text-gray-500 mt-1",children:"System overview and administration"})]}),x.jsxs("button",{onClick:f,disabled:s,className:"px-4 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:`w-5 h-5 ${s?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s?"Loading...":t("common.refresh")]})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-5 shadow-lg text-white",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-3xl",children:""}),x.jsx("svg",{className:"w-6 h-6 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]}),x.jsx("p",{className:"text-3xl font-bold",children:i?.total||0}),x.jsx("p",{className:"text-sm text-blue-100",children:"Total Surveys"})]}),x.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-5 shadow-lg text-white",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-3xl",children:""}),x.jsx("svg",{className:"w-6 h-6 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})]}),x.jsx("p",{className:"text-3xl font-bold",children:n?.length||0}),x.jsx("p",{className:"text-sm text-purple-100",children:"Total Users"})]}),x.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-5 shadow-lg text-white",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-3xl",children:""}),x.jsx("svg",{className:"w-6 h-6 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})]}),x.jsx("p",{className:"text-3xl font-bold",children:a?.length||0}),x.jsx("p",{className:"text-sm text-green-100",children:"Survey Zones"})]}),x.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-5 shadow-lg text-white",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-3xl",children:""}),x.jsx("svg",{className:"w-6 h-6 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),x.jsx("p",{className:"text-3xl font-bold",children:i?.thisMonth||0}),x.jsx("p",{className:"text-sm text-orange-100",children:"This Month"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-2xl font-bold text-red-600",children:p}),x.jsx("p",{className:"text-xs text-gray-500",children:"Admins"})]}),x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-2xl font-bold text-purple-600",children:v}),x.jsx("p",{className:"text-xs text-gray-500",children:"Supervisors"})]}),x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y}),x.jsx("p",{className:"text-xs text-gray-500",children:"Surveyors"})]}),x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-2xl font-bold text-gray-600",children:_}),x.jsx("p",{className:"text-xs text-gray-500",children:"Pending Zones"})]}),x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-2xl font-bold text-blue-600",children:T}),x.jsx("p",{className:"text-xs text-gray-500",children:"Active Zones"})]}),x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-2xl font-bold text-green-600",children:S}),x.jsx("p",{className:"text-xs text-gray-500",children:"Done Zones"})]})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:x.jsx("div",{className:"flex flex-wrap gap-2",children:["overview","surveys","users","zones"].map(X=>x.jsx("button",{onClick:()=>u(X),className:`px-4 py-2 rounded-lg font-medium transition-colors capitalize ${l===X?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:X},X))})}),l==="overview"&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Survey Status Breakdown"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-gray-600",children:"Draft"}),x.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm font-semibold",children:C})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-gray-600",children:"Submitted"}),x.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-semibold",children:M})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-gray-600",children:"Verified"}),x.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-semibold",children:D})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Quick Stats"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-gray-600",children:"Today"}),x.jsx("span",{className:"text-2xl font-bold text-blue-600",children:i?.today||0})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-gray-600",children:"This Week"}),x.jsx("span",{className:"text-2xl font-bold text-green-600",children:i?.thisWeek||0})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-gray-600",children:"This Month"}),x.jsx("span",{className:"text-2xl font-bold text-purple-600",children:i?.thisMonth||0})]})]})]})]}),l==="surveys"&&x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[x.jsx("div",{className:"p-6 border-b border-gray-100",children:x.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["All Surveys (",r?.length||0,")"]})}),s?x.jsx("div",{className:"flex items-center justify-center py-20",children:x.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):!r||r.length===0?x.jsx("div",{className:"text-center py-20",children:x.jsx("p",{className:"text-gray-500",children:"No surveys found"})}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:x.jsxs("tr",{children:[x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Building ID"}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Owner ID"}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Created"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100",children:r.slice(0,50).map(X=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[x.jsx("td",{className:"px-6 py-4 text-gray-800",children:X.building_id||"N/A"}),x.jsx("td",{className:"px-6 py-4 text-gray-800",children:X.owner_id||"N/A"}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${j(X.status)}`,children:X.status||"draft"})}),x.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(X.created_at).toLocaleDateString()})]},X.id))})]})})]}),l==="users"&&x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[x.jsx("div",{className:"p-6 border-b border-gray-100",children:x.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["All Users (",n?.length||0,")"]})}),s?x.jsx("div",{className:"flex items-center justify-center py-20",children:x.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):!n||n.length===0?x.jsx("div",{className:"text-center py-20",children:x.jsx("p",{className:"text-gray-500",children:"No users found"})}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:x.jsxs("tr",{children:[x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Name"}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Email"}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Role"}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(X=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:X.full_name?.charAt(0)||X.email?.charAt(0)||"?"}),x.jsx("span",{className:"font-medium text-gray-800",children:X.full_name||"No Name"})]})}),x.jsx("td",{className:"px-6 py-4 text-gray-600",children:X.email}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${V(X.role)}`,children:X.role})}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${X.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:X.is_active?"Active":"Inactive"})})]},X.id))})]})})]}),l==="zones"&&x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[x.jsx("div",{className:"p-6 border-b border-gray-100",children:x.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["All Zones (",a?.length||0,")"]})}),s?x.jsx("div",{className:"flex items-center justify-center py-20",children:x.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):!a||a.length===0?x.jsx("div",{className:"text-center py-20",children:x.jsx("p",{className:"text-gray-500",children:"No zones found"})}):x.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 p-6",children:a.map(X=>x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[x.jsx("div",{className:"h-2",style:{backgroundColor:X.color}}),x.jsxs("div",{className:"p-4",children:[x.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-2",children:X.name}),x.jsxs("div",{className:"flex items-center justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Progress:"}),x.jsxs("span",{className:"font-semibold text-gray-800",children:[X.completed_count||0," / ",X.target_count||0]})]}),x.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 mt-2",children:x.jsx("div",{className:"h-2 rounded-full transition-all",style:{width:`${Math.min(100,(X.completed_count||0)/(X.target_count||1)*100)}%`,backgroundColor:X.color}})})]})]},X.id))})]})]})})},uW=()=>{const t=jc(),e=wa("buildings"),r=wa("loading"),[n,i]=ve.useState({total:0,residential:0,commercial:0,other:0}),[a,s]=ve.useState(null),[l,u]=ve.useState(null);ve.useEffect(()=>{t.state?.highlightSurveyId&&(u(t.state.highlightSurveyId),window.history.replaceState({},document.title))},[t]),ve.useEffect(()=>{if(e&&e.length>0){const p=e.filter(y=>y.property_type?.toLowerCase().includes("residential")||y.usage_type?.toLowerCase().includes("residential")).length,v=e.filter(y=>y.property_type?.toLowerCase().includes("commercial")||y.usage_type?.toLowerCase().includes("commercial")).length;i({total:e.length,residential:p,commercial:v,other:e.length-p-v})}},[e]);const f=async()=>{await tl.fetchBuildings()};return x.jsxs("div",{className:"h-screen flex flex-col",children:[x.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[x.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Surveyed Buildings Map"}),x.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View all surveyed buildings on the map"})]}),x.jsxs("button",{onClick:f,disabled:r,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center gap-2",children:[x.jsx("svg",{className:`w-4 h-4 ${r?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r?"Loading...":"Refresh"]})]}),x.jsxs("div",{className:"max-w-7xl mx-auto mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[x.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Total Buildings"}),x.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:n.total})]}),x.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[x.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Residential"}),x.jsx("p",{className:"text-2xl font-bold text-green-900 mt-1",children:n.residential})]}),x.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[x.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Commercial"}),x.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:n.commercial})]}),x.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[x.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Other"}),x.jsx("p",{className:"text-2xl font-bold text-orange-900 mt-1",children:n.other})]})]})]}),x.jsxs("div",{className:"flex-1 relative",children:[r?x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),x.jsx("p",{className:"mt-4 text-gray-600",children:"Loading buildings..."})]})}):!e||e.length===0?x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:x.jsxs("div",{className:"text-center",children:[x.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),x.jsx("p",{className:"text-lg font-medium text-gray-700",children:"No surveyed buildings yet"}),x.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Start surveying to see buildings on the map"})]})}):x.jsxs(gy,{center:[18.5204,73.8567],zoom:13,style:{height:"100%",width:"100%"},className:"z-0",children:[x.jsx(vy,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map(p=>{if(!p.geometry)return null;try{const v=typeof p.geometry=="string"?JSON.parse(p.geometry):p.geometry,y=p.id===l,_=y?"#ef4444":p.property_type?.toLowerCase().includes("residential")?"#10b981":p.property_type?.toLowerCase().includes("commercial")?"#8b5cf6":"#f59e0b";return x.jsx(D8,{data:v,style:{color:_,weight:y?4:2,opacity:y?1:.8,fillColor:_,fillOpacity:y?.6:.3},onEachFeature:(T,S)=>{S.on("click",()=>{s(p),u(null)});const C=`
                                                <div class="p-2">
                                                    ${y?'<p class="text-red-600 font-bold text-xs mb-1"> SELECTED FROM DASHBOARD</p>':""}
                                                    <p class="font-bold">${p.building_id||"Unknown"}</p>
                                                    <p class="text-sm">Owner: ${p.owner_name||"N/A"}</p>
                                                    <p class="text-sm">Type: ${p.property_type||"N/A"}</p>
                                                    <p class="text-sm">Area: ${p.plot_area||p.total_carpet_area||"N/A"} sq.m</p>
                                                </div>
                                            `;S.bindPopup(C),y&&setTimeout(()=>{S.openPopup();const M=S.getBounds();M.isValid()&&S._map?.fitBounds(M,{padding:[50,50],maxZoom:18}),s(p)},500)}},p.id)}catch(v){return console.error("Error rendering building:",p.id,v),null}})]}),a&&x.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-4 max-w-sm z-[1000]",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsx("h3",{className:"font-bold text-lg",children:a.building_id||"Building Details"}),x.jsx("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsxs("div",{className:"space-y-2 text-sm",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Owner:"}),x.jsx("span",{className:"ml-2 font-medium",children:a.owner_name||"N/A"})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Property Type:"}),x.jsx("span",{className:"ml-2 font-medium",children:a.property_type||"N/A"})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Plot Area:"}),x.jsxs("span",{className:"ml-2 font-medium",children:[a.plot_area||"N/A"," sq.m"]})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Surveyed:"}),x.jsx("span",{className:"ml-2 font-medium",children:a.created_at?new Date(a.created_at).toLocaleDateString():"N/A"})]})]})]})]})]})},hW=()=>{const{t}=gp(),{isAdmin:e}=lh(),r=wa("users"),n=wa("loading"),[i,a]=ve.useState(""),[s,l]=ve.useState("all"),[u,f]=ve.useState(null),[p,v]=ve.useState(!1),y=async()=>{await tl.fetchUsers(s)},_=r?.filter(M=>M.full_name?.toLowerCase().includes(i.toLowerCase())||M.email?.toLowerCase().includes(i.toLowerCase())||M.phone?.includes(i)).filter(M=>s==="all"||M.role===s)||[],T=async(M,D)=>{try{const{error:j}=await li.from("user_profiles").update({role:D,updated_at:new Date().toISOString()}).eq("id",M);if(j)throw j;tl.fetchUsers(s),v(!1),f(null)}catch(j){console.error("Error updating role:",j),alert("Failed to update user role")}},S=async(M,D)=>{try{const{error:j}=await li.from("user_profiles").update({is_active:!D,updated_at:new Date().toISOString()}).eq("id",M);if(j)throw j;tl.fetchUsers(s)}catch(j){console.error("Error toggling status:",j)}},C=M=>{switch(M){case"admin":return"bg-red-100 text-red-700";case"supervisor":return"bg-purple-100 text-purple-700";case"surveyor":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}};return x.jsx(Cy,{roles:["admin"],fallback:x.jsx(My,{message:t("messages.noPermission")}),children:x.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"mb-6",children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[x.jsx("span",{className:"text-3xl",children:""}),t("users.title")]}),x.jsx("p",{className:"text-gray-500 mt-1",children:"Manage user accounts and roles"})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-3xl font-bold text-gray-800",children:r?.length||0}),x.jsx("p",{className:"text-sm text-gray-500",children:"Total Users"})]}),x.jsxs("div",{className:"bg-red-50 rounded-xl p-4 shadow-sm border border-red-100",children:[x.jsx("p",{className:"text-3xl font-bold text-red-600",children:r?.filter(M=>M.role==="admin").length||0}),x.jsxs("p",{className:"text-sm text-red-600",children:[t("roles.admin"),"s"]})]}),x.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 shadow-sm border border-purple-100",children:[x.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r?.filter(M=>M.role==="supervisor").length||0}),x.jsxs("p",{className:"text-sm text-purple-600",children:[t("roles.supervisor"),"s"]})]}),x.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 shadow-sm border border-blue-100",children:[x.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r?.filter(M=>M.role==="surveyor").length||0}),x.jsxs("p",{className:"text-sm text-blue-600",children:[t("roles.surveyor"),"s"]})]})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:x.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx("input",{type:"text",placeholder:`${t("common.search")}...`,value:i,onChange:M=>a(M.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),x.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),x.jsxs("select",{value:s,onChange:M=>l(M.target.value),className:"px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsxs("option",{value:"all",children:[t("common.all")," Roles"]}),x.jsx("option",{value:"admin",children:t("roles.admin")}),x.jsx("option",{value:"supervisor",children:t("roles.supervisor")}),x.jsx("option",{value:"surveyor",children:t("roles.surveyor")})]}),x.jsxs("button",{onClick:y,disabled:n,className:"px-4 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:`w-5 h-5 ${n?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n?"Loading...":t("common.refresh")]})]})}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:n?x.jsx("div",{className:"flex items-center justify-center py-20",children:x.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):!_||_.length===0?x.jsx("div",{className:"text-center py-20",children:x.jsx("p",{className:"text-gray-500",children:t("users.noUsers")})}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:x.jsxs("tr",{children:[x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.fullName")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.email")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.phone")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.role")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.status")}),x.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("common.actions")})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100",children:_.map(M=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:M.full_name?.charAt(0)||M.email?.charAt(0)||"?"}),x.jsx("span",{className:"font-medium text-gray-800",children:M.full_name||"No Name"})]})}),x.jsx("td",{className:"px-6 py-4 text-gray-600",children:M.email}),x.jsx("td",{className:"px-6 py-4 text-gray-600",children:M.phone||"-"}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${C(M.role)}`,children:t(`roles.${M.role}`)})}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("button",{onClick:()=>S(M.id,M.is_active),className:`px-3 py-1 rounded-full text-xs font-semibold ${M.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:M.is_active?t("users.active"):t("users.inactive")})}),x.jsx("td",{className:"px-6 py-4 text-right",children:x.jsx("button",{onClick:()=>{f(M),v(!0)},className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:t("common.edit")})})]},M.id))})]})})}),p&&u&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md animate-fadeIn",children:[x.jsx("div",{className:"p-6 border-b border-gray-100",children:x.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t("users.editUser")})}),x.jsxs("div",{className:"p-6 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("users.fullName")}),x.jsx("p",{className:"text-gray-800 font-medium",children:u.full_name||u.email})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("users.email")}),x.jsx("p",{className:"text-gray-600",children:u.email})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("users.role")}),x.jsx("div",{className:"grid grid-cols-3 gap-2",children:["admin","supervisor","surveyor"].map(M=>x.jsx("button",{onClick:()=>T(u.id,M),className:`py-3 rounded-xl font-medium transition-all ${u.role===M?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t(`roles.${M}`)},M))})]})]}),x.jsx("div",{className:"p-6 border-t border-gray-100 flex justify-end",children:x.jsx("button",{onClick:()=>{v(!1),f(null)},className:"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:t("common.close")})})]})})]})})},fW=()=>{const{t}=gp(),{canManageZones:e}=lh(),r=wa("zones"),n=wa("users"),i=wa("loading"),[a,s]=ve.useState(!1),[l,u]=ve.useState(null),[f,p]=ve.useState("all"),[v,y]=ve.useState({name:"",description:"",assigned_to:"",supervisor_id:"",target_count:0,due_date:"",priority:"medium",status:"pending",color:"#3B82F6"}),_=async()=>{await tl.fetchZones(f)},T=q=>{const{name:F,value:J}=q.target;y(B=>({...B,[F]:J}))},S=()=>{u(null),y({name:"",description:"",assigned_to:"",supervisor_id:"",target_count:0,due_date:"",priority:"medium",status:"pending",color:"#3B82F6"}),s(!0)},C=q=>{u(q),y({name:q.name,description:q.description||"",assigned_to:q.assigned_to||"",supervisor_id:q.supervisor_id||"",target_count:q.target_count||0,due_date:q.due_date||"",priority:q.priority||"medium",status:q.status||"pending",color:q.color||"#3B82F6"}),s(!0)},M=async()=>{try{const q={...v,target_count:parseInt(v.target_count)||0,assigned_to:v.assigned_to||null,supervisor_id:v.supervisor_id||null,due_date:v.due_date||null,updated_at:new Date().toISOString()};if(l){const{error:F}=await li.from("survey_zones").update(q).eq("id",l.id);if(F)throw F}else{const{error:F}=await li.from("survey_zones").insert(q);if(F)throw F}s(!1),u(null),tl.fetchZones(f)}catch(q){console.error("Error saving zone:",q),alert("Failed to save zone")}},D=async q=>{if(confirm("Are you sure you want to delete this zone?"))try{const{error:F}=await li.from("survey_zones").delete().eq("id",q);if(F)throw F;tl.fetchZones(f)}catch(F){console.error("Error deleting zone:",F)}},j=q=>{switch(q){case"completed":return"bg-green-100 text-green-700";case"in_progress":return"bg-blue-100 text-blue-700";case"on_hold":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},V=q=>{switch(q){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"medium":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},X=n?.filter(q=>q.role==="surveyor")||[],ce=n?.filter(q=>q.role==="supervisor"||q.role==="admin")||[],I=f==="all"?r||[]:r?.filter(q=>q.status===f)||[];return x.jsx(Cy,{roles:["admin","supervisor"],fallback:x.jsx(My,{message:t("messages.noPermission")}),children:x.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[x.jsxs("div",{children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[x.jsx("span",{className:"text-3xl",children:""}),t("zones.title")]}),x.jsx("p",{className:"text-gray-500 mt-1",children:"Create and manage survey zones"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:_,disabled:i,className:"px-4 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:`w-5 h-5 ${i?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),i?"Loading...":t("common.refresh")]}),x.jsxs("button",{onClick:S,className:"px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-medium hover:from-blue-700 hover:to-blue-800 transition-all shadow-lg shadow-blue-200 flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t("zones.createZone")]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-3xl font-bold text-gray-800",children:r?.length||0}),x.jsx("p",{className:"text-sm text-gray-500",children:"Total Zones"})]}),x.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-3xl font-bold text-gray-600",children:r?.filter(q=>q.status==="pending").length||0}),x.jsx("p",{className:"text-sm text-gray-500",children:t("zones.pending")})]}),x.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 shadow-sm border border-blue-100",children:[x.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r?.filter(q=>q.status==="in_progress").length||0}),x.jsx("p",{className:"text-sm text-blue-600",children:t("zones.inProgress")})]}),x.jsxs("div",{className:"bg-green-50 rounded-xl p-4 shadow-sm border border-green-100",children:[x.jsx("p",{className:"text-3xl font-bold text-green-600",children:r?.filter(q=>q.status==="completed").length||0}),x.jsx("p",{className:"text-sm text-green-600",children:t("zones.completed")})]}),x.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 shadow-sm border border-purple-100",children:[x.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r?.reduce((q,F)=>q+(F.completed_count||0),0)||0}),x.jsx("p",{className:"text-sm text-purple-600",children:"Total Surveys"})]})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:x.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","in_progress","completed","on_hold"].map(q=>x.jsx("button",{onClick:()=>p(q),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f===q?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t(q==="all"?"common.all":`zones.${q.replace("_","")}`)},q))})}),i?x.jsx("div",{className:"flex items-center justify-center py-20",children:x.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):!I||I.length===0?x.jsxs("div",{className:"bg-white rounded-xl p-12 text-center shadow-sm border border-gray-100",children:[x.jsx("div",{className:"text-6xl mb-4",children:""}),x.jsx("p",{className:"text-gray-500 text-lg",children:t("zones.noZones")}),x.jsx("button",{onClick:S,className:"mt-4 px-5 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700",children:t("zones.createZone")})]}):x.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:I.map(q=>x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[x.jsx("div",{className:"h-2",style:{backgroundColor:q.color}}),x.jsxs("div",{className:"p-5",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsx("h3",{className:"font-bold text-lg text-gray-800",children:q.name}),x.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${j(q.status)}`,children:t(`zones.${q.status?.replace("_","")||"pending"}`)})]}),q.description&&x.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:q.description}),x.jsxs("div",{className:"mb-4",children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500",children:t("zones.progress")}),x.jsxs("span",{className:"font-semibold text-gray-800",children:[q.completed_count||0," / ",q.target_count||0]})]}),x.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:x.jsx("div",{className:"h-2.5 rounded-full transition-all",style:{width:`${Math.min(100,(q.completed_count||0)/(q.target_count||1)*100)}%`,backgroundColor:q.color}})})]}),x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[x.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm",children:q.assigned_user?.full_name?.charAt(0)||"?"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-800",children:q.assigned_user?.full_name||"Not assigned"}),x.jsx("p",{className:"text-xs text-gray-400",children:t("zones.assignedTo")})]})]}),x.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mb-4",children:[x.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${V(q.priority)}`,children:t(`zones.${q.priority}`)}),q.due_date&&x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(q.due_date).toLocaleDateString()]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>C(q),className:"flex-1 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors font-medium text-sm",children:t("common.edit")}),x.jsx("button",{onClick:()=>D(q.id),className:"px-3 py-2 bg-red-50 text-red-500 rounded-lg hover:bg-red-100 transition-colors",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},q.id))}),a&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto animate-fadeIn",children:[x.jsx("div",{className:"p-6 border-b border-gray-100 sticky top-0 bg-white",children:x.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t(l?"zones.editZone":"zones.createZone")})}),x.jsxs("div",{className:"p-6 space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t("zones.zoneName")," *"]}),x.jsx("input",{type:"text",name:"name",value:v.name,onChange:T,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Ward 5 - North"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),x.jsx("textarea",{name:"description",value:v.description,onChange:T,rows:2,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Zone description..."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.assignedTo")}),x.jsxs("select",{name:"assigned_to",value:v.assigned_to,onChange:T,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"",children:"-- Select Surveyor --"}),X.map(q=>x.jsx("option",{value:q.id,children:q.full_name||q.email},q.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.supervisor")}),x.jsxs("select",{name:"supervisor_id",value:v.supervisor_id,onChange:T,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"",children:"-- Select Supervisor --"}),ce.map(q=>x.jsx("option",{value:q.id,children:q.full_name||q.email},q.id))]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.targetCount")}),x.jsx("input",{type:"number",name:"target_count",value:v.target_count,onChange:T,min:"0",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.dueDate")}),x.jsx("input",{type:"date",name:"due_date",value:v.due_date,onChange:T,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.priority")}),x.jsxs("select",{name:"priority",value:v.priority,onChange:T,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"low",children:t("zones.low")}),x.jsx("option",{value:"medium",children:t("zones.medium")}),x.jsx("option",{value:"high",children:t("zones.high")}),x.jsx("option",{value:"urgent",children:t("zones.urgent")})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.status")}),x.jsxs("select",{name:"status",value:v.status,onChange:T,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"pending",children:t("zones.pending")}),x.jsx("option",{value:"in_progress",children:t("zones.inProgress")}),x.jsx("option",{value:"completed",children:t("zones.completed")}),x.jsx("option",{value:"on_hold",children:t("zones.onHold")})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone Color"}),x.jsx("div",{className:"flex gap-2",children:["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#EC4899"].map(q=>x.jsx("button",{type:"button",onClick:()=>y(F=>({...F,color:q})),className:`w-10 h-10 rounded-xl transition-all ${v.color===q?"ring-2 ring-offset-2 ring-gray-400 scale-110":""}`,style:{backgroundColor:q}},q))})]})]}),x.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3 sticky bottom-0 bg-white",children:[x.jsx("button",{onClick:()=>{s(!1),u(null)},className:"flex-1 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:t("common.cancel")}),x.jsx("button",{onClick:M,disabled:!v.name,className:"flex-1 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:t("common.save")})]})]})})]})})},dW=()=>{const{user:t}=lh(),e=$h(),r=wa("assignments"),n=wa("surveys"),i=wa("loading"),a=async()=>{t&&await tl.fetchAssignments(t.id)};return x.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[x.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Assignments"}),x.jsx("p",{className:"text-gray-600 mt-1",children:"Your assigned survey zones"})]}),x.jsxs("button",{onClick:a,disabled:i,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center gap-2",children:[x.jsx("svg",{className:`w-4 h-4 ${i?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),i?"Loading...":"Refresh"]})]})}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[x.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-blue-100 text-sm",children:"Assigned Zones"}),x.jsx("p",{className:"text-4xl font-bold mt-2",children:r?.length||0})]}),x.jsx("div",{className:"bg-white/20 rounded-lg p-3",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})})]})}),x.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-green-100 text-sm",children:"My Surveys"}),x.jsx("p",{className:"text-4xl font-bold mt-2",children:n?.length||0})]}),x.jsx("div",{className:"bg-white/20 rounded-lg p-3",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-purple-100 text-sm",children:"Completion Rate"}),x.jsxs("p",{className:"text-4xl font-bold mt-2",children:[r?.length>0?Math.round(n?.length/(r.reduce((s,l)=>s+(l.target_count||0),0)||1)*100):0,"%"]})]}),x.jsx("div",{className:"bg-white/20 rounded-lg p-3",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[x.jsx("div",{className:"p-6 border-b border-gray-200",children:x.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Zone Assignments"})}),i?x.jsxs("div",{className:"p-8 text-center text-gray-500",children:[x.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),x.jsx("p",{className:"mt-2",children:"Loading assignments..."})]}):!r||r.length===0?x.jsxs("div",{className:"p-8 text-center text-gray-500",children:[x.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),x.jsx("p",{className:"text-lg font-medium",children:"No assignments yet"}),x.jsx("p",{className:"text-sm mt-1",children:"Your supervisor will assign zones to you"})]}):x.jsx("div",{className:"divide-y divide-gray-200",children:r.map(s=>x.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.name||"Unnamed Zone"}),x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:s.status||"pending"}),s.priority&&x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.priority==="urgent"?"bg-red-100 text-red-800":s.priority==="high"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-600"}`,children:s.priority})]}),s.description&&x.jsx("p",{className:"text-gray-600 text-sm mb-3",children:s.description}),x.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),x.jsxs("span",{children:["Target: ",s.target_count||0," buildings"]})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),x.jsxs("span",{children:["Completed: ",s.completed_count||0]})]}),s.due_date&&x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),x.jsxs("span",{children:["Due: ",new Date(s.due_date).toLocaleDateString()]})]})]}),s.notes&&x.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:x.jsxs("p",{className:"text-sm text-yellow-800",children:[x.jsx("strong",{children:"Note:"})," ",s.notes]})})]}),x.jsxs("button",{onClick:()=>e("/survey",{state:{zoneId:s.id}}),className:"ml-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Start Survey"]})]}),s.target_count>0&&x.jsxs("div",{className:"mt-4",children:[x.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-1",children:[x.jsx("span",{children:"Progress"}),x.jsxs("span",{children:[Math.round((s.completed_count||0)/s.target_count*100),"%"]})]}),x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${Math.min((s.completed_count||0)/s.target_count*100,100)}%`}})})]})]},s.id))})]})]})},pW=({children:t})=>{const{isAuthenticated:e,loading:r}=lh();return r?x.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-gray-600",children:"Checking authentication..."})]})}):e?t:x.jsx(X1,{to:"/login",replace:!0})},mW=({children:t})=>{const{isAuthenticated:e,loading:r}=lh();return r?x.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:x.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):e?x.jsx(X1,{to:"/dashboard",replace:!0}):t},gW=$N([{path:"/",element:x.jsx(X1,{to:"/dashboard",replace:!0})},{path:"/login",element:x.jsx(mW,{children:x.jsx(Pk,{})}),children:[{index:!0,element:x.jsx(Ok,{})}]},{path:"/",element:x.jsx(pW,{children:x.jsx(kk,{})}),children:[{path:"dashboard",element:x.jsx(vz,{})},{path:"survey",element:x.jsx(oW,{})},{path:"survey/:id",element:x.jsx(lW,{})},{path:"admin",element:x.jsx(cW,{})},{path:"surveyed-buildings",element:x.jsx(uW,{})},{path:"users",element:x.jsx(hW,{})},{path:"zones",element:x.jsx(fW,{})},{path:"my-assignments",element:x.jsx(dW,{})}]}]);class vW extends th.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){console.error("Error caught by boundary:",e,r),this.state={hasError:!0,error:e,errorInfo:r}}render(){return this.state.hasError?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:x.jsx("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),x.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-6",children:"The application encountered an unexpected error. Don't worry, your data is safe."}),this.state.error&&x.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-left",children:x.jsx("p",{className:"text-sm font-mono text-red-800 break-all",children:this.state.error.toString()})}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Reload Page"}),x.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"flex-1 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-medium transition-colors",children:"Try Again"})]}),x.jsx("button",{onClick:()=>window.location.href="/",className:"mt-3 w-full px-4 py-2 text-blue-600 hover:text-blue-700 font-medium",children:" Back to Home"})]})})}):this.props.children}}const _W=()=>wa("loading")?x.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 flex items-center justify-center",children:x.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-sm mx-4",children:x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full"}),x.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 rounded-full border-t-transparent animate-spin absolute top-0 left-0"})]}),x.jsx("p",{className:"mt-4 text-lg font-medium text-gray-900",children:"Loading data..."}),x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please wait a moment"})]})})}):null,{slice:yW,forEach:xW}=[];function wW(t){return xW.call(yW.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function bW(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const K3=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,SW=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(n.maxAge>0){const s=n.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(n.domain){if(!K3.test(n.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${n.domain}`}if(n.path){if(!K3.test(n.path))throw new TypeError("option path is invalid");a+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(a+="; Partitioned"),a},X3={create(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),n&&(i.domain=n),document.cookie=SW(t,e,i)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let i=r[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var EW={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return X3.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:i,cookieOptions:a}=e;r&&typeof document<"u"&&X3.create(r,t,n,i,a)}},TW={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const a=n.substring(1).split("&");for(let s=0;s<a.length;s++){const l=a[s].indexOf("=");l>0&&a[s].substring(0,l)===e&&(r=a[s].substring(l+1))}}return r}},AW={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const a=i.substring(1);if(e){const s=a.split("&");for(let l=0;l<s.length;l++){const u=s[l].indexOf("=");u>0&&s[l].substring(0,u)===e&&(n=s[l].substring(u+1))}}if(n)return n;if(!n&&r>-1){const s=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?s[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return n}};let zf=null;const J3=()=>{if(zf!==null)return zf;try{if(zf=typeof window<"u"&&window.localStorage!==null,!zf)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{zf=!1}return zf};var LW={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&J3())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&J3()&&window.localStorage.setItem(r,t)}};let Gf=null;const Q3=()=>{if(Gf!==null)return Gf;try{if(Gf=typeof window<"u"&&window.sessionStorage!==null,!Gf)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Gf=!1}return Gf};var NW={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Q3())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&Q3()&&window.sessionStorage.setItem(r,t)}},CW={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:i}=navigator;if(r)for(let a=0;a<r.length;a++)e.push(r[a]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},MW={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},kW={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof e=="number"?e:0]?.replace("/",""):void 0}},PW={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};let hT=!1;try{document.cookie,hT=!0}catch{}const fT=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];hT||fT.splice(1,1);const OW=()=>({order:fT,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class dT{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=wW(r,this.options||{},OW()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(EW),this.addDetector(TW),this.addDetector(LW),this.addDetector(NW),this.addDetector(CW),this.addDetector(MW),this.addDetector(kW),this.addDetector(PW),this.addDetector(AW)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(r=r.concat(i))}}),r=r.filter(n=>n!=null&&!bW(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}dT.type="languageDetector";const RW={appName:"INDICES",tagline:"Geospatial Survey System",loading:"Loading...",save:"Save",cancel:"Cancel",submit:"Submit",edit:"Edit",delete:"Delete",view:"View",search:"Search",filter:"Filter",export:"Export",download:"Download",upload:"Upload",refresh:"Refresh",back:"Back",next:"Next",previous:"Previous",yes:"Yes",no:"No",confirm:"Confirm",close:"Close",actions:"Actions",status:"Status",date:"Date",all:"All"},DW={login:"Login",logout:"Logout",email:"Email Address",password:"Password",loginTitle:"Welcome Back",loginSubtitle:"Sign in to continue to INDICES",forgotPassword:"Forgot Password?",noAccount:"Don't have an account?",signUp:"Sign Up",loginSuccess:"Login successful!",loginError:"Invalid email or password",loggingIn:"Signing in..."},jW={dashboard:"Dashboard",surveyMap:"Survey Map",allBuildings:"All Buildings",admin:"Admin Panel",users:"User Management",zones:"Zone Management",myAssignments:"My Assignments",settings:"Settings",profile:"Profile"},IW={title:"Survey Dashboard",totalSurveys:"Total Surveys",todaysSurveys:"Today's Surveys",pending:"Pending Review",approved:"Approved",recentSurveys:"Recent Surveys",noSurveys:"No surveys found",viewAll:"View All",exportExcel:"Export Excel",exportCSV:"Export CSV"},FW={newSurvey:"New Survey",editSurvey:"Edit Survey",surveyDetails:"Survey Details",buildingId:"Building ID",drawBuilding:"Draw Building",selectTool:"Select a tool and draw around the building",tapToAdd:"Tap to add corner points",tapToComplete:"Tap first point again to complete",useUndo:"Use Undo for mistakes",polygon:"Polygon",rectangle:"Rectangle",marker:"Marker",undo:"Undo",clear:"Clear",drone:"Drone",location:"Location",points:"Points",needMore:"Need {{count}} more",readyToClose:"Ready to close"},BW={ownerDetails:"Owner Details",ownerName:"Owner Name",phoneNumber:"Phone Number",aadhaarNumber:"Aadhaar Number",emailAddress:"Email Address",relationWithOwner:"Relation with Owner",coOwnerName:"Co-Owner Name",locationDetails:"Location Details",surveyGatNo:"Survey/Gat Number",citySurveyNo:"City Survey Number",finalPlotNo:"Final Plot Number",subPlotNo:"Sub-Plot Number",mohalla:"Mohalla/Locality",district:"District",taluka:"Taluka",village:"Village",wardNo:"Ward Number",zoneName:"Zone Name",pincode:"Pin Code",streetName:"Street Name",landmarkNear:"Landmark Near",constructionDetails:"Construction Details",buildingName:"Building Name",numberOfFloors:"Number of Floors",buildingAge:"Building Age (Years)",constructionType:"Construction Type",roofType:"Roof Type",floorType:"Floor Type",buildingCondition:"Building Condition",carpetArea:"Carpet Area (sq.ft)",builtUpArea:"Built-Up Area (sq.ft)",plotArea:"Plot Area (sq.ft)",propertyClassification:"Property Classification",propertyUsage:"Property Usage",ownershipType:"Ownership Type",occupancyStatus:"Occupancy Status",tenantName:"Tenant Name",monthlyRent:"Monthly Rent",utilities:"Water Supply, Sanitation & Utilities",waterConnection:"Water Connection",waterSource:"Water Source",drainageConnection:"Drainage Connection",toiletAvailable:"Toilet Available",toiletType:"Toilet Type",electricityConnection:"Electricity Connection",meterNumber:"Meter Number",gasConnection:"Gas Connection",rainwaterHarvesting:"Rainwater Harvesting",assessment:"Assessment Details",previousAssessment:"Previous Assessment Amount",taxPaidLastYear:"Tax Paid Last Year",arrearsDue:"Arrears Due",exemptionClaimed:"Exemption Claimed",exemptionReason:"Exemption Reason",photos:"Photos",ownerPhoto:"Owner Photo",buildingPhoto:"Building Photo",documentPhoto:"Document Photo",capturePhoto:"Capture Photo",retakePhoto:"Retake",additionalRemarks:"Additional Remarks",surveyorRemarks:"Surveyor Remarks"},UW={required:"This field is required",invalidPhone:"Invalid phone number",invalidEmail:"Invalid email address",invalidAadhaar:"Invalid Aadhaar number",minLength:"Minimum {{count}} characters required",maxLength:"Maximum {{count}} characters allowed"},zW={admin:"Administrator",supervisor:"Supervisor",surveyor:"Surveyor"},GW={title:"Survey Zones",createZone:"Create Zone",editZone:"Edit Zone",zoneName:"Zone Name",assignedTo:"Assigned To",supervisor:"Supervisor",targetCount:"Target Surveys",completedCount:"Completed",progress:"Progress",dueDate:"Due Date",status:"Status",pending:"Pending",inProgress:"In Progress",completed:"Completed",onHold:"On Hold",priority:"Priority",low:"Low",medium:"Medium",high:"High",urgent:"Urgent",drawZone:"Draw zone boundary on map",noZones:"No zones created yet"},HW={title:"User Management",addUser:"Add User",editUser:"Edit User",fullName:"Full Name",email:"Email",phone:"Phone",role:"Role",status:"Status",active:"Active",inactive:"Inactive",lastLogin:"Last Login",assignedZones:"Assigned Zones",totalSurveys:"Total Surveys",noUsers:"No users found"},qW={title:"My Assignments",assignedZones:"Assigned Zones",progress:"Your Progress",surveysCompleted:"Surveys Completed",targetRemaining:"Target Remaining",deadline:"Deadline",startSurvey:"Start Survey",viewZone:"View Zone",noAssignments:"No zones assigned to you"},VW={success:"Operation successful",error:"Something went wrong",saved:"Saved successfully",deleted:"Deleted successfully",updated:"Updated successfully",surveySubmitted:"Survey submitted successfully!",pdfGenerated:"PDF generated successfully",offlineSaved:"Saved offline. Will sync when online.",syncComplete:"Sync complete",noPermission:"You don't have permission for this action"},$W={select:"Select Language",english:"English",hindi:"",marathi:""},WW={common:RW,auth:DW,nav:jW,dashboard:IW,survey:FW,form:BW,validation:UW,roles:zW,zones:GW,users:HW,assignments:qW,messages:VW,language:$W},ZW={appName:"",tagline:"-  ",loading:"   ...",save:"",cancel:" ",submit:" ",edit:" ",delete:"",view:"",search:"",filter:"",export:"",download:"",upload:"",refresh:"",back:"",next:"",previous:"",yes:"",no:"",confirm:" ",close:" ",actions:"",status:"",date:"",all:""},YW={login:"",logout:"",email:" ",password:"",loginTitle:" ",loginSubtitle:"        ",forgotPassword:"  ?",noAccount:"  ?",signUp:"  ",loginSuccess:" !",loginError:"   ",loggingIn:"    ..."},KW={dashboard:"",surveyMap:" ",allBuildings:" ",admin:" ",users:" ",zones:" ",myAssignments:" ",settings:"",profile:""},XW={title:" ",totalSurveys:" ",todaysSurveys:"  ",pending:" ",approved:"",recentSurveys:"  ",noSurveys:"   ",viewAll:" ",exportExcel:" ",exportCSV:"CSV "},JW={newSurvey:" ",editSurvey:"  ",surveyDetails:" ",buildingId:" ",drawBuilding:" ",selectTool:"        ",tapToAdd:"       ",tapToComplete:"         ",useUndo:"      ",polygon:"",rectangle:"",marker:"",undo:"",clear:"",drone:"",location:"",points:"",needMore:"{{count}}  ",readyToClose:"    "},QW={ownerDetails:" ",ownerName:"  ",phoneNumber:" ",aadhaarNumber:" ",emailAddress:" ",relationWithOwner:"  ",coOwnerName:"-  ",locationDetails:" ",surveyGatNo:"/ ",citySurveyNo:"  ",finalPlotNo:"  ",subPlotNo:"- ",mohalla:"/",district:"",taluka:"",village:"",wardNo:" ",zoneName:"  ",pincode:" ",streetName:"  ",landmarkNear:"  ",constructionDetails:" ",buildingName:"  ",numberOfFloors:"  ",buildingAge:"   ()",constructionType:" ",roofType:"  ",floorType:"  ",buildingCondition:"  ",carpetArea:"  ( )",builtUpArea:"  ( )",plotArea:"  ( )",propertyClassification:" ",propertyUsage:" ",ownershipType:" ",occupancyStatus:" ",tenantName:"  ",monthlyRent:" ",utilities:" ,   ",waterConnection:" ",waterSource:" ",drainageConnection:" ",toiletAvailable:" ",toiletType:" ",electricityConnection:" ",meterNumber:" ",gasConnection:" ",rainwaterHarvesting:"  ",assessment:" ",previousAssessment:"  ",taxPaidLastYear:"     ",arrearsDue:" ",exemptionClaimed:"  ",exemptionReason:"  ",photos:"",ownerPhoto:"  ",buildingPhoto:"  ",documentPhoto:"  ",capturePhoto:" ",retakePhoto:" ",additionalRemarks:" ",surveyorRemarks:" "},eZ={required:"   ",invalidPhone:"  ",invalidEmail:"  ",invalidAadhaar:"  ",minLength:" {{count}}  ",maxLength:" {{count}}  "},tZ={admin:"",supervisor:"",surveyor:""},rZ={title:" ",createZone:" ",editZone:"  ",zoneName:"  ",assignedTo:"  ",supervisor:"",targetCount:" ",completedCount:"",progress:"",dueDate:" ",status:"",pending:"",inProgress:" ",completed:"",onHold:" ",priority:"",low:"",medium:"",high:"",urgent:"",drawZone:"    ",noZones:"     "},nZ={title:" ",addUser:" ",editUser:"  ",fullName:" ",email:"",phone:"",role:"",status:"",active:"",inactive:"",lastLogin:" ",assignedZones:"  ",totalSurveys:" ",noUsers:"   "},iZ={title:" ",assignedZones:"  ",progress:" ",surveysCompleted:" ",targetRemaining:" ",deadline:" ",startSurvey:"  ",viewZone:" ",noAssignments:"     "},aZ={success:" ",error:"   ",saved:"  ",deleted:"  ",updated:"   ",surveySubmitted:"    !",pdfGenerated:"PDF   ",offlineSaved:"       ",syncComplete:" ",noPermission:"       "},sZ={select:" ",english:"English",hindi:"",marathi:""},oZ={common:ZW,auth:YW,nav:KW,dashboard:XW,survey:JW,form:QW,validation:eZ,roles:tZ,zones:rZ,users:nZ,assignments:iZ,messages:aZ,language:sZ},lZ={appName:"",tagline:"-  ",loading:"  ...",save:" ",cancel:" ",submit:" ",edit:" ",delete:"",view:"",search:"",filter:"",export:"",download:"",upload:"",refresh:"",back:"",next:"",previous:"",yes:"",no:"",confirm:" ",close:" ",actions:"",status:"",date:"",all:""},cZ={login:"",logout:"",email:" ",password:"",loginTitle:" ",loginSubtitle:"      ",forgotPassword:" ?",noAccount:" ?",signUp:"  ",loginSuccess:" !",loginError:"   ",loggingIn:"   ..."},uZ={dashboard:"",surveyMap:" ",allBuildings:" ",admin:" ",users:" ",zones:" ",myAssignments:" ",settings:"",profile:""},hZ={title:" ",totalSurveys:" ",todaysSurveys:" ",pending:" ",approved:"",recentSurveys:" ",noSurveys:"   ",viewAll:" ",exportExcel:" ",exportCSV:"CSV "},fZ={newSurvey:" ",editSurvey:"  ",surveyDetails:" ",buildingId:" ",drawBuilding:" ",selectTool:"     ",tapToAdd:"    ",tapToComplete:"      ",useUndo:"  ",polygon:"",rectangle:"",marker:"",undo:"",clear:" ",drone:"",location:"",points:"",needMore:"{{count}}  ",readyToClose:"  "},dZ={ownerDetails:" ",ownerName:" ",phoneNumber:" ",aadhaarNumber:" ",emailAddress:" ",relationWithOwner:" ",coOwnerName:"- ",locationDetails:" ",surveyGatNo:"/ ",citySurveyNo:"  ",finalPlotNo:"  ",subPlotNo:"- ",mohalla:"/",district:"",taluka:"",village:"",wardNo:" ",zoneName:" ",pincode:" ",streetName:" ",landmarkNear:" ",constructionDetails:" ",buildingName:" ",numberOfFloors:" ",buildingAge:"  ()",constructionType:" ",roofType:" ",floorType:" ",buildingCondition:" ",carpetArea:"  (..)",builtUpArea:"  (..)",plotArea:"  (..)",propertyClassification:" ",propertyUsage:" ",ownershipType:" ",occupancyStatus:" ",tenantName:" ",monthlyRent:" ",utilities:" ,   ",waterConnection:" ",waterSource:" ",drainageConnection:" ",toiletAvailable:" ",toiletType:" ",electricityConnection:" ",meterNumber:" ",gasConnection:" ",rainwaterHarvesting:"  ",assessment:" ",previousAssessment:"  ",taxPaidLastYear:"   ",arrearsDue:"",exemptionClaimed:" ",exemptionReason:" ",photos:"",ownerPhoto:" ",buildingPhoto:" ",documentPhoto:" ",capturePhoto:" ",retakePhoto:" ",additionalRemarks:" ",surveyorRemarks:" "},pZ={required:"   ",invalidPhone:"  ",invalidEmail:"  ",invalidAadhaar:"  ",minLength:" {{count}}  ",maxLength:"  {{count}}  "},mZ={admin:"",supervisor:"",surveyor:""},gZ={title:" ",createZone:"  ",editZone:"  ",zoneName:" ",assignedTo:" ",supervisor:"",targetCount:" ",completedCount:"",progress:"",dueDate:" ",status:"",pending:"",inProgress:" ",completed:"",onHold:"",priority:"",low:"",medium:"",high:"",urgent:" ",drawZone:"   ",noZones:"     "},vZ={title:" ",addUser:" ",editUser:"  ",fullName:" ",email:"",phone:"",role:"",status:"",active:"",inactive:"",lastLogin:" ",assignedZones:" ",totalSurveys:" ",noUsers:"   "},_Z={title:" ",assignedZones:" ",progress:" ",surveysCompleted:"  ",targetRemaining:" ",deadline:" ",startSurvey:"  ",viewZone:" ",noAssignments:"    "},yZ={success:" ",error:" ",saved:"  ",deleted:" ",updated:"  ",surveySubmitted:"   !",pdfGenerated:"PDF   ",offlineSaved:"  .    .",syncComplete:" ",noPermission:"    "},xZ={select:" ",english:"English",hindi:"",marathi:""},wZ={common:lZ,auth:cZ,nav:uZ,dashboard:hZ,survey:fZ,form:dZ,validation:pZ,roles:mZ,zones:gZ,users:vZ,assignments:_Z,messages:yZ,language:xZ},bZ={en:{translation:WW},hi:{translation:oZ},mr:{translation:wZ}};to.use(dT).use(DC).init({resources:bZ,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});PA.createRoot(document.getElementById("root")).render(x.jsx(th.StrictMode,{children:x.jsx(vW,{children:x.jsx(Nk,{children:x.jsxs(SR,{children:[x.jsx(iC,{router:gW}),x.jsx(_W,{})]})})})}));"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(t){for(let e of t)e.unregister(),console.log("Unregistered service worker:",e.scope)});export{zn as _,SZ as c,$1 as g};
