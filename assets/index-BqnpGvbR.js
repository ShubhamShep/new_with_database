function NA(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var kZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cv={exports:{}},t0={};var Yw;function CA(){if(Yw)return t0;Yw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:s,ref:i!==void 0?i:null,props:a}}return t0.Fragment=e,t0.jsx=r,t0.jsxs=r,t0}var Kw;function MA(){return Kw||(Kw=1,Cv.exports=CA()),Cv.exports}var x=MA(),Mv={exports:{}},Ir={};var Xw;function kA(){if(Xw)return Ir;Xw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function _(ee){return ee===null||typeof ee!="object"?null:(ee=y&&ee[y]||ee["@@iterator"],typeof ee=="function"?ee:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function O(ee,P,H){this.props=ee,this.context=P,this.refs=C,this.updater=H||E}O.prototype.isReactComponent={},O.prototype.setState=function(ee,P){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,P,"setState")},O.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function j(){}j.prototype=O.prototype;function R(ee,P,H){this.props=ee,this.context=P,this.refs=C,this.updater=H||E}var B=R.prototype=new j;B.constructor=R,S(B,O.prototype),B.isPureReactComponent=!0;var J=Array.isArray;function re(){}var F={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function U(ee,P,H){var q=H.ref;return{$$typeof:t,type:ee,key:P,ref:q!==void 0?q:null,props:H}}function X(ee,P){return U(ee.type,P,ee.props)}function I(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function W(ee){var P={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(H){return P[H]})}var ue=/\/+/g;function pe(ee,P){return typeof ee=="object"&&ee!==null&&ee.key!=null?W(""+ee.key):P.toString(36)}function xe(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(re,re):(ee.status="pending",ee.then(function(P){ee.status==="pending"&&(ee.status="fulfilled",ee.value=P)},function(P){ee.status==="pending"&&(ee.status="rejected",ee.reason=P)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function le(ee,P,H,q,Z){var oe=typeof ee;(oe==="undefined"||oe==="boolean")&&(ee=null);var Ae=!1;if(ee===null)Ae=!0;else switch(oe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(ee.$$typeof){case t:case e:Ae=!0;break;case p:return Ae=ee._init,le(Ae(ee._payload),P,H,q,Z)}}if(Ae)return Z=Z(ee),Ae=q===""?"."+pe(ee,0):q,J(Z)?(H="",Ae!=null&&(H=Ae.replace(ue,"$&/")+"/"),le(Z,P,H,"",function(Ie){return Ie})):Z!=null&&(I(Z)&&(Z=X(Z,H+(Z.key==null||ee&&ee.key===Z.key?"":(""+Z.key).replace(ue,"$&/")+"/")+Ae)),P.push(Z)),1;Ae=0;var Oe=q===""?".":q+":";if(J(ee))for(var Re=0;Re<ee.length;Re++)q=ee[Re],oe=Oe+pe(q,Re),Ae+=le(q,P,H,oe,Z);else if(Re=_(ee),typeof Re=="function")for(ee=Re.call(ee),Re=0;!(q=ee.next()).done;)q=q.value,oe=Oe+pe(q,Re++),Ae+=le(q,P,H,oe,Z);else if(oe==="object"){if(typeof ee.then=="function")return le(xe(ee),P,H,q,Z);throw P=String(ee),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function be(ee,P,H){if(ee==null)return ee;var q=[],Z=0;return le(ee,q,"","",function(oe){return P.call(H,oe,Z++)}),q}function _e(ee){if(ee._status===-1){var P=ee._result;P=P(),P.then(function(H){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=H)},function(H){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=H)}),ee._status===-1&&(ee._status=0,ee._result=P)}if(ee._status===1)return ee._result.default;throw ee._result}var Le=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)},Ne={map:be,forEach:function(ee,P,H){be(ee,function(){P.apply(this,arguments)},H)},count:function(ee){var P=0;return be(ee,function(){P++}),P},toArray:function(ee){return be(ee,function(P){return P})||[]},only:function(ee){if(!I(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};return Ir.Activity=v,Ir.Children=Ne,Ir.Component=O,Ir.Fragment=r,Ir.Profiler=i,Ir.PureComponent=R,Ir.StrictMode=n,Ir.Suspense=c,Ir.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ir.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return F.H.useMemoCache(ee)}},Ir.cache=function(ee){return function(){return ee.apply(null,arguments)}},Ir.cacheSignal=function(){return null},Ir.cloneElement=function(ee,P,H){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var q=S({},ee.props),Z=ee.key;if(P!=null)for(oe in P.key!==void 0&&(Z=""+P.key),P)!K.call(P,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&P.ref===void 0||(q[oe]=P[oe]);var oe=arguments.length-2;if(oe===1)q.children=H;else if(1<oe){for(var Ae=Array(oe),Oe=0;Oe<oe;Oe++)Ae[Oe]=arguments[Oe+2];q.children=Ae}return U(ee.type,Z,q)},Ir.createContext=function(ee){return ee={$$typeof:s,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:a,_context:ee},ee},Ir.createElement=function(ee,P,H){var q,Z={},oe=null;if(P!=null)for(q in P.key!==void 0&&(oe=""+P.key),P)K.call(P,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(Z[q]=P[q]);var Ae=arguments.length-2;if(Ae===1)Z.children=H;else if(1<Ae){for(var Oe=Array(Ae),Re=0;Re<Ae;Re++)Oe[Re]=arguments[Re+2];Z.children=Oe}if(ee&&ee.defaultProps)for(q in Ae=ee.defaultProps,Ae)Z[q]===void 0&&(Z[q]=Ae[q]);return U(ee,oe,Z)},Ir.createRef=function(){return{current:null}},Ir.forwardRef=function(ee){return{$$typeof:l,render:ee}},Ir.isValidElement=I,Ir.lazy=function(ee){return{$$typeof:p,_payload:{_status:-1,_result:ee},_init:_e}},Ir.memo=function(ee,P){return{$$typeof:f,type:ee,compare:P===void 0?null:P}},Ir.startTransition=function(ee){var P=F.T,H={};F.T=H;try{var q=ee(),Z=F.S;Z!==null&&Z(H,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(re,Le)}catch(oe){Le(oe)}finally{P!==null&&H.types!==null&&(P.types=H.types),F.T=P}},Ir.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ir.use=function(ee){return F.H.use(ee)},Ir.useActionState=function(ee,P,H){return F.H.useActionState(ee,P,H)},Ir.useCallback=function(ee,P){return F.H.useCallback(ee,P)},Ir.useContext=function(ee){return F.H.useContext(ee)},Ir.useDebugValue=function(){},Ir.useDeferredValue=function(ee,P){return F.H.useDeferredValue(ee,P)},Ir.useEffect=function(ee,P){return F.H.useEffect(ee,P)},Ir.useEffectEvent=function(ee){return F.H.useEffectEvent(ee)},Ir.useId=function(){return F.H.useId()},Ir.useImperativeHandle=function(ee,P,H){return F.H.useImperativeHandle(ee,P,H)},Ir.useInsertionEffect=function(ee,P){return F.H.useInsertionEffect(ee,P)},Ir.useLayoutEffect=function(ee,P){return F.H.useLayoutEffect(ee,P)},Ir.useMemo=function(ee,P){return F.H.useMemo(ee,P)},Ir.useOptimistic=function(ee,P){return F.H.useOptimistic(ee,P)},Ir.useReducer=function(ee,P,H){return F.H.useReducer(ee,P,H)},Ir.useRef=function(ee){return F.H.useRef(ee)},Ir.useState=function(ee){return F.H.useState(ee)},Ir.useSyncExternalStore=function(ee,P,H){return F.H.useSyncExternalStore(ee,P,H)},Ir.useTransition=function(){return F.H.useTransition()},Ir.version="19.2.3",Ir}var Jw;function Zg(){return Jw||(Jw=1,Mv.exports=kA()),Mv.exports}var de=Zg();const Zl=Wg(de),PA=NA({__proto__:null,default:Zl},[de]);var kv={exports:{}},r0={},Pv={exports:{}},Ov={};var Qw;function OA(){return Qw||(Qw=1,(function(t){function e(le,be){var _e=le.length;le.push(be);e:for(;0<_e;){var Le=_e-1>>>1,Ne=le[Le];if(0<i(Ne,be))le[Le]=be,le[_e]=Ne,_e=Le;else break e}}function r(le){return le.length===0?null:le[0]}function n(le){if(le.length===0)return null;var be=le[0],_e=le.pop();if(_e!==be){le[0]=_e;e:for(var Le=0,Ne=le.length,ee=Ne>>>1;Le<ee;){var P=2*(Le+1)-1,H=le[P],q=P+1,Z=le[q];if(0>i(H,_e))q<Ne&&0>i(Z,H)?(le[Le]=Z,le[q]=_e,Le=q):(le[Le]=H,le[P]=_e,Le=P);else if(q<Ne&&0>i(Z,_e))le[Le]=Z,le[q]=_e,Le=q;else break e}}return be}function i(le,be){var _e=le.sortIndex-be.sortIndex;return _e!==0?_e:le.id-be.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],p=1,v=null,y=3,_=!1,E=!1,S=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function B(le){for(var be=r(f);be!==null;){if(be.callback===null)n(f);else if(be.startTime<=le)n(f),be.sortIndex=be.expirationTime,e(c,be);else break;be=r(f)}}function J(le){if(S=!1,B(le),!E)if(r(c)!==null)E=!0,re||(re=!0,W());else{var be=r(f);be!==null&&xe(J,be.startTime-le)}}var re=!1,F=-1,K=5,U=-1;function X(){return C?!0:!(t.unstable_now()-U<K)}function I(){if(C=!1,re){var le=t.unstable_now();U=le;var be=!0;try{e:{E=!1,S&&(S=!1,j(F),F=-1),_=!0;var _e=y;try{t:{for(B(le),v=r(c);v!==null&&!(v.expirationTime>le&&X());){var Le=v.callback;if(typeof Le=="function"){v.callback=null,y=v.priorityLevel;var Ne=Le(v.expirationTime<=le);if(le=t.unstable_now(),typeof Ne=="function"){v.callback=Ne,B(le),be=!0;break t}v===r(c)&&n(c),B(le)}else n(c);v=r(c)}if(v!==null)be=!0;else{var ee=r(f);ee!==null&&xe(J,ee.startTime-le),be=!1}}break e}finally{v=null,y=_e,_=!1}be=void 0}}finally{be?W():re=!1}}}var W;if(typeof R=="function")W=function(){R(I)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,pe=ue.port2;ue.port1.onmessage=I,W=function(){pe.postMessage(null)}}else W=function(){O(I,0)};function xe(le,be){F=O(function(){le(t.unstable_now())},be)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(le){switch(y){case 1:case 2:case 3:var be=3;break;default:be=y}var _e=y;y=be;try{return le()}finally{y=_e}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(le,be){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var _e=y;y=le;try{return be()}finally{y=_e}},t.unstable_scheduleCallback=function(le,be,_e){var Le=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Le+_e:Le):_e=Le,le){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=_e+Ne,le={id:p++,callback:be,priorityLevel:le,startTime:_e,expirationTime:Ne,sortIndex:-1},_e>Le?(le.sortIndex=_e,e(f,le),r(c)===null&&le===r(f)&&(S?(j(F),F=-1):S=!0,xe(J,_e-Le))):(le.sortIndex=Ne,e(c,le),E||_||(E=!0,re||(re=!0,W()))),le},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(le){var be=y;return function(){var _e=y;y=be;try{return le.apply(this,arguments)}finally{y=_e}}}})(Ov)),Ov}var eb;function RA(){return eb||(eb=1,Pv.exports=OA()),Pv.exports}var Rv={exports:{}},Ms={};var tb;function DA(){if(tb)return Ms;tb=1;var t=Zg();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:c,containerInfo:f,implementation:p}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ms.createPortal=function(c,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,p)},Ms.flushSync=function(c){var f=s.T,p=n.p;try{if(s.T=null,n.p=2,c)return c()}finally{s.T=f,n.p=p,n.d.f()}},Ms.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(c,f))},Ms.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Ms.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var p=f.as,v=l(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:_}):p==="script"&&n.d.X(c,{crossOrigin:v,integrity:y,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ms.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);n.d.M(c,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(c)},Ms.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=l(p,f.crossOrigin);n.d.L(c,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ms.preloadModule=function(c,f){if(typeof c=="string")if(f){var p=l(f.as,f.crossOrigin);n.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(c)},Ms.requestFormReset=function(c){n.d.r(c)},Ms.unstable_batchedUpdates=function(c,f){return c(f)},Ms.useFormState=function(c,f,p){return s.H.useFormState(c,f,p)},Ms.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ms.version="19.2.3",Ms}var rb;function iS(){if(rb)return Rv.exports;rb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rv.exports=DA(),Rv.exports}var nb;function jA(){if(nb)return r0;nb=1;var t=RA(),e=Zg(),r=iS();function n(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,d=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(d=u.return),o=u.return;while(o)}return u.tag===3?d:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(n(188))}function f(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(n(188));return u!==o?null:o}for(var d=o,g=u;;){var T=d.return;if(T===null)break;var N=T.alternate;if(N===null){if(g=T.return,g!==null){d=g;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===d)return c(T),o;if(N===g)return c(T),u;N=N.sibling}throw Error(n(188))}if(d.return!==g.return)d=T,g=N;else{for(var V=!1,fe=T.child;fe;){if(fe===d){V=!0,d=T,g=N;break}if(fe===g){V=!0,g=T,d=N;break}fe=fe.sibling}if(!V){for(fe=N.child;fe;){if(fe===d){V=!0,d=N,g=T;break}if(fe===g){V=!0,g=N,d=T;break}fe=fe.sibling}if(!V)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:u}function p(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=p(o),u!==null)return u;o=o.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),R=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=I&&o[I]||o["@@iterator"],typeof o=="function"?o:null)}var ue=Symbol.for("react.client.reference");function pe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ue?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case O:return"Profiler";case C:return"StrictMode";case J:return"Suspense";case re:return"SuspenseList";case U:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case E:return"Portal";case R:return o.displayName||"Context";case j:return(o._context.displayName||"Context")+".Consumer";case B:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case F:return u=o.displayName||null,u!==null?u:pe(o.type)||"Memo";case K:u=o._payload,o=o._init;try{return pe(o(u))}catch{}}return null}var xe=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Le=[],Ne=-1;function ee(o){return{current:o}}function P(o){0>Ne||(o.current=Le[Ne],Le[Ne]=null,Ne--)}function H(o,u){Ne++,Le[Ne]=o.current,o.current=u}var q=ee(null),Z=ee(null),oe=ee(null),Ae=ee(null);function Oe(o,u){switch(H(oe,u),H(Z,o),H(q,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?_w(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=_w(u),o=yw(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}P(q),H(q,o)}function Re(){P(q),P(Z),P(oe)}function Ie(o){o.memoizedState!==null&&H(Ae,o);var u=q.current,d=yw(u,o.type);u!==d&&(H(Z,o),H(q,d))}function ot(o){Z.current===o&&(P(q),P(Z)),Ae.current===o&&(P(Ae),Xd._currentValue=_e)}var it,Tt;function Nt(o){if(it===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);it=u&&u[1]||"",Tt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+o+Tt}var we=!1;function yt(o,u){if(!o||we)return"";we=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(nt){var rt=nt}Reflect.construct(o,[],vt)}else{try{vt.call()}catch(nt){rt=nt}o.call(vt.prototype)}}else{try{throw Error()}catch(nt){rt=nt}(vt=o())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(nt){if(nt&&rt&&typeof nt.stack=="string")return[nt.stack,rt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=g.DetermineComponentFrameRoot(),V=N[0],fe=N[1];if(V&&fe){var ke=V.split(`
`),et=fe.split(`
`);for(T=g=0;g<ke.length&&!ke[g].includes("DetermineComponentFrameRoot");)g++;for(;T<et.length&&!et[T].includes("DetermineComponentFrameRoot");)T++;if(g===ke.length||T===et.length)for(g=ke.length-1,T=et.length-1;1<=g&&0<=T&&ke[g]!==et[T];)T--;for(;1<=g&&0<=T;g--,T--)if(ke[g]!==et[T]){if(g!==1||T!==1)do if(g--,T--,0>T||ke[g]!==et[T]){var ct=`
`+ke[g].replace(" at new "," at ");return o.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",o.displayName)),ct}while(1<=g&&0<=T);break}}}finally{we=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Nt(d):""}function xt(o,u){switch(o.tag){case 26:case 27:case 5:return Nt(o.type);case 16:return Nt("Lazy");case 13:return o.child!==u&&u!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return yt(o.type,!1);case 11:return yt(o.type.render,!1);case 1:return yt(o.type,!0);case 31:return Nt("Activity");default:return""}}function zt(o){try{var u="",d=null;do u+=xt(o,d),d=o,o=o.return;while(o);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var dt=Object.prototype.hasOwnProperty,Vt=t.unstable_scheduleCallback,jt=t.unstable_cancelCallback,sr=t.unstable_shouldYield,Xt=t.unstable_requestPaint,Jt=t.unstable_now,Er=t.unstable_getCurrentPriorityLevel,dr=t.unstable_ImmediatePriority,Nr=t.unstable_UserBlockingPriority,or=t.unstable_NormalPriority,Ft=t.unstable_LowPriority,_r=t.unstable_IdlePriority,Wt=t.log,xn=t.unstable_setDisableYieldValue,Mr=null,Gt=null;function pr(o){if(typeof Wt=="function"&&xn(o),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Mr,o)}catch{}}var Dr=Math.clz32?Math.clz32:ur,Yt=Math.log,un=Math.LN2;function ur(o){return o>>>=0,o===0?32:31-(Yt(o)/un|0)|0}var cr=256,en=262144,xr=4194304;function Zt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Gr(o,u,d){var g=o.pendingLanes;if(g===0)return 0;var T=0,N=o.suspendedLanes,V=o.pingedLanes;o=o.warmLanes;var fe=g&134217727;return fe!==0?(g=fe&~N,g!==0?T=Zt(g):(V&=fe,V!==0?T=Zt(V):d||(d=fe&~o,d!==0&&(T=Zt(d))))):(fe=g&~N,fe!==0?T=Zt(fe):V!==0?T=Zt(V):d||(d=g&~o,d!==0&&(T=Zt(d)))),T===0?0:u!==0&&u!==T&&(u&N)===0&&(N=T&-T,d=u&-u,N>=d||N===32&&(d&4194048)!==0)?u:T}function ba(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function li(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ji(){var o=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),o}function Ni(o){for(var u=[],d=0;31>d;d++)u.push(o);return u}function Qt(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ka(o,u,d,g,T,N){var V=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var fe=o.entanglements,ke=o.expirationTimes,et=o.hiddenUpdates;for(d=V&~d;0<d;){var ct=31-Dr(d),vt=1<<ct;fe[ct]=0,ke[ct]=-1;var rt=et[ct];if(rt!==null)for(et[ct]=null,ct=0;ct<rt.length;ct++){var nt=rt[ct];nt!==null&&(nt.lane&=-536870913)}d&=~vt}g!==0&&Fa(o,g,0),N!==0&&T===0&&o.tag!==0&&(o.suspendedLanes|=N&~(V&~u))}function Fa(o,u,d){o.pendingLanes|=u,o.suspendedLanes&=~u;var g=31-Dr(u);o.entangledLanes|=u,o.entanglements[g]=o.entanglements[g]|1073741824|d&261930}function Ce(o,u){var d=o.entangledLanes|=u;for(o=o.entanglements;d;){var g=31-Dr(d),T=1<<g;T&u|o[g]&u&&(o[g]|=u),d&=~T}}function Ge(o,u){var d=u&-u;return d=(d&42)!==0?1:qe(d),(d&(o.suspendedLanes|u))!==0?0:d}function qe(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ye(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Y(){var o=be.p;return o!==0?o:(o=window.event,o===void 0?32:Gw(o.type))}function me(o,u){var d=be.p;try{return be.p=o,u()}finally{be.p=d}}var ne=Math.random().toString(36).slice(2),ie="__reactFiber$"+ne,he="__reactProps$"+ne,ve="__reactContainer$"+ne,Pe="__reactEvents$"+ne,ze="__reactListeners$"+ne,Be="__reactHandles$"+ne,Ue="__reactResources$"+ne,$e="__reactMarker$"+ne;function ht(o){delete o[ie],delete o[he],delete o[Pe],delete o[ze],delete o[Be]}function bt(o){var u=o[ie];if(u)return u;for(var d=o.parentNode;d;){if(u=d[ve]||d[ie]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(o=Aw(o);o!==null;){if(d=o[ie])return d;o=Aw(o)}return u}o=d,d=o.parentNode}return null}function wt(o){if(o=o[ie]||o[ve]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function gt(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(n(33))}function Mt(o){var u=o[Ue];return u||(u=o[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Bt(o){o[$e]=!0}var Hr=new Set,wr={};function nn(o,u){Kn(o,u),Kn(o+"Capture",u)}function Kn(o,u){for(wr[o]=u,o=0;o<u.length;o++)Hr.add(u[o])}var Xn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qi={},Ci={};function Ar(o){return dt.call(Ci,o)?!0:dt.call(Qi,o)?!1:Xn.test(o)?Ci[o]=!0:(Qi[o]=!0,!1)}function Ut(o,u,d){if(Ar(u))if(d===null)o.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+d)}}function qr(o,u,d){if(d===null)o.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+d)}}function ri(o,u,d,g){if(g===null)o.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(u,d,""+g)}}function ar(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Sa(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ea(o,u,d){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,N=g.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return T.call(this)},set:function(V){d=""+V,N.call(this,V)}}),Object.defineProperty(o,u,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(V){d=""+V},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function yr(o){if(!o._valueTracker){var u=Sa(o)?"checked":"value";o._valueTracker=Ea(o,u,""+o[u])}}function Dn(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return o&&(g=Sa(o)?o.checked?"true":"false":o.value),o=g,o!==d?(u.setValue(o),!0):!1}function ea(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ni=/[\n"\\]/g;function cn(o){return o.replace(ni,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function ru(o,u,d,g,T,N,V,fe){o.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?o.type=V:o.removeAttribute("type"),u!=null?V==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+ar(u)):o.value!==""+ar(u)&&(o.value=""+ar(u)):V!=="submit"&&V!=="reset"||o.removeAttribute("value"),u!=null?Us(o,V,ar(u)):d!=null?Us(o,V,ar(d)):g!=null&&o.removeAttribute("value"),T==null&&N!=null&&(o.defaultChecked=!!N),T!=null&&(o.checked=T&&typeof T!="function"&&typeof T!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?o.name=""+ar(fe):o.removeAttribute("name")}function Tl(o,u,d,g,T,N,V,fe){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.type=N),u!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||u!=null)){yr(o);return}d=d!=null?""+ar(d):"",u=u!=null?""+ar(u):d,fe||u===o.value||(o.value=u),o.defaultValue=u}g=g??T,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=fe?o.checked:!!g,o.defaultChecked=!!g,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(o.name=V),yr(o)}function Us(o,u,d){u==="number"&&ea(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Kr(o,u,d,g){if(o=o.options,u){u={};for(var T=0;T<d.length;T++)u["$"+d[T]]=!0;for(d=0;d<o.length;d++)T=u.hasOwnProperty("$"+o[d].value),o[d].selected!==T&&(o[d].selected=T),T&&g&&(o[d].defaultSelected=!0)}else{for(d=""+ar(d),u=null,T=0;T<o.length;T++){if(o[T].value===d){o[T].selected=!0,g&&(o[T].defaultSelected=!0);return}u!==null||o[T].disabled||(u=o[T])}u!==null&&(u.selected=!0)}}function zs(o,u,d){if(u!=null&&(u=""+ar(u),u!==o.value&&(o.value=u),d==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=d!=null?""+ar(d):""}function No(o,u,d,g){if(u==null){if(g!=null){if(d!=null)throw Error(n(92));if(xe(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),u=d}d=ar(u),o.defaultValue=d,g=o.textContent,g===d&&g!==""&&g!==null&&(o.value=g),yr(o)}function Ta(o,u){if(u){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=u;return}}o.textContent=u}var Co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(o,u,d){var g=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":g?o.setProperty(u,d):typeof d!="number"||d===0||Co.has(u)?u==="float"?o.cssFloat=d:o[u]=(""+d).trim():o[u]=d+"px"}function nu(o,u,d){if(u!=null&&typeof u!="object")throw Error(n(62));if(o=o.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var T in u)g=u[T],u.hasOwnProperty(T)&&d[T]!==g&&tl(o,T,g)}else for(var N in u)u.hasOwnProperty(N)&&tl(o,N,u[N])}function Al(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(o){return iu.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ba(){}var eo=null;function Mo(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var nl=null,Ct=null;function Xa(o){var u=wt(o);if(u&&(o=u.stateNode)){var d=o[he]||null;e:switch(o=u.stateNode,u.type){case"input":if(ru(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+cn(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==o&&g.form===o.form){var T=g[he]||null;if(!T)throw Error(n(90));ru(g,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(u=0;u<d.length;u++)g=d[u],g.form===o.form&&Dn(g)}break e;case"textarea":zs(o,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&Kr(o,!!d.multiple,u,!1)}}}var dn=!1;function Iu(o,u,d){if(dn)return o(u,d);dn=!0;try{var g=o(u);return g}finally{if(dn=!1,(nl!==null||Ct!==null)&&(Kp(),nl&&(u=nl,o=Ct,Ct=nl=null,Xa(u),o)))for(u=0;u<o.length;u++)Xa(o[u])}}function Aa(o,u){var d=o.stateNode;if(d===null)return null;var g=d[he]||null;if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,u,typeof d));return d}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ll=!1;if(Mi)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){Ll=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{Ll=!1}var La=null,Gs=null,Mn=null;function to(){if(Mn)return Mn;var o,u=Gs,d=u.length,g,T="value"in La?La.value:La.textContent,N=T.length;for(o=0;o<d&&u[o]===T[o];o++);var V=d-o;for(g=1;g<=V&&u[d-g]===T[N-g];g++);return Mn=T.slice(o,1<g?1-g:void 0)}function Qa(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Nl(){return!0}function au(){return!1}function ki(o){function u(d,g,T,N,V){this._reactName=d,this._targetInst=T,this.type=g,this.nativeEvent=N,this.target=V,this.currentTarget=null;for(var fe in o)o.hasOwnProperty(fe)&&(d=o[fe],this[fe]=d?d(N):N[fe]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Nl:au,this.isPropagationStopped=au,this}return v(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),u}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=ki(xs),ro=v({},xs,{view:0,detail:0}),Br=ki(ro),Cl,Pi,es,il=v({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==es&&(es&&o.type==="mousemove"?(Cl=o.screenX-es.screenX,Pi=o.screenY-es.screenY):Pi=Cl=0,es=o),Cl)},movementY:function(o){return"movementY"in o?o.movementY:Pi}}),Fu=ki(il),Hs=v({},il,{dataTransfer:0}),ko=ki(Hs),Bu=v({},ro,{relatedTarget:0}),Po=ki(Bu),xc=v({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),k=ki(xc),Q=v({},xs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Se=ki(Q),De=v({},xs,{data:0}),Ve=ki(De),at={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},St={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function er(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=$t[o])?!!u[o]:!1}function br(){return er}var kr=v({},ro,{key:function(o){if(o.key){var u=at[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Qa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?St[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(o){return o.type==="keypress"?Qa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Qa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Xr=ki(kr),Jn=v({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ui=ki(Jn),wn=v({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),Oi=ki(wn),ci=v({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ii=ki(ci),bs=v({},il,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ta=ki(bs),Oo=v({},xs,{newState:0,oldState:0}),Ro=ki(Oo),ra=[9,13,27,32],qs=Mi&&"CompositionEvent"in window,Ss=null;Mi&&"documentMode"in document&&(Ss=document.documentMode);var Ml=Mi&&"TextEvent"in window&&!Ss,Vs=Mi&&(!qs||Ss&&8<Ss&&11>=Ss),yi=" ",al=!1;function sl(o,u){switch(o){case"keyup":return ra.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kl(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var no=!1;function jn(o,u){switch(o){case"compositionend":return kl(u);case"keypress":return u.which!==32?null:(al=!0,yi);case"textInput":return o=u.data,o===yi&&al?null:o;default:return null}}function Ua(o,u){if(no)return o==="compositionend"||!qs&&sl(o,u)?(o=to(),Mn=Gs=La=null,no=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Vs&&u.locale!=="ko"?null:u.data;default:return null}}var su={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ts(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!su[o.type]:u==="textarea"}function rs(o,u,d,g){nl?Ct?Ct.push(g):Ct=[g]:nl=g,u=nm(u,"onChange"),0<u.length&&(d=new ws("onChange","change",null,d,g),o.push({event:d,listeners:u}))}var da=null,Do=null;function jo(o){fw(o,0)}function Es(o){var u=gt(o);if(Dn(u))return o}function $s(o,u){if(o==="change")return u}var za=!1;if(Mi){var ii;if(Mi){var ns="oninput"in document;if(!ns){var io=document.createElement("div");io.setAttribute("oninput","return;"),ns=typeof io.oninput=="function"}ii=ns}else ii=!1;za=ii&&(!document.documentMode||9<document.documentMode)}function Ws(){da&&(da.detachEvent("onpropertychange",ou),Do=da=null)}function ou(o){if(o.propertyName==="value"&&Es(Do)){var u=[];rs(u,Do,o,Mo(o)),Iu(jo,u)}}function Ga(o,u,d){o==="focusin"?(Ws(),da=u,Do=d,da.attachEvent("onpropertychange",ou)):o==="focusout"&&Ws()}function hi(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Es(Do)}function Io(o,u){if(o==="click")return Es(u)}function ao(o,u){if(o==="input"||o==="change")return Es(u)}function Fi(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var xi=typeof Object.is=="function"?Object.is:Fi;function so(o,u){if(xi(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var d=Object.keys(o),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var T=d[g];if(!dt.call(u,T)||!xi(o[T],u[T]))return!1}return!0}function ol(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Fo(o,u){var d=ol(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=u&&g>=u)return{node:d,offset:u-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=ol(d)}}function Zs(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Zs(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Ts(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=ea(o.document);u instanceof o.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)o=u.contentWindow;else break;u=ea(o.document)}return u}function Na(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var oo=Mi&&"documentMode"in document&&11>=document.documentMode,Ca=null,lo=null,pa=null,Ma=!1;function hn(o,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ma||Ca==null||Ca!==ea(g)||(g=Ca,"selectionStart"in g&&Na(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),pa&&so(pa,g)||(pa=g,g=nm(lo,"onSelect"),0<g.length&&(u=new ws("onSelect","select",null,u,d),o.push({event:u,listeners:g}),u.target=Ca)))}function Jr(o,u){var d={};return d[o.toLowerCase()]=u.toLowerCase(),d["Webkit"+o]="webkit"+u,d["Moz"+o]="moz"+u,d}var kn={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},ai={},uo={};Mi&&(uo=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function wi(o){if(ai[o])return ai[o];if(!kn[o])return o;var u=kn[o],d;for(d in u)if(u.hasOwnProperty(d)&&d in uo)return ai[o]=u[d];return o}var co=wi("animationend"),Uu=wi("animationiteration"),lu=wi("animationstart"),Qh=wi("transitionrun"),ch=wi("transitionstart"),ef=wi("transitioncancel"),Pl=wi("transitionend"),hh=new Map,As="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");As.push("scrollEnd");function is(o,u){hh.set(o,u),nn(u,[o])}var uu=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},as=[],ka=0,zu=0;function cu(){for(var o=ka,u=zu=ka=0;u<o;){var d=as[u];as[u++]=null;var g=as[u];as[u++]=null;var T=as[u];as[u++]=null;var N=as[u];if(as[u++]=null,g!==null&&T!==null){var V=g.pending;V===null?T.next=T:(T.next=V.next,V.next=T),g.pending=T}N!==0&&Uo(d,T,N)}}function Bo(o,u,d,g){as[ka++]=o,as[ka++]=u,as[ka++]=d,as[ka++]=g,zu|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function wc(o,u,d,g){return Bo(o,u,d,g),na(o)}function Ls(o,u){return Bo(o,null,null,u),na(o)}function Uo(o,u,d){o.lanes|=d;var g=o.alternate;g!==null&&(g.lanes|=d);for(var T=!1,N=o.return;N!==null;)N.childLanes|=d,g=N.alternate,g!==null&&(g.childLanes|=d),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(T=!0)),o=N,N=N.return;return o.tag===3?(N=o.stateNode,T&&u!==null&&(T=31-Dr(d),o=N.hiddenUpdates,g=o[T],g===null?o[T]=[u]:g.push(u),u.lane=d|536870912),N):null}function na(o){if(50<qd)throw qd=0,Q1=null,Error(n(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Bi={};function bc(o,u,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(o,u,d,g){return new bc(o,u,d,g)}function Gu(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ss(o,u){var d=o.alternate;return d===null?(d=ia(o.tag,u,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=u,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,u=o.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function hu(o,u){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,u=d.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Ol(o,u,d,g,T,N){var V=0;if(g=o,typeof o=="function")Gu(o)&&(V=1);else if(typeof o=="string")V=gA(o,d,q.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case U:return o=ia(31,d,u,T),o.elementType=U,o.lanes=N,o;case S:return ll(d.children,T,N,u);case C:V=8,T|=24;break;case O:return o=ia(12,d,u,T|2),o.elementType=O,o.lanes=N,o;case J:return o=ia(13,d,u,T),o.elementType=J,o.lanes=N,o;case re:return o=ia(19,d,u,T),o.elementType=re,o.lanes=N,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:V=10;break e;case j:V=9;break e;case B:V=11;break e;case F:V=14;break e;case K:V=16,g=null;break e}V=29,d=Error(n(130,o===null?"null":typeof o,"")),g=null}return u=ia(V,d,u,T),u.elementType=o,u.type=g,u.lanes=N,u}function ll(o,u,d,g){return o=ia(7,o,g,u),o.lanes=d,o}function fu(o,u,d){return o=ia(6,o,null,u),o.lanes=d,o}function Hu(o){var u=ia(18,null,null,0);return u.stateNode=o,u}function du(o,u,d){return u=ia(4,o.children!==null?o.children:[],o.key,u),u.lanes=d,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var h=new WeakMap;function m(o,u){if(typeof o=="object"&&o!==null){var d=h.get(o);return d!==void 0?d:(u={value:o,source:u,stack:zt(u)},h.set(o,u),u)}return{value:o,source:u,stack:zt(u)}}var b=[],M=0,G=null,se=0,Me=[],We=0,tt=null,pt=1,kt="";function tr(o,u){b[M++]=se,b[M++]=G,G=o,se=u}function Ur(o,u,d){Me[We++]=pt,Me[We++]=kt,Me[We++]=tt,tt=o;var g=pt;o=kt;var T=32-Dr(g)-1;g&=~(1<<T),d+=1;var N=32-Dr(u)+T;if(30<N){var V=T-T%5;N=(g&(1<<V)-1).toString(32),g>>=V,T-=V,pt=1<<32-Dr(u)+T|d<<T|g,kt=N+o}else pt=1<<N|d<<T|g,kt=o}function aa(o){o.return!==null&&(tr(o,1),Ur(o,1,0))}function fi(o){for(;o===G;)G=b[--M],b[M]=null,se=b[--M],b[M]=null;for(;o===tt;)tt=Me[--We],Me[We]=null,kt=Me[--We],Me[We]=null,pt=Me[--We],Me[We]=null}function os(o,u){Me[We++]=pt,Me[We++]=kt,Me[We++]=tt,pt=u.id,kt=u.overflow,tt=o}var pn=null,mn=null,Zr=!1,Pa=null,si=!1,Ns=Error(n(519));function ul(o){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pu(m(u,o)),Ns}function Sc(o){var u=o.stateNode,d=o.type,g=o.memoizedProps;switch(u[ie]=o,u[he]=g,d){case"dialog":rn("cancel",u),rn("close",u);break;case"iframe":case"object":case"embed":rn("load",u);break;case"video":case"audio":for(d=0;d<$d.length;d++)rn($d[d],u);break;case"source":rn("error",u);break;case"img":case"image":case"link":rn("error",u),rn("load",u);break;case"details":rn("toggle",u);break;case"input":rn("invalid",u),Tl(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":rn("invalid",u);break;case"textarea":rn("invalid",u),No(u,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||g.suppressHydrationWarning===!0||gw(u.textContent,d)?(g.popover!=null&&(rn("beforetoggle",u),rn("toggle",u)),g.onScroll!=null&&rn("scroll",u),g.onScrollEnd!=null&&rn("scrollend",u),g.onClick!=null&&(u.onclick=Ba),u=!0):u=!1,u||ul(o,!0)}function bn(o){for(pn=o.return;pn;)switch(pn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:pn=pn.return}}function bi(o){if(o!==pn)return!1;if(!Zr)return bn(o),Zr=!0,!1;var u=o.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||pv(o.type,o.memoizedProps)),d=!d),d&&mn&&ul(o),bn(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));mn=Tw(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));mn=Tw(o)}else u===27?(u=mn,Ic(o.type)?(o=yv,yv=null,mn=o):mn=u):mn=pn?fl(o.stateNode.nextSibling):null;return!0}function Rl(){mn=pn=null,Zr=!1}function fh(){var o=Pa;return o!==null&&(_o===null?_o=o:_o.push.apply(_o,o),Pa=null),o}function pu(o){Pa===null?Pa=[o]:Pa.push(o)}var mu=ee(null),zo=null,ho=null;function gu(o,u,d){H(mu,u._currentValue),u._currentValue=d}function fo(o){o._currentValue=mu.current,P(mu)}function Ec(o,u,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),o===d)break;o=o.return}}function qu(o,u,d,g){var T=o.child;for(T!==null&&(T.return=o);T!==null;){var N=T.dependencies;if(N!==null){var V=T.child;N=N.firstContext;e:for(;N!==null;){var fe=N;N=T;for(var ke=0;ke<u.length;ke++)if(fe.context===u[ke]){N.lanes|=d,fe=N.alternate,fe!==null&&(fe.lanes|=d),Ec(N.return,d,o),g||(V=null);break e}N=fe.next}}else if(T.tag===18){if(V=T.return,V===null)throw Error(n(341));V.lanes|=d,N=V.alternate,N!==null&&(N.lanes|=d),Ec(V,d,o),V=null}else V=T.child;if(V!==null)V.return=T;else for(V=T;V!==null;){if(V===o){V=null;break}if(T=V.sibling,T!==null){T.return=V.return,V=T;break}V=V.return}T=V}}function vu(o,u,d,g){o=null;for(var T=u,N=!1;T!==null;){if(!N){if((T.flags&524288)!==0)N=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var V=T.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var fe=T.type;xi(T.pendingProps.value,V.value)||(o!==null?o.push(fe):o=[fe])}}else if(T===Ae.current){if(V=T.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(o!==null?o.push(Xd):o=[Xd])}T=T.return}o!==null&&qu(u,o,d,g),u.flags|=262144}function tf(o){for(o=o.firstContext;o!==null;){if(!xi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function _u(o){zo=o,ho=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Oa(o){return kp(zo,o)}function rf(o,u){return zo===null&&_u(o),kp(o,u)}function kp(o,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},ho===null){if(o===null)throw Error(n(308));ho=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else ho=ho.next=u;return d}var _1=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(d,g){o.push(g)}};this.abort=function(){u.aborted=!0,o.forEach(function(d){return d()})}},y1=t.unstable_scheduleCallback,x1=t.unstable_NormalPriority,Ri={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tc(){return{controller:new _1,data:new Map,refCount:0}}function dh(o){o.refCount--,o.refCount===0&&y1(x1,function(){o.controller.abort()})}var ph=null,nf=0,w=0,A=null;function D(o,u){if(ph===null){var d=ph=[];nf=0,w=av(),A={status:"pending",value:void 0,then:function(g){d.push(g)}}}return nf++,u.then(z,z),u}function z(){if(--nf===0&&ph!==null){A!==null&&(A.status="fulfilled");var o=ph;ph=null,w=0,A=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function te(o,u){var d=[],g={status:"pending",value:null,reason:null,then:function(T){d.push(T)}};return o.then(function(){g.status="fulfilled",g.value=u;for(var T=0;T<d.length;T++)(0,d[T])(u)},function(T){for(g.status="rejected",g.reason=T,T=0;T<d.length;T++)(0,d[T])(void 0)}),g}var ae=le.S;le.S=function(o,u){Ux=Jt(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&D(o,u),ae!==null&&ae(o,u)};var ce=ee(null);function ge(){var o=ce.current;return o!==null?o:ei.pooledCache}function ye(o,u){u===null?H(ce,ce.current):H(ce,u.pool)}function Te(){var o=ge();return o===null?null:{parent:Ri._currentValue,pool:o}}var je=Error(n(460)),Je=Error(n(474)),Ee=Error(n(542)),He={then:function(){}};function Ke(o){return o=o.status,o==="fulfilled"||o==="rejected"}function lt(o,u,d){switch(d=o[d],d===void 0?o.push(u):d!==u&&(u.then(Ba,Ba),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Lt(o),o;default:if(typeof u.status=="string")u.then(Ba,Ba);else{if(o=ei,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=u,o.status="pending",o.then(function(g){if(u.status==="pending"){var T=u;T.status="fulfilled",T.value=g}},function(g){if(u.status==="pending"){var T=u;T.status="rejected",T.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Lt(o),o}throw st=u,je}}function Xe(o){try{var u=o._init;return u(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(st=d,je):d}}var st=null;function ft(){if(st===null)throw Error(n(459));var o=st;return st=null,o}function Lt(o){if(o===je||o===Ee)throw Error(n(483))}var _t=null,nr=0;function Ht(o){var u=nr;return nr+=1,_t===null&&(_t=[]),lt(_t,o,u)}function Pr(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function Kt(o,u){throw u.$$typeof===y?Error(n(525)):(o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Qr(o){function u(Ze,Fe){if(o){var Qe=Ze.deletions;Qe===null?(Ze.deletions=[Fe],Ze.flags|=16):Qe.push(Fe)}}function d(Ze,Fe){if(!o)return null;for(;Fe!==null;)u(Ze,Fe),Fe=Fe.sibling;return null}function g(Ze){for(var Fe=new Map;Ze!==null;)Ze.key!==null?Fe.set(Ze.key,Ze):Fe.set(Ze.index,Ze),Ze=Ze.sibling;return Fe}function T(Ze,Fe){return Ze=ss(Ze,Fe),Ze.index=0,Ze.sibling=null,Ze}function N(Ze,Fe,Qe){return Ze.index=Qe,o?(Qe=Ze.alternate,Qe!==null?(Qe=Qe.index,Qe<Fe?(Ze.flags|=67108866,Fe):Qe):(Ze.flags|=67108866,Fe)):(Ze.flags|=1048576,Fe)}function V(Ze){return o&&Ze.alternate===null&&(Ze.flags|=67108866),Ze}function fe(Ze,Fe,Qe,mt){return Fe===null||Fe.tag!==6?(Fe=fu(Qe,Ze.mode,mt),Fe.return=Ze,Fe):(Fe=T(Fe,Qe),Fe.return=Ze,Fe)}function ke(Ze,Fe,Qe,mt){var vr=Qe.type;return vr===S?ct(Ze,Fe,Qe.props.children,mt,Qe.key):Fe!==null&&(Fe.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===K&&Xe(vr)===Fe.type)?(Fe=T(Fe,Qe.props),Pr(Fe,Qe),Fe.return=Ze,Fe):(Fe=Ol(Qe.type,Qe.key,Qe.props,null,Ze.mode,mt),Pr(Fe,Qe),Fe.return=Ze,Fe)}function et(Ze,Fe,Qe,mt){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Qe.containerInfo||Fe.stateNode.implementation!==Qe.implementation?(Fe=du(Qe,Ze.mode,mt),Fe.return=Ze,Fe):(Fe=T(Fe,Qe.children||[]),Fe.return=Ze,Fe)}function ct(Ze,Fe,Qe,mt,vr){return Fe===null||Fe.tag!==7?(Fe=ll(Qe,Ze.mode,mt,vr),Fe.return=Ze,Fe):(Fe=T(Fe,Qe),Fe.return=Ze,Fe)}function vt(Ze,Fe,Qe){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=fu(""+Fe,Ze.mode,Qe),Fe.return=Ze,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case _:return Qe=Ol(Fe.type,Fe.key,Fe.props,null,Ze.mode,Qe),Pr(Qe,Fe),Qe.return=Ze,Qe;case E:return Fe=du(Fe,Ze.mode,Qe),Fe.return=Ze,Fe;case K:return Fe=Xe(Fe),vt(Ze,Fe,Qe)}if(xe(Fe)||W(Fe))return Fe=ll(Fe,Ze.mode,Qe,null),Fe.return=Ze,Fe;if(typeof Fe.then=="function")return vt(Ze,Ht(Fe),Qe);if(Fe.$$typeof===R)return vt(Ze,rf(Ze,Fe),Qe);Kt(Ze,Fe)}return null}function rt(Ze,Fe,Qe,mt){var vr=Fe!==null?Fe.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return vr!==null?null:fe(Ze,Fe,""+Qe,mt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case _:return Qe.key===vr?ke(Ze,Fe,Qe,mt):null;case E:return Qe.key===vr?et(Ze,Fe,Qe,mt):null;case K:return Qe=Xe(Qe),rt(Ze,Fe,Qe,mt)}if(xe(Qe)||W(Qe))return vr!==null?null:ct(Ze,Fe,Qe,mt,null);if(typeof Qe.then=="function")return rt(Ze,Fe,Ht(Qe),mt);if(Qe.$$typeof===R)return rt(Ze,Fe,rf(Ze,Qe),mt);Kt(Ze,Qe)}return null}function nt(Ze,Fe,Qe,mt,vr){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Ze=Ze.get(Qe)||null,fe(Fe,Ze,""+mt,vr);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case _:return Ze=Ze.get(mt.key===null?Qe:mt.key)||null,ke(Fe,Ze,mt,vr);case E:return Ze=Ze.get(mt.key===null?Qe:mt.key)||null,et(Fe,Ze,mt,vr);case K:return mt=Xe(mt),nt(Ze,Fe,Qe,mt,vr)}if(xe(mt)||W(mt))return Ze=Ze.get(Qe)||null,ct(Fe,Ze,mt,vr,null);if(typeof mt.then=="function")return nt(Ze,Fe,Qe,Ht(mt),vr);if(mt.$$typeof===R)return nt(Ze,Fe,Qe,rf(Fe,mt),vr);Kt(Fe,mt)}return null}function rr(Ze,Fe,Qe,mt){for(var vr=null,Sn=null,lr=Fe,Vr=Fe=0,sn=null;lr!==null&&Vr<Qe.length;Vr++){lr.index>Vr?(sn=lr,lr=null):sn=lr.sibling;var En=rt(Ze,lr,Qe[Vr],mt);if(En===null){lr===null&&(lr=sn);break}o&&lr&&En.alternate===null&&u(Ze,lr),Fe=N(En,Fe,Vr),Sn===null?vr=En:Sn.sibling=En,Sn=En,lr=sn}if(Vr===Qe.length)return d(Ze,lr),Zr&&tr(Ze,Vr),vr;if(lr===null){for(;Vr<Qe.length;Vr++)lr=vt(Ze,Qe[Vr],mt),lr!==null&&(Fe=N(lr,Fe,Vr),Sn===null?vr=lr:Sn.sibling=lr,Sn=lr);return Zr&&tr(Ze,Vr),vr}for(lr=g(lr);Vr<Qe.length;Vr++)sn=nt(lr,Ze,Vr,Qe[Vr],mt),sn!==null&&(o&&sn.alternate!==null&&lr.delete(sn.key===null?Vr:sn.key),Fe=N(sn,Fe,Vr),Sn===null?vr=sn:Sn.sibling=sn,Sn=sn);return o&&lr.forEach(function(Gc){return u(Ze,Gc)}),Zr&&tr(Ze,Vr),vr}function Tr(Ze,Fe,Qe,mt){if(Qe==null)throw Error(n(151));for(var vr=null,Sn=null,lr=Fe,Vr=Fe=0,sn=null,En=Qe.next();lr!==null&&!En.done;Vr++,En=Qe.next()){lr.index>Vr?(sn=lr,lr=null):sn=lr.sibling;var Gc=rt(Ze,lr,En.value,mt);if(Gc===null){lr===null&&(lr=sn);break}o&&lr&&Gc.alternate===null&&u(Ze,lr),Fe=N(Gc,Fe,Vr),Sn===null?vr=Gc:Sn.sibling=Gc,Sn=Gc,lr=sn}if(En.done)return d(Ze,lr),Zr&&tr(Ze,Vr),vr;if(lr===null){for(;!En.done;Vr++,En=Qe.next())En=vt(Ze,En.value,mt),En!==null&&(Fe=N(En,Fe,Vr),Sn===null?vr=En:Sn.sibling=En,Sn=En);return Zr&&tr(Ze,Vr),vr}for(lr=g(lr);!En.done;Vr++,En=Qe.next())En=nt(lr,Ze,Vr,En.value,mt),En!==null&&(o&&En.alternate!==null&&lr.delete(En.key===null?Vr:En.key),Fe=N(En,Fe,Vr),Sn===null?vr=En:Sn.sibling=En,Sn=En);return o&&lr.forEach(function(LA){return u(Ze,LA)}),Zr&&tr(Ze,Vr),vr}function Zn(Ze,Fe,Qe,mt){if(typeof Qe=="object"&&Qe!==null&&Qe.type===S&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case _:e:{for(var vr=Qe.key;Fe!==null;){if(Fe.key===vr){if(vr=Qe.type,vr===S){if(Fe.tag===7){d(Ze,Fe.sibling),mt=T(Fe,Qe.props.children),mt.return=Ze,Ze=mt;break e}}else if(Fe.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===K&&Xe(vr)===Fe.type){d(Ze,Fe.sibling),mt=T(Fe,Qe.props),Pr(mt,Qe),mt.return=Ze,Ze=mt;break e}d(Ze,Fe);break}else u(Ze,Fe);Fe=Fe.sibling}Qe.type===S?(mt=ll(Qe.props.children,Ze.mode,mt,Qe.key),mt.return=Ze,Ze=mt):(mt=Ol(Qe.type,Qe.key,Qe.props,null,Ze.mode,mt),Pr(mt,Qe),mt.return=Ze,Ze=mt)}return V(Ze);case E:e:{for(vr=Qe.key;Fe!==null;){if(Fe.key===vr)if(Fe.tag===4&&Fe.stateNode.containerInfo===Qe.containerInfo&&Fe.stateNode.implementation===Qe.implementation){d(Ze,Fe.sibling),mt=T(Fe,Qe.children||[]),mt.return=Ze,Ze=mt;break e}else{d(Ze,Fe);break}else u(Ze,Fe);Fe=Fe.sibling}mt=du(Qe,Ze.mode,mt),mt.return=Ze,Ze=mt}return V(Ze);case K:return Qe=Xe(Qe),Zn(Ze,Fe,Qe,mt)}if(xe(Qe))return rr(Ze,Fe,Qe,mt);if(W(Qe)){if(vr=W(Qe),typeof vr!="function")throw Error(n(150));return Qe=vr.call(Qe),Tr(Ze,Fe,Qe,mt)}if(typeof Qe.then=="function")return Zn(Ze,Fe,Ht(Qe),mt);if(Qe.$$typeof===R)return Zn(Ze,Fe,rf(Ze,Qe),mt);Kt(Ze,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint"?(Qe=""+Qe,Fe!==null&&Fe.tag===6?(d(Ze,Fe.sibling),mt=T(Fe,Qe),mt.return=Ze,Ze=mt):(d(Ze,Fe),mt=fu(Qe,Ze.mode,mt),mt.return=Ze,Ze=mt),V(Ze)):d(Ze,Fe)}return function(Ze,Fe,Qe,mt){try{nr=0;var vr=Zn(Ze,Fe,Qe,mt);return _t=null,vr}catch(lr){if(lr===je||lr===Ee)throw lr;var Sn=ia(29,lr,null,Ze.mode);return Sn.lanes=mt,Sn.return=Ze,Sn}}}var Qn=Qr(!0),jr=Qr(!1),qt=!1;function Rt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function di(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Sr(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function zr(o,u,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Nn&2)!==0){var T=g.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),g.pending=u,u=na(o),Uo(o,null,d),u}return Bo(o,g,u,d),na(o)}function An(o,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var g=u.lanes;g&=o.pendingLanes,d|=g,u.lanes=d,Ce(o,d)}}function sa(o,u){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var T=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var V={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?T=N=V:N=N.next=V,d=d.next}while(d!==null);N===null?T=N=u:N=N.next=u}else T=N=u;d={baseState:g.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:g.shared,callbacks:g.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=u}var Ra=!1;function Vn(){if(Ra){var o=A;if(o!==null)throw o}}function Ui(o,u,d,g){Ra=!1;var T=o.updateQueue;qt=!1;var N=T.firstBaseUpdate,V=T.lastBaseUpdate,fe=T.shared.pending;if(fe!==null){T.shared.pending=null;var ke=fe,et=ke.next;ke.next=null,V===null?N=et:V.next=et,V=ke;var ct=o.alternate;ct!==null&&(ct=ct.updateQueue,fe=ct.lastBaseUpdate,fe!==V&&(fe===null?ct.firstBaseUpdate=et:fe.next=et,ct.lastBaseUpdate=ke))}if(N!==null){var vt=T.baseState;V=0,ct=et=ke=null,fe=N;do{var rt=fe.lane&-536870913,nt=rt!==fe.lane;if(nt?(an&rt)===rt:(g&rt)===rt){rt!==0&&rt===w&&(Ra=!0),ct!==null&&(ct=ct.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var rr=o,Tr=fe;rt=u;var Zn=d;switch(Tr.tag){case 1:if(rr=Tr.payload,typeof rr=="function"){vt=rr.call(Zn,vt,rt);break e}vt=rr;break e;case 3:rr.flags=rr.flags&-65537|128;case 0:if(rr=Tr.payload,rt=typeof rr=="function"?rr.call(Zn,vt,rt):rr,rt==null)break e;vt=v({},vt,rt);break e;case 2:qt=!0}}rt=fe.callback,rt!==null&&(o.flags|=64,nt&&(o.flags|=8192),nt=T.callbacks,nt===null?T.callbacks=[rt]:nt.push(rt))}else nt={lane:rt,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},ct===null?(et=ct=nt,ke=vt):ct=ct.next=nt,V|=rt;if(fe=fe.next,fe===null){if(fe=T.shared.pending,fe===null)break;nt=fe,fe=nt.next,nt.next=null,T.lastBaseUpdate=nt,T.shared.pending=null}}while(!0);ct===null&&(ke=vt),T.baseState=ke,T.firstBaseUpdate=et,T.lastBaseUpdate=ct,N===null&&(T.shared.lanes=0),Pc|=V,o.lanes=V,o.memoizedState=vt}}function Ha(o,u){if(typeof o!="function")throw Error(n(191,o));o.call(u)}function zi(o,u){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)Ha(d[o],u)}var $r=ee(null),gn=ee(0);function pi(o,u){o=ec,H(gn,o),H($r,u),ec=o|u.baseLanes}function yn(){H(gn,ec),H($r,$r.current)}function oa(){ec=gn.current,P($r),P(gn)}var mi=ee(null),vn=null;function Di(o){var u=o.alternate;H(fn,fn.current&1),H(mi,o),vn===null&&(u===null||$r.current!==null||u.memoizedState!==null)&&(vn=o)}function Ln(o){H(fn,fn.current),H(mi,o),vn===null&&(vn=o)}function Gi(o){o.tag===22?(H(fn,fn.current),H(mi,o),vn===null&&(vn=o)):Hi()}function Hi(){H(fn,fn.current),H(mi,mi.current)}function In(o){P(mi),vn===o&&(vn=null),P(fn)}var fn=ee(0);function qa(o){for(var u=o;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||vv(d)||_v(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Si=0,mr=null,gr=null,_n=null,Cs=!1,po=!1,ls=!1,qi=0,yu=0,xu=null,af=0;function $n(){throw Error(n(321))}function Ad(o,u){if(u===null)return!1;for(var d=0;d<u.length&&d<o.length;d++)if(!xi(o[d],u[d]))return!1;return!0}function Ld(o,u,d,g,T,N){return Si=N,mr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,le.H=o===null||o.memoizedState===null?Xy:N1,ls=!1,N=d(g,T),ls=!1,po&&(N=Dl(u,d,g,T)),sf(o),N}function sf(o){le.H=Dd;var u=gr!==null&&gr.next!==null;if(Si=0,_n=gr=mr=null,Cs=!1,yu=0,xu=null,u)throw Error(n(300));o===null||ga||(o=o.dependencies,o!==null&&tf(o)&&(ga=!0))}function Dl(o,u,d,g){mr=o;var T=0;do{if(po&&(xu=null),yu=0,po=!1,25<=T)throw Error(n(301));if(T+=1,_n=gr=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}le.H=Jy,N=u(d,g)}while(po);return N}function w1(){var o=le.H,u=o.useState()[0];return u=typeof u.then=="function"?wu(u):u,o=o.useState()[0],(gr!==null?gr.memoizedState:null)!==o&&(mr.flags|=1024),u}function Nd(){var o=qi!==0;return qi=0,o}function Cd(o,u,d){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~d}function of(o){if(Cs){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Cs=!1}Si=0,_n=gr=mr=null,po=!1,yu=qi=0,xu=null}function ma(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?mr.memoizedState=_n=o:_n=_n.next=o,_n}function Ei(){if(gr===null){var o=mr.alternate;o=o!==null?o.memoizedState:null}else o=gr.next;var u=_n===null?mr.memoizedState:_n.next;if(u!==null)_n=u,gr=o;else{if(o===null)throw mr.alternate===null?Error(n(467)):Error(n(310));gr=o,o={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},_n===null?mr.memoizedState=_n=o:_n=_n.next=o}return _n}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wu(o){var u=yu;return yu+=1,xu===null&&(xu=[]),o=lt(xu,o,u),u=mr,(_n===null?u.memoizedState:_n.next)===null&&(u=u.alternate,le.H=u===null||u.memoizedState===null?Xy:N1),o}function Ac(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return wu(o);if(o.$$typeof===R)return Oa(o)}throw Error(n(438,String(o)))}function Vu(o){var u=null,d=mr.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var g=mr.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(T){return T.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=mh(),mr.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(o),g=0;g<o;g++)d[g]=X;return u.index++,d}function cl(o,u){return typeof u=="function"?u(o):u}function lf(o){var u=Ei();return Lc(u,gr,o)}function Lc(o,u,d){var g=o.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var T=o.baseQueue,N=g.pending;if(N!==null){if(T!==null){var V=T.next;T.next=N.next,N.next=V}u.baseQueue=T=N,g.pending=null}if(N=o.baseState,T===null)o.memoizedState=N;else{u=T.next;var fe=V=null,ke=null,et=u,ct=!1;do{var vt=et.lane&-536870913;if(vt!==et.lane?(an&vt)===vt:(Si&vt)===vt){var rt=et.revertLane;if(rt===0)ke!==null&&(ke=ke.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),vt===w&&(ct=!0);else if((Si&rt)===rt){et=et.next,rt===w&&(ct=!0);continue}else vt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},ke===null?(fe=ke=vt,V=N):ke=ke.next=vt,mr.lanes|=rt,Pc|=rt;vt=et.action,ls&&d(N,vt),N=et.hasEagerState?et.eagerState:d(N,vt)}else rt={lane:vt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},ke===null?(fe=ke=rt,V=N):ke=ke.next=rt,mr.lanes|=vt,Pc|=vt;et=et.next}while(et!==null&&et!==u);if(ke===null?V=N:ke.next=fe,!xi(N,o.memoizedState)&&(ga=!0,ct&&(d=A,d!==null)))throw d;o.memoizedState=N,o.baseState=V,o.baseQueue=ke,g.lastRenderedState=N}return T===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function uf(o){var u=Ei(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var g=d.dispatch,T=d.pending,N=u.memoizedState;if(T!==null){d.pending=null;var V=T=T.next;do N=o(N,V.action),V=V.next;while(V!==T);xi(N,u.memoizedState)||(ga=!0),u.memoizedState=N,u.baseQueue===null&&(u.baseState=N),d.lastRenderedState=N}return[N,g]}function cf(o,u,d){var g=mr,T=Ei(),N=Zr;if(N){if(d===void 0)throw Error(n(407));d=d()}else d=u();var V=!xi((gr||T).memoizedState,d);if(V&&(T.memoizedState=d,ga=!0),T=T.queue,b1(kd.bind(null,g,T,o),[o]),T.getSnapshot!==u||V||_n!==null&&_n.memoizedState.tag&1){if(g.flags|=2048,Wu(9,{destroy:void 0},Md.bind(null,g,T,d,u),null),ei===null)throw Error(n(349));N||(Si&127)!==0||jl(g,u,d)}return d}function jl(o,u,d){o.flags|=16384,o={getSnapshot:u,value:d},u=mr.updateQueue,u===null?(u=mh(),mr.updateQueue=u,u.stores=[o]):(d=u.stores,d===null?u.stores=[o]:d.push(o))}function Md(o,u,d,g){u.value=d,u.getSnapshot=g,Pp(u)&&Pd(o)}function kd(o,u,d){return d(function(){Pp(u)&&Pd(o)})}function Pp(o){var u=o.getSnapshot;o=o.value;try{var d=u();return!xi(o,d)}catch{return!0}}function Pd(o){var u=Ls(o,2);u!==null&&yo(u,o,2)}function bu(o){var u=ma();if(typeof o=="function"){var d=o;if(o=d(),ls){pr(!0);try{d()}finally{pr(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:o},u}function Op(o,u,d,g){return o.baseState=d,Lc(o,gr,typeof g=="function"?g:cl)}function Rp(o,u,d,g,T){if(Fp(o))throw Error(n(485));if(o=u.action,o!==null){var N={payload:T,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){N.listeners.push(V)}};le.T!==null?d(!0):N.isTransition=!1,g(N),d=u.pending,d===null?(N.next=u.pending=N,Dp(u,N)):(N.next=d.next,u.pending=d.next=N)}}function Dp(o,u){var d=u.action,g=u.payload,T=o.state;if(u.isTransition){var N=le.T,V={};le.T=V;try{var fe=d(T,g),ke=le.S;ke!==null&&ke(V,fe),Od(o,u,fe)}catch(et){$u(o,u,et)}finally{N!==null&&V.types!==null&&(N.types=V.types),le.T=N}}else try{N=d(T,g),Od(o,u,N)}catch(et){$u(o,u,et)}}function Od(o,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){jp(o,u,g)},function(g){return $u(o,u,g)}):jp(o,u,d)}function jp(o,u,d){u.status="fulfilled",u.value=d,hf(u),o.state=d,u=o.pending,u!==null&&(d=u.next,d===u?o.pending=null:(d=d.next,u.next=d,Dp(o,d)))}function $u(o,u,d){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=d,hf(u),u=u.next;while(u!==g)}o.action=null}function hf(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function gh(o,u){return u}function hl(o,u){if(Zr){var d=ei.formState;if(d!==null){e:{var g=mr;if(Zr){if(mn){t:{for(var T=mn,N=si;T.nodeType!==8;){if(!N){T=null;break t}if(T=fl(T.nextSibling),T===null){T=null;break t}}N=T.data,T=N==="F!"||N==="F"?T:null}if(T){mn=fl(T.nextSibling),g=T.data==="F!";break e}}ul(g)}g=!1}g&&(u=d[0])}}return d=ma(),d.memoizedState=d.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gh,lastRenderedState:u},d.queue=g,d=Zy.bind(null,mr,g),g.dispatch=d,g=bu(!1),N=L1.bind(null,mr,!1,g.queue),g=ma(),T={state:u,dispatch:null,action:o,pending:null},g.queue=T,d=Rp.bind(null,mr,T,N,d),T.dispatch=d,g.memoizedState=o,[u,d,!1]}function Il(o){var u=Ei();return Fl(u,gr,o)}function Fl(o,u,d){if(u=Lc(o,u,gh)[0],o=lf(cl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=wu(u)}catch(V){throw V===je?Ee:V}else g=u;u=Ei();var T=u.queue,N=T.dispatch;return d!==u.memoizedState&&(mr.flags|=2048,Wu(9,{destroy:void 0},ff.bind(null,T,d),null)),[g,N,o]}function ff(o,u){o.action=u}function df(o){var u=Ei(),d=gr;if(d!==null)return Fl(u,d,o);Ei(),u=u.memoizedState,d=Ei();var g=d.queue.dispatch;return d.memoizedState=o,[u,g,!1]}function Wu(o,u,d,g){return o={tag:o,create:d,deps:g,inst:u,next:null},u=mr.updateQueue,u===null&&(u=mh(),mr.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,u.lastEffect=o),o}function Ip(){return Ei().memoizedState}function Nc(o,u,d,g){var T=ma();mr.flags|=o,T.memoizedState=Wu(1|u,{destroy:void 0},d,g===void 0?null:g)}function Cc(o,u,d,g){var T=Ei();g=g===void 0?null:g;var N=T.memoizedState.inst;gr!==null&&g!==null&&Ad(g,gr.memoizedState.deps)?T.memoizedState=Wu(u,N,d,g):(mr.flags|=o,T.memoizedState=Wu(1|u,N,d,g))}function Ry(o,u){Nc(8390656,8,o,u)}function b1(o,u){Cc(2048,8,o,u)}function wT(o){mr.flags|=4;var u=mr.updateQueue;if(u===null)u=mh(),mr.updateQueue=u,u.events=[o];else{var d=u.events;d===null?u.events=[o]:d.push(o)}}function Dy(o){var u=Ei().memoizedState;return wT({ref:u,nextImpl:o}),function(){if((Nn&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function jy(o,u){return Cc(4,2,o,u)}function Iy(o,u){return Cc(4,4,o,u)}function Fy(o,u){if(typeof u=="function"){o=o();var d=u(o);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function By(o,u,d){d=d!=null?d.concat([o]):null,Cc(4,4,Fy.bind(null,u,o),d)}function S1(){}function Uy(o,u){var d=Ei();u=u===void 0?null:u;var g=d.memoizedState;return u!==null&&Ad(u,g[1])?g[0]:(d.memoizedState=[o,u],o)}function zy(o,u){var d=Ei();u=u===void 0?null:u;var g=d.memoizedState;if(u!==null&&Ad(u,g[1]))return g[0];if(g=o(),ls){pr(!0);try{o()}finally{pr(!1)}}return d.memoizedState=[g,u],g}function E1(o,u,d){return d===void 0||(Si&1073741824)!==0&&(an&261930)===0?o.memoizedState=u:(o.memoizedState=d,o=Gx(),mr.lanes|=o,Pc|=o,d)}function Gy(o,u,d,g){return xi(d,u)?d:$r.current!==null?(o=E1(o,d,g),xi(o,u)||(ga=!0),o):(Si&42)===0||(Si&1073741824)!==0&&(an&261930)===0?(ga=!0,o.memoizedState=d):(o=Gx(),mr.lanes|=o,Pc|=o,u)}function Hy(o,u,d,g,T){var N=be.p;be.p=N!==0&&8>N?N:8;var V=le.T,fe={};le.T=fe,L1(o,!1,u,d);try{var ke=T(),et=le.S;if(et!==null&&et(fe,ke),ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var ct=te(ke,g);Rd(o,u,ct,qo(o))}else Rd(o,u,g,qo(o))}catch(vt){Rd(o,u,{then:function(){},status:"rejected",reason:vt},qo())}finally{be.p=N,V!==null&&fe.types!==null&&(V.types=fe.types),le.T=V}}function bT(){}function T1(o,u,d,g){if(o.tag!==5)throw Error(n(476));var T=qy(o).queue;Hy(o,T,u,_e,d===null?bT:function(){return Vy(o),d(g)})}function qy(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:_e},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:d},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function Vy(o){var u=qy(o);u.next===null&&(u=o.alternate.memoizedState),Rd(o,u.next.queue,{},qo())}function A1(){return Oa(Xd)}function $y(){return Ei().memoizedState}function Wy(){return Ei().memoizedState}function ST(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var d=qo();o=Sr(d);var g=zr(u,o,d);g!==null&&(yo(g,u,d),An(g,u,d)),u={cache:Tc()},o.payload=u;return}u=u.return}}function ET(o,u,d){var g=qo();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Fp(o)?Yy(u,d):(d=wc(o,u,d,g),d!==null&&(yo(d,o,g),Ky(d,u,g)))}function Zy(o,u,d){var g=qo();Rd(o,u,d,g)}function Rd(o,u,d,g){var T={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Fp(o))Yy(u,T);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=u.lastRenderedReducer,N!==null))try{var V=u.lastRenderedState,fe=N(V,d);if(T.hasEagerState=!0,T.eagerState=fe,xi(fe,V))return Bo(o,u,T,0),ei===null&&cu(),!1}catch{}if(d=wc(o,u,T,g),d!==null)return yo(d,o,g),Ky(d,u,g),!0}return!1}function L1(o,u,d,g){if(g={lane:2,revertLane:av(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Fp(o)){if(u)throw Error(n(479))}else u=wc(o,d,g,2),u!==null&&yo(u,o,2)}function Fp(o){var u=o.alternate;return o===mr||u!==null&&u===mr}function Yy(o,u){po=Cs=!0;var d=o.pending;d===null?u.next=u:(u.next=d.next,d.next=u),o.pending=u}function Ky(o,u,d){if((d&4194048)!==0){var g=u.lanes;g&=o.pendingLanes,d|=g,u.lanes=d,Ce(o,d)}}var Dd={readContext:Oa,use:Ac,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n};Dd.useEffectEvent=$n;var Xy={readContext:Oa,use:Ac,useCallback:function(o,u){return ma().memoizedState=[o,u===void 0?null:u],o},useContext:Oa,useEffect:Ry,useImperativeHandle:function(o,u,d){d=d!=null?d.concat([o]):null,Nc(4194308,4,Fy.bind(null,u,o),d)},useLayoutEffect:function(o,u){return Nc(4194308,4,o,u)},useInsertionEffect:function(o,u){Nc(4,2,o,u)},useMemo:function(o,u){var d=ma();u=u===void 0?null:u;var g=o();if(ls){pr(!0);try{o()}finally{pr(!1)}}return d.memoizedState=[g,u],g},useReducer:function(o,u,d){var g=ma();if(d!==void 0){var T=d(u);if(ls){pr(!0);try{d(u)}finally{pr(!1)}}}else T=u;return g.memoizedState=g.baseState=T,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:T},g.queue=o,o=o.dispatch=ET.bind(null,mr,o),[g.memoizedState,o]},useRef:function(o){var u=ma();return o={current:o},u.memoizedState=o},useState:function(o){o=bu(o);var u=o.queue,d=Zy.bind(null,mr,u);return u.dispatch=d,[o.memoizedState,d]},useDebugValue:S1,useDeferredValue:function(o,u){var d=ma();return E1(d,o,u)},useTransition:function(){var o=bu(!1);return o=Hy.bind(null,mr,o.queue,!0,!1),ma().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,d){var g=mr,T=ma();if(Zr){if(d===void 0)throw Error(n(407));d=d()}else{if(d=u(),ei===null)throw Error(n(349));(an&127)!==0||jl(g,u,d)}T.memoizedState=d;var N={value:d,getSnapshot:u};return T.queue=N,Ry(kd.bind(null,g,N,o),[o]),g.flags|=2048,Wu(9,{destroy:void 0},Md.bind(null,g,N,d,u),null),d},useId:function(){var o=ma(),u=ei.identifierPrefix;if(Zr){var d=kt,g=pt;d=(g&~(1<<32-Dr(g)-1)).toString(32)+d,u="_"+u+"R_"+d,d=qi++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=af++,u="_"+u+"r_"+d.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:A1,useFormState:hl,useActionState:hl,useOptimistic:function(o){var u=ma();u.memoizedState=u.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=L1.bind(null,mr,!0,d),d.dispatch=u,[o,u]},useMemoCache:Vu,useCacheRefresh:function(){return ma().memoizedState=ST.bind(null,mr)},useEffectEvent:function(o){var u=ma(),d={impl:o};return u.memoizedState=d,function(){if((Nn&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},N1={readContext:Oa,use:Ac,useCallback:Uy,useContext:Oa,useEffect:b1,useImperativeHandle:By,useInsertionEffect:jy,useLayoutEffect:Iy,useMemo:zy,useReducer:lf,useRef:Ip,useState:function(){return lf(cl)},useDebugValue:S1,useDeferredValue:function(o,u){var d=Ei();return Gy(d,gr.memoizedState,o,u)},useTransition:function(){var o=lf(cl)[0],u=Ei().memoizedState;return[typeof o=="boolean"?o:wu(o),u]},useSyncExternalStore:cf,useId:$y,useHostTransitionStatus:A1,useFormState:Il,useActionState:Il,useOptimistic:function(o,u){var d=Ei();return Op(d,gr,o,u)},useMemoCache:Vu,useCacheRefresh:Wy};N1.useEffectEvent=Dy;var Jy={readContext:Oa,use:Ac,useCallback:Uy,useContext:Oa,useEffect:b1,useImperativeHandle:By,useInsertionEffect:jy,useLayoutEffect:Iy,useMemo:zy,useReducer:uf,useRef:Ip,useState:function(){return uf(cl)},useDebugValue:S1,useDeferredValue:function(o,u){var d=Ei();return gr===null?E1(d,o,u):Gy(d,gr.memoizedState,o,u)},useTransition:function(){var o=uf(cl)[0],u=Ei().memoizedState;return[typeof o=="boolean"?o:wu(o),u]},useSyncExternalStore:cf,useId:$y,useHostTransitionStatus:A1,useFormState:df,useActionState:df,useOptimistic:function(o,u){var d=Ei();return gr!==null?Op(d,gr,o,u):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:Vu,useCacheRefresh:Wy};Jy.useEffectEvent=Dy;function C1(o,u,d,g){u=o.memoizedState,d=d(g,u),d=d==null?u:v({},u,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var M1={enqueueSetState:function(o,u,d){o=o._reactInternals;var g=qo(),T=Sr(g);T.payload=u,d!=null&&(T.callback=d),u=zr(o,T,g),u!==null&&(yo(u,o,g),An(u,o,g))},enqueueReplaceState:function(o,u,d){o=o._reactInternals;var g=qo(),T=Sr(g);T.tag=1,T.payload=u,d!=null&&(T.callback=d),u=zr(o,T,g),u!==null&&(yo(u,o,g),An(u,o,g))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var d=qo(),g=Sr(d);g.tag=2,u!=null&&(g.callback=u),u=zr(o,g,d),u!==null&&(yo(u,o,d),An(u,o,d))}};function Qy(o,u,d,g,T,N,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,N,V):u.prototype&&u.prototype.isPureReactComponent?!so(d,g)||!so(T,N):!0}function ex(o,u,d,g){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==o&&M1.enqueueReplaceState(u,u.state,null)}function vh(o,u){var d=u;if("ref"in u){d={};for(var g in u)g!=="ref"&&(d[g]=u[g])}if(o=o.defaultProps){d===u&&(d=v({},d));for(var T in o)d[T]===void 0&&(d[T]=o[T])}return d}function tx(o){uu(o)}function rx(o){console.error(o)}function nx(o){uu(o)}function Bp(o,u){try{var d=o.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function ix(o,u,d){try{var g=o.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function k1(o,u,d){return d=Sr(d),d.tag=3,d.payload={element:null},d.callback=function(){Bp(o,u)},d}function ax(o){return o=Sr(o),o.tag=3,o}function sx(o,u,d,g){var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var N=g.value;o.payload=function(){return T(N)},o.callback=function(){ix(u,d,g)}}var V=d.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(o.callback=function(){ix(u,d,g),typeof T!="function"&&(Oc===null?Oc=new Set([this]):Oc.add(this));var fe=g.stack;this.componentDidCatch(g.value,{componentStack:fe!==null?fe:""})})}function TT(o,u,d,g,T){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=d.alternate,u!==null&&vu(u,d,T,!0),d=mi.current,d!==null){switch(d.tag){case 31:case 13:return vn===null?Xp():d.alternate===null&&Vi===0&&(Vi=3),d.flags&=-257,d.flags|=65536,d.lanes=T,g===He?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([g]):u.add(g),rv(o,g,T)),!1;case 22:return d.flags|=65536,g===He?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([g]):d.add(g)),rv(o,g,T)),!1}throw Error(n(435,d.tag))}return rv(o,g,T),Xp(),!1}if(Zr)return u=mi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=T,g!==Ns&&(o=Error(n(422),{cause:g}),pu(m(o,d)))):(g!==Ns&&(u=Error(n(423),{cause:g}),pu(m(u,d))),o=o.current.alternate,o.flags|=65536,T&=-T,o.lanes|=T,g=m(g,d),T=k1(o.stateNode,g,T),sa(o,T),Vi!==4&&(Vi=2)),!1;var N=Error(n(520),{cause:g});if(N=m(N,d),Hd===null?Hd=[N]:Hd.push(N),Vi!==4&&(Vi=2),u===null)return!0;g=m(g,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,o=T&-T,d.lanes|=o,o=k1(d.stateNode,g,o),sa(d,o),!1;case 1:if(u=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Oc===null||!Oc.has(N))))return d.flags|=65536,T&=-T,d.lanes|=T,T=ax(T),sx(T,o,d,g),sa(d,T),!1}d=d.return}while(d!==null);return!1}var P1=Error(n(461)),ga=!1;function us(o,u,d,g){u.child=o===null?jr(u,null,d,g):Qn(u,o.child,d,g)}function ox(o,u,d,g,T){d=d.render;var N=u.ref;if("ref"in g){var V={};for(var fe in g)fe!=="ref"&&(V[fe]=g[fe])}else V=g;return _u(u),g=Ld(o,u,d,V,N,T),fe=Nd(),o!==null&&!ga?(Cd(o,u,T),Zu(o,u,T)):(Zr&&fe&&aa(u),u.flags|=1,us(o,u,g,T),u.child)}function lx(o,u,d,g,T){if(o===null){var N=d.type;return typeof N=="function"&&!Gu(N)&&N.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=N,ux(o,u,N,g,T)):(o=Ol(d.type,null,g,u,u.mode,T),o.ref=u.ref,o.return=u,u.child=o)}if(N=o.child,!U1(o,T)){var V=N.memoizedProps;if(d=d.compare,d=d!==null?d:so,d(V,g)&&o.ref===u.ref)return Zu(o,u,T)}return u.flags|=1,o=ss(N,g),o.ref=u.ref,o.return=u,u.child=o}function ux(o,u,d,g,T){if(o!==null){var N=o.memoizedProps;if(so(N,g)&&o.ref===u.ref)if(ga=!1,u.pendingProps=g=N,U1(o,T))(o.flags&131072)!==0&&(ga=!0);else return u.lanes=o.lanes,Zu(o,u,T)}return O1(o,u,d,g,T)}function cx(o,u,d,g){var T=g.children,N=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,o!==null){for(g=u.child=o.child,T=0;g!==null;)T=T|g.lanes|g.childLanes,g=g.sibling;g=T&~N}else g=0,u.child=null;return hx(o,u,N,d,g)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&ye(u,N!==null?N.cachePool:null),N!==null?pi(u,N):yn(),Gi(u);else return g=u.lanes=536870912,hx(o,u,N!==null?N.baseLanes|d:d,d,g)}else N!==null?(ye(u,N.cachePool),pi(u,N),Hi(),u.memoizedState=null):(o!==null&&ye(u,null),yn(),Hi());return us(o,u,T,d),u.child}function jd(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function hx(o,u,d,g,T){var N=ge();return N=N===null?null:{parent:Ri._currentValue,pool:N},u.memoizedState={baseLanes:d,cachePool:N},o!==null&&ye(u,null),yn(),Gi(u),o!==null&&vu(o,u,g,!0),u.childLanes=T,null}function Up(o,u){return u=Gp({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function fx(o,u,d){return Qn(u,o.child,null,d),o=Up(u,u.pendingProps),o.flags|=2,In(u),u.memoizedState=null,o}function AT(o,u,d){var g=u.pendingProps,T=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(Zr){if(g.mode==="hidden")return o=Up(u,g),u.lanes=536870912,jd(null,o);if(Ln(u),(o=mn)?(o=Ew(o,si),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:tt!==null?{id:pt,overflow:kt}:null,retryLane:536870912,hydrationErrors:null},d=Hu(o),d.return=u,u.child=d,pn=u,mn=null)):o=null,o===null)throw ul(u);return u.lanes=536870912,null}return Up(u,g)}var N=o.memoizedState;if(N!==null){var V=N.dehydrated;if(Ln(u),T)if(u.flags&256)u.flags&=-257,u=fx(o,u,d);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(n(558));else if(ga||vu(o,u,d,!1),T=(d&o.childLanes)!==0,ga||T){if(g=ei,g!==null&&(V=Ge(g,d),V!==0&&V!==N.retryLane))throw N.retryLane=V,Ls(o,V),yo(g,o,V),P1;Xp(),u=fx(o,u,d)}else o=N.treeContext,mn=fl(V.nextSibling),pn=u,Zr=!0,Pa=null,si=!1,o!==null&&os(u,o),u=Up(u,g),u.flags|=4096;return u}return o=ss(o.child,{mode:g.mode,children:g.children}),o.ref=u.ref,u.child=o,o.return=u,o}function zp(o,u){var d=u.ref;if(d===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(o===null||o.ref!==d)&&(u.flags|=4194816)}}function O1(o,u,d,g,T){return _u(u),d=Ld(o,u,d,g,void 0,T),g=Nd(),o!==null&&!ga?(Cd(o,u,T),Zu(o,u,T)):(Zr&&g&&aa(u),u.flags|=1,us(o,u,d,T),u.child)}function dx(o,u,d,g,T,N){return _u(u),u.updateQueue=null,d=Dl(u,g,d,T),sf(o),g=Nd(),o!==null&&!ga?(Cd(o,u,N),Zu(o,u,N)):(Zr&&g&&aa(u),u.flags|=1,us(o,u,d,N),u.child)}function px(o,u,d,g,T){if(_u(u),u.stateNode===null){var N=Bi,V=d.contextType;typeof V=="object"&&V!==null&&(N=Oa(V)),N=new d(g,N),u.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=M1,u.stateNode=N,N._reactInternals=u,N=u.stateNode,N.props=g,N.state=u.memoizedState,N.refs={},Rt(u),V=d.contextType,N.context=typeof V=="object"&&V!==null?Oa(V):Bi,N.state=u.memoizedState,V=d.getDerivedStateFromProps,typeof V=="function"&&(C1(u,d,V,g),N.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(V=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),V!==N.state&&M1.enqueueReplaceState(N,N.state,null),Ui(u,g,N,T),Vn(),N.state=u.memoizedState),typeof N.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(o===null){N=u.stateNode;var fe=u.memoizedProps,ke=vh(d,fe);N.props=ke;var et=N.context,ct=d.contextType;V=Bi,typeof ct=="object"&&ct!==null&&(V=Oa(ct));var vt=d.getDerivedStateFromProps;ct=typeof vt=="function"||typeof N.getSnapshotBeforeUpdate=="function",fe=u.pendingProps!==fe,ct||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(fe||et!==V)&&ex(u,N,g,V),qt=!1;var rt=u.memoizedState;N.state=rt,Ui(u,g,N,T),Vn(),et=u.memoizedState,fe||rt!==et||qt?(typeof vt=="function"&&(C1(u,d,vt,g),et=u.memoizedState),(ke=qt||Qy(u,d,ke,g,rt,et,V))?(ct||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(u.flags|=4194308)):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=et),N.props=g,N.state=et,N.context=V,g=ke):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{N=u.stateNode,di(o,u),V=u.memoizedProps,ct=vh(d,V),N.props=ct,vt=u.pendingProps,rt=N.context,et=d.contextType,ke=Bi,typeof et=="object"&&et!==null&&(ke=Oa(et)),fe=d.getDerivedStateFromProps,(et=typeof fe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==vt||rt!==ke)&&ex(u,N,g,ke),qt=!1,rt=u.memoizedState,N.state=rt,Ui(u,g,N,T),Vn();var nt=u.memoizedState;V!==vt||rt!==nt||qt||o!==null&&o.dependencies!==null&&tf(o.dependencies)?(typeof fe=="function"&&(C1(u,d,fe,g),nt=u.memoizedState),(ct=qt||Qy(u,d,ct,g,rt,nt,ke)||o!==null&&o.dependencies!==null&&tf(o.dependencies))?(et||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,nt,ke),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,nt,ke)),typeof N.componentDidUpdate=="function"&&(u.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===o.memoizedProps&&rt===o.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&rt===o.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=nt),N.props=g,N.state=nt,N.context=ke,g=ct):(typeof N.componentDidUpdate!="function"||V===o.memoizedProps&&rt===o.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&rt===o.memoizedState||(u.flags|=1024),g=!1)}return N=g,zp(o,u),g=(u.flags&128)!==0,N||g?(N=u.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:N.render(),u.flags|=1,o!==null&&g?(u.child=Qn(u,o.child,null,T),u.child=Qn(u,null,d,T)):us(o,u,d,T),u.memoizedState=N.state,o=u.child):o=Zu(o,u,T),o}function mx(o,u,d,g){return Rl(),u.flags|=256,us(o,u,d,g),u.child}var R1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function D1(o){return{baseLanes:o,cachePool:Te()}}function j1(o,u,d){return o=o!==null?o.childLanes&~d:0,u&&(o|=Ho),o}function gx(o,u,d){var g=u.pendingProps,T=!1,N=(u.flags&128)!==0,V;if((V=N)||(V=o!==null&&o.memoizedState===null?!1:(fn.current&2)!==0),V&&(T=!0,u.flags&=-129),V=(u.flags&32)!==0,u.flags&=-33,o===null){if(Zr){if(T?Di(u):Hi(),(o=mn)?(o=Ew(o,si),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:tt!==null?{id:pt,overflow:kt}:null,retryLane:536870912,hydrationErrors:null},d=Hu(o),d.return=u,u.child=d,pn=u,mn=null)):o=null,o===null)throw ul(u);return _v(o)?u.lanes=32:u.lanes=536870912,null}var fe=g.children;return g=g.fallback,T?(Hi(),T=u.mode,fe=Gp({mode:"hidden",children:fe},T),g=ll(g,T,d,null),fe.return=u,g.return=u,fe.sibling=g,u.child=fe,g=u.child,g.memoizedState=D1(d),g.childLanes=j1(o,V,d),u.memoizedState=R1,jd(null,g)):(Di(u),I1(u,fe))}var ke=o.memoizedState;if(ke!==null&&(fe=ke.dehydrated,fe!==null)){if(N)u.flags&256?(Di(u),u.flags&=-257,u=F1(o,u,d)):u.memoizedState!==null?(Hi(),u.child=o.child,u.flags|=128,u=null):(Hi(),fe=g.fallback,T=u.mode,g=Gp({mode:"visible",children:g.children},T),fe=ll(fe,T,d,null),fe.flags|=2,g.return=u,fe.return=u,g.sibling=fe,u.child=g,Qn(u,o.child,null,d),g=u.child,g.memoizedState=D1(d),g.childLanes=j1(o,V,d),u.memoizedState=R1,u=jd(null,g));else if(Di(u),_v(fe)){if(V=fe.nextSibling&&fe.nextSibling.dataset,V)var et=V.dgst;V=et,g=Error(n(419)),g.stack="",g.digest=V,pu({value:g,source:null,stack:null}),u=F1(o,u,d)}else if(ga||vu(o,u,d,!1),V=(d&o.childLanes)!==0,ga||V){if(V=ei,V!==null&&(g=Ge(V,d),g!==0&&g!==ke.retryLane))throw ke.retryLane=g,Ls(o,g),yo(V,o,g),P1;vv(fe)||Xp(),u=F1(o,u,d)}else vv(fe)?(u.flags|=192,u.child=o.child,u=null):(o=ke.treeContext,mn=fl(fe.nextSibling),pn=u,Zr=!0,Pa=null,si=!1,o!==null&&os(u,o),u=I1(u,g.children),u.flags|=4096);return u}return T?(Hi(),fe=g.fallback,T=u.mode,ke=o.child,et=ke.sibling,g=ss(ke,{mode:"hidden",children:g.children}),g.subtreeFlags=ke.subtreeFlags&65011712,et!==null?fe=ss(et,fe):(fe=ll(fe,T,d,null),fe.flags|=2),fe.return=u,g.return=u,g.sibling=fe,u.child=g,jd(null,g),g=u.child,fe=o.child.memoizedState,fe===null?fe=D1(d):(T=fe.cachePool,T!==null?(ke=Ri._currentValue,T=T.parent!==ke?{parent:ke,pool:ke}:T):T=Te(),fe={baseLanes:fe.baseLanes|d,cachePool:T}),g.memoizedState=fe,g.childLanes=j1(o,V,d),u.memoizedState=R1,jd(o.child,g)):(Di(u),d=o.child,o=d.sibling,d=ss(d,{mode:"visible",children:g.children}),d.return=u,d.sibling=null,o!==null&&(V=u.deletions,V===null?(u.deletions=[o],u.flags|=16):V.push(o)),u.child=d,u.memoizedState=null,d)}function I1(o,u){return u=Gp({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Gp(o,u){return o=ia(22,o,null,u),o.lanes=0,o}function F1(o,u,d){return Qn(u,o.child,null,d),o=I1(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function vx(o,u,d){o.lanes|=u;var g=o.alternate;g!==null&&(g.lanes|=u),Ec(o.return,u,d)}function B1(o,u,d,g,T,N){var V=o.memoizedState;V===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:T,treeForkCount:N}:(V.isBackwards=u,V.rendering=null,V.renderingStartTime=0,V.last=g,V.tail=d,V.tailMode=T,V.treeForkCount=N)}function _x(o,u,d){var g=u.pendingProps,T=g.revealOrder,N=g.tail;g=g.children;var V=fn.current,fe=(V&2)!==0;if(fe?(V=V&1|2,u.flags|=128):V&=1,H(fn,V),us(o,u,g,d),g=Zr?se:0,!fe&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vx(o,d,u);else if(o.tag===19)vx(o,d,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(T){case"forwards":for(d=u.child,T=null;d!==null;)o=d.alternate,o!==null&&qa(o)===null&&(T=d),d=d.sibling;d=T,d===null?(T=u.child,u.child=null):(T=d.sibling,d.sibling=null),B1(u,!1,T,d,N,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,T=u.child,u.child=null;T!==null;){if(o=T.alternate,o!==null&&qa(o)===null){u.child=T;break}o=T.sibling,T.sibling=d,d=T,T=o}B1(u,!0,d,null,N,g);break;case"together":B1(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function Zu(o,u,d){if(o!==null&&(u.dependencies=o.dependencies),Pc|=u.lanes,(d&u.childLanes)===0)if(o!==null){if(vu(o,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,d=ss(o,o.pendingProps),u.child=d,d.return=u;o.sibling!==null;)o=o.sibling,d=d.sibling=ss(o,o.pendingProps),d.return=u;d.sibling=null}return u.child}function U1(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&tf(o)))}function LT(o,u,d){switch(u.tag){case 3:Oe(u,u.stateNode.containerInfo),gu(u,Ri,o.memoizedState.cache),Rl();break;case 27:case 5:Ie(u);break;case 4:Oe(u,u.stateNode.containerInfo);break;case 10:gu(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Ln(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Di(u),u.flags|=128,null):(d&u.child.childLanes)!==0?gx(o,u,d):(Di(u),o=Zu(o,u,d),o!==null?o.sibling:null);Di(u);break;case 19:var T=(o.flags&128)!==0;if(g=(d&u.childLanes)!==0,g||(vu(o,u,d,!1),g=(d&u.childLanes)!==0),T){if(g)return _x(o,u,d);u.flags|=128}if(T=u.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),H(fn,fn.current),g)break;return null;case 22:return u.lanes=0,cx(o,u,d,u.pendingProps);case 24:gu(u,Ri,o.memoizedState.cache)}return Zu(o,u,d)}function yx(o,u,d){if(o!==null)if(o.memoizedProps!==u.pendingProps)ga=!0;else{if(!U1(o,d)&&(u.flags&128)===0)return ga=!1,LT(o,u,d);ga=(o.flags&131072)!==0}else ga=!1,Zr&&(u.flags&1048576)!==0&&Ur(u,se,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(o=Xe(u.elementType),u.type=o,typeof o=="function")Gu(o)?(g=vh(o,g),u.tag=1,u=px(null,u,o,g,d)):(u.tag=0,u=O1(null,u,o,g,d));else{if(o!=null){var T=o.$$typeof;if(T===B){u.tag=11,u=ox(null,u,o,g,d);break e}else if(T===F){u.tag=14,u=lx(null,u,o,g,d);break e}}throw u=pe(o)||o,Error(n(306,u,""))}}return u;case 0:return O1(o,u,u.type,u.pendingProps,d);case 1:return g=u.type,T=vh(g,u.pendingProps),px(o,u,g,T,d);case 3:e:{if(Oe(u,u.stateNode.containerInfo),o===null)throw Error(n(387));g=u.pendingProps;var N=u.memoizedState;T=N.element,di(o,u),Ui(u,g,null,d);var V=u.memoizedState;if(g=V.cache,gu(u,Ri,g),g!==N.cache&&qu(u,[Ri],d,!0),Vn(),g=V.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:V.cache},u.updateQueue.baseState=N,u.memoizedState=N,u.flags&256){u=mx(o,u,g,d);break e}else if(g!==T){T=m(Error(n(424)),u),pu(T),u=mx(o,u,g,d);break e}else for(o=u.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,mn=fl(o.firstChild),pn=u,Zr=!0,Pa=null,si=!0,d=jr(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Rl(),g===T){u=Zu(o,u,d);break e}us(o,u,g,d)}u=u.child}return u;case 26:return zp(o,u),o===null?(d=Mw(u.type,null,u.pendingProps,null))?u.memoizedState=d:Zr||(d=u.type,o=u.pendingProps,g=im(oe.current).createElement(d),g[ie]=u,g[he]=o,cs(g,d,o),Bt(g),u.stateNode=g):u.memoizedState=Mw(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ie(u),o===null&&Zr&&(g=u.stateNode=Lw(u.type,u.pendingProps,oe.current),pn=u,si=!0,T=mn,Ic(u.type)?(yv=T,mn=fl(g.firstChild)):mn=T),us(o,u,u.pendingProps.children,d),zp(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Zr&&((T=g=mn)&&(g=nA(g,u.type,u.pendingProps,si),g!==null?(u.stateNode=g,pn=u,mn=fl(g.firstChild),si=!1,T=!0):T=!1),T||ul(u)),Ie(u),T=u.type,N=u.pendingProps,V=o!==null?o.memoizedProps:null,g=N.children,pv(T,N)?g=null:V!==null&&pv(T,V)&&(u.flags|=32),u.memoizedState!==null&&(T=Ld(o,u,w1,null,null,d),Xd._currentValue=T),zp(o,u),us(o,u,g,d),u.child;case 6:return o===null&&Zr&&((o=d=mn)&&(d=iA(d,u.pendingProps,si),d!==null?(u.stateNode=d,pn=u,mn=null,o=!0):o=!1),o||ul(u)),null;case 13:return gx(o,u,d);case 4:return Oe(u,u.stateNode.containerInfo),g=u.pendingProps,o===null?u.child=Qn(u,null,g,d):us(o,u,g,d),u.child;case 11:return ox(o,u,u.type,u.pendingProps,d);case 7:return us(o,u,u.pendingProps,d),u.child;case 8:return us(o,u,u.pendingProps.children,d),u.child;case 12:return us(o,u,u.pendingProps.children,d),u.child;case 10:return g=u.pendingProps,gu(u,u.type,g.value),us(o,u,g.children,d),u.child;case 9:return T=u.type._context,g=u.pendingProps.children,_u(u),T=Oa(T),g=g(T),u.flags|=1,us(o,u,g,d),u.child;case 14:return lx(o,u,u.type,u.pendingProps,d);case 15:return ux(o,u,u.type,u.pendingProps,d);case 19:return _x(o,u,d);case 31:return AT(o,u,d);case 22:return cx(o,u,d,u.pendingProps);case 24:return _u(u),g=Oa(Ri),o===null?(T=ge(),T===null&&(T=ei,N=Tc(),T.pooledCache=N,N.refCount++,N!==null&&(T.pooledCacheLanes|=d),T=N),u.memoizedState={parent:g,cache:T},Rt(u),gu(u,Ri,T)):((o.lanes&d)!==0&&(di(o,u),Ui(u,null,null,d),Vn()),T=o.memoizedState,N=u.memoizedState,T.parent!==g?(T={parent:g,cache:g},u.memoizedState=T,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=T),gu(u,Ri,g)):(g=N.cache,gu(u,Ri,g),g!==T.cache&&qu(u,[Ri],d,!0))),us(o,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function Yu(o){o.flags|=4}function z1(o,u,d,g,T){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(T&335544128)===T)if(o.stateNode.complete)o.flags|=8192;else if($x())o.flags|=8192;else throw st=He,Je}else o.flags&=-16777217}function xx(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Dw(u))if($x())o.flags|=8192;else throw st=He,Je}function Hp(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Ji():536870912,o.lanes|=u,vf|=u)}function Id(o,u){if(!Zr)switch(o.tailMode){case"hidden":u=o.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function gi(o){var u=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(u)for(var T=o.child;T!==null;)d|=T.lanes|T.childLanes,g|=T.subtreeFlags&65011712,g|=T.flags&65011712,T.return=o,T=T.sibling;else for(T=o.child;T!==null;)d|=T.lanes|T.childLanes,g|=T.subtreeFlags,g|=T.flags,T.return=o,T=T.sibling;return o.subtreeFlags|=g,o.childLanes=d,u}function NT(o,u,d){var g=u.pendingProps;switch(fi(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(u),null;case 1:return gi(u),null;case 3:return d=u.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),fo(Ri),Re(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(bi(u)?Yu(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,fh())),gi(u),null;case 26:var T=u.type,N=u.memoizedState;return o===null?(Yu(u),N!==null?(gi(u),xx(u,N)):(gi(u),z1(u,T,null,g,d))):N?N!==o.memoizedState?(Yu(u),gi(u),xx(u,N)):(gi(u),u.flags&=-16777217):(o=o.memoizedProps,o!==g&&Yu(u),gi(u),z1(u,T,o,g,d)),null;case 27:if(ot(u),d=oe.current,T=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==g&&Yu(u);else{if(!g){if(u.stateNode===null)throw Error(n(166));return gi(u),null}o=q.current,bi(u)?Sc(u):(o=Lw(T,g,d),u.stateNode=o,Yu(u))}return gi(u),null;case 5:if(ot(u),T=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==g&&Yu(u);else{if(!g){if(u.stateNode===null)throw Error(n(166));return gi(u),null}if(N=q.current,bi(u))Sc(u);else{var V=im(oe.current);switch(N){case 1:N=V.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:N=V.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":N=V.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":N=V.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":N=V.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof g.is=="string"?V.createElement("select",{is:g.is}):V.createElement("select"),g.multiple?N.multiple=!0:g.size&&(N.size=g.size);break;default:N=typeof g.is=="string"?V.createElement(T,{is:g.is}):V.createElement(T)}}N[ie]=u,N[he]=g;e:for(V=u.child;V!==null;){if(V.tag===5||V.tag===6)N.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===u)break e;for(;V.sibling===null;){if(V.return===null||V.return===u)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}u.stateNode=N;e:switch(cs(N,T,g),T){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Yu(u)}}return gi(u),z1(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,d),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==g&&Yu(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(n(166));if(o=oe.current,bi(u)){if(o=u.stateNode,d=u.memoizedProps,g=null,T=pn,T!==null)switch(T.tag){case 27:case 5:g=T.memoizedProps}o[ie]=u,o=!!(o.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||gw(o.nodeValue,d)),o||ul(u,!0)}else o=im(o).createTextNode(g),o[ie]=u,u.stateNode=o}return gi(u),null;case 31:if(d=u.memoizedState,o===null||o.memoizedState!==null){if(g=bi(u),d!==null){if(o===null){if(!g)throw Error(n(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[ie]=u}else Rl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;gi(u),o=!1}else d=fh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return u.flags&256?(In(u),u):(In(u),null);if((u.flags&128)!==0)throw Error(n(558))}return gi(u),null;case 13:if(g=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(T=bi(u),g!==null&&g.dehydrated!==null){if(o===null){if(!T)throw Error(n(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[ie]=u}else Rl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;gi(u),T=!1}else T=fh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=T),T=!0;if(!T)return u.flags&256?(In(u),u):(In(u),null)}return In(u),(u.flags&128)!==0?(u.lanes=d,u):(d=g!==null,o=o!==null&&o.memoizedState!==null,d&&(g=u.child,T=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(T=g.alternate.memoizedState.cachePool.pool),N=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(N=g.memoizedState.cachePool.pool),N!==T&&(g.flags|=2048)),d!==o&&d&&(u.child.flags|=8192),Hp(u,u.updateQueue),gi(u),null);case 4:return Re(),o===null&&uv(u.stateNode.containerInfo),gi(u),null;case 10:return fo(u.type),gi(u),null;case 19:if(P(fn),g=u.memoizedState,g===null)return gi(u),null;if(T=(u.flags&128)!==0,N=g.rendering,N===null)if(T)Id(g,!1);else{if(Vi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(N=qa(o),N!==null){for(u.flags|=128,Id(g,!1),o=N.updateQueue,u.updateQueue=o,Hp(u,o),u.subtreeFlags=0,o=d,d=u.child;d!==null;)hu(d,o),d=d.sibling;return H(fn,fn.current&1|2),Zr&&tr(u,g.treeForkCount),u.child}o=o.sibling}g.tail!==null&&Jt()>Zp&&(u.flags|=128,T=!0,Id(g,!1),u.lanes=4194304)}else{if(!T)if(o=qa(N),o!==null){if(u.flags|=128,T=!0,o=o.updateQueue,u.updateQueue=o,Hp(u,o),Id(g,!0),g.tail===null&&g.tailMode==="hidden"&&!N.alternate&&!Zr)return gi(u),null}else 2*Jt()-g.renderingStartTime>Zp&&d!==536870912&&(u.flags|=128,T=!0,Id(g,!1),u.lanes=4194304);g.isBackwards?(N.sibling=u.child,u.child=N):(o=g.last,o!==null?o.sibling=N:u.child=N,g.last=N)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Jt(),o.sibling=null,d=fn.current,H(fn,T?d&1|2:d&1),Zr&&tr(u,g.treeForkCount),o):(gi(u),null);case 22:case 23:return In(u),oa(),g=u.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(d&536870912)!==0&&(u.flags&128)===0&&(gi(u),u.subtreeFlags&6&&(u.flags|=8192)):gi(u),d=u.updateQueue,d!==null&&Hp(u,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048),o!==null&&P(ce),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),fo(Ri),gi(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function CT(o,u){switch(fi(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return fo(Ri),Re(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return ot(u),null;case 31:if(u.memoizedState!==null){if(In(u),u.alternate===null)throw Error(n(340));Rl()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(In(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Rl()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return P(fn),null;case 4:return Re(),null;case 10:return fo(u.type),null;case 22:case 23:return In(u),oa(),o!==null&&P(ce),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return fo(Ri),null;case 25:return null;default:return null}}function wx(o,u){switch(fi(u),u.tag){case 3:fo(Ri),Re();break;case 26:case 27:case 5:ot(u);break;case 4:Re();break;case 31:u.memoizedState!==null&&In(u);break;case 13:In(u);break;case 19:P(fn);break;case 10:fo(u.type);break;case 22:case 23:In(u),oa(),o!==null&&P(ce);break;case 24:fo(Ri)}}function Fd(o,u){try{var d=u.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var T=g.next;d=T;do{if((d.tag&o)===o){g=void 0;var N=d.create,V=d.inst;g=N(),V.destroy=g}d=d.next}while(d!==T)}}catch(fe){Bn(u,u.return,fe)}}function Mc(o,u,d){try{var g=u.updateQueue,T=g!==null?g.lastEffect:null;if(T!==null){var N=T.next;g=N;do{if((g.tag&o)===o){var V=g.inst,fe=V.destroy;if(fe!==void 0){V.destroy=void 0,T=u;var ke=d,et=fe;try{et()}catch(ct){Bn(T,ke,ct)}}}g=g.next}while(g!==N)}}catch(ct){Bn(u,u.return,ct)}}function bx(o){var u=o.updateQueue;if(u!==null){var d=o.stateNode;try{zi(u,d)}catch(g){Bn(o,o.return,g)}}}function Sx(o,u,d){d.props=vh(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(g){Bn(o,u,g)}}function Bd(o,u){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof d=="function"?o.refCleanup=d(g):d.current=g}}catch(T){Bn(o,u,T)}}function Su(o,u){var d=o.ref,g=o.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(T){Bn(o,u,T)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(T){Bn(o,u,T)}else d.current=null}function Ex(o){var u=o.type,d=o.memoizedProps,g=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(T){Bn(o,o.return,T)}}function G1(o,u,d){try{var g=o.stateNode;XT(g,o.type,d,u),g[he]=u}catch(T){Bn(o,o.return,T)}}function Tx(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ic(o.type)||o.tag===4}function H1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Tx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ic(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function q1(o,u,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(o),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Ba));else if(g!==4&&(g===27&&Ic(o.type)&&(d=o.stateNode,u=null),o=o.child,o!==null))for(q1(o,u,d),o=o.sibling;o!==null;)q1(o,u,d),o=o.sibling}function qp(o,u,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?d.insertBefore(o,u):d.appendChild(o);else if(g!==4&&(g===27&&Ic(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(qp(o,u,d),o=o.sibling;o!==null;)qp(o,u,d),o=o.sibling}function Ax(o){var u=o.stateNode,d=o.memoizedProps;try{for(var g=o.type,T=u.attributes;T.length;)u.removeAttributeNode(T[0]);cs(u,g,d),u[ie]=o,u[he]=d}catch(N){Bn(o,o.return,N)}}var Ku=!1,va=!1,V1=!1,Lx=typeof WeakSet=="function"?WeakSet:Set,Va=null;function MT(o,u){if(o=o.containerInfo,fv=hm,o=Ts(o),Na(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var T=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var V=0,fe=-1,ke=-1,et=0,ct=0,vt=o,rt=null;t:for(;;){for(var nt;vt!==d||T!==0&&vt.nodeType!==3||(fe=V+T),vt!==N||g!==0&&vt.nodeType!==3||(ke=V+g),vt.nodeType===3&&(V+=vt.nodeValue.length),(nt=vt.firstChild)!==null;)rt=vt,vt=nt;for(;;){if(vt===o)break t;if(rt===d&&++et===T&&(fe=V),rt===N&&++ct===g&&(ke=V),(nt=vt.nextSibling)!==null)break;vt=rt,rt=vt.parentNode}vt=nt}d=fe===-1||ke===-1?null:{start:fe,end:ke}}else d=null}d=d||{start:0,end:0}}else d=null;for(dv={focusedElem:o,selectionRange:d},hm=!1,Va=u;Va!==null;)if(u=Va,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Va=o;else for(;Va!==null;){switch(u=Va,N=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)T=o[d],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&N!==null){o=void 0,d=u,T=N.memoizedProps,N=N.memoizedState,g=d.stateNode;try{var rr=vh(d.type,T);o=g.getSnapshotBeforeUpdate(rr,N),g.__reactInternalSnapshotBeforeUpdate=o}catch(Tr){Bn(d,d.return,Tr)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,d=o.nodeType,d===9)gv(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":gv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=u.sibling,o!==null){o.return=u.return,Va=o;break}Va=u.return}}function Nx(o,u,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Ju(o,d),g&4&&Fd(5,d);break;case 1:if(Ju(o,d),g&4)if(o=d.stateNode,u===null)try{o.componentDidMount()}catch(V){Bn(d,d.return,V)}else{var T=vh(d.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(T,u,o.__reactInternalSnapshotBeforeUpdate)}catch(V){Bn(d,d.return,V)}}g&64&&bx(d),g&512&&Bd(d,d.return);break;case 3:if(Ju(o,d),g&64&&(o=d.updateQueue,o!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{zi(o,u)}catch(V){Bn(d,d.return,V)}}break;case 27:u===null&&g&4&&Ax(d);case 26:case 5:Ju(o,d),u===null&&g&4&&Ex(d),g&512&&Bd(d,d.return);break;case 12:Ju(o,d);break;case 31:Ju(o,d),g&4&&kx(o,d);break;case 13:Ju(o,d),g&4&&Px(o,d),g&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=BT.bind(null,d),aA(o,d))));break;case 22:if(g=d.memoizedState!==null||Ku,!g){u=u!==null&&u.memoizedState!==null||va,T=Ku;var N=va;Ku=g,(va=u)&&!N?Qu(o,d,(d.subtreeFlags&8772)!==0):Ju(o,d),Ku=T,va=N}break;case 30:break;default:Ju(o,d)}}function Cx(o){var u=o.alternate;u!==null&&(o.alternate=null,Cx(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&ht(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ti=null,mo=!1;function Xu(o,u,d){for(d=d.child;d!==null;)Mx(o,u,d),d=d.sibling}function Mx(o,u,d){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Mr,d)}catch{}switch(d.tag){case 26:va||Su(d,u),Xu(o,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:va||Su(d,u);var g=Ti,T=mo;Ic(d.type)&&(Ti=d.stateNode,mo=!1),Xu(o,u,d),Zd(d.stateNode),Ti=g,mo=T;break;case 5:va||Su(d,u);case 6:if(g=Ti,T=mo,Ti=null,Xu(o,u,d),Ti=g,mo=T,Ti!==null)if(mo)try{(Ti.nodeType===9?Ti.body:Ti.nodeName==="HTML"?Ti.ownerDocument.body:Ti).removeChild(d.stateNode)}catch(N){Bn(d,u,N)}else try{Ti.removeChild(d.stateNode)}catch(N){Bn(d,u,N)}break;case 18:Ti!==null&&(mo?(o=Ti,bw(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),Tf(o)):bw(Ti,d.stateNode));break;case 4:g=Ti,T=mo,Ti=d.stateNode.containerInfo,mo=!0,Xu(o,u,d),Ti=g,mo=T;break;case 0:case 11:case 14:case 15:Mc(2,d,u),va||Mc(4,d,u),Xu(o,u,d);break;case 1:va||(Su(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"&&Sx(d,u,g)),Xu(o,u,d);break;case 21:Xu(o,u,d);break;case 22:va=(g=va)||d.memoizedState!==null,Xu(o,u,d),va=g;break;default:Xu(o,u,d)}}function kx(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Tf(o)}catch(d){Bn(u,u.return,d)}}}function Px(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Tf(o)}catch(d){Bn(u,u.return,d)}}function kT(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new Lx),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new Lx),u;default:throw Error(n(435,o.tag))}}function Vp(o,u){var d=kT(o);u.forEach(function(g){if(!d.has(g)){d.add(g);var T=UT.bind(null,o,g);g.then(T,T)}})}function go(o,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var T=d[g],N=o,V=u,fe=V;e:for(;fe!==null;){switch(fe.tag){case 27:if(Ic(fe.type)){Ti=fe.stateNode,mo=!1;break e}break;case 5:Ti=fe.stateNode,mo=!1;break e;case 3:case 4:Ti=fe.stateNode.containerInfo,mo=!0;break e}fe=fe.return}if(Ti===null)throw Error(n(160));Mx(N,V,T),Ti=null,mo=!1,N=T.alternate,N!==null&&(N.return=null),T.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)Ox(u,o),u=u.sibling}var Bl=null;function Ox(o,u){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:go(u,o),vo(o),g&4&&(Mc(3,o,o.return),Fd(3,o),Mc(5,o,o.return));break;case 1:go(u,o),vo(o),g&512&&(va||d===null||Su(d,d.return)),g&64&&Ku&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var T=Bl;if(go(u,o),vo(o),g&512&&(va||d===null||Su(d,d.return)),g&4){var N=d!==null?d.memoizedState:null;if(g=o.memoizedState,d===null)if(g===null)if(o.stateNode===null){e:{g=o.type,d=o.memoizedProps,T=T.ownerDocument||T;t:switch(g){case"title":N=T.getElementsByTagName("title")[0],(!N||N[$e]||N[ie]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=T.createElement(g),T.head.insertBefore(N,T.querySelector("head > title"))),cs(N,g,d),N[ie]=o,Bt(N),g=N;break e;case"link":var V=Ow("link","href",T).get(g+(d.href||""));if(V){for(var fe=0;fe<V.length;fe++)if(N=V[fe],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){V.splice(fe,1);break t}}N=T.createElement(g),cs(N,g,d),T.head.appendChild(N);break;case"meta":if(V=Ow("meta","content",T).get(g+(d.content||""))){for(fe=0;fe<V.length;fe++)if(N=V[fe],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){V.splice(fe,1);break t}}N=T.createElement(g),cs(N,g,d),T.head.appendChild(N);break;default:throw Error(n(468,g))}N[ie]=o,Bt(N),g=N}o.stateNode=g}else Rw(T,o.type,o.stateNode);else o.stateNode=Pw(T,g,o.memoizedProps);else N!==g?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,g===null?Rw(T,o.type,o.stateNode):Pw(T,g,o.memoizedProps)):g===null&&o.stateNode!==null&&G1(o,o.memoizedProps,d.memoizedProps)}break;case 27:go(u,o),vo(o),g&512&&(va||d===null||Su(d,d.return)),d!==null&&g&4&&G1(o,o.memoizedProps,d.memoizedProps);break;case 5:if(go(u,o),vo(o),g&512&&(va||d===null||Su(d,d.return)),o.flags&32){T=o.stateNode;try{Ta(T,"")}catch(rr){Bn(o,o.return,rr)}}g&4&&o.stateNode!=null&&(T=o.memoizedProps,G1(o,T,d!==null?d.memoizedProps:T)),g&1024&&(V1=!0);break;case 6:if(go(u,o),vo(o),g&4){if(o.stateNode===null)throw Error(n(162));g=o.memoizedProps,d=o.stateNode;try{d.nodeValue=g}catch(rr){Bn(o,o.return,rr)}}break;case 3:if(om=null,T=Bl,Bl=am(u.containerInfo),go(u,o),Bl=T,vo(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Tf(u.containerInfo)}catch(rr){Bn(o,o.return,rr)}V1&&(V1=!1,Rx(o));break;case 4:g=Bl,Bl=am(o.stateNode.containerInfo),go(u,o),vo(o),Bl=g;break;case 12:go(u,o),vo(o);break;case 31:go(u,o),vo(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Vp(o,g)));break;case 13:go(u,o),vo(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Wp=Jt()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Vp(o,g)));break;case 22:T=o.memoizedState!==null;var ke=d!==null&&d.memoizedState!==null,et=Ku,ct=va;if(Ku=et||T,va=ct||ke,go(u,o),va=ct,Ku=et,vo(o),g&8192)e:for(u=o.stateNode,u._visibility=T?u._visibility&-2:u._visibility|1,T&&(d===null||ke||Ku||va||_h(o)),d=null,u=o;;){if(u.tag===5||u.tag===26){if(d===null){ke=d=u;try{if(N=ke.stateNode,T)V=N.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{fe=ke.stateNode;var vt=ke.memoizedProps.style,rt=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;fe.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(rr){Bn(ke,ke.return,rr)}}}else if(u.tag===6){if(d===null){ke=u;try{ke.stateNode.nodeValue=T?"":ke.memoizedProps}catch(rr){Bn(ke,ke.return,rr)}}}else if(u.tag===18){if(d===null){ke=u;try{var nt=ke.stateNode;T?Sw(nt,!0):Sw(ke.stateNode,!1)}catch(rr){Bn(ke,ke.return,rr)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=o.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Vp(o,d))));break;case 19:go(u,o),vo(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Vp(o,g)));break;case 30:break;case 21:break;default:go(u,o),vo(o)}}function vo(o){var u=o.flags;if(u&2){try{for(var d,g=o.return;g!==null;){if(Tx(g)){d=g;break}g=g.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var T=d.stateNode,N=H1(o);qp(o,N,T);break;case 5:var V=d.stateNode;d.flags&32&&(Ta(V,""),d.flags&=-33);var fe=H1(o);qp(o,fe,V);break;case 3:case 4:var ke=d.stateNode.containerInfo,et=H1(o);q1(o,et,ke);break;default:throw Error(n(161))}}catch(ct){Bn(o,o.return,ct)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function Rx(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;Rx(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Ju(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Nx(o,u.alternate,u),u=u.sibling}function _h(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Mc(4,u,u.return),_h(u);break;case 1:Su(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&Sx(u,u.return,d),_h(u);break;case 27:Zd(u.stateNode);case 26:case 5:Su(u,u.return),_h(u);break;case 22:u.memoizedState===null&&_h(u);break;case 30:_h(u);break;default:_h(u)}o=o.sibling}}function Qu(o,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,T=o,N=u,V=N.flags;switch(N.tag){case 0:case 11:case 15:Qu(T,N,d),Fd(4,N);break;case 1:if(Qu(T,N,d),g=N,T=g.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(et){Bn(g,g.return,et)}if(g=N,T=g.updateQueue,T!==null){var fe=g.stateNode;try{var ke=T.shared.hiddenCallbacks;if(ke!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ke.length;T++)Ha(ke[T],fe)}catch(et){Bn(g,g.return,et)}}d&&V&64&&bx(N),Bd(N,N.return);break;case 27:Ax(N);case 26:case 5:Qu(T,N,d),d&&g===null&&V&4&&Ex(N),Bd(N,N.return);break;case 12:Qu(T,N,d);break;case 31:Qu(T,N,d),d&&V&4&&kx(T,N);break;case 13:Qu(T,N,d),d&&V&4&&Px(T,N);break;case 22:N.memoizedState===null&&Qu(T,N,d),Bd(N,N.return);break;case 30:break;default:Qu(T,N,d)}u=u.sibling}}function $1(o,u){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&dh(d))}function W1(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&dh(o))}function Ul(o,u,d,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Dx(o,u,d,g),u=u.sibling}function Dx(o,u,d,g){var T=u.flags;switch(u.tag){case 0:case 11:case 15:Ul(o,u,d,g),T&2048&&Fd(9,u);break;case 1:Ul(o,u,d,g);break;case 3:Ul(o,u,d,g),T&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&dh(o)));break;case 12:if(T&2048){Ul(o,u,d,g),o=u.stateNode;try{var N=u.memoizedProps,V=N.id,fe=N.onPostCommit;typeof fe=="function"&&fe(V,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ke){Bn(u,u.return,ke)}}else Ul(o,u,d,g);break;case 31:Ul(o,u,d,g);break;case 13:Ul(o,u,d,g);break;case 23:break;case 22:N=u.stateNode,V=u.alternate,u.memoizedState!==null?N._visibility&2?Ul(o,u,d,g):Ud(o,u):N._visibility&2?Ul(o,u,d,g):(N._visibility|=2,pf(o,u,d,g,(u.subtreeFlags&10256)!==0||!1)),T&2048&&$1(V,u);break;case 24:Ul(o,u,d,g),T&2048&&W1(u.alternate,u);break;default:Ul(o,u,d,g)}}function pf(o,u,d,g,T){for(T=T&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var N=o,V=u,fe=d,ke=g,et=V.flags;switch(V.tag){case 0:case 11:case 15:pf(N,V,fe,ke,T),Fd(8,V);break;case 23:break;case 22:var ct=V.stateNode;V.memoizedState!==null?ct._visibility&2?pf(N,V,fe,ke,T):Ud(N,V):(ct._visibility|=2,pf(N,V,fe,ke,T)),T&&et&2048&&$1(V.alternate,V);break;case 24:pf(N,V,fe,ke,T),T&&et&2048&&W1(V.alternate,V);break;default:pf(N,V,fe,ke,T)}u=u.sibling}}function Ud(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=o,g=u,T=g.flags;switch(g.tag){case 22:Ud(d,g),T&2048&&$1(g.alternate,g);break;case 24:Ud(d,g),T&2048&&W1(g.alternate,g);break;default:Ud(d,g)}u=u.sibling}}var zd=8192;function mf(o,u,d){if(o.subtreeFlags&zd)for(o=o.child;o!==null;)jx(o,u,d),o=o.sibling}function jx(o,u,d){switch(o.tag){case 26:mf(o,u,d),o.flags&zd&&o.memoizedState!==null&&vA(d,Bl,o.memoizedState,o.memoizedProps);break;case 5:mf(o,u,d);break;case 3:case 4:var g=Bl;Bl=am(o.stateNode.containerInfo),mf(o,u,d),Bl=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=zd,zd=16777216,mf(o,u,d),zd=g):mf(o,u,d));break;default:mf(o,u,d)}}function Ix(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Gd(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];Va=g,Bx(g,o)}Ix(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Fx(o),o=o.sibling}function Fx(o){switch(o.tag){case 0:case 11:case 15:Gd(o),o.flags&2048&&Mc(9,o,o.return);break;case 3:Gd(o);break;case 12:Gd(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,$p(o)):Gd(o);break;default:Gd(o)}}function $p(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];Va=g,Bx(g,o)}Ix(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Mc(8,u,u.return),$p(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,$p(u));break;default:$p(u)}o=o.sibling}}function Bx(o,u){for(;Va!==null;){var d=Va;switch(d.tag){case 0:case 11:case 15:Mc(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:dh(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,Va=g;else e:for(d=o;Va!==null;){g=Va;var T=g.sibling,N=g.return;if(Cx(g),g===d){Va=null;break e}if(T!==null){T.return=N,Va=T;break e}Va=N}}}var PT={getCacheForType:function(o){var u=Oa(Ri),d=u.data.get(o);return d===void 0&&(d=o(),u.data.set(o,d)),d},cacheSignal:function(){return Oa(Ri).controller.signal}},OT=typeof WeakMap=="function"?WeakMap:Map,Nn=0,ei=null,tn=null,an=0,Fn=0,Go=null,kc=!1,gf=!1,Z1=!1,ec=0,Vi=0,Pc=0,yh=0,Y1=0,Ho=0,vf=0,Hd=null,_o=null,K1=!1,Wp=0,Ux=0,Zp=1/0,Yp=null,Oc=null,Da=0,Rc=null,_f=null,tc=0,X1=0,J1=null,zx=null,qd=0,Q1=null;function qo(){return(Nn&2)!==0&&an!==0?an&-an:le.T!==null?av():Y()}function Gx(){if(Ho===0)if((an&536870912)===0||Zr){var o=en;en<<=1,(en&3932160)===0&&(en=262144),Ho=o}else Ho=536870912;return o=mi.current,o!==null&&(o.flags|=32),Ho}function yo(o,u,d){(o===ei&&(Fn===2||Fn===9)||o.cancelPendingCommit!==null)&&(yf(o,0),Dc(o,an,Ho,!1)),Qt(o,d),((Nn&2)===0||o!==ei)&&(o===ei&&((Nn&2)===0&&(yh|=d),Vi===4&&Dc(o,an,Ho,!1)),Eu(o))}function Hx(o,u,d){if((Nn&6)!==0)throw Error(n(327));var g=!d&&(u&127)===0&&(u&o.expiredLanes)===0||ba(o,u),T=g?jT(o,u):tv(o,u,!0),N=g;do{if(T===0){gf&&!g&&Dc(o,u,0,!1);break}else{if(d=o.current.alternate,N&&!RT(d)){T=tv(o,u,!1),N=!1;continue}if(T===2){if(N=u,o.errorRecoveryDisabledLanes&N)var V=0;else V=o.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){u=V;e:{var fe=o;T=Hd;var ke=fe.current.memoizedState.isDehydrated;if(ke&&(yf(fe,V).flags|=256),V=tv(fe,V,!1),V!==2){if(Z1&&!ke){fe.errorRecoveryDisabledLanes|=N,yh|=N,T=4;break e}N=_o,_o=T,N!==null&&(_o===null?_o=N:_o.push.apply(_o,N))}T=V}if(N=!1,T!==2)continue}}if(T===1){yf(o,0),Dc(o,u,0,!0);break}e:{switch(g=o,N=T,N){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:Dc(g,u,Ho,!kc);break e;case 2:_o=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(T=Wp+300-Jt(),10<T)){if(Dc(g,u,Ho,!kc),Gr(g,0,!0)!==0)break e;tc=u,g.timeoutHandle=xw(qx.bind(null,g,d,_o,Yp,K1,u,Ho,yh,vf,kc,N,"Throttled",-0,0),T);break e}qx(g,d,_o,Yp,K1,u,Ho,yh,vf,kc,N,null,-0,0)}}break}while(!0);Eu(o)}function qx(o,u,d,g,T,N,V,fe,ke,et,ct,vt,rt,nt){if(o.timeoutHandle=-1,vt=u.subtreeFlags,vt&8192||(vt&16785408)===16785408){vt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ba},jx(u,N,vt);var rr=(N&62914560)===N?Wp-Jt():(N&4194048)===N?Ux-Jt():0;if(rr=_A(vt,rr),rr!==null){tc=N,o.cancelPendingCommit=rr(Jx.bind(null,o,u,N,d,g,T,V,fe,ke,ct,vt,null,rt,nt)),Dc(o,N,V,!et);return}}Jx(o,u,N,d,g,T,V,fe,ke)}function RT(o){for(var u=o;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var T=d[g],N=T.getSnapshot;T=T.value;try{if(!xi(N(),T))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Dc(o,u,d,g){u&=~Y1,u&=~yh,o.suspendedLanes|=u,o.pingedLanes&=~u,g&&(o.warmLanes|=u),g=o.expirationTimes;for(var T=u;0<T;){var N=31-Dr(T),V=1<<N;g[N]=-1,T&=~V}d!==0&&Fa(o,d,u)}function Kp(){return(Nn&6)===0?(Vd(0),!1):!0}function ev(){if(tn!==null){if(Fn===0)var o=tn.return;else o=tn,ho=zo=null,of(o),_t=null,nr=0,o=tn;for(;o!==null;)wx(o.alternate,o),o=o.return;tn=null}}function yf(o,u){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,eA(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),tc=0,ev(),ei=o,tn=d=ss(o.current,null),an=u,Fn=0,Go=null,kc=!1,gf=ba(o,u),Z1=!1,vf=Ho=Y1=yh=Pc=Vi=0,_o=Hd=null,K1=!1,(u&8)!==0&&(u|=u&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=u;0<g;){var T=31-Dr(g),N=1<<T;u|=o[T],g&=~N}return ec=u,cu(),d}function Vx(o,u){mr=null,le.H=Dd,u===je||u===Ee?(u=ft(),Fn=3):u===Je?(u=ft(),Fn=4):Fn=u===P1?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Go=u,tn===null&&(Vi=1,Bp(o,m(u,o.current)))}function $x(){var o=mi.current;return o===null?!0:(an&4194048)===an?vn===null:(an&62914560)===an||(an&536870912)!==0?o===vn:!1}function Wx(){var o=le.H;return le.H=Dd,o===null?Dd:o}function Zx(){var o=le.A;return le.A=PT,o}function Xp(){Vi=4,kc||(an&4194048)!==an&&mi.current!==null||(gf=!0),(Pc&134217727)===0&&(yh&134217727)===0||ei===null||Dc(ei,an,Ho,!1)}function tv(o,u,d){var g=Nn;Nn|=2;var T=Wx(),N=Zx();(ei!==o||an!==u)&&(Yp=null,yf(o,u)),u=!1;var V=Vi;e:do try{if(Fn!==0&&tn!==null){var fe=tn,ke=Go;switch(Fn){case 8:ev(),V=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(u=!0);var et=Fn;if(Fn=0,Go=null,xf(o,fe,ke,et),d&&gf){V=0;break e}break;default:et=Fn,Fn=0,Go=null,xf(o,fe,ke,et)}}DT(),V=Vi;break}catch(ct){Vx(o,ct)}while(!0);return u&&o.shellSuspendCounter++,ho=zo=null,Nn=g,le.H=T,le.A=N,tn===null&&(ei=null,an=0,cu()),V}function DT(){for(;tn!==null;)Yx(tn)}function jT(o,u){var d=Nn;Nn|=2;var g=Wx(),T=Zx();ei!==o||an!==u?(Yp=null,Zp=Jt()+500,yf(o,u)):gf=ba(o,u);e:do try{if(Fn!==0&&tn!==null){u=tn;var N=Go;t:switch(Fn){case 1:Fn=0,Go=null,xf(o,u,N,1);break;case 2:case 9:if(Ke(N)){Fn=0,Go=null,Kx(u);break}u=function(){Fn!==2&&Fn!==9||ei!==o||(Fn=7),Eu(o)},N.then(u,u);break e;case 3:Fn=7;break e;case 4:Fn=5;break e;case 7:Ke(N)?(Fn=0,Go=null,Kx(u)):(Fn=0,Go=null,xf(o,u,N,7));break;case 5:var V=null;switch(tn.tag){case 26:V=tn.memoizedState;case 5:case 27:var fe=tn;if(V?Dw(V):fe.stateNode.complete){Fn=0,Go=null;var ke=fe.sibling;if(ke!==null)tn=ke;else{var et=fe.return;et!==null?(tn=et,Jp(et)):tn=null}break t}}Fn=0,Go=null,xf(o,u,N,5);break;case 6:Fn=0,Go=null,xf(o,u,N,6);break;case 8:ev(),Vi=6;break e;default:throw Error(n(462))}}IT();break}catch(ct){Vx(o,ct)}while(!0);return ho=zo=null,le.H=g,le.A=T,Nn=d,tn!==null?0:(ei=null,an=0,cu(),Vi)}function IT(){for(;tn!==null&&!sr();)Yx(tn)}function Yx(o){var u=yx(o.alternate,o,ec);o.memoizedProps=o.pendingProps,u===null?Jp(o):tn=u}function Kx(o){var u=o,d=u.alternate;switch(u.tag){case 15:case 0:u=dx(d,u,u.pendingProps,u.type,void 0,an);break;case 11:u=dx(d,u,u.pendingProps,u.type.render,u.ref,an);break;case 5:of(u);default:wx(d,u),u=tn=hu(u,ec),u=yx(d,u,ec)}o.memoizedProps=o.pendingProps,u===null?Jp(o):tn=u}function xf(o,u,d,g){ho=zo=null,of(u),_t=null,nr=0;var T=u.return;try{if(TT(o,T,u,d,an)){Vi=1,Bp(o,m(d,o.current)),tn=null;return}}catch(N){if(T!==null)throw tn=T,N;Vi=1,Bp(o,m(d,o.current)),tn=null;return}u.flags&32768?(Zr||g===1?o=!0:gf||(an&536870912)!==0?o=!1:(kc=o=!0,(g===2||g===9||g===3||g===6)&&(g=mi.current,g!==null&&g.tag===13&&(g.flags|=16384))),Xx(u,o)):Jp(u)}function Jp(o){var u=o;do{if((u.flags&32768)!==0){Xx(u,kc);return}o=u.return;var d=NT(u.alternate,u,ec);if(d!==null){tn=d;return}if(u=u.sibling,u!==null){tn=u;return}tn=u=o}while(u!==null);Vi===0&&(Vi=5)}function Xx(o,u){do{var d=CT(o.alternate,o);if(d!==null){d.flags&=32767,tn=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(o=o.sibling,o!==null)){tn=o;return}tn=o=d}while(o!==null);Vi=6,tn=null}function Jx(o,u,d,g,T,N,V,fe,ke){o.cancelPendingCommit=null;do Qp();while(Da!==0);if((Nn&6)!==0)throw Error(n(327));if(u!==null){if(u===o.current)throw Error(n(177));if(N=u.lanes|u.childLanes,N|=zu,Ka(o,d,N,V,fe,ke),o===ei&&(tn=ei=null,an=0),_f=u,Rc=o,tc=d,X1=N,J1=T,zx=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,zT(or,function(){return nw(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=le.T,le.T=null,T=be.p,be.p=2,V=Nn,Nn|=4;try{MT(o,u,d)}finally{Nn=V,be.p=T,le.T=g}}Da=1,Qx(),ew(),tw()}}function Qx(){if(Da===1){Da=0;var o=Rc,u=_f,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=le.T,le.T=null;var g=be.p;be.p=2;var T=Nn;Nn|=4;try{Ox(u,o);var N=dv,V=Ts(o.containerInfo),fe=N.focusedElem,ke=N.selectionRange;if(V!==fe&&fe&&fe.ownerDocument&&Zs(fe.ownerDocument.documentElement,fe)){if(ke!==null&&Na(fe)){var et=ke.start,ct=ke.end;if(ct===void 0&&(ct=et),"selectionStart"in fe)fe.selectionStart=et,fe.selectionEnd=Math.min(ct,fe.value.length);else{var vt=fe.ownerDocument||document,rt=vt&&vt.defaultView||window;if(rt.getSelection){var nt=rt.getSelection(),rr=fe.textContent.length,Tr=Math.min(ke.start,rr),Zn=ke.end===void 0?Tr:Math.min(ke.end,rr);!nt.extend&&Tr>Zn&&(V=Zn,Zn=Tr,Tr=V);var Ze=Fo(fe,Tr),Fe=Fo(fe,Zn);if(Ze&&Fe&&(nt.rangeCount!==1||nt.anchorNode!==Ze.node||nt.anchorOffset!==Ze.offset||nt.focusNode!==Fe.node||nt.focusOffset!==Fe.offset)){var Qe=vt.createRange();Qe.setStart(Ze.node,Ze.offset),nt.removeAllRanges(),Tr>Zn?(nt.addRange(Qe),nt.extend(Fe.node,Fe.offset)):(Qe.setEnd(Fe.node,Fe.offset),nt.addRange(Qe))}}}}for(vt=[],nt=fe;nt=nt.parentNode;)nt.nodeType===1&&vt.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<vt.length;fe++){var mt=vt[fe];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}hm=!!fv,dv=fv=null}finally{Nn=T,be.p=g,le.T=d}}o.current=u,Da=2}}function ew(){if(Da===2){Da=0;var o=Rc,u=_f,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=le.T,le.T=null;var g=be.p;be.p=2;var T=Nn;Nn|=4;try{Nx(o,u.alternate,u)}finally{Nn=T,be.p=g,le.T=d}}Da=3}}function tw(){if(Da===4||Da===3){Da=0,Xt();var o=Rc,u=_f,d=tc,g=zx;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Da=5:(Da=0,_f=Rc=null,rw(o,o.pendingLanes));var T=o.pendingLanes;if(T===0&&(Oc=null),Ye(d),u=u.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Mr,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=le.T,T=be.p,be.p=2,le.T=null;try{for(var N=o.onRecoverableError,V=0;V<g.length;V++){var fe=g[V];N(fe.value,{componentStack:fe.stack})}}finally{le.T=u,be.p=T}}(tc&3)!==0&&Qp(),Eu(o),T=o.pendingLanes,(d&261930)!==0&&(T&42)!==0?o===Q1?qd++:(qd=0,Q1=o):qd=0,Vd(0)}}function rw(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,dh(u)))}function Qp(){return Qx(),ew(),tw(),nw()}function nw(){if(Da!==5)return!1;var o=Rc,u=X1;X1=0;var d=Ye(tc),g=le.T,T=be.p;try{be.p=32>d?32:d,le.T=null,d=J1,J1=null;var N=Rc,V=tc;if(Da=0,_f=Rc=null,tc=0,(Nn&6)!==0)throw Error(n(331));var fe=Nn;if(Nn|=4,Fx(N.current),Dx(N,N.current,V,d),Nn=fe,Vd(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Mr,N)}catch{}return!0}finally{be.p=T,le.T=g,rw(o,u)}}function iw(o,u,d){u=m(d,u),u=k1(o.stateNode,u,2),o=zr(o,u,2),o!==null&&(Qt(o,2),Eu(o))}function Bn(o,u,d){if(o.tag===3)iw(o,o,d);else for(;u!==null;){if(u.tag===3){iw(u,o,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Oc===null||!Oc.has(g))){o=m(d,o),d=ax(2),g=zr(u,d,2),g!==null&&(sx(d,g,u,o),Qt(g,2),Eu(g));break}}u=u.return}}function rv(o,u,d){var g=o.pingCache;if(g===null){g=o.pingCache=new OT;var T=new Set;g.set(u,T)}else T=g.get(u),T===void 0&&(T=new Set,g.set(u,T));T.has(d)||(Z1=!0,T.add(d),o=FT.bind(null,o,u,d),u.then(o,o))}function FT(o,u,d){var g=o.pingCache;g!==null&&g.delete(u),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,ei===o&&(an&d)===d&&(Vi===4||Vi===3&&(an&62914560)===an&&300>Jt()-Wp?(Nn&2)===0&&yf(o,0):Y1|=d,vf===an&&(vf=0)),Eu(o)}function aw(o,u){u===0&&(u=Ji()),o=Ls(o,u),o!==null&&(Qt(o,u),Eu(o))}function BT(o){var u=o.memoizedState,d=0;u!==null&&(d=u.retryLane),aw(o,d)}function UT(o,u){var d=0;switch(o.tag){case 31:case 13:var g=o.stateNode,T=o.memoizedState;T!==null&&(d=T.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(u),aw(o,d)}function zT(o,u){return Vt(o,u)}var em=null,wf=null,nv=!1,tm=!1,iv=!1,jc=0;function Eu(o){o!==wf&&o.next===null&&(wf===null?em=wf=o:wf=wf.next=o),tm=!0,nv||(nv=!0,HT())}function Vd(o,u){if(!iv&&tm){iv=!0;do for(var d=!1,g=em;g!==null;){if(o!==0){var T=g.pendingLanes;if(T===0)var N=0;else{var V=g.suspendedLanes,fe=g.pingedLanes;N=(1<<31-Dr(42|o)+1)-1,N&=T&~(V&~fe),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,uw(g,N))}else N=an,N=Gr(g,g===ei?N:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(N&3)===0||ba(g,N)||(d=!0,uw(g,N));g=g.next}while(d);iv=!1}}function GT(){sw()}function sw(){tm=nv=!1;var o=0;jc!==0&&QT()&&(o=jc);for(var u=Jt(),d=null,g=em;g!==null;){var T=g.next,N=ow(g,u);N===0?(g.next=null,d===null?em=T:d.next=T,T===null&&(wf=d)):(d=g,(o!==0||(N&3)!==0)&&(tm=!0)),g=T}Da!==0&&Da!==5||Vd(o),jc!==0&&(jc=0)}function ow(o,u){for(var d=o.suspendedLanes,g=o.pingedLanes,T=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var V=31-Dr(N),fe=1<<V,ke=T[V];ke===-1?((fe&d)===0||(fe&g)!==0)&&(T[V]=li(fe,u)):ke<=u&&(o.expiredLanes|=fe),N&=~fe}if(u=ei,d=an,d=Gr(o,o===u?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,d===0||o===u&&(Fn===2||Fn===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&jt(g),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||ba(o,d)){if(u=d&-d,u===o.callbackPriority)return u;switch(g!==null&&jt(g),Ye(d)){case 2:case 8:d=Nr;break;case 32:d=or;break;case 268435456:d=_r;break;default:d=or}return g=lw.bind(null,o),d=Vt(d,g),o.callbackPriority=u,o.callbackNode=d,u}return g!==null&&g!==null&&jt(g),o.callbackPriority=2,o.callbackNode=null,2}function lw(o,u){if(Da!==0&&Da!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(Qp()&&o.callbackNode!==d)return null;var g=an;return g=Gr(o,o===ei?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(Hx(o,g,u),ow(o,Jt()),o.callbackNode!=null&&o.callbackNode===d?lw.bind(null,o):null)}function uw(o,u){if(Qp())return null;Hx(o,u,!0)}function HT(){tA(function(){(Nn&6)!==0?Vt(dr,GT):sw()})}function av(){if(jc===0){var o=w;o===0&&(o=cr,cr<<=1,(cr&261888)===0&&(cr=256)),jc=o}return jc}function cw(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:fa(""+o)}function hw(o,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,o.id&&d.setAttribute("form",o.id),u.parentNode.insertBefore(d,u),o=new FormData(o),d.parentNode.removeChild(d),o}function qT(o,u,d,g,T){if(u==="submit"&&d&&d.stateNode===T){var N=cw((T[he]||null).action),V=g.submitter;V&&(u=(u=V[he]||null)?cw(u.formAction):V.getAttribute("formAction"),u!==null&&(N=u,V=null));var fe=new ws("action","action",null,g,T);o.push({event:fe,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(jc!==0){var ke=V?hw(T,V):new FormData(T);T1(d,{pending:!0,data:ke,method:T.method,action:N},null,ke)}}else typeof N=="function"&&(fe.preventDefault(),ke=V?hw(T,V):new FormData(T),T1(d,{pending:!0,data:ke,method:T.method,action:N},N,ke))},currentTarget:T}]})}}for(var sv=0;sv<As.length;sv++){var ov=As[sv],VT=ov.toLowerCase(),$T=ov[0].toUpperCase()+ov.slice(1);is(VT,"on"+$T)}is(co,"onAnimationEnd"),is(Uu,"onAnimationIteration"),is(lu,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(Qh,"onTransitionRun"),is(ch,"onTransitionStart"),is(ef,"onTransitionCancel"),is(Pl,"onTransitionEnd"),Kn("onMouseEnter",["mouseout","mouseover"]),Kn("onMouseLeave",["mouseout","mouseover"]),Kn("onPointerEnter",["pointerout","pointerover"]),Kn("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($d));function fw(o,u){u=(u&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],T=g.event;g=g.listeners;e:{var N=void 0;if(u)for(var V=g.length-1;0<=V;V--){var fe=g[V],ke=fe.instance,et=fe.currentTarget;if(fe=fe.listener,ke!==N&&T.isPropagationStopped())break e;N=fe,T.currentTarget=et;try{N(T)}catch(ct){uu(ct)}T.currentTarget=null,N=ke}else for(V=0;V<g.length;V++){if(fe=g[V],ke=fe.instance,et=fe.currentTarget,fe=fe.listener,ke!==N&&T.isPropagationStopped())break e;N=fe,T.currentTarget=et;try{N(T)}catch(ct){uu(ct)}T.currentTarget=null,N=ke}}}}function rn(o,u){var d=u[Pe];d===void 0&&(d=u[Pe]=new Set);var g=o+"__bubble";d.has(g)||(dw(u,o,2,!1),d.add(g))}function lv(o,u,d){var g=0;u&&(g|=4),dw(d,o,g,u)}var rm="_reactListening"+Math.random().toString(36).slice(2);function uv(o){if(!o[rm]){o[rm]=!0,Hr.forEach(function(d){d!=="selectionchange"&&(WT.has(d)||lv(d,!1,o),lv(d,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[rm]||(u[rm]=!0,lv("selectionchange",!1,u))}}function dw(o,u,d,g){switch(Gw(u)){case 2:var T=wA;break;case 8:T=bA;break;default:T=Ev}d=T.bind(null,u,d,o),T=void 0,!Ll||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(T=!0),g?T!==void 0?o.addEventListener(u,d,{capture:!0,passive:T}):o.addEventListener(u,d,!0):T!==void 0?o.addEventListener(u,d,{passive:T}):o.addEventListener(u,d,!1)}function cv(o,u,d,g,T){var N=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var V=g.tag;if(V===3||V===4){var fe=g.stateNode.containerInfo;if(fe===T)break;if(V===4)for(V=g.return;V!==null;){var ke=V.tag;if((ke===3||ke===4)&&V.stateNode.containerInfo===T)return;V=V.return}for(;fe!==null;){if(V=bt(fe),V===null)return;if(ke=V.tag,ke===5||ke===6||ke===26||ke===27){g=N=V;continue e}fe=fe.parentNode}}g=g.return}Iu(function(){var et=N,ct=Mo(d),vt=[];e:{var rt=hh.get(o);if(rt!==void 0){var nt=ws,rr=o;switch(o){case"keypress":if(Qa(d)===0)break e;case"keydown":case"keyup":nt=Xr;break;case"focusin":rr="focus",nt=Po;break;case"focusout":rr="blur",nt=Po;break;case"beforeblur":case"afterblur":nt=Po;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Oi;break;case co:case Uu:case lu:nt=k;break;case Pl:nt=Ii;break;case"scroll":case"scrollend":nt=Br;break;case"wheel":nt=ta;break;case"copy":case"cut":case"paste":nt=Se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=ui;break;case"toggle":case"beforetoggle":nt=Ro}var Tr=(u&4)!==0,Zn=!Tr&&(o==="scroll"||o==="scrollend"),Ze=Tr?rt!==null?rt+"Capture":null:rt;Tr=[];for(var Fe=et,Qe;Fe!==null;){var mt=Fe;if(Qe=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||Qe===null||Ze===null||(mt=Aa(Fe,Ze),mt!=null&&Tr.push(Wd(Fe,mt,Qe))),Zn)break;Fe=Fe.return}0<Tr.length&&(rt=new nt(rt,rr,null,d,ct),vt.push({event:rt,listeners:Tr}))}}if((u&7)===0){e:{if(rt=o==="mouseover"||o==="pointerover",nt=o==="mouseout"||o==="pointerout",rt&&d!==eo&&(rr=d.relatedTarget||d.fromElement)&&(bt(rr)||rr[ve]))break e;if((nt||rt)&&(rt=ct.window===ct?ct:(rt=ct.ownerDocument)?rt.defaultView||rt.parentWindow:window,nt?(rr=d.relatedTarget||d.toElement,nt=et,rr=rr?bt(rr):null,rr!==null&&(Zn=a(rr),Tr=rr.tag,rr!==Zn||Tr!==5&&Tr!==27&&Tr!==6)&&(rr=null)):(nt=null,rr=et),nt!==rr)){if(Tr=Fu,mt="onMouseLeave",Ze="onMouseEnter",Fe="mouse",(o==="pointerout"||o==="pointerover")&&(Tr=ui,mt="onPointerLeave",Ze="onPointerEnter",Fe="pointer"),Zn=nt==null?rt:gt(nt),Qe=rr==null?rt:gt(rr),rt=new Tr(mt,Fe+"leave",nt,d,ct),rt.target=Zn,rt.relatedTarget=Qe,mt=null,bt(ct)===et&&(Tr=new Tr(Ze,Fe+"enter",rr,d,ct),Tr.target=Qe,Tr.relatedTarget=Zn,mt=Tr),Zn=mt,nt&&rr)t:{for(Tr=ZT,Ze=nt,Fe=rr,Qe=0,mt=Ze;mt;mt=Tr(mt))Qe++;mt=0;for(var vr=Fe;vr;vr=Tr(vr))mt++;for(;0<Qe-mt;)Ze=Tr(Ze),Qe--;for(;0<mt-Qe;)Fe=Tr(Fe),mt--;for(;Qe--;){if(Ze===Fe||Fe!==null&&Ze===Fe.alternate){Tr=Ze;break t}Ze=Tr(Ze),Fe=Tr(Fe)}Tr=null}else Tr=null;nt!==null&&pw(vt,rt,nt,Tr,!1),rr!==null&&Zn!==null&&pw(vt,Zn,rr,Tr,!0)}}e:{if(rt=et?gt(et):window,nt=rt.nodeName&&rt.nodeName.toLowerCase(),nt==="select"||nt==="input"&&rt.type==="file")var Sn=$s;else if(ts(rt))if(za)Sn=ao;else{Sn=hi;var lr=Ga}else nt=rt.nodeName,!nt||nt.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?et&&Al(et.elementType)&&(Sn=$s):Sn=Io;if(Sn&&(Sn=Sn(o,et))){rs(vt,Sn,d,ct);break e}lr&&lr(o,rt,et),o==="focusout"&&et&&rt.type==="number"&&et.memoizedProps.value!=null&&Us(rt,"number",rt.value)}switch(lr=et?gt(et):window,o){case"focusin":(ts(lr)||lr.contentEditable==="true")&&(Ca=lr,lo=et,pa=null);break;case"focusout":pa=lo=Ca=null;break;case"mousedown":Ma=!0;break;case"contextmenu":case"mouseup":case"dragend":Ma=!1,hn(vt,d,ct);break;case"selectionchange":if(oo)break;case"keydown":case"keyup":hn(vt,d,ct)}var Vr;if(qs)e:{switch(o){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else no?sl(o,d)&&(sn="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(sn="onCompositionStart");sn&&(Vs&&d.locale!=="ko"&&(no||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&no&&(Vr=to()):(La=ct,Gs="value"in La?La.value:La.textContent,no=!0)),lr=nm(et,sn),0<lr.length&&(sn=new Ve(sn,o,null,d,ct),vt.push({event:sn,listeners:lr}),Vr?sn.data=Vr:(Vr=kl(d),Vr!==null&&(sn.data=Vr)))),(Vr=Ml?jn(o,d):Ua(o,d))&&(sn=nm(et,"onBeforeInput"),0<sn.length&&(lr=new Ve("onBeforeInput","beforeinput",null,d,ct),vt.push({event:lr,listeners:sn}),lr.data=Vr)),qT(vt,o,et,d,ct)}fw(vt,u)})}function Wd(o,u,d){return{instance:o,listener:u,currentTarget:d}}function nm(o,u){for(var d=u+"Capture",g=[];o!==null;){var T=o,N=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||N===null||(T=Aa(o,d),T!=null&&g.unshift(Wd(o,T,N)),T=Aa(o,u),T!=null&&g.push(Wd(o,T,N))),o.tag===3)return g;o=o.return}return[]}function ZT(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function pw(o,u,d,g,T){for(var N=u._reactName,V=[];d!==null&&d!==g;){var fe=d,ke=fe.alternate,et=fe.stateNode;if(fe=fe.tag,ke!==null&&ke===g)break;fe!==5&&fe!==26&&fe!==27||et===null||(ke=et,T?(et=Aa(d,N),et!=null&&V.unshift(Wd(d,et,ke))):T||(et=Aa(d,N),et!=null&&V.push(Wd(d,et,ke)))),d=d.return}V.length!==0&&o.push({event:u,listeners:V})}var YT=/\r\n?/g,KT=/\u0000|\uFFFD/g;function mw(o){return(typeof o=="string"?o:""+o).replace(YT,`
`).replace(KT,"")}function gw(o,u){return u=mw(u),mw(o)===u}function Wn(o,u,d,g,T,N){switch(d){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Ta(o,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Ta(o,""+g);break;case"className":qr(o,"class",g);break;case"tabIndex":qr(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(o,d,g);break;case"style":nu(o,g,N);break;case"data":if(u!=="object"){qr(o,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||d!=="href")){o.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(d);break}g=fa(""+g),o.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(u!=="input"&&Wn(o,u,"name",T.name,T,null),Wn(o,u,"formEncType",T.formEncType,T,null),Wn(o,u,"formMethod",T.formMethod,T,null),Wn(o,u,"formTarget",T.formTarget,T,null)):(Wn(o,u,"encType",T.encType,T,null),Wn(o,u,"method",T.method,T,null),Wn(o,u,"target",T.target,T,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(d);break}g=fa(""+g),o.setAttribute(d,g);break;case"onClick":g!=null&&(o.onclick=Ba);break;case"onScroll":g!=null&&rn("scroll",o);break;case"onScrollEnd":g!=null&&rn("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(T.children!=null)throw Error(n(60));o.innerHTML=d}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}d=fa(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,""+g):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":g===!0?o.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,g):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(d,g):o.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(d):o.setAttribute(d,g);break;case"popover":rn("beforetoggle",o),rn("toggle",o),Ut(o,"popover",g);break;case"xlinkActuate":ri(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ri(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ri(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ri(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ri(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ri(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ri(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ri(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ri(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ut(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=rl.get(d)||d,Ut(o,d,g))}}function hv(o,u,d,g,T,N){switch(d){case"style":nu(o,g,N);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(T.children!=null)throw Error(n(60));o.innerHTML=d}}break;case"children":typeof g=="string"?Ta(o,g):(typeof g=="number"||typeof g=="bigint")&&Ta(o,""+g);break;case"onScroll":g!=null&&rn("scroll",o);break;case"onScrollEnd":g!=null&&rn("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wr.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(T=d.endsWith("Capture"),u=d.slice(2,T?d.length-7:void 0),N=o[he]||null,N=N!=null?N[d]:null,typeof N=="function"&&o.removeEventListener(u,N,T),typeof g=="function")){typeof N!="function"&&N!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(u,g,T);break e}d in o?o[d]=g:g===!0?o.setAttribute(d,""):Ut(o,d,g)}}}function cs(o,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rn("error",o),rn("load",o);var g=!1,T=!1,N;for(N in d)if(d.hasOwnProperty(N)){var V=d[N];if(V!=null)switch(N){case"src":g=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Wn(o,u,N,V,d,null)}}T&&Wn(o,u,"srcSet",d.srcSet,d,null),g&&Wn(o,u,"src",d.src,d,null);return;case"input":rn("invalid",o);var fe=N=V=T=null,ke=null,et=null;for(g in d)if(d.hasOwnProperty(g)){var ct=d[g];if(ct!=null)switch(g){case"name":T=ct;break;case"type":V=ct;break;case"checked":ke=ct;break;case"defaultChecked":et=ct;break;case"value":N=ct;break;case"defaultValue":fe=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(n(137,u));break;default:Wn(o,u,g,ct,d,null)}}Tl(o,N,fe,ke,et,V,T,!1);return;case"select":rn("invalid",o),g=V=N=null;for(T in d)if(d.hasOwnProperty(T)&&(fe=d[T],fe!=null))switch(T){case"value":N=fe;break;case"defaultValue":V=fe;break;case"multiple":g=fe;default:Wn(o,u,T,fe,d,null)}u=N,d=V,o.multiple=!!g,u!=null?Kr(o,!!g,u,!1):d!=null&&Kr(o,!!g,d,!0);return;case"textarea":rn("invalid",o),N=T=g=null;for(V in d)if(d.hasOwnProperty(V)&&(fe=d[V],fe!=null))switch(V){case"value":g=fe;break;case"defaultValue":T=fe;break;case"children":N=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(91));break;default:Wn(o,u,V,fe,d,null)}No(o,g,T,N);return;case"option":for(ke in d)d.hasOwnProperty(ke)&&(g=d[ke],g!=null)&&(ke==="selected"?o.selected=g&&typeof g!="function"&&typeof g!="symbol":Wn(o,u,ke,g,d,null));return;case"dialog":rn("beforetoggle",o),rn("toggle",o),rn("cancel",o),rn("close",o);break;case"iframe":case"object":rn("load",o);break;case"video":case"audio":for(g=0;g<$d.length;g++)rn($d[g],o);break;case"image":rn("error",o),rn("load",o);break;case"details":rn("toggle",o);break;case"embed":case"source":case"link":rn("error",o),rn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in d)if(d.hasOwnProperty(et)&&(g=d[et],g!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Wn(o,u,et,g,d,null)}return;default:if(Al(u)){for(ct in d)d.hasOwnProperty(ct)&&(g=d[ct],g!==void 0&&hv(o,u,ct,g,d,void 0));return}}for(fe in d)d.hasOwnProperty(fe)&&(g=d[fe],g!=null&&Wn(o,u,fe,g,d,null))}function XT(o,u,d,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,N=null,V=null,fe=null,ke=null,et=null,ct=null;for(nt in d){var vt=d[nt];if(d.hasOwnProperty(nt)&&vt!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":ke=vt;default:g.hasOwnProperty(nt)||Wn(o,u,nt,null,g,vt)}}for(var rt in g){var nt=g[rt];if(vt=d[rt],g.hasOwnProperty(rt)&&(nt!=null||vt!=null))switch(rt){case"type":N=nt;break;case"name":T=nt;break;case"checked":et=nt;break;case"defaultChecked":ct=nt;break;case"value":V=nt;break;case"defaultValue":fe=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(n(137,u));break;default:nt!==vt&&Wn(o,u,rt,nt,g,vt)}}ru(o,V,fe,ke,et,ct,N,T);return;case"select":nt=V=fe=rt=null;for(N in d)if(ke=d[N],d.hasOwnProperty(N)&&ke!=null)switch(N){case"value":break;case"multiple":nt=ke;default:g.hasOwnProperty(N)||Wn(o,u,N,null,g,ke)}for(T in g)if(N=g[T],ke=d[T],g.hasOwnProperty(T)&&(N!=null||ke!=null))switch(T){case"value":rt=N;break;case"defaultValue":fe=N;break;case"multiple":V=N;default:N!==ke&&Wn(o,u,T,N,g,ke)}u=fe,d=V,g=nt,rt!=null?Kr(o,!!d,rt,!1):!!g!=!!d&&(u!=null?Kr(o,!!d,u,!0):Kr(o,!!d,d?[]:"",!1));return;case"textarea":nt=rt=null;for(fe in d)if(T=d[fe],d.hasOwnProperty(fe)&&T!=null&&!g.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Wn(o,u,fe,null,g,T)}for(V in g)if(T=g[V],N=d[V],g.hasOwnProperty(V)&&(T!=null||N!=null))switch(V){case"value":rt=T;break;case"defaultValue":nt=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==N&&Wn(o,u,V,T,g,N)}zs(o,rt,nt);return;case"option":for(var rr in d)rt=d[rr],d.hasOwnProperty(rr)&&rt!=null&&!g.hasOwnProperty(rr)&&(rr==="selected"?o.selected=!1:Wn(o,u,rr,null,g,rt));for(ke in g)rt=g[ke],nt=d[ke],g.hasOwnProperty(ke)&&rt!==nt&&(rt!=null||nt!=null)&&(ke==="selected"?o.selected=rt&&typeof rt!="function"&&typeof rt!="symbol":Wn(o,u,ke,rt,g,nt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tr in d)rt=d[Tr],d.hasOwnProperty(Tr)&&rt!=null&&!g.hasOwnProperty(Tr)&&Wn(o,u,Tr,null,g,rt);for(et in g)if(rt=g[et],nt=d[et],g.hasOwnProperty(et)&&rt!==nt&&(rt!=null||nt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,u));break;default:Wn(o,u,et,rt,g,nt)}return;default:if(Al(u)){for(var Zn in d)rt=d[Zn],d.hasOwnProperty(Zn)&&rt!==void 0&&!g.hasOwnProperty(Zn)&&hv(o,u,Zn,void 0,g,rt);for(ct in g)rt=g[ct],nt=d[ct],!g.hasOwnProperty(ct)||rt===nt||rt===void 0&&nt===void 0||hv(o,u,ct,rt,g,nt);return}}for(var Ze in d)rt=d[Ze],d.hasOwnProperty(Ze)&&rt!=null&&!g.hasOwnProperty(Ze)&&Wn(o,u,Ze,null,g,rt);for(vt in g)rt=g[vt],nt=d[vt],!g.hasOwnProperty(vt)||rt===nt||rt==null&&nt==null||Wn(o,u,vt,rt,g,nt)}function vw(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JT(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var T=d[g],N=T.transferSize,V=T.initiatorType,fe=T.duration;if(N&&fe&&vw(V)){for(V=0,fe=T.responseEnd,g+=1;g<d.length;g++){var ke=d[g],et=ke.startTime;if(et>fe)break;var ct=ke.transferSize,vt=ke.initiatorType;ct&&vw(vt)&&(ke=ke.responseEnd,V+=ct*(ke<fe?1:(fe-et)/(ke-et)))}if(--g,u+=8*(N+V)/(T.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var fv=null,dv=null;function im(o){return o.nodeType===9?o:o.ownerDocument}function _w(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yw(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function pv(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var mv=null;function QT(){var o=window.event;return o&&o.type==="popstate"?o===mv?!1:(mv=o,!0):(mv=null,!1)}var xw=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,ww=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof ww<"u"?function(o){return ww.resolve(null).then(o).catch(rA)}:xw;function rA(o){setTimeout(function(){throw o})}function Ic(o){return o==="head"}function bw(o,u){var d=u,g=0;do{var T=d.nextSibling;if(o.removeChild(d),T&&T.nodeType===8)if(d=T.data,d==="/$"||d==="/&"){if(g===0){o.removeChild(T),Tf(u);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")Zd(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Zd(d);for(var N=d.firstChild;N;){var V=N.nextSibling,fe=N.nodeName;N[$e]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=V}}else d==="body"&&Zd(o.ownerDocument.body);d=T}while(d);Tf(u)}function Sw(o,u){var d=o;o=0;do{var g=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=g}while(d)}function gv(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":gv(d),ht(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function nA(o,u,d,g){for(;o.nodeType===1;){var T=d;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[$e])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(N=o.getAttribute("rel"),N==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(N!==T.rel||o.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||o.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||o.getAttribute("title")!==(T.title==null?null:T.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(N=o.getAttribute("src"),(N!==(T.src==null?null:T.src)||o.getAttribute("type")!==(T.type==null?null:T.type)||o.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&N&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var N=T.name==null?null:""+T.name;if(T.type==="hidden"&&o.getAttribute("name")===N)return o}else return o;if(o=fl(o.nextSibling),o===null)break}return null}function iA(o,u,d){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=fl(o.nextSibling),o===null))return null;return o}function Ew(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=fl(o.nextSibling),o===null))return null;return o}function vv(o){return o.data==="$?"||o.data==="$~"}function _v(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function aA(o,u){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||d.readyState!=="loading")u();else{var g=function(){u(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function fl(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var yv=null;function Tw(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(u===0)return fl(o.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}o=o.nextSibling}return null}function Aw(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return o;u--}else d!=="/$"&&d!=="/&"||u++}o=o.previousSibling}return null}function Lw(o,u,d){switch(u=im(d),o){case"html":if(o=u.documentElement,!o)throw Error(n(452));return o;case"head":if(o=u.head,!o)throw Error(n(453));return o;case"body":if(o=u.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Zd(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);ht(o)}var dl=new Map,Nw=new Set;function am(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var rc=be.d;be.d={f:sA,r:oA,D:lA,C:uA,L:cA,m:hA,X:dA,S:fA,M:pA};function sA(){var o=rc.f(),u=Kp();return o||u}function oA(o){var u=wt(o);u!==null&&u.tag===5&&u.type==="form"?Vy(u):rc.r(o)}var bf=typeof document>"u"?null:document;function Cw(o,u,d){var g=bf;if(g&&typeof u=="string"&&u){var T=cn(u);T='link[rel="'+o+'"][href="'+T+'"]',typeof d=="string"&&(T+='[crossorigin="'+d+'"]'),Nw.has(T)||(Nw.add(T),o={rel:o,crossOrigin:d,href:u},g.querySelector(T)===null&&(u=g.createElement("link"),cs(u,"link",o),Bt(u),g.head.appendChild(u)))}}function lA(o){rc.D(o),Cw("dns-prefetch",o,null)}function uA(o,u){rc.C(o,u),Cw("preconnect",o,u)}function cA(o,u,d){rc.L(o,u,d);var g=bf;if(g&&o&&u){var T='link[rel="preload"][as="'+cn(u)+'"]';u==="image"&&d&&d.imageSrcSet?(T+='[imagesrcset="'+cn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(T+='[imagesizes="'+cn(d.imageSizes)+'"]')):T+='[href="'+cn(o)+'"]';var N=T;switch(u){case"style":N=Sf(o);break;case"script":N=Ef(o)}dl.has(N)||(o=v({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:o,as:u},d),dl.set(N,o),g.querySelector(T)!==null||u==="style"&&g.querySelector(Yd(N))||u==="script"&&g.querySelector(Kd(N))||(u=g.createElement("link"),cs(u,"link",o),Bt(u),g.head.appendChild(u)))}}function hA(o,u){rc.m(o,u);var d=bf;if(d&&o){var g=u&&typeof u.as=="string"?u.as:"script",T='link[rel="modulepreload"][as="'+cn(g)+'"][href="'+cn(o)+'"]',N=T;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Ef(o)}if(!dl.has(N)&&(o=v({rel:"modulepreload",href:o},u),dl.set(N,o),d.querySelector(T)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Kd(N)))return}g=d.createElement("link"),cs(g,"link",o),Bt(g),d.head.appendChild(g)}}}function fA(o,u,d){rc.S(o,u,d);var g=bf;if(g&&o){var T=Mt(g).hoistableStyles,N=Sf(o);u=u||"default";var V=T.get(N);if(!V){var fe={loading:0,preload:null};if(V=g.querySelector(Yd(N)))fe.loading=5;else{o=v({rel:"stylesheet",href:o,"data-precedence":u},d),(d=dl.get(N))&&xv(o,d);var ke=V=g.createElement("link");Bt(ke),cs(ke,"link",o),ke._p=new Promise(function(et,ct){ke.onload=et,ke.onerror=ct}),ke.addEventListener("load",function(){fe.loading|=1}),ke.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,sm(V,u,g)}V={type:"stylesheet",instance:V,count:1,state:fe},T.set(N,V)}}}function dA(o,u){rc.X(o,u);var d=bf;if(d&&o){var g=Mt(d).hoistableScripts,T=Ef(o),N=g.get(T);N||(N=d.querySelector(Kd(T)),N||(o=v({src:o,async:!0},u),(u=dl.get(T))&&wv(o,u),N=d.createElement("script"),Bt(N),cs(N,"link",o),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(T,N))}}function pA(o,u){rc.M(o,u);var d=bf;if(d&&o){var g=Mt(d).hoistableScripts,T=Ef(o),N=g.get(T);N||(N=d.querySelector(Kd(T)),N||(o=v({src:o,async:!0,type:"module"},u),(u=dl.get(T))&&wv(o,u),N=d.createElement("script"),Bt(N),cs(N,"link",o),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(T,N))}}function Mw(o,u,d,g){var T=(T=oe.current)?am(T):null;if(!T)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=Sf(d.href),d=Mt(T).hoistableStyles,g=d.get(u),g||(g={type:"style",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=Sf(d.href);var N=Mt(T).hoistableStyles,V=N.get(o);if(V||(T=T.ownerDocument||T,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(o,V),(N=T.querySelector(Yd(o)))&&!N._p&&(V.instance=N,V.state.loading=5),dl.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},dl.set(o,d),N||mA(T,o,d,V.state))),u&&g===null)throw Error(n(528,""));return V}if(u&&g!==null)throw Error(n(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Ef(d),d=Mt(T).hoistableScripts,g=d.get(u),g||(g={type:"script",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Sf(o){return'href="'+cn(o)+'"'}function Yd(o){return'link[rel="stylesheet"]['+o+"]"}function kw(o){return v({},o,{"data-precedence":o.precedence,precedence:null})}function mA(o,u,d,g){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=o.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),cs(u,"link",d),Bt(u),o.head.appendChild(u))}function Ef(o){return'[src="'+cn(o)+'"]'}function Kd(o){return"script[async]"+o}function Pw(o,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var g=o.querySelector('style[data-href~="'+cn(d.href)+'"]');if(g)return u.instance=g,Bt(g),g;var T=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Bt(g),cs(g,"style",T),sm(g,d.precedence,o),u.instance=g;case"stylesheet":T=Sf(d.href);var N=o.querySelector(Yd(T));if(N)return u.state.loading|=4,u.instance=N,Bt(N),N;g=kw(d),(T=dl.get(T))&&xv(g,T),N=(o.ownerDocument||o).createElement("link"),Bt(N);var V=N;return V._p=new Promise(function(fe,ke){V.onload=fe,V.onerror=ke}),cs(N,"link",g),u.state.loading|=4,sm(N,d.precedence,o),u.instance=N;case"script":return N=Ef(d.src),(T=o.querySelector(Kd(N)))?(u.instance=T,Bt(T),T):(g=d,(T=dl.get(N))&&(g=v({},d),wv(g,T)),o=o.ownerDocument||o,T=o.createElement("script"),Bt(T),cs(T,"link",g),o.head.appendChild(T),u.instance=T);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,sm(g,d.precedence,o));return u.instance}function sm(o,u,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=g.length?g[g.length-1]:null,N=T,V=0;V<g.length;V++){var fe=g[V];if(fe.dataset.precedence===u)N=fe;else if(N!==T)break}N?N.parentNode.insertBefore(o,N.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(o,u.firstChild))}function xv(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function wv(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var om=null;function Ow(o,u,d){if(om===null){var g=new Map,T=om=new Map;T.set(d,g)}else T=om,g=T.get(d),g||(g=new Map,T.set(d,g));if(g.has(o))return g;for(g.set(o,null),d=d.getElementsByTagName(o),T=0;T<d.length;T++){var N=d[T];if(!(N[$e]||N[ie]||o==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var V=N.getAttribute(u)||"";V=o+V;var fe=g.get(V);fe?fe.push(N):g.set(V,[N])}}return g}function Rw(o,u,d){o=o.ownerDocument||o,o.head.insertBefore(d,u==="title"?o.querySelector("head > title"):null)}function gA(o,u,d){if(d===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(o=u.disabled,typeof u.precedence=="string"&&o==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Dw(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function vA(o,u,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var T=Sf(g.href),N=u.querySelector(Yd(T));if(N){u=N._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=lm.bind(o),u.then(o,o)),d.state.loading|=4,d.instance=N,Bt(N);return}N=u.ownerDocument||u,g=kw(g),(T=dl.get(T))&&xv(g,T),N=N.createElement("link"),Bt(N);var V=N;V._p=new Promise(function(fe,ke){V.onload=fe,V.onerror=ke}),cs(N,"link",g),d.instance=N}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=lm.bind(o),u.addEventListener("load",d),u.addEventListener("error",d))}}var bv=0;function _A(o,u){return o.stylesheets&&o.count===0&&cm(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var g=setTimeout(function(){if(o.stylesheets&&cm(o,o.stylesheets),o.unsuspend){var N=o.unsuspend;o.unsuspend=null,N()}},6e4+u);0<o.imgBytes&&bv===0&&(bv=62500*JT());var T=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&cm(o,o.stylesheets),o.unsuspend)){var N=o.unsuspend;o.unsuspend=null,N()}},(o.imgBytes>bv?50:800)+u);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(T)}}:null}function lm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cm(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var um=null;function cm(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,um=new Map,u.forEach(yA,o),um=null,lm.call(o))}function yA(o,u){if(!(u.state.loading&4)){var d=um.get(o);if(d)var g=d.get(null);else{d=new Map,um.set(o,d);for(var T=o.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<T.length;N++){var V=T[N];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(d.set(V.dataset.precedence,V),g=V)}g&&d.set(null,g)}T=u.instance,V=T.getAttribute("data-precedence"),N=d.get(V)||g,N===g&&d.set(null,T),d.set(V,T),this.count++,g=lm.bind(this),T.addEventListener("load",g),T.addEventListener("error",g),N?N.parentNode.insertBefore(T,N.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(T,o.firstChild)),u.state.loading|=4}}var Xd={$$typeof:R,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function xA(o,u,d,g,T,N,V,fe,ke){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=g,this.onUncaughtError=T,this.onCaughtError=N,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ke,this.incompleteTransitions=new Map}function jw(o,u,d,g,T,N,V,fe,ke,et,ct,vt){return o=new xA(o,u,d,V,ke,et,ct,vt,fe),u=1,N===!0&&(u|=24),N=ia(3,null,null,u),o.current=N,N.stateNode=o,u=Tc(),u.refCount++,o.pooledCache=u,u.refCount++,N.memoizedState={element:g,isDehydrated:d,cache:u},Rt(N),o}function Iw(o){return o?(o=Bi,o):Bi}function Fw(o,u,d,g,T,N){T=Iw(T),g.context===null?g.context=T:g.pendingContext=T,g=Sr(u),g.payload={element:d},N=N===void 0?null:N,N!==null&&(g.callback=N),d=zr(o,g,u),d!==null&&(yo(d,o,u),An(d,o,u))}function Bw(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<u?d:u}}function Sv(o,u){Bw(o,u),(o=o.alternate)&&Bw(o,u)}function Uw(o){if(o.tag===13||o.tag===31){var u=Ls(o,67108864);u!==null&&yo(u,o,67108864),Sv(o,67108864)}}function zw(o){if(o.tag===13||o.tag===31){var u=qo();u=qe(u);var d=Ls(o,u);d!==null&&yo(d,o,u),Sv(o,u)}}var hm=!0;function wA(o,u,d,g){var T=le.T;le.T=null;var N=be.p;try{be.p=2,Ev(o,u,d,g)}finally{be.p=N,le.T=T}}function bA(o,u,d,g){var T=le.T;le.T=null;var N=be.p;try{be.p=8,Ev(o,u,d,g)}finally{be.p=N,le.T=T}}function Ev(o,u,d,g){if(hm){var T=Tv(g);if(T===null)cv(o,u,g,fm,d),Hw(o,g);else if(EA(T,o,u,d,g))g.stopPropagation();else if(Hw(o,g),u&4&&-1<SA.indexOf(o)){for(;T!==null;){var N=wt(T);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var V=Zt(N.pendingLanes);if(V!==0){var fe=N;for(fe.pendingLanes|=2,fe.entangledLanes|=2;V;){var ke=1<<31-Dr(V);fe.entanglements[1]|=ke,V&=~ke}Eu(N),(Nn&6)===0&&(Zp=Jt()+500,Vd(0))}}break;case 31:case 13:fe=Ls(N,2),fe!==null&&yo(fe,N,2),Kp(),Sv(N,2)}if(N=Tv(g),N===null&&cv(o,u,g,fm,d),N===T)break;T=N}T!==null&&g.stopPropagation()}else cv(o,u,g,null,d)}}function Tv(o){return o=Mo(o),Av(o)}var fm=null;function Av(o){if(fm=null,o=bt(o),o!==null){var u=a(o);if(u===null)o=null;else{var d=u.tag;if(d===13){if(o=s(u),o!==null)return o;o=null}else if(d===31){if(o=l(u),o!==null)return o;o=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return fm=o,null}function Gw(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case dr:return 2;case Nr:return 8;case or:case Ft:return 32;case _r:return 268435456;default:return 32}default:return 32}}var Lv=!1,Fc=null,Bc=null,Uc=null,Jd=new Map,Qd=new Map,zc=[],SA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hw(o,u){switch(o){case"focusin":case"focusout":Fc=null;break;case"dragenter":case"dragleave":Bc=null;break;case"mouseover":case"mouseout":Uc=null;break;case"pointerover":case"pointerout":Jd.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qd.delete(u.pointerId)}}function e0(o,u,d,g,T,N){return o===null||o.nativeEvent!==N?(o={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:N,targetContainers:[T]},u!==null&&(u=wt(u),u!==null&&Uw(u)),o):(o.eventSystemFlags|=g,u=o.targetContainers,T!==null&&u.indexOf(T)===-1&&u.push(T),o)}function EA(o,u,d,g,T){switch(u){case"focusin":return Fc=e0(Fc,o,u,d,g,T),!0;case"dragenter":return Bc=e0(Bc,o,u,d,g,T),!0;case"mouseover":return Uc=e0(Uc,o,u,d,g,T),!0;case"pointerover":var N=T.pointerId;return Jd.set(N,e0(Jd.get(N)||null,o,u,d,g,T)),!0;case"gotpointercapture":return N=T.pointerId,Qd.set(N,e0(Qd.get(N)||null,o,u,d,g,T)),!0}return!1}function qw(o){var u=bt(o.target);if(u!==null){var d=a(u);if(d!==null){if(u=d.tag,u===13){if(u=s(d),u!==null){o.blockedOn=u,me(o.priority,function(){zw(d)});return}}else if(u===31){if(u=l(d),u!==null){o.blockedOn=u,me(o.priority,function(){zw(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function dm(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var d=Tv(o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);eo=g,d.target.dispatchEvent(g),eo=null}else return u=wt(d),u!==null&&Uw(u),o.blockedOn=d,!1;u.shift()}return!0}function Vw(o,u,d){dm(o)&&d.delete(u)}function TA(){Lv=!1,Fc!==null&&dm(Fc)&&(Fc=null),Bc!==null&&dm(Bc)&&(Bc=null),Uc!==null&&dm(Uc)&&(Uc=null),Jd.forEach(Vw),Qd.forEach(Vw)}function pm(o,u){o.blockedOn===u&&(o.blockedOn=null,Lv||(Lv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TA)))}var mm=null;function $w(o){mm!==o&&(mm=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mm===o&&(mm=null);for(var u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=o[u+2];if(typeof g!="function"){if(Av(g||d)===null)continue;break}var N=wt(d);N!==null&&(o.splice(u,3),u-=3,T1(N,{pending:!0,data:T,method:d.method,action:g},g,T))}}))}function Tf(o){function u(ke){return pm(ke,o)}Fc!==null&&pm(Fc,o),Bc!==null&&pm(Bc,o),Uc!==null&&pm(Uc,o),Jd.forEach(u),Qd.forEach(u);for(var d=0;d<zc.length;d++){var g=zc[d];g.blockedOn===o&&(g.blockedOn=null)}for(;0<zc.length&&(d=zc[0],d.blockedOn===null);)qw(d),d.blockedOn===null&&zc.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var T=d[g],N=d[g+1],V=T[he]||null;if(typeof N=="function")V||$w(d);else if(V){var fe=null;if(N&&N.hasAttribute("formAction")){if(T=N,V=N[he]||null)fe=V.formAction;else if(Av(T)!==null)continue}else fe=V.action;typeof fe=="function"?d[g+1]=fe:(d.splice(g,3),g-=3),$w(d)}}}function Ww(){function o(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(V){return T=V})},focusReset:"manual",scroll:"manual"})}function u(){T!==null&&(T(),T=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,T=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),T!==null&&(T(),T=null)}}}function Nv(o){this._internalRoot=o}gm.prototype.render=Nv.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));var d=u.current,g=qo();Fw(d,g,o,u,null,null)},gm.prototype.unmount=Nv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Fw(o.current,2,null,o,null,null),Kp(),u[ve]=null}};function gm(o){this._internalRoot=o}gm.prototype.unstable_scheduleHydration=function(o){if(o){var u=Y();o={blockedOn:null,target:o,priority:u};for(var d=0;d<zc.length&&u!==0&&u<zc[d].priority;d++);zc.splice(d,0,o),d===0&&qw(o)}};var Zw=e.version;if(Zw!=="19.2.3")throw Error(n(527,Zw,"19.2.3"));be.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=f(u),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var AA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{Mr=vm.inject(AA),Gt=vm}catch{}}return r0.createRoot=function(o,u){if(!i(o))throw Error(n(299));var d=!1,g="",T=tx,N=rx,V=nx;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(V=u.onRecoverableError)),u=jw(o,1,!1,null,null,d,g,null,T,N,V,Ww),o[ve]=u.current,uv(o),new Nv(u)},r0.hydrateRoot=function(o,u,d){if(!i(o))throw Error(n(299));var g=!1,T="",N=tx,V=rx,fe=nx,ke=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(V=d.onCaughtError),d.onRecoverableError!==void 0&&(fe=d.onRecoverableError),d.formState!==void 0&&(ke=d.formState)),u=jw(o,1,!0,u,d??null,g,T,ke,N,V,fe,Ww),u.context=Iw(null),d=u.current,g=qo(),g=qe(g),T=Sr(g),T.callback=null,zr(d,T,g),d=g,u.current.lanes=d,Qt(u,d),Eu(u),o[ve]=u.current,uv(o),new gm(u)},r0.version="19.2.3",r0}var ib;function IA(){if(ib)return kv.exports;ib=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kv.exports=jA(),kv.exports}var FA=IA();const BA=Wg(FA);var aS=t=>{throw TypeError(t)},UA=(t,e,r)=>e.has(t)||aS("Cannot "+r),Dv=(t,e,r)=>(UA(t,e,"read from private field"),r?r.call(t):e.get(t)),zA=(t,e,r)=>e.has(t)?aS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ab="popstate";function GA(t={}){function e(i,a){let{pathname:s="/",search:l="",hash:c=""}=pc(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),U0("",{pathname:s,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let s=i.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");l=f===-1?c:c.slice(0,f)}return l+"#"+(typeof a=="string"?a:Ou(a))}function n(i,a){Ki(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return qA(e,r,n,t)}function Yr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ki(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HA(){return Math.random().toString(36).substring(2,10)}function sb(t,e){return{usr:t.state,key:t.key,idx:e}}function U0(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pc(e):e,state:r,key:e&&e.key||n||HA()}}function Ou({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function pc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function qA(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l="POP",c=null,f=p();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function p(){return(s.state||{idx:null}).idx}function v(){l="POP";let C=p(),O=C==null?null:C-f;f=C,c&&c({action:l,location:S.location,delta:O})}function y(C,O){l="PUSH";let j=U0(S.location,C,O);r&&r(j,C),f=p()+1;let R=sb(j,f),B=S.createHref(j);try{s.pushState(R,"",B)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(B)}a&&c&&c({action:l,location:S.location,delta:1})}function _(C,O){l="REPLACE";let j=U0(S.location,C,O);r&&r(j,C),f=p();let R=sb(j,f),B=S.createHref(j);s.replaceState(R,"",B),a&&c&&c({action:l,location:S.location,delta:0})}function E(C){return sS(C)}let S={get action(){return l},get location(){return t(i,s)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ab,v),c=C,()=>{i.removeEventListener(ab,v),c=null}},createHref(C){return e(i,C)},createURL:E,encodeLocation(C){let O=E(C);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:_,go(C){return s.go(C)}};return S}function sS(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Yr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Ou(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var d0,ob=class{constructor(t){if(zA(this,d0,new Map),t)for(let[e,r]of t)this.set(e,r)}get(t){if(Dv(this,d0).has(t))return Dv(this,d0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Dv(this,d0).set(t,e)}};d0=new WeakMap;var VA=new Set(["lazy","caseSensitive","path","id","index","children"]);function $A(t){return VA.has(t)}var WA=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function ZA(t){return WA.has(t)}function YA(t){return t.index===!0}function z0(t,e,r=[],n={},i=!1){return t.map((a,s)=>{let l=[...r,String(s)],c=typeof a.id=="string"?a.id:l.join("-");if(Yr(a.index!==!0||!a.children,"Cannot specify children on an index route"),Yr(i||!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),YA(a)){let f={...a,id:c};return n[c]=lb(f,e(f)),f}else{let f={...a,id:c,children:void 0};return n[c]=lb(f,e(f)),a.children&&(f.children=z0(a.children,e,l,n,i)),f}})}function lb(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function Wc(t,e,r="/"){return p0(t,e,r,!1)}function p0(t,e,r,n){let i=typeof e=="string"?pc(e):e,a=wl(i.pathname||"/",r);if(a==null)return null;let s=oS(t);XA(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let f=lL(a);l=sL(s[c],f,n)}return l}function KA(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],loaderData:e[r.id],handle:r.handle}}function oS(t,e=[],r=[],n="",i=!1){let a=(s,l,c=i,f)=>{let p={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&c)return;Yr(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let v=Pu([n,p.relativePath]),y=r.concat(p);s.children&&s.children.length>0&&(Yr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),oS(s.children,e,y,v,c)),!(s.path==null&&!s.index)&&e.push({path:v,score:iL(v,s.index),routesMeta:y})};return t.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))a(s,l);else for(let c of lS(s.path))a(s,l,!0,c)}),e}function lS(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=lS(n.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function XA(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:aL(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var JA=/^:[\w-]+$/,QA=3,eL=2,tL=1,rL=10,nL=-2,ub=t=>t==="*";function iL(t,e){let r=t.split("/"),n=r.length;return r.some(ub)&&(n+=nL),e&&(n+=eL),r.filter(i=>!ub(i)).reduce((i,a)=>i+(JA.test(a)?QA:a===""?tL:rL),n)}function aL(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function sL(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],f=l===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=fg({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),y=c.route;if(!v&&f&&r&&!n[n.length-1].route.index&&(v=fg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!v)return null;Object.assign(i,v.params),s.push({params:i,pathname:Pu([a,v.pathname]),pathnameBase:hL(Pu([a,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(a=Pu([a,v.pathnameBase]))}return s}function fg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=oL(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:v},y)=>{if(p==="*"){let E=l[y]||"";s=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const _=l[y];return v&&!_?f[p]=void 0:f[p]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function oL(t,e=!1,r=!0){Ki(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function lL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ki(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function uL({basename:t,pathname:e}){return e==="/"?t:Pu([t,e])}var uS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P_=t=>uS.test(t);function cL(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?pc(t):t,a;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?a=cb(r.substring(1),"/"):a=cb(r,e)):a=e,{pathname:a,search:fL(n),hash:dL(i)}}function cb(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function jv(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cS(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Yg(t){let e=cS(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Kg(t,e,r,n=!1){let i;typeof t=="string"?i=pc(t):(i={...t},Yr(!i.pathname||!i.pathname.includes("?"),jv("?","pathname","search",i)),Yr(!i.pathname||!i.pathname.includes("#"),jv("#","pathname","hash",i)),Yr(!i.search||!i.search.includes("#"),jv("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let v=e.length-1;if(!n&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}l=v>=0?e[v]:"/"}let c=cL(i,l),f=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}var Pu=t=>t.join("/").replace(/\/\/+/g,"/"),hL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,cp=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function G0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function hp(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fS(t,e){let r=t;if(typeof r!="string"||!uS.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(hS)try{let a=new URL(window.location.href),s=r.startsWith("//")?new URL(a.protocol+r):new URL(r),l=wl(s.pathname,e);s.origin===a.origin&&l!=null?r=l+s.search+s.hash:i=!0}catch{Ki(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}var Kc=Symbol("Uninstrumented");function pL(t,e){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(a){let s=Object.keys(r);for(let l of s)a[l]&&r[l].push(a[l])}}));let n={};if(typeof e.lazy=="function"&&r.lazy.length>0){let i=Kf(r.lazy,e.lazy,()=>{});i&&(n.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(a=>{let s=i[a],l=r[`lazy.${a}`];if(typeof s=="function"&&l.length>0){let c=Kf(l,s,()=>{});c&&(n.lazy=Object.assign(n.lazy||{},{[a]:c}))}})}return["loader","action"].forEach(i=>{let a=e[i];if(typeof a=="function"&&r[i].length>0){let s=a[Kc]??a,l=Kf(r[i],s,(...c)=>hb(c[0]));l&&(i==="loader"&&s.hydrate===!0&&(l.hydrate=!0),l[Kc]=s,n[i]=l)}}),e.middleware&&e.middleware.length>0&&r.middleware.length>0&&(n.middleware=e.middleware.map(i=>{let a=i[Kc]??i,s=Kf(r.middleware,a,(...l)=>hb(l[0]));return s?(s[Kc]=a,s):i})),n}function mL(t,e){let r={navigate:[],fetch:[]};if(e.forEach(n=>n({instrument(i){let a=Object.keys(i);for(let s of a)i[s]&&r[s].push(i[s])}})),r.navigate.length>0){let n=t.navigate[Kc]??t.navigate,i=Kf(r.navigate,n,(...a)=>{let[s,l]=a;return{to:typeof s=="number"||typeof s=="string"?s:s?Ou(s):".",...fb(t,l??{})}});i&&(i[Kc]=n,t.navigate=i)}if(r.fetch.length>0){let n=t.fetch[Kc]??t.fetch,i=Kf(r.fetch,n,(...a)=>{let[s,,l,c]=a;return{href:l??".",fetcherKey:s,...fb(t,c??{})}});i&&(i[Kc]=n,t.fetch=i)}return t}function Kf(t,e,r){return t.length===0?null:async(...n)=>{let i=await dS(t,r(...n),()=>e(...n),t.length-1);if(i.type==="error")throw i.value;return i.value}}async function dS(t,e,r,n){let i=t[n],a;if(i){let s,l=async()=>(s?console.error("You cannot call instrumented handlers more than once"):s=dS(t,e,r,n-1),a=await s,Yr(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await i(l,e)}catch(c){console.error("An instrumentation function threw an error:",c)}s||await l(),await s}else try{a={type:"success",value:await r()}}catch(s){a={type:"error",value:s}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function hb(t){let{request:e,context:r,params:n,unstable_pattern:i}=t;return{request:gL(e),params:{...n},unstable_pattern:i,context:vL(r)}}function fb(t,e){return{currentUrl:Ou(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function gL(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function vL(t){if(yL(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var _L=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yL(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===_L}var pS=["POST","PUT","PATCH","DELETE"],xL=new Set(pS),wL=["GET",...pS],bL=new Set(wL),mS=new Set([301,302,303,307,308]),SL=new Set([307,308]),Iv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},EL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},n0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},TL=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),gS="remix-router-transitions",vS=Symbol("ResetLoaderData");function AL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Yr(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=t.hydrationRouteProperties||[],i=t.mapRouteProperties||TL,a=i;if(t.unstable_instrumentations){let Ce=t.unstable_instrumentations;a=Ge=>({...i(Ge),...pL(Ce.map(qe=>qe.route).filter(Boolean),Ge)})}let s={},l=z0(t.routes,a,void 0,s),c,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let p=t.dataStrategy||kL,v={...t.future},y=null,_=new Set,E=null,S=null,C=null,O=t.hydrationData!=null,j=Wc(l,t.history.location,f),R=!1,B=null,J;if(j==null&&!t.patchRoutesOnNavigation){let Ce=gl(404,{pathname:t.history.location.pathname}),{matches:Ge,route:qe}=_m(l);J=!0,j=Ge,B={[qe.id]:Ce}}else if(j&&!t.hydrationData&&Ji(j,l,t.history.location.pathname).active&&(j=null),j)if(j.some(Ce=>Ce.route.lazy))J=!1;else if(!j.some(Ce=>O_(Ce.route)))J=!0;else{let Ce=t.hydrationData?t.hydrationData.loaderData:null,Ge=t.hydrationData?t.hydrationData.errors:null;if(Ge){let qe=j.findIndex(Ye=>Ge[Ye.route.id]!==void 0);J=j.slice(0,qe+1).every(Ye=>!$2(Ye.route,Ce,Ge))}else J=j.every(qe=>!$2(qe.route,Ce,Ge))}else{J=!1,j=[];let Ce=Ji(null,l,t.history.location.pathname);Ce.active&&Ce.matches&&(R=!0,j=Ce.matches)}let re,F={historyAction:t.history.action,location:t.history.location,matches:j,initialized:J,navigation:Iv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||B,fetchers:new Map,blockers:new Map},K="POP",U=null,X=!1,I,W=!1,ue=new Map,pe=null,xe=!1,le=!1,be=new Set,_e=new Map,Le=0,Ne=-1,ee=new Map,P=new Set,H=new Map,q=new Map,Z=new Set,oe=new Map,Ae,Oe=null;function Re(){if(y=t.history.listen(({action:Ce,location:Ge,delta:qe})=>{if(Ae){Ae(),Ae=void 0;return}Ki(oe.size===0||qe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ye=en({currentLocation:F.location,nextLocation:Ge,historyAction:Ce});if(Ye&&qe!=null){let Y=new Promise(me=>{Ae=me});t.history.go(qe*-1),cr(Ye,{state:"blocked",location:Ge,proceed(){cr(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Ge}),Y.then(()=>t.history.go(qe))},reset(){let me=new Map(F.blockers);me.set(Ye,n0),it({blockers:me})}}),U?.resolve(),U=null;return}return yt(Ce,Ge)}),r){YL(e,ue);let Ce=()=>KL(e,ue);e.addEventListener("pagehide",Ce),pe=()=>e.removeEventListener("pagehide",Ce)}return F.initialized||yt("POP",F.location,{initialHydration:!0}),re}function Ie(){y&&y(),pe&&pe(),_.clear(),I&&I.abort(),F.fetchers.forEach((Ce,Ge)=>xn(Ge)),F.blockers.forEach((Ce,Ge)=>ur(Ge))}function ot(Ce){return _.add(Ce),()=>_.delete(Ce)}function it(Ce,Ge={}){Ce.matches&&(Ce.matches=Ce.matches.map(Y=>{let me=s[Y.route.id],ne=Y.route;return ne.element!==me.element||ne.errorElement!==me.errorElement||ne.hydrateFallbackElement!==me.hydrateFallbackElement?{...Y,route:me}:Y})),F={...F,...Ce};let qe=[],Ye=[];F.fetchers.forEach((Y,me)=>{Y.state==="idle"&&(Z.has(me)?qe.push(me):Ye.push(me))}),Z.forEach(Y=>{!F.fetchers.has(Y)&&!_e.has(Y)&&qe.push(Y)}),[..._].forEach(Y=>Y(F,{deletedFetchers:qe,newErrors:Ce.errors??null,viewTransitionOpts:Ge.viewTransitionOpts,flushSync:Ge.flushSync===!0})),qe.forEach(Y=>xn(Y)),Ye.forEach(Y=>F.fetchers.delete(Y))}function Tt(Ce,Ge,{flushSync:qe}={}){let Ye=F.actionData!=null&&F.navigation.formMethod!=null&&js(F.navigation.formMethod)&&F.navigation.state==="loading"&&Ce.state?._isRedirect!==!0,Y;Ge.actionData?Object.keys(Ge.actionData).length>0?Y=Ge.actionData:Y=null:Ye?Y=F.actionData:Y=null;let me=Ge.loaderData?bb(F.loaderData,Ge.loaderData,Ge.matches||[],Ge.errors):F.loaderData,ne=F.blockers;ne.size>0&&(ne=new Map(ne),ne.forEach((Pe,ze)=>ne.set(ze,n0)));let ie=xe?!1:li(Ce,Ge.matches||F.matches),he=X===!0||F.navigation.formMethod!=null&&js(F.navigation.formMethod)&&Ce.state?._isRedirect!==!0;c&&(l=c,c=void 0),xe||K==="POP"||(K==="PUSH"?t.history.push(Ce,Ce.state):K==="REPLACE"&&t.history.replace(Ce,Ce.state));let ve;if(K==="POP"){let Pe=ue.get(F.location.pathname);Pe&&Pe.has(Ce.pathname)?ve={currentLocation:F.location,nextLocation:Ce}:ue.has(Ce.pathname)&&(ve={currentLocation:Ce,nextLocation:F.location})}else if(W){let Pe=ue.get(F.location.pathname);Pe?Pe.add(Ce.pathname):(Pe=new Set([Ce.pathname]),ue.set(F.location.pathname,Pe)),ve={currentLocation:F.location,nextLocation:Ce}}it({...Ge,actionData:Y,loaderData:me,historyAction:K,location:Ce,initialized:!0,navigation:Iv,revalidation:"idle",restoreScrollPosition:ie,preventScrollReset:he,blockers:ne},{viewTransitionOpts:ve,flushSync:qe===!0}),K="POP",X=!1,W=!1,xe=!1,le=!1,U?.resolve(),U=null,Oe?.resolve(),Oe=null}async function Nt(Ce,Ge){if(U?.resolve(),U=null,typeof Ce=="number"){U||(U=Ab());let Ue=U.promise;return t.history.go(Ce),Ue}let qe=V2(F.location,F.matches,f,Ce,Ge?.fromRouteId,Ge?.relative),{path:Ye,submission:Y,error:me}=db(!1,qe,Ge),ne=F.location,ie=U0(F.location,Ye,Ge&&Ge.state);ie={...ie,...t.history.encodeLocation(ie)};let he=Ge&&Ge.replace!=null?Ge.replace:void 0,ve="PUSH";he===!0?ve="REPLACE":he===!1||Y!=null&&js(Y.formMethod)&&Y.formAction===F.location.pathname+F.location.search&&(ve="REPLACE");let Pe=Ge&&"preventScrollReset"in Ge?Ge.preventScrollReset===!0:void 0,ze=(Ge&&Ge.flushSync)===!0,Be=en({currentLocation:ne,nextLocation:ie,historyAction:ve});if(Be){cr(Be,{state:"blocked",location:ie,proceed(){cr(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),Nt(Ce,Ge)},reset(){let Ue=new Map(F.blockers);Ue.set(Be,n0),it({blockers:Ue})}});return}await yt(ve,ie,{submission:Y,pendingError:me,preventScrollReset:Pe,replace:Ge&&Ge.replace,enableViewTransition:Ge&&Ge.viewTransition,flushSync:ze,callSiteDefaultShouldRevalidate:Ge&&Ge.unstable_defaultShouldRevalidate})}function we(){Oe||(Oe=Ab()),Nr(),it({revalidation:"loading"});let Ce=Oe.promise;return F.navigation.state==="submitting"?Ce:F.navigation.state==="idle"?(yt(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),Ce):(yt(K||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:W===!0}),Ce)}async function yt(Ce,Ge,qe){I&&I.abort(),I=null,K=Ce,xe=(qe&&qe.startUninterruptedRevalidation)===!0,ba(F.location,F.matches),X=(qe&&qe.preventScrollReset)===!0,W=(qe&&qe.enableViewTransition)===!0;let Ye=c||l,Y=qe&&qe.overrideNavigation,me=qe?.initialHydration&&F.matches&&F.matches.length>0&&!R?F.matches:Wc(Ye,Ge,f),ne=(qe&&qe.flushSync)===!0;if(me&&F.initialized&&!le&&BL(F.location,Ge)&&!(qe&&qe.submission&&js(qe.submission.formMethod))){Tt(Ge,{matches:me},{flushSync:ne});return}let ie=Ji(me,Ye,Ge.pathname);if(ie.active&&ie.matches&&(me=ie.matches),!me){let{error:ht,notFoundMatches:bt,route:wt}=xr(Ge.pathname);Tt(Ge,{matches:bt,loaderData:{},errors:{[wt.id]:ht}},{flushSync:ne});return}I=new AbortController;let he=Gf(t.history,Ge,I.signal,qe&&qe.submission),ve=t.getContext?await t.getContext():new ob,Pe;if(qe&&qe.pendingError)Pe=[Zc(me).route.id,{type:"error",error:qe.pendingError}];else if(qe&&qe.submission&&js(qe.submission.formMethod)){let ht=await xt(he,Ge,qe.submission,me,ve,ie.active,qe&&qe.initialHydration===!0,{replace:qe.replace,flushSync:ne});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[bt,wt]=ht.pendingActionResult;if(Zo(wt)&&G0(wt.error)&&wt.error.status===404){I=null,Tt(Ge,{matches:ht.matches,loaderData:{},errors:{[bt]:wt.error}});return}}me=ht.matches||me,Pe=ht.pendingActionResult,Y=Fv(Ge,qe.submission),ne=!1,ie.active=!1,he=Gf(t.history,he.url,he.signal)}let{shortCircuited:ze,matches:Be,loaderData:Ue,errors:$e}=await zt(he,Ge,me,ve,ie.active,Y,qe&&qe.submission,qe&&qe.fetcherSubmission,qe&&qe.replace,qe&&qe.initialHydration===!0,ne,Pe,qe&&qe.callSiteDefaultShouldRevalidate);ze||(I=null,Tt(Ge,{matches:Be||me,...Sb(Pe),loaderData:Ue,errors:$e}))}async function xt(Ce,Ge,qe,Ye,Y,me,ne,ie={}){Nr();let he=WL(Ge,qe);if(it({navigation:he},{flushSync:ie.flushSync===!0}),me){let ze=await Ni(Ye,Ge.pathname,Ce.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){if(ze.partialMatches.length===0){let{matches:Ue,route:$e}=_m(l);return{matches:Ue,pendingActionResult:[$e.id,{type:"error",error:ze.error}]}}let Be=Zc(ze.partialMatches).route.id;return{matches:ze.partialMatches,pendingActionResult:[Be,{type:"error",error:ze.error}]}}else if(ze.matches)Ye=ze.matches;else{let{notFoundMatches:Be,error:Ue,route:$e}=xr(Ge.pathname);return{matches:Be,pendingActionResult:[$e.id,{type:"error",error:Ue}]}}}let ve,Pe=Qm(Ye,Ge);if(!Pe.route.action&&!Pe.route.lazy)ve={type:"error",error:gl(405,{method:Ce.method,pathname:Ge.pathname,routeId:Pe.route.id})};else{let ze=id(a,s,Ce,Ye,Pe,ne?[]:n,Y),Be=await Er(Ce,ze,Y,null);if(ve=Be[Pe.route.id],!ve){for(let Ue of Ye)if(Be[Ue.route.id]){ve=Be[Ue.route.id];break}}if(Ce.signal.aborted)return{shortCircuited:!0}}if(Ph(ve)){let ze;return ie&&ie.replace!=null?ze=ie.replace:ze=yb(ve.response.headers.get("Location"),new URL(Ce.url),f,t.history)===F.location.pathname+F.location.search,await Jt(Ce,ve,!0,{submission:qe,replace:ze}),{shortCircuited:!0}}if(Zo(ve)){let ze=Zc(Ye,Pe.route.id);return(ie&&ie.replace)!==!0&&(K="PUSH"),{matches:Ye,pendingActionResult:[ze.route.id,ve,Pe.route.id]}}return{matches:Ye,pendingActionResult:[Pe.route.id,ve]}}async function zt(Ce,Ge,qe,Ye,Y,me,ne,ie,he,ve,Pe,ze,Be){let Ue=me||Fv(Ge,ne),$e=ne||ie||Tb(Ue),ht=!xe&&!ve;if(Y){if(ht){let Ut=dt(ze);it({navigation:Ue,...Ut!==void 0?{actionData:Ut}:{}},{flushSync:Pe})}let Ar=await Ni(qe,Ge.pathname,Ce.signal);if(Ar.type==="aborted")return{shortCircuited:!0};if(Ar.type==="error"){if(Ar.partialMatches.length===0){let{matches:qr,route:ri}=_m(l);return{matches:qr,loaderData:{},errors:{[ri.id]:Ar.error}}}let Ut=Zc(Ar.partialMatches).route.id;return{matches:Ar.partialMatches,loaderData:{},errors:{[Ut]:Ar.error}}}else if(Ar.matches)qe=Ar.matches;else{let{error:Ut,notFoundMatches:qr,route:ri}=xr(Ge.pathname);return{matches:qr,loaderData:{},errors:{[ri.id]:Ut}}}}let bt=c||l,{dsMatches:wt,revalidatingFetchers:gt}=pb(Ce,Ye,a,s,t.history,F,qe,$e,Ge,ve?[]:n,ve===!0,le,be,Z,H,P,bt,f,t.patchRoutesOnNavigation!=null,ze,Be);if(Ne=++Le,!t.dataStrategy&&!wt.some(Ar=>Ar.shouldLoad)&&!wt.some(Ar=>Ar.route.middleware&&Ar.route.middleware.length>0)&&gt.length===0){let Ar=Dr();return Tt(Ge,{matches:qe,loaderData:{},errors:ze&&Zo(ze[1])?{[ze[0]]:ze[1].error}:null,...Sb(ze),...Ar?{fetchers:new Map(F.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(ht){let Ar={};if(!Y){Ar.navigation=Ue;let Ut=dt(ze);Ut!==void 0&&(Ar.actionData=Ut)}gt.length>0&&(Ar.fetchers=Vt(gt)),it(Ar,{flushSync:Pe})}gt.forEach(Ar=>{Gt(Ar.key),Ar.controller&&_e.set(Ar.key,Ar.controller)});let Mt=()=>gt.forEach(Ar=>Gt(Ar.key));I&&I.signal.addEventListener("abort",Mt);let{loaderResults:Bt,fetcherResults:Hr}=await dr(wt,gt,Ce,Ye);if(Ce.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Mt),gt.forEach(Ar=>_e.delete(Ar.key));let wr=ym(Bt);if(wr)return await Jt(Ce,wr.result,!0,{replace:he}),{shortCircuited:!0};if(wr=ym(Hr),wr)return P.add(wr.key),await Jt(Ce,wr.result,!0,{replace:he}),{shortCircuited:!0};let{loaderData:nn,errors:Kn}=wb(F,qe,Bt,ze,gt,Hr);ve&&F.errors&&(Kn={...F.errors,...Kn});let Xn=Dr(),Qi=Yt(Ne),Ci=Xn||Qi||gt.length>0;return{matches:qe,loaderData:nn,errors:Kn,...Ci?{fetchers:new Map(F.fetchers)}:{}}}function dt(Ce){if(Ce&&!Zo(Ce[1]))return{[Ce[0]]:Ce[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function Vt(Ce){return Ce.forEach(Ge=>{let qe=F.fetchers.get(Ge.key),Ye=i0(void 0,qe?qe.data:void 0);F.fetchers.set(Ge.key,Ye)}),new Map(F.fetchers)}async function jt(Ce,Ge,qe,Ye){Gt(Ce);let Y=(Ye&&Ye.flushSync)===!0,me=c||l,ne=V2(F.location,F.matches,f,qe,Ge,Ye?.relative),ie=Wc(me,ne,f),he=Ji(ie,me,ne);if(he.active&&he.matches&&(ie=he.matches),!ie){Ft(Ce,Ge,gl(404,{pathname:ne}),{flushSync:Y});return}let{path:ve,submission:Pe,error:ze}=db(!0,ne,Ye);if(ze){Ft(Ce,Ge,ze,{flushSync:Y});return}let Be=t.getContext?await t.getContext():new ob,Ue=(Ye&&Ye.preventScrollReset)===!0;if(Pe&&js(Pe.formMethod)){await sr(Ce,Ge,ve,ie,Be,he.active,Y,Ue,Pe,Ye&&Ye.unstable_defaultShouldRevalidate);return}H.set(Ce,{routeId:Ge,path:ve}),await Xt(Ce,Ge,ve,ie,Be,he.active,Y,Ue,Pe)}async function sr(Ce,Ge,qe,Ye,Y,me,ne,ie,he,ve){Nr(),H.delete(Ce);let Pe=F.fetchers.get(Ce);or(Ce,ZL(he,Pe),{flushSync:ne});let ze=new AbortController,Be=Gf(t.history,qe,ze.signal,he);if(me){let ar=await Ni(Ye,new URL(Be.url).pathname,Be.signal,Ce);if(ar.type==="aborted")return;if(ar.type==="error"){Ft(Ce,Ge,ar.error,{flushSync:ne});return}else if(ar.matches)Ye=ar.matches;else{Ft(Ce,Ge,gl(404,{pathname:qe}),{flushSync:ne});return}}let Ue=Qm(Ye,qe);if(!Ue.route.action&&!Ue.route.lazy){let ar=gl(405,{method:he.formMethod,pathname:qe,routeId:Ge});Ft(Ce,Ge,ar,{flushSync:ne});return}_e.set(Ce,ze);let $e=Le,ht=id(a,s,Be,Ye,Ue,n,Y),bt=await Er(Be,ht,Y,Ce),wt=bt[Ue.route.id];if(!wt){for(let ar of ht)if(bt[ar.route.id]){wt=bt[ar.route.id];break}}if(Be.signal.aborted){_e.get(Ce)===ze&&_e.delete(Ce);return}if(Z.has(Ce)){if(Ph(wt)||Zo(wt)){or(Ce,ac(void 0));return}}else{if(Ph(wt))if(_e.delete(Ce),Ne>$e){or(Ce,ac(void 0));return}else return P.add(Ce),or(Ce,i0(he)),Jt(Be,wt,!1,{fetcherSubmission:he,preventScrollReset:ie});if(Zo(wt)){Ft(Ce,Ge,wt.error);return}}let gt=F.navigation.location||F.location,Mt=Gf(t.history,gt,ze.signal),Bt=c||l,Hr=F.navigation.state!=="idle"?Wc(Bt,F.navigation.location,f):F.matches;Yr(Hr,"Didn't find any matches after fetcher action");let wr=++Le;ee.set(Ce,wr);let nn=i0(he,wt.data);F.fetchers.set(Ce,nn);let{dsMatches:Kn,revalidatingFetchers:Xn}=pb(Mt,Y,a,s,t.history,F,Hr,he,gt,n,!1,le,be,Z,H,P,Bt,f,t.patchRoutesOnNavigation!=null,[Ue.route.id,wt],ve);Xn.filter(ar=>ar.key!==Ce).forEach(ar=>{let Sa=ar.key,Ea=F.fetchers.get(Sa),yr=i0(void 0,Ea?Ea.data:void 0);F.fetchers.set(Sa,yr),Gt(Sa),ar.controller&&_e.set(Sa,ar.controller)}),it({fetchers:new Map(F.fetchers)});let Qi=()=>Xn.forEach(ar=>Gt(ar.key));ze.signal.addEventListener("abort",Qi);let{loaderResults:Ci,fetcherResults:Ar}=await dr(Kn,Xn,Mt,Y);if(ze.signal.aborted)return;if(ze.signal.removeEventListener("abort",Qi),ee.delete(Ce),_e.delete(Ce),Xn.forEach(ar=>_e.delete(ar.key)),F.fetchers.has(Ce)){let ar=ac(wt.data);F.fetchers.set(Ce,ar)}let Ut=ym(Ci);if(Ut)return Jt(Mt,Ut.result,!1,{preventScrollReset:ie});if(Ut=ym(Ar),Ut)return P.add(Ut.key),Jt(Mt,Ut.result,!1,{preventScrollReset:ie});let{loaderData:qr,errors:ri}=wb(F,Hr,Ci,void 0,Xn,Ar);Yt(wr),F.navigation.state==="loading"&&wr>Ne?(Yr(K,"Expected pending action"),I&&I.abort(),Tt(F.navigation.location,{matches:Hr,loaderData:qr,errors:ri,fetchers:new Map(F.fetchers)})):(it({errors:ri,loaderData:bb(F.loaderData,qr,Hr,ri),fetchers:new Map(F.fetchers)}),le=!1)}async function Xt(Ce,Ge,qe,Ye,Y,me,ne,ie,he){let ve=F.fetchers.get(Ce);or(Ce,i0(he,ve?ve.data:void 0),{flushSync:ne});let Pe=new AbortController,ze=Gf(t.history,qe,Pe.signal);if(me){let wt=await Ni(Ye,new URL(ze.url).pathname,ze.signal,Ce);if(wt.type==="aborted")return;if(wt.type==="error"){Ft(Ce,Ge,wt.error,{flushSync:ne});return}else if(wt.matches)Ye=wt.matches;else{Ft(Ce,Ge,gl(404,{pathname:qe}),{flushSync:ne});return}}let Be=Qm(Ye,qe);_e.set(Ce,Pe);let Ue=Le,$e=id(a,s,ze,Ye,Be,n,Y),bt=(await Er(ze,$e,Y,Ce))[Be.route.id];if(_e.get(Ce)===Pe&&_e.delete(Ce),!ze.signal.aborted){if(Z.has(Ce)){or(Ce,ac(void 0));return}if(Ph(bt))if(Ne>Ue){or(Ce,ac(void 0));return}else{P.add(Ce),await Jt(ze,bt,!1,{preventScrollReset:ie});return}if(Zo(bt)){Ft(Ce,Ge,bt.error);return}or(Ce,ac(bt.data))}}async function Jt(Ce,Ge,qe,{submission:Ye,fetcherSubmission:Y,preventScrollReset:me,replace:ne}={}){qe||(U?.resolve(),U=null),Ge.response.headers.has("X-Remix-Revalidate")&&(le=!0);let ie=Ge.response.headers.get("Location");Yr(ie,"Expected a Location header on the redirect Response"),ie=yb(ie,new URL(Ce.url),f,t.history);let he=U0(F.location,ie,{_isRedirect:!0});if(r){let $e=!1;if(Ge.response.headers.has("X-Remix-Reload-Document"))$e=!0;else if(P_(ie)){const ht=sS(ie,!0);$e=ht.origin!==e.location.origin||wl(ht.pathname,f)==null}if($e){ne?e.location.replace(ie):e.location.assign(ie);return}}I=null;let ve=ne===!0||Ge.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:ze,formEncType:Be}=F.navigation;!Ye&&!Y&&Pe&&ze&&Be&&(Ye=Tb(F.navigation));let Ue=Ye||Y;if(SL.has(Ge.response.status)&&Ue&&js(Ue.formMethod))await yt(ve,he,{submission:{...Ue,formAction:ie},preventScrollReset:me||X,enableViewTransition:qe?W:void 0});else{let $e=Fv(he,Ye);await yt(ve,he,{overrideNavigation:$e,fetcherSubmission:Y,preventScrollReset:me||X,enableViewTransition:qe?W:void 0})}}async function Er(Ce,Ge,qe,Ye){let Y,me={};try{Y=await OL(p,Ce,Ge,Ye,qe,!1)}catch(ne){return Ge.filter(ie=>ie.shouldLoad).forEach(ie=>{me[ie.route.id]={type:"error",error:ne}}),me}if(Ce.signal.aborted)return me;if(!js(Ce.method))for(let ne of Ge){if(Y[ne.route.id]?.type==="error")break;!Y.hasOwnProperty(ne.route.id)&&!F.loaderData.hasOwnProperty(ne.route.id)&&(!F.errors||!F.errors.hasOwnProperty(ne.route.id))&&ne.shouldCallHandler()&&(Y[ne.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ne.route.id}`)})}for(let[ne,ie]of Object.entries(Y))if(HL(ie)){let he=ie.result;me[ne]={type:"redirect",response:IL(he,Ce,ne,Ge,f)}}else me[ne]=await jL(ie);return me}async function dr(Ce,Ge,qe,Ye){let Y=Er(qe,Ce,Ye,null),me=Promise.all(Ge.map(async he=>{if(he.matches&&he.match&&he.request&&he.controller){let Pe=(await Er(he.request,he.matches,Ye,he.key))[he.match.route.id];return{[he.key]:Pe}}else return Promise.resolve({[he.key]:{type:"error",error:gl(404,{pathname:he.path})}})})),ne=await Y,ie=(await me).reduce((he,ve)=>Object.assign(he,ve),{});return{loaderResults:ne,fetcherResults:ie}}function Nr(){le=!0,H.forEach((Ce,Ge)=>{_e.has(Ge)&&be.add(Ge),Gt(Ge)})}function or(Ce,Ge,qe={}){F.fetchers.set(Ce,Ge),it({fetchers:new Map(F.fetchers)},{flushSync:(qe&&qe.flushSync)===!0})}function Ft(Ce,Ge,qe,Ye={}){let Y=Zc(F.matches,Ge);xn(Ce),it({errors:{[Y.route.id]:qe},fetchers:new Map(F.fetchers)},{flushSync:(Ye&&Ye.flushSync)===!0})}function _r(Ce){return q.set(Ce,(q.get(Ce)||0)+1),Z.has(Ce)&&Z.delete(Ce),F.fetchers.get(Ce)||EL}function Wt(Ce,Ge){Gt(Ce,Ge?.reason),or(Ce,ac(null))}function xn(Ce){let Ge=F.fetchers.get(Ce);_e.has(Ce)&&!(Ge&&Ge.state==="loading"&&ee.has(Ce))&&Gt(Ce),H.delete(Ce),ee.delete(Ce),P.delete(Ce),Z.delete(Ce),be.delete(Ce),F.fetchers.delete(Ce)}function Mr(Ce){let Ge=(q.get(Ce)||0)-1;Ge<=0?(q.delete(Ce),Z.add(Ce)):q.set(Ce,Ge),it({fetchers:new Map(F.fetchers)})}function Gt(Ce,Ge){let qe=_e.get(Ce);qe&&(qe.abort(Ge),_e.delete(Ce))}function pr(Ce){for(let Ge of Ce){let qe=_r(Ge),Ye=ac(qe.data);F.fetchers.set(Ge,Ye)}}function Dr(){let Ce=[],Ge=!1;for(let qe of P){let Ye=F.fetchers.get(qe);Yr(Ye,`Expected fetcher: ${qe}`),Ye.state==="loading"&&(P.delete(qe),Ce.push(qe),Ge=!0)}return pr(Ce),Ge}function Yt(Ce){let Ge=[];for(let[qe,Ye]of ee)if(Ye<Ce){let Y=F.fetchers.get(qe);Yr(Y,`Expected fetcher: ${qe}`),Y.state==="loading"&&(Gt(qe),ee.delete(qe),Ge.push(qe))}return pr(Ge),Ge.length>0}function un(Ce,Ge){let qe=F.blockers.get(Ce)||n0;return oe.get(Ce)!==Ge&&oe.set(Ce,Ge),qe}function ur(Ce){F.blockers.delete(Ce),oe.delete(Ce)}function cr(Ce,Ge){let qe=F.blockers.get(Ce)||n0;Yr(qe.state==="unblocked"&&Ge.state==="blocked"||qe.state==="blocked"&&Ge.state==="blocked"||qe.state==="blocked"&&Ge.state==="proceeding"||qe.state==="blocked"&&Ge.state==="unblocked"||qe.state==="proceeding"&&Ge.state==="unblocked",`Invalid blocker state transition: ${qe.state} -> ${Ge.state}`);let Ye=new Map(F.blockers);Ye.set(Ce,Ge),it({blockers:Ye})}function en({currentLocation:Ce,nextLocation:Ge,historyAction:qe}){if(oe.size===0)return;oe.size>1&&Ki(!1,"A router only supports one blocker at a time");let Ye=Array.from(oe.entries()),[Y,me]=Ye[Ye.length-1],ne=F.blockers.get(Y);if(!(ne&&ne.state==="proceeding")&&me({currentLocation:Ce,nextLocation:Ge,historyAction:qe}))return Y}function xr(Ce){let Ge=gl(404,{pathname:Ce}),qe=c||l,{matches:Ye,route:Y}=_m(qe);return{notFoundMatches:Ye,route:Y,error:Ge}}function Zt(Ce,Ge,qe){if(E=Ce,C=Ge,S=qe||null,!O&&F.navigation===Iv){O=!0;let Ye=li(F.location,F.matches);Ye!=null&&it({restoreScrollPosition:Ye})}return()=>{E=null,C=null,S=null}}function Gr(Ce,Ge){return S&&S(Ce,Ge.map(Ye=>KA(Ye,F.loaderData)))||Ce.key}function ba(Ce,Ge){if(E&&C){let qe=Gr(Ce,Ge);E[qe]=C()}}function li(Ce,Ge){if(E){let qe=Gr(Ce,Ge),Ye=E[qe];if(typeof Ye=="number")return Ye}return null}function Ji(Ce,Ge,qe){if(t.patchRoutesOnNavigation)if(Ce){if(Object.keys(Ce[0].params).length>0)return{active:!0,matches:p0(Ge,qe,f,!0)}}else return{active:!0,matches:p0(Ge,qe,f,!0)||[]};return{active:!1,matches:null}}async function Ni(Ce,Ge,qe,Ye){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Ce};let Y=Ce;for(;;){let me=c==null,ne=c||l,ie=s;try{await t.patchRoutesOnNavigation({signal:qe,path:Ge,matches:Y,fetcherKey:Ye,patch:(Pe,ze)=>{qe.aborted||mb(Pe,ze,ne,ie,a,!1)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:Y}}finally{me&&!qe.aborted&&(l=[...l])}if(qe.aborted)return{type:"aborted"};let he=Wc(ne,Ge,f),ve=null;if(he){if(Object.keys(he[0].params).length===0)return{type:"success",matches:he};if(ve=p0(ne,Ge,f,!0),!(ve&&Y.length<ve.length&&Qt(Y,ve.slice(0,Y.length))))return{type:"success",matches:he}}if(ve||(ve=p0(ne,Ge,f,!0)),!ve||Qt(Y,ve))return{type:"success",matches:null};Y=ve}}function Qt(Ce,Ge){return Ce.length===Ge.length&&Ce.every((qe,Ye)=>qe.route.id===Ge[Ye].route.id)}function Ka(Ce){s={},c=z0(Ce,a,void 0,s)}function Fa(Ce,Ge,qe=!1){let Ye=c==null;mb(Ce,Ge,c||l,s,a,qe),Ye&&(l=[...l],it({}))}return re={get basename(){return f},get future(){return v},get state(){return F},get routes(){return l},get window(){return e},initialize:Re,subscribe:ot,enableScrollRestoration:Zt,navigate:Nt,fetch:jt,revalidate:we,createHref:Ce=>t.history.createHref(Ce),encodeLocation:Ce=>t.history.encodeLocation(Ce),getFetcher:_r,resetFetcher:Wt,deleteFetcher:Mr,dispose:Ie,getBlocker:un,deleteBlocker:ur,patchRoutes:Fa,_internalFetchControllers:_e,_internalSetRoutes:Ka,_internalSetStateDoNotUseOrYouWillBreakYourApp(Ce){it(Ce)}},t.unstable_instrumentations&&(re=mL(re,t.unstable_instrumentations.map(Ce=>Ce.router).filter(Boolean))),re}function LL(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function V2(t,e,r,n,i,a){let s,l;if(i){s=[];for(let f of e)if(s.push(f),f.route.id===i){l=f;break}}else s=e,l=e[e.length-1];let c=Kg(n||".",Yg(s),wl(t.pathname,r)||t.pathname,a==="path");if(n==null&&(c.search=t.search,c.hash=t.hash),(n==null||n===""||n===".")&&l){let f=D_(c.search);if(l.route.index&&!f)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&f){let p=new URLSearchParams(c.search),v=p.getAll("index");p.delete("index"),v.filter(_=>_).forEach(_=>p.append("index",_));let y=p.toString();c.search=y?`?${y}`:""}}return r!=="/"&&(c.pathname=uL({basename:r,pathname:c.pathname})),Ou(c)}function db(t,e,r){if(!r||!LL(r))return{path:e};if(r.formMethod&&!$L(r.formMethod))return{path:e,error:gl(405,{method:r.formMethod})};let n=()=>({path:e,error:gl(400,{type:"invalid-body"})}),a=(r.formMethod||"get").toUpperCase(),s=SS(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!js(a))return n();let v=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,[_,E])=>`${y}${_}=${E}
`,""):String(r.body);return{path:e,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:v}}}else if(r.formEncType==="application/json"){if(!js(a))return n();try{let v=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:v,text:void 0}}}catch{return n()}}}Yr(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Z2(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Z2(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=xb(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=xb(l)}catch{return n()}let f={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(js(f.formMethod))return{path:e,submission:f};let p=pc(e);return t&&p.search&&D_(p.search)&&l.append("index",""),p.search=`?${l}`,{path:Ou(p),submission:f}}function pb(t,e,r,n,i,a,s,l,c,f,p,v,y,_,E,S,C,O,j,R,B){let J=R?Zo(R[1])?R[1].error:R[1].data:void 0,re=i.createURL(a.location),F=i.createURL(c),K;if(p&&a.errors){let xe=Object.keys(a.errors)[0];K=s.findIndex(le=>le.route.id===xe)}else if(R&&Zo(R[1])){let xe=R[0];K=s.findIndex(le=>le.route.id===xe)-1}let U=R?R[1].statusCode:void 0,X=U&&U>=400,I={currentUrl:re,currentParams:a.matches[0]?.params||{},nextUrl:F,nextParams:s[0].params,...l,actionResult:J,actionStatus:U},W=hp(s),ue=s.map((xe,le)=>{let{route:be}=xe,_e=null;if(K!=null&&le>K?_e=!1:be.lazy?_e=!0:O_(be)?p?_e=$2(be,a.loaderData,a.errors):NL(a.loaderData,a.matches[le],xe)&&(_e=!0):_e=!1,_e!==null)return W2(r,n,t,W,xe,f,e,_e);let Le=!1;typeof B=="boolean"?Le=B:X?Le=!1:(v||re.pathname+re.search===F.pathname+F.search||re.search!==F.search||CL(a.matches[le],xe))&&(Le=!0);let Ne={...I,defaultShouldRevalidate:Le},ee=w0(xe,Ne);return W2(r,n,t,W,xe,f,e,ee,Ne,B)}),pe=[];return E.forEach((xe,le)=>{if(p||!s.some(q=>q.route.id===xe.routeId)||_.has(le))return;let be=a.fetchers.get(le),_e=be&&be.state!=="idle"&&be.data===void 0,Le=Wc(C,xe.path,O);if(!Le){if(j&&_e)return;pe.push({key:le,routeId:xe.routeId,path:xe.path,matches:null,match:null,request:null,controller:null});return}if(S.has(le))return;let Ne=Qm(Le,xe.path),ee=new AbortController,P=Gf(i,xe.path,ee.signal),H=null;if(y.has(le))y.delete(le),H=id(r,n,P,Le,Ne,f,e);else if(_e)v&&(H=id(r,n,P,Le,Ne,f,e));else{let q;typeof B=="boolean"?q=B:X?q=!1:q=v;let Z={...I,defaultShouldRevalidate:q};w0(Ne,Z)&&(H=id(r,n,P,Le,Ne,f,e,Z))}H&&pe.push({key:le,routeId:xe.routeId,path:xe.path,matches:H,match:Ne,request:P,controller:ee})}),{dsMatches:ue,revalidatingFetchers:pe}}function O_(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function $2(t,e,r){if(t.lazy)return!0;if(!O_(t))return!1;let n=e!=null&&t.id in e,i=r!=null&&r[t.id]!==void 0;return!n&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!i}function NL(t,e,r){let n=!e||r.route.id!==e.route.id,i=!t.hasOwnProperty(r.route.id);return n||i}function CL(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function w0(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function mb(t,e,r,n,i,a){let s;if(t){let f=n[t];Yr(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),s=f.children}else s=r;let l=[],c=[];if(e.forEach(f=>{let p=s.find(v=>_S(f,v));p?c.push({existingRoute:p,newRoute:f}):l.push(f)}),l.length>0){let f=z0(l,i,[t||"_","patch",String(s?.length||"0")],n);s.push(...f)}if(a&&c.length>0)for(let f=0;f<c.length;f++){let{existingRoute:p,newRoute:v}=c[f],y=p,[_]=z0([v],i,[],{},!0);Object.assign(y,{element:_.element?_.element:y.element,errorElement:_.errorElement?_.errorElement:y.errorElement,hydrateFallbackElement:_.hydrateFallbackElement?_.hydrateFallbackElement:y.hydrateFallbackElement})}}function _S(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>e.children?.some(i=>_S(r,i))):!1}var gb=new WeakMap,yS=({key:t,route:e,manifest:r,mapRouteProperties:n})=>{let i=r[e.id];if(Yr(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let s=gb.get(i);s||(s={},gb.set(i,s));let l=s[t];if(l)return l;let c=(async()=>{let f=$A(t),v=i[t]!==void 0&&t!=="hasErrorBoundary";if(f)Ki(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),s[t]=Promise.resolve();else if(v)Ki(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let y=await a();y!=null&&(Object.assign(i,{[t]:y}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(y=>y===void 0)&&(i.lazy=void 0))})();return s[t]=c,c},vb=new WeakMap;function ML(t,e,r,n,i){let a=r[t.id];if(Yr(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=vb.get(a);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let v=(async()=>{Yr(typeof t.lazy=="function","No lazy route function found");let y=await t.lazy(),_={};for(let E in y){let S=y[E];if(S===void 0)continue;let C=ZA(E),j=a[E]!==void 0&&E!=="hasErrorBoundary";C?Ki(!C,"Route property "+E+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?Ki(!j,`Route "${a.id}" has a static property "${E}" defined but its lazy function is also returning a value for this property. The lazy route property "${E}" will be ignored.`):_[E]=S}Object.assign(a,_),Object.assign(a,{...n(a),lazy:void 0})})();return vb.set(a,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let s=Object.keys(t.lazy),l=[],c;for(let p of s){if(i&&i.includes(p))continue;let v=yS({key:p,route:t,manifest:r,mapRouteProperties:n});v&&(l.push(v),p===e&&(c=v))}let f=l.length>0?Promise.all(l).then(()=>{}):void 0;return f?.catch(()=>{}),c?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:c}}async function _b(t){let e=t.matches.filter(i=>i.shouldLoad),r={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{r[e[a].route.id]=i}),r}async function kL(t){return t.matches.some(e=>e.route.middleware)?xS(t,()=>_b(t)):_b(t)}function xS(t,e){return PL(t,e,n=>{if(VL(n))throw n;return n},zL,r);function r(n,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:n}}));{let{matches:s}=t,l=Math.min(Math.max(s.findIndex(f=>f.route.id===i),0),Math.max(s.findIndex(f=>f.shouldCallHandler()),0)),c=Zc(s,s[l].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:n}})}}}async function PL(t,e,r,n,i){let{matches:a,request:s,params:l,context:c,unstable_pattern:f}=t,p=a.flatMap(y=>y.route.middleware?y.route.middleware.map(_=>[y.route.id,_]):[]);return await wS({request:s,params:l,context:c,unstable_pattern:f},p,e,r,n,i)}async function wS(t,e,r,n,i,a,s=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let c=e[s];if(!c)return await r();let[f,p]=c,v,y=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");try{return v={value:await wS(t,e,r,n,i,a,s+1)},v.value}catch(_){return v={value:await a(_,f,v)},v.value}};try{let _=await p(t,y),E=_!=null?n(_):void 0;return i(E)?E:v?E??v.value:(v={value:await y()},v.value)}catch(_){return await a(_,f,v)}}function bS(t,e,r,n,i){let a=yS({key:"middleware",route:n.route,manifest:e,mapRouteProperties:t}),s=ML(n.route,js(r.method)?"action":"loader",e,t,i);return{middleware:a,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function W2(t,e,r,n,i,a,s,l,c=null,f){let p=!1,v=bS(t,e,r,i,a);return{...i,_lazyPromises:v,shouldLoad:l,shouldRevalidateArgs:c,shouldCallHandler(y){return p=!0,c?typeof f=="boolean"?w0(i,{...c,defaultShouldRevalidate:f}):typeof y=="boolean"?w0(i,{...c,defaultShouldRevalidate:y}):w0(i,c):l},resolve(y){let{lazy:_,loader:E,middleware:S}=i.route,C=p||l||y&&!js(r.method)&&(_||E),O=S&&S.length>0&&!E&&!_;return C&&(js(r.method)||!O)?RL({request:r,unstable_pattern:n,match:i,lazyHandlerPromise:v?.handler,lazyRoutePromise:v?.route,handlerOverride:y,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function id(t,e,r,n,i,a,s,l=null){return n.map(c=>c.route.id!==i.route.id?{...c,shouldLoad:!1,shouldRevalidateArgs:l,shouldCallHandler:()=>!1,_lazyPromises:bS(t,e,r,c,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:W2(t,e,r,hp(n),c,a,s,!0,l))}async function OL(t,e,r,n,i,a){r.some(f=>f._lazyPromises?.middleware)&&await Promise.all(r.map(f=>f._lazyPromises?.middleware));let s={request:e,unstable_pattern:hp(r),params:r[0].params,context:i,matches:r},c=await t({...s,fetcherKey:n,runClientMiddleware:f=>{let p=s;return xS(p,()=>f({...p,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return c}async function RL({request:t,unstable_pattern:e,match:r,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:a,scopedContext:s}){let l,c,f=js(t.method),p=f?"action":"loader",v=y=>{let _,E=new Promise((O,j)=>_=j);c=()=>_(),t.signal.addEventListener("abort",c);let S=O=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${r.route.id}]`)):y({request:t,unstable_pattern:e,params:r.params,context:s},...O!==void 0?[O]:[]),C=(async()=>{try{return{type:"data",result:await(a?a(j=>S(j)):S())}}catch(O){return{type:"error",result:O}}})();return Promise.race([C,E])};try{let y=f?r.route.action:r.route.loader;if(n||i)if(y){let _,[E]=await Promise.all([v(y).catch(S=>{_=S}),n,i]);if(_!==void 0)throw _;l=E}else{await n;let _=f?r.route.action:r.route.loader;if(_)[l]=await Promise.all([v(_),i]);else if(p==="action"){let E=new URL(t.url),S=E.pathname+E.search;throw gl(405,{method:t.method,pathname:S,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(y)l=await v(y);else{let _=new URL(t.url),E=_.pathname+_.search;throw gl(404,{pathname:E})}}catch(y){return{type:"error",result:y}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function DL(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function jL(t){let{result:e,type:r}=t;if(R_(e)){let n;try{n=await DL(e)}catch(i){return{type:"error",error:i}}return r==="error"?{type:"error",error:new cp(e.status,e.statusText,n),statusCode:e.status,headers:e.headers}:{type:"data",data:n,statusCode:e.status,headers:e.headers}}return r==="error"?Eb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:UL(e),statusCode:G0(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:G0(e)?e.status:void 0}:Eb(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function IL(t,e,r,n,i){let a=t.headers.get("Location");if(Yr(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!P_(a)){let s=n.slice(0,n.findIndex(l=>l.route.id===r)+1);a=V2(new URL(e.url),s,i,a),t.headers.set("Location",a)}return t}function yb(t,e,r,n){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(P_(t)){let a=t,s=a.startsWith("//")?new URL(e.protocol+a):new URL(a);if(i.includes(s.protocol))throw new Error("Invalid redirect location");let l=wl(s.pathname,r)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}try{let a=n.createURL(t);if(i.includes(a.protocol))throw new Error("Invalid redirect location")}catch{}return t}function Gf(t,e,r,n){let i=t.createURL(SS(e)).toString(),a={signal:r};if(n&&js(n.formMethod)){let{formMethod:s,formEncType:l}=n;a.method=s.toUpperCase(),l==="application/json"?(a.headers=new Headers({"Content-Type":l}),a.body=JSON.stringify(n.json)):l==="text/plain"?a.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?a.body=Z2(n.formData):a.body=n.formData}return new Request(i,a)}function Z2(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function xb(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function FL(t,e,r,n=!1,i=!1){let a={},s=null,l,c=!1,f={},p=r&&Zo(r[1])?r[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let y=v.route.id,_=e[y];if(Yr(!Ph(_),"Cannot handle redirect results in processLoaderData"),Zo(_)){let E=_.error;if(p!==void 0&&(E=p,p=void 0),s=s||{},i)s[y]=E;else{let S=Zc(t,y);s[S.route.id]==null&&(s[S.route.id]=E)}n||(a[y]=vS),c||(c=!0,l=G0(_.error)?_.error.status:500),_.headers&&(f[y]=_.headers)}else a[y]=_.data,_.statusCode&&_.statusCode!==200&&!c&&(l=_.statusCode),_.headers&&(f[y]=_.headers)}),p!==void 0&&r&&(s={[r[0]]:p},r[2]&&(a[r[2]]=void 0)),{loaderData:a,errors:s,statusCode:l||200,loaderHeaders:f}}function wb(t,e,r,n,i,a){let{loaderData:s,errors:l}=FL(e,r,n);return i.filter(c=>!c.matches||c.matches.some(f=>f.shouldLoad)).forEach(c=>{let{key:f,match:p,controller:v}=c;if(v&&v.signal.aborted)return;let y=a[f];if(Yr(y,"Did not find corresponding fetcher result"),Zo(y)){let _=Zc(t.matches,p?.route.id);l&&l[_.route.id]||(l={...l,[_.route.id]:y.error}),t.fetchers.delete(f)}else if(Ph(y))Yr(!1,"Unhandled fetcher revalidation redirect");else{let _=ac(y.data);t.fetchers.set(f,_)}}),{loaderData:s,errors:l}}function bb(t,e,r,n){let i=Object.entries(e).filter(([,a])=>a!==vS).reduce((a,[s,l])=>(a[s]=l,a),{});for(let a of r){let s=a.route.id;if(!e.hasOwnProperty(s)&&t.hasOwnProperty(s)&&a.route.loader&&(i[s]=t[s]),n&&n.hasOwnProperty(s))break}return i}function Sb(t){return t?Zo(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Zc(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function _m(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gl(t,{pathname:e,routeId:r,method:n,type:i,message:a}={}){let s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",n&&e&&r?l=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(s="Forbidden",l=`Route "${r}" does not match URL "${e}"`):t===404?(s="Not Found",l=`No route matches URL "${e}"`):t===405&&(s="Method Not Allowed",n&&e&&r?l=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(l=`Invalid request method "${n.toUpperCase()}"`)),new cp(t||500,s,new Error(l),!0)}function ym(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,i]=e[r];if(Ph(i))return{key:n,result:i}}}function SS(t){let e=typeof t=="string"?pc(t):t;return Ou({...e,hash:""})}function BL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function UL(t){return new cp(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function zL(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,r])=>typeof e=="string"&&GL(r))}function GL(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function HL(t){return R_(t.result)&&mS.has(t.result.status)}function Zo(t){return t.type==="error"}function Ph(t){return(t&&t.type)==="redirect"}function Eb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function R_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function qL(t){return mS.has(t)}function VL(t){return R_(t)&&qL(t.status)&&t.headers.has("Location")}function $L(t){return bL.has(t.toUpperCase())}function js(t){return xL.has(t.toUpperCase())}function D_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Qm(t,e){let r=typeof e=="string"?pc(e).search:e.search;if(t[t.length-1].route.index&&D_(r||""))return t[t.length-1];let n=cS(t);return n[n.length-1]}function Tb(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:a,json:s}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function Fv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function WL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function i0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ZL(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ac(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function YL(t,e){try{let r=t.sessionStorage.getItem(gS);if(r){let n=JSON.parse(r);for(let[i,a]of Object.entries(n||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function KL(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(gS,JSON.stringify(r))}catch(n){Ki(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function Ab(){let t,e,r=new Promise((n,i)=>{t=async a=>{n(a);try{await r}catch{}},e=async a=>{i(a);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var qh=de.createContext(null);qh.displayName="DataRouter";var fp=de.createContext(null);fp.displayName="DataRouterState";var ES=de.createContext(!1);function XL(){return de.useContext(ES)}var j_=de.createContext({isTransitioning:!1});j_.displayName="ViewTransition";var TS=de.createContext(new Map);TS.displayName="Fetchers";var JL=de.createContext(null);JL.displayName="Await";var el=de.createContext(null);el.displayName="Navigation";var Xg=de.createContext(null);Xg.displayName="Location";var Sl=de.createContext({outlet:null,matches:[],isDataRoute:!1});Sl.displayName="Route";var I_=de.createContext(null);I_.displayName="RouteError";var AS="REACT_ROUTER_ERROR",QL="REDIRECT",eN="ROUTE_ERROR_RESPONSE";function tN(t){if(t.startsWith(`${AS}:${QL}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function rN(t){if(t.startsWith(`${AS}:${eN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new cp(e.status,e.statusText,e.data)}catch{}}function nN(t,{relative:e}={}){Yr(_d(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=de.useContext(el),{hash:i,pathname:a,search:s}=dp(t,{relative:e}),l=a;return r!=="/"&&(l=a==="/"?r:Pu([r,a])),n.createHref({pathname:l,search:s,hash:i})}function _d(){return de.useContext(Xg)!=null}function mc(){return Yr(_d(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(Xg).location}var LS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NS(t){de.useContext(el).static||de.useLayoutEffect(t)}function gc(){let{isDataRoute:t}=de.useContext(Sl);return t?yN():iN()}function iN(){Yr(_d(),"useNavigate() may be used only in the context of a <Router> component.");let t=de.useContext(qh),{basename:e,navigator:r}=de.useContext(el),{matches:n}=de.useContext(Sl),{pathname:i}=mc(),a=JSON.stringify(Yg(n)),s=de.useRef(!1);return NS(()=>{s.current=!0}),de.useCallback((c,f={})=>{if(Ki(s.current,LS),!s.current)return;if(typeof c=="number"){r.go(c);return}let p=Kg(c,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Pu([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,a,i,t])}var aN=de.createContext(null);function sN(t){let e=de.useContext(Sl).outlet;return de.useMemo(()=>e&&de.createElement(aN.Provider,{value:t},e),[e,t])}function oN(){let{matches:t}=de.useContext(Sl),e=t[t.length-1];return e?e.params:{}}function dp(t,{relative:e}={}){let{matches:r}=de.useContext(Sl),{pathname:n}=mc(),i=JSON.stringify(Yg(r));return de.useMemo(()=>Kg(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function lN(t,e,r,n,i){Yr(_d(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=de.useContext(el),{matches:s}=de.useContext(Sl),l=s[s.length-1],c=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",v=l&&l.route;{let j=v&&v.path||"";MS(f,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let y=mc(),_;_=y;let E=_.pathname||"/",S=E;if(p!=="/"){let j=p.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(j.length).join("/")}let C=Wc(t,{pathname:S});return Ki(v||C!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ki(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),dN(C&&C.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:Pu([p,a.encodeLocation?a.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Pu([p,a.encodeLocation?a.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),s,r,n,i)}function uN(){let t=_N(),e=G0(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=de.createElement(de.Fragment,null,de.createElement("p",null," Hey developer "),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:a},"ErrorBoundary")," or"," ",de.createElement("code",{style:a},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),r?de.createElement("pre",{style:i},r):null,s)}var cN=de.createElement(uN,null),CS=class extends de.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=rN(t.digest);r&&(t=r)}let e=t!==void 0?de.createElement(Sl.Provider,{value:this.props.routeContext},de.createElement(I_.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?de.createElement(hN,{error:t},e):e}};CS.contextType=ES;var Bv=new WeakMap;function hN({children:t,error:e}){let{basename:r}=de.useContext(el);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=tN(e.digest);if(n){let i=Bv.get(e);if(i)throw i;let a=fS(n.location,r);if(hS&&!Bv.get(e))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw Bv.set(e,s),s}return de.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function fN({routeContext:t,match:e,children:r}){let n=de.useContext(qh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(Sl.Provider,{value:t},r)}function dN(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=r?.errors;if(s!=null){let p=a.findIndex(v=>v.route.id&&s?.[v.route.id]!==void 0);Yr(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let l=!1,c=-1;if(r)for(let p=0;p<a.length;p++){let v=a[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(c=p),v.route.id){let{loaderData:y,errors:_}=r,E=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||E){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=r&&n?(p,v)=>{n(p,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:hp(r.matches),errorInfo:v})}:void 0;return a.reduceRight((p,v,y)=>{let _,E=!1,S=null,C=null;r&&(_=s&&v.route.id?s[v.route.id]:void 0,S=v.route.errorElement||cN,l&&(c<0&&y===0?(MS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):c===y&&(E=!0,C=v.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,y+1)),j=()=>{let R;return _?R=S:E?R=C:v.route.Component?R=de.createElement(v.route.Component,null):v.route.element?R=v.route.element:R=p,de.createElement(fN,{match:v,routeContext:{outlet:p,matches:O,isDataRoute:r!=null},children:R})};return r&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?de.createElement(CS,{location:r.location,revalidation:r.revalidation,component:S,error:_,children:j(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:f}):j()},null)}function F_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pN(t){let e=de.useContext(qh);return Yr(e,F_(t)),e}function mN(t){let e=de.useContext(fp);return Yr(e,F_(t)),e}function gN(t){let e=de.useContext(Sl);return Yr(e,F_(t)),e}function B_(t){let e=gN(t),r=e.matches[e.matches.length-1];return Yr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function vN(){return B_("useRouteId")}function _N(){let t=de.useContext(I_),e=mN("useRouteError"),r=B_("useRouteError");return t!==void 0?t:e.errors?.[r]}function yN(){let{router:t}=pN("useNavigate"),e=B_("useNavigate"),r=de.useRef(!1);return NS(()=>{r.current=!0}),de.useCallback(async(i,a={})=>{Ki(r.current,LS),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Lb={};function MS(t,e,r){!e&&!Lb[t]&&(Lb[t]=!0,Ki(!1,r))}var Nb={};function Cb(t,e){!t&&!Nb[e]&&(Nb[e]=!0,console.warn(e))}var xN="useOptimistic",Mb=PA[xN],wN=()=>{};function bN(t){return Mb?Mb(t):[t,wN]}function SN(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Ki(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:de.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Ki(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:de.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Ki(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:de.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var EN=["HydrateFallback","hydrateFallbackElement"],TN=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function AN({router:t,flushSync:e,onError:r,unstable_useTransitions:n}){n=XL()||n;let[a,s]=de.useState(t.state),[l,c]=bN(a),[f,p]=de.useState(),[v,y]=de.useState({isTransitioning:!1}),[_,E]=de.useState(),[S,C]=de.useState(),[O,j]=de.useState(),R=de.useRef(new Map),B=de.useCallback((K,{deletedFetchers:U,newErrors:X,flushSync:I,viewTransitionOpts:W})=>{X&&r&&Object.values(X).forEach(pe=>r(pe,{location:K.location,params:K.matches[0]?.params??{},unstable_pattern:hp(K.matches)})),K.fetchers.forEach((pe,xe)=>{pe.data!==void 0&&R.current.set(xe,pe.data)}),U.forEach(pe=>R.current.delete(pe)),Cb(I===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ue=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Cb(W==null||ue,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!W||!ue){e&&I?e(()=>s(K)):n===!1?s(K):de.startTransition(()=>{n===!0&&c(pe=>kb(pe,K)),s(K)});return}if(e&&I){e(()=>{S&&(_?.resolve(),S.skipTransition()),y({isTransitioning:!0,flushSync:!0,currentLocation:W.currentLocation,nextLocation:W.nextLocation})});let pe=t.window.document.startViewTransition(()=>{e(()=>s(K))});pe.finished.finally(()=>{e(()=>{E(void 0),C(void 0),p(void 0),y({isTransitioning:!1})})}),e(()=>C(pe));return}S?(_?.resolve(),S.skipTransition(),j({state:K,currentLocation:W.currentLocation,nextLocation:W.nextLocation})):(p(K),y({isTransitioning:!0,flushSync:!1,currentLocation:W.currentLocation,nextLocation:W.nextLocation}))},[t.window,e,S,_,n,c,r]);de.useLayoutEffect(()=>t.subscribe(B),[t,B]),de.useEffect(()=>{v.isTransitioning&&!v.flushSync&&E(new TN)},[v]),de.useEffect(()=>{if(_&&f&&t.window){let K=f,U=_.promise,X=t.window.document.startViewTransition(async()=>{n===!1?s(K):de.startTransition(()=>{n===!0&&c(I=>kb(I,K)),s(K)}),await U});X.finished.finally(()=>{E(void 0),C(void 0),p(void 0),y({isTransitioning:!1})}),C(X)}},[f,_,t.window,n,c]),de.useEffect(()=>{_&&f&&l.location.key===f.location.key&&_.resolve()},[_,S,l.location,f]),de.useEffect(()=>{!v.isTransitioning&&O&&(p(O.state),y({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}),j(void 0))},[v.isTransitioning,O]);let J=de.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:K=>t.navigate(K),push:(K,U,X)=>t.navigate(K,{state:U,preventScrollReset:X?.preventScrollReset}),replace:(K,U,X)=>t.navigate(K,{replace:!0,state:U,preventScrollReset:X?.preventScrollReset})}),[t]),re=t.basename||"/",F=de.useMemo(()=>({router:t,navigator:J,static:!1,basename:re,onError:r}),[t,J,re,r]);return de.createElement(de.Fragment,null,de.createElement(qh.Provider,{value:F},de.createElement(fp.Provider,{value:l},de.createElement(TS.Provider,{value:R.current},de.createElement(j_.Provider,{value:v},de.createElement(CN,{basename:re,location:l.location,navigationType:l.historyAction,navigator:J,unstable_useTransitions:n},de.createElement(LN,{routes:t.routes,future:t.future,state:l,onError:r})))))),null)}function kb(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var LN=de.memo(NN);function NN({routes:t,future:e,state:r,onError:n}){return lN(t,void 0,r,n,e)}function U_({to:t,replace:e,state:r,relative:n}){Yr(_d(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=de.useContext(el);Ki(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=de.useContext(Sl),{pathname:s}=mc(),l=gc(),c=Kg(t,Yg(a),s,n==="path"),f=JSON.stringify(c);return de.useEffect(()=>{l(JSON.parse(f),{replace:e,state:r,relative:n})},[l,f,n,e,r]),null}function kS(t){return sN(t.context)}function CN({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Yr(!_d(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=de.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[l,i,a,s]);typeof r=="string"&&(r=pc(r));let{pathname:f="/",search:p="",hash:v="",state:y=null,key:_="default"}=r,E=de.useMemo(()=>{let S=wl(f,l);return S==null?null:{location:{pathname:S,search:p,hash:v,state:y,key:_},navigationType:n}},[l,f,p,v,y,_,n]);return Ki(E!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:de.createElement(el.Provider,{value:c},de.createElement(Xg.Provider,{children:e,value:E}))}var eg="get",tg="application/x-www-form-urlencoded";function Jg(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function MN(t){return Jg(t)&&t.tagName.toLowerCase()==="button"}function kN(t){return Jg(t)&&t.tagName.toLowerCase()==="form"}function PN(t){return Jg(t)&&t.tagName.toLowerCase()==="input"}function ON(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RN(t,e){return t.button===0&&(!e||e==="_self")&&!ON(t)}var xm=null;function DN(){if(xm===null)try{new FormData(document.createElement("form"),0),xm=!1}catch{xm=!0}return xm}var jN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uv(t){return t!=null&&!jN.has(t)?(Ki(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tg}"`),null):t}function IN(t,e){let r,n,i,a,s;if(kN(t)){let l=t.getAttribute("action");n=l?wl(l,e):null,r=t.getAttribute("method")||eg,i=Uv(t.getAttribute("enctype"))||tg,a=new FormData(t)}else if(MN(t)||PN(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?wl(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||eg,i=Uv(t.getAttribute("formenctype"))||Uv(l.getAttribute("enctype"))||tg,a=new FormData(l,t),!DN()){let{name:f,type:p,value:v}=t;if(p==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,v)}}else{if(Jg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=eg,n=null,i=tg,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function z_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FN(t,e,r,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:e&&wl(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function BN(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zN(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await BN(a,r);return s.links?s.links():[]}return[]}));return VN(n.flat(1).filter(UN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Pb(t,e,r,n,i,a){let s=(c,f)=>r[f]?c.route.id!==r[f].route.id:!0,l=(c,f)=>r[f].pathname!==c.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,f)=>s(c,f)||l(c,f)):a==="data"?e.filter((c,f)=>{let p=n.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(s(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function GN(t,e,{includeHydrateFallback:r}={}){return HN(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function HN(t){return[...new Set(t)]}function qN(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function VN(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(qN(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function PS(){let t=de.useContext(qh);return z_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $N(){let t=de.useContext(fp);return z_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var G_=de.createContext(void 0);G_.displayName="FrameworkContext";function OS(){let t=de.useContext(G_);return z_(t,"You must render this element inside a <HydratedRouter> element"),t}function WN(t,e){let r=de.useContext(G_),[n,i]=de.useState(!1),[a,s]=de.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,y=de.useRef(null);de.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let S=O=>{O.forEach(j=>{s(j.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[t]),de.useEffect(()=>{if(n){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[n]);let _=()=>{i(!0)},E=()=>{i(!1),s(!1)};return r?t!=="intent"?[a,y,{}]:[a,y,{onFocus:a0(l,_),onBlur:a0(c,E),onMouseEnter:a0(f,_),onMouseLeave:a0(p,E),onTouchStart:a0(v,_)}]:[!1,y,{}]}function a0(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function ZN({page:t,...e}){let{router:r}=PS(),n=de.useMemo(()=>Wc(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?de.createElement(KN,{page:t,matches:n,...e}):null}function YN(t){let{manifest:e,routeModules:r}=OS(),[n,i]=de.useState([]);return de.useEffect(()=>{let a=!1;return zN(t,e,r).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,r]),n}function KN({page:t,matches:e,...r}){let n=mc(),{future:i,manifest:a,routeModules:s}=OS(),{basename:l}=PS(),{loaderData:c,matches:f}=$N(),p=de.useMemo(()=>Pb(t,e,f,a,n,"data"),[t,e,f,a,n]),v=de.useMemo(()=>Pb(t,e,f,a,n,"assets"),[t,e,f,a,n]),y=de.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let S=new Set,C=!1;if(e.forEach(j=>{let R=a.routes[j.route.id];!R||!R.hasLoader||(!p.some(B=>B.route.id===j.route.id)&&j.route.id in c&&s[j.route.id]?.shouldRevalidate||R.hasClientLoader?C=!0:S.add(j.route.id))}),S.size===0)return[];let O=FN(t,l,i.unstable_trailingSlashAwareDataRequests,"data");return C&&S.size>0&&O.searchParams.set("_routes",e.filter(j=>S.has(j.route.id)).map(j=>j.route.id).join(",")),[O.pathname+O.search]},[l,i.unstable_trailingSlashAwareDataRequests,c,n,a,p,e,t,s]),_=de.useMemo(()=>GN(v,a),[v,a]),E=YN(v);return de.createElement(de.Fragment,null,y.map(S=>de.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),_.map(S=>de.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),E.map(({key:S,link:C})=>de.createElement("link",{key:S,nonce:r.nonce,...C,crossOrigin:C.crossOrigin??r.crossOrigin})))}function XN(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var JN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JN&&(window.__reactRouterVersion="7.13.0")}catch{}function QN(t,e){return AL({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:GA({window:e?.window}),hydrationData:eC(),routes:t,mapRouteProperties:SN,hydrationRouteProperties:EN,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function eC(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:tC(t.errors)}),t}function tC(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new cp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",r[n]=s}catch{}}if(r[n]==null){let a=new Error(i.message);a.stack="",r[n]=a}}else r[n]=i;return r}var RS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H_=de.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:y,..._},E){let{basename:S,unstable_useTransitions:C}=de.useContext(el),O=typeof f=="string"&&RS.test(f),j=fS(f,S);f=j.to;let R=nN(f,{relative:i}),[B,J,re]=WN(n,_),F=aC(f,{replace:s,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:v,unstable_defaultShouldRevalidate:y,unstable_useTransitions:C});function K(X){e&&e(X),X.defaultPrevented||F(X)}let U=de.createElement("a",{..._,...re,href:j.absoluteURL||R,onClick:j.isExternal||a?e:K,ref:XN(E,J),target:c,"data-discover":!O&&r==="render"?"true":void 0});return B&&!O?de.createElement(de.Fragment,null,U,de.createElement(ZN,{page:R})):U});H_.displayName="Link";var rC=de.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...f},p){let v=dp(s,{relative:f.relative}),y=mc(),_=de.useContext(fp),{navigator:E,basename:S}=de.useContext(el),C=_!=null&&cC(v)&&l===!0,O=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,j=y.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(j=j.toLowerCase(),R=R?R.toLowerCase():null,O=O.toLowerCase()),R&&S&&(R=wl(R,S)||R);const B=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let J=j===O||!i&&j.startsWith(O)&&j.charAt(B)==="/",re=R!=null&&(R===O||!i&&R.startsWith(O)&&R.charAt(O.length)==="/"),F={isActive:J,isPending:re,isTransitioning:C},K=J?e:void 0,U;typeof n=="function"?U=n(F):U=[n,J?"active":null,re?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let X=typeof a=="function"?a(F):a;return de.createElement(H_,{...f,"aria-current":K,className:U,ref:p,style:X,to:s,viewTransition:l},typeof c=="function"?c(F):c)});rC.displayName="NavLink";var nC=de.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:s=eg,action:l,onSubmit:c,relative:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:y,..._},E)=>{let{unstable_useTransitions:S}=de.useContext(el),C=lC(),O=uC(l,{relative:f}),j=s.toLowerCase()==="get"?"get":"post",R=typeof l=="string"&&RS.test(l),B=J=>{if(c&&c(J),J.defaultPrevented)return;J.preventDefault();let re=J.nativeEvent.submitter,F=re?.getAttribute("formmethod")||s,K=()=>C(re||J.currentTarget,{fetcherKey:e,method:F,navigate:r,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:y});S&&r!==!1?de.startTransition(()=>K()):K()};return de.createElement("form",{ref:E,method:j,action:O,onSubmit:n?c:B,..._,"data-discover":!R&&t==="render"?"true":void 0})});nC.displayName="Form";function iC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DS(t){let e=de.useContext(qh);return Yr(e,iC(t)),e}function aC(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let f=gc(),p=mc(),v=dp(t,{relative:a});return de.useCallback(y=>{if(RN(y,e)){y.preventDefault();let _=r!==void 0?r:Ou(p)===Ou(v),E=()=>f(t,{replace:_,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l});c?de.startTransition(()=>E()):E()}},[p,f,v,r,n,e,t,i,a,s,l,c])}var sC=0,oC=()=>`__${String(++sC)}__`;function lC(){let{router:t}=DS("useSubmit"),{basename:e}=de.useContext(el),r=vN(),n=t.fetch,i=t.navigate;return de.useCallback(async(a,s={})=>{let{action:l,method:c,encType:f,formData:p,body:v}=IN(a,e);if(s.navigate===!1){let y=s.fetcherKey||oC();await n(y,r,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,i,e,r])}function uC(t,{relative:e}={}){let{basename:r}=de.useContext(el),n=de.useContext(Sl);Yr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...dp(t||".",{relative:e})},s=mc();if(t==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(p=>p==="")){l.delete("index"),c.filter(v=>v).forEach(v=>l.append("index",v));let p=l.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Pu([r,a.pathname])),Ou(a)}function cC(t,{relative:e}={}){let r=de.useContext(j_);Yr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=DS("useViewTransitionState"),i=dp(t,{relative:e});if(!r.isTransitioning)return!1;let a=wl(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=wl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return fg(i.pathname,s)!=null||fg(i.pathname,a)!=null}var jS=iS();function hC(t){return de.createElement(AN,{flushSync:jS.flushSync,...t})}function Qg(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function fC(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(p){try{f(n.next(p))}catch(v){s(v)}}function c(p){try{f(n.throw(p))}catch(v){s(v)}}function f(p){p.done?a(p.value):i(p.value).then(l,c)}f((n=n.apply(t,e||[])).next())})}const dC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class q_ extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class pC extends q_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ob extends q_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Rb extends q_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Y2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Y2||(Y2={}));class mC{constructor(e,{headers:r={},customFetch:n,region:i=Y2.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=dC(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return fC(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:l,method:c,body:f,signal:p,timeout:v}=n;let y={},{region:_}=n;_||(_=this.region);const E=new URL(`${this.url}/${r}`);_&&_!=="any"&&(y["x-region"]=_,E.searchParams.set("forceFunctionRegion",_));let S;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(y["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(y["Content-Type"]="application/json",S=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?S=JSON.stringify(f):S=f;let C=p;v&&(s=new AbortController,a=setTimeout(()=>s.abort(),v),p?(C=s.signal,p.addEventListener("abort",()=>s.abort())):C=s.signal);const O=yield this.fetch(E.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),l),body:S,signal:C}).catch(J=>{throw new pC(J)}),j=O.headers.get("x-relay-error");if(j&&j==="true")throw new Ob(O);if(!O.ok)throw new Rb(O);let R=((i=O.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),B;return R==="application/json"?B=yield O.json():R==="application/octet-stream"||R==="application/pdf"?B=yield O.blob():R==="text/event-stream"?B=O:R==="multipart/form-data"?B=yield O.formData():B=yield O.text(),{data:B,error:null,response:O}}catch(l){return{data:null,error:l,response:l instanceof Rb||l instanceof Ob?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var gC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},vC=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,l=null,c=null,f=a.status,p=a.statusText;if(a.ok){var v,y;if(r.method!=="HEAD"){var _;const O=await a.text();O===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((_=r.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?l=O:l=JSON.parse(O))}const S=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),C=(y=a.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");S&&C&&C.length>1&&(c=parseInt(C[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,f=406,p="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var E;const S=await a.text();try{s=JSON.parse(S),Array.isArray(s)&&a.status===404&&(l=[],s=null,f=200,p="OK")}catch{a.status===404&&S===""?(f=204,p="No Content"):s={message:S}}if(s&&r.isMaybeSingle&&(!(s==null||(E=s.details)===null||E===void 0)&&E.includes("0 rows"))&&(s=null,f=200,p="OK"),s&&r.shouldThrowOnError)throw new gC(s)}return{error:s,data:l,count:c,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let l="";const c=a?.cause;if(c){var f,p,v,y;const E=(f=c?.message)!==null&&f!==void 0?f:"",S=(p=c?.code)!==null&&p!==void 0?p:"";l=`${(v=a?.name)!==null&&v!==void 0?v:"FetchError"}: ${a?.message}`,l+=`

Caused by: ${(y=c?.name)!==null&&y!==void 0?y:"Error"}: ${E}`,S&&(l+=` (${S})`),c?.stack&&(l+=`
${c.stack}`)}else{var _;l=(_=a?.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(s=a?.name)!==null&&s!==void 0?s:"FetchError"}: ${a?.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},_C=class extends vC{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var s;const l=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Db=new RegExp("[,()]");var Hf=class extends _C{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Db.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Db.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},yC=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new Hf({method:i,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:s}=this.cloneRequestState();if(e&&s.append("Prefer",`count=${e}`),r||s.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(l.length>0){const c=[...new Set(l)].map(f=>`"${f}"`);a.searchParams.set("columns",c.join(","))}}return new Hf({method:i,url:a,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const s="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&l.searchParams.set("on_conflict",e),n&&c.append("Prefer",`count=${n}`),i||c.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(f.length>0){const p=[...new Set(f)].map(v=>`"${v}"`);l.searchParams.set("columns",p.join(","))}}return new Hf({method:s,url:l,headers:c,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Hf({method:n,url:i,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Hf({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},xC=class IS{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new yC(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new IS(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let l;const c=new URL(`${this.url}/rpc/${e}`);let f;const p=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(p)),v=n&&Object.values(r).some(p);v?(l="POST",f=r):n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([_,E])=>E!==void 0).map(([_,E])=>[_,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([_,E])=>{c.searchParams.append(_,E)})):(l="POST",f=r);const y=new Headers(this.headers);return v?y.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&y.set("Prefer",`count=${a}`),new Hf({method:l,url:c,headers:y,schema:this.schemaName,body:f,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class wC{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const bC="2.93.1",SC=`realtime-js/${bC}`,EC="1.0.0",FS="2.0.0",jb=FS,K2=1e4,TC=1e3,AC=100;var $c;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($c||($c={}));var ja;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ja||(ja={}));var $l;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($l||($l={}));var X2;(function(t){t.websocket="websocket"})(X2||(X2={}));var Lh;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Lh||(Lh={}));class LC{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,r,n){var i,a;const s=e.topic,l=(i=e.ref)!==null&&i!==void 0?i:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(p).length===0?"":JSON.stringify(p);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+f.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+y);let E=new DataView(_),S=0;E.setUint8(S++,this.KINDS.userBroadcastPush),E.setUint8(S++,c.length),E.setUint8(S++,l.length),E.setUint8(S++,s.length),E.setUint8(S++,f.length),E.setUint8(S++,v.length),E.setUint8(S++,r),Array.from(c,O=>E.setUint8(S++,O.charCodeAt(0))),Array.from(l,O=>E.setUint8(S++,O.charCodeAt(0))),Array.from(s,O=>E.setUint8(S++,O.charCodeAt(0))),Array.from(f,O=>E.setUint8(S++,O.charCodeAt(0))),Array.from(v,O=>E.setUint8(S++,O.charCodeAt(0)));var C=new Uint8Array(_.byteLength+n.byteLength);return C.set(new Uint8Array(_),0),C.set(new Uint8Array(n),_.byteLength),C.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,s,l,c]=n;return r({join_ref:i,ref:a,topic:s,event:l,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,i)}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const f=n.decode(e.slice(c,c+i));c=c+i;const p=n.decode(e.slice(c,c+a));c=c+a;const v=n.decode(e.slice(c,c+s));c=c+s;const y=e.slice(c,e.byteLength),_=l===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,E={type:this.BROADCAST_EVENT,event:p,payload:_};return s>0&&(E.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class BS{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oi;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oi||(oi={}));const Ib=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=NC(s,t,e,i),a),{}):{}},NC=(t,e,r,n)=>{const i=e.find(l=>l.name===t),a=i?.type,s=r[t];return a&&!n.includes(a)?US(a,s):J2(s)},US=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return PC(e,r)}switch(t){case oi.bool:return CC(e);case oi.float4:case oi.float8:case oi.int2:case oi.int4:case oi.int8:case oi.numeric:case oi.oid:return MC(e);case oi.json:case oi.jsonb:return kC(e);case oi.timestamp:return OC(e);case oi.abstime:case oi.date:case oi.daterange:case oi.int4range:case oi.int8range:case oi.money:case oi.reltime:case oi.text:case oi.time:case oi.timestamptz:case oi.timetz:case oi.tsrange:case oi.tstzrange:return J2(e);default:return J2(e)}},J2=t=>t,CC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},MC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},kC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},PC=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>US(e,l))}return t},OC=t=>typeof t=="string"?t.replace(" ","T"):t,zS=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class zv{constructor(e,r,n={},i=K2){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Fb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Fb||(Fb={}));class b0{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=b0.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=b0.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=b0.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),l={},c={};return this.map(a,(f,p)=>{s[f]||(c[f]=p)}),this.map(s,(f,p)=>{const v=a[f];if(v){const y=p.map(C=>C.presence_ref),_=v.map(C=>C.presence_ref),E=p.filter(C=>_.indexOf(C.presence_ref)<0),S=v.filter(C=>y.indexOf(C.presence_ref)<0);E.length>0&&(l[f]=E),S.length>0&&(c[f]=S)}else l[f]=p}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var f;const p=(f=e[l])!==null&&f!==void 0?f:[];if(e[l]=this.cloneDeep(c),p.length>0){const v=e[l].map(_=>_.presence_ref),y=p.filter(_=>v.indexOf(_.presence_ref)<0);e[l].unshift(...y)}n(l,p,c)}),this.map(s,(l,c)=>{let f=e[l];if(!f)return;const p=c.map(v=>v.presence_ref);f=f.filter(v=>p.indexOf(v.presence_ref)<0),e[l]=f,i(l,f,c),f.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Bb||(Bb={}));var S0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(S0||(S0={}));var sc;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(sc||(sc={}));class Xf{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ja.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new zv(this,$l.join,this.params,this.timeout),this.rejoinTimer=new BS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ja.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ja.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ja.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ja.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ja.errored,this.rejoinTimer.scheduleTimeout())}),this._on($l.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new b0(this),this.broadcastEndpointURL=zS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ja.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,f=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(_=>_.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[S0.PRESENCE]&&this.bindings[S0.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},y={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:p}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(sc.CHANNEL_ERROR,_)),this._onClose(()=>e?.(sc.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e?.(sc.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,C=(E=S?.length)!==null&&E!==void 0?E:0,O=[];for(let j=0;j<C;j++){const R=S[j],{filter:{event:B,schema:J,table:re,filter:F}}=R,K=_&&_[j];if(K&&K.event===B&&Xf.isFilterValueEqual(K.schema,J)&&Xf.isFilterValueEqual(K.table,re)&&Xf.isFilterValueEqual(K.filter,F))O.push(Object.assign(Object.assign({},R),{id:K.id}));else{this.unsubscribe(),this.state=ja.errored,e?.(sc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(sc.SUBSCRIBED);return}}).receive("error",_=>{this.state=ja.errored,e?.(sc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(sc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ja.joined&&e===S0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const f=await l.json();c=f.error||f.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ja.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($l.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new zv(this,$l.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ja.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zv(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>AC){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:l,error:c,leave:f,join:p}=$l;if(n&&[l,c,f,p].indexOf(s)>=0&&n!==this._joinRef())return;let y=this._onMessage(s,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var E,S,C;return((E=_.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(S=_.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(_=>_.callback(y,n)):(a=this.bindings[s])===null||a===void 0||a.filter(_=>{var E,S,C,O,j,R;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in _){const B=_.id,J=(E=_.filter)===null||E===void 0?void 0:E.event;return B&&((S=r.ids)===null||S===void 0?void 0:S.includes(B))&&(J==="*"||J?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const B=(j=(O=_?.filter)===null||O===void 0?void 0:O.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return B==="*"||B===((R=r?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===s}).map(_=>{if(typeof y=="object"&&"ids"in y){const E=y.data,{schema:S,table:C,commit_timestamp:O,type:j,errors:R}=E;y=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:O,eventType:j,new:{},old:{},errors:R}),this._getPayloadRecords(E))}_.callback(y,n)})}_isClosed(){return this.state===ja.closed}_isJoined(){return this.state===ja.joined}_isJoining(){return this.state===ja.joining}_isLeaving(){return this.state===ja.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Xf.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($l.close,{},e)}_onError(e){this._on($l.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ja.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ib(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ib(e.columns,e.old_record)),r}}const Gv=()=>{},wm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RC=[1e3,2e3,5e3,1e4],DC=1e4,jC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class IC{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=K2,this.transport=null,this.heartbeatIntervalMs=wm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gv,this.ref=0,this.reconnectTimer=null,this.vsn=jb,this.logger=Gv,this.conn=null,this.sendBuffer=[],this.serializer=new LC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${X2.websocket}`,this.httpEndpoint=zS(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wC.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $c.connecting:return Lh.Connecting;case $c.open:return Lh.Open;case $c.closing:return Lh.Closing;default:return Lh.Closed}}isConnected(){return this.connectionState()===Lh.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Xf(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(TC,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},wm.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",f)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:s}=r,l=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===$c.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$c.open||this.conn.readyState===$c.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger($l.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([jC],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:SC};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push($l.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new BS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,s,l,c,f,p,v,y,_;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:K2,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:wm.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:Gv,this.vsn=(c=e?.vsn)!==null&&c!==void 0?c:jb,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(E=>RC[E-1]||DC),this.vsn){case EC:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((E,S)=>S(JSON.stringify(E))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((E,S)=>S(JSON.parse(E)));break;case FS:this.encode=(y=e?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(_=e?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var H0=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function FC(t,e,r){const n=new URL(e,t);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function BC(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function UC(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:s}){const l=FC(t.baseUrl,n,i),c=await BC(t.auth),f=await e(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),p=await f.text(),v=(f.headers.get("content-type")||"").includes("application/json"),y=v&&p?JSON.parse(p):p;if(!f.ok){const _=v?y:void 0,E=_?.error;throw new H0(E?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:E?.type,icebergCode:E?.code,details:_})}return{status:f.status,headers:f.headers,data:y}}}}function bm(t){return t.join("")}var zC=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:bm(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bm(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bm(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bm(t.namespace)}`}),!0}catch(e){if(e instanceof H0&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof H0&&r.status===409)return;throw r}}};function Af(t){return t.join("")}var GC=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Af(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Af(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Af(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Af(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Af(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Af(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof H0&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof H0&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},HC=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=UC({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new zC(this.client,e),this.tableOps=new GC(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},e1=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function t1(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Sm=class extends e1{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},GS=class extends e1{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const qC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),VC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Q2=t=>{if(Array.isArray(t))return t.map(r=>Q2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Q2(n)}),e},$C=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function WC(t,e){if(q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZC(t){var e=WC(t,"string");return q0(e)=="symbol"?e:e+""}function YC(t,e,r){return(e=ZC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ub(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ub(Object(r),!0).forEach(function(n){YC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ub(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const zb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},KC=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t,a=i.status||500;if(typeof i.json=="function")i.json().then(s=>{const l=s?.statusCode||s?.code||a+"";e(new Sm(zb(s),a,l,n))}).catch(()=>{if(n==="vectors"){const s=a+"";e(new Sm(i.statusText||`HTTP ${a} error`,a,s,n))}else{const s=a+"";e(new Sm(i.statusText||`HTTP ${a} error`,a,s,n))}});else{const s=a+"";e(new Sm(i.statusText||`HTTP ${a} error`,a,s,n))}}else e(new GS(zb(t),t,n))},XC=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!n?Cr(Cr({},i),r):(VC(n)?(i.headers=Cr({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Cr(Cr({},i),r))};async function s0(t,e,r,n,i,a,s){return new Promise((l,c)=>{t(r,XC(e,n,i,a)).then(f=>{if(!f.ok)throw f;if(n?.noResolveJson)return f;if(s==="vectors"){const p=f.headers.get("content-type");if(!p||!p.includes("application/json"))return{}}return f.json()}).then(f=>l(f)).catch(f=>KC(f,c,n,s))})}function JC(t="storage"){return{get:async(e,r,n,i)=>s0(e,"GET",r,n,i,void 0,t),post:async(e,r,n,i,a)=>s0(e,"POST",r,i,a,n,t),put:async(e,r,n,i,a)=>s0(e,"PUT",r,i,a,n,t),head:async(e,r,n,i)=>s0(e,"HEAD",r,Cr(Cr({},n),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,n,i,a)=>s0(e,"DELETE",r,i,a,n,t)}}const QC=JC("storage"),{get:V0,post:Li,put:e_,head:e7,remove:V_}=QC;var yd=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=qC(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(t1(r))return{data:null,error:r};throw r}}},t7=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(t1(e))return{data:null,error:e};throw e}}};let HS;HS=Symbol.toStringTag;var r7=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[HS]="BlobDownloadBuilder",this.promise=null}asStream(){return new t7(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(t1(e))return{data:null,error:e};throw e}}};const n7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var i7=class extends yd{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var i=this;return i.handleOperation(async()=>{let a;const s=Cr(Cr({},Gb),n);let l=Cr(Cr({},i.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),n?.headers&&(l=Cr(Cr({},l),n.headers));const f=i._removeEmptyFolders(e),p=i._getFinalPath(f),v=await(t=="PUT"?e_:Li)(i.fetch,`${i.url}/object/${p}`,a,Cr({headers:l},s?.duplex?{duplex:s.duplex}:{}));return{path:f,id:v.Id,fullPath:v.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const a=i._removeEmptyFolders(t),s=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${s}`);return l.searchParams.set("token",e),i.handleOperation(async()=>{let c;const f=Cr({upsert:Gb.upsert},n),p=Cr(Cr({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{path:a,fullPath:(await e_(i.fetch,l.toString(),c,{headers:p})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const i=Cr({},r.headers);e?.upsert&&(i["x-upsert"]="true");const a=await Li(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(r.url+a.url),l=s.searchParams.get("token");if(!l)throw new e1("No token returned by API");return{signedUrl:s.toString(),path:t,token:l}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await Li(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await Li(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t),a=await Li(n.fetch,`${n.url}/object/sign/${i}`,Cr({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${s}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const i=await Li(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(s=>Cr(Cr({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${a}`):null}))})}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",a=this._getFinalPath(t),s=()=>V0(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new r7(s,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>Q2(await V0(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await e7(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(t1(n)&&n instanceof GS){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const a=typeof e?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(e?.transform||{});s!==""&&n.push(s);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await V_(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const i=Cr(Cr(Cr({},n7),e),{},{prefix:t||""});return await Li(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=Cr({},t);return await Li(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const a7="2.93.1",pp={"X-Client-Info":`storage-js/${a7}`};var s7=class extends yd{constructor(t,e={},r,n){const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),s=Cr(Cr({},pp),e);super(a,s,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await V0(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await V0(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Li(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await e_(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await V_(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},o7=class extends yd{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Cr(Cr({},pp),e);super(n,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await V0(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await V_(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!$C(t))throw new e1("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new HC({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},l7=class extends yd{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Cr(Cr({},pp),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Li(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Li(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},u7=class extends yd{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Cr(Cr({},pp),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},c7=class extends yd{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Cr(Cr({},pp),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},h7=class extends c7{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new f7(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},f7=class extends l7{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new d7(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},d7=class extends u7{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},p7=class extends s7{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new i7(this.url,this.headers,t,this.fetch)}get vectors(){return new h7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new o7(this.url+"/iceberg",this.headers,this.fetch)}};const qS="2.93.1",qf=30*1e3,t_=3,Hv=t_*qf,m7="http://localhost:9999",g7="supabase.auth.token",v7={"X-Client-Info":`gotrue-js/${qS}`},r_="X-Supabase-Api-Version",VS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,y7=600*1e3;class $0 extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function hr(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class x7 extends $0{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function w7(t){return hr(t)&&t.name==="AuthApiError"}class Nh extends $0{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class vc extends $0{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class $o extends vc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qv(t){return hr(t)&&t.name==="AuthSessionMissingError"}class Lf extends vc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Em extends vc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Tm extends vc{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function b7(t){return hr(t)&&t.name==="AuthImplicitGrantRedirectError"}class Hb extends vc{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class S7 extends vc{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class n_ extends vc{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Vv(t){return hr(t)&&t.name==="AuthRetryableFetchError"}class qb extends vc{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class i_ extends vc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const dg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vb=` 	
\r=`.split(""),E7=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Vb.length;e+=1)t[Vb[e].charCodeAt(0)]=-2;for(let e=0;e<dg.length;e+=1)t[dg[e].charCodeAt(0)]=e;return t})();function $b(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(dg[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(dg[n]),e.queuedBits-=6}}function $S(t,e,r){const n=E7[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Wb(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{L7(s,n,r)};for(let s=0;s<t.length;s+=1)$S(t.charCodeAt(s),i,a);return e.join("")}function T7(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function A7(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}T7(n,e)}}function L7(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ad(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)$S(t.charCodeAt(i),r,n);return new Uint8Array(e)}function N7(t){const e=[];return A7(t,r=>e.push(r)),new Uint8Array(e)}function Oh(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>$b(i,r,n)),$b(null,r,n),e.join("")}function C7(t){return Math.round(Date.now()/1e3)+t}function M7(){return Symbol("auth-callback")}const fs=()=>typeof window<"u"&&typeof document<"u",xh={tested:!1,writable:!1},WS=()=>{if(!fs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xh.tested)return xh.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xh.tested=!0,xh.writable=!0}catch{xh.tested=!0,xh.writable=!1}return xh.writable};function k7(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const ZS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),P7=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Vf=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},wh=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},hs=async(t,e)=>{await t.removeItem(e)};class r1{constructor(){this.promise=new r1.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}r1.promiseConstructor=Promise;function Am(t){const e=t.split(".");if(e.length!==3)throw new i_("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!_7.test(e[n]))throw new i_("JWT not in base64url format");return{header:JSON.parse(Wb(e[0])),payload:JSON.parse(Wb(e[1])),signature:ad(e[2]),raw:{header:e[0],payload:e[1]}}}async function O7(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function R7(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function D7(t){return("0"+t.toString(16)).substr(-2)}function j7(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,D7).join("")}async function I7(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function F7(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await I7(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nf(t,e,r=!1){const n=j7();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Vf(t,`${e}-code-verifier`,i);const a=await F7(n);return[a,n===a?"plain":"s256"]}const B7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function U7(t){const e=t.headers.get(r_);if(!e||!e.match(B7))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function z7(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function G7(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cf(t){if(!H7.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $v(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function q7(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function Zb(t){return JSON.parse(JSON.stringify(t))}const Sh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),V7=[502,503,504];async function Yb(t){var e;if(!P7(t))throw new n_(Sh(t),0);if(V7.includes(t.status))throw new n_(Sh(t),t.status);let r;try{r=await t.json()}catch(a){throw new Nh(Sh(a),a)}let n;const i=U7(t);if(i&&i.getTime()>=VS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qb(Sh(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new $o}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new qb(Sh(r),t.status,r.weak_password.reasons);throw new x7(Sh(r),t.status||500,n)}const $7=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Lr(t,e,r,n){var i;const a=Object.assign({},n?.headers);a[r_]||(a[r_]=VS["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await W7(t,e,r+l,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function W7(t,e,r,n,i,a){const s=$7(e,n,i,a);let l;try{l=await t(r,Object.assign({},s))}catch(c){throw console.error(c),new n_(Sh(c),0)}if(l.ok||await Yb(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await Yb(c)}}function ql(t){var e;let r=null;K7(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=C7(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Kb(t){const e=ql(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Yc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Z7(t){return{data:t,error:null}}function Y7(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=Qg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function Xb(t){return t}function K7(t){return t.access_token&&t.refresh_token&&t.expires_in}const Wv=["global","local","others"];class X7{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=ZS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Wv[0]){if(Wv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wv.join(", ")}`);try{return await Lr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Lr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yc})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Qg(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Lr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Y7,redirectTo:r?.redirectTo})}catch(r){if(hr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Lr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Yc})}catch(r){if(hr(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,l,c;try{const f={nextPage:null,lastPage:0,total:0},p=await Lr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Xb});if(p.error)throw p.error;const v=await p.json(),y=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);f[`${C}Page`]=S}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(hr(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Cf(e);try{return await Lr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Yc})}catch(r){if(hr(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Cf(e);try{return await Lr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Yc})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Cf(e);try{return await Lr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yc})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Cf(e.userId);try{const{data:r,error:n}=await Lr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Cf(e.userId),Cf(e.id);try{return{data:await Lr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,s,l,c;try{const f={nextPage:null,lastPage:0,total:0},p=await Lr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Xb});if(p.error)throw p.error;const v=await p.json(),y=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);f[`${C}Page`]=S}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(hr(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Lr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Lr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Lr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(hr(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Lr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Lr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}}function Jb(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Mf={debug:!!(globalThis&&WS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class YS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class J7 extends YS{}async function Q7(t,e,r){Mf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Mf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Mf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Mf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Mf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new J7(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Mf.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function eM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function KS(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function tM(t){return parseInt(t,16)}function rM(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function nM(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:l,requestId:c,resources:f,scheme:p,uri:v,version:y}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=KS(t.address),E=p?`${p}://${n}`:n,S=t.statement?`${t.statement}
`:"",C=`${E} wants you to sign in with your Ethereum account:
${_}

${S}`;let O=`URI: ${v}
Version: ${y}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(O+=`
Expiration Time: ${i.toISOString()}`),l&&(O+=`
Not Before: ${l.toISOString()}`),c&&(O+=`
Request ID: ${c}`),f){let j=`
Resources:`;for(const R of f){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);j+=`
- ${R}`}O+=j}return`${C}
${O}`}class ya extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class pg extends ya{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function iM({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ya({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ya({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ya({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ya({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ya({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ya({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ya({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ya({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(XS(s)){if(a.rp.id!==s)return new ya({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ya({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ya({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ya({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ya({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function aM({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ya({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ya({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(XS(n)){if(r.rpId!==n)return new ya({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ya({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ya({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ya({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class sM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const oM=new sM;function lM(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Qg(t,["challenge","user","excludeCredentials"]),a=ad(e).buffer,s=Object.assign(Object.assign({},r),{id:ad(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const f=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:ad(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function uM(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Qg(t,["challenge","allowCredentials"]),i=ad(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},l),{id:ad(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function cM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Oh(new Uint8Array(t.response.attestationObject)),clientDataJSON:Oh(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Oh(new Uint8Array(i.authenticatorData)),clientDataJSON:Oh(new Uint8Array(i.clientDataJSON)),signature:Oh(new Uint8Array(i.signature)),userHandle:i.userHandle?Oh(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function XS(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Qb(){var t,e;return!!(fs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function fM(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pg("Browser returned unexpected credential type",e)}:{data:null,error:new pg("Empty credential response",e)}}catch(e){return{data:null,error:iM({error:e,options:t})}}}async function dM(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pg("Browser returned unexpected credential type",e)}:{data:null,error:new pg("Empty credential response",e)}}catch(e){return{data:null,error:aM({error:e,options:t})}}}const pM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},mM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function mg(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(e(s)){const l=n[a];e(l)?n[a]=mg(l,s):n[a]=mg(s)}else n[a]=s}return n}function gM(t,e){return mg(pM,t,e||{})}function vM(t,e){return mg(mM,t,e||{})}class _M{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:l};const c=i??oM.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=gM(s.webauthn.credential_options.publicKey,a?.create),{data:p,error:v}=await fM({publicKey:f,signal:c});return p?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}case"request":{const f=vM(s.webauthn.credential_options.publicKey,a?.request),{data:p,error:v}=await dM(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:c}));return p?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}}}catch(s){return hr(s)?{data:null,error:s}:{data:null,error:new Nh("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new $0("rpId is required for WebAuthn authentication")};try{if(!Qb())return{data:null,error:new Nh("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return hr(s)?{data:null,error:s}:{data:null,error:new Nh("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new $0("rpId is required for WebAuthn registration")};try{if(!Qb())return{data:null,error:new Nh("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(p=>{var v;return(v=p.data)===null||v===void 0?void 0:v.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};const{data:c,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(s){return hr(s)?{data:null,error:s}:{data:null,error:new Nh("Unexpected error in register",s)}}}}eM();const yM={url:m7,storageKey:g7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function e5(t,e,r){return await r()}const kf={};class W0{get jwks(){var e,r;return(r=(e=kf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){kf[this.storageKey]=Object.assign(Object.assign({},kf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=kf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){kf[this.storageKey]=Object.assign(Object.assign({},kf[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},yM),e);if(this.storageKey=a.storageKey,this.instanceID=(r=W0.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,W0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&fs()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new X7({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=ZS(a.fetch),this.lock=a.lock||e5,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&fs()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Q7:this.lock=e5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _M(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:WS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jb(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Jb(this.memoryStorage)),fs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${qS}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(fs()&&(r=k7(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),fs()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),b7(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return hr(r)?this._returnResult({error:r}):this._returnResult({error:new Nh("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ql}),{data:s,error:l}=a;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(hr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:p,password:v,options:y}=e;let _=null,E=null;this.flowType==="pkce"&&([_,E]=await Nf(this.storage,this.storageKey)),a=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:v,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:_,code_challenge_method:E},xform:ql})}else if("phone"in e){const{phone:p,password:v,options:y}=e;a=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:ql})}else throw new Em("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return await hs(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:l}=e;r=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Kb})}else if("phone"in e){const{phone:a,password:s,options:l}=e;r=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Kb})}else throw new Em("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Lf;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,s,l,c,f,p,v,y;let _,E;if("message"in e)_=e.message,E=e.signature;else{const{chain:S,wallet:C,statement:O,options:j}=e;let R;if(fs())if(typeof C=="object")R=C;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")R=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const B=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href),J=await R.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const re=KS(J[0]);let F=(n=j?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!F){const U=await R.request({method:"eth_chainId"});F=tM(U)}const K={domain:B.host,address:re,statement:O,uri:B.href,version:"1",chainId:F,nonce:(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=j?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=j?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=j?.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=nM(K),E=await R.request({method:"personal_sign",params:[rM(_),re]})}try{const{data:S,error:C}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:E},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ql});if(C)throw C;if(!S||!S.session||!S.user){const O=new Lf;return this._returnResult({data:{user:null,session:null},error:O})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:C})}catch(S){if(hr(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var r,n,i,a,s,l,c,f,p,v,y,_;let E,S;if("message"in e)E=e.message,S=e.signature;else{const{chain:C,wallet:O,statement:j,options:R}=e;let B;if(fs())if(typeof O=="object")B=O;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))B=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=O}const J=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){const re=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),j?{statement:j}:null));let F;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")F=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)F=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)E=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),S=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${J.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(i=(n=R?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=R?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((s=R?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((l=R?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((c=R?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((v=(p=R?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||v===void 0)&&v.length?["Resources",...R.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const re=await B.signMessage(new TextEncoder().encode(E),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=re}}try{const{data:C,error:O}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Oh(S)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ql});if(O)throw O;if(!C||!C.session||!C.user){const j=new Lf;return this._returnResult({data:{user:null,session:null},error:j})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:O})}catch(C){if(hr(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await wh(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new S7;const{data:a,error:s}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ql});if(await hs(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const l=new Lf;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,l=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ql}),{data:c,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c||!c.session||!c.user){const p=new Lf;return this._returnResult({data:{user:null,session:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:f})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:l,options:c}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Nf(this.storage,this.storageKey));const{error:v}=await Lr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:l,options:c}=e,{data:f,error:p}=await Lr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(a=c?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(s=c?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Em("You must provide either an email or phone number.")}catch(l){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await Lr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ql});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,f=s.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(i){if(hr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Nf(this.storage,this.storageKey));const f=await Lr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Z7});return!((a=f.data)===null||a===void 0)&&a.url&&fs()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(l){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new $o;const{error:i}=await Lr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(hr(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await Lr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:l}=await Lr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:l})}throw new Em("You must provide either an email or phone number and a type")}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await wh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Hv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await wh(this.userStorage,this.storageKey+"-user");s?.user?e.user=s.user:e.user=$v()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=q7(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Lr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Yc}):await this._useSession(async r=>{var n,i,a;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $o}:await Lr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Yc})})}catch(r){if(hr(r))return qv(r)&&(await this._removeSession(),await hs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new $o;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Nf(this.storage,this.storageKey));const{data:f,error:p}=await Lr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Yc});if(p)throw p;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $o;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Am(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(hr(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:l}=r;if(l)throw l;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new $o;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!fs())throw new Tm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Tm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Hb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Hb("No code detected.");const{data:j,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:f}=e;if(!a||!l||!s||!f)throw new Tm("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(l);let y=p+v;c&&(y=parseInt(c));const _=y-p;_*1e3<=qf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const E=y-v;p-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,y,p):p-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,y,p);const{data:S,error:C}=await this._getUser(a);if(C)throw C;const O={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:v,expires_at:y,refresh_token:s,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:e.type},error:null})}catch(n){if(hr(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await wh(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a&&!qv(a))return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,e);if(l&&!(w7(l)&&(l.status===404||l.status===401||l.status===403)||qv(l)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await hs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=M7(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Nf(this.storage,this.storageKey,!0));try{return await Lr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,l,c,f,p;const{data:v,error:y}=a;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Lr(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return fs()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(hr(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:l,token:c,access_token:f,nonce:p}=e,v=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ql}),{data:y,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Lf}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:_}))}catch(i){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Lr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await R7(async i=>(i>0&&await O7(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Lr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ql})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Vv(a)&&Date.now()+s-n<qf})}catch(n){if(this._debug(r,"error",n),hr(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),fs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await wh(this.storage,this.storageKey);if(i&&this.userStorage){let s=await wh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Vf(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s?.user)!==null&&e!==void 0?e:$v()}else if(i&&!i.user&&!i.user){const s=await wh(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await hs(this.storage,this.storageKey+"-user"),await Vf(this.storage,this.storageKey,i)):i.user=$v()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hv;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Hv}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Vv(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new $o;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new r1;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new $o;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),hr(a)){const s={data:null,error:a};return Vv(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await hs(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Vf(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Zb(i);await Vf(this.storage,this.storageKey,a)}else{const i=Zb(r);await Vf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await hs(this.storage,this.storageKey),await hs(this.storage,this.storageKey+"-code-verifier"),await hs(this.storage,this.storageKey+"-user"),this.userStorage&&await hs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fs()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/qf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${qf}ms, refresh threshold is ${t_} ticks`),i<=t_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof YS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fs()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Nf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Lr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:f}=await Lr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?cM(e.webauthn.credential_response):hM(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Lr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await Lr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:lM(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:uM(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,i,a;if(e)try{const{payload:_}=Am(e);let E=null;_.aal&&(E=_.aal);let S=E;const{data:{user:C},error:O}=await this.getUser(e);if(O)return this._returnResult({data:null,error:O});((n=(r=C?.factors)===null||r===void 0?void 0:r.filter(B=>B.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(S="aal2");const R=_.amr||[];return{data:{currentLevel:E,nextLevel:S,currentAuthenticationMethods:R},error:null}}catch(_){if(hr(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Am(s.access_token);let f=null;c.aal&&(f=c.aal);let p=f;((a=(i=s.user.factors)===null||i===void 0?void 0:i.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Lr(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new $o})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new $o});const s=await Lr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&fs()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(hr(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new $o});const s=await Lr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&fs()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(hr(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Lr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $o})})}catch(e){if(hr(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Lr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $o})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+y7>i)return n;const{data:a,error:s}=await Lr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:_,error:E}=await this.getSession();if(E||!_.session)return this._returnResult({data:null,error:E});n=_.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:c}}=Am(n);r?.allowExpired||z7(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:_}=await this.getUser(n);if(_)throw _;return{data:{claims:a,header:i,signature:s},error:null}}const p=G7(i.alg),v=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,s,N7(`${l}.${c}`)))throw new i_("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(hr(n))return this._returnResult({data:null,error:n});throw n}}}W0.nextInstanceID={};const xM=W0,wM="2.93.1";let m0="";typeof Deno<"u"?m0="deno":typeof document<"u"?m0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?m0="react-native":m0="node";function bM(){const t=globalThis.process;if(t&&t.platform){const e=t.platform;if(e==="darwin")return"macOS";if(e==="win32")return"Windows";if(e==="linux")return"Linux";if(e==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const e=navigator.userAgentData.platform;if(e==="macOS")return"macOS";if(e==="Windows")return"Windows";if(e==="Linux")return"Linux";if(e==="Android")return"Android";if(e==="iOS")return"iOS"}return null}function SM(){const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node&&typeof window>"u")try{const r=globalThis.require;if(r)return r("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function EM(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return"node"}return null}function TM(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return e.node}return null}function AM(){const t={"X-Client-Info":`supabase-js-${m0}/${wM}`},e=bM();e&&(t["X-Supabase-Client-Platform"]=e);const r=SM();r&&(t["X-Supabase-Client-Platform-Version"]=r);const n=EM();n&&(t["X-Supabase-Client-Runtime"]=n);const i=TM();return i&&(t["X-Supabase-Client-Runtime-Version"]=i),t}const LM=AM(),NM={headers:LM},CM={schema:"public"},MM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kM={};function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function PM(t,e){if(Z0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OM(t){var e=PM(t,"string");return Z0(e)=="symbol"?e:e+""}function RM(t,e,r){return(e=OM(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(r),!0).forEach(function(n){RM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const DM=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jM=()=>Headers,IM=(t,e,r)=>{const n=DM(r),i=jM();return async(a,s)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let f=new i(s?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),n(a,Zi(Zi({},s),{},{headers:f}))}};function FM(t){return t.endsWith("/")?t:t+"/"}function BM(t,e){var r,n;const{db:i,auth:a,realtime:s,global:l}=t,{db:c,auth:f,realtime:p,global:v}=e,y={db:Zi(Zi({},c),i),auth:Zi(Zi({},f),a),realtime:Zi(Zi({},p),s),storage:{},global:Zi(Zi(Zi({},v),l),{},{headers:Zi(Zi({},(r=v?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function UM(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(FM(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var zM=class extends xM{constructor(t){super(t)}},GM=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const a=UM(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:CM,realtime:kM,auth:Zi(Zi({},MM),{},{storageKey:s}),global:NM},c=BM(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=c.auth)!==null&&f!==void 0?f:{},this.headers,c.global.fetch)}this.fetch=IM(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Zi({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new xC(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new p7(this.storageUrl.href,this.headers,this.fetch,r?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new mC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:s,lock:l,debug:c,throwOnError:f},p,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zM({url:this.authUrl.href,headers:Zi(Zi({},y),p),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:s,lock:l,debug:c,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new IC(this.realtimeUrl.href,Zi(Zi({},t),{},{params:Zi(Zi({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const HM=(t,e,r)=>new GM(t,e,r);function qM(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}qM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const VM="https://iycvkknpgrpkmutuyigt.supabase.co",$M="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml5Y3Zra25wZ3Jwa211dHV5aWd0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0NDE3NDMsImV4cCI6MjA4NTAxNzc0M30.6dCWuR_4j0QSUh7kJdF4_2aMlzgsIaMluyJt52EIHX8",ln=HM(VM,$M,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"supabase-auth-token"},global:{headers:{"x-client-info":"property-tax-survey-app"}}}),Rr=t=>typeof t=="string",o0=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},r5=t=>t==null?"":""+t,WM=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},ZM=/###/g,n5=t=>t&&t.indexOf("###")>-1?t.replace(ZM,"."):t,i5=t=>!t||Rr(t),E0=(t,e,r)=>{const n=Rr(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(i5(t))return{};const a=n5(n[i]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return i5(t)?{}:{obj:t,k:n5(n[i])}},a5=(t,e,r)=>{const{obj:n,k:i}=E0(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let a=e[e.length-1],s=e.slice(0,e.length-1),l=E0(t,s,Object);for(;l.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),l=E0(t,s,Object),l?.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=r},YM=(t,e,r,n)=>{const{obj:i,k:a}=E0(t,e,Object);i[a]=i[a]||[],i[a].push(r)},gg=(t,e)=>{const{obj:r,k:n}=E0(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},KM=(t,e,r)=>{const n=gg(t,r);return n!==void 0?n:gg(e,r)},JS=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?Rr(t[n])||t[n]instanceof String||Rr(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):JS(t[n],e[n],r):t[n]=e[n]);return t},Pf=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var XM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const JM=t=>Rr(t)?t.replace(/[&<>"'\/]/g,e=>XM[e]):t;class QM{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const ek=[" ",",","?","!",";"],tk=new QM(20),rk=(t,e,r)=>{e=e||"",r=r||"";const n=ek.filter(s=>e.indexOf(s)<0&&r.indexOf(s)<0);if(n.length===0)return!0;const i=tk.getRegExp(`(${n.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(r);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},a_=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let i=t;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let s,l="";for(let c=a;c<n.length;++c)if(c!==a&&(l+=r),l+=n[c],s=i[l],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<n.length-1)continue;a+=c-a+1;break}i=s}return i},Y0=t=>t?.replace("_","-"),nk={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class vg{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||nk,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(Rr(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new vg(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new vg(this.logger,e)}}var Mu=new vg;class n1{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[e,...r])})}}class s5 extends n1{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,i={}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],n&&(Array.isArray(n)?l.push(...n):Rr(n)&&a?l.push(...n.split(a)):l.push(n)));const c=gg(this.data,l);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=l[0],r=l[1],n=l.slice(2).join(".")),c||!s||!Rr(n)?c:a_(this.data?.[e]?.[r],n,a)}addResource(e,r,n,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[e,r];n&&(l=l.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(l=e.split("."),i=r,r=l[1]),this.addNamespaces(r),a5(this.data,l,i),a.silent||this.emit("added",e,r,n,i)}addResources(e,r,n,i={silent:!1}){for(const a in n)(Rr(n[a])||Array.isArray(n[a]))&&this.addResource(e,r,a,n[a],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,a,s={silent:!1,skipCopy:!1}){let l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),i=n,n=r,r=l[1]),this.addNamespaces(r);let c=gg(this.data,l)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?JS(c,n,a):c={...c,...n},a5(this.data,l,c),s.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var QS={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(a=>{e=this.processors[a]?.process(e,r,n,i)??e}),e}};const eE=Symbol("i18next/PATH_KEY");function ik(){const t=[],e=Object.create(null);let r;return e.get=(n,i)=>(r?.revoke?.(),i===eE?t:(t.push(i),r=Proxy.revocable(n,e),r.proxy)),Proxy.revocable(Object.create(null),e).proxy}function s_(t,e){const{[eE]:r}=t(ik());return r.join(e?.keySeparator??".")}const o5={},Zv=t=>!Rr(t)&&typeof t!="boolean"&&typeof t!="number";class _g extends n1{constructor(e,r={}){super(),WM(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Mu.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const i=this.resolve(e,n);if(i?.res===void 0)return!1;const a=Zv(i.res);return!(n.returnObjects===!1&&a)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!rk(e,n,i);if(s&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Rr(a)?[a]:a};const f=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(f[0])>-1)&&(a=f.shift()),e=f.join(i)}return{key:e,namespaces:Rr(a)?[a]:a}}translate(e,r,n){let i=typeof r=="object"?{...r}:r;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=s_(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],i),f=c[c.length-1];let p=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const v=i.lng||this.language,y=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return y?a?{res:`${f}${p}${l}`,usedKey:l,exactUsedKey:l,usedLng:v,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:`${f}${p}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:v,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:l;const _=this.resolve(e,i);let E=_?.res;const S=_?.usedKey||l,C=_?.exactUsedKey||l,O=["[object Number]","[object Function]","[object RegExp]"],j=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,B=i.count!==void 0&&!Rr(i.count),J=_g.hasDefaultValue(i),re=B?this.pluralResolver.getSuffix(v,i.count,i):"",F=i.ordinal&&B?this.pluralResolver.getSuffix(v,i.count,{ordinal:!1}):"",K=B&&!i.ordinal&&i.count===0,U=K&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${re}`]||i[`defaultValue${F}`]||i.defaultValue;let X=E;R&&!E&&J&&(X=U);const I=Zv(X),W=Object.prototype.toString.apply(X);if(R&&X&&I&&O.indexOf(W)<0&&!(Rr(j)&&Array.isArray(X))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ue=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,X,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(_.res=ue,_.usedParams=this.getUsedParamsDetails(i),_):ue}if(s){const ue=Array.isArray(X),pe=ue?[]:{},xe=ue?C:S;for(const le in X)if(Object.prototype.hasOwnProperty.call(X,le)){const be=`${xe}${s}${le}`;J&&!E?pe[le]=this.translate(be,{...i,defaultValue:Zv(U)?U[le]:void 0,joinArrays:!1,ns:c}):pe[le]=this.translate(be,{...i,joinArrays:!1,ns:c}),pe[le]===be&&(pe[le]=X[le])}E=pe}}else if(R&&Rr(j)&&Array.isArray(E))E=E.join(j),E&&(E=this.extendTranslation(E,e,i,n));else{let ue=!1,pe=!1;!this.isValidLookup(E)&&J&&(ue=!0,E=U),this.isValidLookup(E)||(pe=!0,E=l);const le=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&pe?void 0:E,be=J&&U!==E&&this.options.updateMissing;if(pe||ue||be){if(this.logger.log(be?"updateKey":"missingKey",v,f,l,be?U:E),s){const ee=this.resolve(l,{...i,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let _e=[];const Le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Le&&Le[0])for(let ee=0;ee<Le.length;ee++)_e.push(Le[ee]);else this.options.saveMissingTo==="all"?_e=this.languageUtils.toResolveHierarchy(i.lng||this.language):_e.push(i.lng||this.language);const Ne=(ee,P,H)=>{const q=J&&H!==E?H:le;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,f,P,q,be,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ee,f,P,q,be,i),this.emit("missingKey",ee,f,P,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&B?_e.forEach(ee=>{const P=this.pluralResolver.getSuffixes(ee,i);K&&i[`defaultValue${this.options.pluralSeparator}zero`]&&P.indexOf(`${this.options.pluralSeparator}zero`)<0&&P.push(`${this.options.pluralSeparator}zero`),P.forEach(H=>{Ne([ee],l+H,i[`defaultValue${H}`]||U)})}):Ne(_e,l,U))}E=this.extendTranslation(E,e,i,_,n),pe&&E===l&&this.options.appendNamespaceToMissingKey&&(E=`${f}${p}${l}`),(pe||ue)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${p}${l}`:l,ue?E:void 0,i))}return a?(_.res=E,_.usedParams=this.getUsedParamsDetails(i),_):E}extendTranslation(e,r,n,i,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=Rr(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(c){const v=e.match(this.interpolator.nestingRegexp);f=v&&v.length}let p=n.replace&&!Rr(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language||i.usedLng,n),c){const v=e.match(this.interpolator.nestingRegexp),y=v&&v.length;f<y&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>a?.[0]===v[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${r[0]}`),null):this.translate(...v,r),n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,l=Rr(s)?[s]:s;return e!=null&&l?.length&&n.applyPostProcessor!==!1&&(e=QS.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,i,a,s,l;return Rr(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const f=this.extractFromKey(c,r),p=f.key;i=p;let v=f.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const y=r.count!==void 0&&!Rr(r.count),_=y&&!r.ordinal&&r.count===0,E=r.context!==void 0&&(Rr(r.context)||typeof r.context=="number")&&r.context!=="",S=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);v.forEach(C=>{this.isValidLookup(n)||(l=C,!o5[`${S[0]}-${C}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(o5[`${S[0]}-${C}`]=!0,this.logger.warn(`key "${i}" for languages "${S.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(O=>{if(this.isValidLookup(n))return;s=O;const j=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(j,p,O,C,r);else{let B;y&&(B=this.pluralResolver.getSuffix(O,r.count,r));const J=`${this.options.pluralSeparator}zero`,re=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(r.ordinal&&B.indexOf(re)===0&&j.push(p+B.replace(re,this.options.pluralSeparator)),j.push(p+B),_&&j.push(p+J)),E){const F=`${p}${this.options.contextSeparator||"_"}${r.context}`;j.push(F),y&&(r.ordinal&&B.indexOf(re)===0&&j.push(F+B.replace(re,this.options.pluralSeparator)),j.push(F+B),_&&j.push(F+J))}}let R;for(;R=j.pop();)this.isValidLookup(n)||(a=R,n=this.getResource(O,C,R,r))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Rr(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const a of r)delete i[a]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class l5{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Mu.create("languageUtils")}getScriptPartFromCode(e){if(e=Y0(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Y0(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Rr(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return r=i;const a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Rr(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Rr(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Rr(e)&&a(this.formatLanguageCode(e)),n.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const u5={zero:0,one:1,two:2,few:3,many:4,other:5},c5={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ak{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Mu.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=Y0(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),c5;if(!e.match(/-|_/))return c5;const c=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(c,r)}return this.pluralRulesCache[a]=s,s}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,a)=>u5[i]-u5[a]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r,n={}){const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const h5=(t,e,r,n=".",i=!0)=>{let a=KM(t,e,r);return!a&&i&&Rr(r)&&(a=a_(t,r,n),a===void 0&&(a=a_(e,r,n))),a},Yv=t=>t.replace(/\$/g,"$$$$");class f5{constructor(e={}){this.logger=Mu.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:l,suffixEscaped:c,formatSeparator:f,unescapeSuffix:p,unescapePrefix:v,nestingPrefix:y,nestingPrefixEscaped:_,nestingSuffix:E,nestingSuffixEscaped:S,nestingOptionsSeparator:C,maxReplaces:O,alwaysFormat:j}=e.interpolation;this.escape=r!==void 0?r:JM,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Pf(a):s||"{{",this.suffix=l?Pf(l):c||"}}",this.formatSeparator=f||",",this.unescapePrefix=p?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=y?Pf(y):_||Pf("$t("),this.nestingSuffix=E?Pf(E):S||Pf(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=O||1e3,this.alwaysFormat=j!==void 0?j:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let a,s,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=_=>{if(_.indexOf(this.formatSeparator)<0){const O=h5(r,c,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(O,void 0,n,{...i,...r,interpolationkey:_}):O}const E=_.split(this.formatSeparator),S=E.shift().trim(),C=E.join(this.formatSeparator).trim();return this.format(h5(r,c,S,this.options.keySeparator,this.options.ignoreJSONStructure),C,n,{...i,...r,interpolationkey:S})};this.resetRegExp();const p=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>Yv(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?Yv(this.escape(_)):Yv(_)}].forEach(_=>{for(l=0;a=_.regex.exec(e);){const E=a[1].trim();if(s=f(E),s===void 0)if(typeof p=="function"){const C=p(e,a,i);s=Rr(C)?C:""}else if(i&&Object.prototype.hasOwnProperty.call(i,E))s="";else if(v){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${E} for interpolating ${e}`),s="";else!Rr(s)&&!this.useRawValueToEscape&&(s=r5(s));const S=_.safeValue(s);if(e=e.replace(a[0],S),v?(_.regex.lastIndex+=s.length,_.regex.lastIndex-=a[0].length):_.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r,n={}){let i,a,s;const l=(c,f)=>{const p=this.nestingOptionsSeparator;if(c.indexOf(p)<0)return c;const v=c.split(new RegExp(`${p}[ ]*{`));let y=`{${v[1]}`;c=v[0],y=this.interpolate(y,s);const _=y.match(/'/g),E=y.match(/"/g);((_?.length??0)%2===0&&!E||E.length%2!==0)&&(y=y.replace(/'/g,'"'));try{s=JSON.parse(y),f&&(s={...f,...s})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,S),`${c}${p}${y}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];s={...n},s=s.replace&&!Rr(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const f=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(f!==-1&&(c=i[1].slice(f).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),i[1]=i[1].slice(0,f)),a=r(l.call(this,i[1].trim(),s),s),a&&i[0]===e&&!Rr(a))return a;Rr(a)||(a=r5(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),c.length&&(a=c.reduce((p,v)=>this.format(p,v,n.lng,{...n,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const sk=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(s=>{if(s){const[l,...c]=s.split(":"),f=c.join(":").trim().replace(/^'+|'+$/g,""),p=l.trim();r[p]||(r[p]=f),f==="false"&&(r[p]=!1),f==="true"&&(r[p]=!0),isNaN(f)||(r[p]=parseInt(f,10))}})}return{formatName:e,formatOptions:r}},d5=t=>{const e={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=n+JSON.stringify(a);let l=e[s];return l||(l=t(Y0(n),i),e[s]=l),l(r)}},ok=t=>(e,r,n)=>t(Y0(r),n)(e);class lk{constructor(e={}){this.logger=Mu.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?d5:ok;this.formats={number:n((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return l=>s.format(l)}),currency:n((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return l=>s.format(l)}),datetime:n((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return l=>s.format(l)}),relativetime:n((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return l=>s.format(l,a.range||"day")}),list:n((i,a)=>{const s=new Intl.ListFormat(i,{...a});return l=>s.format(l)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=d5(r)}format(e,r,n,i={}){const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{const{formatName:f,formatOptions:p}=sk(c);if(this.formats[f]){let v=l;try{const y=i?.formatParams?.[i.interpolationkey]||{},_=y.locale||y.lng||i.locale||i.lng||n;v=this.formats[f](l,_,{...p,...i,...y})}catch(y){this.logger.warn(y)}return v}else this.logger.warn(`there was no format function for ${f}`);return l},e)}}const uk=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class ck extends n1{constructor(e,r,n,i={}){super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Mu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(e,r,n,i){const a={},s={},l={},c={};return e.forEach(f=>{let p=!0;r.forEach(v=>{const y=`${f}|${v}`;!n.reload&&this.store.hasResourceBundle(f,v)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?s[y]===void 0&&(s[y]=!0):(this.state[y]=1,p=!1,s[y]===void 0&&(s[y]=!0),a[y]===void 0&&(a[y]=!0),c[v]===void 0&&(c[v]=!0)))}),p||(l[f]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const i=e.split("|"),a=i[0],s=i[1];r&&this.emit("failedLoading",a,s,r),!r&&n&&this.store.addResourceBundle(a,s,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{YM(c.loaded,[a],s),uk(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(f=>{l[f]||(l[f]={});const p=c.loaded[f];p.length&&p.forEach(v=>{l[f][v]===void 0&&(l[f][v]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n,i=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:a,callback:s});return}this.readingCalls++;const l=(f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(f&&p&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,a*2,s)},a);return}s(f,p)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const f=c(e,r);f&&typeof f.then=="function"?f.then(p=>l(null,p)).catch(l):l(null,f)}catch(f){l(f)}return}return c(e,r,l)}prepareLoading(e,r,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Rr(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Rr(r)&&(r=[r]);const a=this.queueLoad(e,r,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(s,l)=>{s&&this.logger.warn(`${r}loading namespace ${a} for language ${i} failed`,s),!s&&l&&this.logger.log(`${r}loaded namespace ${a} for language ${i}`,l),this.loaded(e,s,l)})}saveMissing(e,r,n,i,a,s={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const c={...s,isUpdate:a},f=this.backend.create.bind(this.backend);if(f.length<6)try{let p;f.length===5?p=f(e,r,n,i,c):p=f(e,r,n,i),p&&typeof p.then=="function"?p.then(v=>l(null,v)).catch(l):l(null,p)}catch(p){l(p)}else f(e,r,n,i,l,c)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const Kv=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Rr(t[1])&&(e.defaultValue=t[1]),Rr(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),p5=t=>(Rr(t.ns)&&(t.ns=[t.ns]),Rr(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Rr(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Lm=()=>{},hk=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class T0 extends n1{constructor(e={},r){if(super(),this.options=p5(e),this.services={},this.logger=Mu,this.modules={external:[]},hk(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(Rr(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=Kv();this.options={...n,...this.options,...p5(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler),this.options.debug===!0&&typeof console<"u"&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Mu.init(i(this.modules.logger),this.options):Mu.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=lk;const p=new l5(this.options);this.store=new s5(this.options.resources,this.options);const v=this.services;v.logger=Mu,v.resourceStore=this.store,v.languageUtils=p,v.pluralResolver=new ak(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(v.formatter=i(f),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new f5(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new ck(i(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...E)=>{this.emit(_,...E)}),this.modules.languageDetector&&(v.languageDetector=i(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=i(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new _g(this.services,this.options),this.translator.on("*",(_,...E)=>{this.emit(_,...E)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Lm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...p)=>this.store[f](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...p)=>(this.store[f](...p),this)});const l=o0(),c=()=>{const f=(p,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(v),r(p,v)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,r=Lm){let n=r;const i=Rr(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],s=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload?.forEach?.(l=>s(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,r,n){const i=o0();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Lm),this.services.backendConnector.reload(e,r,a=>{i.resolve(),n(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&QS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=o0();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...f)=>this.t(...f)),r&&r(l,(...f)=>this.t(...f))},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=Rr(l)?l:l&&l[0],f=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Rr(l)?[l]:l);f&&(this.language||i(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,p=>{a(p,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),n}getFixedT(e,r,n){const i=(a,s,...l)=>{let c;typeof s!="object"?c=this.options.overloadTranslationOptionHandler([a,s].concat(l)):c={...s},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);const f=this.options.keySeparator||".";let p;return c.keyPrefix&&Array.isArray(a)?p=a.map(v=>(typeof v=="function"&&(v=s_(v,{...this.options,...s})),`${c.keyPrefix}${f}${v}`)):(typeof a=="function"&&(a=s_(a,{...this.options,...s})),p=c.keyPrefix?`${c.keyPrefix}${f}${a}`:a),this.t(p,c)};return Rr(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const s=(l,c)=>{const f=this.services.backendConnector.state[`${l}|${c}`];return f===-1||f===0||f===2};if(r.precheck){const l=r.precheck(this,s);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(n,e)&&(!i||s(a,e)))}loadNamespaces(e,r){const n=o0();return this.options.ns?(Rr(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=o0();Rr(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const a=i.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new l5(Kv());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new T0(e,r);return n.createInstance=T0.createInstance,n}cloneInstance(e={},r=Lm){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new T0(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n){const l=Object.keys(this.store.data).reduce((c,f)=>(c[f]={...this.store.data[f]},c[f]=Object.keys(c[f]).reduce((p,v)=>(p[v]={...c[f][v]},p),c[f]),c),{});a.store=new s5(l,i),a.services.resourceStore=a.store}if(e.interpolation){const c={...Kv().interpolation,...this.options.interpolation,...e.interpolation},f={...i,interpolation:c};a.services.interpolator=new f5(f)}return a.translator=new _g(a.services,i),a.translator.on("*",(l,...c)=>{a.emit(l,...c)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qs=T0.createInstance();Qs.createInstance;Qs.dir;Qs.init;Qs.loadResources;Qs.reloadResources;Qs.use;Qs.changeLanguage;Qs.getFixedT;Qs.t;Qs.exists;Qs.setDefaultNamespace;Qs.hasLoadedNamespace;Qs.loadNamespaces;Qs.loadLanguages;const fk=(t,e,r,n)=>{const i=[r,{code:e,...n||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);jh(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},m5={},tE=(t,e,r,n)=>{jh(r)&&m5[r]||(jh(r)&&(m5[r]=new Date),fk(t,e,r,n))},rE=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},o_=(t,e,r)=>{t.loadNamespaces(e,rE(t,r))},g5=(t,e,r,n)=>{if(jh(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return o_(t,r,n);r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,rE(t,n))},dk=(t,e,r={})=>!e.languages||!e.languages.length?(tE(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}),jh=t=>typeof t=="string",pk=t=>typeof t=="object"&&t!==null,mk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,gk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},vk=t=>gk[t],_k=t=>t.replace(mk,vk);let l_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_k,transDefaultProps:void 0};const yk=(t={})=>{l_={...l_,...t}},xk=()=>l_;let nE;const wk=t=>{nE=t},bk=()=>nE,Sk={type:"3rdParty",init(t){yk(t.options.react),wk(t)}},Ek=de.createContext();class Tk{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Xv={exports:{}},Jv={};var v5;function Ak(){if(v5)return Jv;v5=1;var t=Zg();function e(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(v,y){var _=y(),E=n({inst:{value:_,getSnapshot:y}}),S=E[0].inst,C=E[1];return a(function(){S.value=_,S.getSnapshot=y,c(S)&&C({inst:S})},[v,_,y]),i(function(){return c(S)&&C({inst:S}),v(function(){c(S)&&C({inst:S})})},[v]),s(_),_}function c(v){var y=v.getSnapshot;v=v.value;try{var _=y();return!r(v,_)}catch{return!0}}function f(v,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Jv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Jv}var _5;function Lk(){return _5||(_5=1,Xv.exports=Ak()),Xv.exports}var Nk=Lk();const Ck=(t,e)=>jh(e)?e:pk(e)&&jh(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Mk={t:Ck,ready:!1},kk=()=>()=>{},mp=(t,e={})=>{const{i18n:r}=e,{i18n:n,defaultNS:i}=de.useContext(Ek)||{},a=r||n||bk();a&&!a.reportNamespaces&&(a.reportNamespaces=new Tk),a||tE(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=de.useMemo(()=>({...xk(),...a?.options?.react,...e}),[a,e]),{useSuspense:l,keyPrefix:c}=s,f=i||a?.options?.defaultNS,p=jh(f)?[f]:f||["translation"],v=de.useMemo(()=>p,p);a?.reportNamespaces?.addUsedNamespaces?.(v);const y=de.useRef(0),_=de.useCallback(U=>{if(!a)return kk;const{bindI18n:X,bindI18nStore:I}=s,W=()=>{y.current+=1,U()};return X&&a.on(X,W),I&&a.store.on(I,W),()=>{X&&X.split(" ").forEach(ue=>a.off(ue,W)),I&&I.split(" ").forEach(ue=>a.store.off(ue,W))}},[a,s]),E=de.useRef(),S=de.useCallback(()=>{if(!a)return Mk;const U=!!(a.isInitialized||a.initializedStoreOnce)&&v.every(xe=>dk(xe,a,s)),X=e.lng||a.language,I=y.current,W=E.current;if(W&&W.ready===U&&W.lng===X&&W.keyPrefix===c&&W.revision===I)return W;const pe={t:a.getFixedT(X,s.nsMode==="fallback"?v:v[0],c),ready:U,lng:X,keyPrefix:c,revision:I};return E.current=pe,pe},[a,v,c,s,e.lng]),[C,O]=de.useState(0),{t:j,ready:R}=Nk.useSyncExternalStore(_,S,S);de.useEffect(()=>{if(a&&!R&&!l){const U=()=>O(X=>X+1);e.lng?g5(a,e.lng,v,U):o_(a,v,U)}},[a,e.lng,v,R,l,C]);const B=a||{},J=de.useRef(null),re=de.useRef(),F=U=>{const X=Object.getOwnPropertyDescriptors(U);X.__original&&delete X.__original;const I=Object.create(Object.getPrototypeOf(U),X);if(!Object.prototype.hasOwnProperty.call(I,"__original"))try{Object.defineProperty(I,"__original",{value:U,writable:!1,enumerable:!1,configurable:!1})}catch{}return I},K=de.useMemo(()=>{const U=B,X=U?.language;let I=U;U&&(J.current&&J.current.__original===U?re.current!==X?(I=F(U),J.current=I,re.current=X):I=J.current:(I=F(U),J.current=I,re.current=X));const W=[j,I,R];return W.t=j,W.i18n=I,W.ready=R,W},[j,B,R,B.resolvedLanguage,B.language,B.languages]);if(a&&l&&!R)throw new Promise(U=>{const X=()=>U();e.lng?g5(a,e.lng,v,X):o_(a,v,X)});return K},iE=de.createContext(null),gp=()=>{const t=de.useContext(iE);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Pk=({children:t})=>{const[e,r]=de.useState(null),[n,i]=de.useState(null),[a,s]=de.useState(!0),[l,c]=de.useState(null),f=async F=>{try{const{data:K,error:U}=await ln.from("user_profiles").select("*").eq("id",F).single();if(U){if(console.log("Profile fetch error (may be normal for new users):",U.code),U.code==="PGRST116"){const X=(await ln.auth.getUser()).data.user,{data:I,error:W}=await ln.from("user_profiles").insert({id:F,email:X?.email,role:"surveyor"}).select().single();i(!W&&I?I:{id:F,role:"surveyor",email:X?.email});return}i({id:F,role:"surveyor"});return}i(K)}catch(K){console.error("Error in fetchProfile:",K),i({id:F,role:"surveyor"})}};de.useEffect(()=>{ln.auth.getSession().then(({data:{session:K}})=>{r(K?.user??null),K?.user&&f(K.user.id),s(!1)});const{data:{subscription:F}}=ln.auth.onAuthStateChange(async(K,U)=>{r(U?.user??null),U?.user?await f(U.user.id):i(null)});return()=>F.unsubscribe()},[]);const p=()=>n?.role==="admin",v=()=>n?.role==="supervisor",re={user:e,profile:n,loading:a,error:l,isAdmin:p,isSupervisor:v,isSurveyor:()=>n?.role==="surveyor",hasRole:F=>n?.role===F,hasAnyRole:F=>F.includes(n?.role),canManageUsers:()=>p(),canManageZones:()=>p()||v(),canViewAllSurveys:()=>p()||v(),canApproveSurveys:()=>p()||v(),canExportData:()=>p()||v(),updateProfile:async F=>{if(!e)return{error:"Not authenticated"};const{data:K,error:U}=await ln.from("user_profiles").update({...F,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();return U||i(K),{data:K,error:U}},signOut:async()=>{await ln.auth.signOut(),r(null),i(null)},refreshProfile:()=>e&&f(e.id)};return x.jsx(iE.Provider,{value:re,children:t})},Nm=[{code:"en",name:"English",flag:"",nativeName:"English"},{code:"hi",name:"Hindi",flag:"",nativeName:""},{code:"mr",name:"Marathi",flag:"",nativeName:""}],Ok=({variant:t="dropdown"})=>{const{i18n:e,t:r}=mp(),[n,i]=de.useState(!1),a=de.useRef(null),s=Nm.find(c=>c.code===e.language)||Nm[0];de.useEffect(()=>{const c=f=>{a.current&&!a.current.contains(f.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const l=c=>{e.changeLanguage(c),localStorage.setItem("preferredLanguage",c),i(!1)};return t==="compact"?x.jsx("div",{className:"flex gap-1",children:Nm.map(c=>x.jsx("button",{onClick:()=>l(c.code),className:`px-2 py-1 rounded-lg text-xs font-medium transition-all ${e.language===c.code?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:c.name,children:c.code.toUpperCase()},c.code))}):x.jsxs("div",{className:"relative",ref:a,children:[x.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all",children:[x.jsx("span",{className:"text-lg",children:s.flag}),x.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.nativeName}),x.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&x.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50 animate-fadeIn",children:[x.jsx("p",{className:"px-4 py-1 text-xs font-semibold text-gray-400 uppercase tracking-wide",children:r("language.select")}),Nm.map(c=>x.jsxs("button",{onClick:()=>l(c.code),className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${e.language===c.code?"bg-blue-50 text-blue-600":"hover:bg-gray-50 text-gray-700"}`,children:[x.jsx("span",{className:"text-xl",children:c.flag}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium",children:c.nativeName}),x.jsx("p",{className:"text-xs text-gray-400",children:c.name})]}),e.language===c.code&&x.jsx("svg",{className:"w-5 h-5 ml-auto text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},c.code))]})]})},Rk="v2.2.0-FINAL",Dk=()=>{const{t}=mp(),e=gc(),r=mc(),[n,i]=de.useState(!1),{profile:a,isAdmin:s,isSupervisor:l,canManageZones:c,signOut:f}=gp(),p=async()=>{await f(),e("/login")},v=()=>{i(!1)};return x.jsxs("div",{className:"flex h-screen bg-gray-50",children:[n&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998] md:hidden",onClick:v}),x.jsx("aside",{className:`fixed md:static inset-y-0 left-0 z-[9999] w-64 bg-gradient-to-b from-slate-900 to-slate-800 text-white transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsxs("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-xl font-bold",children:"INDICES"}),x.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:"Geospatial Survey System"})]}),x.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-slate-700 transition-colors",onClick:v,children:x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[x.jsx(bh,{to:"/dashboard",icon:"",active:r.pathname==="/dashboard",onClick:v,children:t("nav.dashboard")}),x.jsx(bh,{to:"/survey",icon:"",active:r.pathname==="/survey",onClick:v,children:t("nav.surveyMap")}),x.jsx(bh,{to:"/surveyed-buildings",icon:"",active:r.pathname==="/surveyed-buildings",onClick:v,children:t("nav.allBuildings")}),x.jsx(bh,{to:"/my-assignments",icon:"",active:r.pathname==="/my-assignments",onClick:v,children:t("nav.myAssignments")}),c()&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"pt-4 pb-2",children:x.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wider px-4",children:"Management"})}),x.jsx(bh,{to:"/zones",icon:"",active:r.pathname==="/zones",onClick:v,children:t("nav.zones")})]}),s()&&x.jsxs(x.Fragment,{children:[x.jsx(bh,{to:"/users",icon:"",active:r.pathname==="/users",onClick:v,children:t("nav.users")}),x.jsx(bh,{to:"/admin",icon:"",active:r.pathname==="/admin",onClick:v,children:t("nav.admin")})]})]}),x.jsxs("div",{className:"p-4 border-t border-slate-700 space-y-3",children:[a&&x.jsxs("div",{className:"flex items-center gap-3 px-2 py-2",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:a.full_name?.charAt(0)||a.email?.charAt(0)||"?"}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"text-sm font-medium text-white truncate",children:a.full_name||"User"}),x.jsx("p",{className:"text-xs text-slate-400 capitalize",children:t(`roles.${a.role}`)})]})]}),x.jsx("button",{onClick:p,className:"w-full py-3 px-4 bg-red-600 hover:bg-red-700 rounded-lg font-medium transition-colors text-base",children:t("auth.logout")}),x.jsx("div",{className:"text-center pt-2 border-t border-slate-700 mt-2",children:x.jsx("p",{className:"text-xs text-slate-500",children:Rk})})]})]})}),x.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[x.jsx("button",{className:"md:hidden p-3 -ml-2 rounded-lg hover:bg-gray-100 active:bg-gray-200 transition-colors",onClick:()=>i(!0),"aria-label":"Open menu",children:x.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),x.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:t("common.appName")}),x.jsx(Ok,{variant:"compact"})]}),x.jsx("main",{className:"flex-1 overflow-auto",children:x.jsx(kS,{})})]})]})},bh=({to:t,icon:e,children:r,active:n,onClick:i})=>x.jsxs(H_,{to:t,onClick:i,className:`flex items-center space-x-3 py-4 px-4 rounded-lg transition-colors ${n?"bg-blue-600 text-white":"hover:bg-slate-700 text-white"}`,children:[x.jsx("span",{className:"text-2xl",children:e}),x.jsx("span",{className:"font-medium text-base",children:r})]}),jk=()=>x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:x.jsx("div",{className:"w-full max-w-md",children:x.jsx(kS,{})})}),Ik=()=>{const t=gc(),[e,r]=de.useState(""),[n,i]=de.useState(""),[a,s]=de.useState(!1),[l,c]=de.useState(!0);de.useEffect(()=>{let p=!0;const v=setTimeout(()=>{p&&c(!1)},3e3);ln.auth.getSession().then(({data:{session:_}})=>{p&&(_&&t("/dashboard",{replace:!0}),c(!1))}).catch(_=>{console.error("Session check failed:",_),p&&c(!1)});const{data:{subscription:y}}=ln.auth.onAuthStateChange((_,E)=>{console.log("Login page - Auth event:",_),_==="SIGNED_IN"&&E&&setTimeout(()=>{t("/dashboard",{replace:!0})},100)});return()=>{p=!1,clearTimeout(v),y.unsubscribe()}},[t]);const f=async p=>{if(!e||!n){alert("Please enter email and password");return}s(!0);try{const{data:v,error:y}=p?await ln.auth.signUp({email:e,password:n,options:{emailRedirectTo:window.location.origin+"/new_with_database/#/dashboard"}}):await ln.auth.signInWithPassword({email:e,password:n});if(y)throw y;p&&(alert("Sign up successful! You can now log in."),s(!1))}catch(v){console.error("Auth error:",v.message),alert(v.message),s(!1)}};return l?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:x.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):x.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[x.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"}),x.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-green-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"})]}),x.jsxs("div",{className:"relative z-10 w-full max-w-md px-6",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-green-500 rounded-2xl shadow-lg mb-4",children:x.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),x.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"INDICES"}),x.jsx("p",{className:"text-blue-300 mt-1 text-sm",children:"Geospatial Survey System"})]}),x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/20",children:[x.jsx("h2",{className:"text-xl font-semibold text-white text-center mb-6",children:"Surveyor Login"}),x.jsxs("form",{className:"space-y-5",onSubmit:p=>{p.preventDefault(),f(!1)},children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"Email"}),x.jsx("input",{type:"email",value:e,onChange:p=>r(p.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"surveyor@example.com",autoComplete:"email"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"Password"}),x.jsx("input",{type:"password",value:n,onChange:p=>i(p.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"",autoComplete:"current-password"})]}),x.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl shadow-lg transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:a?x.jsxs("span",{className:"flex items-center justify-center gap-2",children:[x.jsxs("svg",{className:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Sign In"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-white/20"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 bg-transparent text-gray-400",children:"or"})})]}),x.jsx("button",{type:"button",onClick:()=>f(!0),disabled:a,className:"w-full py-3 px-4 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-xl border border-white/20 transition-all",children:"Create Account"})]})]}),x.jsx("p",{className:"text-center text-gray-500 text-xs mt-6",children:"Powered by INDICES Geospatial Survey System"})]})]})},Fk="modulepreload",Bk=function(t){return"/new_with_database/"+t},y5={},Qv=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=c(r.map(f=>{if(f=Bk(f),f in y5)return;y5[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":Fk,p||(y.as="script"),y.crossOrigin="",y.href=f,l&&y.setAttribute("nonce",l),document.head.appendChild(y),p)return new Promise((_,E)=>{y.addEventListener("load",_),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function Gn(t){"@babel/helpers - typeof";return Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gn(t)}var Jl=Uint8Array,Jo=Uint16Array,$_=Int32Array,W_=new Jl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Z_=new Jl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),x5=new Jl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aE=function(t,e){for(var r=new Jo(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new $_(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},sE=aE(W_,2),Uk=sE.b,u_=sE.r;Uk[28]=258,u_[258]=28;var zk=aE(Z_,0),w5=zk.r,c_=new Jo(32768);for(var vi=0;vi<32768;++vi){var Hc=(vi&43690)>>1|(vi&21845)<<1;Hc=(Hc&52428)>>2|(Hc&13107)<<2,Hc=(Hc&61680)>>4|(Hc&3855)<<4,c_[vi]=((Hc&65280)>>8|(Hc&255)<<8)>>1}var A0=(function(t,e,r){for(var n=t.length,i=0,a=new Jo(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new Jo(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(r){l=new Jo(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var f=i<<4|t[i],p=e-t[i],v=s[t[i]-1]++<<p,y=v|(1<<p)-1;v<=y;++v)l[c_[v]>>c]=f}else for(l=new Jo(n),i=0;i<n;++i)t[i]&&(l[i]=c_[s[t[i]-1]++]>>15-t[i]);return l}),Ih=new Jl(288);for(var vi=0;vi<144;++vi)Ih[vi]=8;for(var vi=144;vi<256;++vi)Ih[vi]=9;for(var vi=256;vi<280;++vi)Ih[vi]=7;for(var vi=280;vi<288;++vi)Ih[vi]=8;var yg=new Jl(32);for(var vi=0;vi<32;++vi)yg[vi]=5;var Gk=A0(Ih,9,0),Hk=A0(yg,5,0),oE=function(t){return(t+7)/8|0},qk=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Jl(t.subarray(e,r))},nc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},l0=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},e2=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:uE,l:0};if(i==1){var s=new Jl(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(J,re){return J.f-re.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],f=0,p=1,v=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};p!=i-1;)l=r[r[f].f<r[v].f?f++:v++],c=r[f!=p&&r[f].f<r[v].f?f++:v++],r[p++]={s:-1,f:l.f+c.f,l,r:c};for(var y=a[0].s,n=1;n<i;++n)a[n].s>y&&(y=a[n].s);var _=new Jo(y+1),E=h_(r[p-1],_,0);if(E>e){var n=0,S=0,C=E-e,O=1<<C;for(a.sort(function(re,F){return _[F.s]-_[re.s]||re.f-F.f});n<i;++n){var j=a[n].s;if(_[j]>e)S+=O-(1<<E-_[j]),_[j]=e;else break}for(S>>=C;S>0;){var R=a[n].s;_[R]<e?S-=1<<e-_[R]++-1:++n}for(;n>=0&&S;--n){var B=a[n].s;_[B]==e&&(--_[B],++S)}E=e}return{t:new Jl(_),l:E}},h_=function(t,e,r){return t.s==-1?Math.max(h_(t.l,e,r+1),h_(t.r,e,r+1)):e[t.s]=r},b5=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Jo(++e),n=0,i=t[0],a=1,s=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[l]}return{c:r.subarray(0,n),n:e}},u0=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},lE=function(t,e,r){var n=r.length,i=oE(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},S5=function(t,e,r,n,i,a,s,l,c,f,p){nc(e,p++,r),++i[256];for(var v=e2(i,15),y=v.t,_=v.l,E=e2(a,15),S=E.t,C=E.l,O=b5(y),j=O.c,R=O.n,B=b5(S),J=B.c,re=B.n,F=new Jo(19),K=0;K<j.length;++K)++F[j[K]&31];for(var K=0;K<J.length;++K)++F[J[K]&31];for(var U=e2(F,7),X=U.t,I=U.l,W=19;W>4&&!X[x5[W-1]];--W);var ue=f+5<<3,pe=u0(i,Ih)+u0(a,yg)+s,xe=u0(i,y)+u0(a,S)+s+14+3*W+u0(F,X)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&ue<=pe&&ue<=xe)return lE(e,p,t.subarray(c,c+f));var le,be,_e,Le;if(nc(e,p,1+(xe<pe)),p+=2,xe<pe){le=A0(y,_,0),be=y,_e=A0(S,C,0),Le=S;var Ne=A0(X,I,0);nc(e,p,R-257),nc(e,p+5,re-1),nc(e,p+10,W-4),p+=14;for(var K=0;K<W;++K)nc(e,p+3*K,X[x5[K]]);p+=3*W;for(var ee=[j,J],P=0;P<2;++P)for(var H=ee[P],K=0;K<H.length;++K){var q=H[K]&31;nc(e,p,Ne[q]),p+=X[q],q>15&&(nc(e,p,H[K]>>5&127),p+=H[K]>>12)}}else le=Gk,be=Ih,_e=Hk,Le=yg;for(var K=0;K<l;++K){var Z=n[K];if(Z>255){var q=Z>>18&31;l0(e,p,le[q+257]),p+=be[q+257],q>7&&(nc(e,p,Z>>23&31),p+=W_[q]);var oe=Z&31;l0(e,p,_e[oe]),p+=Le[oe],oe>3&&(l0(e,p,Z>>5&8191),p+=Z_[oe])}else l0(e,p,le[Z]),p+=be[Z]}return l0(e,p,le[256]),p+be[256]},Vk=new $_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uE=new Jl(0),$k=function(t,e,r,n,i,a){var s=a.z||t.length,l=new Jl(n+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(n,l.length-i),f=a.l,p=(a.r||0)&7;if(e){p&&(c[0]=a.r>>3);for(var v=Vk[e-1],y=v>>13,_=v&8191,E=(1<<r)-1,S=a.p||new Jo(32768),C=a.h||new Jo(E+1),O=Math.ceil(r/3),j=2*O,R=function(Nt){return(t[Nt]^t[Nt+1]<<O^t[Nt+2]<<j)&E},B=new $_(25e3),J=new Jo(288),re=new Jo(32),F=0,K=0,U=a.i||0,X=0,I=a.w||0,W=0;U+2<s;++U){var ue=R(U),pe=U&32767,xe=C[ue];if(S[pe]=xe,C[ue]=pe,I<=U){var le=s-U;if((F>7e3||X>24576)&&(le>423||!f)){p=S5(t,c,0,B,J,re,K,X,W,U-W,p),X=F=K=0,W=U;for(var be=0;be<286;++be)J[be]=0;for(var be=0;be<30;++be)re[be]=0}var _e=2,Le=0,Ne=_,ee=pe-xe&32767;if(le>2&&ue==R(U-ee))for(var P=Math.min(y,le)-1,H=Math.min(32767,U),q=Math.min(258,le);ee<=H&&--Ne&&pe!=xe;){if(t[U+_e]==t[U+_e-ee]){for(var Z=0;Z<q&&t[U+Z]==t[U+Z-ee];++Z);if(Z>_e){if(_e=Z,Le=ee,Z>P)break;for(var oe=Math.min(ee,Z-2),Ae=0,be=0;be<oe;++be){var Oe=U-ee+be&32767,Re=S[Oe],Ie=Oe-Re&32767;Ie>Ae&&(Ae=Ie,xe=Oe)}}}pe=xe,xe=S[pe],ee+=pe-xe&32767}if(Le){B[X++]=268435456|u_[_e]<<18|w5[Le];var ot=u_[_e]&31,it=w5[Le]&31;K+=W_[ot]+Z_[it],++J[257+ot],++re[it],I=U+_e,++F}else B[X++]=t[U],++J[t[U]]}}for(U=Math.max(U,I);U<s;++U)B[X++]=t[U],++J[t[U]];p=S5(t,c,f,B,J,re,K,X,W,U-W,p),f||(a.r=p&7|c[p/8|0]<<3,p-=7,a.h=C,a.p=S,a.i=U,a.w=I)}else{for(var U=a.w||0;U<s+f;U+=65535){var Tt=U+65535;Tt>=s&&(c[p/8|0]=f,Tt=s),p=lE(c,p+1,t.subarray(U,Tt))}a.i=s}return qk(l,0,n+oE(p)+i)},cE=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Wk=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Jl(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return $k(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},hE=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Zk=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=cE();i.p(e.dictionary),hE(t,2,i.d())}};function f_(t,e){e||(e={});var r=cE();r.p(t);var n=Wk(t,e,e.dictionary?6:2,4);return Zk(n,e),hE(n,n.length-4,r.d()),n}var Yk=typeof TextDecoder<"u"&&new TextDecoder,Kk=0;try{Yk.decode(uE,{stream:!0}),Kk=1}catch{}function Xk(t){if(Array.isArray(t))return t}function Jk(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function E5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Qk(t,e){if(t){if(typeof t=="string")return E5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E5(t,e):void 0}}function eP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T5(t,e){return Xk(t)||Jk(t,e)||Qk(t,e)||eP()}function A5(t,e="utf8"){return new TextDecoder(e).decode(t)}const tP=new TextEncoder;function rP(t){return tP.encode(t)}const nP=1024*8,iP=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),t2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Y_{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=nP,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof Y_)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=t2[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===iP&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new t2[r](l.buffer);return this.offset+=n,c.reverse(),c}const s=new t2[r](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return A5(this.readBytes(e))}decodeText(e=1,r="utf8"){return A5(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(rP(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function xd(t){let e=t.length;for(;--e>=0;)t[e]=0}const aP=3,sP=258,fE=29,oP=256,lP=oP+1+fE,dE=30,uP=512,cP=new Array((lP+2)*2);xd(cP);const hP=new Array(dE*2);xd(hP);const fP=new Array(uP);xd(fP);const dP=new Array(sP-aP+1);xd(dP);const pP=new Array(fE);xd(pP);const mP=new Array(dE);xd(mP);const gP=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var d_=gP;const vP=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},_P=new Uint32Array(vP()),yP=(t,e,r,n)=>{const i=_P,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Tu=yP,p_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pE={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const xP=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var wP=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)xP(r,n)&&(t[n]=r[n])}}return t},bP=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},mE={assign:wP,flattenChunks:bP};let gE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gE=!1}const K0=new Uint8Array(256);for(let t=0;t<256;t++)K0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;K0[254]=K0[254]=1;var SP=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,l=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const EP=(t,e)=>{if(e<65534&&t.subarray&&gE)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var TP=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let l=K0[s];if(l>4){a[i++]=65533,n+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&n<r;)s=s<<6|t[n++]&63,l--;if(l>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return EP(a,i)},AP=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+K0[t[r]]>e?r:e},m_={string2buf:SP,buf2string:TP,utf8border:AP};function LP(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var NP=LP;const Cm=16209,CP=16191;var MP=function(e,r){let n,i,a,s,l,c,f,p,v,y,_,E,S,C,O,j,R,B,J,re,F,K,U,X;const I=e.state;n=e.next_in,U=e.input,i=n+(e.avail_in-5),a=e.next_out,X=e.output,s=a-(r-e.avail_out),l=a+(e.avail_out-257),c=I.dmax,f=I.wsize,p=I.whave,v=I.wnext,y=I.window,_=I.hold,E=I.bits,S=I.lencode,C=I.distcode,O=(1<<I.lenbits)-1,j=(1<<I.distbits)-1;e:do{E<15&&(_+=U[n++]<<E,E+=8,_+=U[n++]<<E,E+=8),R=S[_&O];t:for(;;){if(B=R>>>24,_>>>=B,E-=B,B=R>>>16&255,B===0)X[a++]=R&65535;else if(B&16){J=R&65535,B&=15,B&&(E<B&&(_+=U[n++]<<E,E+=8),J+=_&(1<<B)-1,_>>>=B,E-=B),E<15&&(_+=U[n++]<<E,E+=8,_+=U[n++]<<E,E+=8),R=C[_&j];r:for(;;){if(B=R>>>24,_>>>=B,E-=B,B=R>>>16&255,B&16){if(re=R&65535,B&=15,E<B&&(_+=U[n++]<<E,E+=8,E<B&&(_+=U[n++]<<E,E+=8)),re+=_&(1<<B)-1,re>c){e.msg="invalid distance too far back",I.mode=Cm;break e}if(_>>>=B,E-=B,B=a-s,re>B){if(B=re-B,B>p&&I.sane){e.msg="invalid distance too far back",I.mode=Cm;break e}if(F=0,K=y,v===0){if(F+=f-B,B<J){J-=B;do X[a++]=y[F++];while(--B);F=a-re,K=X}}else if(v<B){if(F+=f+v-B,B-=v,B<J){J-=B;do X[a++]=y[F++];while(--B);if(F=0,v<J){B=v,J-=B;do X[a++]=y[F++];while(--B);F=a-re,K=X}}}else if(F+=v-B,B<J){J-=B;do X[a++]=y[F++];while(--B);F=a-re,K=X}for(;J>2;)X[a++]=K[F++],X[a++]=K[F++],X[a++]=K[F++],J-=3;J&&(X[a++]=K[F++],J>1&&(X[a++]=K[F++]))}else{F=a-re;do X[a++]=X[F++],X[a++]=X[F++],X[a++]=X[F++],J-=3;while(J>2);J&&(X[a++]=X[F++],J>1&&(X[a++]=X[F++]))}}else if((B&64)===0){R=C[(R&65535)+(_&(1<<B)-1)];continue r}else{e.msg="invalid distance code",I.mode=Cm;break e}break}}else if((B&64)===0){R=S[(R&65535)+(_&(1<<B)-1)];continue t}else if(B&32){I.mode=CP;break e}else{e.msg="invalid literal/length code",I.mode=Cm;break e}break}}while(n<i&&a<l);J=E>>3,n-=J,E-=J<<3,_&=(1<<E)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<l?257+(l-a):257-(a-l),I.hold=_,I.bits=E};const Of=15,L5=852,N5=592,C5=0,r2=1,M5=2,kP=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),PP=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),OP=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),RP=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),DP=(t,e,r,n,i,a,s,l)=>{const c=l.bits;let f=0,p=0,v=0,y=0,_=0,E=0,S=0,C=0,O=0,j=0,R,B,J,re,F,K=null,U;const X=new Uint16Array(Of+1),I=new Uint16Array(Of+1);let W=null,ue,pe,xe;for(f=0;f<=Of;f++)X[f]=0;for(p=0;p<n;p++)X[e[r+p]]++;for(_=c,y=Of;y>=1&&X[y]===0;y--);if(_>y&&(_=y),y===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(v=1;v<y&&X[v]===0;v++);for(_<v&&(_=v),C=1,f=1;f<=Of;f++)if(C<<=1,C-=X[f],C<0)return-1;if(C>0&&(t===C5||y!==1))return-1;for(I[1]=0,f=1;f<Of;f++)I[f+1]=I[f]+X[f];for(p=0;p<n;p++)e[r+p]!==0&&(s[I[e[r+p]]++]=p);if(t===C5?(K=W=s,U=20):t===r2?(K=kP,W=PP,U=257):(K=OP,W=RP,U=0),j=0,p=0,f=v,F=a,E=_,S=0,J=-1,O=1<<_,re=O-1,t===r2&&O>L5||t===M5&&O>N5)return 1;for(;;){ue=f-S,s[p]+1<U?(pe=0,xe=s[p]):s[p]>=U?(pe=W[s[p]-U],xe=K[s[p]-U]):(pe=96,xe=0),R=1<<f-S,B=1<<E,v=B;do B-=R,i[F+(j>>S)+B]=ue<<24|pe<<16|xe|0;while(B!==0);for(R=1<<f-1;j&R;)R>>=1;if(R!==0?(j&=R-1,j+=R):j=0,p++,--X[f]===0){if(f===y)break;f=e[r+s[p]]}if(f>_&&(j&re)!==J){for(S===0&&(S=_),F+=v,E=f-S,C=1<<E;E+S<y&&(C-=X[E+S],!(C<=0));)E++,C<<=1;if(O+=1<<E,t===r2&&O>L5||t===M5&&O>N5)return 1;J=j&re,i[J]=_<<24|E<<16|F-a|0}}return j!==0&&(i[F+j]=f-S<<24|64<<16|0),l.bits=_,0};var L0=DP;const jP=0,vE=1,_E=2,{Z_FINISH:k5,Z_BLOCK:IP,Z_TREES:Mm,Z_OK:Fh,Z_STREAM_END:FP,Z_NEED_DICT:BP,Z_STREAM_ERROR:bl,Z_DATA_ERROR:yE,Z_MEM_ERROR:xE,Z_BUF_ERROR:UP,Z_DEFLATED:P5}=pE,i1=16180,O5=16181,R5=16182,D5=16183,j5=16184,I5=16185,F5=16186,B5=16187,U5=16188,z5=16189,xg=16190,ic=16191,n2=16192,G5=16193,i2=16194,H5=16195,q5=16196,V5=16197,$5=16198,km=16199,Pm=16200,W5=16201,Z5=16202,Y5=16203,K5=16204,X5=16205,a2=16206,J5=16207,Q5=16208,Ai=16209,wE=16210,bE=16211,zP=852,GP=592,HP=15,qP=HP,e4=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function VP(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<i1||e.mode>bE?1:0},SE=t=>{if(Vh(t))return bl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=i1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(zP),e.distcode=e.distdyn=new Int32Array(GP),e.sane=1,e.back=-1,Fh},EE=t=>{if(Vh(t))return bl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,SE(t)},TE=(t,e)=>{let r;if(Vh(t))return bl;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?bl:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,EE(t))},AE=(t,e)=>{if(!t)return bl;const r=new VP;t.state=r,r.strm=t,r.window=null,r.mode=i1;const n=TE(t,e);return n!==Fh&&(t.state=null),n},$P=t=>AE(t,qP);let t4=!0,s2,o2;const WP=t=>{if(t4){s2=new Int32Array(512),o2=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(L0(vE,t.lens,0,288,s2,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;L0(_E,t.lens,0,32,o2,0,t.work,{bits:5}),t4=!1}t.lencode=s2,t.lenbits=9,t.distcode=o2,t.distbits=5},LE=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},ZP=(t,e)=>{let r,n,i,a,s,l,c,f,p,v,y,_,E,S,C=0,O,j,R,B,J,re,F,K;const U=new Uint8Array(4);let X,I;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vh(t)||!t.output||!t.input&&t.avail_in!==0)return bl;r=t.state,r.mode===ic&&(r.mode=n2),s=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,f=r.hold,p=r.bits,v=l,y=c,K=Fh;e:for(;;)switch(r.mode){case i1:if(r.wrap===0){r.mode=n2;break}for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,U[0]=f&255,U[1]=f>>>8&255,r.check=Tu(r.check,U,2,0),f=0,p=0,r.mode=O5;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",r.mode=Ai;break}if((f&15)!==P5){t.msg="unknown compression method",r.mode=Ai;break}if(f>>>=4,p-=4,F=(f&15)+8,r.wbits===0&&(r.wbits=F),F>15||F>r.wbits){t.msg="invalid window size",r.mode=Ai;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=f&512?z5:ic,f=0,p=0;break;case O5:for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.flags=f,(r.flags&255)!==P5){t.msg="unknown compression method",r.mode=Ai;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Ai;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(U[0]=f&255,U[1]=f>>>8&255,r.check=Tu(r.check,U,2,0)),f=0,p=0,r.mode=R5;case R5:for(;p<32;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(U[0]=f&255,U[1]=f>>>8&255,U[2]=f>>>16&255,U[3]=f>>>24&255,r.check=Tu(r.check,U,4,0)),f=0,p=0,r.mode=D5;case D5:for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(U[0]=f&255,U[1]=f>>>8&255,r.check=Tu(r.check,U,2,0)),f=0,p=0,r.mode=j5;case j5:if(r.flags&1024){for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(U[0]=f&255,U[1]=f>>>8&255,r.check=Tu(r.check,U,2,0)),f=0,p=0}else r.head&&(r.head.extra=null);r.mode=I5;case I5:if(r.flags&1024&&(_=r.length,_>l&&(_=l),_&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+_),F)),r.flags&512&&r.wrap&4&&(r.check=Tu(r.check,n,_,a)),l-=_,a+=_,r.length-=_),r.length))break e;r.length=0,r.mode=F5;case F5:if(r.flags&2048){if(l===0)break e;_=0;do F=n[a+_++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F));while(F&&_<l);if(r.flags&512&&r.wrap&4&&(r.check=Tu(r.check,n,_,a)),l-=_,a+=_,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=B5;case B5:if(r.flags&4096){if(l===0)break e;_=0;do F=n[a+_++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F));while(F&&_<l);if(r.flags&512&&r.wrap&4&&(r.check=Tu(r.check,n,_,a)),l-=_,a+=_,F)break e}else r.head&&(r.head.comment=null);r.mode=U5;case U5:if(r.flags&512){for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.wrap&4&&f!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Ai;break}f=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ic;break;case z5:for(;p<32;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}t.adler=r.check=e4(f),f=0,p=0,r.mode=xg;case xg:if(r.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=f,r.bits=p,BP;t.adler=r.check=1,r.mode=ic;case ic:if(e===IP||e===Mm)break e;case n2:if(r.last){f>>>=p&7,p-=p&7,r.mode=a2;break}for(;p<3;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}switch(r.last=f&1,f>>>=1,p-=1,f&3){case 0:r.mode=G5;break;case 1:if(WP(r),r.mode=km,e===Mm){f>>>=2,p-=2;break e}break;case 2:r.mode=q5;break;case 3:t.msg="invalid block type",r.mode=Ai}f>>>=2,p-=2;break;case G5:for(f>>>=p&7,p-=p&7;p<32;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Ai;break}if(r.length=f&65535,f=0,p=0,r.mode=i2,e===Mm)break e;case i2:r.mode=H5;case H5:if(_=r.length,_){if(_>l&&(_=l),_>c&&(_=c),_===0)break e;i.set(n.subarray(a,a+_),s),l-=_,a+=_,c-=_,s+=_,r.length-=_;break}r.mode=ic;break;case q5:for(;p<14;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.nlen=(f&31)+257,f>>>=5,p-=5,r.ndist=(f&31)+1,f>>>=5,p-=5,r.ncode=(f&15)+4,f>>>=4,p-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Ai;break}r.have=0,r.mode=V5;case V5:for(;r.have<r.ncode;){for(;p<3;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.lens[W[r.have++]]=f&7,f>>>=3,p-=3}for(;r.have<19;)r.lens[W[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,X={bits:r.lenbits},K=L0(jP,r.lens,0,19,r.lencode,0,r.work,X),r.lenbits=X.bits,K){t.msg="invalid code lengths set",r.mode=Ai;break}r.have=0,r.mode=$5;case $5:for(;r.have<r.nlen+r.ndist;){for(;C=r.lencode[f&(1<<r.lenbits)-1],O=C>>>24,j=C>>>16&255,R=C&65535,!(O<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(R<16)f>>>=O,p-=O,r.lens[r.have++]=R;else{if(R===16){for(I=O+2;p<I;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(f>>>=O,p-=O,r.have===0){t.msg="invalid bit length repeat",r.mode=Ai;break}F=r.lens[r.have-1],_=3+(f&3),f>>>=2,p-=2}else if(R===17){for(I=O+3;p<I;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}f>>>=O,p-=O,F=0,_=3+(f&7),f>>>=3,p-=3}else{for(I=O+7;p<I;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}f>>>=O,p-=O,F=0,_=11+(f&127),f>>>=7,p-=7}if(r.have+_>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Ai;break}for(;_--;)r.lens[r.have++]=F}}if(r.mode===Ai)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Ai;break}if(r.lenbits=9,X={bits:r.lenbits},K=L0(vE,r.lens,0,r.nlen,r.lencode,0,r.work,X),r.lenbits=X.bits,K){t.msg="invalid literal/lengths set",r.mode=Ai;break}if(r.distbits=6,r.distcode=r.distdyn,X={bits:r.distbits},K=L0(_E,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,X),r.distbits=X.bits,K){t.msg="invalid distances set",r.mode=Ai;break}if(r.mode=km,e===Mm)break e;case km:r.mode=Pm;case Pm:if(l>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=f,r.bits=p,MP(t,y),s=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,f=r.hold,p=r.bits,r.mode===ic&&(r.back=-1);break}for(r.back=0;C=r.lencode[f&(1<<r.lenbits)-1],O=C>>>24,j=C>>>16&255,R=C&65535,!(O<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(j&&(j&240)===0){for(B=O,J=j,re=R;C=r.lencode[re+((f&(1<<B+J)-1)>>B)],O=C>>>24,j=C>>>16&255,R=C&65535,!(B+O<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}f>>>=B,p-=B,r.back+=B}if(f>>>=O,p-=O,r.back+=O,r.length=R,j===0){r.mode=X5;break}if(j&32){r.back=-1,r.mode=ic;break}if(j&64){t.msg="invalid literal/length code",r.mode=Ai;break}r.extra=j&15,r.mode=W5;case W5:if(r.extra){for(I=r.extra;p<I;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Z5;case Z5:for(;C=r.distcode[f&(1<<r.distbits)-1],O=C>>>24,j=C>>>16&255,R=C&65535,!(O<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if((j&240)===0){for(B=O,J=j,re=R;C=r.distcode[re+((f&(1<<B+J)-1)>>B)],O=C>>>24,j=C>>>16&255,R=C&65535,!(B+O<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}f>>>=B,p-=B,r.back+=B}if(f>>>=O,p-=O,r.back+=O,j&64){t.msg="invalid distance code",r.mode=Ai;break}r.offset=R,r.extra=j&15,r.mode=Y5;case Y5:if(r.extra){for(I=r.extra;p<I;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Ai;break}r.mode=K5;case K5:if(c===0)break e;if(_=y-c,r.offset>_){if(_=r.offset-_,_>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Ai;break}_>r.wnext?(_-=r.wnext,E=r.wsize-_):E=r.wnext-_,_>r.length&&(_=r.length),S=r.window}else S=i,E=s-r.offset,_=r.length;_>c&&(_=c),c-=_,r.length-=_;do i[s++]=S[E++];while(--_);r.length===0&&(r.mode=Pm);break;case X5:if(c===0)break e;i[s++]=r.length,c--,r.mode=Pm;break;case a2:if(r.wrap){for(;p<32;){if(l===0)break e;l--,f|=n[a++]<<p,p+=8}if(y-=c,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Tu(r.check,i,y,s-y):d_(r.check,i,y,s-y)),y=c,r.wrap&4&&(r.flags?f:e4(f))!==r.check){t.msg="incorrect data check",r.mode=Ai;break}f=0,p=0}r.mode=J5;case J5:if(r.wrap&&r.flags){for(;p<32;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.wrap&4&&f!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Ai;break}f=0,p=0}r.mode=Q5;case Q5:K=FP;break e;case Ai:K=yE;break e;case wE:return xE;case bE:default:return bl}return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=f,r.bits=p,(r.wsize||y!==t.avail_out&&r.mode<Ai&&(r.mode<a2||e!==k5))&&LE(t,t.output,t.next_out,y-t.avail_out),v-=t.avail_in,y-=t.avail_out,t.total_in+=v,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Tu(r.check,i,y,t.next_out-y):d_(r.check,i,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ic?128:0)+(r.mode===km||r.mode===i2?256:0),(v===0&&y===0||e===k5)&&K===Fh&&(K=UP),K},YP=t=>{if(Vh(t))return bl;let e=t.state;return e.window&&(e.window=null),t.state=null,Fh},KP=(t,e)=>{if(Vh(t))return bl;const r=t.state;return(r.wrap&2)===0?bl:(r.head=e,e.done=!1,Fh)},XP=(t,e)=>{const r=e.length;let n,i,a;return Vh(t)||(n=t.state,n.wrap!==0&&n.mode!==xg)?bl:n.mode===xg&&(i=1,i=d_(i,e,r,0),i!==n.check)?yE:(a=LE(t,e,r,r),a?(n.mode=wE,xE):(n.havedict=1,Fh))};var JP=EE,QP=TE,eO=SE,tO=$P,rO=AE,nO=ZP,iO=YP,aO=KP,sO=XP,oO="pako inflate (from Nodeca project)",lc={inflateReset:JP,inflateReset2:QP,inflateResetKeep:eO,inflateInit:tO,inflateInit2:rO,inflate:nO,inflateEnd:iO,inflateGetHeader:aO,inflateSetDictionary:sO,inflateInfo:oO};function lO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uO=lO;const NE=Object.prototype.toString,{Z_NO_FLUSH:cO,Z_FINISH:hO,Z_OK:X0,Z_STREAM_END:l2,Z_NEED_DICT:u2,Z_STREAM_ERROR:fO,Z_DATA_ERROR:r4,Z_MEM_ERROR:dO}=pE;function vp(t){this.options=mE.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NP,this.strm.avail_out=0;let r=lc.inflateInit2(this.strm,e.windowBits);if(r!==X0)throw new Error(p_[r]);if(this.header=new uO,lc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=m_.string2buf(e.dictionary):NE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=lc.inflateSetDictionary(this.strm,e.dictionary),r!==X0)))throw new Error(p_[r])}vp.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?hO:cO,NE.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=lc.inflate(r,s),a===u2&&i&&(a=lc.inflateSetDictionary(r,i),a===X0?a=lc.inflate(r,s):a===r4&&(a=u2));r.avail_in>0&&a===l2&&r.state.wrap>0&&t[r.next_in]!==0;)lc.inflateReset(r),a=lc.inflate(r,s);switch(a){case fO:case r4:case u2:case dO:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===l2))if(this.options.to==="string"){let c=m_.utf8border(r.output,r.next_out),f=r.next_out-c,p=m_.buf2string(r.output,c);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(c,c+f),0),this.onData(p)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===X0&&l===0)){if(a===l2)return a=lc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};vp.prototype.onData=function(t){this.chunks.push(t)};vp.prototype.onEnd=function(t){t===X0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=mE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function pO(t,e){const r=new vp(e);if(r.push(t),r.err)throw r.msg||p_[r.err];return r.result}var mO=vp,gO=pO,vO={Inflate:mO,inflate:gO};const{Inflate:_O,inflate:yO}=vO;var n4=_O,xO=yO;const CE=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;CE[t]=e}const i4=4294967295;function wO(t,e,r){let n=t;for(let i=0;i<r;i++)n=CE[(n^e[i])&255]^n>>>8;return n}function bO(t,e){return(wO(i4,t,e)^i4)>>>0}function a4(t,e,r){const n=t.readUint32(),i=bO(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function ME(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function kE(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function PE(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function OE(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function RE(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+SO(e[a-i],r[a],r[a-i])&255}}function SO(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function EO(t,e,r,n,i,a){switch(t){case 0:ME(e,r,i);break;case 1:kE(e,r,i,a);break;case 2:PE(e,r,n,i);break;case 3:OE(e,r,n,i,a);break;case 4:RE(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const TO=new Uint16Array([255]),AO=new Uint8Array(TO.buffer),LO=AO[0]===255;function NO(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*r*l);let f=0;for(let p=0;p<7;p++){const v=s[p],y=Math.ceil((r-v.x)/v.xStep),_=Math.ceil((n-v.y)/v.yStep);if(y<=0||_<=0)continue;const E=y*l,S=new Uint8Array(E);for(let C=0;C<_;C++){const O=e[f++],j=e.subarray(f,f+E);f+=E;const R=new Uint8Array(E);EO(O,j,R,S,E,l),S.set(R);for(let B=0;B<y;B++){const J=v.x+B*v.xStep,re=v.y+C*v.yStep;if(!(J>=r||re>=n))for(let F=0;F<l;F++)c[(re*r+J)*l+F]=R[B*l+F]}}}if(a===16){const p=new Uint16Array(c.buffer);if(LO)for(let v=0;v<p.length;v++)p[v]=CO(p[v]);return p}else return c}function CO(t){return(t&255)<<8|t>>8&255}const MO=new Uint16Array([255]),kO=new Uint8Array(MO.buffer),PO=kO[0]===255,OO=new Uint8Array(0);function s4(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),c=new Uint8Array(n*l);let f=OO,p=0,v,y;for(let _=0;_<n;_++){switch(v=e.subarray(p+1,p+1+l),y=c.subarray(_*l,(_+1)*l),e[p]){case 0:ME(v,y,l);break;case 1:kE(v,y,l,s);break;case 2:PE(v,y,f,l);break;case 3:OE(v,y,f,l,s);break;case 4:RE(v,y,f,l,s);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=y,p+=l+1}if(a===16){const _=new Uint16Array(c.buffer);if(PO)for(let E=0;E<_.length;E++)_[E]=RO(_[E]);return _}else return c}function RO(t){return(t&255)<<8|t>>8&255}const rg=Uint8Array.of(137,80,78,71,13,10,26,10);function o4(t){if(!DO(t.readBytes(rg.length)))throw new Error("wrong PNG signature")}function DO(t){if(t.length<rg.length)return!1;for(let e=0;e<rg.length;e++)if(t[e]!==rg[e])return!1;return!0}const jO="tEXt",IO=0,DE=new TextDecoder("latin1");function FO(t){if(UO(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const BO=/^[\u0000-\u00FF]*$/;function UO(t){if(!BO.test(t))throw new Error("invalid latin1 text")}function zO(t,e,r){const n=jE(e);t[n]=GO(e,r-n.length-1)}function jE(t){for(t.mark();t.readByte()!==IO;);const e=t.offset;t.reset();const r=DE.decode(t.readBytes(e-t.offset-1));return t.skip(1),FO(r),r}function GO(t,e){return DE.decode(t.readBytes(e))}const Vo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},c2={UNKNOWN:-1,DEFLATE:0},l4={UNKNOWN:-1,ADAPTIVE:0},h2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Om={NONE:0,BACKGROUND:1,PREVIOUS:2},f2={SOURCE:0,OVER:1};class HO extends Y_{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new n4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=c2.UNKNOWN,this._filterMethod=l4.UNKNOWN,this._interlaceMethod=h2.UNKNOWN,this._colorType=Vo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(o4(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(o4(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case jO:zO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?a4(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?a4(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=qO(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Vo.GREYSCALE:n=1;break;case Vo.TRUECOLOUR:n=3;break;case Vo.INDEXED_COLOUR:n=1;break;case Vo.GREYSCALE_ALPHA:n=2;break;case Vo.TRUECOLOUR_ALPHA:n=4;break;case Vo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==c2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Vo.GREYSCALE:case Vo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Vo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Vo.UNKNOWN:case Vo.GREYSCALE_ALPHA:case Vo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=jE(this),n=this.readUint8();if(n!==c2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:xO(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=s4({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case Om.NONE:break;case Om.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const s=(i*e.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[s+l]=0}break;case Om.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(a,s)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,c=(a*r.width+s)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case f2.SOURCE:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:c}=i(a,s);for(let f=0;f<this._png.channels;f++)e.data[l+f]=r.data[c+f]}break;case f2.OVER:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:c}=i(a,s);for(let f=0;f<this._png.channels;f++){const p=r.data[c+this._png.channels-1]/n,v=f%(this._png.channels-1)===0?1:r.data[c+f],y=Math.floor(p*v+(1-p)*e.data[l+f]);e.data[l+f]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==l4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===h2.NO_INTERLACE)this._png.data=s4({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===h2.ADAM7)this._png.data=NO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Om.NONE,blendOp:f2.SOURCE,data:e}),this._inflator=new n4,this._writingDataChunks=!1}}function qO(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var u4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(u4||(u4={}));function VO(t,e){return new HO(t,e).decode()}var Or=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function d2(){Or.console&&typeof Or.console.log=="function"&&Or.console.log.apply(Or.console,arguments)}var ti={log:d2,warn:function(t){Or.console&&(typeof Or.console.warn=="function"?Or.console.warn.apply(Or.console,arguments):d2.call(null,arguments))},error:function(t){Or.console&&(typeof Or.console.error=="function"?Or.console.error.apply(Or.console,arguments):d2(t))}};function p2(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Eh(n.response,e,r)},n.onerror=function(){ti.error("could not download file")},n.send()}function c4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Rm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Eh=Or.saveAs||((typeof window>"u"?"undefined":Gn(window))!=="object"||window!==Or?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Or.URL||Or.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?c4(i.href)?p2(t,e,r):Rm(i,i.target="_blank"):Rm(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Rm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(c4(t))p2(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Rm(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Gn(a)!=="object"&&(ti.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return p2(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Or.HTMLElement)||Or.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Gn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=s?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},l.readAsDataURL(t)}else{var c=Or.URL||Or.webkitURL,f=c.createObjectURL(t);n?n.location=f:location.href=f,n=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});function IE(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+l+c+f}}var ng=Or.atob.bind(Or),h4=Or.btoa.bind(Or);function m2(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=ks(r,n,i,a,e[0],7,-680876936),a=ks(a,r,n,i,e[1],12,-389564586),i=ks(i,a,r,n,e[2],17,606105819),n=ks(n,i,a,r,e[3],22,-1044525330),r=ks(r,n,i,a,e[4],7,-176418897),a=ks(a,r,n,i,e[5],12,1200080426),i=ks(i,a,r,n,e[6],17,-1473231341),n=ks(n,i,a,r,e[7],22,-45705983),r=ks(r,n,i,a,e[8],7,1770035416),a=ks(a,r,n,i,e[9],12,-1958414417),i=ks(i,a,r,n,e[10],17,-42063),n=ks(n,i,a,r,e[11],22,-1990404162),r=ks(r,n,i,a,e[12],7,1804603682),a=ks(a,r,n,i,e[13],12,-40341101),i=ks(i,a,r,n,e[14],17,-1502002290),r=Ps(r,n=ks(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ps(a,r,n,i,e[6],9,-1069501632),i=Ps(i,a,r,n,e[11],14,643717713),n=Ps(n,i,a,r,e[0],20,-373897302),r=Ps(r,n,i,a,e[5],5,-701558691),a=Ps(a,r,n,i,e[10],9,38016083),i=Ps(i,a,r,n,e[15],14,-660478335),n=Ps(n,i,a,r,e[4],20,-405537848),r=Ps(r,n,i,a,e[9],5,568446438),a=Ps(a,r,n,i,e[14],9,-1019803690),i=Ps(i,a,r,n,e[3],14,-187363961),n=Ps(n,i,a,r,e[8],20,1163531501),r=Ps(r,n,i,a,e[13],5,-1444681467),a=Ps(a,r,n,i,e[2],9,-51403784),i=Ps(i,a,r,n,e[7],14,1735328473),r=Os(r,n=Ps(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Os(a,r,n,i,e[8],11,-2022574463),i=Os(i,a,r,n,e[11],16,1839030562),n=Os(n,i,a,r,e[14],23,-35309556),r=Os(r,n,i,a,e[1],4,-1530992060),a=Os(a,r,n,i,e[4],11,1272893353),i=Os(i,a,r,n,e[7],16,-155497632),n=Os(n,i,a,r,e[10],23,-1094730640),r=Os(r,n,i,a,e[13],4,681279174),a=Os(a,r,n,i,e[0],11,-358537222),i=Os(i,a,r,n,e[3],16,-722521979),n=Os(n,i,a,r,e[6],23,76029189),r=Os(r,n,i,a,e[9],4,-640364487),a=Os(a,r,n,i,e[12],11,-421815835),i=Os(i,a,r,n,e[15],16,530742520),r=Rs(r,n=Os(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Rs(a,r,n,i,e[7],10,1126891415),i=Rs(i,a,r,n,e[14],15,-1416354905),n=Rs(n,i,a,r,e[5],21,-57434055),r=Rs(r,n,i,a,e[12],6,1700485571),a=Rs(a,r,n,i,e[3],10,-1894986606),i=Rs(i,a,r,n,e[10],15,-1051523),n=Rs(n,i,a,r,e[1],21,-2054922799),r=Rs(r,n,i,a,e[8],6,1873313359),a=Rs(a,r,n,i,e[15],10,-30611744),i=Rs(i,a,r,n,e[6],15,-1560198380),n=Rs(n,i,a,r,e[13],21,1309151649),r=Rs(r,n,i,a,e[4],6,-145523070),a=Rs(a,r,n,i,e[11],10,-1120210379),i=Rs(i,a,r,n,e[2],15,718787259),n=Rs(n,i,a,r,e[9],21,-343485551),t[0]=Xc(r,t[0]),t[1]=Xc(n,t[1]),t[2]=Xc(i,t[2]),t[3]=Xc(a,t[3])}function a1(t,e,r,n,i,a){return e=Xc(Xc(e,t),Xc(n,a)),Xc(e<<i|e>>>32-i,r)}function ks(t,e,r,n,i,a,s){return a1(e&r|~e&n,t,e,i,a,s)}function Ps(t,e,r,n,i,a,s){return a1(e&n|r&~n,t,e,i,a,s)}function Os(t,e,r,n,i,a,s){return a1(e^r^n,t,e,i,a,s)}function Rs(t,e,r,n,i,a,s){return a1(r^(e|~n),t,e,i,a,s)}function FE(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)m2(n,$O(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(m2(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,m2(n,i),n}function $O(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var f4="0123456789abcdef".split("");function WO(t){for(var e="",r=0;r<4;r++)e+=f4[t>>8*r+4&15]+f4[t>>8*r&15];return e}function ZO(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function g_(t){return FE(t).map(ZO).join("")}var YO=(function(t){for(var e=0;e<t.length;e++)t[e]=WO(t[e]);return t.join("")})(FE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xc(t,e){if(YO){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}function v_(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var f=0;for(c=0;c<256;c++){var p=l[c];f=(f+p+s.charCodeAt(c))%256,l[c]=l[f],l[f]=p}r=t,n=l}else l=n;var v=e.length,y=0,_=0,E="";for(c=0;c<v;c++)_=(_+(p=l[y=(y+1)%256]))%256,l[y]=l[_],l[_]=p,s=l[(l[y]+l[_])%256],E+=String.fromCharCode(e.charCodeAt(c)^s);return E}var d4={print:4,modify:8,copy:16,"annot-forms":32};function $f(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(d4.perm!==void 0)throw new Error("Invalid permission: "+l);i+=d4[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=g_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=v_(this.encryptionKey,this.padding)}function Wf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function p4(t){if(Gn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(l){Or.console&&ti.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function wg(t){if(!(this instanceof wg))return new wg(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function BE(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ch(t,e,r,n,i){if(!(this instanceof Ch))return new Ch(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,BE.call(this,n,i)}function Jf(t,e,r,n,i){if(!(this instanceof Jf))return new Jf(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,BE.call(this,n,i)}function fr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,f="S",p=null;Gn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),f=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,y={},_={internal:{},__private__:{}};_.__private__.PubSub=p4;var E="1.3",S=_.__private__.getPdfVersion=function(){return E};_.__private__.setPdfVersion=function(k){E=k};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return C};var O=_.__private__.getPageFormat=function(k){return C[k]};i=i||"a4";var j="compat",R="advanced",B=j;function J(){this.saveGraphicsState(),we(new Qt(_r,0,0,-_r,0,Po()*_r).toString()+" cm"),this.setFontSize(this.getFontSize()/_r),f="n",B=R}function re(){this.restoreGraphicsState(),f="S",B=j}var F=_.__private__.combineFontStyleAndFontWeight=function(k,Q){if(k=="bold"&&Q=="normal"||k=="bold"&&Q==400||k=="normal"&&Q=="italic"||k=="bold"&&Q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Q&&(k=Q==400||Q==="normal"?k==="italic"?"italic":"normal":Q!=700&&Q!=="bold"||k!=="normal"?(Q==700?"bold":Q)+""+k:"bold"),k};_.advancedAPI=function(k){var Q=B===j;return Q&&J.call(this),typeof k!="function"||(k(this),Q&&re.call(this)),this},_.compatAPI=function(k){var Q=B===R;return Q&&re.call(this),typeof k!="function"||(k(this),Q&&J.call(this)),this},_.isAdvancedAPI=function(){return B===R};var K,U=function(k){if(B!==R)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=_.roundToPrecision=_.__private__.roundToPrecision=function(k,Q){var Se=e||Q;if(isNaN(k)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(Se).replace(/0+$/,"")};K=_.hpf=_.__private__.hpf=typeof c=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,c)}:c==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,16)};var I=_.f2=_.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return X(k,2)},W=_.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return X(k,3)},ue=_.scale=_.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return B===j?k*_r:B===R?k:void 0},pe=function(k){return ue((function(Q){return B===j?Po()-Q:B===R?Q:void 0})(k))};_.__private__.setPrecision=_.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(e=parseInt(k,10))};var xe,le="00000000000000000000000000000000",be=_.__private__.getFileId=function(){return le},_e=_.__private__.setFileId=function(k){return le=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(ni=new $f(p.userPermissions,p.userPassword,p.ownerPassword,le)),le};_.setFileId=function(k){return _e(k),this},_.getFileId=function(){return be()};var Le=_.__private__.convertDateToPDFDate=function(k){var Q=k.getTimezoneOffset(),Se=Q<0?"+":"-",De=Math.floor(Math.abs(Q/60)),Ve=Math.abs(Q%60),at=[Se,q(De),"'",q(Ve),"'"].join("");return["D:",k.getFullYear(),q(k.getMonth()+1),q(k.getDate()),q(k.getHours()),q(k.getMinutes()),q(k.getSeconds()),at].join("")},Ne=_.__private__.convertPDFDateToDate=function(k){var Q=parseInt(k.substr(2,4),10),Se=parseInt(k.substr(6,2),10)-1,De=parseInt(k.substr(8,2),10),Ve=parseInt(k.substr(10,2),10),at=parseInt(k.substr(12,2),10),St=parseInt(k.substr(14,2),10);return new Date(Q,Se,De,Ve,at,St,0)},ee=_.__private__.setCreationDate=function(k){var Q;if(k===void 0&&(k=new Date),k instanceof Date)Q=Le(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Q=k}return xe=Q},P=_.__private__.getCreationDate=function(k){var Q=xe;return k==="jsDate"&&(Q=Ne(xe)),Q};_.setCreationDate=function(k){return ee(k),this},_.getCreationDate=function(k){return P(k)};var H,q=_.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},Z=_.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},oe=0,Ae=[],Oe=[],Re=0,Ie=[],ot=[],it=!1,Tt=Oe;_.__private__.setCustomOutputDestination=function(k){it=!0,Tt=k};var Nt=function(k){it||(Tt=k)};_.__private__.resetCustomOutputDestination=function(){it=!1,Tt=Oe};var we=_.__private__.out=function(k){return k=k.toString(),Re+=k.length+1,Tt.push(k),Tt},yt=_.__private__.write=function(k){return we(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},xt=_.__private__.getArrayBuffer=function(k){for(var Q=k.length,Se=new ArrayBuffer(Q),De=new Uint8Array(Se);Q--;)De[Q]=k.charCodeAt(Q);return Se},zt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return zt};var dt=t.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(k){return dt=B===R?k/_r:k,this};var Vt,jt=_.__private__.getFontSize=_.getFontSize=function(){return B===j?dt:dt*_r},sr=t.R2L||!1;_.__private__.setR2L=_.setR2L=function(k){return sr=k,this},_.__private__.getR2L=_.getR2L=function(){return sr};var Xt,Jt=_.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))Vt=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');Vt=k}else Vt=parseInt(k,10)};_.__private__.getZoomMode=function(){return Vt};var Er,dr=_.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');Xt=k};_.__private__.getPageMode=function(){return Xt};var Nr=_.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');Er=k};_.__private__.getLayoutMode=function(){return Er},_.__private__.setDisplayMode=_.setDisplayMode=function(k,Q,Se){return Jt(k),Nr(Q),dr(Se),this};var or={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(k){if(Object.keys(or).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return or[k]},_.__private__.getDocumentProperties=function(){return or},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(k){for(var Q in or)or.hasOwnProperty(Q)&&k[Q]&&(or[Q]=k[Q]);return this},_.__private__.setDocumentProperty=function(k,Q){if(Object.keys(or).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return or[k]=Q};var Ft,_r,Wt,xn,Mr,Gt={},pr={},Dr=[],Yt={},un={},ur={},cr={},en=null,xr=0,Zt=[],Gr=new p4(_),ba=t.hotfixes||[],li={},Ji={},Ni=[],Qt=function k(Q,Se,De,Ve,at,St){if(!(this instanceof k))return new k(Q,Se,De,Ve,at,St);isNaN(Q)&&(Q=1),isNaN(Se)&&(Se=0),isNaN(De)&&(De=0),isNaN(Ve)&&(Ve=1),isNaN(at)&&(at=0),isNaN(St)&&(St=0),this._matrix=[Q,Se,De,Ve,at,St]};Object.defineProperty(Qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qt.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(K).join(k)},Qt.prototype.multiply=function(k){var Q=k.sx*this.sx+k.shy*this.shx,Se=k.sx*this.shy+k.shy*this.sy,De=k.shx*this.sx+k.sy*this.shx,Ve=k.shx*this.shy+k.sy*this.sy,at=k.tx*this.sx+k.ty*this.shx+this.tx,St=k.tx*this.shy+k.ty*this.sy+this.ty;return new Qt(Q,Se,De,Ve,at,St)},Qt.prototype.decompose=function(){var k=this.sx,Q=this.shy,Se=this.shx,De=this.sy,Ve=this.tx,at=this.ty,St=Math.sqrt(k*k+Q*Q),$t=(k/=St)*Se+(Q/=St)*De;Se-=k*$t,De-=Q*$t;var er=Math.sqrt(Se*Se+De*De);return $t/=er,k*(De/=er)<Q*(Se/=er)&&(k=-k,Q=-Q,$t=-$t,St=-St),{scale:new Qt(St,0,0,er,0,0),translate:new Qt(1,0,0,1,Ve,at),rotate:new Qt(k,Q,-Q,k,0,0),skew:new Qt(1,0,$t,1,0,0)}},Qt.prototype.toString=function(k){return this.join(" ")},Qt.prototype.inversed=function(){var k=this.sx,Q=this.shy,Se=this.shx,De=this.sy,Ve=this.tx,at=this.ty,St=1/(k*De-Q*Se),$t=De*St,er=-Q*St,br=-Se*St,kr=k*St;return new Qt($t,er,br,kr,-$t*Ve-br*at,-er*Ve-kr*at)},Qt.prototype.applyToPoint=function(k){var Q=k.x*this.sx+k.y*this.shx+this.tx,Se=k.x*this.shy+k.y*this.sy+this.ty;return new ws(Q,Se)},Qt.prototype.applyToRectangle=function(k){var Q=this.applyToPoint(k),Se=this.applyToPoint(new ws(k.x+k.w,k.y+k.h));return new ro(Q.x,Q.y,Se.x-Q.x,Se.y-Q.y)},Qt.prototype.clone=function(){var k=this.sx,Q=this.shy,Se=this.shx,De=this.sy,Ve=this.tx,at=this.ty;return new Qt(k,Q,Se,De,Ve,at)},_.Matrix=Qt;var Ka=_.matrixMult=function(k,Q){return Q.multiply(k)},Fa=new Qt(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Fa;var Ce=function(k,Q){if(!un[k]){var Se=(Q instanceof Ch?"Sh":"P")+(Object.keys(Yt).length+1).toString(10);Q.id=Se,un[k]=Se,Yt[Se]=Q,Gr.publish("addPattern",Q)}};_.ShadingPattern=Ch,_.TilingPattern=Jf,_.addShadingPattern=function(k,Q){return U("addShadingPattern()"),Ce(k,Q),this},_.beginTilingPattern=function(k){U("beginTilingPattern()"),Cl(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},_.endTilingPattern=function(k,Q){U("endTilingPattern()"),Q.stream=ot[H].join(`
`),Ce(k,Q),Gr.publish("endTilingPattern",Q),Ni.pop().restore()};var Ge,qe=_.__private__.newObject=function(){var k=Ye();return Y(k,!0),k},Ye=_.__private__.newObjectDeferred=function(){return oe++,Ae[oe]=function(){return Re},oe},Y=function(k,Q){return Q=typeof Q=="boolean"&&Q,Ae[k]=Re,Q&&we(k+" 0 obj"),k},me=_.__private__.newAdditionalObject=function(){var k={objId:Ye(),content:""};return Ie.push(k),k},ne=Ye(),ie=Ye(),he=_.__private__.decodeColorString=function(k){var Q=k.split(" ");if(Q.length!==2||Q[1]!=="g"&&Q[1]!=="G")Q.length!==5||Q[4]!=="k"&&Q[4]!=="K"||(Q=[(1-Q[0])*(1-Q[3]),(1-Q[1])*(1-Q[3]),(1-Q[2])*(1-Q[3]),"r"]);else{var Se=parseFloat(Q[0]);Q=[Se,Se,Se,"r"]}for(var De="#",Ve=0;Ve<3;Ve++)De+=("0"+Math.floor(255*parseFloat(Q[Ve])).toString(16)).slice(-2);return De},ve=_.__private__.encodeColorString=function(k){var Q;typeof k=="string"&&(k={ch1:k});var Se=k.ch1,De=k.ch2,Ve=k.ch3,at=k.ch4,St=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var $t=new IE(Se);if($t.ok)Se=$t.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var er=parseInt(Se.substr(1),16);Se=er>>16&255,De=er>>8&255,Ve=255&er}if(De===void 0||at===void 0&&Se===De&&De===Ve)Q=typeof Se=="string"?Se+" "+St[0]:k.precision===2?I(Se/255)+" "+St[0]:W(Se/255)+" "+St[0];else if(at===void 0||Gn(at)==="object"){if(at&&!isNaN(at.a)&&at.a===0)return["1.","1.","1.",St[1]].join(" ");Q=typeof Se=="string"?[Se,De,Ve,St[1]].join(" "):k.precision===2?[I(Se/255),I(De/255),I(Ve/255),St[1]].join(" "):[W(Se/255),W(De/255),W(Ve/255),St[1]].join(" ")}else Q=typeof Se=="string"?[Se,De,Ve,at,St[2]].join(" "):k.precision===2?[I(Se),I(De),I(Ve),I(at),St[2]].join(" "):[W(Se),W(De),W(Ve),W(at),St[2]].join(" ");return Q},Pe=_.__private__.getFilters=function(){return s},ze=_.__private__.putStream=function(k){var Q=(k=k||{}).data||"",Se=k.filters||Pe(),De=k.alreadyAppliedFilters||[],Ve=k.addLength1||!1,at=Q.length,St=k.objectId,$t=function(Oi){return Oi};if(p!==null&&St===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&($t=ni.encryptor(St,0));var er={};Se===!0&&(Se=["FlateEncode"]);var br=k.additionalKeyValues||[],kr=(er=fr.API.processDataByFilters!==void 0?fr.API.processDataByFilters(Q,Se):{data:Q,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(er.data.length!==0&&(br.push({key:"Length",value:er.data.length}),Ve===!0&&br.push({key:"Length1",value:at})),kr.length!=0)if(kr.split("/").length-1==1)br.push({key:"Filter",value:kr});else{br.push({key:"Filter",value:"["+kr+"]"});for(var Xr=0;Xr<br.length;Xr+=1)if(br[Xr].key==="DecodeParms"){for(var Jn=[],ui=0;ui<er.reverseChain.split("/").length-1;ui+=1)Jn.push("null");Jn.push(br[Xr].value),br[Xr].value="["+Jn.join(" ")+"]"}}we("<<");for(var wn=0;wn<br.length;wn++)we("/"+br[wn].key+" "+br[wn].value);we(">>"),er.data.length!==0&&(we("stream"),we($t(er.data)),we("endstream"))},Be=_.__private__.putPage=function(k){var Q=k.number,Se=k.data,De=k.objId,Ve=k.contentsObjId;Y(De,!0),we("<</Type /Page"),we("/Parent "+k.rootDictionaryObjId+" 0 R"),we("/Resources "+k.resourceDictionaryObjId+" 0 R"),we("/MediaBox ["+parseFloat(K(k.mediaBox.bottomLeftX))+" "+parseFloat(K(k.mediaBox.bottomLeftY))+" "+K(k.mediaBox.topRightX)+" "+K(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&we("/CropBox ["+K(k.cropBox.bottomLeftX)+" "+K(k.cropBox.bottomLeftY)+" "+K(k.cropBox.topRightX)+" "+K(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&we("/BleedBox ["+K(k.bleedBox.bottomLeftX)+" "+K(k.bleedBox.bottomLeftY)+" "+K(k.bleedBox.topRightX)+" "+K(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&we("/TrimBox ["+K(k.trimBox.bottomLeftX)+" "+K(k.trimBox.bottomLeftY)+" "+K(k.trimBox.topRightX)+" "+K(k.trimBox.topRightY)+"]"),k.artBox!==null&&we("/ArtBox ["+K(k.artBox.bottomLeftX)+" "+K(k.artBox.bottomLeftY)+" "+K(k.artBox.topRightX)+" "+K(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&we("/UserUnit "+k.userUnit),Gr.publish("putPage",{objId:De,pageContext:Zt[Q],pageNumber:Q,page:Se}),we("/Contents "+Ve+" 0 R"),we(">>"),we("endobj");var at=Se.join(`
`);return B===R&&(at+=`
Q`),Y(Ve,!0),ze({data:at,filters:Pe(),objectId:Ve}),we("endobj"),De},Ue=_.__private__.putPages=function(){var k,Q,Se=[];for(k=1;k<=xr;k++)Zt[k].objId=Ye(),Zt[k].contentsObjId=Ye();for(k=1;k<=xr;k++)Se.push(Be({number:k,data:ot[k],objId:Zt[k].objId,contentsObjId:Zt[k].contentsObjId,mediaBox:Zt[k].mediaBox,cropBox:Zt[k].cropBox,bleedBox:Zt[k].bleedBox,trimBox:Zt[k].trimBox,artBox:Zt[k].artBox,userUnit:Zt[k].userUnit,rootDictionaryObjId:ne,resourceDictionaryObjId:ie}));Y(ne,!0),we("<</Type /Pages");var De="/Kids [";for(Q=0;Q<xr;Q++)De+=Se[Q]+" 0 R ";we(De+"]"),we("/Count "+xr),we(">>"),we("endobj"),Gr.publish("postPutPages")},$e=function(k){Gr.publish("putFont",{font:k,out:we,newObject:qe,putStream:ze}),k.isAlreadyPutted!==!0&&(k.objectNumber=qe(),we("<<"),we("/Type /Font"),we("/BaseFont /"+Wf(k.postScriptName)),we("/Subtype /Type1"),typeof k.encoding=="string"&&we("/Encoding /"+k.encoding),we("/FirstChar 32"),we("/LastChar 255"),we(">>"),we("endobj"))},ht=function(k){k.objectNumber=qe();var Q=[];Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Form"}),Q.push({key:"BBox",value:"["+[K(k.x),K(k.y),K(k.x+k.width),K(k.y+k.height)].join(" ")+"]"}),Q.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var Se=k.pages[1].join(`
`);ze({data:Se,additionalKeyValues:Q,objectId:k.objectNumber}),we("endobj")},bt=function(k,Q){Q||(Q=21);var Se=qe(),De=(function(St,$t){var er,br=[],kr=1/($t-1);for(er=0;er<1;er+=kr)br.push(er);if(br.push(1),St[0].offset!=0){var Xr={offset:0,color:St[0].color};St.unshift(Xr)}if(St[St.length-1].offset!=1){var Jn={offset:1,color:St[St.length-1].color};St.push(Jn)}for(var ui="",wn=0,Oi=0;Oi<br.length;Oi++){for(er=br[Oi];er>St[wn+1].offset;)wn++;var ci=St[wn].offset,Ii=(er-ci)/(St[wn+1].offset-ci),bs=St[wn].color,ta=St[wn+1].color;ui+=Z(Math.round((1-Ii)*bs[0]+Ii*ta[0]).toString(16))+Z(Math.round((1-Ii)*bs[1]+Ii*ta[1]).toString(16))+Z(Math.round((1-Ii)*bs[2]+Ii*ta[2]).toString(16))}return ui.trim()})(k.colors,Q),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+Q+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze({data:De,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),we("endobj"),k.objectNumber=qe(),we("<< /ShadingType "+k.type),we("/ColorSpace /DeviceRGB");var at="/Coords ["+K(parseFloat(k.coords[0]))+" "+K(parseFloat(k.coords[1]))+" ";k.type===2?at+=K(parseFloat(k.coords[2]))+" "+K(parseFloat(k.coords[3])):at+=K(parseFloat(k.coords[2]))+" "+K(parseFloat(k.coords[3]))+" "+K(parseFloat(k.coords[4]))+" "+K(parseFloat(k.coords[5])),we(at+="]"),k.matrix&&we("/Matrix ["+k.matrix.toString()+"]"),we("/Function "+Se+" 0 R"),we("/Extend [true true]"),we(">>"),we("endobj")},wt=function(k,Q){var Se=Ye(),De=qe();Q.push({resourcesOid:Se,objectOid:De}),k.objectNumber=De;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+k.boundingBox.map(K).join(" ")+"]"}),Ve.push({key:"XStep",value:K(k.xStep)}),Ve.push({key:"YStep",value:K(k.yStep)}),Ve.push({key:"Resources",value:Se+" 0 R"}),k.matrix&&Ve.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),ze({data:k.stream,additionalKeyValues:Ve,objectId:k.objectNumber}),we("endobj")},gt=function(k){for(var Q in k.objectNumber=qe(),we("<<"),k)switch(Q){case"opacity":we("/ca "+I(k[Q]));break;case"stroke-opacity":we("/CA "+I(k[Q]))}we(">>"),we("endobj")},Mt=function(k){Y(k.resourcesOid,!0),we("<<"),we("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Q in we("/Font <<"),Gt)Gt.hasOwnProperty(Q)&&(v===!1||v===!0&&y.hasOwnProperty(Q))&&we("/"+Q+" "+Gt[Q].objectNumber+" 0 R");we(">>")})(),(function(){if(Object.keys(Yt).length>0){for(var Q in we("/Shading <<"),Yt)Yt.hasOwnProperty(Q)&&Yt[Q]instanceof Ch&&Yt[Q].objectNumber>=0&&we("/"+Q+" "+Yt[Q].objectNumber+" 0 R");Gr.publish("putShadingPatternDict"),we(">>")}})(),(function(Q){if(Object.keys(Yt).length>0){for(var Se in we("/Pattern <<"),Yt)Yt.hasOwnProperty(Se)&&Yt[Se]instanceof _.TilingPattern&&Yt[Se].objectNumber>=0&&Yt[Se].objectNumber<Q&&we("/"+Se+" "+Yt[Se].objectNumber+" 0 R");Gr.publish("putTilingPatternDict"),we(">>")}})(k.objectOid),(function(){if(Object.keys(ur).length>0){var Q;for(Q in we("/ExtGState <<"),ur)ur.hasOwnProperty(Q)&&ur[Q].objectNumber>=0&&we("/"+Q+" "+ur[Q].objectNumber+" 0 R");Gr.publish("putGStateDict"),we(">>")}})(),(function(){for(var Q in we("/XObject <<"),li)li.hasOwnProperty(Q)&&li[Q].objectNumber>=0&&we("/"+Q+" "+li[Q].objectNumber+" 0 R");Gr.publish("putXobjectDict"),we(">>")})(),we(">>"),we("endobj")},Bt=function(k){pr[k.fontName]=pr[k.fontName]||{},pr[k.fontName][k.fontStyle]=k.id},Hr=function(k,Q,Se,De,Ve){var at={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:k,fontName:Q,fontStyle:Se,encoding:De,isStandardFont:Ve||!1,metadata:{}};return Gr.publish("addFont",{font:at,instance:this}),Gt[at.id]=at,Bt(at),at.id},wr=_.__private__.pdfEscape=_.pdfEscape=function(k,Q){return(function(Se,De){var Ve,at,St,$t,er,br,kr,Xr,Jn;if(St=(De=De||{}).sourceEncoding||"Unicode",er=De.outputEncoding,(De.autoencode||er)&&Gt[Ft].metadata&&Gt[Ft].metadata[St]&&Gt[Ft].metadata[St].encoding&&($t=Gt[Ft].metadata[St].encoding,!er&&Gt[Ft].encoding&&(er=Gt[Ft].encoding),!er&&$t.codePages&&(er=$t.codePages[0]),typeof er=="string"&&(er=$t[er]),er)){for(kr=!1,br=[],Ve=0,at=Se.length;Ve<at;Ve++)(Xr=er[Se.charCodeAt(Ve)])?br.push(String.fromCharCode(Xr)):br.push(Se[Ve]),br[Ve].charCodeAt(0)>>8&&(kr=!0);Se=br.join("")}for(Ve=Se.length;kr===void 0&&Ve!==0;)Se.charCodeAt(Ve-1)>>8&&(kr=!0),Ve--;if(!kr)return Se;for(br=De.noBOM?[]:[254,255],Ve=0,at=Se.length;Ve<at;Ve++){if((Jn=(Xr=Se.charCodeAt(Ve))>>8)>>8)throw new Error("Character at position "+Ve+" of string '"+Se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");br.push(Jn),br.push(Xr-(Jn<<8))}return String.fromCharCode.apply(void 0,br)})(k,Q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nn=_.__private__.beginPage=function(k){ot[++xr]=[],Zt[xr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},Qi(xr),Nt(ot[H])},Kn=function(k,Q){var Se,De,Ve;switch(r=Q||r,typeof k=="string"&&(Se=O(k.toLowerCase()),Array.isArray(Se)&&(De=Se[0],Ve=Se[1])),Array.isArray(k)&&(De=k[0]*_r,Ve=k[1]*_r),isNaN(De)&&(De=i[0],Ve=i[1]),(De>14400||Ve>14400)&&(ti.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),Ve=Math.min(14400,Ve)),i=[De,Ve],r.substr(0,1)){case"l":Ve>De&&(i=[Ve,De]);break;case"p":De>Ve&&(i=[Ve,De])}nn(i),Ct(Mo),we(La),au!==0&&we(au+" J"),ki!==0&&we(ki+" j"),Gr.publish("addPage",{pageNumber:xr})},Xn=function(k){k>0&&k<=xr&&(ot.splice(k,1),Zt.splice(k,1),xr--,H>xr&&(H=xr),this.setPage(H))},Qi=function(k){k>0&&k<=xr&&(H=k)},Ci=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return ot.length-1},Ar=function(k,Q,Se){var De,Ve=void 0;return Se=Se||{},k=k!==void 0?k:Gt[Ft].fontName,Q=Q!==void 0?Q:Gt[Ft].fontStyle,De=k.toLowerCase(),pr[De]!==void 0&&pr[De][Q]!==void 0?Ve=pr[De][Q]:pr[k]!==void 0&&pr[k][Q]!==void 0?Ve=pr[k][Q]:Se.disableWarning===!1&&ti.warn("Unable to look up font label for font '"+k+"', '"+Q+"'. Refer to getFontList() for available fonts."),Ve||Se.noFallback||(Ve=pr.times[Q])==null&&(Ve=pr.times.normal),Ve},Ut=_.__private__.putInfo=function(){var k=qe(),Q=function(De){return De};for(var Se in p!==null&&(Q=ni.encryptor(k,0)),we("<<"),we("/Producer ("+wr(Q("jsPDF "+fr.version))+")"),or)or.hasOwnProperty(Se)&&or[Se]&&we("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+wr(Q(or[Se]))+")");we("/CreationDate ("+wr(Q(xe))+")"),we(">>"),we("endobj")},qr=_.__private__.putCatalog=function(k){var Q=(k=k||{}).rootDictionaryObjId||ne;switch(qe(),we("<<"),we("/Type /Catalog"),we("/Pages "+Q+" 0 R"),Vt||(Vt="fullwidth"),Vt){case"fullwidth":we("/OpenAction [3 0 R /FitH null]");break;case"fullheight":we("/OpenAction [3 0 R /FitV null]");break;case"fullpage":we("/OpenAction [3 0 R /Fit]");break;case"original":we("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+Vt;Se.substr(Se.length-1)==="%"&&(Vt=parseInt(Vt)/100),typeof Vt=="number"&&we("/OpenAction [3 0 R /XYZ null null "+I(Vt)+"]")}switch(Er||(Er="continuous"),Er){case"continuous":we("/PageLayout /OneColumn");break;case"single":we("/PageLayout /SinglePage");break;case"two":case"twoleft":we("/PageLayout /TwoColumnLeft");break;case"tworight":we("/PageLayout /TwoColumnRight")}Xt&&we("/PageMode /"+Xt),Gr.publish("putCatalog"),we(">>"),we("endobj")},ri=_.__private__.putTrailer=function(){we("trailer"),we("<<"),we("/Size "+(oe+1)),we("/Root "+oe+" 0 R"),we("/Info "+(oe-1)+" 0 R"),p!==null&&we("/Encrypt "+ni.oid+" 0 R"),we("/ID [ <"+le+"> <"+le+"> ]"),we(">>")},ar=_.__private__.putHeader=function(){we("%PDF-"+E),we("%")},Sa=_.__private__.putXRef=function(){var k="0000000000";we("xref"),we("0 "+(oe+1)),we("0000000000 65535 f ");for(var Q=1;Q<=oe;Q++)typeof Ae[Q]=="function"?we((k+Ae[Q]()).slice(-10)+" 00000 n "):Ae[Q]!==void 0?we((k+Ae[Q]).slice(-10)+" 00000 n "):we("0000000000 00000 n ")},Ea=_.__private__.buildDocument=function(){var k;oe=0,Re=0,Oe=[],Ae=[],Ie=[],ne=Ye(),ie=Ye(),Nt(Oe),Gr.publish("buildDocument"),ar(),Ue(),(function(){Gr.publish("putAdditionalObjects");for(var Se=0;Se<Ie.length;Se++){var De=Ie[Se];Y(De.objId,!0),we(De.content),we("endobj")}Gr.publish("postPutAdditionalObjects")})(),k=[],(function(){for(var Se in Gt)Gt.hasOwnProperty(Se)&&(v===!1||v===!0&&y.hasOwnProperty(Se))&&$e(Gt[Se])})(),(function(){var Se;for(Se in ur)ur.hasOwnProperty(Se)&&gt(ur[Se])})(),(function(){for(var Se in li)li.hasOwnProperty(Se)&&ht(li[Se])})(),(function(Se){var De;for(De in Yt)Yt.hasOwnProperty(De)&&(Yt[De]instanceof Ch?bt(Yt[De]):Yt[De]instanceof Jf&&wt(Yt[De],Se))})(k),Gr.publish("putResources"),k.forEach(Mt),Mt({resourcesOid:ie,objectOid:Number.MAX_SAFE_INTEGER}),Gr.publish("postPutResources"),p!==null&&(ni.oid=qe(),we("<<"),we("/Filter /Standard"),we("/V "+ni.v),we("/R "+ni.r),we("/U <"+ni.toHexString(ni.U)+">"),we("/O <"+ni.toHexString(ni.O)+">"),we("/P "+ni.P),we(">>"),we("endobj")),Ut(),qr();var Q=Re;return Sa(),ri(),we("startxref"),we(""+Q),we("%%EOF"),Nt(ot[H]),Oe.join(`
`)},yr=_.__private__.getBlob=function(k){return new Blob([xt(k)],{type:"application/pdf"})},Dn=_.output=_.__private__.output=(Ge=function(k,Q){switch(typeof(Q=Q||{})=="string"?Q={filename:Q}:Q.filename=Q.filename||"generated.pdf",k){case void 0:return Ea();case"save":_.save(Q.filename);break;case"arraybuffer":return xt(Ea());case"blob":return yr(Ea());case"bloburi":case"bloburl":if(Or.URL!==void 0&&typeof Or.URL.createObjectURL=="function")return Or.URL&&Or.URL.createObjectURL(yr(Ea()))||void 0;ti.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",De=Ea();try{Se=h4(De)}catch{Se=h4(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+Q.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",at=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Q.pdfObjectUrl&&(Ve=Q.pdfObjectUrl,at="");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+at+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Q)+");<\/script></body></html>",$t=Or.open();return $t!==null&&$t.document.write(St),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Q.filename+'" width="500px" height="400px" /></body></html>',br=Or.open();if(br!==null){br.document.write(er);var kr=this;br.document.documentElement.querySelector("#pdfViewer").onload=function(){br.document.title=Q.filename,br.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kr.output("bloburl"))}}return br}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Or)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Q)+'"></iframe></body></html>',Jn=Or.open();if(Jn!==null&&(Jn.document.write(Xr),Jn.document.title=Q.filename),Jn||typeof safari>"u")return Jn;break;case"datauri":case"dataurl":return Or.document.location.href=this.output("datauristring",Q);default:return null}},Ge.foo=function(){try{return Ge.apply(this,arguments)}catch(Se){var k=Se.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var Q="Error in function "+k.split(`
`)[0].split("<")[0]+": "+Se.message;if(!Or.console)throw new Error(Q);Or.console.error(Q,Se),Or.alert&&alert(Q)}},Ge.foo.bar=Ge,Ge.foo),ea=function(k){return Array.isArray(ba)===!0&&ba.indexOf(k)>-1};switch(n){case"pt":_r=1;break;case"mm":_r=72/25.4;break;case"cm":_r=72/2.54;break;case"in":_r=72;break;case"px":_r=ea("px_scaling")==1?.75:96/72;break;case"pc":case"em":_r=12;break;case"ex":_r=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);_r=n}var ni=null;ee(),_e();var cn=_.__private__.getPageInfo=_.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Zt[k].objId,pageNumber:k,pageContext:Zt[k]}},ru=_.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Q in Zt)if(Zt[Q].objId===k)break;return cn(Q)},Tl=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Zt[H].objId,pageNumber:H,pageContext:Zt[H]}};_.addPage=function(){return Kn.apply(this,arguments),this},_.setPage=function(){return Qi.apply(this,arguments),Nt.call(this,ot[H]),this},_.insertPage=function(k){return this.addPage(),this.movePage(H,k),this},_.movePage=function(k,Q){var Se,De;if(k>Q){Se=ot[k],De=Zt[k];for(var Ve=k;Ve>Q;Ve--)ot[Ve]=ot[Ve-1],Zt[Ve]=Zt[Ve-1];ot[Q]=Se,Zt[Q]=De,this.setPage(Q)}else if(k<Q){Se=ot[k],De=Zt[k];for(var at=k;at<Q;at++)ot[at]=ot[at+1],Zt[at]=Zt[at+1];ot[Q]=Se,Zt[Q]=De,this.setPage(Q)}return this},_.deletePage=function(){return Xn.apply(this,arguments),this},_.__private__.text=_.text=function(k,Q,Se,De,Ve){var at,St,$t,er,br,kr,Xr,Jn,ui,wn=(De=De||{}).scope||this;if(typeof k=="number"&&typeof Q=="number"&&(typeof Se=="string"||Array.isArray(Se))){var Oi=Se;Se=Q,Q=k,k=Oi}if(arguments[3]instanceof Qt==0?($t=arguments[4],er=arguments[5],Gn(Xr=arguments[3])==="object"&&Xr!==null||(typeof $t=="string"&&(er=$t,$t=null),typeof Xr=="string"&&(er=Xr,Xr=null),typeof Xr=="number"&&($t=Xr,Xr=null),De={flags:Xr,angle:$t,align:er})):(U("The transform parameter of text() with a Matrix value"),ui=Ve),isNaN(Q)||isNaN(Se)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return wn;var ci,Ii="",bs=typeof De.lineHeightFactor=="number"?De.lineHeightFactor:eo,ta=wn.internal.scaleFactor;function Oo(hn){return hn=hn.split("	").join(Array(De.TabLen||9).join(" ")),wr(hn,Xr)}function Ro(hn){for(var Jr,kn=hn.concat(),ai=[],uo=kn.length;uo--;)typeof(Jr=kn.shift())=="string"?ai.push(Jr):Array.isArray(hn)&&(Jr.length===1||Jr[1]===void 0&&Jr[2]===void 0)?ai.push(Jr[0]):ai.push([Jr[0],Jr[1],Jr[2]]);return ai}function ra(hn,Jr){var kn;if(typeof hn=="string")kn=Jr(hn)[0];else if(Array.isArray(hn)){for(var ai,uo,wi=hn.concat(),co=[],Uu=wi.length;Uu--;)typeof(ai=wi.shift())=="string"?co.push(Jr(ai)[0]):Array.isArray(ai)&&typeof ai[0]=="string"&&(uo=Jr(ai[0],ai[1],ai[2]),co.push([uo[0],uo[1],uo[2]]));kn=co}return kn}var qs=!1,Ss=!0;if(typeof k=="string")qs=!0;else if(Array.isArray(k)){var Ml=k.concat();St=[];for(var Vs,yi=Ml.length;yi--;)(typeof(Vs=Ml.shift())!="string"||Array.isArray(Vs)&&typeof Vs[0]!="string")&&(Ss=!1);qs=Ss}if(qs===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var al=dt/wn.internal.scaleFactor,sl=al*(bs-1);switch(De.baseline){case"bottom":Se-=sl;break;case"top":Se+=al-sl;break;case"hanging":Se+=al-2*sl;break;case"middle":Se+=al/2-sl}if((kr=De.maxWidth||0)>0&&(typeof k=="string"?k=wn.splitTextToSize(k,kr):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(hn,Jr){return hn.concat(wn.splitTextToSize(Jr,kr))},[]))),at={text:k,x:Q,y:Se,options:De,mutex:{pdfEscape:wr,activeFontKey:Ft,fonts:Gt,activeFontSize:dt}},Gr.publish("preProcessText",at),k=at.text,$t=(De=at.options).angle,ui instanceof Qt==0&&$t&&typeof $t=="number"){$t*=Math.PI/180,De.rotationDirection===0&&($t=-$t),B===R&&($t=-$t);var kl=Math.cos($t),no=Math.sin($t);ui=new Qt(kl,no,-no,kl,0,0)}else $t&&$t instanceof Qt&&(ui=$t);B!==R||ui||(ui=Fa),(br=De.charSpace||Qa)!==void 0&&(Ii+=K(ue(br))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jn=De.horizontalScale)!==void 0&&(Ii+=K(100*Jn)+` Tz
`),De.lang;var jn=-1,Ua=De.renderingMode!==void 0?De.renderingMode:De.stroke,su=wn.internal.getCurrentPageInfo().pageContext;switch(Ua){case 0:case!1:case"fill":jn=0;break;case 1:case!0:case"stroke":jn=1;break;case 2:case"fillThenStroke":jn=2;break;case 3:case"invisible":jn=3;break;case 4:case"fillAndAddForClipping":jn=4;break;case 5:case"strokeAndAddPathForClipping":jn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":jn=6;break;case 7:case"addToPathForClipping":jn=7}var ts=su.usedRenderingMode!==void 0?su.usedRenderingMode:-1;jn!==-1?Ii+=jn+` Tr
`:ts!==-1&&(Ii+=`0 Tr
`),jn!==-1&&(su.usedRenderingMode=jn),er=De.align||"left";var rs,da=dt*bs,Do=wn.internal.pageSize.getWidth(),jo=Gt[Ft];br=De.charSpace||Qa,kr=De.maxWidth||0,Xr=Object.assign({autoencode:!0,noBOM:!0},De.flags);var Es=[],$s=function(hn){return wn.getStringUnitWidth(hn,{font:jo,charSpace:br,fontSize:dt,doKerning:!1})*dt/ta};if(Object.prototype.toString.call(k)==="[object Array]"){var za;St=Ro(k),er!=="left"&&(rs=St.map($s));var ii,ns=0;if(er==="right"){Q-=rs[0],k=[],yi=St.length;for(var io=0;io<yi;io++)io===0?(ii=Aa(Q),za=Mi(Se)):(ii=ue(ns-rs[io]),za=-da),k.push([St[io],ii,za]),ns=rs[io]}else if(er==="center"){Q-=rs[0]/2,k=[],yi=St.length;for(var Ws=0;Ws<yi;Ws++)Ws===0?(ii=Aa(Q),za=Mi(Se)):(ii=ue((ns-rs[Ws])/2),za=-da),k.push([St[Ws],ii,za]),ns=rs[Ws]}else if(er==="left"){k=[],yi=St.length;for(var ou=0;ou<yi;ou++)k.push(St[ou])}else if(er==="justify"&&jo.encoding==="Identity-H"){k=[],yi=St.length,kr=kr!==0?kr:Do;for(var Ga=0,hi=0;hi<yi;hi++)if(za=hi===0?Mi(Se):-da,ii=hi===0?Aa(Q):Ga,hi<yi-1){var Io=ue((kr-rs[hi])/(St[hi].split(" ").length-1)),ao=St[hi].split(" ");k.push([ao[0]+" ",ii,za]),Ga=0;for(var Fi=1;Fi<ao.length;Fi++){var xi=($s(ao[Fi-1]+" "+ao[Fi])-$s(ao[Fi]))*ta+Io;Fi==ao.length-1?k.push([ao[Fi],xi,0]):k.push([ao[Fi]+" ",xi,0]),Ga-=xi}}else k.push([St[hi],ii,za]);k.push(["",Ga,0])}else{if(er!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],yi=St.length,kr=kr!==0?kr:Do,hi=0;hi<yi;hi++){za=hi===0?Mi(Se):-da,ii=hi===0?Aa(Q):0;var so=St[hi].split(" ").length-1,ol=so>0?(kr-rs[hi])/so:0;hi<yi-1?Es.push(K(ue(ol))):Es.push(0),k.push([St[hi],ii,za])}}}(typeof De.R2L=="boolean"?De.R2L:sr)===!0&&(k=ra(k,function(hn,Jr,kn){return[hn.split("").reverse().join(""),Jr,kn]})),at={text:k,x:Q,y:Se,options:De,mutex:{pdfEscape:wr,activeFontKey:Ft,fonts:Gt,activeFontSize:dt}},Gr.publish("postProcessText",at),k=at.text,ci=at.mutex.isHex||!1;var Fo=Gt[Ft].encoding;Fo!=="WinAnsiEncoding"&&Fo!=="StandardEncoding"||(k=ra(k,function(hn,Jr,kn){return[Oo(hn),Jr,kn]})),St=Ro(k),k=[];for(var Zs,Ts,Na,oo=Array.isArray(St[0])?1:0,Ca="",lo=function(hn,Jr,kn){var ai="";return kn instanceof Qt?(kn=typeof De.angle=="number"?Ka(kn,new Qt(1,0,0,1,hn,Jr)):Ka(new Qt(1,0,0,1,hn,Jr),kn),B===R&&(kn=Ka(new Qt(1,0,0,-1,0,0),kn)),ai=kn.join(" ")+` Tm
`):ai=K(hn)+" "+K(Jr)+` Td
`,ai},pa=0;pa<St.length;pa++){switch(Ca="",oo){case 1:Na=(ci?"<":"(")+St[pa][0]+(ci?">":")"),Zs=parseFloat(St[pa][1]),Ts=parseFloat(St[pa][2]);break;case 0:Na=(ci?"<":"(")+St[pa]+(ci?">":")"),Zs=Aa(Q),Ts=Mi(Se)}Es!==void 0&&Es[pa]!==void 0&&(Ca=Es[pa]+` Tw
`),pa===0?k.push(Ca+lo(Zs,Ts,ui)+Na):oo===0?k.push(Ca+Na):oo===1&&k.push(Ca+lo(Zs,Ts,ui)+Na)}k=oo===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var Ma=`BT
/`;return Ma+=Ft+" "+dt+` Tf
`,Ma+=K(dt*bs)+` TL
`,Ma+=Mn+`
`,Ma+=Ii,Ma+=k,we(Ma+="ET"),y[Ft]=!0,wn};var Us=_.__private__.clip=_.clip=function(k){return we(k==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Us("evenodd")},_.__private__.discardPath=_.discardPath=function(){return we("n"),this};var Kr=_.__private__.isValidStyle=function(k){var Q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(Q=!0),Q};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(k){return Kr(k)&&(f=k),this};var zs=_.__private__.getStyle=_.getStyle=function(k){var Q=f;switch(k){case"D":case"S":Q="S";break;case"F":Q="f";break;case"FD":case"DF":Q="B";break;case"f":case"f*":case"B":case"B*":Q=k}return Q},No=_.close=function(){return we("h"),this};_.stroke=function(){return we("S"),this},_.fill=function(k){return Ta("f",k),this},_.fillEvenOdd=function(k){return Ta("f*",k),this},_.fillStroke=function(k){return Ta("B",k),this},_.fillStrokeEvenOdd=function(k){return Ta("B*",k),this};var Ta=function(k,Q){Gn(Q)==="object"?nu(Q,k):we(k)},Co=function(k){k===null||B===R&&k===void 0||(k=zs(k),we(k))};function tl(k,Q,Se,De,Ve){var at=new Jf(Q||this.boundingBox,Se||this.xStep,De||this.yStep,this.gState,Ve||this.matrix);at.stream=this.stream;var St=k+"$$"+this.cloneIndex+++"$$";return Ce(St,at),at}var nu=function(k,Q){var Se=un[k.key],De=Yt[Se];if(De instanceof Ch)we("q"),we(Al(Q)),De.gState&&_.setGState(De.gState),we(k.matrix.toString()+" cm"),we("/"+Se+" sh"),we("Q");else if(De instanceof Jf){var Ve=new Qt(1,0,0,-1,0,Po());k.matrix&&(Ve=Ve.multiply(k.matrix||Fa),Se=tl.call(De,k.key,k.boundingBox,k.xStep,k.yStep,Ve).id),we("q"),we("/Pattern cs"),we("/"+Se+" scn"),De.gState&&_.setGState(De.gState),we(Q),we("Q")}},Al=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},rl=_.moveTo=function(k,Q){return we(K(ue(k))+" "+K(pe(Q))+" m"),this},iu=_.lineTo=function(k,Q){return we(K(ue(k))+" "+K(pe(Q))+" l"),this},fa=_.curveTo=function(k,Q,Se,De,Ve,at){return we([K(ue(k)),K(pe(Q)),K(ue(Se)),K(pe(De)),K(ue(Ve)),K(pe(at)),"c"].join(" ")),this};_.__private__.line=_.line=function(k,Q,Se,De,Ve){if(isNaN(k)||isNaN(Q)||isNaN(Se)||isNaN(De)||!Kr(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return B===j?this.lines([[Se-k,De-Q]],k,Q,[1,1],Ve||"S"):this.lines([[Se-k,De-Q]],k,Q,[1,1]).stroke()},_.__private__.lines=_.lines=function(k,Q,Se,De,Ve,at){var St,$t,er,br,kr,Xr,Jn,ui,wn,Oi,ci,Ii;if(typeof k=="number"&&(Ii=Se,Se=Q,Q=k,k=Ii),De=De||[1,1],at=at||!1,isNaN(Q)||isNaN(Se)||!Array.isArray(k)||!Array.isArray(De)||!Kr(Ve)||typeof at!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rl(Q,Se),St=De[0],$t=De[1],br=k.length,Oi=Q,ci=Se,er=0;er<br;er++)(kr=k[er]).length===2?(Oi=kr[0]*St+Oi,ci=kr[1]*$t+ci,iu(Oi,ci)):(Xr=kr[0]*St+Oi,Jn=kr[1]*$t+ci,ui=kr[2]*St+Oi,wn=kr[3]*$t+ci,Oi=kr[4]*St+Oi,ci=kr[5]*$t+ci,fa(Xr,Jn,ui,wn,Oi,ci));return at&&No(),Co(Ve),this},_.path=function(k){for(var Q=0;Q<k.length;Q++){var Se=k[Q],De=Se.c;switch(Se.op){case"m":rl(De[0],De[1]);break;case"l":iu(De[0],De[1]);break;case"c":fa.apply(this,De);break;case"h":No()}}return this},_.__private__.rect=_.rect=function(k,Q,Se,De,Ve){if(isNaN(k)||isNaN(Q)||isNaN(Se)||isNaN(De)||!Kr(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return B===j&&(De=-De),we([K(ue(k)),K(pe(Q)),K(ue(Se)),K(ue(De)),"re"].join(" ")),Co(Ve),this},_.__private__.triangle=_.triangle=function(k,Q,Se,De,Ve,at,St){if(isNaN(k)||isNaN(Q)||isNaN(Se)||isNaN(De)||isNaN(Ve)||isNaN(at)||!Kr(St))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-k,De-Q],[Ve-Se,at-De],[k-Ve,Q-at]],k,Q,[1,1],St,!0),this},_.__private__.roundedRect=_.roundedRect=function(k,Q,Se,De,Ve,at,St){if(isNaN(k)||isNaN(Q)||isNaN(Se)||isNaN(De)||isNaN(Ve)||isNaN(at)||!Kr(St))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Se),at=Math.min(at,.5*De),this.lines([[Se-2*Ve,0],[Ve*$t,0,Ve,at-at*$t,Ve,at],[0,De-2*at],[0,at*$t,-Ve*$t,at,-Ve,at],[2*Ve-Se,0],[-Ve*$t,0,-Ve,-at*$t,-Ve,-at],[0,2*at-De],[0,-at*$t,Ve*$t,-at,Ve,-at]],k+Ve,Q,[1,1],St,!0),this},_.__private__.ellipse=_.ellipse=function(k,Q,Se,De,Ve){if(isNaN(k)||isNaN(Q)||isNaN(Se)||isNaN(De)||!Kr(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var at=4/3*(Math.SQRT2-1)*Se,St=4/3*(Math.SQRT2-1)*De;return rl(k+Se,Q),fa(k+Se,Q-St,k+at,Q-De,k,Q-De),fa(k-at,Q-De,k-Se,Q-St,k-Se,Q),fa(k-Se,Q+St,k-at,Q+De,k,Q+De),fa(k+at,Q+De,k+Se,Q+St,k+Se,Q),Co(Ve),this},_.__private__.circle=_.circle=function(k,Q,Se,De){if(isNaN(k)||isNaN(Q)||isNaN(Se)||!Kr(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,Q,Se,Se,De)},_.setFont=function(k,Q,Se){return Se&&(Q=F(Q,Se)),Ft=Ar(k,Q,{disableWarning:!1}),this};var Ba=_.__private__.getFont=_.getFont=function(){return Gt[Ar.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var k,Q,Se={};for(k in pr)if(pr.hasOwnProperty(k))for(Q in Se[k]=[],pr[k])pr[k].hasOwnProperty(Q)&&Se[k].push(Q);return Se},_.addFont=function(k,Q,Se,De,Ve){var at=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&at.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&at.indexOf(arguments[3])==-1&&(Se=F(Se,De)),Hr.call(this,k,Q,Se,Ve=Ve||"Identity-H")};var eo,Mo=t.lineWidth||.200025,nl=_.__private__.getLineWidth=_.getLineWidth=function(){return Mo},Ct=_.__private__.setLineWidth=_.setLineWidth=function(k){return Mo=k,we(K(ue(k))+" w"),this};_.__private__.setLineDash=fr.API.setLineDash=fr.API.setLineDashPattern=function(k,Q){if(k=k||[],Q=Q||0,isNaN(Q)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(Se){return K(ue(Se))}).join(" "),Q=K(ue(Q)),we("["+k+"] "+Q+" d"),this};var Xa=_.__private__.getLineHeight=_.getLineHeight=function(){return dt*eo};_.__private__.getLineHeight=_.getLineHeight=function(){return dt*eo};var dn=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(eo=k),this},Iu=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return eo};dn(t.lineHeight);var Aa=_.__private__.getHorizontalCoordinate=function(k){return ue(k)},Mi=_.__private__.getVerticalCoordinate=function(k){return B===R?k:Zt[H].mediaBox.topRightY-Zt[H].mediaBox.bottomLeftY-ue(k)},Ll=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(k){return K(Aa(k))},Ja=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(k){return K(Mi(k))},La=t.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return he(La)},_.__private__.setStrokeColor=_.setDrawColor=function(k,Q,Se,De){return La=ve({ch1:k,ch2:Q,ch3:Se,ch4:De,pdfColorType:"draw",precision:2}),we(La),this};var Gs=t.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return he(Gs)},_.__private__.setFillColor=_.setFillColor=function(k,Q,Se,De){return Gs=ve({ch1:k,ch2:Q,ch3:Se,ch4:De,pdfColorType:"fill",precision:2}),we(Gs),this};var Mn=t.textColor||"0 g",to=_.__private__.getTextColor=_.getTextColor=function(){return he(Mn)};_.__private__.setTextColor=_.setTextColor=function(k,Q,Se,De){return Mn=ve({ch1:k,ch2:Q,ch3:Se,ch4:De,pdfColorType:"text",precision:3}),this};var Qa=t.charSpace,Nl=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Qa||0)};_.__private__.setCharSpace=_.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qa=k,this};var au=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(k){var Q=_.CapJoinStyles[k];if(Q===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return au=Q,we(Q+" J"),this};var ki=0;_.__private__.setLineJoin=_.setLineJoin=function(k){var Q=_.CapJoinStyles[k];if(Q===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ki=Q,we(Q+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return we(K(ue(k))+" M"),this},_.GState=wg,_.setGState=function(k){(k=typeof k=="string"?ur[cr[k]]:xs(null,k)).equals(en)||(we("/"+k.id+" gs"),en=k)};var xs=function(k,Q){if(!k||!cr[k]){var Se=!1;for(var De in ur)if(ur.hasOwnProperty(De)&&ur[De].equals(Q)){Se=!0;break}if(Se)Q=ur[De];else{var Ve="GS"+(Object.keys(ur).length+1).toString(10);ur[Ve]=Q,Q.id=Ve}return k&&(cr[k]=Q.id),Gr.publish("addGState",Q),Q}};_.addGState=function(k,Q){return xs(k,Q),this},_.saveGraphicsState=function(){return we("q"),Dr.push({key:Ft,size:dt,color:Mn}),this},_.restoreGraphicsState=function(){we("Q");var k=Dr.pop();return Ft=k.key,dt=k.size,Mn=k.color,en=null,this},_.setCurrentTransformationMatrix=function(k){return we(k.toString()+" cm"),this},_.comment=function(k){return we("#"+k),this};var ws=function(k,Q){var Se=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(at){isNaN(at)||(Se=parseFloat(at))}});var De=Q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(at){isNaN(at)||(De=parseFloat(at))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(at){Ve=at.toString()}}),this},ro=function(k,Q,Se,De){ws.call(this,k,Q),this.type="rect";var Ve=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(St){isNaN(St)||(Ve=parseFloat(St))}});var at=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return at},set:function(St){isNaN(St)||(at=parseFloat(St))}}),this},Br=function(){this.page=xr,this.currentPage=H,this.pages=ot.slice(0),this.pagesContext=Zt.slice(0),this.x=Wt,this.y=xn,this.matrix=Mr,this.width=es(H),this.height=Fu(H),this.outputDestination=Tt,this.id="",this.objectNumber=-1};Br.prototype.restore=function(){xr=this.page,H=this.currentPage,Zt=this.pagesContext,ot=this.pages,Wt=this.x,xn=this.y,Mr=this.matrix,il(H,this.width),Hs(H,this.height),Tt=this.outputDestination};var Cl=function(k,Q,Se,De,Ve){Ni.push(new Br),xr=H=0,ot=[],Wt=k,xn=Q,Mr=Ve,nn([Se,De])};for(var Pi in _.beginFormObject=function(k,Q,Se,De,Ve){return Cl(k,Q,Se,De,Ve),this},_.endFormObject=function(k){return(function(Q){if(Ji[Q])Ni.pop().restore();else{var Se=new Br,De="Xo"+(Object.keys(li).length+1).toString(10);Se.id=De,Ji[Q]=De,li[De]=Se,Gr.publish("addFormObject",Se),Ni.pop().restore()}})(k),this},_.doFormObject=function(k,Q){var Se=li[Ji[k]];return we("q"),we(Q.toString()+" cm"),we("/"+Se.id+" Do"),we("Q"),this},_.getFormObject=function(k){var Q=li[Ji[k]];return{x:Q.x,y:Q.y,width:Q.width,height:Q.height,matrix:Q.matrix}},_.save=function(k,Q){return k=k||"generated.pdf",(Q=Q||{}).returnPromise=Q.returnPromise||!1,Q.returnPromise===!1?(Eh(yr(Ea()),k),typeof Eh.unload=="function"&&Or.setTimeout&&setTimeout(Eh.unload,911),this):new Promise(function(Se,De){try{var Ve=Eh(yr(Ea()),k);typeof Eh.unload=="function"&&Or.setTimeout&&setTimeout(Eh.unload,911),Se(Ve)}catch(at){De(at.message)}})},fr.API)fr.API.hasOwnProperty(Pi)&&(Pi==="events"&&fr.API.events.length?(function(k,Q){var Se,De,Ve;for(Ve=Q.length-1;Ve!==-1;Ve--)Se=Q[Ve][0],De=Q[Ve][1],k.subscribe.apply(k,[Se].concat(typeof De=="function"?[De]:De))})(Gr,fr.API.events):_[Pi]=fr.API[Pi]);function es(k){return Zt[k].mediaBox.topRightX-Zt[k].mediaBox.bottomLeftX}function il(k,Q){Zt[k].mediaBox.topRightX=Q+Zt[k].mediaBox.bottomLeftX}function Fu(k){return Zt[k].mediaBox.topRightY-Zt[k].mediaBox.bottomLeftY}function Hs(k,Q){Zt[k].mediaBox.topRightY=Q+Zt[k].mediaBox.bottomLeftY}var ko=_.getPageWidth=function(k){return es(k=k||H)/_r},Bu=_.setPageWidth=function(k,Q){il(k,Q*_r)},Po=_.getPageHeight=function(k){return Fu(k=k||H)/_r},xc=_.setPageHeight=function(k,Q){Hs(k,Q*_r)};return _.internal={pdfEscape:wr,getStyle:zs,getFont:Ba,getFontSize:jt,getCharSpace:Nl,getTextColor:to,getLineHeight:Xa,getLineHeightFactor:Iu,getLineWidth:nl,write:yt,getHorizontalCoordinate:Aa,getVerticalCoordinate:Mi,getCoordinateString:Ll,getVerticalCoordinateString:Ja,collections:{},newObject:qe,newAdditionalObject:me,newObjectDeferred:Ye,newObjectDeferredBegin:Y,getFilters:Pe,putStream:ze,events:Gr,scaleFactor:_r,pageSize:{getWidth:function(){return ko(H)},setWidth:function(k){Bu(H,k)},getHeight:function(){return Po(H)},setHeight:function(k){xc(H,k)}},encryptionOptions:p,encryption:ni,getEncryptor:function(k){return p!==null?ni.encryptor(k,0):function(Q){return Q}},output:Dn,getNumberOfPages:Ci,get pages(){return ot},out:we,f2:I,f3:W,getPageInfo:cn,getPageInfoByObjId:ru,getCurrentPageInfo:Tl,getPDFVersion:S,Point:ws,Rectangle:ro,Matrix:Qt,hasHotfix:ea},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return ko(H)},set:function(k){Bu(H,k)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Po(H)},set:function(k){xc(H,k)},enumerable:!0,configurable:!0}),(function(k){for(var Q=0,Se=zt.length;Q<Se;Q++){var De=Hr.call(this,k[Q][0],k[Q][1],k[Q][2],zt[Q][3],!0);v===!1&&(y[De]=!0);var Ve=k[Q][0].split("-");Bt({id:De,fontName:Ve[0],fontStyle:Ve[1]||""})}Gr.publish("addFonts",{fonts:Gt,dictionary:pr})}).call(_,zt),Ft="F1",Kn(i,r),Gr.publish("initialized"),_}$f.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},$f.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},$f.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},$f.prototype.processOwnerPassword=function(t,e){return v_(g_(e).substr(0,5),t)},$f.prototype.encryptor=function(t,e){var r=g_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return v_(r,n)}},wg.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Gn(t)!==Gn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},fr.API={events:[]},fr.version="4.0.0";var $i=fr.API,K_=1,$h=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fr=function(t){return t.toFixed(2)},qc=function(t){return t.toFixed(5)};$i.__acroform__={};var Ao=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},m4=function(t){return t*K_},Lu=function(t){var e=new zE,r=ir.internal.getHeight(t)||0,n=ir.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Fr(n)),Number(Fr(r))],e},KO=$i.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},XO=$i.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},JO=$i.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ua=$i.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return JO(t,e-1)},ca=$i.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return KO(t,e-1)},ha=$i.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return XO(t,e-1)},QO=$i.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+s)||0,c.upperRight_Y=n(a)||0,[Number(Fr(c.lowerLeft_X)),Number(Fr(c.lowerLeft_Y)),Number(Fr(c.upperRight_X)),Number(Fr(c.upperRight_Y))]},eR=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=__(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Fr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Lu(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},__=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var a=r,s=ir.internal.getHeight(t)||0;s=s<0?-s:s;var l=ir.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(I,W,ue){if(I+1<i.length){var pe=W+" "+i[I+1][0];return Dm(pe,t,ue).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var f,p,v=Dm("3",t,a).height,y=t.multiline?s-a:(s-v)/2,_=y+=2,E=0,S=0,C=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Dm(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var O="",j=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var B=!1;if(i[R].length!==1&&C!==i[R].length-1){if((v+2)*(j+2)+2>s)continue e;O+=i[R][C],B=!0,S=R,R--}else{O=(O+=i[R][C]+" ").substr(O.length-1)==" "?O.substr(0,O.length-1):O;var J=parseInt(R),re=c(J,O,a),F=R>=i.length-1;if(re&&!F){O+=" ",C=0;continue}if(re||F){if(F)S=J;else if(t.multiline&&(v+2)*(j+2)+2>s)continue e}else{if(!t.multiline||(v+2)*(j+2)+2>s)continue e;S=J}}for(var K="",U=E;U<=S;U++){var X=i[U];if(t.multiline){if(U===S){K+=X[C]+" ",C=(C+1)%X.length;continue}if(U===E){K+=X[X.length-1]+" ";continue}}K+=X[0]+" "}switch(K=K.substr(K.length-1)==" "?K.substr(0,K.length-1):K,p=Dm(K,t,a).width,t.textAlign){case"right":f=l-p-2;break;case"center":f=(l-p)/2;break;default:f=2}e+=Fr(f)+" "+Fr(_)+` Td
`,e+="("+$h(K)+`) Tj
`,e+=-Fr(f)+` 0 Td
`,_=-(a+2),p=0,E=B?S:S+1,j++,O=""}break}return n.text=e,n.fontSize=a,n},Dm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},tR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},rR=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},nR=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ql.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(tR)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");K_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new GE,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&rR(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],c=[],f=l.Rect;if(l.Rect&&(l.Rect=QO(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ir.createDefaultAppearanceStream(l),Gn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=eR(l);c.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var v="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var _=l.appearanceStreamContent[y];if(v+="/"+y+" ",v+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var s in _)if(_.hasOwnProperty(s)){var E=_[s];typeof E=="function"&&(E=E.call(i,l)),v+="/"+s+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=_)=="function"&&(E=E.call(i,l)),v+="/"+s+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);v+=">>"}c.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&(function(S,C){for(var O in S)if(S.hasOwnProperty(O)){var j=O,R=S[O];C.internal.newObjectDeferredBegin(R.objId,!0),Gn(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete S[j]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},UE=$i.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Gn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+$h(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},g2=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+$h(n(t))+")"},ku=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ku.prototype.toString=function(){return this.objId+" 0 R"},ku.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ku.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:UE(i,this.objId,this.scope)}):i instanceof ku?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var zE=function(){ku.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ao(zE,ku);var GE=function(){ku.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+$h(r(t))+")"}},set:function(r){t=r}})};Ao(GE,ku);var Ql=function t(){ku.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute F supplied.');e=O}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ua(e,3)},set:function(O){O?this.F=ca(e,3):this.F=ha(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute Ff supplied.');r=O}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(O){n=O!==void 0?O:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(O){n[0]=O}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(O){n[1]=O}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(O){n[2]=O}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(O){n[3]=O}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(O){switch(O){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=O;break;default:throw new Error('Invalid value "'+O+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof bg)return;a="FieldObject"+t.FieldNum++}var O=function(j){return j};return this.scope&&(O=this.scope.internal.getEncryptor(this.objId)),"("+$h(O(a))+")"},set:function(O){a=O.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(O){a=O}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(O){s=O}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(O){l=O}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(O){c=O}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/K_:f},set:function(O){f=O}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(O){p=O}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof bg||this instanceof Rh))return g2(v,this.objId,this.scope)},set:function(O){O=O.toString(),v=O}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof $a==0?g2(y,this.objId,this.scope):y},set:function(O){O=O.toString(),y=this instanceof $a==0?O.substr(0,1)==="("?Rf(O.substr(1,O.length-2)):Rf(O):O}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $a==1?Rf(y.substr(1,y.length-1)):y},set:function(O){O=O.toString(),y=this instanceof $a==1?"/"+O:O}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(O){this.V=O}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof $a==0?g2(_,this.objId,this.scope):_},set:function(O){O=O.toString(),_=this instanceof $a==0?O.substr(0,1)==="("?Rf(O.substr(1,O.length-2)):Rf(O):O}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $a==1?Rf(_.substr(1,_.length-1)):_},set:function(O){O=O.toString(),_=this instanceof $a==1?"/"+O:O}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(O){O=!!O,S=O}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(O){E=O}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,1)},set:function(O){O?this.Ff=ca(this.Ff,1):this.Ff=ha(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,2)},set:function(O){O?this.Ff=ca(this.Ff,2):this.Ff=ha(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,3)},set:function(O){O?this.Ff=ca(this.Ff,3):this.Ff=ha(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(O){if([0,1,2].indexOf(O)===-1)throw new Error('Invalid value "'+O+'" for attribute Q supplied.');C=O}}),Object.defineProperty(this,"textAlign",{get:function(){var O;switch(C){case 0:default:O="left";break;case 1:O="center";break;case 2:O="right"}return O},configurable:!0,enumerable:!0,set:function(O){switch(O){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};Ao(Ql,ku);var sd=function(){Ql.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return UE(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(a,s,l){l||(l=1);for(var c,f=[];c=s.exec(a);)f.push(c[l]);return f})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,18)},set:function(r){r?this.Ff=ca(this.Ff,18):this.Ff=ha(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ca(this.Ff,19):this.Ff=ha(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,20)},set:function(r){r?(this.Ff=ca(this.Ff,20),e.sort()):this.Ff=ha(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,22)},set:function(r){r?this.Ff=ca(this.Ff,22):this.Ff=ha(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(r){r?this.Ff=ca(this.Ff,23):this.Ff=ha(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,27)},set:function(r){r?this.Ff=ca(this.Ff,27):this.Ff=ha(this.Ff,27)}}),this.hasAppearanceStream=!1};Ao(sd,Ql);var od=function(){sd.call(this),this.fontName="helvetica",this.combo=!1};Ao(od,sd);var ld=function(){od.call(this),this.combo=!0};Ao(ld,od);var ig=function(){ld.call(this),this.edit=!0};Ao(ig,ld);var $a=function(){Ql.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,15)},set:function(r){r?this.Ff=ca(this.Ff,15):this.Ff=ha(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,16)},set:function(r){r?this.Ff=ca(this.Ff,16):this.Ff=ha(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,17)},set:function(r){r?this.Ff=ca(this.Ff,17):this.Ff=ha(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(r){r?this.Ff=ca(this.Ff,26):this.Ff=ha(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+$h(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Gn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ao($a,Ql);var ag=function(){$a.call(this),this.pushButton=!0};Ao(ag,$a);var ud=function(){$a.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ao(ud,$a);var bg=function(){var t,e;Ql.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+$h(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Gn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ir.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ao(bg,Ql),ud.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},ud.prototype.createOption=function(t){var e=new bg;return e.Parent=this,e.optionName=t,this.Kids.push(e),iR.call(this.scope,e),e};var sg=function(){$a.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ir.CheckBox.createAppearanceStream()};Ao(sg,$a);var Rh=function(){Ql.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,13)},set:function(e){e?this.Ff=ca(this.Ff,13):this.Ff=ha(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,21)},set:function(e){e?this.Ff=ca(this.Ff,21):this.Ff=ha(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(e){e?this.Ff=ca(this.Ff,23):this.Ff=ha(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,24)},set:function(e){e?this.Ff=ca(this.Ff,24):this.Ff=ha(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,25)},set:function(e){e?this.Ff=ca(this.Ff,25):this.Ff=ha(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(e){e?this.Ff=ca(this.Ff,26):this.Ff=ha(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ao(Rh,Ql);var og=function(){Rh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,14)},set:function(t){t?this.Ff=ca(this.Ff,14):this.Ff=ha(this.Ff,14)}}),this.password=!0};Ao(og,Rh);var ir={CheckBox:{createAppearanceStream:function(){return{N:{On:ir.CheckBox.YesNormal},D:{On:ir.CheckBox.YesPushDown,Off:ir.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Lu(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=__(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Fr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Lu(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=ir.internal.getHeight(t),s=ir.internal.getWidth(t),l=__(t,t.caption);return i.push("1 g"),i.push("0 0 "+Fr(s)+" "+Fr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Fr(s-1)+" "+Fr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Fr(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Lu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ir.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ir.RadioButton.Circle.YesNormal,e.D[t]=ir.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Lu(t);e.scope=t.scope;var r=[],n=ir.internal.getWidth(t)<=ir.internal.getHeight(t)?ir.internal.getWidth(t)/4:ir.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=ir.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+qc(ir.internal.getWidth(t)/2)+" "+qc(ir.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Lu(t);e.scope=t.scope;var r=[],n=ir.internal.getWidth(t)<=ir.internal.getHeight(t)?ir.internal.getWidth(t)/4:ir.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ir.internal.Bezier_C).toFixed(5)),s=Number((n*ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qc(ir.internal.getWidth(t)/2)+" "+qc(ir.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+qc(ir.internal.getWidth(t)/2)+" "+qc(ir.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Lu(t);e.scope=t.scope;var r=[],n=ir.internal.getWidth(t)<=ir.internal.getHeight(t)?ir.internal.getWidth(t)/4:ir.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qc(ir.internal.getWidth(t)/2)+" "+qc(ir.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ir.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ir.RadioButton.Cross.YesNormal,e.D[t]=ir.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Lu(t);e.scope=t.scope;var r=[],n=ir.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Fr(ir.internal.getWidth(t)-2)+" "+Fr(ir.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Fr(n.x1.x)+" "+Fr(n.x1.y)+" m"),r.push(Fr(n.x2.x)+" "+Fr(n.x2.y)+" l"),r.push(Fr(n.x4.x)+" "+Fr(n.x4.y)+" m"),r.push(Fr(n.x3.x)+" "+Fr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Lu(t);e.scope=t.scope;var r=ir.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Fr(ir.internal.getWidth(t)-2)+" "+Fr(ir.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Fr(r.x1.x)+" "+Fr(r.x1.y)+" m"),n.push(Fr(r.x2.x)+" "+Fr(r.x2.y)+" l"),n.push(Fr(r.x4.x)+" "+Fr(r.x4.y)+" m"),n.push(Fr(r.x3.x)+" "+Fr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Lu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ir.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ir.internal.getWidth(t),r=ir.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ir.internal.getWidth=function(t){var e=0;return Gn(t)==="object"&&(e=m4(t.Rect[2])),e},ir.internal.getHeight=function(t){var e=0;return Gn(t)==="object"&&(e=m4(t.Rect[3])),e};var iR=$i.addField=function(t){if(nR(this,t),!(t instanceof Ql))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};$i.AcroFormChoiceField=sd,$i.AcroFormListBox=od,$i.AcroFormComboBox=ld,$i.AcroFormEditBox=ig,$i.AcroFormButton=$a,$i.AcroFormPushButton=ag,$i.AcroFormRadioButton=ud,$i.AcroFormCheckBox=sg,$i.AcroFormTextField=Rh,$i.AcroFormPasswordField=og,$i.AcroFormAppearance=ir,$i.AcroForm={ChoiceField:sd,ListBox:od,ComboBox:ld,EditBox:ig,Button:$a,PushButton:ag,RadioButton:ud,CheckBox:sg,TextField:Rh,PasswordField:og,Appearance:ir},fr.AcroForm={ChoiceField:sd,ListBox:od,ComboBox:ld,EditBox:ig,Button:$a,PushButton:ag,RadioButton:ud,CheckBox:sg,TextField:Rh,PasswordField:og,Appearance:ir};fr.AcroForm;function HE(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(I,W){var ue,pe,xe,le,be,_e=r;if((W=W||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(re(I))for(be in n)for(xe=n[be],ue=0;ue<xe.length;ue+=1){for(le=!0,pe=0;pe<xe[ue].length;pe+=1)if(xe[ue][pe]!==void 0&&xe[ue][pe]!==I[pe]){le=!1;break}if(le===!0){_e=be;break}}else for(be in n)for(xe=n[be],ue=0;ue<xe.length;ue+=1){for(le=!0,pe=0;pe<xe[ue].length;pe+=1)if(xe[ue][pe]!==void 0&&xe[ue][pe]!==I.charCodeAt(pe)){le=!1;break}if(le===!0){_e=be;break}}return _e===r&&W!==r&&(_e=W),_e},a=function I(W){for(var ue=this.internal.write,pe=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:W.width}),le.push({key:"Height",value:W.height}),W.colorSpace===O.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===O.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)&&W.transparency.length>0){for(var be="",_e=0,Le=W.transparency.length;_e<Le;_e++)be+=W.transparency[_e]+" "+W.transparency[_e]+" ";le.push({key:"Mask",value:"["+be+"]"})}W.sMask!==void 0&&le.push({key:"SMask",value:W.objectId+1+" 0 R"});var Ne=W.filter!==void 0?["/"+W.filter]:void 0;if(pe({data:W.data,additionalKeyValues:le,alreadyAppliedFilters:Ne,objectId:W.objectId}),ue("endobj"),"sMask"in W&&W.sMask!==void 0){var ee,P=(ee=W.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:W.bitsPerComponent,H={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:W.sMask};"filter"in W&&(H.decodeParameters="/Predictor ".concat(W.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(W.width),H.filter=W.filter),I.call(this,H)}if(W.colorSpace===O.INDEXED){var q=this.internal.newObject();pe({data:K(new Uint8Array(W.palette)),objectId:q}),ue("endobj")}},s=function(){var I=this.internal.collections[e+"images"];for(var W in I)a.call(this,I[W])},l=function(){var I,W=this.internal.collections[e+"images"],ue=this.internal.write;for(var pe in W)ue("/I"+(I=W[pe]).index,I.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},f=function(){var I=this.internal.collections[e+"images"];return c.call(this),I},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},v=function(I){return typeof t["process"+I.toUpperCase()]=="function"},y=function(I){return Gn(I)==="object"&&I.nodeType===1},_=function(I,W){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var ue=""+I.getAttribute("src");if(ue.indexOf("data:image/")===0)return ng(unescape(ue).split("base64,").pop());var pe=t.loadFile(ue,!0);if(pe!==void 0)return pe}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var xe;switch(W){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return ng(I.toDataURL(xe,1).split("base64,").pop())}},E=function(I){var W=this.internal.collections[e+"images"];if(W){for(var ue in W)if(I===W[ue].alias)return W[ue]}},S=function(I,W,ue){return I||W||(I=-96,W=-96),I<0&&(I=-1*ue.width*72/I/this.internal.scaleFactor),W<0&&(W=-1*ue.height*72/W/this.internal.scaleFactor),I===0&&(I=W*ue.width/ue.height),W===0&&(W=I*ue.height/ue.width),[I,W]},C=function(I,W,ue,pe,xe,le){var be=S.call(this,ue,pe,xe),_e=this.internal.getCoordinateString,Le=this.internal.getVerticalCoordinateString,Ne=f.call(this);if(ue=be[0],pe=be[1],Ne[xe.index]=xe,le){le*=Math.PI/180;var ee=Math.cos(le),P=Math.sin(le),H=function(Z){return Z.toFixed(4)},q=[H(ee),H(P),H(-1*P),H(ee),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,_e(I),Le(W+pe),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([_e(ue),"0","0",_e(pe),"0","0","cm"].join(" "))):this.internal.write([_e(ue),"0","0",_e(pe),_e(I),Le(W+pe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},O=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=t.__addimage__.sHashCode=function(I){var W,ue,pe=0;if(typeof I=="string")for(ue=I.length,W=0;W<ue;W++)pe=(pe<<5)-pe+I.charCodeAt(W),pe|=0;else if(re(I))for(ue=I.byteLength/2,W=0;W<ue;W++)pe=(pe<<5)-pe+I[W],pe|=0;return pe},B=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var W=!0;return I.length===0&&(W=!1),I.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(W=!1),W},J=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var W=I.indexOf(",");return W<0?null:I.substring(0,W).trim().endsWith("base64")?I.substring(W+1):null};t.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var re=t.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},F=t.__addimage__.binaryStringToUint8Array=function(I){for(var W=I.length,ue=new Uint8Array(W),pe=0;pe<W;pe++)ue[pe]=I.charCodeAt(pe);return ue},K=t.__addimage__.arrayBufferToBinaryString=function(I){for(var W="",ue=re(I)?I:new Uint8Array(I),pe=0;pe<ue.length;pe+=8192)W+=String.fromCharCode.apply(null,ue.subarray(pe,pe+8192));return W};t.addImage=function(){var I,W,ue,pe,xe,le,be,_e,Le;if(typeof arguments[1]=="number"?(W=r,ue=arguments[1],pe=arguments[2],xe=arguments[3],le=arguments[4],be=arguments[5],_e=arguments[6],Le=arguments[7]):(W=arguments[1],ue=arguments[2],pe=arguments[3],xe=arguments[4],le=arguments[5],be=arguments[6],_e=arguments[7],Le=arguments[8]),Gn(I=arguments[0])==="object"&&!y(I)&&"imageData"in I){var Ne=I;I=Ne.imageData,W=Ne.format||W||r,ue=Ne.x||ue||0,pe=Ne.y||pe||0,xe=Ne.w||Ne.width||xe,le=Ne.h||Ne.height||le,be=Ne.alias||be,_e=Ne.compression||_e,Le=Ne.rotation||Ne.angle||Le}var ee=this.internal.getFilters();if(_e===void 0&&ee.indexOf("FlateEncode")!==-1&&(_e="SLOW"),isNaN(ue)||isNaN(pe))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var P=U.call(this,I,W,be,_e);return C.call(this,ue,pe,xe,le,P,Le),this};var U=function(I,W,ue,pe){var xe,le,be;if(typeof I=="string"&&i(I)===r){I=unescape(I);var _e=X(I,!1);(_e!==""||(_e=t.loadFile(I,!0))!==void 0)&&(I=_e)}if(y(I)&&(I=_(I,W)),W=i(I,W),!v(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((be=ue)==null||be.length===0)&&(ue=(function(Le){return typeof Le=="string"||re(Le)?R(Le):re(Le.data)?R(Le.data):null})(I)),(xe=E.call(this,ue))||(I instanceof Uint8Array||W==="RGBA"||(le=I,I=F(I)),xe=this["process"+W.toUpperCase()](I,p.call(this),ue,(function(Le){return Le&&typeof Le=="string"&&(Le=Le.toUpperCase()),Le in t.image_compression?Le:j.NONE})(pe),le)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},X=t.__addimage__.convertBase64ToBinaryString=function(I,W){W=typeof W!="boolean"||W;var ue,pe="";if(typeof I=="string"){var xe;ue=(xe=J(I))!==null&&xe!==void 0?xe:I;try{pe=ng(ue)}catch(le){if(W)throw B(ue)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return pe};t.getImageProperties=function(I){var W,ue,pe="";if(y(I)&&(I=_(I)),typeof I=="string"&&i(I)===r&&((pe=X(I,!1))===""&&(pe=t.loadFile(I)||""),I=pe),ue=i(I),!v(ue))throw new Error("addImage does not support files of type '"+ue+"', please ensure that a plugin for '"+ue+"' support is added.");if(I instanceof Uint8Array||(I=F(I)),!(W=this["process"+ue.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=ue,W}})(fr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};fr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,p=!1,v=0;v<f.length&&!p;v++)switch((n=f[v]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){n=f[y];var _=this.internal.pdfEscape,E=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),O=this.internal.getEncryptor(S.objId),j=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+_(O(n.contents))+")",a+=" /Popup "+C.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+_(O(j))+") >>",S.content=a;var R=S.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+R,n.open&&(a+=" /Open true"),a+=" >>",C.content=a,this.internal.write(S.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var B=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+_(E(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var J=this.annotations._nameMap[n.options.name];n.options.pageNumber=J.page,n.options.top=J.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+_(E(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var re=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+re+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:f(n),w:c(r+i),h:f(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,l,c=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var p=this.splitTextToSize(r,l).length;s=Math.ceil(f*p)}else l=c,s=f;return this.text(r,n,i,a),i+=.2*f,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-f,l,s,a),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(fr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=t.__arabicParser__.isArabicEndLetter=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(S){return s(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(S){var C=0,O=r,j="",R=0;for(C=0;C<S.length;C+=1)O[S.charCodeAt(C)]!==void 0?(R++,typeof(O=O[S.charCodeAt(C)])=="number"&&(j+=String.fromCharCode(O),O=r,R=0),C===S.length-1&&(O=r,j+=S.charAt(C-(R-1)),C-=R-1,R=0)):(O=r,j+=S.charAt(C-R),C-=R,R=0);return j};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(S,C,O){return s(S)?a(S)===!1?-1:!f(S)||!s(C)&&!s(O)||!s(O)&&l(C)||l(S)&&!s(C)||l(S)&&c(C)||l(S)&&l(C)?0:p(S)&&s(C)&&!l(C)&&s(O)&&f(O)?3:l(S)||!s(O)?1:2:-1},_=function(S){var C=0,O=0,j=0,R="",B="",J="",re=(S=S||"").split("\\s+"),F=[];for(C=0;C<re.length;C+=1){for(F.push(""),O=0;O<re[C].length;O+=1)R=re[C][O],B=re[C][O-1],J=re[C][O+1],s(R)?(j=y(R,B,J),F[C]+=j!==-1?String.fromCharCode(e[R.charCodeAt(0)][j]):R):F[C]+=R;F[C]=v(F[C])}return F.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var S,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,O=[];if(Array.isArray(C)){var j=0;for(O=[],j=0;j<C.length;j+=1)Array.isArray(C[j])?O.push([_(C[j][0]),C[j][1],C[j][2]]):O.push([_(C[j])]);S=O}else S=_(C);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",E])})(fr.API),fr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(fr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(S){_=S}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(S){E=S}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,f){n.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,_=0,E=0,S=0,C=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var O=f.maxWidth;O>0?typeof c=="string"?c=this.splitTextToSize(c,O):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(R,B){return R.concat(C.splitTextToSize(B,O))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)_<(S=this.getStringUnitWidth(c[j],{font:v})*p)&&(_=S);return _!==0&&(E=c.length),{w:_/=y,h:Math.max((E*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=v.top,_&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};t.table=function(c,f,p,v,y){if(n.call(this),!p)throw new Error("No data for PDF table.");var _,E,S,C,O=[],j=[],R=[],B={},J={},re=[],F=[],K=(y=y||{}).autoSize||!1,U=y.printHeaders!==!1,X=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,I=y.margins||Object.assign({width:this.getPageWidth()},e),W=typeof y.padding=="number"?y.padding:3,ue=y.headerBackgroundColor||"#c8c8c8",pe=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=ue,this.internal.__cell__.headerTextColor=pe,this.setFontSize(X),v==null)j=O=Object.keys(p[0]),R=O.map(function(){return"left"});else if(Array.isArray(v)&&Gn(v[0])==="object")for(O=v.map(function(Ne){return Ne.name}),j=v.map(function(Ne){return Ne.prompt||Ne.name||""}),R=v.map(function(Ne){return Ne.align||"left"}),_=0;_<v.length;_+=1)J[v[_].name]=.7499990551181103*v[_].width;else Array.isArray(v)&&typeof v[0]=="string"&&(j=O=v,R=O.map(function(){return"left"}));if(K||Array.isArray(v)&&typeof v[0]=="string")for(_=0;_<O.length;_+=1){for(B[C=O[_]]=p.map(function(Ne){return Ne[C]}),this.setFont(void 0,"bold"),re.push(this.getTextDimensions(j[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=B[C],this.setFont(void 0,"normal"),S=0;S<E.length;S+=1)re.push(this.getTextDimensions(E[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[C]=Math.max.apply(null,re)+W+W,re=[]}if(U){var xe={};for(_=0;_<O.length;_+=1)xe[O[_]]={},xe[O[_]].text=j[_],xe[O[_]].align=R[_];var le=l.call(this,xe,J);F=O.map(function(Ne){return new a(c,f,J[Ne],le,xe[Ne].text,void 0,xe[Ne].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var be=v.reduce(function(Ne,ee){return Ne[ee.name]=ee.align,Ne},{});for(_=0;_<p.length;_+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:_,data:p[_]},this);var _e=l.call(this,p[_],J);for(S=0;S<O.length;S+=1){var Le=p[_][O[S]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:_,col:S,data:Le},this),s.call(this,new a(c,f,J[O[S]],_e,Le,_+2,be[O[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var l=function(c,f){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(_){var E=c[_];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,f[_]-p-p)},this).map(function(_){return this.getLineHeightFactor()*_.length*v/y+p+p},this).reduce(function(_,E){return Math.max(_,E)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){p=this.internal.__cell__.tableHeaderRow[_].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=c;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,p),this.setTextColor(E)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}})(fr.API);var qE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},VE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],y_=HE(VE),$E=[100,200,300,400,500,600,700,800,900],aR=HE($E);function v2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(a){return qE[a=a||"normal"]?a:"normal"})(t.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof y_[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function g4(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var sR={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},v4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function _4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function y4(t){return t.trimLeft()}function oR(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function lR(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jm,x4,w4,Df,Im,b4,S4,E4,_2=["times"];function T4(t,e,r,n,i){var a=4,s=L4;switch(i){case fr.API.image_compression.FAST:a=1,s=A4;break;case fr.API.image_compression.MEDIUM:a=6,s=N4;break;case fr.API.image_compression.SLOW:a=9,s=C4}t=(function(c,f,p,v){for(var y,_=c.length/f,E=new Uint8Array(c.length+_),S=[uR,A4,L4,N4,C4],C=0;C<_;C+=1){var O=C*f,j=c.subarray(O,O+f);if(v)E.set(v(j,p,y),O+C);else{for(var R=S.length,B=[],J=0;J<R;J+=1)B[J]=S[J](j,p,y);var re=hR(B.concat());E.set(B[re],O+C)}y=j}return E})(t,e,Math.ceil(r*n/8),s);var l=f_(t,{level:a});return fr.API.__addimage__.arrayBufferToBinaryString(l)}function uR(t){var e=Array.apply([],t);return e.unshift(0),e}function A4(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function L4(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=t[a]-s+256&255}return i}function N4(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,l=r&&r[a]||0;i[a+1]=t[a]+256-(s+l>>>1)&255}return i}function C4(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=cR(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function cR(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function hR(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function y2(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return WE(t,i)>>a&s}function M4(t,e,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),l=(1<<n)-1,c=(e&l)<<s;(function(f,p,v){if(p+1<f.byteLength)f.setUint16(p,v,!1);else{var y=v>>8&255;f.setUint8(p,y)}})(t,a,WE(t,a)&~(l<<s)&65535|c)}function WE(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function fR(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var l=null,c=null;a&&(l=e,c=s,e+=3*s);var f=!0,p=[],v=0,y=null,_=0,E=null;for(this.width=r,this.height=n;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];v=t[e++]|t[e++]<<8,y=t[e++],1&S||(y=null),_=S>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var C=t[e++]|t[e++]<<8,O=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,B=t[e++],J=B>>6&1,re=1<<1+(7&B),F=l,K=c,U=!1;B>>7&&(U=!0,F=e,K=re,e+=3*re);var X=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}p.push({x:C,y:O,width:j,height:R,has_local_palette:U,palette_offset:F,palette_size:K,data_offset:X,data_length:e-X,transparent_index:y,interlaced:!!J,delay:v,disposal:_});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return E},this.frameInfo=function(W){if(W<0||W>=p.length)throw new Error("Frame index out of range.");return p[W]},this.decodeAndBlitFrameBGRA=function(W,ue){var pe=this.frameInfo(W),xe=pe.width*pe.height,le=new Uint8Array(xe);k4(t,pe.data_offset,le,xe);var be=pe.palette_offset,_e=pe.transparent_index;_e===null&&(_e=256);var Le=pe.width,Ne=r-Le,ee=Le,P=4*(pe.y*r+pe.x),H=4*((pe.y+pe.height)*r+pe.x),q=P,Z=4*Ne;pe.interlaced===!0&&(Z+=4*r*7);for(var oe=8,Ae=0,Oe=le.length;Ae<Oe;++Ae){var Re=le[Ae];if(ee===0&&(ee=Le,(q+=Z)>=H&&(Z=4*Ne+4*r*(oe-1),q=P+(Le+Ne)*(oe<<1),oe>>=1)),Re===_e)q+=4;else{var Ie=t[be+3*Re],ot=t[be+3*Re+1],it=t[be+3*Re+2];ue[q++]=it,ue[q++]=ot,ue[q++]=Ie,ue[q++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(W,ue){var pe=this.frameInfo(W),xe=pe.width*pe.height,le=new Uint8Array(xe);k4(t,pe.data_offset,le,xe);var be=pe.palette_offset,_e=pe.transparent_index;_e===null&&(_e=256);var Le=pe.width,Ne=r-Le,ee=Le,P=4*(pe.y*r+pe.x),H=4*((pe.y+pe.height)*r+pe.x),q=P,Z=4*Ne;pe.interlaced===!0&&(Z+=4*r*7);for(var oe=8,Ae=0,Oe=le.length;Ae<Oe;++Ae){var Re=le[Ae];if(ee===0&&(ee=Le,(q+=Z)>=H&&(Z=4*Ne+4*r*(oe-1),q=P+(Le+Ne)*(oe<<1),oe>>=1)),Re===_e)q+=4;else{var Ie=t[be+3*Re],ot=t[be+3*Re+1],it=t[be+3*Re+2];ue[q++]=Ie,ue[q++]=ot,ue[q++]=it,ue[q++]=255}--ee}}}function k4(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,l=s+1,c=i+1,f=(1<<c)-1,p=0,v=0,y=0,_=t[e++],E=new Int32Array(4096),S=null;;){for(;p<16&&_!==0;)v|=t[e++]<<p,p+=8,_===1?_=t[e++]:--_;if(p<c)break;var C=v&f;if(v>>=c,p-=c,C!==a){if(C===s)break;for(var O=C<l?C:S,j=0,R=O;R>a;)R=E[R]>>8,++j;var B=R;if(y+j+(O!==C?1:0)>n)return void ti.log("Warning, gif stream longer than expected.");r[y++]=B;var J=y+=j;for(O!==C&&(r[y++]=B),R=O;j--;)R=E[R],r[--J]=255&R,R>>=8;S!==null&&l<4096&&(E[l++]=S<<8|B,l>=f+1&&c<12&&(++c,f=f<<1|1)),S=C}else l=s+1,f=(1<<(c=i+1))-1,S=null}return y!==n&&ti.log("Warning, gif stream shorter than expected."),r}function x2(t){var e,r,n,i,a,s=Math.floor,l=new Array(64),c=new Array(64),f=new Array(64),p=new Array(64),v=new Array(65535),y=new Array(65535),_=new Array(64),E=new Array(64),S=[],C=0,O=7,j=new Array(64),R=new Array(64),B=new Array(64),J=new Array(256),re=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],K=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ue=[0,1,2,3,4,5,6,7,8,9,10,11],pe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(P,H){for(var q=0,Z=0,oe=new Array,Ae=1;Ae<=16;Ae++){for(var Oe=1;Oe<=P[Ae];Oe++)oe[H[Z]]=[],oe[H[Z]][0]=q,oe[H[Z]][1]=Ae,Z++,q++;q*=2}return oe}function be(P){for(var H=P[0],q=P[1]-1;q>=0;)H&1<<q&&(C|=1<<O),q--,--O<0&&(C==255?(_e(255),_e(0)):_e(C),O=7,C=0)}function _e(P){S.push(P)}function Le(P){_e(P>>8&255),_e(255&P)}function Ne(P,H,q,Z,oe){for(var Ae,Oe=oe[0],Re=oe[240],Ie=(function(dt,Vt){var jt,sr,Xt,Jt,Er,dr,Nr,or,Ft,_r,Wt=0;for(Ft=0;Ft<8;++Ft){jt=dt[Wt],sr=dt[Wt+1],Xt=dt[Wt+2],Jt=dt[Wt+3],Er=dt[Wt+4],dr=dt[Wt+5],Nr=dt[Wt+6];var xn=jt+(or=dt[Wt+7]),Mr=jt-or,Gt=sr+Nr,pr=sr-Nr,Dr=Xt+dr,Yt=Xt-dr,un=Jt+Er,ur=Jt-Er,cr=xn+un,en=xn-un,xr=Gt+Dr,Zt=Gt-Dr;dt[Wt]=cr+xr,dt[Wt+4]=cr-xr;var Gr=.707106781*(Zt+en);dt[Wt+2]=en+Gr,dt[Wt+6]=en-Gr;var ba=.382683433*((cr=ur+Yt)-(Zt=pr+Mr)),li=.5411961*cr+ba,Ji=1.306562965*Zt+ba,Ni=.707106781*(xr=Yt+pr),Qt=Mr+Ni,Ka=Mr-Ni;dt[Wt+5]=Ka+li,dt[Wt+3]=Ka-li,dt[Wt+1]=Qt+Ji,dt[Wt+7]=Qt-Ji,Wt+=8}for(Wt=0,Ft=0;Ft<8;++Ft){jt=dt[Wt],sr=dt[Wt+8],Xt=dt[Wt+16],Jt=dt[Wt+24],Er=dt[Wt+32],dr=dt[Wt+40],Nr=dt[Wt+48];var Fa=jt+(or=dt[Wt+56]),Ce=jt-or,Ge=sr+Nr,qe=sr-Nr,Ye=Xt+dr,Y=Xt-dr,me=Jt+Er,ne=Jt-Er,ie=Fa+me,he=Fa-me,ve=Ge+Ye,Pe=Ge-Ye;dt[Wt]=ie+ve,dt[Wt+32]=ie-ve;var ze=.707106781*(Pe+he);dt[Wt+16]=he+ze,dt[Wt+48]=he-ze;var Be=.382683433*((ie=ne+Y)-(Pe=qe+Ce)),Ue=.5411961*ie+Be,$e=1.306562965*Pe+Be,ht=.707106781*(ve=Y+qe),bt=Ce+ht,wt=Ce-ht;dt[Wt+40]=wt+Ue,dt[Wt+24]=wt-Ue,dt[Wt+8]=bt+$e,dt[Wt+56]=bt-$e,Wt++}for(Ft=0;Ft<64;++Ft)_r=dt[Ft]*Vt[Ft],_[Ft]=_r>0?_r+.5|0:_r-.5|0;return _})(P,H),ot=0;ot<64;++ot)E[F[ot]]=Ie[ot];var it=E[0]-q;q=E[0],it==0?be(Z[0]):(be(Z[y[Ae=32767+it]]),be(v[Ae]));for(var Tt=63;Tt>0&&E[Tt]==0;)Tt--;if(Tt==0)return be(Oe),q;for(var Nt,we=1;we<=Tt;){for(var yt=we;E[we]==0&&we<=Tt;)++we;var xt=we-yt;if(xt>=16){Nt=xt>>4;for(var zt=1;zt<=Nt;++zt)be(Re);xt&=15}Ae=32767+E[we],be(oe[(xt<<4)+y[Ae]]),be(v[Ae]),we++}return Tt!=63&&be(Oe),q}function ee(P){P=Math.min(Math.max(P,1),100),a!=P&&((function(H){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var oe=s((q[Z]*H+50)/100);oe=Math.min(Math.max(oe,1),255),l[F[Z]]=oe}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Oe=0;Oe<64;Oe++){var Re=s((Ae[Oe]*H+50)/100);Re=Math.min(Math.max(Re,1),255),c[F[Oe]]=Re}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ot=0,it=0;it<8;it++)for(var Tt=0;Tt<8;Tt++)f[ot]=1/(l[F[ot]]*Ie[it]*Ie[Tt]*8),p[ot]=1/(c[F[ot]]*Ie[it]*Ie[Tt]*8),ot++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),a=P)}this.encode=function(P,H){H&&ee(H),S=new Array,C=0,O=7,Le(65496),Le(65504),Le(16),_e(74),_e(70),_e(73),_e(70),_e(0),_e(1),_e(1),_e(0),Le(1),Le(1),_e(0),_e(0),(function(){Le(65499),Le(132),_e(0);for(var sr=0;sr<64;sr++)_e(l[sr]);_e(1);for(var Xt=0;Xt<64;Xt++)_e(c[Xt])})(),(function(sr,Xt){Le(65472),Le(17),_e(8),Le(Xt),Le(sr),_e(3),_e(1),_e(17),_e(0),_e(2),_e(17),_e(1),_e(3),_e(17),_e(1)})(P.width,P.height),(function(){Le(65476),Le(418),_e(0);for(var sr=0;sr<16;sr++)_e(K[sr+1]);for(var Xt=0;Xt<=11;Xt++)_e(U[Xt]);_e(16);for(var Jt=0;Jt<16;Jt++)_e(X[Jt+1]);for(var Er=0;Er<=161;Er++)_e(I[Er]);_e(1);for(var dr=0;dr<16;dr++)_e(W[dr+1]);for(var Nr=0;Nr<=11;Nr++)_e(ue[Nr]);_e(17);for(var or=0;or<16;or++)_e(pe[or+1]);for(var Ft=0;Ft<=161;Ft++)_e(xe[Ft])})(),Le(65498),Le(12),_e(3),_e(1),_e(0),_e(2),_e(17),_e(3),_e(17),_e(0),_e(63),_e(0);var q=0,Z=0,oe=0;C=0,O=7,this.encode.displayName="_encode_";for(var Ae,Oe,Re,Ie,ot,it,Tt,Nt,we,yt=P.data,xt=P.width,zt=P.height,dt=4*xt,Vt=0;Vt<zt;){for(Ae=0;Ae<dt;){for(ot=dt*Vt+Ae,Tt=-1,Nt=0,we=0;we<64;we++)it=ot+(Nt=we>>3)*dt+(Tt=4*(7&we)),Vt+Nt>=zt&&(it-=dt*(Vt+1+Nt-zt)),Ae+Tt>=dt&&(it-=Ae+Tt-dt+4),Oe=yt[it++],Re=yt[it++],Ie=yt[it++],j[we]=(re[Oe]+re[Re+256|0]+re[Ie+512|0]>>16)-128,R[we]=(re[Oe+768|0]+re[Re+1024|0]+re[Ie+1280|0]>>16)-128,B[we]=(re[Oe+1280|0]+re[Re+1536|0]+re[Ie+1792|0]>>16)-128;q=Ne(j,f,q,e,n),Z=Ne(R,p,Z,r,i),oe=Ne(B,p,oe,r,i),Ae+=32}Vt+=8}if(O>=0){var jt=[];jt[1]=O+1,jt[0]=(1<<O+1)-1,be(jt)}return Le(65497),new Uint8Array(S)},t=t||50,(function(){for(var P=String.fromCharCode,H=0;H<256;H++)J[H]=P(H)})(),e=le(K,U),r=le(W,ue),n=le(X,I),i=le(pe,xe),(function(){for(var P=1,H=2,q=1;q<=15;q++){for(var Z=P;Z<H;Z++)y[32767+Z]=q,v[32767+Z]=[],v[32767+Z][1]=q,v[32767+Z][0]=Z;for(var oe=-(H-1);oe<=-P;oe++)y[32767+oe]=q,v[32767+oe]=[],v[32767+oe][1]=q,v[32767+oe][0]=H-1+oe;P<<=1,H<<=1}})(),(function(){for(var P=0;P<256;P++)re[P]=19595*P,re[P+256|0]=38470*P,re[P+512|0]=7471*P+32768,re[P+768|0]=-11059*P,re[P+1024|0]=-21709*P,re[P+1280|0]=32768*P+8421375,re[P+1536|0]=-27439*P,re[P+1792|0]=-5329*P})(),ee(t)}function zl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function P4(t){function e(U){if(!U)throw Error("assert :P")}function r(U,X,I){for(var W=0;4>W;W++)if(U[X+W]!=I.charCodeAt(W))return!0;return!1}function n(U,X,I,W,ue){for(var pe=0;pe<ue;pe++)U[X+pe]=I[W+pe]}function i(U,X,I,W){for(var ue=0;ue<W;ue++)U[X+ue]=I}function a(U){return new Int32Array(U)}function s(U,X){for(var I=[],W=0;W<U;W++)I.push(new X);return I}function l(U,X){var I=[];return(function W(ue,pe,xe){for(var le=xe[pe],be=0;be<le&&(ue.push(xe.length>pe+1?[]:new X),!(xe.length<pe+1));be++)W(ue[be],pe+1,xe)})(I,0,U),I}var c=function(){var U=this;function X(w,A){for(var D=1<<A-1>>>0;w&D;)D>>>=1;return D?(w&D-1)+D:w}function I(w,A,D,z,te){e(!(z%D));do w[A+(z-=D)]=te;while(0<z)}function W(w,A,D,z,te){if(e(2328>=te),512>=te)var ae=a(512);else if((ae=a(te))==null)return 0;return(function(ce,ge,ye,Te,je,Je){var Ee,He,Ke=ge,lt=1<<ye,Xe=a(16),st=a(16);for(e(je!=0),e(Te!=null),e(ce!=null),e(0<ye),He=0;He<je;++He){if(15<Te[He])return 0;++Xe[Te[He]]}if(Xe[0]==je)return 0;for(st[1]=0,Ee=1;15>Ee;++Ee){if(Xe[Ee]>1<<Ee)return 0;st[Ee+1]=st[Ee]+Xe[Ee]}for(He=0;He<je;++He)Ee=Te[He],0<Te[He]&&(Je[st[Ee]++]=He);if(st[15]==1)return(Te=new ue).g=0,Te.value=Je[0],I(ce,Ke,1,lt,Te),lt;var ft,Lt=-1,_t=lt-1,nr=0,Ht=1,Pr=1,Kt=1<<ye;for(He=0,Ee=1,je=2;Ee<=ye;++Ee,je<<=1){if(Ht+=Pr<<=1,0>(Pr-=Xe[Ee]))return 0;for(;0<Xe[Ee];--Xe[Ee])(Te=new ue).g=Ee,Te.value=Je[He++],I(ce,Ke+nr,je,Kt,Te),nr=X(nr,Ee)}for(Ee=ye+1,je=2;15>=Ee;++Ee,je<<=1){if(Ht+=Pr<<=1,0>(Pr-=Xe[Ee]))return 0;for(;0<Xe[Ee];--Xe[Ee]){if(Te=new ue,(nr&_t)!=Lt){for(Ke+=Kt,ft=1<<(Lt=Ee)-ye;15>Lt&&!(0>=(ft-=Xe[Lt]));)++Lt,ft<<=1;lt+=Kt=1<<(ft=Lt-ye),ce[ge+(Lt=nr&_t)].g=ft+ye,ce[ge+Lt].value=Ke-ge-Lt}Te.g=Ee-ye,Te.value=Je[He++],I(ce,Ke+(nr>>ye),je,Kt,Te),nr=X(nr,Ee)}}return Ht!=2*st[15]-1?0:lt})(w,A,D,z,te,ae)}function ue(){this.value=this.g=0}function pe(){this.value=this.g=0}function xe(){this.G=s(5,ue),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s($s,pe)}function le(w,A,D,z){e(w!=null),e(A!=null),e(2147483648>z),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=A,w.pa=D,w.Jd=A,w.Yc=D+z,w.Zc=4<=z?D+z-4+1:D,Oe(w)}function be(w,A){for(var D=0;0<A--;)D|=Ie(w,128)<<A;return D}function _e(w,A){var D=be(w,A);return Re(w)?-D:D}function Le(w,A,D,z){var te,ae=0;for(e(w!=null),e(A!=null),e(4294967288>z),w.Sb=z,w.Ra=0,w.u=0,w.h=0,4<z&&(z=4),te=0;te<z;++te)ae+=A[D+te]<<8*te;w.Ra=ae,w.bb=z,w.oa=A,w.pa=D}function Ne(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<ns-8>>>0,++w.bb,w.u-=8;Z(w)&&(w.h=1,w.u=0)}function ee(w,A){if(e(0<=A),!w.h&&A<=ii){var D=q(w)&za[A];return w.u+=A,Ne(w),D}return w.h=1,w.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(w){return w.Ra>>>(w.u&ns-1)>>>0}function Z(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>ns}function oe(w,A){w.u=A,w.h=Z(w)}function Ae(w){w.u>=io&&(e(w.u>=io),Ne(w))}function Oe(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function Re(w){return be(w,1)}function Ie(w,A){var D=w.Ca;0>w.b&&Oe(w);var z=w.b,te=D*A>>>8,ae=(w.I>>>z>te)+0;for(ae?(D-=te,w.I-=te+1<<z>>>0):D=te+1,z=D,te=0;256<=z;)te+=8,z>>=8;return z=7^te+Ws[z],w.b-=z,w.Ca=(D<<z)-1,ae}function ot(w,A,D){w[A+0]=D>>24&255,w[A+1]=D>>16&255,w[A+2]=D>>8&255,w[A+3]=255&D}function it(w,A){return w[A+0]|w[A+1]<<8}function Tt(w,A){return it(w,A)|w[A+2]<<16}function Nt(w,A){return it(w,A)|it(w,A+2)<<16}function we(w,A){var D=1<<A;return e(w!=null),e(0<A),w.X=a(D),w.X==null?0:(w.Mb=32-A,w.Xa=A,1)}function yt(w,A){e(w!=null),e(A!=null),e(w.Xa==A.Xa),n(A.X,0,w.X,0,1<<A.Xa)}function xt(){this.X=[],this.Xa=this.Mb=0}function zt(w,A,D,z){e(D!=null),e(z!=null);var te=D[0],ae=z[0];return te==0&&(te=(w*ae+A/2)/A),ae==0&&(ae=(A*te+w/2)/w),0>=te||0>=ae?0:(D[0]=te,z[0]=ae,1)}function dt(w,A){return w+(1<<A)-1>>>A}function Vt(w,A){return((4278255360&w)+(4278255360&A)>>>0&4278255360)+((16711935&w)+(16711935&A)>>>0&16711935)>>>0}function jt(w,A){U[A]=function(D,z,te,ae,ce,ge,ye){var Te;for(Te=0;Te<ce;++Te){var je=U[w](ge[ye+Te-1],te,ae+Te);ge[ye+Te]=Vt(D[z+Te],je)}}}function sr(){this.ud=this.hd=this.jd=0}function Xt(w,A){return((4278124286&(w^A))>>>1)+(w&A)>>>0}function Jt(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Er(w,A){return Jt(w+(w-A+.5>>1))}function dr(w,A,D){return Math.abs(A-D)-Math.abs(w-D)}function Nr(w,A,D,z,te,ae,ce){for(z=ae[ce-1],D=0;D<te;++D)ae[ce+D]=z=Vt(w[A+D],z)}function or(w,A,D,z,te){var ae;for(ae=0;ae<D;++ae){var ce=w[A+ae],ge=ce>>8&255,ye=16711935&(ye=(ye=16711935&ce)+((ge<<16)+ge));z[te+ae]=(4278255360&ce)+ye>>>0}}function Ft(w,A){A.jd=255&w,A.hd=w>>8&255,A.ud=w>>16&255}function _r(w,A,D,z,te,ae){var ce;for(ce=0;ce<z;++ce){var ge=A[D+ce],ye=ge>>>8,Te=ge,je=255&(je=(je=ge>>>16)+((w.jd<<24>>24)*(ye<<24>>24)>>>5));Te=255&(Te=(Te+=(w.hd<<24>>24)*(ye<<24>>24)>>>5)+((w.ud<<24>>24)*(je<<24>>24)>>>5)),te[ae+ce]=(4278255360&ge)+(je<<16)+Te}}function Wt(w,A,D,z,te){U[A]=function(ae,ce,ge,ye,Te,je,Je,Ee,He){for(ye=Je;ye<Ee;++ye)for(Je=0;Je<He;++Je)Te[je++]=te(ge[z(ae[ce++])])},U[w]=function(ae,ce,ge,ye,Te,je,Je){var Ee=8>>ae.b,He=ae.Ea,Ke=ae.K[0],lt=ae.w;if(8>Ee)for(ae=(1<<ae.b)-1,lt=(1<<Ee)-1;ce<ge;++ce){var Xe,st=0;for(Xe=0;Xe<He;++Xe)Xe&ae||(st=z(ye[Te++])),je[Je++]=te(Ke[st&lt]),st>>=Ee}else U["VP8LMapColor"+D](ye,Te,Ke,lt,je,Je,ce,ge,He)}}function xn(w,A,D,z,te){for(D=A+D;A<D;){var ae=w[A++];z[te++]=ae>>16&255,z[te++]=ae>>8&255,z[te++]=255&ae}}function Mr(w,A,D,z,te){for(D=A+D;A<D;){var ae=w[A++];z[te++]=ae>>16&255,z[te++]=ae>>8&255,z[te++]=255&ae,z[te++]=ae>>24&255}}function Gt(w,A,D,z,te){for(D=A+D;A<D;){var ae=(ce=w[A++])>>16&240|ce>>12&15,ce=240&ce|ce>>28&15;z[te++]=ae,z[te++]=ce}}function pr(w,A,D,z,te){for(D=A+D;A<D;){var ae=(ce=w[A++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;z[te++]=ae,z[te++]=ce}}function Dr(w,A,D,z,te){for(D=A+D;A<D;){var ae=w[A++];z[te++]=255&ae,z[te++]=ae>>8&255,z[te++]=ae>>16&255}}function Yt(w,A,D,z,te,ae){if(ae==0)for(D=A+D;A<D;)ot(z,((ae=w[A++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),te+=32;else n(z,te,w,A,D)}function un(w,A){U[A][0]=U[w+"0"],U[A][1]=U[w+"1"],U[A][2]=U[w+"2"],U[A][3]=U[w+"3"],U[A][4]=U[w+"4"],U[A][5]=U[w+"5"],U[A][6]=U[w+"6"],U[A][7]=U[w+"7"],U[A][8]=U[w+"8"],U[A][9]=U[w+"9"],U[A][10]=U[w+"10"],U[A][11]=U[w+"11"],U[A][12]=U[w+"12"],U[A][13]=U[w+"13"],U[A][14]=U[w+"0"],U[A][15]=U[w+"0"]}function ur(w){return w==fu||w==Hu||w==du||w==h}function cr(){this.eb=[],this.size=this.A=this.fb=0}function en(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new cr,this.f.kb=new en,this.sd=null}function Zt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ba(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function li(w,A){var D=w.T,z=A.ba.f.RGBA,te=z.eb,ae=z.fb+w.ka*z.A,ce=bi[A.ba.S],ge=w.y,ye=w.O,Te=w.f,je=w.N,Je=w.ea,Ee=w.W,He=A.cc,Ke=A.dc,lt=A.Mc,Xe=A.Nc,st=w.ka,ft=w.ka+w.T,Lt=w.U,_t=Lt+1>>1;for(st==0?ce(ge,ye,null,null,Te,je,Je,Ee,Te,je,Je,Ee,te,ae,null,null,Lt):(ce(A.ec,A.fc,ge,ye,He,Ke,lt,Xe,Te,je,Je,Ee,te,ae-z.A,te,ae,Lt),++D);st+2<ft;st+=2)He=Te,Ke=je,lt=Je,Xe=Ee,je+=w.Rc,Ee+=w.Rc,ae+=2*z.A,ce(ge,(ye+=2*w.fa)-w.fa,ge,ye,He,Ke,lt,Xe,Te,je,Je,Ee,te,ae-z.A,te,ae,Lt);return ye+=w.fa,w.j+ft<w.o?(n(A.ec,A.fc,ge,ye,Lt),n(A.cc,A.dc,Te,je,_t),n(A.Mc,A.Nc,Je,Ee,_t),D--):1&ft||ce(ge,ye,null,null,Te,je,Je,Ee,Te,je,Je,Ee,te,ae+z.A,null,null,Lt),D}function Ji(w,A,D){var z=w.F,te=[w.J];if(z!=null){var ae=w.U,ce=A.ba.S,ge=ce==hu||ce==du;A=A.ba.f.RGBA;var ye=[0],Te=w.ka;ye[0]=w.T,w.Kb&&(Te==0?--ye[0]:(--Te,te[0]-=w.width),w.j+w.ka+w.T==w.o&&(ye[0]=w.o-w.j-Te));var je=A.eb;Te=A.fb+Te*A.A,w=uu(z,te[0],w.width,ae,ye,je,Te+(ge?0:3),A.A),e(D==ye),w&&ur(ce)&&As(je,Te,ge,ae,ye,A.A)}return 0}function Ni(w){var A=w.ma,D=A.ba.S,z=11>D,te=D==ia||D==ss||D==hu||D==Ol||D==12||ur(D);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Do(A.Oa,w,te?11:12))return 0;if(te&&ur(D)&&Ro(),w.da)alert("todo:use_scaling");else{if(z){if(A.Ib=ba,w.Kb){if(D=w.U+1>>1,A.memory=a(w.U+2*D),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+w.U,A.Mc=A.cc,A.Nc=A.dc+D,A.Ib=li,Ro()}}else alert("todo:EmitYUV");te&&(A.Jb=Ji,z&&ta())}if(z&&!_u){for(w=0;256>w;++w)Oa[w]=89858*(w-128)+Ec>>fo,_1[w]=-22014*(w-128)+Ec,kp[w]=-45773*(w-128),rf[w]=113618*(w-128)+Ec>>fo;for(w=qu;w<vu;++w)A=76283*(w-16)+Ec>>fo,y1[w-qu]=Ut(A,255),x1[w-qu]=Ut(A+8>>4,15);_u=1}return 1}function Qt(w){var A=w.ma,D=w.U,z=w.T;return e(!(1&w.ka)),0>=D||0>=z?0:(D=A.Ib(w,A),A.Jb!=null&&A.Jb(w,A,D),A.Dc+=D,1)}function Ka(w){w.ma.memory=null}function Fa(w,A,D,z){return ee(w,8)!=47?0:(A[0]=ee(w,14)+1,D[0]=ee(w,14)+1,z[0]=ee(w,1),ee(w,3)!=0?0:!w.h)}function Ce(w,A){if(4>w)return w+1;var D=w-2>>1;return(2+(1&w)<<D)+ee(A,D)+1}function Ge(w,A){return 120<A?A-120:1<=(D=((D=Me[A-1])>>4)*w+(8-(15&D)))?D:1;var D}function qe(w,A,D){var z=q(D),te=w[A+=255&z].g-8;return 0<te&&(oe(D,D.u+8),z=q(D),A+=w[A].value,A+=z&(1<<te)-1),oe(D,D.u+w[A].g),w[A].value}function Ye(w,A,D){return D.g+=w.g,D.value+=w.value<<A>>>0,e(8>=D.g),w.g}function Y(w,A,D){var z=w.xc;return e((A=z==0?0:w.vc[w.md*(D>>z)+(A>>z)])<w.Wb),w.Ya[A]}function me(w,A,D,z){var te=w.ab,ae=w.c*A,ce=w.C;A=ce+A;var ge=D,ye=z;for(z=w.Ta,D=w.Ua;0<te--;){var Te=w.gc[te],je=ce,Je=A,Ee=ge,He=ye,Ke=(ye=z,ge=D,Te.Ea);switch(e(je<Je),e(Je<=Te.nc),Te.hc){case 2:hi(Ee,He,(Je-je)*Ke,ye,ge);break;case 0:var lt=je,Xe=Je,st=ye,ft=ge,Lt=(Kt=Te).Ea;lt==0&&(ou(Ee,He,null,null,1,st,ft),Nr(Ee,He+1,0,0,Lt-1,st,ft+1),He+=Lt,ft+=Lt,++lt);for(var _t=1<<Kt.b,nr=_t-1,Ht=dt(Lt,Kt.b),Pr=Kt.K,Kt=Kt.w+(lt>>Kt.b)*Ht;lt<Xe;){var Qr=Pr,Qn=Kt,jr=1;for(Ga(Ee,He,st,ft-Lt,1,st,ft);jr<Lt;){var qt=(jr&~nr)+_t;qt>Lt&&(qt=Lt),(0,so[Qr[Qn++]>>8&15])(Ee,He+ +jr,st,ft+jr-Lt,qt-jr,st,ft+jr),jr=qt}He+=Lt,ft+=Lt,++lt&nr||(Kt+=Ht)}Je!=Te.nc&&n(ye,ge-Ke,ye,ge+(Je-je-1)*Ke,Ke);break;case 1:for(Ke=Ee,Xe=He,Lt=(Ee=Te.Ea)-(ft=Ee&~(st=(He=1<<Te.b)-1)),lt=dt(Ee,Te.b),_t=Te.K,Te=Te.w+(je>>Te.b)*lt;je<Je;){for(nr=_t,Ht=Te,Pr=new sr,Kt=Xe+ft,Qr=Xe+Ee;Xe<Kt;)Ft(nr[Ht++],Pr),ol(Pr,Ke,Xe,He,ye,ge),Xe+=He,ge+=He;Xe<Qr&&(Ft(nr[Ht++],Pr),ol(Pr,Ke,Xe,Lt,ye,ge),Xe+=Lt,ge+=Lt),++je&st||(Te+=lt)}break;case 3:if(Ee==ye&&He==ge&&0<Te.b){for(Xe=ye,Ee=Ke=ge+(Je-je)*Ke-(ft=(Je-je)*dt(Te.Ea,Te.b)),He=ye,st=ge,lt=[],ft=(Lt=ft)-1;0<=ft;--ft)lt[ft]=He[st+ft];for(ft=Lt-1;0<=ft;--ft)Xe[Ee+ft]=lt[ft];Io(Te,je,Je,ye,Ke,ye,ge)}else Io(Te,je,Je,Ee,He,ye,ge)}ge=z,ye=D}ye!=D&&n(z,D,ge,ye,ae)}function ne(w,A){var D=w.V,z=w.Ba+w.c*w.C,te=A-w.C;if(e(A<=w.l.o),e(16>=te),0<te){var ae=w.l,ce=w.Ta,ge=w.Ua,ye=ae.width;if(me(w,te,D,z),te=ge=[ge],e((D=w.C)<(z=A)),e(ae.v<ae.va),z>ae.o&&(z=ae.o),D<ae.j){var Te=ae.j-D;D=ae.j,te[0]+=Te*ye}if(D>=z?D=0:(te[0]+=4*ae.v,ae.ka=D-ae.j,ae.U=ae.va-ae.v,ae.T=z-D,D=1),D){if(ge=ge[0],11>(D=w.ca).S){var je=D.f.RGBA,Je=(z=D.S,te=ae.U,ae=ae.T,Te=je.eb,je.A),Ee=ae;for(je=je.fb+w.Ma*je.A;0<Ee--;){var He=ce,Ke=ge,lt=te,Xe=Te,st=je;switch(z){case bc:Fo(He,Ke,lt,Xe,st);break;case ia:Zs(He,Ke,lt,Xe,st);break;case fu:Zs(He,Ke,lt,Xe,st),As(Xe,st,0,lt,1,0);break;case Gu:oo(He,Ke,lt,Xe,st);break;case ss:Yt(He,Ke,lt,Xe,st,1);break;case Hu:Yt(He,Ke,lt,Xe,st,1),As(Xe,st,0,lt,1,0);break;case hu:Yt(He,Ke,lt,Xe,st,0);break;case du:Yt(He,Ke,lt,Xe,st,0),As(Xe,st,1,lt,1,0);break;case Ol:Ts(He,Ke,lt,Xe,st);break;case h:Ts(He,Ke,lt,Xe,st),is(Xe,st,lt,1,0);break;case ll:Na(He,Ke,lt,Xe,st);break;default:e(0)}ge+=ye,je+=Je}w.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=D.height)}}w.C=A,e(w.C<=w.i)}function ie(w){var A;if(0<w.ua)return 0;for(A=0;A<w.Wb;++A){var D=w.Ya[A].G,z=w.Ya[A].H;if(0<D[1][z[1]+0].g||0<D[2][z[2]+0].g||0<D[3][z[3]+0].g)return 0}return 1}function he(w,A,D,z,te,ae){if(w.Z!=0){var ce=w.qd,ge=w.rd;for(e(bn[w.Z]!=null);A<D;++A)bn[w.Z](ce,ge,z,te,z,te,ae),ce=z,ge=te,te+=ae;w.qd=ce,w.rd=ge}}function ve(w,A){var D=w.l.ma,z=D.Z==0||D.Z==1?w.l.j:w.C;if(z=w.C<z?z:w.C,e(A<=w.l.o),A>z){var te=w.l.width,ae=D.ca,ce=D.tb+te*z,ge=w.V,ye=w.Ba+w.c*z,Te=w.gc;e(w.ab==1),e(Te[0].hc==3),Fi(Te[0],z,A,ge,ye,ae,ce),he(D,z,A,ae,ce,te)}w.C=w.Ma=A}function Pe(w,A,D,z,te,ae,ce){var ge=w.$/z,ye=w.$%z,Te=w.m,je=w.s,Je=D+w.$,Ee=Je;te=D+z*te;var He=D+z*ae,Ke=280+je.ua,lt=w.Pb?ge:16777216,Xe=0<je.ua?je.Wa:null,st=je.wc,ft=Je<He?Y(je,ye,ge):null;e(w.C<ae),e(He<=te);var Lt=!1;e:for(;;){for(;Lt||Je<He;){var _t=0;if(ge>=lt){var nr=Je-D;e((lt=w).Pb),lt.wd=lt.m,lt.xd=nr,0<lt.s.ua&&yt(lt.s.Wa,lt.s.vb),lt=ge+tt}if(ye&st||(ft=Y(je,ye,ge)),e(ft!=null),ft.Qb&&(A[Je]=ft.qb,Lt=!0),!Lt)if(Ae(Te),ft.jc){_t=Te,nr=A;var Ht=Je,Pr=ft.pd[q(_t)&$s-1];e(ft.jc),256>Pr.g?(oe(_t,_t.u+Pr.g),nr[Ht]=Pr.value,_t=0):(oe(_t,_t.u+Pr.g-256),e(256<=Pr.value),_t=Pr.value),_t==0&&(Lt=!0)}else _t=qe(ft.G[0],ft.H[0],Te);if(Te.h)break;if(Lt||256>_t){if(!Lt)if(ft.nd)A[Je]=(ft.qb|_t<<8)>>>0;else{if(Ae(Te),Lt=qe(ft.G[1],ft.H[1],Te),Ae(Te),nr=qe(ft.G[2],ft.H[2],Te),Ht=qe(ft.G[3],ft.H[3],Te),Te.h)break;A[Je]=(Ht<<24|Lt<<16|_t<<8|nr)>>>0}if(Lt=!1,++Je,++ye>=z&&(ye=0,++ge,ce!=null&&ge<=ae&&!(ge%16)&&ce(w,ge),Xe!=null))for(;Ee<Je;)_t=A[Ee++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t}else if(280>_t){if(_t=Ce(_t-256,Te),nr=qe(ft.G[4],ft.H[4],Te),Ae(Te),nr=Ge(z,nr=Ce(nr,Te)),Te.h)break;if(Je-D<nr||te-Je<_t)break e;for(Ht=0;Ht<_t;++Ht)A[Je+Ht]=A[Je+Ht-nr];for(Je+=_t,ye+=_t;ye>=z;)ye-=z,++ge,ce!=null&&ge<=ae&&!(ge%16)&&ce(w,ge);if(e(Je<=te),ye&st&&(ft=Y(je,ye,ge)),Xe!=null)for(;Ee<Je;)_t=A[Ee++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t}else{if(!(_t<Ke))break e;for(Lt=_t-280,e(Xe!=null);Ee<Je;)_t=A[Ee++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t;_t=Je,e(!(Lt>>>(nr=Xe).Xa)),A[_t]=nr.X[Lt],Lt=!0}Lt||e(Te.h==Z(Te))}if(w.Pb&&Te.h&&Je<te)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&yt(w.s.vb,w.s.Wa);else{if(Te.h)break e;ce?.(w,ge>ae?ae:ge),w.a=0,w.$=Je-D}return 1}return w.a=3,0}function ze(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var A=w.Wa;A!=null&&(A.X=null),w.vb=null,e(w!=null)}function Be(){var w=new br;return w==null?null:(w.a=0,w.xb=Sc,un("Predictor","VP8LPredictors"),un("Predictor","VP8LPredictors_C"),un("PredictorAdd","VP8LPredictorsAdd"),un("PredictorAdd","VP8LPredictorsAdd_C"),hi=or,ol=_r,Fo=xn,Zs=Mr,Ts=Gt,Na=pr,oo=Dr,U.VP8LMapColor32b=ao,U.VP8LMapColor8b=xi,w)}function Ue(w,A,D,z,te){var ae=1,ce=[w],ge=[A],ye=z.m,Te=z.s,je=null,Je=0;e:for(;;){if(D)for(;ae&&ee(ye,1);){var Ee=ce,He=ge,Ke=z,lt=1,Xe=Ke.m,st=Ke.gc[Ke.ab],ft=ee(Xe,2);if(Ke.Oc&1<<ft)ae=0;else{switch(Ke.Oc|=1<<ft,st.hc=ft,st.Ea=Ee[0],st.nc=He[0],st.K=[null],++Ke.ab,e(4>=Ke.ab),ft){case 0:case 1:st.b=ee(Xe,3)+2,lt=Ue(dt(st.Ea,st.b),dt(st.nc,st.b),0,Ke,st.K),st.K=st.K[0];break;case 3:var Lt,_t=ee(Xe,8)+1,nr=16<_t?0:4<_t?1:2<_t?2:3;if(Ee[0]=dt(st.Ea,nr),st.b=nr,Lt=lt=Ue(_t,1,0,Ke,st.K)){var Ht,Pr=_t,Kt=st,Qr=1<<(8>>Kt.b),Qn=a(Qr);if(Qn==null)Lt=0;else{var jr=Kt.K[0],qt=Kt.w;for(Qn[0]=Kt.K[0][0],Ht=1;Ht<1*Pr;++Ht)Qn[Ht]=Vt(jr[qt+Ht],Qn[Ht-1]);for(;Ht<4*Qr;++Ht)Qn[Ht]=0;Kt.K[0]=null,Kt.K[0]=Qn,Lt=1}}lt=Lt;break;case 2:break;default:e(0)}ae=lt}}if(ce=ce[0],ge=ge[0],ae&&ee(ye,1)&&!(ae=1<=(Je=ee(ye,4))&&11>=Je)){z.a=3;break e}var Rt;if(Rt=ae)t:{var di,Sr,zr,An=z,sa=ce,Ra=ge,Vn=Je,Ui=D,Ha=An.m,zi=An.s,$r=[null],gn=1,pi=0,yn=We[Vn];r:for(;;){if(Ui&&ee(Ha,1)){var oa=ee(Ha,3)+2,mi=dt(sa,oa),vn=dt(Ra,oa),Di=mi*vn;if(!Ue(mi,vn,0,An,$r))break r;for($r=$r[0],zi.xc=oa,di=0;di<Di;++di){var Ln=$r[di]>>8&65535;$r[di]=Ln,Ln>=gn&&(gn=Ln+1)}}if(Ha.h)break r;for(Sr=0;5>Sr;++Sr){var Gi=M[Sr];!Sr&&0<Vn&&(Gi+=1<<Vn),pi<Gi&&(pi=Gi)}var Hi=s(gn*yn,ue),In=gn,fn=s(In,xe);if(fn==null)var qa=null;else e(65536>=In),qa=fn;var Si=a(pi);if(qa==null||Si==null||Hi==null){An.a=1;break r}var mr=Hi;for(di=zr=0;di<gn;++di){var gr=qa[di],_n=gr.G,Cs=gr.H,po=0,ls=1,qi=0;for(Sr=0;5>Sr;++Sr){Gi=M[Sr],_n[Sr]=mr,Cs[Sr]=zr,!Sr&&0<Vn&&(Gi+=1<<Vn);i:{var yu,xu=Gi,af=An,$n=Si,Ad=mr,Ld=zr,sf=0,Dl=af.m,w1=ee(Dl,1);if(i($n,0,0,xu),w1){var Nd=ee(Dl,1)+1,Cd=ee(Dl,1),of=ee(Dl,Cd==0?1:8);$n[of]=1,Nd==2&&($n[of=ee(Dl,8)]=1);var ma=1}else{var Ei=a(19),mh=ee(Dl,4)+4;if(19<mh){af.a=3;var wu=0;break i}for(yu=0;yu<mh;++yu)Ei[se[yu]]=ee(Dl,3);var Ac=void 0,Vu=void 0,cl=af,lf=Ei,Lc=xu,uf=$n,cf=0,jl=cl.m,Md=8,kd=s(128,ue);n:for(;W(kd,0,7,lf,19);){if(ee(jl,1)){var Pp=2+2*ee(jl,3);if((Ac=2+ee(jl,Pp))>Lc)break n}else Ac=Lc;for(Vu=0;Vu<Lc&&Ac--;){Ae(jl);var Pd=kd[0+(127&q(jl))];oe(jl,jl.u+Pd.g);var bu=Pd.value;if(16>bu)uf[Vu++]=bu,bu!=0&&(Md=bu);else{var Op=bu==16,Rp=bu-16,Dp=b[Rp],Od=ee(jl,m[Rp])+Dp;if(Vu+Od>Lc)break n;for(var jp=Op?Md:0;0<Od--;)uf[Vu++]=jp}}cf=1;break n}cf||(cl.a=3),ma=cf}(ma=ma&&!Dl.h)&&(sf=W(Ad,Ld,8,$n,xu)),ma&&sf!=0?wu=sf:(af.a=3,wu=0)}if(wu==0)break r;if(ls&&G[Sr]==1&&(ls=mr[zr].g==0),po+=mr[zr].g,zr+=wu,3>=Sr){var $u,hf=Si[0];for($u=1;$u<Gi;++$u)Si[$u]>hf&&(hf=Si[$u]);qi+=hf}}if(gr.nd=ls,gr.Qb=0,ls&&(gr.qb=(_n[3][Cs[3]+0].value<<24|_n[1][Cs[1]+0].value<<16|_n[2][Cs[2]+0].value)>>>0,po==0&&256>_n[0][Cs[0]+0].value&&(gr.Qb=1,gr.qb+=_n[0][Cs[0]+0].value<<8)),gr.jc=!gr.Qb&&6>qi,gr.jc){var gh,hl=gr;for(gh=0;gh<$s;++gh){var Il=gh,Fl=hl.pd[Il],ff=hl.G[0][hl.H[0]+Il];256<=ff.value?(Fl.g=ff.g+256,Fl.value=ff.value):(Fl.g=0,Fl.value=0,Il>>=Ye(ff,8,Fl),Il>>=Ye(hl.G[1][hl.H[1]+Il],16,Fl),Il>>=Ye(hl.G[2][hl.H[2]+Il],0,Fl),Ye(hl.G[3][hl.H[3]+Il],24,Fl))}}}zi.vc=$r,zi.Wb=gn,zi.Ya=qa,zi.yc=Hi,Rt=1;break t}Rt=0}if(!(ae=Rt)){z.a=3;break e}if(0<Je){if(Te.ua=1<<Je,!we(Te.Wa,Je)){z.a=1,ae=0;break e}}else Te.ua=0;var df=z,Wu=ce,Ip=ge,Nc=df.s,Cc=Nc.xc;if(df.c=Wu,df.i=Ip,Nc.md=dt(Wu,Cc),Nc.wc=Cc==0?-1:(1<<Cc)-1,D){z.xb=ul;break e}if((je=a(ce*ge))==null){z.a=1,ae=0;break e}ae=(ae=Pe(z,je,0,ce,ge,ge,null))&&!ye.h;break e}return ae?(te!=null?te[0]=je:(e(je==null),e(D)),z.$=0,D||ze(Te)):ze(Te),ae}function $e(w,A){var D=w.c*w.i,z=D+A+16*A;return e(w.c<=A),w.V=a(z),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+D+A,1)}function ht(w,A){var D=w.C,z=A-D,te=w.V,ae=w.Ba+w.c*D;for(e(A<=w.l.o);0<z;){var ce=16<z?16:z,ge=w.l.ma,ye=w.l.width,Te=ye*ce,je=ge.ca,Je=ge.tb+ye*D,Ee=w.Ta,He=w.Ua;me(w,ce,te,ae),as(Ee,He,je,Je,Te),he(ge,D,D+ce,je,Je,ye),z-=ce,te+=ce*w.c,D+=ce}e(D==A),w.C=w.Ma=A}function bt(){this.ub=this.yd=this.td=this.Rb=0}function wt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Mt(){this.Yb=(function(){var w=[];return(function A(D,z,te){for(var ae=te[z],ce=0;ce<ae&&(D.push(te.length>z+1?[]:0),!(te.length<z+1));ce++)A(D[ce],z+1,te)})(w,0,[3,11]),w})()}function Bt(){this.jb=a(3),this.Wc=l([4,8],Mt),this.Xc=l([4,17],Mt)}function Hr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function wr(){this.ld=this.La=this.dd=this.tc=0}function nn(){this.Na=this.la=0}function Kn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xn(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qi(){this.uc=this.M=this.Nb=0,this.wa=Array(new wr),this.Y=0,this.ya=Array(new Xn),this.aa=0,this.l=new qr}function Ci(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ar(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new bt,this.Kc=new wt,this.ed=new Hr,this.Qa=new gt,this.Ic=this.$c=this.Aa=0,this.D=new Qi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,P),this.ia=0,this.pb=s(4,Kn),this.Pa=new Bt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ci),this.Hd=0,this.rb=Array(new nn),this.sb=0,this.wa=Array(new wr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xn),this.L=this.aa=0,this.gd=l([4,2],wr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ut(w,A){return 0>w?0:w>A?A:w}function qr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ri(){var w=new Ar;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,tr||(tr=yr)),w}function ar(w,A,D){return w.a==0&&(w.a=A,w.sc=D,w.cb=0),0}function Sa(w,A,D){return 3<=D&&w[A+0]==157&&w[A+1]==1&&w[A+2]==42}function Ea(w,A){if(w==null)return 0;if(w.a=0,w.sc="OK",A==null)return ar(w,2,"null VP8Io passed to VP8GetHeaders()");var D=A.data,z=A.w,te=A.ha;if(4>te)return ar(w,7,"Truncated header.");var ae=D[z+0]|D[z+1]<<8|D[z+2]<<16,ce=w.Od;if(ce.Rb=!(1&ae),ce.td=ae>>1&7,ce.yd=ae>>4&1,ce.ub=ae>>5,3<ce.td)return ar(w,3,"Incorrect keyframe parameters.");if(!ce.yd)return ar(w,4,"Frame not displayable.");z+=3,te-=3;var ge=w.Kc;if(ce.Rb){if(7>te)return ar(w,7,"cannot parse picture header");if(!Sa(D,z,te))return ar(w,3,"Bad code word");ge.c=16383&(D[z+4]<<8|D[z+3]),ge.Td=D[z+4]>>6,ge.i=16383&(D[z+6]<<8|D[z+5]),ge.Ud=D[z+6]>>6,z+=7,te-=7,w.za=ge.c+15>>4,w.Ub=ge.i+15>>4,A.width=ge.c,A.height=ge.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,i((ae=w.Pa).jb,0,255,ae.jb.length),e((ae=w.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,i(ae.Zb,0,0,ae.Zb.length),i(ae.Lb,0,0,ae.Lb)}if(ce.ub>te)return ar(w,7,"bad partition length");le(ae=w.m,D,z,ce.ub),z+=ce.ub,te-=ce.ub,ce.Rb&&(ge.Ld=Re(ae),ge.Kd=Re(ae)),ge=w.Qa;var ye,Te=w.Pa;if(e(ae!=null),e(ge!=null),ge.Cb=Re(ae),ge.Cb){if(ge.Bb=Re(ae),Re(ae)){for(ge.Fb=Re(ae),ye=0;4>ye;++ye)ge.Zb[ye]=Re(ae)?_e(ae,7):0;for(ye=0;4>ye;++ye)ge.Lb[ye]=Re(ae)?_e(ae,6):0}if(ge.Bb)for(ye=0;3>ye;++ye)Te.jb[ye]=Re(ae)?be(ae,8):255}else ge.Bb=0;if(ae.Ka)return ar(w,3,"cannot parse segment header");if((ge=w.ed).zd=Re(ae),ge.Tb=be(ae,6),ge.wb=be(ae,3),ge.Pc=Re(ae),ge.Pc&&Re(ae)){for(Te=0;4>Te;++Te)Re(ae)&&(ge.vd[Te]=_e(ae,6));for(Te=0;4>Te;++Te)Re(ae)&&(ge.od[Te]=_e(ae,6))}if(w.L=ge.Tb==0?0:ge.zd?1:2,ae.Ka)return ar(w,3,"cannot parse filter header");var je=te;if(te=ye=z,z=ye+je,ge=je,w.Xb=(1<<be(w.m,2))-1,je<3*(Te=w.Xb))D=7;else{for(ye+=3*Te,ge-=3*Te,je=0;je<Te;++je){var Je=D[te+0]|D[te+1]<<8|D[te+2]<<16;Je>ge&&(Je=ge),le(w.Jc[+je],D,ye,Je),ye+=Je,ge-=Je,te+=3}le(w.Jc[+Te],D,ye,ge),D=ye<z?0:5}if(D!=0)return ar(w,D,"cannot parse partitions");for(D=be(ye=w.m,7),te=Re(ye)?_e(ye,4):0,z=Re(ye)?_e(ye,4):0,ge=Re(ye)?_e(ye,4):0,Te=Re(ye)?_e(ye,4):0,ye=Re(ye)?_e(ye,4):0,je=w.Qa,Je=0;4>Je;++Je){if(je.Cb){var Ee=je.Zb[Je];je.Fb||(Ee+=D)}else{if(0<Je){w.pb[Je]=w.pb[0];continue}Ee=D}var He=w.pb[Je];He.Sc[0]=pt[Ut(Ee+te,127)],He.Sc[1]=kt[Ut(Ee+0,127)],He.Eb[0]=2*pt[Ut(Ee+z,127)],He.Eb[1]=101581*kt[Ut(Ee+ge,127)]>>16,8>He.Eb[1]&&(He.Eb[1]=8),He.Qc[0]=pt[Ut(Ee+Te,117)],He.Qc[1]=kt[Ut(Ee+ye,127)],He.lc=Ee+ye}if(!ce.Rb)return ar(w,4,"Not a key frame.");for(Re(ae),ce=w.Pa,D=0;4>D;++D){for(te=0;8>te;++te)for(z=0;3>z;++z)for(ge=0;11>ge;++ge)Te=Ie(ae,mn[D][te][z][ge])?be(ae,8):os[D][te][z][ge],ce.Wc[D][te].Yb[z][ge]=Te;for(te=0;17>te;++te)ce.Xc[D][te]=ce.Wc[D][Zr[te]]}return w.kc=Re(ae),w.kc&&(w.Bd=be(ae,8)),w.cb=1}function yr(w,A,D,z,te,ae,ce){var ge=A[te].Yb[D];for(D=0;16>te;++te){if(!Ie(w,ge[D+0]))return te;for(;!Ie(w,ge[D+1]);)if(ge=A[++te].Yb[0],D=0,te==16)return 16;var ye=A[te+1].Yb;if(Ie(w,ge[D+2])){var Te=w,je=0;if(Ie(Te,(Ee=ge)[(Je=D)+3]))if(Ie(Te,Ee[Je+6])){for(ge=0,Je=2*(je=Ie(Te,Ee[Je+8]))+(Ee=Ie(Te,Ee[Je+9+je])),je=0,Ee=Ur[Je];Ee[ge];++ge)je+=je+Ie(Te,Ee[ge]);je+=3+(8<<Je)}else Ie(Te,Ee[Je+7])?(je=7+2*Ie(Te,165),je+=Ie(Te,145)):je=5+Ie(Te,159);else je=Ie(Te,Ee[Je+4])?3+Ie(Te,Ee[Je+5]):2;ge=ye[2]}else je=1,ge=ye[1];ye=ce+aa[te],0>(Te=w).b&&Oe(Te);var Je,Ee=Te.b,He=(Je=Te.Ca>>1)-(Te.I>>Ee)>>31;--Te.b,Te.Ca+=He,Te.Ca|=1,Te.I-=(Je+1&He)<<Ee,ae[ye]=((je^He)-He)*z[(0<te)+0]}return 16}function Dn(w){var A=w.rb[w.sb-1];A.la=0,A.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function ea(w,A,D,z,te){te=w[A+D+32*z]+(te>>3),w[A+D+32*z]=-256&te?0>te?0:255:te}function ni(w,A,D,z,te,ae){ea(w,A,0,D,z+te),ea(w,A,1,D,z+ae),ea(w,A,2,D,z-ae),ea(w,A,3,D,z-te)}function cn(w){return(20091*w>>16)+w}function ru(w,A,D,z){var te,ae=0,ce=a(16);for(te=0;4>te;++te){var ge=w[A+0]+w[A+8],ye=w[A+0]-w[A+8],Te=(35468*w[A+4]>>16)-cn(w[A+12]),je=cn(w[A+4])+(35468*w[A+12]>>16);ce[ae+0]=ge+je,ce[ae+1]=ye+Te,ce[ae+2]=ye-Te,ce[ae+3]=ge-je,ae+=4,A++}for(te=ae=0;4>te;++te)ge=(w=ce[ae+0]+4)+ce[ae+8],ye=w-ce[ae+8],Te=(35468*ce[ae+4]>>16)-cn(ce[ae+12]),ea(D,z,0,0,ge+(je=cn(ce[ae+4])+(35468*ce[ae+12]>>16))),ea(D,z,1,0,ye+Te),ea(D,z,2,0,ye-Te),ea(D,z,3,0,ge-je),ae++,z+=32}function Tl(w,A,D,z){var te=w[A+0]+4,ae=35468*w[A+4]>>16,ce=cn(w[A+4]),ge=35468*w[A+1]>>16;ni(D,z,0,te+ce,w=cn(w[A+1]),ge),ni(D,z,1,te+ae,w,ge),ni(D,z,2,te-ae,w,ge),ni(D,z,3,te-ce,w,ge)}function Us(w,A,D,z,te){ru(w,A,D,z),te&&ru(w,A+16,D,z+4)}function Kr(w,A,D,z){lo(w,A+0,D,z,1),lo(w,A+32,D,z+128,1)}function zs(w,A,D,z){var te;for(w=w[A+0]+4,te=0;4>te;++te)for(A=0;4>A;++A)ea(D,z,A,te,w)}function No(w,A,D,z){w[A+0]&&hn(w,A+0,D,z),w[A+16]&&hn(w,A+16,D,z+4),w[A+32]&&hn(w,A+32,D,z+128),w[A+48]&&hn(w,A+48,D,z+128+4)}function Ta(w,A,D,z){var te,ae=a(16);for(te=0;4>te;++te){var ce=w[A+0+te]+w[A+12+te],ge=w[A+4+te]+w[A+8+te],ye=w[A+4+te]-w[A+8+te],Te=w[A+0+te]-w[A+12+te];ae[0+te]=ce+ge,ae[8+te]=ce-ge,ae[4+te]=Te+ye,ae[12+te]=Te-ye}for(te=0;4>te;++te)ce=(w=ae[0+4*te]+3)+ae[3+4*te],ge=ae[1+4*te]+ae[2+4*te],ye=ae[1+4*te]-ae[2+4*te],Te=w-ae[3+4*te],D[z+0]=ce+ge>>3,D[z+16]=Te+ye>>3,D[z+32]=ce-ge>>3,D[z+48]=Te-ye>>3,z+=64}function Co(w,A,D){var z,te=A-32,ae=na,ce=255-w[te-1];for(z=0;z<D;++z){var ge,ye=ae,Te=ce+w[A-1];for(ge=0;ge<D;++ge)w[A+ge]=ye[Te+w[te+ge]];A+=32}}function tl(w,A){Co(w,A,4)}function nu(w,A){Co(w,A,8)}function Al(w,A){Co(w,A,16)}function rl(w,A){var D;for(D=0;16>D;++D)n(w,A+32*D,w,A-32,16)}function iu(w,A){var D;for(D=16;0<D;--D)i(w,A,w[A-1],16),A+=32}function fa(w,A,D){var z;for(z=0;16>z;++z)i(A,D+32*z,w,16)}function Ba(w,A){var D,z=16;for(D=0;16>D;++D)z+=w[A-1+32*D]+w[A+D-32];fa(z>>5,w,A)}function eo(w,A){var D,z=8;for(D=0;16>D;++D)z+=w[A-1+32*D];fa(z>>4,w,A)}function Mo(w,A){var D,z=8;for(D=0;16>D;++D)z+=w[A+D-32];fa(z>>4,w,A)}function nl(w,A){fa(128,w,A)}function Ct(w,A,D){return w+2*A+D+2>>2}function Xa(w,A){var D,z=A-32;for(z=new Uint8Array([Ct(w[z-1],w[z+0],w[z+1]),Ct(w[z+0],w[z+1],w[z+2]),Ct(w[z+1],w[z+2],w[z+3]),Ct(w[z+2],w[z+3],w[z+4])]),D=0;4>D;++D)n(w,A+32*D,z,0,z.length)}function dn(w,A){var D=w[A-1],z=w[A-1+32],te=w[A-1+64],ae=w[A-1+96];ot(w,A+0,16843009*Ct(w[A-1-32],D,z)),ot(w,A+32,16843009*Ct(D,z,te)),ot(w,A+64,16843009*Ct(z,te,ae)),ot(w,A+96,16843009*Ct(te,ae,ae))}function Iu(w,A){var D,z=4;for(D=0;4>D;++D)z+=w[A+D-32]+w[A-1+32*D];for(z>>=3,D=0;4>D;++D)i(w,A+32*D,z,4)}function Aa(w,A){var D=w[A-1+0],z=w[A-1+32],te=w[A-1+64],ae=w[A-1-32],ce=w[A+0-32],ge=w[A+1-32],ye=w[A+2-32],Te=w[A+3-32];w[A+0+96]=Ct(z,te,w[A-1+96]),w[A+1+96]=w[A+0+64]=Ct(D,z,te),w[A+2+96]=w[A+1+64]=w[A+0+32]=Ct(ae,D,z),w[A+3+96]=w[A+2+64]=w[A+1+32]=w[A+0+0]=Ct(ce,ae,D),w[A+3+64]=w[A+2+32]=w[A+1+0]=Ct(ge,ce,ae),w[A+3+32]=w[A+2+0]=Ct(ye,ge,ce),w[A+3+0]=Ct(Te,ye,ge)}function Mi(w,A){var D=w[A+1-32],z=w[A+2-32],te=w[A+3-32],ae=w[A+4-32],ce=w[A+5-32],ge=w[A+6-32],ye=w[A+7-32];w[A+0+0]=Ct(w[A+0-32],D,z),w[A+1+0]=w[A+0+32]=Ct(D,z,te),w[A+2+0]=w[A+1+32]=w[A+0+64]=Ct(z,te,ae),w[A+3+0]=w[A+2+32]=w[A+1+64]=w[A+0+96]=Ct(te,ae,ce),w[A+3+32]=w[A+2+64]=w[A+1+96]=Ct(ae,ce,ge),w[A+3+64]=w[A+2+96]=Ct(ce,ge,ye),w[A+3+96]=Ct(ge,ye,ye)}function Ll(w,A){var D=w[A-1+0],z=w[A-1+32],te=w[A-1+64],ae=w[A-1-32],ce=w[A+0-32],ge=w[A+1-32],ye=w[A+2-32],Te=w[A+3-32];w[A+0+0]=w[A+1+64]=ae+ce+1>>1,w[A+1+0]=w[A+2+64]=ce+ge+1>>1,w[A+2+0]=w[A+3+64]=ge+ye+1>>1,w[A+3+0]=ye+Te+1>>1,w[A+0+96]=Ct(te,z,D),w[A+0+64]=Ct(z,D,ae),w[A+0+32]=w[A+1+96]=Ct(D,ae,ce),w[A+1+32]=w[A+2+96]=Ct(ae,ce,ge),w[A+2+32]=w[A+3+96]=Ct(ce,ge,ye),w[A+3+32]=Ct(ge,ye,Te)}function Ja(w,A){var D=w[A+0-32],z=w[A+1-32],te=w[A+2-32],ae=w[A+3-32],ce=w[A+4-32],ge=w[A+5-32],ye=w[A+6-32],Te=w[A+7-32];w[A+0+0]=D+z+1>>1,w[A+1+0]=w[A+0+64]=z+te+1>>1,w[A+2+0]=w[A+1+64]=te+ae+1>>1,w[A+3+0]=w[A+2+64]=ae+ce+1>>1,w[A+0+32]=Ct(D,z,te),w[A+1+32]=w[A+0+96]=Ct(z,te,ae),w[A+2+32]=w[A+1+96]=Ct(te,ae,ce),w[A+3+32]=w[A+2+96]=Ct(ae,ce,ge),w[A+3+64]=Ct(ce,ge,ye),w[A+3+96]=Ct(ge,ye,Te)}function La(w,A){var D=w[A-1+0],z=w[A-1+32],te=w[A-1+64],ae=w[A-1+96];w[A+0+0]=D+z+1>>1,w[A+2+0]=w[A+0+32]=z+te+1>>1,w[A+2+32]=w[A+0+64]=te+ae+1>>1,w[A+1+0]=Ct(D,z,te),w[A+3+0]=w[A+1+32]=Ct(z,te,ae),w[A+3+32]=w[A+1+64]=Ct(te,ae,ae),w[A+3+64]=w[A+2+64]=w[A+0+96]=w[A+1+96]=w[A+2+96]=w[A+3+96]=ae}function Gs(w,A){var D=w[A-1+0],z=w[A-1+32],te=w[A-1+64],ae=w[A-1+96],ce=w[A-1-32],ge=w[A+0-32],ye=w[A+1-32],Te=w[A+2-32];w[A+0+0]=w[A+2+32]=D+ce+1>>1,w[A+0+32]=w[A+2+64]=z+D+1>>1,w[A+0+64]=w[A+2+96]=te+z+1>>1,w[A+0+96]=ae+te+1>>1,w[A+3+0]=Ct(ge,ye,Te),w[A+2+0]=Ct(ce,ge,ye),w[A+1+0]=w[A+3+32]=Ct(D,ce,ge),w[A+1+32]=w[A+3+64]=Ct(z,D,ce),w[A+1+64]=w[A+3+96]=Ct(te,z,D),w[A+1+96]=Ct(ae,te,z)}function Mn(w,A){var D;for(D=0;8>D;++D)n(w,A+32*D,w,A-32,8)}function to(w,A){var D;for(D=0;8>D;++D)i(w,A,w[A-1],8),A+=32}function Qa(w,A,D){var z;for(z=0;8>z;++z)i(A,D+32*z,w,8)}function Nl(w,A){var D,z=8;for(D=0;8>D;++D)z+=w[A+D-32]+w[A-1+32*D];Qa(z>>4,w,A)}function au(w,A){var D,z=4;for(D=0;8>D;++D)z+=w[A+D-32];Qa(z>>3,w,A)}function ki(w,A){var D,z=4;for(D=0;8>D;++D)z+=w[A-1+32*D];Qa(z>>3,w,A)}function xs(w,A){Qa(128,w,A)}function ws(w,A,D){var z=w[A-D],te=w[A+0],ae=3*(te-z)+Ls[1020+w[A-2*D]-w[A+D]],ce=Uo[112+(ae+4>>3)];w[A-D]=na[255+z+Uo[112+(ae+3>>3)]],w[A+0]=na[255+te-ce]}function ro(w,A,D,z){var te=w[A+0],ae=w[A+D];return Bi[255+w[A-2*D]-w[A-D]]>z||Bi[255+ae-te]>z}function Br(w,A,D,z){return 4*Bi[255+w[A-D]-w[A+0]]+Bi[255+w[A-2*D]-w[A+D]]<=z}function Cl(w,A,D,z,te){var ae=w[A-3*D],ce=w[A-2*D],ge=w[A-D],ye=w[A+0],Te=w[A+D],je=w[A+2*D],Je=w[A+3*D];return 4*Bi[255+ge-ye]+Bi[255+ce-Te]>z?0:Bi[255+w[A-4*D]-ae]<=te&&Bi[255+ae-ce]<=te&&Bi[255+ce-ge]<=te&&Bi[255+Je-je]<=te&&Bi[255+je-Te]<=te&&Bi[255+Te-ye]<=te}function Pi(w,A,D,z){var te=2*z+1;for(z=0;16>z;++z)Br(w,A+z,D,te)&&ws(w,A+z,D)}function es(w,A,D,z){var te=2*z+1;for(z=0;16>z;++z)Br(w,A+z*D,1,te)&&ws(w,A+z*D,1)}function il(w,A,D,z){var te;for(te=3;0<te;--te)Pi(w,A+=4*D,D,z)}function Fu(w,A,D,z){var te;for(te=3;0<te;--te)es(w,A+=4,D,z)}function Hs(w,A,D,z,te,ae,ce,ge){for(ae=2*ae+1;0<te--;){if(Cl(w,A,D,ae,ce))if(ro(w,A,D,ge))ws(w,A,D);else{var ye=w,Te=A,je=D,Je=ye[Te-2*je],Ee=ye[Te-je],He=ye[Te+0],Ke=ye[Te+je],lt=ye[Te+2*je],Xe=27*(ft=Ls[1020+3*(He-Ee)+Ls[1020+Je-Ke]])+63>>7,st=18*ft+63>>7,ft=9*ft+63>>7;ye[Te-3*je]=na[255+ye[Te-3*je]+ft],ye[Te-2*je]=na[255+Je+st],ye[Te-je]=na[255+Ee+Xe],ye[Te+0]=na[255+He-Xe],ye[Te+je]=na[255+Ke-st],ye[Te+2*je]=na[255+lt-ft]}A+=z}}function ko(w,A,D,z,te,ae,ce,ge){for(ae=2*ae+1;0<te--;){if(Cl(w,A,D,ae,ce))if(ro(w,A,D,ge))ws(w,A,D);else{var ye=w,Te=A,je=D,Je=ye[Te-je],Ee=ye[Te+0],He=ye[Te+je],Ke=Uo[112+(4+(lt=3*(Ee-Je))>>3)],lt=Uo[112+(lt+3>>3)],Xe=Ke+1>>1;ye[Te-2*je]=na[255+ye[Te-2*je]+Xe],ye[Te-je]=na[255+Je+lt],ye[Te+0]=na[255+Ee-Ke],ye[Te+je]=na[255+He-Xe]}A+=z}}function Bu(w,A,D,z,te,ae){Hs(w,A,D,1,16,z,te,ae)}function Po(w,A,D,z,te,ae){Hs(w,A,1,D,16,z,te,ae)}function xc(w,A,D,z,te,ae){var ce;for(ce=3;0<ce;--ce)ko(w,A+=4*D,D,1,16,z,te,ae)}function k(w,A,D,z,te,ae){var ce;for(ce=3;0<ce;--ce)ko(w,A+=4,1,D,16,z,te,ae)}function Q(w,A,D,z,te,ae,ce,ge){Hs(w,A,te,1,8,ae,ce,ge),Hs(D,z,te,1,8,ae,ce,ge)}function Se(w,A,D,z,te,ae,ce,ge){Hs(w,A,1,te,8,ae,ce,ge),Hs(D,z,1,te,8,ae,ce,ge)}function De(w,A,D,z,te,ae,ce,ge){ko(w,A+4*te,te,1,8,ae,ce,ge),ko(D,z+4*te,te,1,8,ae,ce,ge)}function Ve(w,A,D,z,te,ae,ce,ge){ko(w,A+4,1,te,8,ae,ce,ge),ko(D,z+4,1,te,8,ae,ce,ge)}function at(){this.ba=new xr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function St(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function er(){this.ua=0,this.Wa=new xt,this.vb=new xt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new ue}function br(){this.xb=this.a=0,this.l=new qr,this.ca=new xr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new er,this.ab=0,this.gc=s(4,$t),this.Oc=0}function kr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xr(w,A,D,z,te,ae,ce){for(w=w==null?0:w[A+0],A=0;A<ce;++A)te[ae+A]=w+D[z+A]&255,w=te[ae+A]}function Jn(w,A,D,z,te,ae,ce){var ge;if(w==null)Xr(null,null,D,z,te,ae,ce);else for(ge=0;ge<ce;++ge)te[ae+ge]=w[A+ge]+D[z+ge]&255}function ui(w,A,D,z,te,ae,ce){if(w==null)Xr(null,null,D,z,te,ae,ce);else{var ge,ye=w[A+0],Te=ye,je=ye;for(ge=0;ge<ce;++ge)Te=je+(ye=w[A+ge])-Te,je=D[z+ge]+(-256&Te?0>Te?0:255:Te)&255,Te=ye,te[ae+ge]=je}}function wn(w,A,D,z){var te=A.width,ae=A.o;if(e(w!=null&&A!=null),0>D||0>=z||D+z>ae)return null;if(!w.Cc){if(w.ga==null){var ce;if(w.ga=new kr,(ce=w.ga==null)||(ce=A.width*A.o,e(w.Gb.length==0),w.Gb=a(ce),w.Uc=0,w.Gb==null?ce=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ce=1),ce=!ce),!ce){ce=w.ga;var ge=w.Fa,ye=w.P,Te=w.qc,je=w.mb,Je=w.nb,Ee=ye+1,He=Te-1,Ke=ce.l;if(e(ge!=null&&je!=null&&A!=null),bn[0]=null,bn[1]=Xr,bn[2]=Jn,bn[3]=ui,ce.ca=je,ce.tb=Je,ce.c=A.width,ce.i=A.height,e(0<ce.c&&0<ce.i),1>=Te)A=0;else if(ce.$a=3&ge[ye+0],ce.Z=ge[ye+0]>>2&3,ce.Lc=ge[ye+0]>>4&3,ye=ge[ye+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||ye)A=0;else if(Ke.put=Qt,Ke.ac=Ni,Ke.bc=Ka,Ke.ma=ce,Ke.width=A.width,Ke.height=A.height,Ke.Da=A.Da,Ke.v=A.v,Ke.va=A.va,Ke.j=A.j,Ke.o=A.o,ce.$a)e:{e(ce.$a==1),A=Be();t:for(;;){if(A==null){A=0;break e}if(e(ce!=null),ce.mc=A,A.c=ce.c,A.i=ce.i,A.l=ce.l,A.l.ma=ce,A.l.width=ce.c,A.l.height=ce.i,A.a=0,Le(A.m,ge,Ee,He),!Ue(ce.c,ce.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&ie(A.s)?(ce.ic=1,ge=A.c*A.i,A.Ta=null,A.Ua=0,A.V=a(ge),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(ce.ic=0,A=$e(A,ce.c)),!A))break t;A=1;break e}ce.mc=null,A=0}else A=He>=ce.c*ce.i;ce=!A}if(ce)return null;w.ga.Lc!=1?w.Ga=0:z=ae-D}e(w.ga!=null),e(D+z<=ae);e:{if(A=(ge=w.ga).c,ae=ge.l.o,ge.$a==0){if(Ee=w.rc,He=w.Vc,Ke=w.Fa,ye=w.P+1+D*A,Te=w.mb,je=w.nb+D*A,e(ye<=w.P+w.qc),ge.Z!=0)for(e(bn[ge.Z]!=null),ce=0;ce<z;++ce)bn[ge.Z](Ee,He,Ke,ye,Te,je,A),Ee=Te,He=je,je+=A,ye+=A;else for(ce=0;ce<z;++ce)n(Te,je,Ke,ye,A),Ee=Te,He=je,je+=A,ye+=A;w.rc=Ee,w.Vc=He}else{if(e(ge.mc!=null),A=D+z,e((ce=ge.mc)!=null),e(A<=ce.i),ce.C>=A)A=1;else if(ge.ic||ta(),ge.ic){ge=ce.V,Ee=ce.Ba,He=ce.c;var lt=ce.i,Xe=(Ke=1,ye=ce.$/He,Te=ce.$%He,je=ce.m,Je=ce.s,ce.$),st=He*lt,ft=He*A,Lt=Je.wc,_t=Xe<ft?Y(Je,Te,ye):null;e(Xe<=st),e(A<=lt),e(ie(Je));t:for(;;){for(;!je.h&&Xe<ft;){if(Te&Lt||(_t=Y(Je,Te,ye)),e(_t!=null),Ae(je),256>(lt=qe(_t.G[0],_t.H[0],je)))ge[Ee+Xe]=lt,++Xe,++Te>=He&&(Te=0,++ye<=A&&!(ye%16)&&ve(ce,ye));else{if(!(280>lt)){Ke=0;break t}lt=Ce(lt-256,je);var nr,Ht=qe(_t.G[4],_t.H[4],je);if(Ae(je),!(Xe>=(Ht=Ge(He,Ht=Ce(Ht,je)))&&st-Xe>=lt)){Ke=0;break t}for(nr=0;nr<lt;++nr)ge[Ee+Xe+nr]=ge[Ee+Xe+nr-Ht];for(Xe+=lt,Te+=lt;Te>=He;)Te-=He,++ye<=A&&!(ye%16)&&ve(ce,ye);Xe<ft&&Te&Lt&&(_t=Y(Je,Te,ye))}e(je.h==Z(je))}ve(ce,ye>A?A:ye);break t}!Ke||je.h&&Xe<st?(Ke=0,ce.a=je.h?5:3):ce.$=Xe,A=Ke}else A=Pe(ce,ce.V,ce.Ba,ce.c,ce.i,A,ht);if(!A){z=0;break e}}D+z>=ae&&(w.Cc=1),z=1}if(!z)return null;if(w.Cc&&((z=w.ga)!=null&&(z.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+D*te}function Oi(w,A,D,z,te,ae){for(;0<te--;){var ce,ge=w,ye=A+(D?1:0),Te=w,je=A+(D?0:3);for(ce=0;ce<z;++ce){var Je=Te[je+4*ce];Je!=255&&(Je*=32897,ge[ye+4*ce+0]=ge[ye+4*ce+0]*Je>>23,ge[ye+4*ce+1]=ge[ye+4*ce+1]*Je>>23,ge[ye+4*ce+2]=ge[ye+4*ce+2]*Je>>23)}A+=ae}}function ci(w,A,D,z,te){for(;0<z--;){var ae;for(ae=0;ae<D;++ae){var ce=w[A+2*ae+0],ge=15&(Te=w[A+2*ae+1]),ye=4369*ge,Te=(240&Te|Te>>4)*ye>>16;w[A+2*ae+0]=(240&ce|ce>>4)*ye>>16&240|(15&ce|ce<<4)*ye>>16>>4&15,w[A+2*ae+1]=240&Te|ge}A+=te}}function Ii(w,A,D,z,te,ae,ce,ge){var ye,Te,je=255;for(Te=0;Te<te;++Te){for(ye=0;ye<z;++ye){var Je=w[A+ye];ae[ce+4*ye]=Je,je&=Je}A+=D,ce+=ge}return je!=255}function bs(w,A,D,z,te){var ae;for(ae=0;ae<te;++ae)D[z+ae]=w[A+ae]>>8}function ta(){As=Oi,is=ci,uu=Ii,as=bs}function Oo(w,A,D){U[w]=function(z,te,ae,ce,ge,ye,Te,je,Je,Ee,He,Ke,lt,Xe,st,ft,Lt){var _t,nr=Lt-1>>1,Ht=ge[ye+0]|Te[je+0]<<16,Pr=Je[Ee+0]|He[Ke+0]<<16;e(z!=null);var Kt=3*Ht+Pr+131074>>2;for(A(z[te+0],255&Kt,Kt>>16,lt,Xe),ae!=null&&(Kt=3*Pr+Ht+131074>>2,A(ae[ce+0],255&Kt,Kt>>16,st,ft)),_t=1;_t<=nr;++_t){var Qr=ge[ye+_t]|Te[je+_t]<<16,Qn=Je[Ee+_t]|He[Ke+_t]<<16,jr=Ht+Qr+Pr+Qn+524296,qt=jr+2*(Qr+Pr)>>3;Kt=qt+Ht>>1,Ht=(jr=jr+2*(Ht+Qn)>>3)+Qr>>1,A(z[te+2*_t-1],255&Kt,Kt>>16,lt,Xe+(2*_t-1)*D),A(z[te+2*_t-0],255&Ht,Ht>>16,lt,Xe+(2*_t-0)*D),ae!=null&&(Kt=jr+Pr>>1,Ht=qt+Qn>>1,A(ae[ce+2*_t-1],255&Kt,Kt>>16,st,ft+(2*_t-1)*D),A(ae[ce+2*_t+0],255&Ht,Ht>>16,st,ft+(2*_t+0)*D)),Ht=Qr,Pr=Qn}1&Lt||(Kt=3*Ht+Pr+131074>>2,A(z[te+Lt-1],255&Kt,Kt>>16,lt,Xe+(Lt-1)*D),ae!=null&&(Kt=3*Pr+Ht+131074>>2,A(ae[ce+Lt-1],255&Kt,Kt>>16,st,ft+(Lt-1)*D)))}}function Ro(){bi[bc]=Rl,bi[ia]=pu,bi[Gu]=fh,bi[ss]=mu,bi[hu]=zo,bi[Ol]=ho,bi[ll]=gu,bi[fu]=pu,bi[Hu]=mu,bi[du]=zo,bi[h]=ho}function ra(w){return w&-16384?0>w?0:255:w>>tf}function qs(w,A){return ra((19077*w>>8)+(26149*A>>8)-14234)}function Ss(w,A,D){return ra((19077*w>>8)-(6419*A>>8)-(13320*D>>8)+8708)}function Ml(w,A){return ra((19077*w>>8)+(33050*A>>8)-17685)}function Vs(w,A,D,z,te){z[te+0]=qs(w,D),z[te+1]=Ss(w,A,D),z[te+2]=Ml(w,A)}function yi(w,A,D,z,te){z[te+0]=Ml(w,A),z[te+1]=Ss(w,A,D),z[te+2]=qs(w,D)}function al(w,A,D,z,te){var ae=Ss(w,A,D);A=ae<<3&224|Ml(w,A)>>3,z[te+0]=248&qs(w,D)|ae>>5,z[te+1]=A}function sl(w,A,D,z,te){var ae=240&Ml(w,A)|15;z[te+0]=240&qs(w,D)|Ss(w,A,D)>>4,z[te+1]=ae}function kl(w,A,D,z,te){z[te+0]=255,Vs(w,A,D,z,te+1)}function no(w,A,D,z,te){yi(w,A,D,z,te),z[te+3]=255}function jn(w,A,D,z,te){Vs(w,A,D,z,te),z[te+3]=255}function Ua(w,A,D){U[w]=function(z,te,ae,ce,ge,ye,Te,je,Je){for(var Ee=je+(-2&Je)*D;je!=Ee;)A(z[te+0],ae[ce+0],ge[ye+0],Te,je),A(z[te+1],ae[ce+0],ge[ye+0],Te,je+D),te+=2,++ce,++ye,je+=2*D;1&Je&&A(z[te+0],ae[ce+0],ge[ye+0],Te,je)}}function su(w,A,D){return D==0?w==0?A==0?6:5:A==0?4:0:D}function ts(w,A,D,z,te){switch(w>>>30){case 3:lo(A,D,z,te,0);break;case 2:pa(A,D,z,te);break;case 1:hn(A,D,z,te)}}function rs(w,A){var D,z,te=A.M,ae=A.Nb,ce=w.oc,ge=w.pc+40,ye=w.oc,Te=w.pc+584,je=w.oc,Je=w.pc+600;for(D=0;16>D;++D)ce[ge+32*D-1]=129;for(D=0;8>D;++D)ye[Te+32*D-1]=129,je[Je+32*D-1]=129;for(0<te?ce[ge-1-32]=ye[Te-1-32]=je[Je-1-32]=129:(i(ce,ge-32-1,127,21),i(ye,Te-32-1,127,9),i(je,Je-32-1,127,9)),z=0;z<w.za;++z){var Ee=A.ya[A.aa+z];if(0<z){for(D=-1;16>D;++D)n(ce,ge+32*D-4,ce,ge+32*D+12,4);for(D=-1;8>D;++D)n(ye,Te+32*D-4,ye,Te+32*D+4,4),n(je,Je+32*D-4,je,Je+32*D+4,4)}var He=w.Gd,Ke=w.Hd+z,lt=Ee.ad,Xe=Ee.Hc;if(0<te&&(n(ce,ge-32,He[Ke].y,0,16),n(ye,Te-32,He[Ke].f,0,8),n(je,Je-32,He[Ke].ea,0,8)),Ee.Za){var st=ce,ft=ge-32+16;for(0<te&&(z>=w.za-1?i(st,ft,He[Ke].y[15],4):n(st,ft,He[Ke+1].y,0,4)),D=0;4>D;D++)st[ft+128+D]=st[ft+256+D]=st[ft+384+D]=st[ft+0+D];for(D=0;16>D;++D,Xe<<=2)st=ce,ft=ge+Ri[D],si[Ee.Ob[D]](st,ft),ts(Xe,lt,16*+D,st,ft)}else if(st=su(z,te,Ee.Ob[0]),Pa[st](ce,ge),Xe!=0)for(D=0;16>D;++D,Xe<<=2)ts(Xe,lt,16*+D,ce,ge+Ri[D]);for(D=Ee.Gc,st=su(z,te,Ee.Dd),Ns[st](ye,Te),Ns[st](je,Je),Xe=lt,st=ye,ft=Te,255&(Ee=0|D)&&(170&Ee?Ma(Xe,256,st,ft):Jr(Xe,256,st,ft)),Ee=je,Xe=Je,255&(D>>=8)&&(170&D?Ma(lt,320,Ee,Xe):Jr(lt,320,Ee,Xe)),te<w.Ub-1&&(n(He[Ke].y,0,ce,ge+480,16),n(He[Ke].f,0,ye,Te+224,8),n(He[Ke].ea,0,je,Je+224,8)),D=8*ae*w.B,He=w.sa,Ke=w.ta+16*z+16*ae*w.R,lt=w.qa,Ee=w.ra+8*z+D,Xe=w.Ha,st=w.Ia+8*z+D,D=0;16>D;++D)n(He,Ke+D*w.R,ce,ge+32*D,16);for(D=0;8>D;++D)n(lt,Ee+D*w.B,ye,Te+32*D,8),n(Xe,st+D*w.B,je,Je+32*D,8)}}function da(w,A,D,z,te,ae,ce,ge,ye){var Te=[0],je=[0],Je=0,Ee=ye!=null?ye.kd:0,He=ye??new St;if(w==null||12>D)return 7;He.data=w,He.w=A,He.ha=D,A=[A],D=[D],He.gb=[He.gb];e:{var Ke=A,lt=D,Xe=He.gb;if(e(w!=null),e(lt!=null),e(Xe!=null),Xe[0]=0,12<=lt[0]&&!r(w,Ke[0],"RIFF")){if(r(w,Ke[0]+8,"WEBP")){Xe=3;break e}var st=Nt(w,Ke[0]+4);if(12>st||4294967286<st){Xe=3;break e}if(Ee&&st>lt[0]-8){Xe=7;break e}Xe[0]=st,Ke[0]+=12,lt[0]-=12}Xe=0}if(Xe!=0)return Xe;for(st=0<He.gb[0],D=D[0];;){e:{var ft=w;lt=A,Xe=D;var Lt=Te,_t=je,nr=Ke=[0];if((Kt=Je=[Je])[0]=0,8>Xe[0])Xe=7;else{if(!r(ft,lt[0],"VP8X")){if(Nt(ft,lt[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var Ht=Nt(ft,lt[0]+8),Pr=1+Tt(ft,lt[0]+12);if(2147483648<=Pr*(ft=1+Tt(ft,lt[0]+15))){Xe=3;break e}nr!=null&&(nr[0]=Ht),Lt!=null&&(Lt[0]=Pr),_t!=null&&(_t[0]=ft),lt[0]+=18,Xe[0]-=18,Kt[0]=1}Xe=0}}if(Je=Je[0],Ke=Ke[0],Xe!=0)return Xe;if(lt=!!(2&Ke),!st&&Je)return 3;if(ae!=null&&(ae[0]=!!(16&Ke)),ce!=null&&(ce[0]=lt),ge!=null&&(ge[0]=0),ce=Te[0],Ke=je[0],Je&&lt&&ye==null){Xe=0;break}if(4>D){Xe=7;break}if(st&&Je||!st&&!Je&&!r(w,A[0],"ALPH")){D=[D],He.na=[He.na],He.P=[He.P],He.Sa=[He.Sa];e:{Ht=w,Xe=A,st=D;var Kt=He.gb;Lt=He.na,_t=He.P,nr=He.Sa,Pr=22,e(Ht!=null),e(st!=null),ft=Xe[0];var Qr=st[0];for(e(Lt!=null),e(nr!=null),Lt[0]=null,_t[0]=null,nr[0]=0;;){if(Xe[0]=ft,st[0]=Qr,8>Qr){Xe=7;break e}var Qn=Nt(Ht,ft+4);if(4294967286<Qn){Xe=3;break e}var jr=8+Qn+1&-2;if(Pr+=jr,0<Kt&&Pr>Kt){Xe=3;break e}if(!r(Ht,ft,"VP8 ")||!r(Ht,ft,"VP8L")){Xe=0;break e}if(Qr[0]<jr){Xe=7;break e}r(Ht,ft,"ALPH")||(Lt[0]=Ht,_t[0]=ft+8,nr[0]=Qn),ft+=jr,Qr-=jr}}if(D=D[0],He.na=He.na[0],He.P=He.P[0],He.Sa=He.Sa[0],Xe!=0)break}D=[D],He.Ja=[He.Ja],He.xa=[He.xa];e:if(Kt=w,Xe=A,st=D,Lt=He.gb[0],_t=He.Ja,nr=He.xa,Ht=Xe[0],ft=!r(Kt,Ht,"VP8 "),Pr=!r(Kt,Ht,"VP8L"),e(Kt!=null),e(st!=null),e(_t!=null),e(nr!=null),8>st[0])Xe=7;else{if(ft||Pr){if(Kt=Nt(Kt,Ht+4),12<=Lt&&Kt>Lt-12){Xe=3;break e}if(Ee&&Kt>st[0]-8){Xe=7;break e}_t[0]=Kt,Xe[0]+=8,st[0]-=8,nr[0]=Pr}else nr[0]=5<=st[0]&&Kt[Ht+0]==47&&!(Kt[Ht+4]>>5),_t[0]=st[0];Xe=0}if(D=D[0],He.Ja=He.Ja[0],He.xa=He.xa[0],A=A[0],Xe!=0)break;if(4294967286<He.Ja)return 3;if(ge==null||lt||(ge[0]=He.xa?2:1),ce=[ce],Ke=[Ke],He.xa){if(5>D){Xe=7;break}ge=ce,Ee=Ke,lt=ae,w==null||5>D?w=0:5<=D&&w[A+0]==47&&!(w[A+4]>>5)?(st=[0],Kt=[0],Lt=[0],Le(_t=new H,w,A,D),Fa(_t,st,Kt,Lt)?(ge!=null&&(ge[0]=st[0]),Ee!=null&&(Ee[0]=Kt[0]),lt!=null&&(lt[0]=Lt[0]),w=1):w=0):w=0}else{if(10>D){Xe=7;break}ge=Ke,w==null||10>D||!Sa(w,A+3,D-3)?w=0:(Ee=w[A+0]|w[A+1]<<8|w[A+2]<<16,lt=16383&(w[A+7]<<8|w[A+6]),w=16383&(w[A+9]<<8|w[A+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=He.Ja||!lt||!w?w=0:(ce&&(ce[0]=lt),ge&&(ge[0]=w),w=1))}if(!w||(ce=ce[0],Ke=Ke[0],Je&&(Te[0]!=ce||je[0]!=Ke)))return 3;ye!=null&&(ye[0]=He,ye.offset=A-ye.w,e(4294967286>A-ye.w),e(ye.offset==ye.ha-D));break}return Xe==0||Xe==7&&Je&&ye==null?(ae!=null&&(ae[0]|=He.na!=null&&0<He.na.length),z!=null&&(z[0]=ce),te!=null&&(te[0]=Ke),0):Xe}function Do(w,A,D){var z=A.width,te=A.height,ae=0,ce=0,ge=z,ye=te;if(A.Da=w!=null&&0<w.Da,A.Da&&(ge=w.cd,ye=w.bd,ae=w.v,ce=w.j,11>D||(ae&=-2,ce&=-2),0>ae||0>ce||0>=ge||0>=ye||ae+ge>z||ce+ye>te))return 0;if(A.v=ae,A.j=ce,A.va=ae+ge,A.o=ce+ye,A.U=ge,A.T=ye,A.da=w!=null&&0<w.da,A.da){if(!zt(ge,ye,D=[w.ib],ae=[w.hb]))return 0;A.ib=D[0],A.hb=ae[0]}return A.ob=w!=null&&w.ob,A.Kb=w==null||!w.Sd,A.da&&(A.ob=A.ib<3*z/4&&A.hb<3*te/4,A.Kb=0),1}function jo(w){if(w==null)return 2;if(11>w.S){var A=w.f.RGBA;A.fb+=(w.height-1)*A.A,A.A=-A.A}else A=w.f.kb,w=w.height,A.O+=(w-1)*A.fa,A.fa=-A.fa,A.N+=(w-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(w-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(w-1)*A.lb,A.lb=-A.lb);return 0}function Es(w,A,D,z){if(z==null||0>=w||0>=A)return 2;if(D!=null){if(D.Da){var te=D.cd,ae=D.bd,ce=-2&D.v,ge=-2&D.j;if(0>ce||0>ge||0>=te||0>=ae||ce+te>w||ge+ae>A)return 2;w=te,A=ae}if(D.da){if(!zt(w,A,te=[D.ib],ae=[D.hb]))return 2;w=te[0],A=ae[0]}}z.width=w,z.height=A;e:{var ye=z.width,Te=z.height;if(w=z.S,0>=ye||0>=Te||!(w>=bc&&13>w))w=2;else{if(0>=z.Rd&&z.sd==null){ce=ae=te=A=0;var je=(ge=ye*nf[w])*Te;if(11>w||(ae=(Te+1)/2*(A=(ye+1)/2),w==12&&(ce=(te=ye)*Te)),(Te=a(je+2*ae+ce))==null){w=1;break e}z.sd=Te,11>w?((ye=z.f.RGBA).eb=Te,ye.fb=0,ye.A=ge,ye.size=je):((ye=z.f.kb).y=Te,ye.O=0,ye.fa=ge,ye.Fd=je,ye.f=Te,ye.N=0+je,ye.Ab=A,ye.Cd=ae,ye.ea=Te,ye.W=0+je+ae,ye.Db=A,ye.Ed=ae,w==12&&(ye.F=Te,ye.J=0+je+2*ae),ye.Tc=ce,ye.lb=te)}if(A=1,te=z.S,ae=z.width,ce=z.height,te>=bc&&13>te)if(11>te)w=z.f.RGBA,A&=(ge=Math.abs(w.A))*(ce-1)+ae<=w.size,A&=ge>=ae*nf[te],A&=w.eb!=null;else{w=z.f.kb,ge=(ae+1)/2,je=(ce+1)/2,ye=Math.abs(w.fa),Te=Math.abs(w.Ab);var Je=Math.abs(w.Db),Ee=Math.abs(w.lb),He=Ee*(ce-1)+ae;A&=ye*(ce-1)+ae<=w.Fd,A&=Te*(je-1)+ge<=w.Cd,A=(A&=Je*(je-1)+ge<=w.Ed)&ye>=ae&Te>=ge&Je>=ge,A&=w.y!=null,A&=w.f!=null,A&=w.ea!=null,te==12&&(A&=Ee>=ae,A&=He<=w.Tc,A&=w.F!=null)}else A=0;w=A?0:2}}return w!=0||D!=null&&D.fd&&(w=jo(z)),w}var $s=64,za=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ii=24,ns=32,io=8,Ws=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];jt("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(w){return w},U.Predictor2=function(w,A,D){return A[D+0]},U.Predictor3=function(w,A,D){return A[D+1]},U.Predictor4=function(w,A,D){return A[D-1]},U.Predictor5=function(w,A,D){return Xt(Xt(w,A[D+1]),A[D+0])},U.Predictor6=function(w,A,D){return Xt(w,A[D-1])},U.Predictor7=function(w,A,D){return Xt(w,A[D+0])},U.Predictor8=function(w,A,D){return Xt(A[D-1],A[D+0])},U.Predictor9=function(w,A,D){return Xt(A[D+0],A[D+1])},U.Predictor10=function(w,A,D){return Xt(Xt(w,A[D-1]),Xt(A[D+0],A[D+1]))},U.Predictor11=function(w,A,D){var z=A[D+0];return 0>=dr(z>>24&255,w>>24&255,(A=A[D-1])>>24&255)+dr(z>>16&255,w>>16&255,A>>16&255)+dr(z>>8&255,w>>8&255,A>>8&255)+dr(255&z,255&w,255&A)?z:w},U.Predictor12=function(w,A,D){var z=A[D+0];return(Jt((w>>24&255)+(z>>24&255)-((A=A[D-1])>>24&255))<<24|Jt((w>>16&255)+(z>>16&255)-(A>>16&255))<<16|Jt((w>>8&255)+(z>>8&255)-(A>>8&255))<<8|Jt((255&w)+(255&z)-(255&A)))>>>0},U.Predictor13=function(w,A,D){var z=A[D-1];return(Er((w=Xt(w,A[D+0]))>>24&255,z>>24&255)<<24|Er(w>>16&255,z>>16&255)<<16|Er(w>>8&255,z>>8&255)<<8|Er(255&w,255&z))>>>0};var ou=U.PredictorAdd0;U.PredictorAdd1=Nr,jt("Predictor2","PredictorAdd2"),jt("Predictor3","PredictorAdd3"),jt("Predictor4","PredictorAdd4"),jt("Predictor5","PredictorAdd5"),jt("Predictor6","PredictorAdd6"),jt("Predictor7","PredictorAdd7"),jt("Predictor8","PredictorAdd8"),jt("Predictor9","PredictorAdd9"),jt("Predictor10","PredictorAdd10"),jt("Predictor11","PredictorAdd11"),jt("Predictor12","PredictorAdd12"),jt("Predictor13","PredictorAdd13");var Ga=U.PredictorAdd2;Wt("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),Wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var hi,Io=U.ColorIndexInverseTransform,ao=U.MapARGB,Fi=U.VP8LColorIndexInverseTransformAlpha,xi=U.MapAlpha,so=U.VP8LPredictorsAdd=[];so.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var ol,Fo,Zs,Ts,Na,oo,Ca,lo,pa,Ma,hn,Jr,kn,ai,uo,wi,co,Uu,lu,Qh,ch,ef,Pl,hh,As,is,uu,as,ka=a(511),zu=a(2041),cu=a(225),Bo=a(767),wc=0,Ls=zu,Uo=cu,na=Bo,Bi=ka,bc=0,ia=1,Gu=2,ss=3,hu=4,Ol=5,ll=6,fu=7,Hu=8,du=9,h=10,m=[2,3,7],b=[3,3,11],M=[280,256,256,256,40],G=[0,1,1,1,0],se=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Me=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],We=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tt=8,pt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],kt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tr=null,Ur=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],os=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pn=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Zr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Pa=[],si=[],Ns=[],ul=1,Sc=2,bn=[],bi=[];Oo("UpsampleRgbLinePair",Vs,3),Oo("UpsampleBgrLinePair",yi,3),Oo("UpsampleRgbaLinePair",jn,4),Oo("UpsampleBgraLinePair",no,4),Oo("UpsampleArgbLinePair",kl,4),Oo("UpsampleRgba4444LinePair",sl,2),Oo("UpsampleRgb565LinePair",al,2);var Rl=U.UpsampleRgbLinePair,fh=U.UpsampleBgrLinePair,pu=U.UpsampleRgbaLinePair,mu=U.UpsampleBgraLinePair,zo=U.UpsampleArgbLinePair,ho=U.UpsampleRgba4444LinePair,gu=U.UpsampleRgb565LinePair,fo=16,Ec=1<<fo-1,qu=-227,vu=482,tf=6,_u=0,Oa=a(256),rf=a(256),kp=a(256),_1=a(256),y1=a(vu-qu),x1=a(vu-qu);Ua("YuvToRgbRow",Vs,3),Ua("YuvToBgrRow",yi,3),Ua("YuvToRgbaRow",jn,4),Ua("YuvToBgraRow",no,4),Ua("YuvToArgbRow",kl,4),Ua("YuvToRgba4444Row",sl,2),Ua("YuvToRgb565Row",al,2);var Ri=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Tc=[0,2,8],dh=[8,7,6,4,4,2,2,2,1,1,1,1],ph=1;this.WebPDecodeRGBA=function(w,A,D,z,te){var ae=ia,ce=new at,ge=new xr;ce.ba=ge,ge.S=ae,ge.width=[ge.width],ge.height=[ge.height];var ye=ge.width,Te=ge.height,je=new Zt;if(je==null||w==null)var Je=2;else e(je!=null),Je=da(w,A,D,je.width,je.height,je.Pd,je.Qd,je.format,null);if(Je!=0?ye=0:(ye!=null&&(ye[0]=je.width[0]),Te!=null&&(Te[0]=je.height[0]),ye=1),ye){ge.width=ge.width[0],ge.height=ge.height[0],z!=null&&(z[0]=ge.width),te!=null&&(te[0]=ge.height);e:{if(z=new qr,(te=new St).data=w,te.w=A,te.ha=D,te.kd=1,A=[0],e(te!=null),((w=da(te.data,te.w,te.ha,null,null,null,A,null,te))==0||w==7)&&A[0]&&(w=4),(A=w)==0){if(e(ce!=null),z.data=te.data,z.w=te.w+te.offset,z.ha=te.ha-te.offset,z.put=Qt,z.ac=Ni,z.bc=Ka,z.ma=ce,te.xa){if((w=Be())==null){ce=1;break e}if((function(Ee,He){var Ke=[0],lt=[0],Xe=[0];t:for(;;){if(Ee==null)return 0;if(He==null)return Ee.a=2,0;if(Ee.l=He,Ee.a=0,Le(Ee.m,He.data,He.w,He.ha),!Fa(Ee.m,Ke,lt,Xe)){Ee.a=3;break t}if(Ee.xb=Sc,He.width=Ke[0],He.height=lt[0],!Ue(Ke[0],lt[0],1,Ee,null))break t;return 1}return e(Ee.a!=0),0})(w,z)){if(z=(A=Es(z.width,z.height,ce.Oa,ce.ba))==0){t:{z=w;r:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((D=z.l)!=null),e((te=D.ma)!=null),z.xb!=0){if(z.ca=te.ba,z.tb=te.tb,e(z.ca!=null),!Do(te.Oa,D,ss)){z.a=2;break r}if(!$e(z,D.width)||D.da)break r;if((D.da||ur(z.ca.S))&&ta(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&ta()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!we(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!Pe(z,z.V,z.Ba,z.c,z.i,D.o,ne))break r;te.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(A=w.a)}else A=w.a}else{if((w=new ri)==null){ce=1;break e}if(w.Fa=te.na,w.P=te.P,w.qc=te.Sa,Ea(w,z)){if((A=Es(z.width,z.height,ce.Oa,ce.ba))==0){if(w.Aa=0,D=ce.Oa,e((te=w)!=null),D!=null){if(0<(ye=0>(ye=D.Md)?0:100<ye?255:255*ye/100)){for(Te=je=0;4>Te;++Te)12>(Je=te.pb[Te]).lc&&(Je.ia=ye*dh[0>Je.lc?0:Je.lc]>>3),je|=Je.ia;je&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=D.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}(function(Ee,He){if(Ee==null)return 0;if(He==null)return ar(Ee,2,"NULL VP8Io parameter in VP8Decode().");if(!Ee.cb&&!Ea(Ee,He))return 0;if(e(Ee.cb),He.ac==null||He.ac(He)){He.ob&&(Ee.L=0);var Ke=Tc[Ee.L];if(Ee.L==2?(Ee.yb=0,Ee.zb=0):(Ee.yb=He.v-Ke>>4,Ee.zb=He.j-Ke>>4,0>Ee.yb&&(Ee.yb=0),0>Ee.zb&&(Ee.zb=0)),Ee.Va=He.o+15+Ke>>4,Ee.Hb=He.va+15+Ke>>4,Ee.Hb>Ee.za&&(Ee.Hb=Ee.za),Ee.Va>Ee.Ub&&(Ee.Va=Ee.Ub),0<Ee.L){var lt=Ee.ed;for(Ke=0;4>Ke;++Ke){var Xe;if(Ee.Qa.Cb){var st=Ee.Qa.Lb[Ke];Ee.Qa.Fb||(st+=lt.Tb)}else st=lt.Tb;for(Xe=0;1>=Xe;++Xe){var ft=Ee.gd[Ke][Xe],Lt=st;if(lt.Pc&&(Lt+=lt.vd[0],Xe&&(Lt+=lt.od[0])),0<(Lt=0>Lt?0:63<Lt?63:Lt)){var _t=Lt;0<lt.wb&&(_t=4<lt.wb?_t>>2:_t>>1)>9-lt.wb&&(_t=9-lt.wb),1>_t&&(_t=1),ft.dd=_t,ft.tc=2*Lt+_t,ft.ld=40<=Lt?2:15<=Lt?1:0}else ft.tc=0;ft.La=Xe}}}Ke=0}else ar(Ee,6,"Frame setup failed"),Ke=Ee.a;if(Ke=Ke==0){if(Ke){Ee.$c=0,0<Ee.Aa||(Ee.Ic=ph);t:{Ke=Ee.Ic,lt=4*(_t=Ee.za);var nr=32*_t,Ht=_t+1,Pr=0<Ee.L?_t*(0<Ee.Aa?2:1):0,Kt=(Ee.Aa==2?2:1)*_t;if((ft=lt+832+(Xe=3*(16*Ke+Tc[Ee.L])/2*nr)+(st=Ee.Fa!=null&&0<Ee.Fa.length?Ee.Kc.c*Ee.Kc.i:0))!=ft)Ke=0;else{if(ft>Ee.Vb){if(Ee.Vb=0,Ee.Ec=a(ft),Ee.Fc=0,Ee.Ec==null){Ke=ar(Ee,1,"no memory during frame initialization.");break t}Ee.Vb=ft}ft=Ee.Ec,Lt=Ee.Fc,Ee.Ac=ft,Ee.Bc=Lt,Lt+=lt,Ee.Gd=s(nr,Ci),Ee.Hd=0,Ee.rb=s(Ht+1,nn),Ee.sb=1,Ee.wa=Pr?s(Pr,wr):null,Ee.Y=0,Ee.D.Nb=0,Ee.D.wa=Ee.wa,Ee.D.Y=Ee.Y,0<Ee.Aa&&(Ee.D.Y+=_t),e(!0),Ee.oc=ft,Ee.pc=Lt,Lt+=832,Ee.ya=s(Kt,Xn),Ee.aa=0,Ee.D.ya=Ee.ya,Ee.D.aa=Ee.aa,Ee.Aa==2&&(Ee.D.aa+=_t),Ee.R=16*_t,Ee.B=8*_t,_t=(nr=Tc[Ee.L])*Ee.R,nr=nr/2*Ee.B,Ee.sa=ft,Ee.ta=Lt+_t,Ee.qa=Ee.sa,Ee.ra=Ee.ta+16*Ke*Ee.R+nr,Ee.Ha=Ee.qa,Ee.Ia=Ee.ra+8*Ke*Ee.B+nr,Ee.$c=0,Lt+=Xe,Ee.mb=st?ft:null,Ee.nb=st?Lt:null,e(Lt+st<=Ee.Fc+Ee.Vb),Dn(Ee),i(Ee.Ac,Ee.Bc,0,lt),Ke=1}}if(Ke){if(He.ka=0,He.y=Ee.sa,He.O=Ee.ta,He.f=Ee.qa,He.N=Ee.ra,He.ea=Ee.Ha,He.Vd=Ee.Ia,He.fa=Ee.R,He.Rc=Ee.B,He.F=null,He.J=0,!wc){for(Ke=-255;255>=Ke;++Ke)ka[255+Ke]=0>Ke?-Ke:Ke;for(Ke=-1020;1020>=Ke;++Ke)zu[1020+Ke]=-128>Ke?-128:127<Ke?127:Ke;for(Ke=-112;112>=Ke;++Ke)cu[112+Ke]=-16>Ke?-16:15<Ke?15:Ke;for(Ke=-255;510>=Ke;++Ke)Bo[255+Ke]=0>Ke?0:255<Ke?255:Ke;wc=1}Ca=Ta,lo=Us,Ma=Kr,hn=zs,Jr=No,pa=Tl,kn=Bu,ai=Po,uo=Q,wi=Se,co=xc,Uu=k,lu=De,Qh=Ve,ch=Pi,ef=es,Pl=il,hh=Fu,si[0]=Iu,si[1]=tl,si[2]=Xa,si[3]=dn,si[4]=Aa,si[5]=Ll,si[6]=Mi,si[7]=Ja,si[8]=Gs,si[9]=La,Pa[0]=Ba,Pa[1]=Al,Pa[2]=rl,Pa[3]=iu,Pa[4]=eo,Pa[5]=Mo,Pa[6]=nl,Ns[0]=Nl,Ns[1]=nu,Ns[2]=Mn,Ns[3]=to,Ns[4]=ki,Ns[5]=au,Ns[6]=xs,Ke=1}else Ke=0}Ke&&(Ke=(function(Qr,Qn){for(Qr.M=0;Qr.M<Qr.Va;++Qr.M){var jr,qt=Qr.Jc[Qr.M&Qr.Xb],Rt=Qr.m,di=Qr;for(jr=0;jr<di.za;++jr){var Sr=Rt,zr=di,An=zr.Ac,sa=zr.Bc+4*jr,Ra=zr.zc,Vn=zr.ya[zr.aa+jr];if(zr.Qa.Bb?Vn.$b=Ie(Sr,zr.Pa.jb[0])?2+Ie(Sr,zr.Pa.jb[2]):Ie(Sr,zr.Pa.jb[1]):Vn.$b=0,zr.kc&&(Vn.Ad=Ie(Sr,zr.Bd)),Vn.Za=!Ie(Sr,145)+0,Vn.Za){var Ui=Vn.Ob,Ha=0;for(zr=0;4>zr;++zr){var zi,$r=Ra[0+zr];for(zi=0;4>zi;++zi){$r=pn[An[sa+zi]][$r];for(var gn=fi[Ie(Sr,$r[0])];0<gn;)gn=fi[2*gn+Ie(Sr,$r[gn])];$r=-gn,An[sa+zi]=$r}n(Ui,Ha,An,sa,4),Ha+=4,Ra[0+zr]=$r}}else $r=Ie(Sr,156)?Ie(Sr,128)?1:3:Ie(Sr,163)?2:0,Vn.Ob[0]=$r,i(An,sa,$r,4),i(Ra,0,$r,4);Vn.Dd=Ie(Sr,142)?Ie(Sr,114)?Ie(Sr,183)?1:3:2:0}if(di.m.Ka)return ar(Qr,7,"Premature end-of-partition0 encountered.");for(;Qr.ja<Qr.za;++Qr.ja){if(di=qt,Sr=(Rt=Qr).rb[Rt.sb-1],An=Rt.rb[Rt.sb+Rt.ja],jr=Rt.ya[Rt.aa+Rt.ja],sa=Rt.kc?jr.Ad:0)Sr.la=An.la=0,jr.Za||(Sr.Na=An.Na=0),jr.Hc=0,jr.Gc=0,jr.ia=0;else{var pi,yn;if(Sr=An,An=di,sa=Rt.Pa.Xc,Ra=Rt.ya[Rt.aa+Rt.ja],Vn=Rt.pb[Ra.$b],zr=Ra.ad,Ui=0,Ha=Rt.rb[Rt.sb-1],$r=zi=0,i(zr,Ui,0,384),Ra.Za)var oa=0,mi=sa[3];else{gn=a(16);var vn=Sr.Na+Ha.Na;if(vn=tr(An,sa[1],vn,Vn.Eb,0,gn,0),Sr.Na=Ha.Na=(0<vn)+0,1<vn)Ca(gn,0,zr,Ui);else{var Di=gn[0]+3>>3;for(gn=0;256>gn;gn+=16)zr[Ui+gn]=Di}oa=1,mi=sa[0]}var Ln=15&Sr.la,Gi=15&Ha.la;for(gn=0;4>gn;++gn){var Hi=1&Gi;for(Di=yn=0;4>Di;++Di)Ln=Ln>>1|(Hi=(vn=tr(An,mi,vn=Hi+(1&Ln),Vn.Sc,oa,zr,Ui))>oa)<<7,yn=yn<<2|(3<vn?3:1<vn?2:zr[Ui+0]!=0),Ui+=16;Ln>>=4,Gi=Gi>>1|Hi<<7,zi=(zi<<8|yn)>>>0}for(mi=Ln,oa=Gi>>4,pi=0;4>pi;pi+=2){for(yn=0,Ln=Sr.la>>4+pi,Gi=Ha.la>>4+pi,gn=0;2>gn;++gn){for(Hi=1&Gi,Di=0;2>Di;++Di)vn=Hi+(1&Ln),Ln=Ln>>1|(Hi=0<(vn=tr(An,sa[2],vn,Vn.Qc,0,zr,Ui)))<<3,yn=yn<<2|(3<vn?3:1<vn?2:zr[Ui+0]!=0),Ui+=16;Ln>>=2,Gi=Gi>>1|Hi<<5}$r|=yn<<4*pi,mi|=Ln<<4<<pi,oa|=(240&Gi)<<pi}Sr.la=mi,Ha.la=oa,Ra.Hc=zi,Ra.Gc=$r,Ra.ia=43690&$r?0:Vn.ia,sa=!(zi|$r)}if(0<Rt.L&&(Rt.wa[Rt.Y+Rt.ja]=Rt.gd[jr.$b][jr.Za],Rt.wa[Rt.Y+Rt.ja].La|=!sa),di.Ka)return ar(Qr,7,"Premature end-of-file encountered.")}if(Dn(Qr),Rt=Qn,di=1,jr=(qt=Qr).D,Sr=0<qt.L&&qt.M>=qt.zb&&qt.M<=qt.Va,qt.Aa==0)t:{if(jr.M=qt.M,jr.uc=Sr,rs(qt,jr),di=1,jr=(yn=qt.D).Nb,Sr=($r=Tc[qt.L])*qt.R,An=$r/2*qt.B,gn=16*jr*qt.R,Di=8*jr*qt.B,sa=qt.sa,Ra=qt.ta-Sr+gn,Vn=qt.qa,zr=qt.ra-An+Di,Ui=qt.Ha,Ha=qt.Ia-An+Di,Gi=(Ln=yn.M)==0,zi=Ln>=qt.Va-1,qt.Aa==2&&rs(qt,yn),yn.uc)for(Hi=(vn=qt).D.M,e(vn.D.uc),yn=vn.yb;yn<vn.Hb;++yn){oa=yn,mi=Hi;var In=(fn=(qi=vn).D).Nb;pi=qi.R;var fn=fn.wa[fn.Y+oa],qa=qi.sa,Si=qi.ta+16*In*pi+16*oa,mr=fn.dd,gr=fn.tc;if(gr!=0)if(e(3<=gr),qi.L==1)0<oa&&ef(qa,Si,pi,gr+4),fn.La&&hh(qa,Si,pi,gr),0<mi&&ch(qa,Si,pi,gr+4),fn.La&&Pl(qa,Si,pi,gr);else{var _n=qi.B,Cs=qi.qa,po=qi.ra+8*In*_n+8*oa,ls=qi.Ha,qi=qi.Ia+8*In*_n+8*oa;In=fn.ld,0<oa&&(ai(qa,Si,pi,gr+4,mr,In),wi(Cs,po,ls,qi,_n,gr+4,mr,In)),fn.La&&(Uu(qa,Si,pi,gr,mr,In),Qh(Cs,po,ls,qi,_n,gr,mr,In)),0<mi&&(kn(qa,Si,pi,gr+4,mr,In),uo(Cs,po,ls,qi,_n,gr+4,mr,In)),fn.La&&(co(qa,Si,pi,gr,mr,In),lu(Cs,po,ls,qi,_n,gr,mr,In))}}if(qt.ia&&alert("todo:DitherRow"),Rt.put!=null){if(yn=16*Ln,Ln=16*(Ln+1),Gi?(Rt.y=qt.sa,Rt.O=qt.ta+gn,Rt.f=qt.qa,Rt.N=qt.ra+Di,Rt.ea=qt.Ha,Rt.W=qt.Ia+Di):(yn-=$r,Rt.y=sa,Rt.O=Ra,Rt.f=Vn,Rt.N=zr,Rt.ea=Ui,Rt.W=Ha),zi||(Ln-=$r),Ln>Rt.o&&(Ln=Rt.o),Rt.F=null,Rt.J=null,qt.Fa!=null&&0<qt.Fa.length&&yn<Ln&&(Rt.J=wn(qt,Rt,yn,Ln-yn),Rt.F=qt.mb,Rt.F==null&&Rt.F.length==0)){di=ar(qt,3,"Could not decode alpha data.");break t}yn<Rt.j&&($r=Rt.j-yn,yn=Rt.j,e(!(1&$r)),Rt.O+=qt.R*$r,Rt.N+=qt.B*($r>>1),Rt.W+=qt.B*($r>>1),Rt.F!=null&&(Rt.J+=Rt.width*$r)),yn<Ln&&(Rt.O+=Rt.v,Rt.N+=Rt.v>>1,Rt.W+=Rt.v>>1,Rt.F!=null&&(Rt.J+=Rt.v),Rt.ka=yn-Rt.j,Rt.U=Rt.va-Rt.v,Rt.T=Ln-yn,di=Rt.put(Rt))}jr+1!=qt.Ic||zi||(n(qt.sa,qt.ta-Sr,sa,Ra+16*qt.R,Sr),n(qt.qa,qt.ra-An,Vn,zr+8*qt.B,An),n(qt.Ha,qt.Ia-An,Ui,Ha+8*qt.B,An))}if(!di)return ar(Qr,6,"Output aborted.")}return 1})(Ee,He)),He.bc!=null&&He.bc(He),Ke&=1}return Ke?(Ee.cb=0,Ke):0})(w,z)||(A=w.a)}}else A=w.a}A==0&&ce.Oa!=null&&ce.Oa.fd&&(A=jo(ce.ba))}ce=A}ae=ce!=0?null:11>ae?ge.f.RGBA.eb:ge.f.kb.y}else ae=null;return ae};var nf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(U,X){for(var I="",W=0;W<4;W++)I+=String.fromCharCode(U[X++]);return I}function p(U,X){return U[X+0]|U[X+1]<<8}function v(U,X){return(U[X+0]|U[X+1]<<8|U[X+2]<<16)>>>0}function y(U,X){return(U[X+0]|U[X+1]<<8|U[X+2]<<16|U[X+3]<<24)>>>0}new c;var _=[0],E=[0],S=[],C=new c,O=t,j=(function(U,X){var I={},W=0,ue=!1,pe=0,xe=0;if(I.frames=[],!(function(P,H){for(var q=0;q<4;q++)if(P[H+q]!="RIFF".charCodeAt(q))return!0;return!1})(U,X)){for(y(U,X+=4),X+=8;X<U.length;){var le=f(U,X),be=y(U,X+=4);X+=4;var _e=be+(1&be);switch(le){case"VP8 ":case"VP8L":I.frames[W]===void 0&&(I.frames[W]={}),(ee=I.frames[W]).src_off=ue?xe:X-8,ee.src_size=pe+be+8,W++,ue&&(ue=!1,pe=0,xe=0);break;case"VP8X":(ee=I.header={}).feature_flags=U[X];var Le=X+4;ee.canvas_width=1+v(U,Le),Le+=3,ee.canvas_height=1+v(U,Le),Le+=3;break;case"ALPH":ue=!0,pe=_e+8,xe=X-8;break;case"ANIM":(ee=I.header).bgcolor=y(U,X),Le=X+4,ee.loop_count=p(U,Le),Le+=2;break;case"ANMF":var Ne,ee;(ee=I.frames[W]={}).offset_x=2*v(U,X),X+=3,ee.offset_y=2*v(U,X),X+=3,ee.width=1+v(U,X),X+=3,ee.height=1+v(U,X),X+=3,ee.duration=v(U,X),X+=3,Ne=U[X++],ee.dispose=1&Ne,ee.blend=Ne>>1&1}le!="ANMF"&&(X+=_e)}return I}})(O,0);j.response=O,j.rgbaoutput=!0,j.dataurl=!1;var R=j.header?j.header:null,B=j.frames?j.frames:null;if(R){R.loop_counter=R.loop_count,_=[R.canvas_height],E=[R.canvas_width];for(var J=0;J<B.length&&B[J].blend!=0;J++);}var re=B[0],F=C.WebPDecodeRGBA(O,re.src_off,re.src_size,E,_);re.rgba=F,re.imgwidth=E[0],re.imgheight=_[0];for(var K=0;K<E[0]*_[0]*4;K++)S[K]=F[K];return this.width=E,this.height=_,this.data=S,this}(function(t){var e,r,n,i,a,s,l,c,f,p=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new c,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new s,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new s,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,f=new p}]);var v=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=P;Object.defineProperty(this,"pdf",{get:function(){return H}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(we){q=!!we}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(we){Z=!!we}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(we){isNaN(we)||(oe=we)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(we){isNaN(we)||(Ae=we)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(we){var yt;typeof we=="number"?yt=[we,we,we,we]:((yt=new Array(4))[0]=we[0],yt[1]=we.length>=2?we[1]:yt[0],yt[2]=we.length>=3?we[2]:yt[0],yt[3]=we.length>=4?we[3]:yt[1]),f.margin=yt}});var Oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Oe},set:function(we){Oe=we}});var Re=0;Object.defineProperty(this,"lastBreak",{get:function(){return Re},set:function(we){Re=we}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(we){Ie=we}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(we){we instanceof p&&(f=we)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(we){f.path=we}});var ot=[];Object.defineProperty(this,"ctxStack",{get:function(){return ot},set:function(we){ot=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var yt;yt=y(we),this.ctx.fillStyle=yt.style,this.ctx.isFillTransparent=yt.a===0,this.ctx.fillOpacity=yt.a,this.pdf.setFillColor(yt.r,yt.g,yt.b,{a:yt.a}),this.pdf.setTextColor(yt.r,yt.g,yt.b,{a:yt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var yt=y(we);this.ctx.strokeStyle=yt.style,this.ctx.isStrokeTransparent=yt.a===0,this.ctx.strokeOpacity=yt.a,yt.a===0?this.pdf.setDrawColor(255,255,255):(yt.a,this.pdf.setDrawColor(yt.r,yt.g,yt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var it=null,Tt=null,Nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Nt},set:function(we){it=null,Tt=null,Nt=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var yt;if(this.ctx.font=we,(yt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(we))!==null){var xt=yt[1];yt[2];var zt=yt[3],dt=yt[4];yt[5];var Vt=yt[6],jt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(dt)[2];dt=Math.floor(jt==="px"?parseFloat(dt)*this.pdf.internal.scaleFactor:jt==="em"?parseFloat(dt)*this.pdf.getFontSize():parseFloat(dt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(dt);var sr=(function(Wt){var xn,Mr,Gt=[],pr=Wt.trim();if(pr==="")return _2;if(pr in v4)return[v4[pr]];for(;pr!=="";){switch(Mr=null,xn=(pr=y4(pr)).charAt(0)){case'"':case"'":Mr=oR(pr.substring(1),xn);break;default:Mr=lR(pr)}if(Mr===null||(Gt.push(Mr[0]),(pr=y4(Mr[1]))!==""&&pr.charAt(0)!==","))return _2;pr=pr.replace(/^,/,"")}return Gt})(Vt);if(this.fontFaces){var Xt=(function(Wt,xn){var Mr=Wt.getFontList(),Gt=JSON.stringify(Mr);if(it===null||Tt!==Gt){var pr=(function(Dr){var Yt=[];return Object.keys(Dr).forEach(function(un){Dr[un].forEach(function(ur){var cr=null;switch(ur){case"bold":cr={family:un,weight:"bold"};break;case"italic":cr={family:un,style:"italic"};break;case"bolditalic":cr={family:un,weight:"bold",style:"italic"};break;case"":case"normal":cr={family:un}}cr!==null&&(cr.ref={name:un,style:ur},Yt.push(cr))})}),Yt})(Mr);it=(function(Dr){for(var Yt={},un=0;un<Dr.length;++un){var ur=v2(Dr[un]),cr=ur.family,en=ur.stretch,xr=ur.style,Zt=ur.weight;Yt[cr]=Yt[cr]||{},Yt[cr][en]=Yt[cr][en]||{},Yt[cr][en][xr]=Yt[cr][en][xr]||{},Yt[cr][en][xr][Zt]=ur}return Yt})(pr.concat(xn)),Tt=Gt}return it})(this.pdf,this.fontFaces),Jt=sr.map(function(Wt){return{family:Wt,stretch:"normal",weight:zt,style:xt}}),Er=(function(Wt,xn,Mr){for(var Gt=(Mr=Mr||{}).defaultFontFamily||"times",pr=Object.assign({},sR,Mr.genericFontFamilies||{}),Dr=null,Yt=null,un=0;un<xn.length;++un)if(pr[(Dr=v2(xn[un])).family]&&(Dr.family=pr[Dr.family]),Wt.hasOwnProperty(Dr.family)){Yt=Wt[Dr.family];break}if(!(Yt=Yt||Wt[Gt]))throw new Error("Could not find a font-family for the rule '"+_4(Dr)+"' and default family '"+Gt+"'.");if(Yt=(function(ur,cr){if(cr[ur])return cr[ur];var en=y_[ur],xr=en<=y_.normal?-1:1,Zt=g4(cr,VE,en,xr);if(!Zt)throw new Error("Could not find a matching font-stretch value for "+ur);return Zt})(Dr.stretch,Yt),Yt=(function(ur,cr){if(cr[ur])return cr[ur];for(var en=qE[ur],xr=0;xr<en.length;++xr)if(cr[en[xr]])return cr[en[xr]];throw new Error("Could not find a matching font-style for "+ur)})(Dr.style,Yt),!(Yt=(function(ur,cr){if(cr[ur])return cr[ur];if(ur===400&&cr[500])return cr[500];if(ur===500&&cr[400])return cr[400];var en=aR[ur],xr=g4(cr,$E,en,ur<400?-1:1);if(!xr)throw new Error("Could not find a matching font-weight for value "+ur);return xr})(Dr.weight,Yt)))throw new Error("Failed to resolve a font for the rule '"+_4(Dr)+"'.");return Yt})(Xt,Jt);this.pdf.setFont(Er.ref.name,Er.ref.style)}else{var dr="";(zt==="bold"||parseInt(zt,10)>=700||xt==="bold")&&(dr="bold"),xt==="italic"&&(dr+="italic"),dr.length===0&&(dr="normal");for(var Nr="",or={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ft=0;Ft<sr.length;Ft++){if(this.pdf.internal.getFont(sr[Ft],dr,{noFallback:!0,disableWarning:!0})!==void 0){Nr=sr[Ft];break}if(dr==="bolditalic"&&this.pdf.internal.getFont(sr[Ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nr=sr[Ft],dr="bold";else if(this.pdf.internal.getFont(sr[Ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nr=sr[Ft],dr="normal";break}}if(Nr===""){for(var _r=0;_r<sr.length;_r++)if(or[sr[_r]]){Nr=or[sr[_r]];break}}Nr=Nr===""?"Times":Nr,this.pdf.setFont(Nr,dr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};v.prototype.setLineDash=function(P){this.lineDash=P},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){B.call(this,"fill",!1)},v.prototype.stroke=function(){B.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(P,H){if(isNaN(P)||isNaN(H))throw ti.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(P,H));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(P,H)},v.prototype.closePath=function(){var P=new s(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Gn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){P=new s(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(P.x,P.y)},v.prototype.lineTo=function(P,H){if(isNaN(P)||isNaN(H))throw ti.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(P,H));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},v.prototype.quadraticCurveTo=function(P,H,q,Z){if(isNaN(q)||isNaN(Z)||isNaN(P)||isNaN(H))throw ti.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new s(q,Z)),Ae=this.ctx.transform.applyToPoint(new s(P,H));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new s(oe.x,oe.y)},v.prototype.bezierCurveTo=function(P,H,q,Z,oe,Ae){if(isNaN(oe)||isNaN(Ae)||isNaN(P)||isNaN(H)||isNaN(q)||isNaN(Z))throw ti.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Oe=this.ctx.transform.applyToPoint(new s(oe,Ae)),Re=this.ctx.transform.applyToPoint(new s(P,H)),Ie=this.ctx.transform.applyToPoint(new s(q,Z));this.path.push({type:"bct",x1:Re.x,y1:Re.y,x2:Ie.x,y2:Ie.y,x:Oe.x,y:Oe.y}),this.ctx.lastPoint=new s(Oe.x,Oe.y)},v.prototype.arc=function(P,H,q,Z,oe,Ae){if(isNaN(P)||isNaN(H)||isNaN(q)||isNaN(Z)||isNaN(oe))throw ti.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var Oe=this.ctx.transform.applyToPoint(new s(P,H));P=Oe.x,H=Oe.y;var Re=this.ctx.transform.applyToPoint(new s(0,q)),Ie=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(Re.x-Ie.x,2)+Math.pow(Re.y-Ie.y,2))}Math.abs(oe-Z)>=2*Math.PI&&(Z=0,oe=2*Math.PI),this.path.push({type:"arc",x:P,y:H,radius:q,startAngle:Z,endAngle:oe,counterclockwise:Ae})},v.prototype.arcTo=function(P,H,q,Z,oe){throw new Error("arcTo not implemented.")},v.prototype.rect=function(P,H,q,Z){if(isNaN(P)||isNaN(H)||isNaN(q)||isNaN(Z))throw ti.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,H),this.lineTo(P+q,H),this.lineTo(P+q,H+Z),this.lineTo(P,H+Z),this.lineTo(P,H),this.lineTo(P+q,H),this.lineTo(P,H)},v.prototype.fillRect=function(P,H,q,Z){if(isNaN(P)||isNaN(H)||isNaN(q)||isNaN(Z))throw ti.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,H,q,Z),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},v.prototype.strokeRect=function(P,H,q,Z){if(isNaN(P)||isNaN(H)||isNaN(q)||isNaN(Z))throw ti.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(P,H,q,Z),this.stroke())},v.prototype.clearRect=function(P,H,q,Z){if(isNaN(P)||isNaN(H)||isNaN(q)||isNaN(Z))throw ti.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,H,q,Z))},v.prototype.save=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},v.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(H),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(P){var H,q,Z,oe;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))H=0,q=0,Z=0,oe=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(Ae!==null)H=parseInt(Ae[1]),q=parseInt(Ae[2]),Z=parseInt(Ae[3]),oe=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)H=parseInt(Ae[1]),q=parseInt(Ae[2]),Z=parseInt(Ae[3]),oe=parseFloat(Ae[4]);else{if(oe=1,typeof P=="string"&&P.charAt(0)!=="#"){var Oe=new IE(P);P=Oe.ok?Oe.toHex():"#000000"}P.length===4?(H=P.substring(1,2),H+=H,q=P.substring(2,3),q+=q,Z=P.substring(3,4),Z+=Z):(H=P.substring(1,3),q=P.substring(3,5),Z=P.substring(5,7)),H=parseInt(H,16),q=parseInt(q,16),Z=parseInt(Z,16)}}return{r:H,g:q,b:Z,a:oe,style:P}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(P,H,q,Z){if(isNaN(H)||isNaN(q)||typeof P!="string")throw ti.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!_.call(this)){var oe=_e(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;W.call(this,{text:P,x:H,y:q,scale:Ae,angle:oe,align:this.textAlign,maxWidth:Z})}},v.prototype.strokeText=function(P,H,q,Z){if(isNaN(H)||isNaN(q)||typeof P!="string")throw ti.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){Z=isNaN(Z)?void 0:Z;var oe=_e(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;W.call(this,{text:P,x:H,y:q,scale:Ae,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:Z})}},v.prototype.measureText=function(P){if(typeof P!="string")throw ti.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,q=this.pdf.internal.scaleFactor,Z=H.internal.getFontSize(),oe=H.getStringUnitWidth(P)*Z/H.internal.scaleFactor;return new function(Ae){var Oe=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Oe}}),this}({width:oe*=Math.round(96*q/72*1e4)/1e4})},v.prototype.scale=function(P,H){if(isNaN(P)||isNaN(H))throw ti.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new c(P,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.rotate=function(P){if(isNaN(P))throw ti.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},v.prototype.translate=function(P,H){if(isNaN(P)||isNaN(H))throw ti.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new c(1,0,0,1,P,H);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.transform=function(P,H,q,Z,oe,Ae){if(isNaN(P)||isNaN(H)||isNaN(q)||isNaN(Z)||isNaN(oe)||isNaN(Ae))throw ti.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Oe=new c(P,H,q,Z,oe,Ae);this.ctx.transform=this.ctx.transform.multiply(Oe)},v.prototype.setTransform=function(P,H,q,Z,oe,Ae){P=isNaN(P)?1:P,H=isNaN(H)?0:H,q=isNaN(q)?0:q,Z=isNaN(Z)?1:Z,oe=isNaN(oe)?0:oe,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new c(P,H,q,Z,oe,Ae)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(P,H,q,Z,oe,Ae,Oe,Re,Ie){var ot=this.pdf.getImageProperties(P),it=1,Tt=1,Nt=1,we=1;Z!==void 0&&Re!==void 0&&(Nt=Re/Z,we=Ie/oe,it=ot.width/Z*Re/Z,Tt=ot.height/oe*Ie/oe),Ae===void 0&&(Ae=H,Oe=q,H=0,q=0),Z!==void 0&&Re===void 0&&(Re=Z,Ie=oe),Z===void 0&&Re===void 0&&(Re=ot.width,Ie=ot.height);var yt=this.ctx.transform.decompose(),xt=_e(yt.rotate.shx),zt=new c,dt=(zt=(zt=(zt=zt.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale)).applyToRectangle(new l(Ae-H*Nt,Oe-q*we,Z*it,oe*Tt));if(this.autoPaging){for(var Vt,jt=C.call(this,dt),sr=[],Xt=0;Xt<jt.length;Xt+=1)sr.indexOf(jt[Xt])===-1&&sr.push(jt[Xt]);R(sr);for(var Jt=sr[0],Er=sr[sr.length-1],dr=Jt;dr<Er+1;dr++){this.pdf.setPage(dr);var Nr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],or=dr===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_r=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=dr===1?0:Ft+(dr-2)*_r;if(this.ctx.clip_path.length!==0){var xn=this.path;Vt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Vt,this.posX+this.margin[3],-Wt+or+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=xn}var Mr=JSON.parse(JSON.stringify(dt));Mr=j([Mr],this.posX+this.margin[3],-Wt+or+this.ctx.prevPageLastElemOffset)[0];var Gt=(dr>Jt||dr<Er)&&S.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nr,_r,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Mr.x,Mr.y,Mr.w,Mr.h,null,null,xt),Gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,xt)};var C=function(P,H,q){var Z=[];H=H||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":Z.push(Math.floor((P.y+oe)/q)+1);break;case"arc":Z.push(Math.floor((P.y+oe-P.radius)/q)+1),Z.push(Math.floor((P.y+oe+P.radius)/q)+1);break;case"qct":var Ae=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);Z.push(Math.floor((Ae.y+oe)/q)+1),Z.push(Math.floor((Ae.y+Ae.h+oe)/q)+1);break;case"bct":var Oe=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);Z.push(Math.floor((Oe.y+oe)/q)+1),Z.push(Math.floor((Oe.y+Oe.h+oe)/q)+1);break;case"rect":Z.push(Math.floor((P.y+oe)/q)+1),Z.push(Math.floor((P.y+P.h+oe)/q)+1)}for(var Re=0;Re<Z.length;Re+=1)for(;this.pdf.internal.getNumberOfPages()<Z[Re];)O.call(this);return Z},O=function(){var P=this.fillStyle,H=this.strokeStyle,q=this.font,Z=this.lineCap,oe=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=H,this.font=q,this.lineCap=Z,this.lineWidth=oe,this.lineJoin=Ae},j=function(P,H,q){for(var Z=0;Z<P.length;Z++)switch(P[Z].type){case"bct":P[Z].x2+=H,P[Z].y2+=q;case"qct":P[Z].x1+=H,P[Z].y1+=q;default:P[Z].x+=H,P[Z].y+=q}return P},R=function(P){return P.sort(function(H,q){return H-q})},B=function(P,H){var q=this.fillStyle,Z=this.strokeStyle,oe=this.lineCap,Ae=this.lineWidth,Oe=Math.abs(Ae*this.ctx.transform.scaleX),Re=this.lineJoin;if(this.autoPaging){for(var Ie,ot,it=JSON.parse(JSON.stringify(this.path)),Tt=JSON.parse(JSON.stringify(this.path)),Nt=[],we=0;we<Tt.length;we++)if(Tt[we].x!==void 0)for(var yt=C.call(this,Tt[we]),xt=0;xt<yt.length;xt+=1)Nt.indexOf(yt[xt])===-1&&Nt.push(yt[xt]);for(var zt=0;zt<Nt.length;zt++)for(;this.pdf.internal.getNumberOfPages()<Nt[zt];)O.call(this);R(Nt);for(var dt=Nt[0],Vt=Nt[Nt.length-1],jt=dt;jt<Vt+1;jt++){this.pdf.setPage(jt),this.fillStyle=q,this.strokeStyle=Z,this.lineCap=oe,this.lineWidth=Oe,this.lineJoin=Re;var sr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xt=jt===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Er=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dr=jt===1?0:Jt+(jt-2)*Er;if(this.ctx.clip_path.length!==0){var Nr=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ie,this.posX+this.margin[3],-dr+Xt+this.ctx.prevPageLastElemOffset),J.call(this,P,!0),this.path=Nr}if(ot=JSON.parse(JSON.stringify(it)),this.path=j(ot,this.posX+this.margin[3],-dr+Xt+this.ctx.prevPageLastElemOffset),H===!1||jt===0){var or=(jt>dt||jt<Vt)&&S.call(this);or&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sr,Er,null).clip().discardPath()),J.call(this,P,H),or&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}this.path=it}else this.lineWidth=Oe,J.call(this,P,H),this.lineWidth=Ae},J=function(P,H){if((P!=="stroke"||H||!E.call(this))&&(P==="stroke"||H||!_.call(this))){for(var q,Z,oe=[],Ae=this.path,Oe=0;Oe<Ae.length;Oe++){var Re=Ae[Oe];switch(Re.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:Re,deltas:[],abs:[]});break;case"lt":var Ie=oe.length;if(Ae[Oe-1]&&!isNaN(Ae[Oe-1].x)&&(q=[Re.x-Ae[Oe-1].x,Re.y-Ae[Oe-1].y],Ie>0)){for(;Ie>=0;Ie--)if(oe[Ie-1].close!==!0&&oe[Ie-1].begin!==!0){oe[Ie-1].deltas.push(q),oe[Ie-1].abs.push(Re);break}}break;case"bct":q=[Re.x1-Ae[Oe-1].x,Re.y1-Ae[Oe-1].y,Re.x2-Ae[Oe-1].x,Re.y2-Ae[Oe-1].y,Re.x-Ae[Oe-1].x,Re.y-Ae[Oe-1].y],oe[oe.length-1].deltas.push(q);break;case"qct":var ot=Ae[Oe-1].x+2/3*(Re.x1-Ae[Oe-1].x),it=Ae[Oe-1].y+2/3*(Re.y1-Ae[Oe-1].y),Tt=Re.x+2/3*(Re.x1-Re.x),Nt=Re.y+2/3*(Re.y1-Re.y),we=Re.x,yt=Re.y;q=[ot-Ae[Oe-1].x,it-Ae[Oe-1].y,Tt-Ae[Oe-1].x,Nt-Ae[Oe-1].y,we-Ae[Oe-1].x,yt-Ae[Oe-1].y],oe[oe.length-1].deltas.push(q);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(Re)}}Z=H?null:P==="stroke"?"stroke":"fill";for(var xt=!1,zt=0;zt<oe.length;zt++)if(oe[zt].arc)for(var dt=oe[zt].abs,Vt=0;Vt<dt.length;Vt++){var jt=dt[Vt];jt.type==="arc"?K.call(this,jt.x,jt.y,jt.radius,jt.startAngle,jt.endAngle,jt.counterclockwise,void 0,H,!xt):ue.call(this,jt.x,jt.y),xt=!0}else if(oe[zt].close===!0)this.pdf.internal.out("h"),xt=!1;else if(oe[zt].begin!==!0){var sr=oe[zt].start.x,Xt=oe[zt].start.y;pe.call(this,oe[zt].deltas,sr,Xt),xt=!0}Z&&U.call(this,Z),H&&X.call(this)}},re=function(P){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-q;case"top":return P+H-q;case"hanging":return P+H-2*q;case"middle":return P+H/2-q;default:return P}},F=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(H,q){this.colorStops.push([H,q])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var K=function(P,H,q,Z,oe,Ae,Oe,Re,Ie){for(var ot=le.call(this,q,Z,oe,Ae),it=0;it<ot.length;it++){var Tt=ot[it];it===0&&(Ie?I.call(this,Tt.x1+P,Tt.y1+H):ue.call(this,Tt.x1+P,Tt.y1+H)),xe.call(this,P,H,Tt.x2,Tt.y2,Tt.x3,Tt.y3,Tt.x4,Tt.y4)}Re?X.call(this):U.call(this,Oe)},U=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(P,H){this.pdf.internal.out(r(P)+" "+n(H)+" m")},W=function(P){var H;switch(P.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var q,Z,oe,Ae=this.pdf.getTextDimensions(P.text),Oe=re.call(this,P.y),Re=F.call(this,Oe)-Ae.h,Ie=this.ctx.transform.applyToPoint(new s(P.x,Oe));if(this.autoPaging){var ot=this.ctx.transform.decompose(),it=new c;it=(it=(it=it.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale);for(var Tt=this.ctx.transform.applyToRectangle(new l(P.x,Oe,Ae.w,Ae.h)),Nt=it.applyToRectangle(new l(P.x,Re,Ae.w,Ae.h)),we=C.call(this,Nt),yt=[],xt=0;xt<we.length;xt+=1)yt.indexOf(we[xt])===-1&&yt.push(we[xt]);R(yt);for(var zt=yt[0],dt=yt[yt.length-1],Vt=zt;Vt<dt+1;Vt++){this.pdf.setPage(Vt);var jt=Vt===1?this.posY+this.margin[0]:this.margin[0],sr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[2],Jt=Xt-this.margin[0],Er=this.pdf.internal.pageSize.width-this.margin[1],dr=Er-this.margin[3],Nr=Vt===1?0:sr+(Vt-2)*Jt;if(this.ctx.clip_path.length!==0){var or=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(q,this.posX+this.margin[3],-1*Nr+jt),J.call(this,"fill",!0),this.path=or}var Ft=j([JSON.parse(JSON.stringify(Nt))],this.posX+this.margin[3],-Nr+jt+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*P.scale),oe=this.lineWidth,this.lineWidth=oe*P.scale);var _r=this.autoPaging!=="text";if(_r||Ft.y+Ft.h<=Xt){if(_r||Ft.y>=jt&&Ft.x<=Er){var Wt=_r?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Er-Ft.x)[0],xn=j([JSON.parse(JSON.stringify(Tt))],this.posX+this.margin[3],-Nr+jt+this.ctx.prevPageLastElemOffset)[0],Mr=_r&&(Vt>zt||Vt<dt)&&S.call(this);Mr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dr,Jt,null).clip().discardPath()),this.pdf.text(Wt,xn.x,xn.y,{angle:P.angle,align:H,renderingMode:P.renderingMode}),Mr&&this.pdf.restoreGraphicsState()}}else Ft.y<Xt&&(this.ctx.prevPageLastElemOffset+=Xt-Ft.y);P.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=oe)}}else P.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*P.scale),oe=this.lineWidth,this.lineWidth=oe*P.scale),this.pdf.text(P.text,Ie.x+this.posX,Ie.y+this.posY,{angle:P.angle,align:H,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=oe)},ue=function(P,H,q,Z){q=q||0,Z=Z||0,this.pdf.internal.out(r(P+q)+" "+n(H+Z)+" l")},pe=function(P,H,q){return this.pdf.lines(P,H,q,null,null)},xe=function(P,H,q,Z,oe,Ae,Oe,Re){this.pdf.internal.out([e(i(q+P)),e(a(Z+H)),e(i(oe+P)),e(a(Ae+H)),e(i(Oe+P)),e(a(Re+H)),"c"].join(" "))},le=function(P,H,q,Z){for(var oe=2*Math.PI,Ae=Math.PI/2;H>q;)H-=oe;var Oe=Math.abs(q-H);Oe<oe&&Z&&(Oe=oe-Oe);for(var Re=[],Ie=Z?-1:1,ot=H;Oe>1e-5;){var it=ot+Ie*Math.min(Oe,Ae);Re.push(be.call(this,P,ot,it)),Oe-=Math.abs(it-ot),ot=it}return Re},be=function(P,H,q){var Z=(q-H)/2,oe=P*Math.cos(Z),Ae=P*Math.sin(Z),Oe=oe,Re=-Ae,Ie=Oe*Oe+Re*Re,ot=Ie+Oe*oe+Re*Ae,it=4/3*(Math.sqrt(2*Ie*ot)-ot)/(Oe*Ae-Re*oe),Tt=Oe-it*Re,Nt=Re+it*Oe,we=Tt,yt=-Nt,xt=Z+H,zt=Math.cos(xt),dt=Math.sin(xt);return{x1:P*Math.cos(H),y1:P*Math.sin(H),x2:Tt*zt-Nt*dt,y2:Tt*dt+Nt*zt,x3:we*zt-yt*dt,y3:we*dt+yt*zt,x4:P*Math.cos(q),y4:P*Math.sin(q)}},_e=function(P){return 180*P/Math.PI},Le=function(P,H,q,Z,oe,Ae){var Oe=P+.5*(q-P),Re=H+.5*(Z-H),Ie=oe+.5*(q-oe),ot=Ae+.5*(Z-Ae),it=Math.min(P,oe,Oe,Ie),Tt=Math.max(P,oe,Oe,Ie),Nt=Math.min(H,Ae,Re,ot),we=Math.max(H,Ae,Re,ot);return new l(it,Nt,Tt-it,we-Nt)},Ne=function(P,H,q,Z,oe,Ae,Oe,Re){var Ie,ot,it,Tt,Nt,we,yt,xt,zt,dt,Vt,jt,sr,Xt,Jt=q-P,Er=Z-H,dr=oe-q,Nr=Ae-Z,or=Oe-oe,Ft=Re-Ae;for(ot=0;ot<41;ot++)zt=(yt=(it=P+(Ie=ot/40)*Jt)+Ie*((Nt=q+Ie*dr)-it))+Ie*(Nt+Ie*(oe+Ie*or-Nt)-yt),dt=(xt=(Tt=H+Ie*Er)+Ie*((we=Z+Ie*Nr)-Tt))+Ie*(we+Ie*(Ae+Ie*Ft-we)-xt),ot==0?(Vt=zt,jt=dt,sr=zt,Xt=dt):(Vt=Math.min(Vt,zt),jt=Math.min(jt,dt),sr=Math.max(sr,zt),Xt=Math.max(Xt,dt));return new l(Math.round(Vt),Math.round(jt),Math.round(sr-Vt),Math.round(Xt-jt))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,H,q=(P=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:H}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(fr.API),(function(t){var e=function(s){var l,c,f,p,v,y,_,E,S,C;for(c=[],f=0,p=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;p>f;f+=4)(v=(s.charCodeAt(f)<<24)+(s.charCodeAt(f+1)<<16)+(s.charCodeAt(f+2)<<8)+s.charCodeAt(f+3))!==0?(y=(v=((v=((v=((v=(v-(C=v%85))/85)-(S=v%85))/85)-(E=v%85))/85)-(_=v%85))/85)%85,c.push(y+33,_+33,E+33,S+33,C+33)):c.push(122);return(function(O,j){for(var R=j;R>0;R--)O.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var l,c,f,p,v,y=String,_="length",E=255,S="charCodeAt",C="slice",O="replace";for(s[C](-2),s=s[C](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),f=[],p=0,v=(s+=l="uuuuu"[C](s[_]%5||5))[_];v>p;p+=5)c=52200625*(s[S](p)-33)+614125*(s[S](p+1)-33)+7225*(s[S](p+2)-33)+85*(s[S](p+3)-33)+(s[S](p+4)-33),f.push(E&c>>24,E&c>>16,E&c>>8,E&c);return(function(j,R){for(var B=R;B>0;B--)j.pop()})(f,l[_]),y.fromCharCode.apply(y,f)},n=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",f=0;f<s.length;f+=2)c+=String.fromCharCode("0x"+(s[f]+s[f+1]));return c},a=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return(l=f_(l)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};t.processDataByFilters=function(s,l){var c=0,f=s||"",p=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(fr.API),(function(t){t.loadFile=function(e,r,n){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,f,p){var v=new XMLHttpRequest,y=0,_=function(E){var S=E.length,C=[],O=String.fromCharCode;for(y=0;y<S;y+=1)C.push(O(255&E.charCodeAt(y)));return C.join("")};if(v.open("GET",c,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?p(_(this.responseText)):p(void 0)}),v.send(null),f&&v.status===200)return _(v.responseText)})(i,a,s)}catch{}return l})(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(fr.API),(function(t){function e(){return(Or.html2canvas?Promise.resolve(Or.html2canvas):Qv(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Or.DOMPurify?Promise.resolve(Or.DOMPurify):Qv(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Gn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var f=document.createElement(l);for(var p in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[p]=c.style[p];return f},a=function l(c,f){for(var p=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),v=c.firstChild;v;v=v.nextSibling)f!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||p.appendChild(l(v,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(p.width=c.width,p.height=c.height,p.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(p.value=c.value),p.addEventListener("load",function(){p.scrollTop=c.scrollTop,p.scrollLeft=c.scrollLeft},!0)),p},s=function l(c){var f=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),p=l.convert(Promise.resolve(),f);return(p=p.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(f){return this.set({src:i("div",{innerHTML:l,dompurify:f})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var f=this.opt.jsPDF,p=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var _=0;_<p.length;++_){var E=p[_],S=E.src.find(function(C){return C.format==="truetype"});S&&f.addFont(S.url,E.ref.name,E.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,f.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(f){if(f in s.template.prop)return function(){this.prop[f]=l[f]};switch(f){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[f]=l[f]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var f=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(f):f})},s.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(l=l||fr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,f,p){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,f,p){return this.setProgress(l?this.progress.val+l:null,c||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},s.prototype.then=function(l,c){var f=this;return this.thenCore(l,c,function(p,v){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return f.updateProgress(null,p),y}).then(p,v).then(function(y){return f.updateProgress(1),y})})},s.prototype.thenCore=function(l,c,f){f=f||Promise.prototype.then;var p=this;l&&(l=l.bind(p)),c&&(c=c.bind(p));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:s.convert(Object.assign({},p),Promise.prototype),y=f.call(v,l,c);return s.convert(y,p.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(f){c=c.thenCore(f)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,fr.getPageSize=function(l,c,f){if(Gn(l)==="object"){var p=l;l=p.orientation,c=p.unit||c,f=p.format||f}c=c||"mm",f=f||"a4",l=(""+(l||"P")).toLowerCase();var v,y=(""+f).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+c}var E,S=0,C=0;if(_.hasOwnProperty(y))S=_[y][1]/v,C=_[y][0]/v;else try{S=f[1],C=f[0]}catch{throw new Error("Invalid format: "+f)}if(l==="p"||l==="portrait")l="p",C>S&&(E=C,C=S,S=E);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",S>C&&(E=C,C=S,S=E)}return{width:C,height:S,unit:c,k:v,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(v2):null;var f=new s(c);return c.worker?f:f.from(l).doCallback()}})(fr.API),fr.API.addJS=function(t){return w4=t,this.internal.events.subscribe("postPutResources",function(){jm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),x4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+w4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jm!==void 0&&x4!==void 0&&this.internal.out("/Names <</JavaScript "+jm+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=n.exec(s);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var v=r.internal.newObject();p.push(v);var y=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var _=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<p.length;a++)r.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+_+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(fr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,l){var c,f=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(v){for(var y,_=256*v.charCodeAt(4)+v.charCodeAt(5),E=v.length,S={width:0,height:0,numcomponents:1},C=4;C<E;C+=2){if(C+=_,e.indexOf(v.charCodeAt(C+1))!==-1){y=256*v.charCodeAt(C+5)+v.charCodeAt(C+6),S={width:256*v.charCodeAt(C+7)+v.charCodeAt(C+8),height:y,numcomponents:v.charCodeAt(C+9)};break}_=256*v.charCodeAt(C+2)+v.charCodeAt(C+3)}return S})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:f,index:n,alias:i}}return p}})(fr.API),fr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=VO(t,{checkCrc:!0}),s=a.width,l=a.height,c=a.channels,f=a.palette,p=a.depth;i=f&&c===1?(function(K){for(var U=K.width,X=K.height,I=K.data,W=K.palette,ue=K.depth,pe=!1,xe=[],le=[],be=void 0,_e=!1,Le=0,Ne=0;Ne<W.length;Ne++){var ee=T5(W[Ne],4),P=ee[0],H=ee[1],q=ee[2],Z=ee[3];xe.push(P,H,q),Z!=null&&(Z===0?(Le++,le.length<1&&le.push(Ne)):Z<255&&(_e=!0))}if(_e||Le>1){pe=!0,le=void 0;var oe=U*X;be=new Uint8Array(oe);for(var Ae=new DataView(I.buffer),Oe=0;Oe<oe;Oe++){var Re=y2(Ae,Oe,ue),Ie=T5(W[Re],4)[3];be[Oe]=Ie}}else Le===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:pe?8:void 0,colorBytes:I,alphaBytes:be,needSMask:pe,palette:xe,mask:le}})(a):c===2||c===4?(function(K){for(var U=K.data,X=K.width,I=K.height,W=K.channels,ue=K.depth,pe=W===2?"DeviceGray":"DeviceRGB",xe=W-1,le=X*I,be=xe,_e=le*be,Le=1*le,Ne=Math.ceil(_e*ue/8),ee=Math.ceil(Le*ue/8),P=new Uint8Array(Ne),H=new Uint8Array(ee),q=new DataView(U.buffer),Z=new DataView(P.buffer),oe=new DataView(H.buffer),Ae=!1,Oe=0;Oe<le;Oe++){for(var Re=Oe*W,Ie=0;Ie<be;Ie++)M4(Z,y2(q,Re+Ie,ue),Oe*be+Ie,ue);var ot=y2(q,Re+be,ue);ot<(1<<ue)-1&&(Ae=!0),M4(oe,ot,1*Oe,ue)}return{colorSpace:pe,colorsPerPixel:xe,sMaskBitsPerComponent:Ae?ue:void 0,colorBytes:P,alphaBytes:H,needSMask:Ae}})(a):(function(K){var U=K.data,X=K.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:X,colorsPerPixel:X==="DeviceGray"?1:3,colorBytes:U instanceof Uint16Array?(function(I){for(var W=I.length,ue=new Uint8Array(2*W),pe=new DataView(ue.buffer,ue.byteOffset,ue.byteLength),xe=0;xe<W;xe++)pe.setUint16(2*xe,I[xe],!1);return ue})(U):U,needSMask:!1}})(a);var v,y,_,E=i,S=E.colorSpace,C=E.colorsPerPixel,O=E.sMaskBitsPerComponent,j=E.colorBytes,R=E.alphaBytes,B=E.needSMask,J=E.palette,re=E.mask,F=null;return n!==fr.API.image_compression.NONE&&typeof f_=="function"?(F=(function(K){var U;switch(K){case fr.API.image_compression.FAST:U=11;break;case fr.API.image_compression.MEDIUM:U=13;break;case fr.API.image_compression.SLOW:U=14;break;default:U=12}return U})(n),v=this.decode.FLATE_DECODE,y="/Predictor ".concat(F," /Colors ").concat(C," /BitsPerComponent ").concat(p," /Columns ").concat(s),t=T4(j,Math.ceil(s*C*p/8),C,p,n),B&&(_=T4(R,Math.ceil(s*O/8),1,O,n))):(v=void 0,y=void 0,t=j,B&&(_=R)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:r,data:t,index:e,filter:v,decodeParameters:y,transparency:re,palette:J,sMask:_,predictor:F,width:s,height:l,bitsPerComponent:p,sMaskBitsPerComponent:O,colorSpace:S}}},(function(t){t.processGIF89A=function(e,r,n,i){var a=new fR(e),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:s,height:l},p=new x2(100).encode(f,100);return t.processJPEG.call(this,p,r,n,i)},t.processGIF87A=t.processGIF89A})(fr.API),zl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){ti.log("bit decode error:"+r)}},zl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},zl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,l=a>>4,c=15&a,f=this.palette[l];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},zl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},zl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,f=a>>15?255:0,p=n*this.width*4+4*i;this.data[p]=c,this.data[p+1]=l,this.data[p+2]=s,this.data[p+3]=f}this.pos+=t}},zl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,f=(s>>11)/e*255|0,p=i*this.width*4+4*a;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=255}this.pos+=t}},zl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},zl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=s}},zl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var a=new zl(e,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},f=new x2(100).encode(c,100);return t.processJPEG.call(this,f,r,n,i)}})(fr.API),P4.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var a=new P4(e),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},f=new x2(100).encode(c,100);return t.processJPEG.call(this,f,r,n,i)}})(fr.API),fr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,f=0;f<i;f+=4){var p=n[f],v=n[f+1],y=n[f+2],_=n[f+3];a[l++]=p,a[l++]=v,a[l++]=y,s[c++]=_}var E=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:E,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},fr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Df=fr.API,Im=Df.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,v=e.doKerning!==!1,y=0,_=t.length,E=0,S=l[0]||c,C=[];for(r=0;r<_;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(y=v&&Gn(f[n])==="object"&&!isNaN(parseInt(f[n][E],10))?f[n][E]/p:0,C.push((l[n]||S)/c+y)),E=n;return C},b4=Df.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Df.processArabic&&(t=Df.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Im.apply(this,arguments).reduce(function(a,s){return a+s},0)},S4=function(t,e,r,n){for(var i=[],a=0,s=t.length,l=0;a!==s&&l+e[a]<r;)l+=e[a],a++;i.push(t.slice(0,a));var c=a;for(l=0;a!==s;)l+e[a]>n&&(i.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(t.slice(c,a)),i},E4=function(t,e,r){r||(r={});var n,i,a,s,l,c,f,p=[],v=[p],y=r.textIndent||0,_=0,E=0,S=t.split(" "),C=Im.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var O=Array(c).join(" "),j=[];S.map(function(B){(B=B.split(/\s*\n/)).length>1?j=j.concat(B.map(function(J,re){return(re&&J.length?`
`:"")+J})):j.push(B[0])}),S=j,c=b4.apply(this,[O,r])}for(a=0,s=S.length;a<s;a++){var R=0;if(n=S[a],c&&n[0]==`
`&&(n=n.substr(1),R=1),y+_+(E=(i=Im.apply(this,[n,r])).reduce(function(B,J){return B+J},0))>e||R){if(E>e){for(l=S4.apply(this,[n,i,e-(y+_),e]),p.push(l.shift()),p=[l.pop()];l.length;)v.push([l.shift()]);E=i.slice(n.length-(p[0]?p[0].length:0)).reduce(function(B,J){return B+J},0)}else p=[n];v.push(p),y=E+c,_=C}else p.push(n),y+=_+E,_=C}return f=c?function(B,J){return(J?O:"")+B.join(" ")}:function(B){return B.join(" ")},v.map(f)},Df.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle),y="Unicode";return v.metadata[y]?{widths:v.metadata[y].widths||{0:1},kerning:v.metadata[y].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,f=[];for(l=0,c=n.length;l<c;l++)f=f.concat(E4.apply(this,[n[l],s,a]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var s=function(y){return"0x"+parseInt(y,10).toString(16)},l=t.__fontmetrics__.compress=function(y){var _,E,S,C,O=["{"];for(var j in y){if(_=y[j],isNaN(parseInt(j,10))?E="'"+j+"'":(j=parseInt(j,10),E=(E=s(j).slice(2)).slice(0,-1)+i[E.slice(-1)]),typeof _=="number")_<0?(S=s(_).slice(3),C="-"):(S=s(_).slice(2),C=""),S=C+S.slice(0,-1)+i[S.slice(-1)];else{if(Gn(_)!=="object")throw new Error("Don't know what to do with value type "+Gn(_)+".");S=l(_)}O.push(E+S)}return O.push("}"),O.join("")},c=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,E,S,C,O={},j=1,R=O,B=[],J="",re="",F=y.length-1,K=1;K<F;K+=1)(C=y[K])=="'"?_?(S=_.join(""),_=void 0):_=[]:_?_.push(C):C=="{"?(B.push([R,S]),R={},S=void 0):C=="}"?((E=B.pop())[0][E[1]]=R,S=void 0,R=E[0]):C=="-"?j=-1:S===void 0?n.hasOwnProperty(C)?(J+=n[C],S=parseInt(J,16)*j,j=1,J=""):J+=C:n.hasOwnProperty(C)?(re+=n[C],R[S]=parseInt(re,16)*j,j=1,S=void 0,re=""):re+=C;return O},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},v={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var _=y.font,E=v.Unicode[_.postScriptName];E&&(_.metadata.Unicode={},_.metadata.Unicode.widths=E.widths,_.metadata.Unicode.kerning=E.kerning);var S=p.Unicode[_.postScriptName];S&&(_.metadata.Unicode.encoding=S,_.encoding=S.codePages[0])}])})(fr.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(ng(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])})(fr),fr.API.addSvgAsImage=function(t,e,r,n,i,a,s,l){if(isNaN(e)||isNaN(r))throw ti.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw ti.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(Or.canvg?Promise.resolve(Or.canvg):Qv(()=>import("./index.es-z-Qo4fa4.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(f,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){v.addImage(c.toDataURL("image/jpeg",1),e,r,n,i,s,l)})},fr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},fr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],f=0,p=0,v=0;function y(E,S){var C,O=!1;for(C=0;C<E.length;C+=1)E[C]===S&&(O=!0);return O}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var _=l.length;for(v=0;v<_;v+=1)r[l[v]].value=r[l[v]].defaultValue,r[l[v]].explicitSet=!1}if(Gn(t)==="object"){for(i in t)if(a=t[i],y(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&y(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(f=0;f<a.length;f+=1)if(n=!0,a[f].length===1&&typeof a[f][0]=="number")c.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(n=!1);n===!0&&c.push([a[f][0]-1,a[f][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,S=[];for(E in r)r[E].explicitSet===!0&&(r[E].type==="name"?S.push("/"+E+" /"+r[E].value):S.push("/"+E+" "+r[E].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+s.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(fr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],v=0,y=a.length;v<y;++v){if(l=s.metadata.characterToGlyph(a.charCodeAt(v)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(v),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(f[4-l.length],l)}return p.join("")},n=function(a){var s,l,c,f,p,v,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],v=0,y=(l=Object.keys(a).sort(function(_,E){return _-E})).length;v<y;v++)s=l[v],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(f=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+f+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,f=s.newObject,p=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var v=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),_="",E=0;E<y.length;E++)_+=String.fromCharCode(y[E]);var S=f();p({data:_,addLength1:!0,objectId:S}),c("endobj");var C=f();p({data:n(l.metadata.toUnicode),addLength1:!0,objectId:C}),c("endobj");var O=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Wf(l.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+Wf(l.fontName)),c("/FontDescriptor "+O+" 0 R"),c("/W "+t.API.PDFObject.convert(v)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+C+" 0 R"),c("/BaseFont /"+Wf(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,f=s.newObject,p=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var v=l.metadata.rawData,y="",_=0;_<v.length;_++)y+=String.fromCharCode(v[_]);var E=f();p({data:y,addLength1:!0,objectId:E}),c("endobj");var S=f();p({data:n(l.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var C=f();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+E+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Wf(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=f();for(var O=0;O<l.metadata.hmtx.widths.length;O++)l.metadata.hmtx.widths[O]=parseInt(l.metadata.hmtx.widths[O]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Wf(l.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,f=a.y,p=a.options||{},v=a.mutex||{},y=v.pdfEscape,_=v.activeFontKey,E=v.fonts,S=_,C="",O=0,j="",R=E[S].encoding;if(E[S].encoding!=="Identity-H")return{text:l,x:c,y:f,options:p,mutex:v};for(j=l,S=_,Array.isArray(l)&&(j=l[0]),O=0;O<j.length;O+=1)E[S].metadata.hasOwnProperty("cmap")&&(s=E[S].metadata.cmap.unicode.codeMap[j[O].charCodeAt(0)]),s||j[O].charCodeAt(0)<256&&E[S].metadata.hasOwnProperty("Unicode")?C+=j[O]:C+="";var B="";return parseInt(S.slice(1))<14||R==="WinAnsiEncoding"?B=y(C,S).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(B=r(C,E[S])),v.isHex=!0,{text:B,x:c,y:f,options:p,mutex:v}};e.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?l.push([i(Object.assign({},c,{text:s[f][0]})).text,s[f][1],s[f][2]]):l.push(i(Object.assign({},c,{text:s[f]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])})(fr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(fr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,l,c,f,p,v=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],O=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,R=0;this.__bidiEngine__={};var B=function(I){var W=I.charCodeAt(),ue=W>>8,pe=S[ue];return pe!==void 0?v[256*pe+(255&W)]:ue===252||ue===253?"AL":O.test(ue)?"L":ue===8?"R":"N"},J=function(I){for(var W,ue=0;ue<I.length;ue++){if((W=B(I.charAt(ue)))==="L")return!1;if(W==="R")return!0}return!1},re=function(I,W,ue,pe){var xe,le,be,_e,Le=W[pe];switch(Le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(Le="AN");break;case"AL":j=!0,Le="R";break;case"WS":case"BN":Le="N";break;case"CS":pe<1||pe+1>=W.length||(xe=ue[pe-1])!=="EN"&&xe!=="AN"||(le=W[pe+1])!=="EN"&&le!=="AN"?Le="N":j&&(le="AN"),Le=le===xe?le:"N";break;case"ES":Le=(xe=pe>0?ue[pe-1]:"B")==="EN"&&pe+1<W.length&&W[pe+1]==="EN"?"EN":"N";break;case"ET":if(pe>0&&ue[pe-1]==="EN"){Le="EN";break}if(j){Le="N";break}for(be=pe+1,_e=W.length;be<_e&&W[be]==="ET";)be++;Le=be<_e&&W[be]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(_e=W.length,be=pe+1;be<_e&&W[be]==="NSM";)be++;if(be<_e){var Ne=I[pe],ee=Ne>=1425&&Ne<=2303||Ne===64286;if(xe=W[be],ee&&(xe==="R"||xe==="AL")){Le="R";break}}}Le=pe<1||(xe=W[pe-1])==="B"?"N":ue[pe-1];break;case"B":j=!1,i=!0,Le=R;break;case"S":a=!0,Le="N"}return Le},F=function(I,W,ue){var pe=I.split("");return ue&&K(pe,ue,{hiLevel:R}),pe.reverse(),W&&W.reverse(),pe.join("")},K=function(I,W,ue){var pe,xe,le,be,_e,Le=-1,Ne=I.length,ee=0,P=[],H=R?_:y,q=[];for(j=!1,i=!1,a=!1,xe=0;xe<Ne;xe++)q[xe]=B(I[xe]);for(le=0;le<Ne;le++){if(_e=ee,P[le]=re(I,q,P,le),pe=240&(ee=H[_e][E[P[le]]]),ee&=15,W[le]=be=H[ee][5],pe>0)if(pe===16){for(xe=Le;xe<le;xe++)W[xe]=1;Le=-1}else Le=-1;if(H[ee][6])Le===-1&&(Le=le);else if(Le>-1){for(xe=Le;xe<le;xe++)W[xe]=be;Le=-1}q[le]==="B"&&(W[le]=0),ue.hiLevel|=be}a&&(function(Z,oe,Ae){for(var Oe=0;Oe<Ae;Oe++)if(Z[Oe]==="S"){oe[Oe]=R;for(var Re=Oe-1;Re>=0&&Z[Re]==="WS";Re--)oe[Re]=R}})(q,W,Ne)},U=function(I,W,ue,pe,xe){if(!(xe.hiLevel<I)){if(I===1&&R===1&&!i)return W.reverse(),void(ue&&ue.reverse());for(var le,be,_e,Le,Ne=W.length,ee=0;ee<Ne;){if(pe[ee]>=I){for(_e=ee+1;_e<Ne&&pe[_e]>=I;)_e++;for(Le=ee,be=_e-1;Le<be;Le++,be--)le=W[Le],W[Le]=W[be],W[be]=le,ue&&(le=ue[Le],ue[Le]=ue[be],ue[be]=le);ee=_e}ee++}}},X=function(I,W,ue){var pe=I.split(""),xe={hiLevel:R};return ue||(ue=[]),K(pe,ue,xe),(function(le,be,_e){if(_e.hiLevel!==0&&p)for(var Le,Ne=0;Ne<le.length;Ne++)be[Ne]===1&&(Le=C.indexOf(le[Ne]))>=0&&(le[Ne]=C[Le+1])})(pe,ue,xe),U(2,pe,W,ue,xe),U(1,pe,W,ue,xe),pe.join("")};return this.__bidiEngine__.doBidiReorder=function(I,W,ue){if((function(xe,le){if(le)for(var be=0;be<xe.length;be++)le[be]=be;l===void 0&&(l=J(xe)),f===void 0&&(f=J(xe))})(I,W),s||!c||f)if(s&&c&&l^f)R=l?1:0,I=F(I,W,ue);else if(!s&&c&&f)R=l?1:0,I=X(I,W,ue),I=F(I,W);else if(!s||l||c||f){if(s&&!c&&l^f)I=F(I,W),l?(R=0,I=X(I,W,ue)):(R=1,I=X(I,W,ue),I=F(I,W));else if(s&&l&&!c&&f)R=1,I=X(I,W,ue),I=F(I,W);else if(!s&&!c&&l^f){var pe=p;l?(R=1,I=X(I,W,ue),R=0,p=!1,I=X(I,W,ue),p=pe):(R=0,I=X(I,W,ue),I=F(I,W),R=1,p=!1,I=X(I,W,ue),p=pe,I=F(I,W))}}else R=0,I=X(I,W,ue);else R=l?1:0,I=X(I,W,ue);return I},this.__bidiEngine__.setOptions=function(I){I&&(s=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,f=I.isOutputRtl,p=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([r.doBidiReorder(i[l])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(fr),fr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new rh(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new LR(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new dR(this.contents),this.head=new mR(this),this.name=new xR(this),this.cmap=new ZE(this),this.toUnicode={},this.hhea=new gR(this),this.maxp=new wR(this),this.hmtx=new bR(this),this.post=new _R(this),this.os2=new vR(this),this.loca=new AR(this),this.glyf=new SR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,f;for(f=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,l;for(s=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var eu,rh=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t})(),dR=(function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,l,c,f,p,v,y,_,E,S;for(S in _=Object.keys(r).length,c=Math.log(2),v=16*Math.floor(Math.log(_)/c),s=Math.floor(v/c),p=16*_-v,(i=new rh).writeInt(this.scalarType),i.writeShort(_),i.writeShort(v),i.writeShort(s),i.writeShort(p),a=16*_,f=i.pos+a,l=null,E=[],r)for(y=r[S],i.writeString(S),i.writeInt(t(y)),i.writeInt(f),i.writeInt(y.length),E=E.concat(y),S==="head"&&(l=f),f+=y.length;f%4;)E.push(0),f++;return i.write(E),n=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=YE.call(r);r.length%4;)r.push(0);for(a=new rh(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),pR={}.hasOwnProperty,ju=function(t,e){for(var r in e)pR.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};eu=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var mR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,eu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new rh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),O4=(function(){function t(e,r){var n,i,a,s,l,c,f,p,v,y,_,E,S,C,O,j,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(_=e.readUInt16(),y=_/2,e.pos+=6,a=(function(){var B,J;for(J=[],c=B=0;0<=y?B<y:B>y;c=0<=y?++B:--B)J.push(e.readUInt16());return J})(),e.pos+=2,S=(function(){var B,J;for(J=[],c=B=0;0<=y?B<y:B>y;c=0<=y?++B:--B)J.push(e.readUInt16());return J})(),f=(function(){var B,J;for(J=[],c=B=0;0<=y?B<y:B>y;c=0<=y?++B:--B)J.push(e.readUInt16());return J})(),p=(function(){var B,J;for(J=[],c=B=0;0<=y?B<y:B>y;c=0<=y?++B:--B)J.push(e.readUInt16());return J})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var B,J;for(J=[],c=B=0;0<=i?B<i:B>i;c=0<=i?++B:--B)J.push(e.readUInt16());return J})(),c=O=0,R=a.length;O<R;c=++O)for(C=a[c],n=j=E=S[c];E<=C?j<=C:j>=C;n=E<=C?++j:--j)p[c]===0?s=n+f[c]:(s=l[p[c]/2+(n-E)-(y-c)]||0)!==0&&(s+=f[c]),this.codeMap[n]=65535&s}e.pos=v}return t.encode=function(e,r){var n,i,a,s,l,c,f,p,v,y,_,E,S,C,O,j,R,B,J,re,F,K,U,X,I,W,ue,pe,xe,le,be,_e,Le,Ne,ee,P,H,q,Z,oe,Ae,Oe,Re,Ie,ot,it;switch(pe=new rh,s=Object.keys(e).sort(function(Tt,Nt){return Tt-Nt}),r){case"macroman":for(S=0,C=(function(){var Tt=[];for(E=0;E<256;++E)Tt.push(0);return Tt})(),j={0:0},a={},xe=0,Le=s.length;xe<Le;xe++)j[Re=e[i=s[xe]]]==null&&(j[Re]=++S),a[i]={old:e[i],new:j[e[i]]},C[i]=j[e[i]];return pe.writeUInt16(1),pe.writeUInt16(0),pe.writeUInt32(12),pe.writeUInt16(0),pe.writeUInt16(262),pe.writeUInt16(0),pe.write(C),{charMap:a,subtable:pe.data,maxGlyphID:S+1};case"unicode":for(W=[],v=[],R=0,j={},n={},O=f=null,le=0,Ne=s.length;le<Ne;le++)j[J=e[i=s[le]]]==null&&(j[J]=++R),n[i]={old:J,new:j[J]},l=j[J]-i,O!=null&&l===f||(O&&v.push(O),W.push(i),f=l),O=i;for(O&&v.push(O),v.push(65535),W.push(65535),X=2*(U=W.length),K=2*Math.pow(Math.log(U)/Math.LN2,2),y=Math.log(K/2)/Math.LN2,F=2*U-K,c=[],re=[],_=[],E=be=0,ee=W.length;be<ee;E=++be){if(I=W[E],p=v[E],I===65535){c.push(0),re.push(0);break}if(I-(ue=n[I].new)>=32768)for(c.push(0),re.push(2*(_.length+U-E)),i=_e=I;I<=p?_e<=p:_e>=p;i=I<=p?++_e:--_e)_.push(n[i].new);else c.push(ue-I),re.push(0)}for(pe.writeUInt16(3),pe.writeUInt16(1),pe.writeUInt32(12),pe.writeUInt16(4),pe.writeUInt16(16+8*U+2*_.length),pe.writeUInt16(0),pe.writeUInt16(X),pe.writeUInt16(K),pe.writeUInt16(y),pe.writeUInt16(F),Ae=0,P=v.length;Ae<P;Ae++)i=v[Ae],pe.writeUInt16(i);for(pe.writeUInt16(0),Oe=0,H=W.length;Oe<H;Oe++)i=W[Oe],pe.writeUInt16(i);for(Ie=0,q=c.length;Ie<q;Ie++)l=c[Ie],pe.writeUInt16(l);for(ot=0,Z=re.length;ot<Z;ot++)B=re[ot],pe.writeUInt16(B);for(it=0,oe=_.length;it<oe;it++)S=_[it],pe.writeUInt16(S);return{charMap:n,subtable:pe.data,maxGlyphID:R+1}}},t})(),ZE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,eu),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new O4(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=O4.encode(e,r),(i=new rh).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),gR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,eu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),vR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,eu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),_R=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,eu),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,l,c;for(c=[],a=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;a=0<=l?++s:--s)c.push(e.readUInt32());return c}).call(this)}},t})(),yR=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,eu),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,s,l,c,f,p,v,y;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=p=0,v=n.length;p<v;a=++p)i=n[a],e.pos=i.offset,f=e.readString(i.length),s=new yR(f,i),c[y=i.nameID]==null&&(c[y]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),wR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,eu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),bR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,eu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,s,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],r=f=0;0<=i?f<i:f>i;r=0<=i?++f:--f)p.push(e.readInt16());return p})(),this.widths=(function(){var f,p,v,y;for(y=[],f=0,p=(v=this.metrics).length;f<p;f++)a=v[f],y.push(a.advance);return y}).call(this),n=this.widths[this.widths.length-1],c=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),YE=[].slice,SR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,eu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,s,l,c,f,p,v;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(l=new rh(r.read(i))).readShort(),f=l.readShort(),v=l.readShort(),c=l.readShort(),p=l.readShort(),this.cache[e]=s===-1?new TR(l,f,v,c,p):new ER(l,s,f,v,c,p),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,s,l,c;for(s=[],a=[],l=0,c=r.length;l<c;l++)i=e[r[l]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},t})(),ER=(function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),TR=(function(){function t(e,r,n,i,a){var s,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new rh(YE.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),AR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,eu),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(i+=c)}for(var f=new Array(4*n.length),p=0;p<n.length;++p)f[4*p+3]=255&n[p],f[4*p+2]=(65280&n[p])>>8,f[4*p+1]=(16711680&n[p])>>16,f[4*p]=(4278190080&n[p])>>24;return f},t})(),LR=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,l,c;for(i={},s=0,l=e.length;s<l;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,l,c,f,p,v,y,_,E,S,C,O;for(i in n=ZE.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),_={0:0},O=n.charMap)_[(c=O[i]).old]=c.new;for(E in y=n.maxGlyphID,s)E in _||(_[E]=y++);return p=(function(j){var R,B;for(R in B={},j)B[j[R]]=R;return B})(_),v=Object.keys(p).sort(function(j,R){return j-R}),S=(function(){var j,R,B;for(B=[],j=0,R=v.length;j<R;j++)l=v[j],B.push(p[l]);return B})(),a=this.font.glyf.encode(s,S,_),f=this.font.loca.encode(a.offsets,S),C={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},t})();fr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+(function(){var l,c,f;for(f=[],l=0,c=r.length;l<c;l++)n=r[l],f.push(e.convert(n));return f})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e})();const w2=async t=>{try{const r=await(await fetch(t)).blob();return new Promise((n,i)=>{const a=new FileReader;a.onloadend=()=>n(a.result),a.onerror=i,a.readAsDataURL(r)})}catch(e){return console.error("Error loading image:",e),null}},NR=(t,e)=>new Promise(r=>{const n=document.createElement("canvas");n.width=600,n.height=450;const i=n.getContext("2d"),a=i.createLinearGradient(0,0,n.width,n.height);a.addColorStop(0,"#f8fafc"),a.addColorStop(1,"#e2e8f0"),i.fillStyle=a,i.fillRect(0,0,n.width,n.height),i.strokeStyle="#cbd5e1",i.lineWidth=.3;for(let c=0;c<=n.width;c+=25)i.beginPath(),i.moveTo(c,0),i.lineTo(c,n.height),i.stroke();for(let c=0;c<=n.height;c+=25)i.beginPath(),i.moveTo(0,c),i.lineTo(n.width,c),i.stroke();if(i.shadowColor="rgba(0, 0, 0, 0.1)",i.shadowBlur=10,i.strokeStyle="#64748b",i.lineWidth=3,i.strokeRect(5,5,n.width-10,n.height-10),i.shadowBlur=0,t&&t.type==="Polygon"){const c=t.coordinates[0],f=c.map(F=>F[0]),p=c.map(F=>F[1]),v=Math.min(...f),y=Math.max(...f),_=Math.min(...p),E=Math.max(...p),S=60,C=(n.width-2*S)/(y-v),O=(n.height-2*S)/(E-_),j=Math.min(C,O),R=F=>S+(F-v)*j,B=F=>n.height-(S+(F-_)*j);i.shadowColor="rgba(37, 99, 235, 0.3)",i.shadowBlur=15,i.shadowOffsetX=5,i.shadowOffsetY=5;const J=i.createLinearGradient(0,0,n.width,n.height);J.addColorStop(0,"rgba(59, 130, 246, 0.2)"),J.addColorStop(1,"rgba(37, 99, 235, 0.3)"),i.fillStyle=J,i.beginPath(),c.forEach((F,K)=>{const U=R(F[0]),X=B(F[1]);K===0?i.moveTo(U,X):i.lineTo(U,X)}),i.closePath(),i.fill(),i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0,i.strokeStyle="#1d4ed8",i.lineWidth=3,i.stroke(),c.forEach((F,K)=>{if(K<c.length-1){const U=R(F[0]),X=B(F[1]);i.beginPath(),i.arc(U,X,8,0,2*Math.PI),i.fillStyle="rgba(37, 99, 235, 0.3)",i.fill(),i.beginPath(),i.arc(U,X,5,0,2*Math.PI),i.fillStyle="#1e40af",i.fill(),i.beginPath(),i.arc(U,X,2,0,2*Math.PI),i.fillStyle="#ffffff",i.fill(),i.fillStyle="#1e293b",i.font="bold 10px Arial",i.fillText(`P${K+1}`,U+10,X-10)}}),i.font="bold 11px Arial",i.textAlign="center";for(let F=0;F<c.length-1;F++){const K=c[F],U=c[(F+1)%(c.length-1)]||c[F+1],X=R(K[0]),I=B(K[1]),W=R(U[0]),ue=B(U[1]),pe=6371e3,xe=K[1]*Math.PI/180,le=U[1]*Math.PI/180,be=(U[1]-K[1])*Math.PI/180,_e=(U[0]-K[0])*Math.PI/180,Le=Math.sin(be/2)*Math.sin(be/2)+Math.cos(xe)*Math.cos(le)*Math.sin(_e/2)*Math.sin(_e/2),Ne=2*Math.atan2(Math.sqrt(Le),Math.sqrt(1-Le)),ee=pe*Ne,P=(X+W)/2,H=(I+ue)/2;i.fillStyle="#1e40af";const q=55,Z=18;i.beginPath(),i.roundRect(P-q/2,H-Z/2,q,Z,4),i.fill(),i.fillStyle="#ffffff",i.fillText(`${ee.toFixed(1)}m`,P,H+4)}const re=n.width/2;i.fillStyle="#059669",i.beginPath(),i.roundRect(re-60,20,120,30,6),i.fill(),i.fillStyle="#ffffff",i.font="bold 14px Arial",i.fillText(`Area: ${e||0} m`,re,40)}const s=n.width-50,l=50;i.beginPath(),i.arc(s,l,20,0,2*Math.PI),i.fillStyle="#ffffff",i.fill(),i.strokeStyle="#64748b",i.lineWidth=2,i.stroke(),i.fillStyle="#dc2626",i.beginPath(),i.moveTo(s,l-12),i.lineTo(s-6,l+5),i.lineTo(s,l),i.lineTo(s+6,l+5),i.closePath(),i.fill(),i.fillStyle="#1e293b",i.font="bold 10px Arial",i.textAlign="center",i.fillText("N",s,l+15),i.fillStyle="#64748b",i.font="9px Arial",i.textAlign="left",i.fillText("Scale: Approximate",15,n.height-15),r(n.toDataURL("image/png"))}),Pn={primary:[37,99,235],primaryDark:[30,64,175],success:[5,150,105],warning:[245,158,11],danger:[220,38,38],gray:[100,116,139],grayLight:[241,245,249],white:[255,255,255],black:[15,23,42]},X_=async t=>{const e=new fr("p","mm","a4"),r=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),i=12,a=r-2*i;let s=0;const l=X=>e.setTextColor(X[0],X[1],X[2]),c=X=>e.setFillColor(X[0],X[1],X[2]),f=X=>e.setDrawColor(X[0],X[1],X[2]),p=(X=50)=>s>n-X?(e.addPage(),s=i+10,!0):!1,v=(X,I,W)=>(c(Pn.primary),e.roundedRect(i,W,a,10,2,2,"F"),c(Pn.primaryDark),e.rect(i,W,4,10,"F"),e.setFontSize(11),e.setFont("helvetica","bold"),l(Pn.white),e.text(`${I}  ${X}`,i+8,W+7),W+14),y=(X,I,W,ue,pe=80)=>{e.setFontSize(8),e.setFont("helvetica","normal"),l(Pn.gray),e.text(X,W,ue),e.setFontSize(9),e.setFont("helvetica","bold"),l(Pn.black);const xe=I!=null&&I!==""?String(I):"";e.text(xe.substring(0,40),W,ue+4)},_=(X,I,W,ue)=>{f(Pn.gray),e.setLineWidth(.3),e.rect(W,ue-3,3.5,3.5),I&&(c(Pn.success),e.rect(W+.5,ue-2.5,2.5,2.5,"F")),e.setFontSize(8),e.setFont("helvetica","normal"),l(Pn.black),e.text(X,W+5,ue)},E=(X,I,W,ue,pe,xe,le)=>{c(le),e.roundedRect(X,I,W,ue,2,2,"F"),e.setFontSize(8),e.setFont("helvetica","normal"),l(Pn.white),e.text(pe,X+W/2,I+6,{align:"center"}),e.setFontSize(14),e.setFont("helvetica","bold"),e.text(String(xe||""),X+W/2,I+14,{align:"center"})};c(Pn.primary),e.rect(0,0,r,45,"F"),c(Pn.primaryDark),e.rect(0,40,r,5,"F"),c(Pn.white),e.circle(20,20,10,"F"),e.setFontSize(6),l(Pn.primary),e.text("LOGO",20,21,{align:"center"}),e.setFontSize(20),e.setFont("helvetica","bold"),l(Pn.white),e.text("Property Tax Assessment Report",35,18),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Annexure-A Form | Official Survey Document",35,26),e.setFontSize(8),e.text(`Generated: ${new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,r-i,18,{align:"right"}),e.text(`Document ID: ${t.id?.substring(0,8)||"N/A"}`,r-i,24,{align:"right"}),s=52;const S=(a-9)/4;if(E(i,s,S,18,"Building ID",t.building_id||"N/A",Pn.primary),E(i+S+3,s,S,18,"Total Area",`${t.area_sqm||0} m`,Pn.success),E(i+(S+3)*2,s,S,18,"Floor",`${t.floor_number||1}/${t.total_floors||1}`,Pn.warning),E(i+(S+3)*3,s,S,18,"Status",t.status||"Pending",Pn.gray),s+=25,t.geometry)try{c(Pn.grayLight),e.roundedRect(i,s,a,75,3,3,"F"),f([203,213,225]),e.setLineWidth(.5),e.roundedRect(i,s,a,75,3,3);const X=await NR(t.geometry,t.area_sqm);e.addImage(X,"PNG",i+5,s+3,a-10,69),s+=80}catch(X){console.error("Error adding CAD diagram:",X),s+=10}p(60),s=v("Owner Information","",s);const C=i+3,O=i+a/3+3,j=i+a/3*2+3;if(y("Owner Name",t.owner_name,C,s),y("Phone Number",t.phone_number,O,s),y("Aadhaar Number",t.aadhaar_number,j,s),s+=12,y("Email Address",t.email_address,C,s),y("Family Members",t.family_members_count,O,s),y("Ownership Type",t.ownership_type,j,s),s+=12,y("Occupier Name",t.occupier_name,C,s),s+=15,p(50),s=v("Location Details","",s),y("7/12 Survey/Gat No",t.survey_gat_no,C,s),y("City Survey No",t.city_survey_no,O,s),y("Layout/Plot No",t.layout_name_plot_no,j,s),s+=12,y("Building Name",t.building_name,C,s),y("Nearest Road Type",t.nearest_road_type,O,s),y("Pin Code",t.pin_code,j,s),s+=12,y("Property Type",t.property_type,C,s),y("Usage Type",t.usage_type,O,s),y("Usage Sub-Type",t.usage_sub_type,j,s),s+=12,y("Full Address with Floor",t.address_with_floor,C,s,a-6),s+=15,p(50),s=v("Construction Details","",s),y("Construction Type",t.construction_type,C,s),y("Year of Construction",t.year_of_construction,O,s),t.year_of_construction){const X=new Date().getFullYear()-t.year_of_construction;y("Building Age",`${X} years`,j,s)}s+=12,y("Permission No",t.permission_no,C,s),y("Permission Date",t.permission_date,O,s),s+=10,_("Building Permission",t.building_permission,C,s),_("Occupancy Certificate",t.occupancy_certificate,O,s),s+=12,p(50),s=v("Water Supply Details","",s),_("Water Connection Available",t.water_connection,C,s),s+=8,t.water_connection&&(y("Connection Type",t.water_connection_type,C,s),y("Authorization",t.water_authorized,O,s),y("Pipe Size",t.pipe_size,j,s),s+=12,y("Meter No",t.water_meter_no,C,s),y("Consumer No",t.water_consumer_no,O,s),y("Connection Date",t.water_connection_date,j,s),s+=12),s+=5,p(50),s=v("Sanitation & Utilities","",s);const R=C,B=i+a/2;_("Has Toilet",t.has_toilet,R,s),_("Electricity Connection",t.electricity_connection,B,s),s+=7,_("Septic Tank",t.has_septic_tank,R,s),_("Solar Panels",t.has_solar,B,s),s+=7,_("Sewerage Connection",t.has_sewerage,R,s),_("Rain Water Harvesting",t.has_rainwater_harvesting,B,s),s+=7,_("Property Tax Paid",t.tax_paid,R,s),t.has_toilet&&t.toilet_count&&y("Toilet Count",t.toilet_count,B,s-2),s+=12,p(60),s=v("Assessment Details","",s),y("ULB Name",t.ulb_name,C,s),y("District",t.district,O,s),y("Town",t.town,j,s),s+=12,y("Zone No",t.zone_no,C,s),y("New Ward No",t.new_ward_no,O,s),y("Old Ward No",t.old_ward_no,j,s),s+=12,y("Old Property No",t.old_property_no,C,s),y("New Property No",t.new_property_no,O,s),s+=12,c([240,253,244]),e.roundedRect(i,s,a,16,2,2,"F"),s+=4,y("Total Carpet Area (m)",t.total_carpet_area,C,s),y("Exempted Area (m)",t.exempted_area,O,s),y("Assessable Area (m)",t.assessable_area,j,s),s+=18,p(80),s=v("Photo Documentation","",s);let J=i+5;const re=45,F=55;if(t.owner_photo_url)try{const X=await w2(t.owner_photo_url);X&&(c(Pn.grayLight),e.roundedRect(J-2,s,re+4,F+12,2,2,"F"),e.addImage(X,"JPEG",J,s+2,re,F),e.setFontSize(7),e.setFont("helvetica","bold"),l(Pn.gray),e.text("Owner Photo",J+re/2,s+F+8,{align:"center"}),J+=re+15)}catch(X){console.error("Error adding owner photo:",X)}if(t.building_photo_url)try{const X=await w2(t.building_photo_url);X&&(c(Pn.grayLight),e.roundedRect(J-2,s,re+4,F+12,2,2,"F"),e.addImage(X,"JPEG",J,s+2,re,F),e.setFontSize(7),e.setFont("helvetica","bold"),l(Pn.gray),e.text("Building Front",J+re/2,s+F+8,{align:"center"}),J+=re+15)}catch(X){console.error("Error adding building photo 1:",X)}if(t.building_photo_url_2)try{const X=await w2(t.building_photo_url_2);X&&(c(Pn.grayLight),e.roundedRect(J-2,s,re+4,F+12,2,2,"F"),e.addImage(X,"JPEG",J,s+2,re,F),e.setFontSize(7),e.setFont("helvetica","bold"),l(Pn.gray),e.text("Building Side",J+re/2,s+F+8,{align:"center"}))}catch(X){console.error("Error adding building photo 2:",X)}s+=F+20,p(30),c(Pn.grayLight),e.roundedRect(i,s,a,20,2,2,"F"),s+=6,e.setFontSize(8),e.setFont("helvetica","bold"),l(Pn.gray),e.text("Survey Metadata",i+5,s),s+=6,e.setFont("helvetica","normal"),e.setFontSize(7),e.text(`Survey ID: ${t.id||"N/A"}`,i+5,s),e.text(`Created: ${t.created_at?new Date(t.created_at).toLocaleString("en-IN"):"N/A"}`,i+70,s),e.text(`Surveyor ID: ${t.surveyor_id?.substring(0,12)||"N/A"}...`,i+140,s);const K=e.internal.getNumberOfPages();for(let X=1;X<=K;X++)e.setPage(X),f(Pn.primary),e.setLineWidth(.5),e.line(i,n-12,r-i,n-12),e.setFontSize(7),l(Pn.gray),e.text("Property Tax Assessment System | Annexure-A Form | Official Document | Confidential",r/2,n-8,{align:"center"}),e.setFont("helvetica","bold"),l(Pn.primary),e.text(`Page ${X} of ${K}`,r-i,n-8,{align:"right"});const U=`Annexure_A_${t.building_id||t.id?.substring(0,8)||"Survey"}_${new Date().toISOString().split("T")[0]}.pdf`;e.save(U)},KE=de.createContext(),XE=()=>{const t=de.useContext(KE);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},CR=({children:t})=>{const[e,r]=de.useState([]),n=de.useCallback((f,p="info",v=4e3)=>{const y=Date.now();return r(_=>[..._,{id:y,message:f,type:p,duration:v}]),y},[]),i=de.useCallback(f=>{r(p=>p.filter(v=>v.id!==f))},[]),a=de.useCallback((f,p)=>n(f,"success",p),[n]),s=de.useCallback((f,p)=>n(f,"error",p),[n]),l=de.useCallback((f,p)=>n(f,"info",p),[n]),c=de.useCallback((f,p)=>n(f,"warning",p),[n]);return x.jsxs(KE.Provider,{value:{success:a,error:s,info:l,warning:c,removeToast:i},children:[t,x.jsx(MR,{toasts:e,removeToast:i})]})},MR=({toasts:t,removeToast:e})=>x.jsx("div",{className:"fixed bottom-4 right-4 z-[10000] flex flex-col gap-2 max-w-sm w-full px-4 sm:px-0",children:t.map(r=>x.jsx(kR,{...r,onClose:()=>e(r.id)},r.id))}),kR=({id:t,message:e,type:r,duration:n,onClose:i})=>{const[a,s]=de.useState(!1),[l,c]=de.useState(100);de.useEffect(()=>{setTimeout(()=>s(!0),10);const y=Date.now(),_=setInterval(()=>{const S=Date.now()-y,C=Math.max(0,100-S/n*100);c(C)},50),E=setTimeout(()=>{s(!1),setTimeout(i,300)},n);return()=>{clearInterval(_),clearTimeout(E)}},[n,i]);const f={success:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),error:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),warning:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),info:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},p={success:"bg-green-500 text-white",error:"bg-red-500 text-white",warning:"bg-yellow-500 text-white",info:"bg-blue-500 text-white"},v={success:"bg-green-300",error:"bg-red-300",warning:"bg-yellow-300",info:"bg-blue-300"};return x.jsx("div",{className:`transform transition-all duration-300 ease-out ${a?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:x.jsxs("div",{className:`${p[r]} rounded-xl shadow-lg overflow-hidden`,children:[x.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[x.jsx("div",{className:"flex-shrink-0",children:f[r]}),x.jsx("p",{className:"flex-1 text-sm font-medium",children:e}),x.jsx("button",{onClick:()=>{s(!1),setTimeout(i,300)},className:"flex-shrink-0 p-1 rounded-full hover:bg-white/20 transition-colors",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"h-1 bg-black/10",children:x.jsx("div",{className:`h-full ${v[r]} transition-all duration-100 ease-linear`,style:{width:`${l}%`}})})]})})},PR="indicesSurveyDB",OR=1,yl={PENDING_SURVEYS:"pendingSurveys",CACHED_DATA:"cachedData"};let oc=null,b2=!1;const RR=()=>{if(!oc)return!1;try{return oc.objectStoreNames!==void 0}catch{return!1}},s1=()=>new Promise((t,e)=>{if(RR()){t(oc);return}if(oc=null,b2){t(null);return}try{const r=indexedDB.open(PR,OR);r.onerror=()=>{console.error("Error opening IndexedDB:",r.error),b2=!0,t(null)},r.onsuccess=()=>{oc=r.result,oc.onclose=()=>{console.log("IndexedDB connection closed"),oc=null},oc.onerror=n=>{console.error("IndexedDB error:",n)},console.log("IndexedDB initialized successfully"),t(oc)},r.onupgradeneeded=n=>{const i=n.target.result;if(!i.objectStoreNames.contains(yl.PENDING_SURVEYS)){const a=i.createObjectStore(yl.PENDING_SURVEYS,{keyPath:"id",autoIncrement:!0});a.createIndex("timestamp","timestamp",{unique:!1}),a.createIndex("status","status",{unique:!1})}i.objectStoreNames.contains(yl.CACHED_DATA)||i.createObjectStore(yl.CACHED_DATA,{keyPath:"key"})}}catch(r){console.error("IndexedDB not available:",r),b2=!0,t(null)}}),R4=async t=>{const e=await s1();return e?new Promise((r,n)=>{try{const a=e.transaction([yl.PENDING_SURVEYS],"readwrite").objectStore(yl.PENDING_SURVEYS),s={...t,timestamp:Date.now(),status:"pending",attempts:0,lastAttempt:null},l=a.add(s);l.onsuccess=()=>{console.log("Survey added to pending queue, ID:",l.result),r(l.result)},l.onerror=()=>{console.error("Error adding survey to queue:",l.error),n(l.error)}}catch(i){console.error("Transaction error:",i),r(null)}}):(console.warn("IndexedDB not available, cannot queue survey"),null)},JE=async()=>{const t=await s1();return t?new Promise(e=>{try{const i=t.transaction([yl.PENDING_SURVEYS],"readonly").objectStore(yl.PENDING_SURVEYS).getAll();i.onsuccess=()=>{e(i.result||[])},i.onerror=()=>{console.error("Error getting pending surveys:",i.error),e([])}}catch(r){console.error("Transaction error:",r),e([])}}):[]},DR=async()=>{try{return(await JE()).filter(e=>e.status==="pending"||e.status==="failed").length}catch(t){return console.error("Error getting pending count:",t),0}},D4=async(t,e,r=null)=>{const n=await s1();return new Promise((i,a)=>{const l=n.transaction([yl.PENDING_SURVEYS],"readwrite").objectStore(yl.PENDING_SURVEYS),c=l.get(t);c.onsuccess=()=>{const f=c.result;if(!f){a(new Error("Survey not found"));return}f.status=e,f.lastAttempt=Date.now(),f.attempts+=1,r&&(f.lastError=r);const p=l.put(f);p.onsuccess=()=>i(f),p.onerror=()=>a(p.error)},c.onerror=()=>a(c.error)})},jR=async t=>{const e=await s1();return new Promise((r,n)=>{const s=e.transaction([yl.PENDING_SURVEYS],"readwrite").objectStore(yl.PENDING_SURVEYS).delete(t);s.onsuccess=()=>r(!0),s.onerror=()=>n(s.error)})},x_=()=>navigator.onLine,IR=t=>{const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}},FR=({onSyncComplete:t})=>{const[e,r]=de.useState(x_()),[n,i]=de.useState(0),[a,s]=de.useState(!1),[l,c]=de.useState(!1),[f,p]=de.useState(null);de.useEffect(()=>{v();const _=IR(S=>{r(S),S&&y()}),E=setInterval(v,3e4);return()=>{_(),clearInterval(E)}},[]);const v=async()=>{try{const _=await DR();i(_)}catch(_){console.error("Error getting pending count:",_)}},y=async()=>{if(!(!e||a)){s(!0),p(null);try{const E=(await JE()).filter(j=>j.status==="pending"||j.status==="failed");if(E.length===0){p({success:!0,synced:0,message:"Nothing to sync"}),s(!1);return}let S=0,C=0;for(const j of E)try{await D4(j.id,"syncing");const{id:R,timestamp:B,status:J,attempts:re,lastAttempt:F,lastError:K,...U}=j,{error:X}=await ln.from("surveys").insert([U]);if(X)throw X;await jR(j.id),S++}catch(R){console.error("Error syncing survey:",R),await D4(j.id,"failed",R.message),C++}const O=C>0?`Synced ${S}, failed ${C}`:`Successfully synced ${S} surveys`;p({success:C===0,synced:S,failed:C,message:O}),await v(),t&&t({synced:S,failed:C})}catch(_){console.error("Sync error:",_),p({success:!1,message:"Sync failed: "+_.message})}finally{s(!1),setTimeout(()=>p(null),5e3)}}};return e&&n===0&&!f?null:x.jsxs("div",{className:"fixed bottom-4 left-4 z-[1500]",children:[x.jsxs("div",{onClick:()=>c(!l),className:`flex items-center gap-3 px-4 py-3 rounded-full shadow-lg cursor-pointer transition-all ${e?n>0?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white":"bg-green-500 text-white":"bg-gradient-to-r from-amber-500 to-orange-500 text-white"}`,children:[x.jsxs("div",{className:"relative",children:[e?a?x.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}):x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})}),n>0&&x.jsx("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:n})]}),x.jsx("span",{className:"text-sm font-medium",children:e?a?"Syncing...":n>0?`${n} Pending`:"Online":"Offline Mode"})]}),l&&x.jsxs("div",{className:"mt-2 bg-white rounded-2xl shadow-xl p-4 min-w-[280px] border border-gray-100",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h4",{className:"font-semibold text-gray-800",children:"Sync Status"}),x.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[x.jsx("div",{className:`w-3 h-3 rounded-full ${e?"bg-green-500":"bg-amber-500"}`}),x.jsx("span",{className:"text-sm text-gray-600",children:e?"Connected to internet":"No internet connection"})]}),n>0&&x.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 mb-3",children:[x.jsxs("p",{className:"text-sm text-blue-800",children:[x.jsx("span",{className:"font-semibold",children:n})," surveys waiting to sync"]}),x.jsx("p",{className:"text-xs text-blue-600 mt-1",children:e?"Ready to sync when you tap the button":"Will sync automatically when online"})]}),f&&x.jsx("div",{className:`rounded-lg p-3 mb-3 ${f.success?"bg-green-50":"bg-red-50"}`,children:x.jsxs("p",{className:`text-sm font-medium ${f.success?"text-green-800":"text-red-800"}`,children:[f.success?"":""," ",f.message]})}),e&&n>0&&x.jsx("button",{onClick:y,disabled:a,className:"w-full py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-medium hover:from-blue-600 hover:to-indigo-700 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:a?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"animate-spin",children:""}),"Syncing..."]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{children:""}),"Sync Now"]})}),!e&&x.jsx("div",{className:"text-center py-2",children:x.jsx("p",{className:"text-sm text-gray-500",children:"Your surveys are saved locally and will sync when you're back online."})})]})]})};var Sg={};Sg.version="0.18.5";var QE=1252,BR=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],e6=function(t){BR.indexOf(t)!=-1&&(QE=t)};function UR(){e6(1252)}var J0=function(t){e6(t)};function zR(){J0(1200),UR()}var Fm=function(e){return String.fromCharCode(e)},j4=function(e){return String.fromCharCode(e)},Eg,Jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Q0(t){for(var e="",r=0,n=0,i=0,a=0,s=0,l=0,c=0,f=0;f<t.length;)r=t.charCodeAt(f++),a=r>>2,n=t.charCodeAt(f++),s=(r&3)<<4|n>>4,i=t.charCodeAt(f++),l=(n&15)<<2|i>>6,c=i&63,isNaN(n)?l=c=64:isNaN(i)&&(c=64),e+=Jc.charAt(a)+Jc.charAt(s)+Jc.charAt(l)+Jc.charAt(c);return e}function fc(t){var e="",r=0,n=0,i=0,a=0,s=0,l=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)a=Jc.indexOf(t.charAt(f++)),s=Jc.indexOf(t.charAt(f++)),r=a<<2|s>>4,e+=String.fromCharCode(r),l=Jc.indexOf(t.charAt(f++)),n=(s&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(n)),c=Jc.indexOf(t.charAt(f++)),i=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var Cn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),_c=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Bh(t){return Cn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function I4(t){return Cn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Wl=function(e){return Cn?_c(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function o1(t){if(typeof ArrayBuffer>"u")return Wl(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function _p(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function GR(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var gs=Cn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:_c(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function HR(t){for(var e=[],r=0,n=t.length+250,i=Bh(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var l=t.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|l>>6&15|(s&3)<<4,i[r++]=128|l&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(e.push(i.slice(0,r)),r=0,i=Bh(65535),n=65530)}return e.push(i.slice(0,r)),gs(e)}var N0=/\u0000/g,Bm=/[\u0001-\u0006]/g;function cd(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Yl(t,e){var r=""+t;return r.length>=e?r:Yi("0",e-r.length)+r}function J_(t,e){var r=""+t;return r.length>=e?r:Yi(" ",e-r.length)+r}function Tg(t,e){var r=""+t;return r.length>=e?r:r+Yi(" ",e-r.length)}function qR(t,e){var r=""+Math.round(t);return r.length>=e?r:Yi("0",e-r.length)+r}function VR(t,e){var r=""+t;return r.length>=e?r:Yi("0",e-r.length)+r}var F4=Math.pow(2,32);function jf(t,e){if(t>F4||t<-F4)return qR(t,e);var r=Math.round(t);return VR(r,e)}function Ag(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var B4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],S2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function $R(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Xi={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},U4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},WR={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Lg(t,e,r){for(var n=t<0?-1:1,i=t*n,a=0,s=1,l=0,c=1,f=0,p=0,v=Math.floor(i);f<e&&(v=Math.floor(i),l=v*s+a,p=v*f+c,!(i-v<5e-8));)i=1/(i-v),a=s,s=l,c=f,f=p;if(p>e&&(f>e?(p=c,l=a):(p=f,l=s)),!r)return[0,n*l,p];var y=Math.floor(n*l/p);return[y,n*l-y*p,p]}function Um(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),a=0,s=[],l={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++n,++l.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=e9(c,s))}return l.y=s[0],l.m=s[1],l.d=s[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=a,l}var t6=new Date(1899,11,31,0,0,0),ZR=t6.getTime(),YR=new Date(1900,2,1,0,0,0);function r6(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=YR&&(r+=1440*60*1e3),(r-(ZR+(t.getTimezoneOffset()-t6.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Q_(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function KR(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function XR(t){var e=t<0?12:11,r=Q_(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function JR(t){var e=Q_(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function QR(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=XR(t):e===10?r=t.toFixed(10).substr(0,12):r=JR(t),Q_(KR(r.toUpperCase()))}function w_(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):QR(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return nh(14,r6(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function e9(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function t9(t,e,r,n){var i="",a=0,s=0,l=r.y,c,f=0;switch(t){case 98:l=r.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,f=2;break;default:c=l%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:c=r.m,f=e.length;break;case 3:return S2[r.m-1][1];case 5:return S2[r.m-1][0];default:return S2[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=r.d,f=e.length;break;case 3:return B4[r.q][0];default:return B4[r.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(r.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=r.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=r.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Yl(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=Yl(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:c=l,f=1;break}var p=f>0?Yl(c,f):"";return p}function Qc(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var n6=/%/g;function r9(t,e,r){var n=e.replace(n6,""),i=e.length-n.length;return uc(t,n,r*Math.pow(10,2*i))+Yi("%",i)}function n9(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return uc(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function i6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+i6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,f,p){return c+f+p.substr(0,(i+a)%i)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var a6=/# (\?+)( ?)\/( ?)(\d+)/;function i9(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,l=n;return r+(a===0?"":""+a)+" "+(s===0?Yi(" ",t[1].length+1+t[4].length):J_(s,t[1].length)+t[2]+"/"+t[3]+Yl(l,t[4].length))}function a9(t,e,r){return r+(e===0?"":""+e)+Yi(" ",t[1].length+2+t[4].length)}var s6=/^#*0*\.([0#]+)/,o6=/\).*[0#]/,l6=/\(###\) ###\\?-####/;function Ys(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function z4(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function G4(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function s9(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function o9(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function pl(t,e,r){if(t.charCodeAt(0)===40&&!e.match(o6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?pl("n",n,r):"("+pl("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return n9(t,e,r);if(e.indexOf("%")!==-1)return r9(t,e,r);if(e.indexOf("E")!==-1)return i6(e,r);if(e.charCodeAt(0)===36)return"$"+pl(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,l,c=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+jf(c,e.length);if(e.match(/^[#?]+$/))return i=jf(r,0),i==="0"&&(i=""),i.length>e.length?i:Ys(e.substr(0,e.length-i.length))+i;if(a=e.match(a6))return i9(a,c,f);if(e.match(/^#+0+$/))return f+jf(c,e.length-e.indexOf("0"));if(a=e.match(s6))return i=z4(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Ys(a[1])).replace(/\.$/,"."+Ys(a[1])).replace(/\.(\d*)$/,function(E,S){return"."+S+Yi("0",Ys(a[1]).length-S.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+z4(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+Qc(jf(c,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+pl(t,e,-r):Qc(""+(Math.floor(r)+s9(r,a[1].length)))+"."+Yl(G4(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return pl(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=cd(pl(t,e.replace(/[\\-]/g,""),r)),s=0,cd(cd(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return s<i.length?i.charAt(s++):E==="0"?"0":""}));if(e.match(l6))return i=pl(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=Lg(c,Math.pow(10,s)-1,!1),i=""+f,p=uc("n",a[1],l[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+a[2]+"/"+a[3],p=Tg(l[2],s),p.length<a[4].length&&(p=Ys(a[4].substr(a[4].length-p.length))+p),i+=p,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=Lg(c,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?J_(l[1],s)+a[2]+"/"+a[3]+Tg(l[2],s):Yi(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=jf(r,0),e.length<=i.length?i:Ys(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var v=e.indexOf(".")-s,y=e.length-i.length-v;return Ys(e.substr(0,v)+i+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=G4(r,a[1].length),r<0?"-"+pl(t,e,-r):Qc(o9(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?Yl(0,3-E.length):"")+E})+"."+Yl(s,a[1].length);switch(e){case"###,##0.00":return pl(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var _=Qc(jf(c,0));return _!=="0"?f+_:"";case"###,###.00":return pl(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return pl(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function l9(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return uc(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function u9(t,e,r){var n=e.replace(n6,""),i=e.length-n.length;return uc(t,n,r*Math.pow(10,2*i))+Yi("%",i)}function u6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+u6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,f,p){return c+f+p.substr(0,(i+a)%i)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Nu(t,e,r){if(t.charCodeAt(0)===40&&!e.match(o6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Nu("n",n,r):"("+Nu("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return l9(t,e,r);if(e.indexOf("%")!==-1)return u9(t,e,r);if(e.indexOf("E")!==-1)return u6(e,r);if(e.charCodeAt(0)===36)return"$"+Nu(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,l,c=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+Yl(c,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Ys(e.substr(0,e.length-i.length))+i;if(a=e.match(a6))return a9(a,c,f);if(e.match(/^#+0+$/))return f+Yl(c,e.length-e.indexOf("0"));if(a=e.match(s6))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Ys(a[1])).replace(/\.$/,"."+Ys(a[1])),i=i.replace(/\.(\d*)$/,function(E,S){return"."+S+Yi("0",Ys(a[1]).length-S.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+Qc(""+c);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Nu(t,e,-r):Qc(""+r)+"."+Yi("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Nu(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=cd(Nu(t,e.replace(/[\\-]/g,""),r)),s=0,cd(cd(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return s<i.length?i.charAt(s++):E==="0"?"0":""}));if(e.match(l6))return i=Nu(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=Lg(c,Math.pow(10,s)-1,!1),i=""+f,p=uc("n",a[1],l[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+a[2]+"/"+a[3],p=Tg(l[2],s),p.length<a[4].length&&(p=Ys(a[4].substr(a[4].length-p.length))+p),i+=p,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=Lg(c,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?J_(l[1],s)+a[2]+"/"+a[3]+Tg(l[2],s):Yi(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Ys(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var v=e.indexOf(".")-s,y=e.length-i.length-v;return Ys(e.substr(0,v)+i+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Nu(t,e,-r):Qc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?Yl(0,3-E.length):"")+E})+"."+Yl(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var _=Qc(""+c);return _!=="0"?f+_:"";default:if(e.match(/\.[0#?]*$/))return Nu(t,e.slice(0,e.lastIndexOf(".")),r)+Ys(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function uc(t,e,r){return(r|0)===r?Nu(t,e,r):pl(t,e,r)}function c9(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var c6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function h6(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Ag(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(c6))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function h9(t,e,r,n){for(var i=[],a="",s=0,l="",c="t",f,p,v,y="H";s<t.length;)switch(l=t.charAt(s)){case"G":if(!Ag(t,s))throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(v=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(v);i[i.length]={t:"t",v:a},++s;break;case"\\":var _=t.charAt(++s),E=_==="("||_===")"?_:"t";i[i.length]={t:E,v:_},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(f==null&&(f=Um(e,r,t.charAt(s+1)==="2"),f==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},c=l,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=Um(e,r),f==null))return"";for(a=l;++s<t.length&&t.charAt(s).toLowerCase()===l;)a+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=y),i[i.length]={t:l,v:a},c=l;break;case"A":case"a":case"":var S={t:l,v:l};if(f==null&&(f=Um(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(f!=null&&(S.v=f.H>=12?"P":"A"),S.t="T",y="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(f!=null&&(S.v=f.H>=12?"PM":"AM"),S.t="T",s+=5,y="h"):t.substr(s,5).toUpperCase()==="/"?(f!=null&&(S.v=f.H>=12?"":""),S.t="T",s+=5,y="h"):(S.t="t",++s),f==null&&S.t==="T")return"";i[i.length]=S,c=l;break;case"[":for(a=l;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(c6)){if(f==null&&(f=Um(e,r),f==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",h6(t)||(i[i.length]={t:"t",v:a}));break;case".":if(f!=null){for(a=l;++s<t.length&&(l=t.charAt(s))==="0";)a+=l;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++s<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(s))>-1;)a+=l;i[i.length]={t:"n",v:a};break;case"?":for(a=l;t.charAt(++s)===l;)a+=l;i[i.length]={t:l,v:a},c=l;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":l,v:l},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:l,v:l},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"t",v:l},++s;break}var C=0,O=0,j;for(s=i.length-1,c="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=y,c="h",C<1&&(C=1);break;case"s":(j=i[s].v.match(/\.0+$/))&&(O=Math.max(O,j[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":c=i[s].t;break;case"m":c==="s"&&(i[s].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&i[s].v.match(/[Hh]/)&&(C=1),C<2&&i[s].v.match(/[Mm]/)&&(C=2),C<3&&i[s].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var R="",B;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=t9(i[s].t.charCodeAt(0),i[s].v,f,O),i[s].t="t";break;case"n":case"?":for(B=s+1;i[B]!=null&&((l=i[B].t)==="?"||l==="D"||(l===" "||l==="t")&&i[B+1]!=null&&(i[B+1].t==="?"||i[B+1].t==="t"&&i[B+1].v==="/")||i[s].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[B].v==="/"||i[B].v===" "&&i[B+1]!=null&&i[B+1].t=="?"));)i[s].v+=i[B].v,i[B]={v:"",t:";"},++B;R+=i[s].v,s=B-1;break;case"G":i[s].t="t",i[s].v=w_(e,r);break}var J="",re,F;if(R.length>0){R.charCodeAt(0)==40?(re=e<0&&R.charCodeAt(0)===45?-e:e,F=uc("n",R,re)):(re=e<0&&n>1?-e:e,F=uc("n",R,re),re<0&&i[0]&&i[0].t=="t"&&(F=F.substr(1),i[0].v="-"+i[0].v)),B=F.length-1;var K=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){K=s;break}var U=i.length;if(K===i.length&&F.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(B>=i[s].v.length-1?(B-=i[s].v.length,i[s].v=F.substr(B+1,i[s].v.length)):B<0?i[s].v="":(i[s].v=F.substr(0,B+1),B=-1),i[s].t="t",U=s);B>=0&&U<i.length&&(i[U].v=F.substr(0,B+1)+i[U].v)}else if(K!==i.length&&F.indexOf("E")===-1){for(B=F.indexOf(".")-1,s=K;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(p=i[s].v.indexOf(".")>-1&&s===K?i[s].v.indexOf(".")-1:i[s].v.length-1,J=i[s].v.substr(p+1);p>=0;--p)B>=0&&(i[s].v.charAt(p)==="0"||i[s].v.charAt(p)==="#")&&(J=F.charAt(B--)+J);i[s].v=J,i[s].t="t",U=s}for(B>=0&&U<i.length&&(i[U].v=F.substr(0,B+1)+i[U].v),B=F.indexOf(".")+1,s=K;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==K)){for(p=i[s].v.indexOf(".")>-1&&s===K?i[s].v.indexOf(".")+1:0,J=i[s].v.substr(0,p);p<i[s].v.length;++p)B<F.length&&(J+=F.charAt(B++));i[s].v=J,i[s].t="t",U=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(re=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=uc(i[s].t,i[s].v,re),i[s].t="t");var X="";for(s=0;s!==i.length;++s)i[s]!=null&&(X+=i[s].v);return X}var H4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function q4(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function f9(t,e){var r=c9(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(H4),l=r[1].match(H4);return q4(e,s)?[n,r[0]]:q4(e,l)?[n,r[1]]:[n,r[s!=null&&l!=null?2:1]]}return[n,a]}function nh(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Xi)[t],n==null&&(n=r.table&&r.table[U4[t]]||Xi[U4[t]]),n==null&&(n=WR[t]||"General");break}if(Ag(n,0))return w_(e,r);e instanceof Date&&(e=r6(e,r.date1904));var i=f9(n,e);if(Ag(i[1]))return w_(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return h9(i[1],e,r,i[0])}function f6(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Xi[r]==null){e<0&&(e=r);continue}if(Xi[r]==t){e=r;break}}e<0&&(e=391)}return Xi[e]=t,e}function l1(t){for(var e=0;e!=392;++e)t[e]!==void 0&&f6(t[e],e)}function u1(){Xi=$R()}var d6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function d9(t){var e=typeof t=="number"?Xi[t]:t;return e=e.replace(d6,"(\\d+)"),new RegExp("^"+e+"$")}function p9(t,e,r){var n=-1,i=-1,a=-1,s=-1,l=-1,c=-1;(e.match(d6)||[]).forEach(function(v,y){var _=parseInt(r[y+1],10);switch(v.toLowerCase().charAt(0)){case"y":n=_;break;case"d":a=_;break;case"h":s=_;break;case"s":c=_;break;case"m":s>=0?l=_:i=_;break}}),c>=0&&l==-1&&i>=0&&(l=i,i=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var p=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&l==-1&&c==-1?f:n==-1&&i==-1&&a==-1?p:f+"T"+p}var m9=(function(){var t={};t.version="1.2.0";function e(){for(var F=0,K=new Array(256),U=0;U!=256;++U)F=U,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,K[U]=F;return typeof Int32Array<"u"?new Int32Array(K):K}var r=e();function n(F){var K=0,U=0,X=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(X=0;X!=256;++X)I[X]=F[X];for(X=0;X!=256;++X)for(U=F[X],K=256+X;K<4096;K+=256)U=I[K]=U>>>8^F[U&255];var W=[];for(X=1;X!=16;++X)W[X-1]=typeof Int32Array<"u"?I.subarray(X*256,X*256+256):I.slice(X*256,X*256+256);return W}var i=n(r),a=i[0],s=i[1],l=i[2],c=i[3],f=i[4],p=i[5],v=i[6],y=i[7],_=i[8],E=i[9],S=i[10],C=i[11],O=i[12],j=i[13],R=i[14];function B(F,K){for(var U=K^-1,X=0,I=F.length;X<I;)U=U>>>8^r[(U^F.charCodeAt(X++))&255];return~U}function J(F,K){for(var U=K^-1,X=F.length-15,I=0;I<X;)U=R[F[I++]^U&255]^j[F[I++]^U>>8&255]^O[F[I++]^U>>16&255]^C[F[I++]^U>>>24]^S[F[I++]]^E[F[I++]]^_[F[I++]]^y[F[I++]]^v[F[I++]]^p[F[I++]]^f[F[I++]]^c[F[I++]]^l[F[I++]]^s[F[I++]]^a[F[I++]]^r[F[I++]];for(X+=15;I<X;)U=U>>>8^r[(U^F[I++])&255];return~U}function re(F,K){for(var U=K^-1,X=0,I=F.length,W=0,ue=0;X<I;)W=F.charCodeAt(X++),W<128?U=U>>>8^r[(U^W)&255]:W<2048?(U=U>>>8^r[(U^(192|W>>6&31))&255],U=U>>>8^r[(U^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,ue=F.charCodeAt(X++)&1023,U=U>>>8^r[(U^(240|W>>8&7))&255],U=U>>>8^r[(U^(128|W>>2&63))&255],U=U>>>8^r[(U^(128|ue>>6&15|(W&3)<<4))&255],U=U>>>8^r[(U^(128|ue&63))&255]):(U=U>>>8^r[(U^(224|W>>12&15))&255],U=U>>>8^r[(U^(128|W>>6&63))&255],U=U>>>8^r[(U^(128|W&63))&255]);return~U}return t.table=r,t.bstr=B,t.buf=J,t.str=re,t})(),Yn=(function(){var e={};e.version="1.2.1";function r(Y,me){for(var ne=Y.split("/"),ie=me.split("/"),he=0,ve=0,Pe=Math.min(ne.length,ie.length);he<Pe;++he){if(ve=ne[he].length-ie[he].length)return ve;if(ne[he]!=ie[he])return ne[he]<ie[he]?-1:1}return ne.length-ie.length}function n(Y){if(Y.charAt(Y.length-1)=="/")return Y.slice(0,-1).indexOf("/")===-1?Y:n(Y.slice(0,-1));var me=Y.lastIndexOf("/");return me===-1?Y:Y.slice(0,me+1)}function i(Y){if(Y.charAt(Y.length-1)=="/")return i(Y.slice(0,-1));var me=Y.lastIndexOf("/");return me===-1?Y:Y.slice(me+1)}function a(Y,me){typeof me=="string"&&(me=new Date(me));var ne=me.getHours();ne=ne<<6|me.getMinutes(),ne=ne<<5|me.getSeconds()>>>1,Y.write_shift(2,ne);var ie=me.getFullYear()-1980;ie=ie<<4|me.getMonth()+1,ie=ie<<5|me.getDate(),Y.write_shift(2,ie)}function s(Y){var me=Y.read_shift(2)&65535,ne=Y.read_shift(2)&65535,ie=new Date,he=ne&31;ne>>>=5;var ve=ne&15;ne>>>=4,ie.setMilliseconds(0),ie.setFullYear(ne+1980),ie.setMonth(ve-1),ie.setDate(he);var Pe=me&31;me>>>=5;var ze=me&63;return me>>>=6,ie.setHours(me),ie.setMinutes(ze),ie.setSeconds(Pe<<1),ie}function l(Y){Yo(Y,0);for(var me={},ne=0;Y.l<=Y.length-4;){var ie=Y.read_shift(2),he=Y.read_shift(2),ve=Y.l+he,Pe={};ie===21589&&(ne=Y.read_shift(1),ne&1&&(Pe.mtime=Y.read_shift(4)),he>5&&(ne&2&&(Pe.atime=Y.read_shift(4)),ne&4&&(Pe.ctime=Y.read_shift(4))),Pe.mtime&&(Pe.mt=new Date(Pe.mtime*1e3))),Y.l=ve,me[ie]=Pe}return me}var c;function f(){return c||(c={})}function p(Y,me){if(Y[0]==80&&Y[1]==75)return cr(Y,me);if((Y[0]|32)==109&&(Y[1]|32)==105)return Qt(Y,me);if(Y.length<512)throw new Error("CFB file size "+Y.length+" < 512");var ne=3,ie=512,he=0,ve=0,Pe=0,ze=0,Be=0,Ue=[],$e=Y.slice(0,512);Yo($e,0);var ht=v($e);switch(ne=ht[0],ne){case 3:ie=512;break;case 4:ie=4096;break;case 0:if(ht[1]==0)return cr(Y,me);default:throw new Error("Major Version: Expected 3 or 4 saw "+ne)}ie!==512&&($e=Y.slice(0,ie),Yo($e,28));var bt=Y.slice(0,ie);y($e,ne);var wt=$e.read_shift(4,"i");if(ne===3&&wt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+wt);$e.l+=4,Pe=$e.read_shift(4,"i"),$e.l+=4,$e.chk("00100000","Mini Stream Cutoff Size: "),ze=$e.read_shift(4,"i"),he=$e.read_shift(4,"i"),Be=$e.read_shift(4,"i"),ve=$e.read_shift(4,"i");for(var gt=-1,Mt=0;Mt<109&&(gt=$e.read_shift(4,"i"),!(gt<0));++Mt)Ue[Mt]=gt;var Bt=_(Y,ie);C(Be,ve,Bt,ie,Ue);var Hr=j(Bt,Pe,Ue,ie);Hr[Pe].name="!Directory",he>0&&ze!==ue&&(Hr[ze].name="!MiniFAT"),Hr[Ue[0]].name="!FAT",Hr.fat_addrs=Ue,Hr.ssz=ie;var wr={},nn=[],Kn=[],Xn=[];R(Pe,Hr,Bt,nn,he,wr,Kn,ze),E(Kn,Xn,nn),nn.shift();var Qi={FileIndex:Kn,FullPaths:Xn};return me&&me.raw&&(Qi.raw={header:bt,sectors:Bt}),Qi}function v(Y){if(Y[Y.l]==80&&Y[Y.l+1]==75)return[0,0];Y.chk(pe,"Header Signature: "),Y.l+=16;var me=Y.read_shift(2,"u");return[Y.read_shift(2,"u"),me]}function y(Y,me){var ne=9;switch(Y.l+=2,ne=Y.read_shift(2)){case 9:if(me!=3)throw new Error("Sector Shift: Expected 9 saw "+ne);break;case 12:if(me!=4)throw new Error("Sector Shift: Expected 12 saw "+ne);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ne)}Y.chk("0600","Mini Sector Shift: "),Y.chk("000000000000","Reserved: ")}function _(Y,me){for(var ne=Math.ceil(Y.length/me)-1,ie=[],he=1;he<ne;++he)ie[he-1]=Y.slice(he*me,(he+1)*me);return ie[ne-1]=Y.slice(ne*me),ie}function E(Y,me,ne){for(var ie=0,he=0,ve=0,Pe=0,ze=0,Be=ne.length,Ue=[],$e=[];ie<Be;++ie)Ue[ie]=$e[ie]=ie,me[ie]=ne[ie];for(;ze<$e.length;++ze)ie=$e[ze],he=Y[ie].L,ve=Y[ie].R,Pe=Y[ie].C,Ue[ie]===ie&&(he!==-1&&Ue[he]!==he&&(Ue[ie]=Ue[he]),ve!==-1&&Ue[ve]!==ve&&(Ue[ie]=Ue[ve])),Pe!==-1&&(Ue[Pe]=ie),he!==-1&&ie!=Ue[ie]&&(Ue[he]=Ue[ie],$e.lastIndexOf(he)<ze&&$e.push(he)),ve!==-1&&ie!=Ue[ie]&&(Ue[ve]=Ue[ie],$e.lastIndexOf(ve)<ze&&$e.push(ve));for(ie=1;ie<Be;++ie)Ue[ie]===ie&&(ve!==-1&&Ue[ve]!==ve?Ue[ie]=Ue[ve]:he!==-1&&Ue[he]!==he&&(Ue[ie]=Ue[he]));for(ie=1;ie<Be;++ie)if(Y[ie].type!==0){if(ze=ie,ze!=Ue[ze])do ze=Ue[ze],me[ie]=me[ze]+"/"+me[ie];while(ze!==0&&Ue[ze]!==-1&&ze!=Ue[ze]);Ue[ie]=-1}for(me[0]+="/",ie=1;ie<Be;++ie)Y[ie].type!==2&&(me[ie]+="/")}function S(Y,me,ne){for(var ie=Y.start,he=Y.size,ve=[],Pe=ie;ne&&he>0&&Pe>=0;)ve.push(me.slice(Pe*W,Pe*W+W)),he-=W,Pe=Mh(ne,Pe*4);return ve.length===0?ut(0):gs(ve).slice(0,Y.size)}function C(Y,me,ne,ie,he){var ve=ue;if(Y===ue){if(me!==0)throw new Error("DIFAT chain shorter than expected")}else if(Y!==-1){var Pe=ne[Y],ze=(ie>>>2)-1;if(!Pe)return;for(var Be=0;Be<ze&&(ve=Mh(Pe,Be*4))!==ue;++Be)he.push(ve);C(Mh(Pe,ie-4),me-1,ne,ie,he)}}function O(Y,me,ne,ie,he){var ve=[],Pe=[];he||(he=[]);var ze=ie-1,Be=0,Ue=0;for(Be=me;Be>=0;){he[Be]=!0,ve[ve.length]=Be,Pe.push(Y[Be]);var $e=ne[Math.floor(Be*4/ie)];if(Ue=Be*4&ze,ie<4+Ue)throw new Error("FAT boundary crossed: "+Be+" 4 "+ie);if(!Y[$e])break;Be=Mh(Y[$e],Ue)}return{nodes:ve,data:J4([Pe])}}function j(Y,me,ne,ie){var he=Y.length,ve=[],Pe=[],ze=[],Be=[],Ue=ie-1,$e=0,ht=0,bt=0,wt=0;for($e=0;$e<he;++$e)if(ze=[],bt=$e+me,bt>=he&&(bt-=he),!Pe[bt]){Be=[];var gt=[];for(ht=bt;ht>=0;){gt[ht]=!0,Pe[ht]=!0,ze[ze.length]=ht,Be.push(Y[ht]);var Mt=ne[Math.floor(ht*4/ie)];if(wt=ht*4&Ue,ie<4+wt)throw new Error("FAT boundary crossed: "+ht+" 4 "+ie);if(!Y[Mt]||(ht=Mh(Y[Mt],wt),gt[ht]))break}ve[bt]={nodes:ze,data:J4([Be])}}return ve}function R(Y,me,ne,ie,he,ve,Pe,ze){for(var Be=0,Ue=ie.length?2:0,$e=me[Y].data,ht=0,bt=0,wt;ht<$e.length;ht+=128){var gt=$e.slice(ht,ht+128);Yo(gt,64),bt=gt.read_shift(2),wt=iy(gt,0,bt-Ue),ie.push(wt);var Mt={name:wt,type:gt.read_shift(1),color:gt.read_shift(1),L:gt.read_shift(4,"i"),R:gt.read_shift(4,"i"),C:gt.read_shift(4,"i"),clsid:gt.read_shift(16),state:gt.read_shift(4,"i"),start:0,size:0},Bt=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Bt!==0&&(Mt.ct=B(gt,gt.l-8));var Hr=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Hr!==0&&(Mt.mt=B(gt,gt.l-8)),Mt.start=gt.read_shift(4,"i"),Mt.size=gt.read_shift(4,"i"),Mt.size<0&&Mt.start<0&&(Mt.size=Mt.type=0,Mt.start=ue,Mt.name=""),Mt.type===5?(Be=Mt.start,he>0&&Be!==ue&&(me[Be].name="!StreamData")):Mt.size>=4096?(Mt.storage="fat",me[Mt.start]===void 0&&(me[Mt.start]=O(ne,Mt.start,me.fat_addrs,me.ssz)),me[Mt.start].name=Mt.name,Mt.content=me[Mt.start].data.slice(0,Mt.size)):(Mt.storage="minifat",Mt.size<0?Mt.size=0:Be!==ue&&Mt.start!==ue&&me[Be]&&(Mt.content=S(Mt,me[Be].data,(me[ze]||{}).data))),Mt.content&&Yo(Mt.content,0),ve[wt]=Mt,Pe.push(Mt)}}function B(Y,me){return new Date((Xo(Y,me+4)/1e7*Math.pow(2,32)+Xo(Y,me)/1e7-11644473600)*1e3)}function J(Y,me){return f(),p(c.readFileSync(Y),me)}function re(Y,me){var ne=me&&me.type;switch(ne||Cn&&Buffer.isBuffer(Y)&&(ne="buffer"),ne||"base64"){case"file":return J(Y,me);case"base64":return p(Wl(fc(Y)),me);case"binary":return p(Wl(Y),me)}return p(Y,me)}function F(Y,me){var ne=me||{},ie=ne.root||"Root Entry";if(Y.FullPaths||(Y.FullPaths=[]),Y.FileIndex||(Y.FileIndex=[]),Y.FullPaths.length!==Y.FileIndex.length)throw new Error("inconsistent CFB structure");Y.FullPaths.length===0&&(Y.FullPaths[0]=ie+"/",Y.FileIndex[0]={name:ie,type:5}),ne.CLSID&&(Y.FileIndex[0].clsid=ne.CLSID),K(Y)}function K(Y){var me="Sh33tJ5";if(!Yn.find(Y,"/"+me)){var ne=ut(4);ne[0]=55,ne[1]=ne[3]=50,ne[2]=54,Y.FileIndex.push({name:me,type:2,content:ne,size:4,L:69,R:69,C:69}),Y.FullPaths.push(Y.FullPaths[0]+me),U(Y)}}function U(Y,me){F(Y);for(var ne=!1,ie=!1,he=Y.FullPaths.length-1;he>=0;--he){var ve=Y.FileIndex[he];switch(ve.type){case 0:ie?ne=!0:(Y.FileIndex.pop(),Y.FullPaths.pop());break;case 1:case 2:case 5:ie=!0,isNaN(ve.R*ve.L*ve.C)&&(ne=!0),ve.R>-1&&ve.L>-1&&ve.R==ve.L&&(ne=!0);break;default:ne=!0;break}}if(!(!ne&&!me)){var Pe=new Date(1987,1,19),ze=0,Be=Object.create?Object.create(null):{},Ue=[];for(he=0;he<Y.FullPaths.length;++he)Be[Y.FullPaths[he]]=!0,Y.FileIndex[he].type!==0&&Ue.push([Y.FullPaths[he],Y.FileIndex[he]]);for(he=0;he<Ue.length;++he){var $e=n(Ue[he][0]);ie=Be[$e],ie||(Ue.push([$e,{name:i($e).replace("/",""),type:1,clsid:le,ct:Pe,mt:Pe,content:null}]),Be[$e]=!0)}for(Ue.sort(function(wt,gt){return r(wt[0],gt[0])}),Y.FullPaths=[],Y.FileIndex=[],he=0;he<Ue.length;++he)Y.FullPaths[he]=Ue[he][0],Y.FileIndex[he]=Ue[he][1];for(he=0;he<Ue.length;++he){var ht=Y.FileIndex[he],bt=Y.FullPaths[he];if(ht.name=i(bt).replace("/",""),ht.L=ht.R=ht.C=-(ht.color=1),ht.size=ht.content?ht.content.length:0,ht.start=0,ht.clsid=ht.clsid||le,he===0)ht.C=Ue.length>1?1:-1,ht.size=0,ht.type=5;else if(bt.slice(-1)=="/"){for(ze=he+1;ze<Ue.length&&n(Y.FullPaths[ze])!=bt;++ze);for(ht.C=ze>=Ue.length?-1:ze,ze=he+1;ze<Ue.length&&n(Y.FullPaths[ze])!=n(bt);++ze);ht.R=ze>=Ue.length?-1:ze,ht.type=1}else n(Y.FullPaths[he+1]||"")==n(bt)&&(ht.R=he+1),ht.type=2}}}function X(Y,me){var ne=me||{};if(ne.fileType=="mad")return Ka(Y,ne);if(U(Y),ne.fileType==="zip")return xr(Y,ne);var ie=(function(wt){for(var gt=0,Mt=0,Bt=0;Bt<wt.FileIndex.length;++Bt){var Hr=wt.FileIndex[Bt];if(Hr.content){var wr=Hr.content.length;wr>0&&(wr<4096?gt+=wr+63>>6:Mt+=wr+511>>9)}}for(var nn=wt.FullPaths.length+3>>2,Kn=gt+7>>3,Xn=gt+127>>7,Qi=Kn+Mt+nn+Xn,Ci=Qi+127>>7,Ar=Ci<=109?0:Math.ceil((Ci-109)/127);Qi+Ci+Ar+127>>7>Ci;)Ar=++Ci<=109?0:Math.ceil((Ci-109)/127);var Ut=[1,Ar,Ci,Xn,nn,Mt,gt,0];return wt.FileIndex[0].size=gt<<6,Ut[7]=(wt.FileIndex[0].start=Ut[0]+Ut[1]+Ut[2]+Ut[3]+Ut[4]+Ut[5])+(Ut[6]+7>>3),Ut})(Y),he=ut(ie[7]<<9),ve=0,Pe=0;{for(ve=0;ve<8;++ve)he.write_shift(1,xe[ve]);for(ve=0;ve<8;++ve)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),ve=0;ve<3;++ve)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,ie[2]),he.write_shift(4,ie[0]+ie[1]+ie[2]+ie[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,ie[3]?ie[0]+ie[1]+ie[2]-1:ue),he.write_shift(4,ie[3]),he.write_shift(-4,ie[1]?ie[0]-1:ue),he.write_shift(4,ie[1]),ve=0;ve<109;++ve)he.write_shift(-4,ve<ie[2]?ie[1]+ve:-1)}if(ie[1])for(Pe=0;Pe<ie[1];++Pe){for(;ve<236+Pe*127;++ve)he.write_shift(-4,ve<ie[2]?ie[1]+ve:-1);he.write_shift(-4,Pe===ie[1]-1?ue:Pe+1)}var ze=function(wt){for(Pe+=wt;ve<Pe-1;++ve)he.write_shift(-4,ve+1);wt&&(++ve,he.write_shift(-4,ue))};for(Pe=ve=0,Pe+=ie[1];ve<Pe;++ve)he.write_shift(-4,be.DIFSECT);for(Pe+=ie[2];ve<Pe;++ve)he.write_shift(-4,be.FATSECT);ze(ie[3]),ze(ie[4]);for(var Be=0,Ue=0,$e=Y.FileIndex[0];Be<Y.FileIndex.length;++Be)$e=Y.FileIndex[Be],$e.content&&(Ue=$e.content.length,!(Ue<4096)&&($e.start=Pe,ze(Ue+511>>9)));for(ze(ie[6]+7>>3);he.l&511;)he.write_shift(-4,be.ENDOFCHAIN);for(Pe=ve=0,Be=0;Be<Y.FileIndex.length;++Be)$e=Y.FileIndex[Be],$e.content&&(Ue=$e.content.length,!(!Ue||Ue>=4096)&&($e.start=Pe,ze(Ue+63>>6)));for(;he.l&511;)he.write_shift(-4,be.ENDOFCHAIN);for(ve=0;ve<ie[4]<<2;++ve){var ht=Y.FullPaths[ve];if(!ht||ht.length===0){for(Be=0;Be<17;++Be)he.write_shift(4,0);for(Be=0;Be<3;++Be)he.write_shift(4,-1);for(Be=0;Be<12;++Be)he.write_shift(4,0);continue}$e=Y.FileIndex[ve],ve===0&&($e.start=$e.size?$e.start-1:ue);var bt=ve===0&&ne.root||$e.name;if(Ue=2*(bt.length+1),he.write_shift(64,bt,"utf16le"),he.write_shift(2,Ue),he.write_shift(1,$e.type),he.write_shift(1,$e.color),he.write_shift(-4,$e.L),he.write_shift(-4,$e.R),he.write_shift(-4,$e.C),$e.clsid)he.write_shift(16,$e.clsid,"hex");else for(Be=0;Be<4;++Be)he.write_shift(4,0);he.write_shift(4,$e.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,$e.start),he.write_shift(4,$e.size),he.write_shift(4,0)}for(ve=1;ve<Y.FileIndex.length;++ve)if($e=Y.FileIndex[ve],$e.size>=4096)if(he.l=$e.start+1<<9,Cn&&Buffer.isBuffer($e.content))$e.content.copy(he,he.l,0,$e.size),he.l+=$e.size+511&-512;else{for(Be=0;Be<$e.size;++Be)he.write_shift(1,$e.content[Be]);for(;Be&511;++Be)he.write_shift(1,0)}for(ve=1;ve<Y.FileIndex.length;++ve)if($e=Y.FileIndex[ve],$e.size>0&&$e.size<4096)if(Cn&&Buffer.isBuffer($e.content))$e.content.copy(he,he.l,0,$e.size),he.l+=$e.size+63&-64;else{for(Be=0;Be<$e.size;++Be)he.write_shift(1,$e.content[Be]);for(;Be&63;++Be)he.write_shift(1,0)}if(Cn)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function I(Y,me){var ne=Y.FullPaths.map(function(Be){return Be.toUpperCase()}),ie=ne.map(function(Be){var Ue=Be.split("/");return Ue[Ue.length-(Be.slice(-1)=="/"?2:1)]}),he=!1;me.charCodeAt(0)===47?(he=!0,me=ne[0].slice(0,-1)+me):he=me.indexOf("/")!==-1;var ve=me.toUpperCase(),Pe=he===!0?ne.indexOf(ve):ie.indexOf(ve);if(Pe!==-1)return Y.FileIndex[Pe];var ze=!ve.match(Bm);for(ve=ve.replace(N0,""),ze&&(ve=ve.replace(Bm,"!")),Pe=0;Pe<ne.length;++Pe)if((ze?ne[Pe].replace(Bm,"!"):ne[Pe]).replace(N0,"")==ve||(ze?ie[Pe].replace(Bm,"!"):ie[Pe]).replace(N0,"")==ve)return Y.FileIndex[Pe];return null}var W=64,ue=-2,pe="d0cf11e0a1b11ae1",xe=[208,207,17,224,161,177,26,225],le="00000000000000000000000000000000",be={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ue,FREESECT:-1,HEADER_SIGNATURE:pe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:le,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _e(Y,me,ne){f();var ie=X(Y,ne);c.writeFileSync(me,ie)}function Le(Y){for(var me=new Array(Y.length),ne=0;ne<Y.length;++ne)me[ne]=String.fromCharCode(Y[ne]);return me.join("")}function Ne(Y,me){var ne=X(Y,me);switch(me&&me.type||"buffer"){case"file":return f(),c.writeFileSync(me.filename,ne),ne;case"binary":return typeof ne=="string"?ne:Le(ne);case"base64":return Q0(typeof ne=="string"?ne:Le(ne));case"buffer":if(Cn)return Buffer.isBuffer(ne)?ne:_c(ne);case"array":return typeof ne=="string"?Wl(ne):ne}return ne}var ee;function P(Y){try{var me=Y.InflateRaw,ne=new me;if(ne._processChunk(new Uint8Array([3,0]),ne._finishFlushFlag),ne.bytesRead)ee=Y;else throw new Error("zlib does not expose bytesRead")}catch(ie){console.error("cannot use native zlib: "+(ie.message||ie))}}function H(Y,me){if(!ee)return un(Y,me);var ne=ee.InflateRaw,ie=new ne,he=ie._processChunk(Y.slice(Y.l),ie._finishFlushFlag);return Y.l+=ie.bytesRead,he}function q(Y){return ee?ee.deflateRawSync(Y):_r(Y)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Oe(Y){var me=(Y<<1|Y<<11)&139536|(Y<<5|Y<<15)&558144;return(me>>16|me>>8|me)&255}for(var Re=typeof Uint8Array<"u",Ie=Re?new Uint8Array(256):[],ot=0;ot<256;++ot)Ie[ot]=Oe(ot);function it(Y,me){var ne=Ie[Y&255];return me<=8?ne>>>8-me:(ne=ne<<8|Ie[Y>>8&255],me<=16?ne>>>16-me:(ne=ne<<8|Ie[Y>>16&255],ne>>>24-me))}function Tt(Y,me){var ne=me&7,ie=me>>>3;return(Y[ie]|(ne<=6?0:Y[ie+1]<<8))>>>ne&3}function Nt(Y,me){var ne=me&7,ie=me>>>3;return(Y[ie]|(ne<=5?0:Y[ie+1]<<8))>>>ne&7}function we(Y,me){var ne=me&7,ie=me>>>3;return(Y[ie]|(ne<=4?0:Y[ie+1]<<8))>>>ne&15}function yt(Y,me){var ne=me&7,ie=me>>>3;return(Y[ie]|(ne<=3?0:Y[ie+1]<<8))>>>ne&31}function xt(Y,me){var ne=me&7,ie=me>>>3;return(Y[ie]|(ne<=1?0:Y[ie+1]<<8))>>>ne&127}function zt(Y,me,ne){var ie=me&7,he=me>>>3,ve=(1<<ne)-1,Pe=Y[he]>>>ie;return ne<8-ie||(Pe|=Y[he+1]<<8-ie,ne<16-ie)||(Pe|=Y[he+2]<<16-ie,ne<24-ie)||(Pe|=Y[he+3]<<24-ie),Pe&ve}function dt(Y,me,ne){var ie=me&7,he=me>>>3;return ie<=5?Y[he]|=(ne&7)<<ie:(Y[he]|=ne<<ie&255,Y[he+1]=(ne&7)>>8-ie),me+3}function Vt(Y,me,ne){var ie=me&7,he=me>>>3;return ne=(ne&1)<<ie,Y[he]|=ne,me+1}function jt(Y,me,ne){var ie=me&7,he=me>>>3;return ne<<=ie,Y[he]|=ne&255,ne>>>=8,Y[he+1]=ne,me+8}function sr(Y,me,ne){var ie=me&7,he=me>>>3;return ne<<=ie,Y[he]|=ne&255,ne>>>=8,Y[he+1]=ne&255,Y[he+2]=ne>>>8,me+16}function Xt(Y,me){var ne=Y.length,ie=2*ne>me?2*ne:me+5,he=0;if(ne>=me)return Y;if(Cn){var ve=I4(ie);if(Y.copy)Y.copy(ve);else for(;he<Y.length;++he)ve[he]=Y[he];return ve}else if(Re){var Pe=new Uint8Array(ie);if(Pe.set)Pe.set(Y);else for(;he<ne;++he)Pe[he]=Y[he];return Pe}return Y.length=ie,Y}function Jt(Y){for(var me=new Array(Y),ne=0;ne<Y;++ne)me[ne]=0;return me}function Er(Y,me,ne){var ie=1,he=0,ve=0,Pe=0,ze=0,Be=Y.length,Ue=Re?new Uint16Array(32):Jt(32);for(ve=0;ve<32;++ve)Ue[ve]=0;for(ve=Be;ve<ne;++ve)Y[ve]=0;Be=Y.length;var $e=Re?new Uint16Array(Be):Jt(Be);for(ve=0;ve<Be;++ve)Ue[he=Y[ve]]++,ie<he&&(ie=he),$e[ve]=0;for(Ue[0]=0,ve=1;ve<=ie;++ve)Ue[ve+16]=ze=ze+Ue[ve-1]<<1;for(ve=0;ve<Be;++ve)ze=Y[ve],ze!=0&&($e[ve]=Ue[ze+16]++);var ht=0;for(ve=0;ve<Be;++ve)if(ht=Y[ve],ht!=0)for(ze=it($e[ve],ie)>>ie-ht,Pe=(1<<ie+4-ht)-1;Pe>=0;--Pe)me[ze|Pe<<ht]=ht&15|ve<<4;return ie}var dr=Re?new Uint16Array(512):Jt(512),Nr=Re?new Uint16Array(32):Jt(32);if(!Re){for(var or=0;or<512;++or)dr[or]=0;for(or=0;or<32;++or)Nr[or]=0}(function(){for(var Y=[],me=0;me<32;me++)Y.push(5);Er(Y,Nr,32);var ne=[];for(me=0;me<=143;me++)ne.push(8);for(;me<=255;me++)ne.push(9);for(;me<=279;me++)ne.push(7);for(;me<=287;me++)ne.push(8);Er(ne,dr,288)})();var Ft=(function(){for(var me=Re?new Uint8Array(32768):[],ne=0,ie=0;ne<Ae.length-1;++ne)for(;ie<Ae[ne+1];++ie)me[ie]=ne;for(;ie<32768;++ie)me[ie]=29;var he=Re?new Uint8Array(259):[];for(ne=0,ie=0;ne<oe.length-1;++ne)for(;ie<oe[ne+1];++ie)he[ie]=ne;function ve(ze,Be){for(var Ue=0;Ue<ze.length;){var $e=Math.min(65535,ze.length-Ue),ht=Ue+$e==ze.length;for(Be.write_shift(1,+ht),Be.write_shift(2,$e),Be.write_shift(2,~$e&65535);$e-- >0;)Be[Be.l++]=ze[Ue++]}return Be.l}function Pe(ze,Be){for(var Ue=0,$e=0,ht=Re?new Uint16Array(32768):[];$e<ze.length;){var bt=Math.min(65535,ze.length-$e);if(bt<10){for(Ue=dt(Be,Ue,+($e+bt==ze.length)),Ue&7&&(Ue+=8-(Ue&7)),Be.l=Ue/8|0,Be.write_shift(2,bt),Be.write_shift(2,~bt&65535);bt-- >0;)Be[Be.l++]=ze[$e++];Ue=Be.l*8;continue}Ue=dt(Be,Ue,+($e+bt==ze.length)+2);for(var wt=0;bt-- >0;){var gt=ze[$e];wt=(wt<<5^gt)&32767;var Mt=-1,Bt=0;if((Mt=ht[wt])&&(Mt|=$e&-32768,Mt>$e&&(Mt-=32768),Mt<$e))for(;ze[Mt+Bt]==ze[$e+Bt]&&Bt<250;)++Bt;if(Bt>2){gt=he[Bt],gt<=22?Ue=jt(Be,Ue,Ie[gt+1]>>1)-1:(jt(Be,Ue,3),Ue+=5,jt(Be,Ue,Ie[gt-23]>>5),Ue+=3);var Hr=gt<8?0:gt-4>>2;Hr>0&&(sr(Be,Ue,Bt-oe[gt]),Ue+=Hr),gt=me[$e-Mt],Ue=jt(Be,Ue,Ie[gt]>>3),Ue-=3;var wr=gt<4?0:gt-2>>1;wr>0&&(sr(Be,Ue,$e-Mt-Ae[gt]),Ue+=wr);for(var nn=0;nn<Bt;++nn)ht[wt]=$e&32767,wt=(wt<<5^ze[$e])&32767,++$e;bt-=Bt-1}else gt<=143?gt=gt+48:Ue=Vt(Be,Ue,1),Ue=jt(Be,Ue,Ie[gt]),ht[wt]=$e&32767,++$e}Ue=jt(Be,Ue,0)-1}return Be.l=(Ue+7)/8|0,Be.l}return function(Be,Ue){return Be.length<8?ve(Be,Ue):Pe(Be,Ue)}})();function _r(Y){var me=ut(50+Math.floor(Y.length*1.1)),ne=Ft(Y,me);return me.slice(0,ne)}var Wt=Re?new Uint16Array(32768):Jt(32768),xn=Re?new Uint16Array(32768):Jt(32768),Mr=Re?new Uint16Array(128):Jt(128),Gt=1,pr=1;function Dr(Y,me){var ne=yt(Y,me)+257;me+=5;var ie=yt(Y,me)+1;me+=5;var he=we(Y,me)+4;me+=4;for(var ve=0,Pe=Re?new Uint8Array(19):Jt(19),ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Be=1,Ue=Re?new Uint8Array(8):Jt(8),$e=Re?new Uint8Array(8):Jt(8),ht=Pe.length,bt=0;bt<he;++bt)Pe[Z[bt]]=ve=Nt(Y,me),Be<ve&&(Be=ve),Ue[ve]++,me+=3;var wt=0;for(Ue[0]=0,bt=1;bt<=Be;++bt)$e[bt]=wt=wt+Ue[bt-1]<<1;for(bt=0;bt<ht;++bt)(wt=Pe[bt])!=0&&(ze[bt]=$e[wt]++);var gt=0;for(bt=0;bt<ht;++bt)if(gt=Pe[bt],gt!=0){wt=Ie[ze[bt]]>>8-gt;for(var Mt=(1<<7-gt)-1;Mt>=0;--Mt)Mr[wt|Mt<<gt]=gt&7|bt<<3}var Bt=[];for(Be=1;Bt.length<ne+ie;)switch(wt=Mr[xt(Y,me)],me+=wt&7,wt>>>=3){case 16:for(ve=3+Tt(Y,me),me+=2,wt=Bt[Bt.length-1];ve-- >0;)Bt.push(wt);break;case 17:for(ve=3+Nt(Y,me),me+=3;ve-- >0;)Bt.push(0);break;case 18:for(ve=11+xt(Y,me),me+=7;ve-- >0;)Bt.push(0);break;default:Bt.push(wt),Be<wt&&(Be=wt);break}var Hr=Bt.slice(0,ne),wr=Bt.slice(ne);for(bt=ne;bt<286;++bt)Hr[bt]=0;for(bt=ie;bt<30;++bt)wr[bt]=0;return Gt=Er(Hr,Wt,286),pr=Er(wr,xn,30),me}function Yt(Y,me){if(Y[0]==3&&!(Y[1]&3))return[Bh(me),2];for(var ne=0,ie=0,he=I4(me||1<<18),ve=0,Pe=he.length>>>0,ze=0,Be=0;(ie&1)==0;){if(ie=Nt(Y,ne),ne+=3,ie>>>1)ie>>1==1?(ze=9,Be=5):(ne=Dr(Y,ne),ze=Gt,Be=pr);else{ne&7&&(ne+=8-(ne&7));var Ue=Y[ne>>>3]|Y[(ne>>>3)+1]<<8;if(ne+=32,Ue>0)for(!me&&Pe<ve+Ue&&(he=Xt(he,ve+Ue),Pe=he.length);Ue-- >0;)he[ve++]=Y[ne>>>3],ne+=8;continue}for(;;){!me&&Pe<ve+32767&&(he=Xt(he,ve+32767),Pe=he.length);var $e=zt(Y,ne,ze),ht=ie>>>1==1?dr[$e]:Wt[$e];if(ne+=ht&15,ht>>>=4,(ht>>>8&255)===0)he[ve++]=ht;else{if(ht==256)break;ht-=257;var bt=ht<8?0:ht-4>>2;bt>5&&(bt=0);var wt=ve+oe[ht];bt>0&&(wt+=zt(Y,ne,bt),ne+=bt),$e=zt(Y,ne,Be),ht=ie>>>1==1?Nr[$e]:xn[$e],ne+=ht&15,ht>>>=4;var gt=ht<4?0:ht-2>>1,Mt=Ae[ht];for(gt>0&&(Mt+=zt(Y,ne,gt),ne+=gt),!me&&Pe<wt&&(he=Xt(he,wt+100),Pe=he.length);ve<wt;)he[ve]=he[ve-Mt],++ve}}}return me?[he,ne+7>>>3]:[he.slice(0,ve),ne+7>>>3]}function un(Y,me){var ne=Y.slice(Y.l||0),ie=Yt(ne,me);return Y.l+=ie[1],ie[0]}function ur(Y,me){if(Y)typeof console<"u"&&console.error(me);else throw new Error(me)}function cr(Y,me){var ne=Y;Yo(ne,0);var ie=[],he=[],ve={FileIndex:ie,FullPaths:he};F(ve,{root:me.root});for(var Pe=ne.length-4;(ne[Pe]!=80||ne[Pe+1]!=75||ne[Pe+2]!=5||ne[Pe+3]!=6)&&Pe>=0;)--Pe;ne.l=Pe+4,ne.l+=4;var ze=ne.read_shift(2);ne.l+=6;var Be=ne.read_shift(4);for(ne.l=Be,Pe=0;Pe<ze;++Pe){ne.l+=20;var Ue=ne.read_shift(4),$e=ne.read_shift(4),ht=ne.read_shift(2),bt=ne.read_shift(2),wt=ne.read_shift(2);ne.l+=8;var gt=ne.read_shift(4),Mt=l(ne.slice(ne.l+ht,ne.l+ht+bt));ne.l+=ht+bt+wt;var Bt=ne.l;ne.l=gt+4,en(ne,Ue,$e,ve,Mt),ne.l=Bt}return ve}function en(Y,me,ne,ie,he){Y.l+=2;var ve=Y.read_shift(2),Pe=Y.read_shift(2),ze=s(Y);if(ve&8257)throw new Error("Unsupported ZIP encryption");for(var Be=Y.read_shift(4),Ue=Y.read_shift(4),$e=Y.read_shift(4),ht=Y.read_shift(2),bt=Y.read_shift(2),wt="",gt=0;gt<ht;++gt)wt+=String.fromCharCode(Y[Y.l++]);if(bt){var Mt=l(Y.slice(Y.l,Y.l+bt));(Mt[21589]||{}).mt&&(ze=Mt[21589].mt),((he||{})[21589]||{}).mt&&(ze=he[21589].mt)}Y.l+=bt;var Bt=Y.slice(Y.l,Y.l+Ue);switch(Pe){case 8:Bt=H(Y,$e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Pe)}var Hr=!1;ve&8&&(Be=Y.read_shift(4),Be==134695760&&(Be=Y.read_shift(4),Hr=!0),Ue=Y.read_shift(4),$e=Y.read_shift(4)),Ue!=me&&ur(Hr,"Bad compressed size: "+me+" != "+Ue),$e!=ne&&ur(Hr,"Bad uncompressed size: "+ne+" != "+$e),Ce(ie,wt,Bt,{unsafe:!0,mt:ze})}function xr(Y,me){var ne=me||{},ie=[],he=[],ve=ut(1),Pe=ne.compression?8:0,ze=0,Be=0,Ue=0,$e=0,ht=0,bt=Y.FullPaths[0],wt=bt,gt=Y.FileIndex[0],Mt=[],Bt=0;for(Be=1;Be<Y.FullPaths.length;++Be)if(wt=Y.FullPaths[Be].slice(bt.length),gt=Y.FileIndex[Be],!(!gt.size||!gt.content||wt=="Sh33tJ5")){var Hr=$e,wr=ut(wt.length);for(Ue=0;Ue<wt.length;++Ue)wr.write_shift(1,wt.charCodeAt(Ue)&127);wr=wr.slice(0,wr.l),Mt[ht]=m9.buf(gt.content,0);var nn=gt.content;Pe==8&&(nn=q(nn)),ve=ut(30),ve.write_shift(4,67324752),ve.write_shift(2,20),ve.write_shift(2,ze),ve.write_shift(2,Pe),gt.mt?a(ve,gt.mt):ve.write_shift(4,0),ve.write_shift(-4,Mt[ht]),ve.write_shift(4,nn.length),ve.write_shift(4,gt.content.length),ve.write_shift(2,wr.length),ve.write_shift(2,0),$e+=ve.length,ie.push(ve),$e+=wr.length,ie.push(wr),$e+=nn.length,ie.push(nn),ve=ut(46),ve.write_shift(4,33639248),ve.write_shift(2,0),ve.write_shift(2,20),ve.write_shift(2,ze),ve.write_shift(2,Pe),ve.write_shift(4,0),ve.write_shift(-4,Mt[ht]),ve.write_shift(4,nn.length),ve.write_shift(4,gt.content.length),ve.write_shift(2,wr.length),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(4,0),ve.write_shift(4,Hr),Bt+=ve.l,he.push(ve),Bt+=wr.length,he.push(wr),++ht}return ve=ut(22),ve.write_shift(4,101010256),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,ht),ve.write_shift(2,ht),ve.write_shift(4,Bt),ve.write_shift(4,$e),ve.write_shift(2,0),gs([gs(ie),gs(he),ve])}var Zt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Gr(Y,me){if(Y.ctype)return Y.ctype;var ne=Y.name||"",ie=ne.match(/\.([^\.]+)$/);return ie&&Zt[ie[1]]||me&&(ie=(ne=me).match(/[\.\\]([^\.\\])+$/),ie&&Zt[ie[1]])?Zt[ie[1]]:"application/octet-stream"}function ba(Y){for(var me=Q0(Y),ne=[],ie=0;ie<me.length;ie+=76)ne.push(me.slice(ie,ie+76));return ne.join(`\r
`)+`\r
`}function li(Y){var me=Y.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var $e=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+($e.length==1?"0"+$e:$e)});me=me.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),me.charAt(0)==`
`&&(me="=0D"+me.slice(1)),me=me.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ne=[],ie=me.split(`\r
`),he=0;he<ie.length;++he){var ve=ie[he];if(ve.length==0){ne.push("");continue}for(var Pe=0;Pe<ve.length;){var ze=76,Be=ve.slice(Pe,Pe+ze);Be.charAt(ze-1)=="="?ze--:Be.charAt(ze-2)=="="?ze-=2:Be.charAt(ze-3)=="="&&(ze-=3),Be=ve.slice(Pe,Pe+ze),Pe+=ze,Pe<ve.length&&(Be+="="),ne.push(Be)}}return ne.join(`\r
`)}function Ji(Y){for(var me=[],ne=0;ne<Y.length;++ne){for(var ie=Y[ne];ne<=Y.length&&ie.charAt(ie.length-1)=="=";)ie=ie.slice(0,ie.length-1)+Y[++ne];me.push(ie)}for(var he=0;he<me.length;++he)me[he]=me[he].replace(/[=][0-9A-Fa-f]{2}/g,function(ve){return String.fromCharCode(parseInt(ve.slice(1),16))});return Wl(me.join(`\r
`))}function Ni(Y,me,ne){for(var ie="",he="",ve="",Pe,ze=0;ze<10;++ze){var Be=me[ze];if(!Be||Be.match(/^\s*$/))break;var Ue=Be.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":ie=Ue[2].trim();break;case"content-type":ve=Ue[2].trim();break;case"content-transfer-encoding":he=Ue[2].trim();break}}switch(++ze,he.toLowerCase()){case"base64":Pe=Wl(fc(me.slice(ze).join("")));break;case"quoted-printable":Pe=Ji(me.slice(ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var $e=Ce(Y,ie.slice(ne.length),Pe,{unsafe:!0});ve&&($e.ctype=ve)}function Qt(Y,me){if(Le(Y.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ne=me&&me.root||"",ie=(Cn&&Buffer.isBuffer(Y)?Y.toString("binary"):Le(Y)).split(`\r
`),he=0,ve="";for(he=0;he<ie.length;++he)if(ve=ie[he],!!/^Content-Location:/i.test(ve)&&(ve=ve.slice(ve.indexOf("file")),ne||(ne=ve.slice(0,ve.lastIndexOf("/")+1)),ve.slice(0,ne.length)!=ne))for(;ne.length>0&&(ne=ne.slice(0,ne.length-1),ne=ne.slice(0,ne.lastIndexOf("/")+1),ve.slice(0,ne.length)!=ne););var Pe=(ie[1]||"").match(/boundary="(.*?)"/);if(!Pe)throw new Error("MAD cannot find boundary");var ze="--"+(Pe[1]||""),Be=[],Ue=[],$e={FileIndex:Be,FullPaths:Ue};F($e);var ht,bt=0;for(he=0;he<ie.length;++he){var wt=ie[he];wt!==ze&&wt!==ze+"--"||(bt++&&Ni($e,ie.slice(ht,he),ne),ht=he)}return $e}function Ka(Y,me){var ne=me||{},ie=ne.boundary||"SheetJS";ie="------="+ie;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ie.slice(2)+'"',"","",""],ve=Y.FullPaths[0],Pe=ve,ze=Y.FileIndex[0],Be=1;Be<Y.FullPaths.length;++Be)if(Pe=Y.FullPaths[Be].slice(ve.length),ze=Y.FileIndex[Be],!(!ze.size||!ze.content||Pe=="Sh33tJ5")){Pe=Pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Bt){return"_x"+Bt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Bt){return"_u"+Bt.charCodeAt(0).toString(16)+"_"});for(var Ue=ze.content,$e=Cn&&Buffer.isBuffer(Ue)?Ue.toString("binary"):Le(Ue),ht=0,bt=Math.min(1024,$e.length),wt=0,gt=0;gt<=bt;++gt)(wt=$e.charCodeAt(gt))>=32&&wt<128&&++ht;var Mt=ht>=bt*4/5;he.push(ie),he.push("Content-Location: "+(ne.root||"file:///C:/SheetJS/")+Pe),he.push("Content-Transfer-Encoding: "+(Mt?"quoted-printable":"base64")),he.push("Content-Type: "+Gr(ze,Pe)),he.push(""),he.push(Mt?li($e):ba($e))}return he.push(ie+`--\r
`),he.join(`\r
`)}function Fa(Y){var me={};return F(me,Y),me}function Ce(Y,me,ne,ie){var he=ie&&ie.unsafe;he||F(Y);var ve=!he&&Yn.find(Y,me);if(!ve){var Pe=Y.FullPaths[0];me.slice(0,Pe.length)==Pe?Pe=me:(Pe.slice(-1)!="/"&&(Pe+="/"),Pe=(Pe+me).replace("//","/")),ve={name:i(me),type:2},Y.FileIndex.push(ve),Y.FullPaths.push(Pe),he||Yn.utils.cfb_gc(Y)}return ve.content=ne,ve.size=ne?ne.length:0,ie&&(ie.CLSID&&(ve.clsid=ie.CLSID),ie.mt&&(ve.mt=ie.mt),ie.ct&&(ve.ct=ie.ct)),ve}function Ge(Y,me){F(Y);var ne=Yn.find(Y,me);if(ne){for(var ie=0;ie<Y.FileIndex.length;++ie)if(Y.FileIndex[ie]==ne)return Y.FileIndex.splice(ie,1),Y.FullPaths.splice(ie,1),!0}return!1}function qe(Y,me,ne){F(Y);var ie=Yn.find(Y,me);if(ie){for(var he=0;he<Y.FileIndex.length;++he)if(Y.FileIndex[he]==ie)return Y.FileIndex[he].name=i(ne),Y.FullPaths[he]=ne,!0}return!1}function Ye(Y){U(Y,!0)}return e.find=I,e.read=re,e.parse=p,e.write=Ne,e.writeFile=_e,e.utils={cfb_new:Fa,cfb_add:Ce,cfb_del:Ge,cfb_mov:qe,cfb_gc:Ye,ReadShift:M0,CheckField:k6,prep_blob:Yo,bconcat:gs,use_zlib:P,_deflateRaw:_r,_inflateRaw:un,consts:be},e})();function g9(t){return typeof t=="string"?o1(t):Array.isArray(t)?GR(t):t}function yp(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=o1(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?tp(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([g9(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(t);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=_p(e)),l.write(e),l.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+t)}function ys(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function V4(t,e){for(var r=[],n=ys(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function ey(t){for(var e=[],r=ys(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function c1(t){for(var e=[],r=ys(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function v9(t){for(var e=[],r=ys(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var Ng=new Date(1899,11,30,0,0,0);function Eo(t,e){var r=t.getTime(),n=Ng.getTime()+(t.getTimezoneOffset()-Ng.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var p6=new Date,_9=Ng.getTime()+(p6.getTimezoneOffset()-Ng.getTimezoneOffset())*6e4,$4=p6.getTimezoneOffset();function m6(t){var e=new Date;return e.setTime(t*24*60*60*1e3+_9),e.getTimezoneOffset()!==$4&&e.setTime(e.getTime()+(e.getTimezoneOffset()-$4)*6e4),e}var W4=new Date("2017-02-19T19:06:09.000Z"),g6=isNaN(W4.getFullYear())?new Date("2/19/17"):W4,y9=g6.getFullYear()==2017;function Js(t,e){var r=new Date(t);if(y9)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(g6.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function h1(t,e){if(Cn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function To(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=To(t[r]));return e}function Yi(t,e){for(var r="";r.length<e;)r+=t;return r}function cc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var x9=["january","february","march","april","may","june","july","august","september","october","november","december"];function ep(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&x9.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Wr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Cn?n=_c(r):n=HR(r),Yn.utils.cfb_add(t,e,n)}Yn.utils.cfb_add(t,e,r)}else t.file(e,r)}function ty(){return Yn.utils.cfb_new()}var wa=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,w9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},ry=ey(w9),ny=/[&<>'"]/g,b9=/[\u0000-\u0008\u000b-\u001f]/g;function Hn(t){var e=t+"";return e.replace(ny,function(r){return ry[r]}).replace(b9,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Z4(t){return Hn(t).replace(/ /g,"_x0020_")}var v6=/[\u0000-\u001f]/g;function S9(t){var e=t+"";return e.replace(ny,function(r){return ry[r]}).replace(/\n/g,"<br/>").replace(v6,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function E9(t){var e=t+"";return e.replace(ny,function(r){return ry[r]}).replace(v6,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function T9(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function A9(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function E2(t){for(var e="",r=0,n=0,i=0,a=0,s=0,l=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(r++),l=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function Y4(t){var e=Bh(2*t.length),r,n,i=1,a=0,s=0,l;for(n=0;n<t.length;n+=i)i=1,(l=t.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(t.charCodeAt(n+1)&63),i=2):l<240?(r=(l&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(l&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function K4(t){return _c(t,"binary").toString("utf8")}var zm="foo bar baz",C0=Cn&&(K4(zm)==E2(zm)&&K4||Y4(zm)==E2(zm)&&Y4)||E2,tp=Cn?function(t){return _c(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},L9=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),_6=/(^\s|\s$|\n)/;function vs(t,e){return"<"+t+(e.match(_6)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function rp(t){return ys(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Pt(t,e,r){return"<"+t+(r!=null?rp(r):"")+(e!=null?(e.match(_6)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function b_(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function N9(t,e){switch(typeof t){case"string":var r=Pt("vt:lpwstr",Hn(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Pt((t|0)==t?"vt:i4":"vt:r8",Hn(String(t)));case"boolean":return Pt("vt:bool",t?"true":"false")}if(t instanceof Date)return Pt("vt:filetime",b_(t));throw new Error("Unable to serialize "+t)}var Wa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},wd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ko={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function C9(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function M9(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var l=0;l<=5;++l,a/=256)t[r+l]=a&255;t[r+6]=(i&15)<<4|a&15,t[r+7]=i>>4|n}var X4=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,a=t[0][n].length;i<a;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},J4=Cn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:_c(e)})):X4(t)}:X4,Q4=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(g0(t,i)));return n.join("").replace(N0,"")},iy=Cn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(N0,""):Q4(t,e,r)}:Q4,e3=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},y6=Cn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):e3(t,e,r)}:e3,t3=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Zf(t,i)));return n.join("")},xp=Cn?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):t3(e,r,n)}:t3,x6=function(t,e){var r=Xo(t,e);return r>0?xp(t,e+4,e+4+r-1):""},w6=x6,b6=function(t,e){var r=Xo(t,e);return r>0?xp(t,e+4,e+4+r-1):""},S6=b6,E6=function(t,e){var r=2*Xo(t,e);return r>0?xp(t,e+4,e+4+r-1):""},T6=E6,A6=function(e,r){var n=Xo(e,r);return n>0?iy(e,r+4,r+4+n):""},L6=A6,N6=function(t,e){var r=Xo(t,e);return r>0?xp(t,e+4,e+4+r):""},C6=N6,M6=function(t,e){return C9(t,e)},Cg=M6,ay=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Cn&&(w6=function(e,r){if(!Buffer.isBuffer(e))return x6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},S6=function(e,r){if(!Buffer.isBuffer(e))return b6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},T6=function(e,r){if(!Buffer.isBuffer(e))return E6(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},L6=function(e,r){if(!Buffer.isBuffer(e))return A6(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},C6=function(e,r){if(!Buffer.isBuffer(e))return N6(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Cg=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):M6(e,r)},ay=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Zf=function(t,e){return t[e]},g0=function(t,e){return t[e+1]*256+t[e]},k9=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Xo=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Mh=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},P9=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function M0(t,e){var r="",n,i,a=[],s,l,c,f;switch(e){case"dbcs":if(f=this.l,Cn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)r+=String.fromCharCode(g0(this,f)),f+=2;t*=2;break;case"utf8":r=xp(this,this.l,this.l+t);break;case"utf16le":t*=2,r=iy(this,this.l,this.l+t);break;case"wstr":return M0.call(this,t,"dbcs");case"lpstr-ansi":r=w6(this,this.l),t=4+Xo(this,this.l);break;case"lpstr-cp":r=S6(this,this.l),t=4+Xo(this,this.l);break;case"lpwstr":r=T6(this,this.l),t=4+2*Xo(this,this.l);break;case"lpp4":t=4+Xo(this,this.l),r=L6(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Xo(this,this.l),r=C6(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=Zf(this,this.l+t++))!==0;)a.push(Fm(s));r=a.join("");break;case"_wstr":for(t=0,r="";(s=g0(this,this.l+t))!==0;)a.push(Fm(s)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",f=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return s=Zf(this,f),this.l=f+1,l=M0.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Fm(g0(this,f))),f+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return s=Zf(this,f),this.l=f+1,l=M0.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Fm(Zf(this,f))),f+=1}r=a.join("");break;default:switch(t){case 1:return n=Zf(this,this.l),this.l++,n;case 2:return n=(e==="i"?k9:g0)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?Mh:P9)(this,this.l),this.l+=4,n):(i=Xo(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Cg(this,this.l):i=Cg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=y6(this,this.l,t);break}}return this.l+=t,r}var O9=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},R9=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},D9=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function j9(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)D9(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,O9(this,e,this.l);break;case 8:if(n=8,r==="f"){M9(this,e,this.l);break}case 16:break;case-4:n=4,R9(this,e,this.l);break}return this.l+=n,this}function k6(t,e){var r=y6(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Yo(t,e){t.l=e,t.read_shift=M0,t.chk=k6,t.write_shift=j9}function Ru(t,e){t.l+=e}function ut(t){var e=Bh(t);return Yo(e,0),e}function So(){var t=[],e=Cn?256:2048,r=function(f){var p=ut(f);return Yo(p,0),p},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(f){return n&&f<n.length-n.l?n:(i(),n=r(Math.max(f+1,e)))},s=function(){return i(),gs(t)},l=function(f){i(),n=f,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:l,end:s,_bufs:t}}function Et(t,e,r,n){var i=+e,a;if(!isNaN(i)){n||(n=CU[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=t.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var l=0;l!=4;++l)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&ay(r)&&t.push(r)}}function k0(t,e,r){var n=To(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function r3(t,e,r){var n=To(t);return n.s=k0(n.s,e.s,r),n.e=k0(n.e,e.s,r),n}function P0(t,e){if(t.cRel&&t.c<0)for(t=To(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=To(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=qn(t);return!t.cRel&&t.cRel!=null&&(r=B9(r)),!t.rRel&&t.rRel!=null&&(r=I9(r)),r}function T2(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Fs(t.s.c)+":"+(t.e.cRel?"":"$")+Fs(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+_s(t.s.r)+":"+(t.e.rRel?"":"$")+_s(t.e.r):P0(t.s,e.biff)+":"+P0(t.e,e.biff)}function sy(t){return parseInt(F9(t),10)-1}function _s(t){return""+(t+1)}function I9(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function F9(t){return t.replace(/\$(\d+)$/,"$1")}function oy(t){for(var e=U9(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Fs(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function B9(t){return t.replace(/^([A-Z])/,"$$$1")}function U9(t){return t.replace(/^\$([A-Z])/,"$1")}function z9(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Za(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function qn(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Qo(t){var e=t.indexOf(":");return e==-1?{s:Za(t),e:Za(t)}:{s:Za(t.slice(0,e)),e:Za(t.slice(e+1))}}function xa(t,e){return typeof e>"u"||typeof e=="number"?xa(t.s,t.e):(typeof t!="string"&&(t=qn(t)),typeof e!="string"&&(e=qn(e)),t==e?t:t+":"+e)}function _i(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=t.length;for(r=0;n<a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function n3(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=nh(t.z,r?Eo(e):e)}catch{}try{return t.w=nh((t.XF||{}).numFmtId||(r?14:0),r?Eo(e):e)}catch{return""+e}}function dc(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?wp[t.v]||t.v:e==null?n3(t,t.v):n3(t,e))}function Wh(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function P6(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,a=t||(i?[]:{}),s=0,l=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Za(n.origin):n.origin;s=c.r,l=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var p=_i(a["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),s==-1&&(f.e.r=s=p.e.r+1)}for(var v=0;v!=e.length;++v)if(e[v]){if(!Array.isArray(e[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[v].length;++y)if(!(typeof e[v][y]>"u")){var _={v:e[v][y]},E=s+v,S=l+y;if(f.s.r>E&&(f.s.r=E),f.s.c>S&&(f.s.c=S),f.e.r<E&&(f.e.r=E),f.e.c<S&&(f.e.c=S),e[v][y]&&typeof e[v][y]=="object"&&!Array.isArray(e[v][y])&&!(e[v][y]instanceof Date))_=e[v][y];else if(Array.isArray(_.v)&&(_.f=e[v][y][1],_.v=_.v[0]),_.v===null)if(_.f)_.t="n";else if(n.nullError)_.t="e",_.v=0;else if(n.sheetStubs)_.t="z";else continue;else typeof _.v=="number"?_.t="n":typeof _.v=="boolean"?_.t="b":_.v instanceof Date?(_.z=n.dateNF||Xi[14],n.cellDates?(_.t="d",_.w=nh(_.z,Eo(_.v))):(_.t="n",_.v=Eo(_.v),_.w=nh(_.z,_.v))):_.t="s";if(i)a[E]||(a[E]=[]),a[E][S]&&a[E][S].z&&(_.z=a[E][S].z),a[E][S]=_;else{var C=qn({c:S,r:E});a[C]&&a[C].z&&(_.z=a[C].z),a[C]=_}}}return f.s.c<1e7&&(a["!ref"]=xa(f)),a}function bd(t,e){return P6(null,t,e)}function G9(t){return t.read_shift(4,"i")}function Kl(t,e){return e||(e=ut(4)),e.write_shift(4,t),e}function Bs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ya(t,e){var r=!1;return e==null&&(r=!0,e=ut(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function H9(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function q9(t,e){return e||(e=ut(4)),e.write_shift(2,0),e.write_shift(2,0),e}function ly(t,e){var r=t.l,n=t.read_shift(1),i=Bs(t),a=[],s={t:i,h:i};if((n&1)!==0){for(var l=t.read_shift(4),c=0;c!=l;++c)a.push(H9(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function V9(t,e){var r=!1;return e==null&&(r=!0,e=ut(15+4*t.t.length)),e.write_shift(1,0),Ya(t.t,e),r?e.slice(0,e.l):e}var $9=ly;function W9(t,e){var r=!1;return e==null&&(r=!0,e=ut(23+4*t.t.length)),e.write_shift(1,1),Ya(t.t,e),e.write_shift(4,1),q9({},e),r?e.slice(0,e.l):e}function El(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Zh(t,e){return e==null&&(e=ut(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Yh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Kh(t,e){return e==null&&(e=ut(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var Z9=Bs,O6=Ya;function uy(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Mg(t,e){var r=!1;return e==null&&(r=!0,e=ut(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var Y9=Bs,S_=uy,cy=Mg;function R6(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?Cg([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Mh(e,0)>>2;return r?i/100:i}function D6(t,e){e==null&&(e=ut(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function j6(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function K9(t,e){return e||(e=ut(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Xh=j6,Sd=K9;function Ed(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Uh(t,e){return(e||ut(8)).write_shift(8,t,"f")}function X9(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var f=sD[i];f&&(e.rgb=p3(f));break;case 2:e.rgb=p3([s,l,c]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function kg(t,e){if(e||(e=ut(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function J9(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function Q9(t,e){e||(e=ut(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var I6=2,Wo=3,Gm=11,Pg=19,Hm=64,eD=65,tD=71,rD=4108,nD=4126,ms=80,i3={1:{n:"CodePage",t:I6},2:{n:"Category",t:ms},3:{n:"PresentationFormat",t:ms},4:{n:"ByteCount",t:Wo},5:{n:"LineCount",t:Wo},6:{n:"ParagraphCount",t:Wo},7:{n:"SlideCount",t:Wo},8:{n:"NoteCount",t:Wo},9:{n:"HiddenCount",t:Wo},10:{n:"MultimediaClipCount",t:Wo},11:{n:"ScaleCrop",t:Gm},12:{n:"HeadingPairs",t:rD},13:{n:"TitlesOfParts",t:nD},14:{n:"Manager",t:ms},15:{n:"Company",t:ms},16:{n:"LinksUpToDate",t:Gm},17:{n:"CharacterCount",t:Wo},19:{n:"SharedDoc",t:Gm},22:{n:"HyperlinksChanged",t:Gm},23:{n:"AppVersion",t:Wo,p:"version"},24:{n:"DigSig",t:eD},26:{n:"ContentType",t:ms},27:{n:"ContentStatus",t:ms},28:{n:"Language",t:ms},29:{n:"Version",t:ms},255:{},2147483648:{n:"Locale",t:Pg},2147483651:{n:"Behavior",t:Pg},1919054434:{}},a3={1:{n:"CodePage",t:I6},2:{n:"Title",t:ms},3:{n:"Subject",t:ms},4:{n:"Author",t:ms},5:{n:"Keywords",t:ms},6:{n:"Comments",t:ms},7:{n:"Template",t:ms},8:{n:"LastAuthor",t:ms},9:{n:"RevNumber",t:ms},10:{n:"EditTime",t:Hm},11:{n:"LastPrinted",t:Hm},12:{n:"CreatedDate",t:Hm},13:{n:"ModifiedDate",t:Hm},14:{n:"PageCount",t:Wo},15:{n:"WordCount",t:Wo},16:{n:"CharCount",t:Wo},17:{n:"Thumbnail",t:tD},18:{n:"Application",t:ms},19:{n:"DocSecurity",t:Wo},255:{},2147483648:{n:"Locale",t:Pg},2147483651:{n:"Behavior",t:Pg},1919054434:{}};function iD(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var aD=iD([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),sD=To(aD),wp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},oD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},qm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function F6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function B6(t,e){var r=v9(oD),n=[],i;n[n.length]=wa,n[n.length]=Pt("Types",null,{xmlns:Wa.CT,"xmlns:xsd":Wa.xsd,"xmlns:xsi":Wa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Pt("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){t[c]&&t[c].length>0&&(i=t[c][0],n[n.length]=Pt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:qm[c][e.bookType]||qm[c].xlsx}))},s=function(c){(t[c]||[]).forEach(function(f){n[n.length]=Pt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:qm[c][e.bookType]||qm[c].xlsx})})},l=function(c){(t[c]||[]).forEach(function(f){n[n.length]=Pt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[c][0]})})};return a("workbooks"),s("sheets"),s("charts"),l("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),s("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Tn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function U6(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function hd(t){var e=[wa,Pt("Relationships",null,{xmlns:Wa.RELS})];return ys(t["!id"]).forEach(function(r){e[e.length]=Pt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function zn(t,e,r,n,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[Tn.HLINK,Tn.XPATH,Tn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function lD(t){var e=[wa];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function s3(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function uD(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function cD(t){var e=[wa];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(s3(t[r][0],t[r][1])),e.push(uD("",t[r][0]));return e.push(s3("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function z6(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Sg.version+"</meta:generator></office:meta></office:document-meta>"}var Dh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function A2(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Hn(e),n[n.length]=r?Pt(t,e,r):vs(t,e))}function G6(t,e){var r=e||{},n=[wa,Pt("cp:coreProperties",null,{"xmlns:cp":Wa.CORE_PROPS,"xmlns:dc":Wa.dc,"xmlns:dcterms":Wa.dcterms,"xmlns:dcmitype":Wa.dcmitype,"xmlns:xsi":Wa.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&A2("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:b_(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&A2("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:b_(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Dh.length;++a){var s=Dh[a],l=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&A2(s[0],l,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var fd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],H6=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function q6(t){var e=[],r=Pt;return t||(t={}),t.Application="SheetJS",e[e.length]=wa,e[e.length]=Pt("Properties",null,{xmlns:Wa.EXT_PROPS,"xmlns:vt":Wa.vt}),fd.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Hn(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Hn(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function V6(t){var e=[wa,Pt("Properties",null,{xmlns:Wa.CUST_PROPS,"xmlns:vt":Wa.vt})];if(!t)return e.join("");var r=1;return ys(t).forEach(function(i){++r,e[e.length]=Pt("property",N9(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Hn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var o3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function hD(t,e){var r=[];return ys(o3).map(function(n){for(var i=0;i<Dh.length;++i)if(Dh[i][1]==n)return Dh[i];for(i=0;i<fd.length;++i)if(fd[i][1]==n)return fd[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];n[2]==="date"&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(vs(o3[n[1]]||n[1],i))}}),Pt("DocumentProperties",r.join(""),{xmlns:Ko.o})}function fD(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&ys(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<Dh.length;++s)if(a==Dh[s][1])return;for(s=0;s<fd.length;++s)if(a==fd[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var l=t[a],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),i.push(Pt(Z4(a),l,{"dt:dt":c}))}}),e&&ys(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=e[a],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s instanceof Date?(l="dateTime.tz",s=s.toISOString()):s=String(s),i.push(Pt(Z4(a),s,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Ko.o+'">'+i.join("")+"</"+n+">"}function dD(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=ut(8);return s.write_shift(4,n),s.write_shift(4,i),s}function l3(t,e){var r=ut(4),n=ut(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=ut(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=dD(e);break;case 31:case 80:for(n=ut(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return gs([r,n])}var $6=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function pD(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function u3(t,e,r){var n=ut(8),i=[],a=[],s=8,l=0,c=ut(8),f=ut(8);if(c.write_shift(4,2),c.write_shift(4,1200),f.write_shift(4,1),a.push(c),i.push(f),s+=8+c.length,!e){f=ut(8),f.write_shift(4,0),i.unshift(f);var p=[ut(4)];for(p[0].write_shift(4,t.length),l=0;l<t.length;++l){var v=t[l][0];for(c=ut(8+2*(v.length+1)+(v.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,v.length+1),c.write_shift(0,v,"dbcs");c.l!=c.length;)c.write_shift(1,0);p.push(c)}c=gs(p),a.unshift(c),s+=8+c.length}for(l=0;l<t.length;++l)if(!(e&&!e[t[l][0]])&&!($6.indexOf(t[l][0])>-1||H6.indexOf(t[l][0])>-1)&&t[l][1]!=null){var y=t[l][1],_=0;if(e){_=+e[t[l][0]];var E=r[_];if(E.p=="version"&&typeof y=="string"){var S=y.split(".");y=(+S[0]<<16)+(+S[1]||0)}c=l3(E.t,y)}else{var C=pD(y);C==-1&&(C=31,y=String(y)),c=l3(C,y)}a.push(c),f=ut(8),f.write_shift(4,e?_:2+l),i.push(f),s+=8+c.length}var O=8*(a.length+1);for(l=0;l<a.length;++l)i[l].write_shift(4,O),O+=a[l].length;return n.write_shift(4,s),n.write_shift(4,a.length),gs([n].concat(i).concat(a))}function c3(t,e,r,n,i,a){var s=ut(i?68:48),l=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Yn.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var c=u3(t,r,n);if(l.push(c),i){var f=u3(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+c.length),l.push(f)}return gs(l)}function mD(t,e){e||(e=ut(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function gD(t,e){return t.read_shift(e)===1}function Ks(t,e){return e||(e=ut(2)),e.write_shift(2,+!!t),e}function W6(t){return t.read_shift(2,"u")}function vl(t,e){return e||(e=ut(2)),e.write_shift(2,t),e}function Z6(t,e,r){return r||(r=ut(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Y6(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?t.read_shift(n,i):"";return s}function vD(t){var e=t.t||"",r=ut(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=ut(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return gs(i)}function _D(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function yD(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):_D(t,n,r)}function xD(t,e,r){if(r.biff>5)return yD(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function K6(t,e,r){return r||(r=ut(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function h3(t,e){e||(e=ut(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function wD(t){var e=ut(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(a==28)n=n.slice(1),h3(n,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var l=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)e.write_shift(2,l.charCodeAt(r));e.write_shift(2,0),a&8&&h3(i>-1?n.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)e.write_shift(1,n.charCodeAt(r+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function zh(t,e,r,n){return n||(n=ut(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function bD(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),a=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[i,a,s]}function SD(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function X6(t,e){return e||(e=ut(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function hy(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=ut(i);return a.write_shift(2,n),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function ED(t,e){var r=!e||e.biff==8,n=ut(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function TD(t,e){var r=!e||e.biff>=8?2:1,n=ut(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function AD(t,e){var r=ut(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=vD(t[i]);var a=gs([r].concat(n));return a.parts=[r.length].concat(n.map(function(s){return s.length})),a}function LD(){var t=ut(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function ND(t){var e=ut(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function CD(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,a=ut(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function MD(t,e,r,n){var i=ut(10);return zh(t,e,n,i),i.write_shift(4,r),i}function kD(t,e,r,n,i){var a=!i||i.biff==8,s=ut(8+ +a+(1+a)*r.length);return zh(t,e,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function PD(t,e,r,n){var i=r&&r.biff==5;n||(n=ut(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function OD(t,e){var r=e.biff==8||!e.biff?4:2,n=ut(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function f3(t,e,r,n){var i=r&&r.biff==5;n||(n=ut(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function RD(t){var e=ut(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function DD(t,e,r,n,i,a){var s=ut(8);return zh(t,e,n,s),Z6(r,a,s),s}function jD(t,e,r,n){var i=ut(14);return zh(t,e,n,i),Uh(r,i),i}function ID(t,e,r){if(r.biff<8)return FD(t,e,r);for(var n=[],i=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(bD(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function FD(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Y6(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function BD(t){var e=ut(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)X6(t[r],e);return e}function UD(t){var e=ut(24),r=Za(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return gs([e,wD(t[1])])}function zD(t){var e=t[1].Tooltip,r=ut(10+2*(e.length+1));r.write_shift(2,2048);var n=Za(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function GD(t){return t||(t=ut(4)),t.write_shift(2,1),t.write_shift(2,1),t}function HD(t,e,r){if(!r.cellStyles)return Ru(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),a=t.read_shift(n),s=t.read_shift(n),l=t.read_shift(n),c=t.read_shift(2);n==2&&(t.l+=2);var f={s:i,e:a,w:s,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(f.level=c>>8&7),f}function qD(t,e){var r=ut(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function VD(t){for(var e=ut(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function $D(t,e,r){var n=ut(15);return Sp(n,t,e),n.write_shift(8,r,"f"),n}function WD(t,e,r){var n=ut(9);return Sp(n,t,e),n.write_shift(2,r),n}var ZD=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=ey({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var f=[],p=Bh(1);switch(c.type){case"base64":p=Wl(fc(l));break;case"binary":p=Wl(l);break;case"buffer":case"array":p=l;break}Yo(p,0);var v=p.read_shift(1),y=!!(v&136),_=!1,E=!1;switch(v){case 2:break;case 3:break;case 48:_=!0,y=!0;break;case 49:_=!0,y=!0;break;case 131:break;case 139:break;case 140:E=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var S=0,C=521;v==2&&(S=p.read_shift(2)),p.l+=3,v!=2&&(S=p.read_shift(4)),S>1048576&&(S=1e6),v!=2&&(C=p.read_shift(2));var O=p.read_shift(2),j=c.codepage||1252;v!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(j=t[p[p.l]]),p.l+=1,p.l+=2),E&&(p.l+=36);for(var R=[],B={},J=Math.min(p.length,v==2?521:C-10-(_?264:0)),re=E?32:11;p.l<J&&p[p.l]!=13;)switch(B={},B.name=Eg.utils.decode(j,p.slice(p.l,p.l+re)).replace(/[\u0000\r\n].*$/g,""),p.l+=re,B.type=String.fromCharCode(p.read_shift(1)),v!=2&&!E&&(B.offset=p.read_shift(4)),B.len=p.read_shift(1),v==2&&(B.offset=p.read_shift(2)),B.dec=p.read_shift(1),B.name.length&&R.push(B),v!=2&&(p.l+=E?13:14),B.type){case"B":(!_||B.len!=8)&&c.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+B.type)}if(p[p.l]!==13&&(p.l=C-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=C;var F=0,K=0;for(f[0]=[],K=0;K!=R.length;++K)f[0][K]=R[K].name;for(;S-- >0;){if(p[p.l]===42){p.l+=O;continue}for(++p.l,f[++F]=[],K=0,K=0;K!=R.length;++K){var U=p.slice(p.l,p.l+R[K].len);p.l+=R[K].len,Yo(U,0);var X=Eg.utils.decode(j,U);switch(R[K].type){case"C":X.trim().length&&(f[F][K]=X.replace(/\s+$/,""));break;case"D":X.length===8?f[F][K]=new Date(+X.slice(0,4),+X.slice(4,6)-1,+X.slice(6,8)):f[F][K]=X;break;case"F":f[F][K]=parseFloat(X.trim());break;case"+":case"I":f[F][K]=E?U.read_shift(-4,"i")^2147483648:U.read_shift(4,"i");break;case"L":switch(X.trim().toUpperCase()){case"Y":case"T":f[F][K]=!0;break;case"N":case"F":f[F][K]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+X+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));f[F][K]="##MEMO##"+(E?parseInt(X.trim(),10):U.read_shift(4));break;case"N":X=X.replace(/\u0000/g,"").trim(),X&&X!="."&&(f[F][K]=+X||0);break;case"@":f[F][K]=new Date(U.read_shift(-8,"f")-621356832e5);break;case"T":f[F][K]=new Date((U.read_shift(4)-2440588)*864e5+U.read_shift(4));break;case"Y":f[F][K]=U.read_shift(4,"i")/1e4+U.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[F][K]=-U.read_shift(-8,"f");break;case"B":if(_&&R[K].len==8){f[F][K]=U.read_shift(8,"f");break}case"G":case"P":U.l+=R[K].len;break;case"0":if(R[K].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+R[K].type)}}}if(v!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return c&&c.sheetRows&&(f=f.slice(0,c.sheetRows)),c.DBF=R,f}function n(l,c){var f=c||{};f.dateNF||(f.dateNF="yyyymmdd");var p=bd(r(l,f),f);return p["!cols"]=f.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete f.DBF,p}function i(l,c){try{return Wh(n(l,c),c)}catch(f){if(c&&c.WTF)throw f}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(l,c){var f=c||{};if(+f.codepage>=0&&J0(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var p=So(),v=Ig(l,{header:1,raw:!0,cellDates:!0}),y=v[0],_=v.slice(1),E=l["!cols"]||[],S=0,C=0,O=0,j=1;for(S=0;S<y.length;++S){if(((E[S]||{}).DBF||{}).name){y[S]=E[S].DBF.name,++O;continue}if(y[S]!=null){if(++O,typeof y[S]=="number"&&(y[S]=y[S].toString(10)),typeof y[S]!="string")throw new Error("DBF Invalid column name "+y[S]+" |"+typeof y[S]+"|");if(y.indexOf(y[S])!==S){for(C=0;C<1024;++C)if(y.indexOf(y[S]+"_"+C)==-1){y[S]+="_"+C;break}}}}var R=_i(l["!ref"]),B=[],J=[],re=[];for(S=0;S<=R.e.c-R.s.c;++S){var F="",K="",U=0,X=[];for(C=0;C<_.length;++C)_[C][S]!=null&&X.push(_[C][S]);if(X.length==0||y[S]==null){B[S]="?";continue}for(C=0;C<X.length;++C){switch(typeof X[C]){case"number":K="B";break;case"string":K="C";break;case"boolean":K="L";break;case"object":K=X[C]instanceof Date?"D":"C";break;default:K="C"}U=Math.max(U,String(X[C]).length),F=F&&F!=K?"C":K}U>250&&(U=250),K=((E[S]||{}).DBF||{}).type,K=="C"&&E[S].DBF.len>U&&(U=E[S].DBF.len),F=="B"&&K=="N"&&(F="N",re[S]=E[S].DBF.dec,U=E[S].DBF.len),J[S]=F=="C"||K=="N"?U:a[F]||0,j+=J[S],B[S]=F}var I=p.next(32);for(I.write_shift(4,318902576),I.write_shift(4,_.length),I.write_shift(2,296+32*O),I.write_shift(2,j),S=0;S<4;++S)I.write_shift(4,0);for(I.write_shift(4,0|(+e[QE]||3)<<8),S=0,C=0;S<y.length;++S)if(y[S]!=null){var W=p.next(32),ue=(y[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,ue,"sbcs"),W.write_shift(1,B[S]=="?"?"C":B[S],"sbcs"),W.write_shift(4,C),W.write_shift(1,J[S]||a[B[S]]||0),W.write_shift(1,re[S]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),C+=J[S]||a[B[S]]||0}var pe=p.next(264);for(pe.write_shift(4,13),S=0;S<65;++S)pe.write_shift(4,0);for(S=0;S<_.length;++S){var xe=p.next(j);for(xe.write_shift(1,0),C=0;C<y.length;++C)if(y[C]!=null)switch(B[C]){case"L":xe.write_shift(1,_[S][C]==null?63:_[S][C]?84:70);break;case"B":xe.write_shift(8,_[S][C]||0,"f");break;case"N":var le="0";for(typeof _[S][C]=="number"&&(le=_[S][C].toFixed(re[C]||0)),O=0;O<J[C]-le.length;++O)xe.write_shift(1,32);xe.write_shift(1,le,"sbcs");break;case"D":_[S][C]?(xe.write_shift(4,("0000"+_[S][C].getFullYear()).slice(-4),"sbcs"),xe.write_shift(2,("00"+(_[S][C].getMonth()+1)).slice(-2),"sbcs"),xe.write_shift(2,("00"+_[S][C].getDate()).slice(-2),"sbcs")):xe.write_shift(8,"00000000","sbcs");break;case"C":var be=String(_[S][C]!=null?_[S][C]:"").slice(0,J[C]);for(xe.write_shift(1,be,"sbcs"),O=0;O<J[C]-be.length;++O)xe.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}})(),YD=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ys(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,_){var E=t[_];return typeof E=="number"?j4(E):E},n=function(y,_,E){var S=_.charCodeAt(0)-32<<4|E.charCodeAt(0)-48;return S==59?y:j4(S)};t["|"]=254;function i(y,_){switch(_.type){case"base64":return a(fc(y),_);case"binary":return a(y,_);case"buffer":return a(Cn&&Buffer.isBuffer(y)?y.toString("binary"):_p(y),_);case"array":return a(h1(y),_)}throw new Error("Unrecognized type "+_.type)}function a(y,_){var E=y.split(/[\n\r]+/),S=-1,C=-1,O=0,j=0,R=[],B=[],J=null,re={},F=[],K=[],U=[],X=0,I;for(+_.codepage>=0&&J0(+_.codepage);O!==E.length;++O){X=0;var W=E[O].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),ue=W.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),pe=ue[0],xe;if(W.length>0)switch(pe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ue[1].charAt(0)=="P"&&B.push(W.slice(3).replace(/;;/g,";"));break;case"C":var le=!1,be=!1,_e=!1,Le=!1,Ne=-1,ee=-1;for(j=1;j<ue.length;++j)switch(ue[j].charAt(0)){case"A":break;case"X":C=parseInt(ue[j].slice(1))-1,be=!0;break;case"Y":for(S=parseInt(ue[j].slice(1))-1,be||(C=0),I=R.length;I<=S;++I)R[I]=[];break;case"K":xe=ue[j].slice(1),xe.charAt(0)==='"'?xe=xe.slice(1,xe.length-1):xe==="TRUE"?xe=!0:xe==="FALSE"?xe=!1:isNaN(cc(xe))?isNaN(ep(xe).getDate())||(xe=Js(xe)):(xe=cc(xe),J!==null&&h6(J)&&(xe=m6(xe))),le=!0;break;case"E":Le=!0;var P=Wj(ue[j].slice(1),{r:S,c:C});R[S][C]=[R[S][C],P];break;case"S":_e=!0,R[S][C]=[R[S][C],"S5S"];break;case"G":break;case"R":Ne=parseInt(ue[j].slice(1))-1;break;case"C":ee=parseInt(ue[j].slice(1))-1;break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+W)}if(le&&(R[S][C]&&R[S][C].length==2?R[S][C][0]=xe:R[S][C]=xe,J=null),_e){if(Le)throw new Error("SYLK shared formula cannot have own formula");var H=Ne>-1&&R[Ne][ee];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");R[S][C][1]=Zj(H[1],{r:S-Ne,c:C-ee})}break;case"F":var q=0;for(j=1;j<ue.length;++j)switch(ue[j].charAt(0)){case"X":C=parseInt(ue[j].slice(1))-1,++q;break;case"Y":for(S=parseInt(ue[j].slice(1))-1,I=R.length;I<=S;++I)R[I]=[];break;case"M":X=parseInt(ue[j].slice(1))/20;break;case"F":break;case"G":break;case"P":J=B[parseInt(ue[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(U=ue[j].slice(1).split(" "),I=parseInt(U[0],10);I<=parseInt(U[1],10);++I)X=parseInt(U[2],10),K[I-1]=X===0?{hidden:!0}:{wch:X},fy(K[I-1]);break;case"C":C=parseInt(ue[j].slice(1))-1,K[C]||(K[C]={});break;case"R":S=parseInt(ue[j].slice(1))-1,F[S]||(F[S]={}),X>0?(F[S].hpt=X,F[S].hpx=r8(X)):X===0&&(F[S].hidden=!0);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+W)}q<1&&(J=null);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+W)}}return F.length>0&&(re["!rows"]=F),K.length>0&&(re["!cols"]=K),_&&_.sheetRows&&(R=R.slice(0,_.sheetRows)),[R,re]}function s(y,_){var E=i(y,_),S=E[0],C=E[1],O=bd(S,_);return ys(C).forEach(function(j){O[j]=C[j]}),O}function l(y,_){return Wh(s(y,_),_)}function c(y,_,E,S){var C="C;Y"+(E+1)+";X"+(S+1)+";K";switch(y.t){case"n":C+=y.v||0,y.f&&!y.F&&(C+=";E"+py(y.f,{r:E,c:S}));break;case"b":C+=y.v?"TRUE":"FALSE";break;case"e":C+=y.w||y.v;break;case"d":C+='"'+(y.w||y.v)+'"';break;case"s":C+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function f(y,_){_.forEach(function(E,S){var C="F;W"+(S+1)+" "+(S+1)+" ";E.hidden?C+="0":(typeof E.width=="number"&&!E.wpx&&(E.wpx=Og(E.width)),typeof E.wpx=="number"&&!E.wch&&(E.wch=Rg(E.wpx)),typeof E.wch=="number"&&(C+=Math.round(E.wch))),C.charAt(C.length-1)!=" "&&y.push(C)})}function p(y,_){_.forEach(function(E,S){var C="F;";E.hidden?C+="M0;":E.hpt?C+="M"+20*E.hpt+";":E.hpx&&(C+="M"+20*Dg(E.hpx)+";"),C.length>2&&y.push(C+"R"+(S+1))})}function v(y,_){var E=["ID;PWXL;N;E"],S=[],C=_i(y["!ref"]),O,j=Array.isArray(y),R=`\r
`;E.push("P;PGeneral"),E.push("F;P0;DG0G8;M255"),y["!cols"]&&f(E,y["!cols"]),y["!rows"]&&p(E,y["!rows"]),E.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var B=C.s.r;B<=C.e.r;++B)for(var J=C.s.c;J<=C.e.c;++J){var re=qn({r:B,c:J});O=j?(y[B]||[])[J]:y[re],!(!O||O.v==null&&(!O.f||O.F))&&S.push(c(O,y,B,J))}return E.join(R)+R+S.join(R)+R+"E"+R}return{to_workbook:l,to_sheet:s,from_sheet:v}})(),KD=(function(){function t(a,s){switch(s.type){case"base64":return e(fc(a),s);case"binary":return e(a,s);case"buffer":return e(Cn&&Buffer.isBuffer(a)?a.toString("binary"):_p(a),s);case"array":return e(h1(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var l=a.split(`
`),c=-1,f=-1,p=0,v=[];p!==l.length;++p){if(l[p].trim()==="BOT"){v[++c]=[],f=0;continue}if(!(c<0)){var y=l[p].trim().split(","),_=y[0],E=y[1];++p;for(var S=l[p]||"";(S.match(/["]/g)||[]).length&1&&p<l.length-1;)S+=`
`+l[++p];switch(S=S.trim(),+_){case-1:if(S==="BOT"){v[++c]=[],f=0;continue}else if(S!=="EOD")throw new Error("Unrecognized DIF special command "+S);break;case 0:S==="TRUE"?v[c][f]=!0:S==="FALSE"?v[c][f]=!1:isNaN(cc(E))?isNaN(ep(E).getDate())?v[c][f]=E:v[c][f]=Js(E):v[c][f]=cc(E),++f;break;case 1:S=S.slice(1,S.length-1),S=S.replace(/""/g,'"'),S&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),v[c][f++]=S!==""?S:null;break}if(S==="EOD")break}}return s&&s.sheetRows&&(v=v.slice(0,s.sheetRows)),v}function r(a,s){return bd(t(a,s),s)}function n(a,s){return Wh(r(a,s),s)}var i=(function(){var a=function(c,f,p,v,y){c.push(f),c.push(p+","+v),c.push('"'+y.replace(/"/g,'""')+'"')},s=function(c,f,p,v){c.push(f+","+p),c.push(f==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(c){var f=[],p=_i(c["!ref"]),v,y=Array.isArray(c);a(f,"TABLE",0,1,"sheetjs"),a(f,"VECTORS",0,p.e.r-p.s.r+1,""),a(f,"TUPLES",0,p.e.c-p.s.c+1,""),a(f,"DATA",0,0,"");for(var _=p.s.r;_<=p.e.r;++_){s(f,-1,0,"BOT");for(var E=p.s.c;E<=p.e.c;++E){var S=qn({r:_,c:E});if(v=y?(c[_]||[])[E]:c[S],!v){s(f,1,0,"");continue}switch(v.t){case"n":var C=v.w;!C&&v.v!=null&&(C=v.v),C==null?v.f&&!v.F?s(f,1,0,"="+v.f):s(f,1,0,""):s(f,0,C,"V");break;case"b":s(f,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":s(f,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=nh(v.z||Xi[14],Eo(Js(v.v)))),s(f,0,v.w,"V");break;default:s(f,1,0,"")}}}s(f,-1,0,"EOD");var O=`\r
`,j=f.join(O);return j}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),J6=(function(){function t(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(v,y){for(var _=v.split(`
`),E=-1,S=-1,C=0,O=[];C!==_.length;++C){var j=_[C].trim().split(":");if(j[0]==="cell"){var R=Za(j[1]);if(O.length<=R.r)for(E=O.length;E<=R.r;++E)O[E]||(O[E]=[]);switch(E=R.r,S=R.c,j[2]){case"t":O[E][S]=t(j[3]);break;case"v":O[E][S]=+j[3];break;case"vtf":var B=j[j.length-1];case"vtc":j[3]==="nl"?O[E][S]=!!+j[4]:O[E][S]=+j[4],j[2]=="vtf"&&(O[E][S]=[O[E][S],B])}}}return y&&y.sheetRows&&(O=O.slice(0,y.sheetRows)),O}function n(v,y){return bd(r(v,y),y)}function i(v,y){return Wh(n(v,y),y)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function f(v){if(!v||!v["!ref"])return"";for(var y=[],_=[],E,S="",C=Qo(v["!ref"]),O=Array.isArray(v),j=C.s.r;j<=C.e.r;++j)for(var R=C.s.c;R<=C.e.c;++R)if(S=qn({r:j,c:R}),E=O?(v[j]||[])[R]:v[S],!(!E||E.v==null||E.t==="z")){switch(_=["cell",S,"t"],E.t){case"s":case"str":_.push(e(E.v));break;case"n":E.f?(_[2]="vtf",_[3]="n",_[4]=E.v,_[5]=e(E.f)):(_[2]="v",_[3]=E.v);break;case"b":_[2]="vt"+(E.f?"f":"c"),_[3]="nl",_[4]=E.v?"1":"0",_[5]=e(E.f||(E.v?"TRUE":"FALSE"));break;case"d":var B=Eo(Js(E.v));_[2]="vtc",_[3]="nd",_[4]=""+B,_[5]=E.w||nh(E.z||Xi[14],B);break;case"e":continue}y.push(_.join(":"))}return y.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(v){return[a,s,l,s,f(v),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:p}})(),XD=(function(){function t(p,v,y,_,E){E.raw?v[y][_]=p:p===""||(p==="TRUE"?v[y][_]=!0:p==="FALSE"?v[y][_]=!1:isNaN(cc(p))?isNaN(ep(p).getDate())?v[y][_]=p:v[y][_]=Js(p):v[y][_]=cc(p))}function e(p,v){var y=v||{},_=[];if(!p||p.length===0)return _;for(var E=p.split(/[\r\n]/),S=E.length-1;S>=0&&E[S].length===0;)--S;for(var C=10,O=0,j=0;j<=S;++j)O=E[j].indexOf(" "),O==-1?O=E[j].length:O++,C=Math.max(C,O);for(j=0;j<=S;++j){_[j]=[];var R=0;for(t(E[j].slice(0,C).trim(),_,j,R,y),R=1;R<=(E[j].length-C)/10+1;++R)t(E[j].slice(C+(R-1)*10,C+R*10).trim(),_,j,R,y)}return y.sheetRows&&(_=_.slice(0,y.sheetRows)),_}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(p){for(var v={},y=!1,_=0,E=0;_<p.length;++_)(E=p.charCodeAt(_))==34?y=!y:!y&&E in r&&(v[E]=(v[E]||0)+1);E=[];for(_ in v)Object.prototype.hasOwnProperty.call(v,_)&&E.push([v[_],_]);if(!E.length){v=n;for(_ in v)Object.prototype.hasOwnProperty.call(v,_)&&E.push([v[_],_])}return E.sort(function(S,C){return S[0]-C[0]||n[S[1]]-n[C[1]]}),r[E.pop()[1]]||44}function a(p,v){var y=v||{},_="",E=y.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(_=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(_=p.charAt(4),p=p.slice(6)):_=i(p.slice(0,1024)):y&&y.FS?_=y.FS:_=i(p.slice(0,1024));var C=0,O=0,j=0,R=0,B=0,J=_.charCodeAt(0),re=!1,F=0,K=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var U=y.dateNF!=null?d9(y.dateNF):null;function X(){var I=p.slice(R,B),W={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)W.t="z";else if(y.raw)W.t="s",W.v=I;else if(I.trim().length===0)W.t="s",W.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(W.t="s",W.v=I.slice(2,-1).replace(/""/g,'"')):Yj(I)?(W.t="n",W.f=I.slice(1)):(W.t="s",W.v=I);else if(I=="TRUE")W.t="b",W.v=!0;else if(I=="FALSE")W.t="b",W.v=!1;else if(!isNaN(j=cc(I)))W.t="n",y.cellText!==!1&&(W.w=I),W.v=j;else if(!isNaN(ep(I).getDate())||U&&I.match(U)){W.z=y.dateNF||Xi[14];var ue=0;U&&I.match(U)&&(I=p9(I,y.dateNF,I.match(U)||[]),ue=1),y.cellDates?(W.t="d",W.v=Js(I,ue)):(W.t="n",W.v=Eo(Js(I,ue))),y.cellText!==!1&&(W.w=nh(W.z,W.v instanceof Date?Eo(W.v):W.v)),y.cellNF||delete W.z}else W.t="s",W.v=I;if(W.t=="z"||(y.dense?(E[C]||(E[C]=[]),E[C][O]=W):E[qn({c:O,r:C})]=W),R=B+1,K=p.charCodeAt(R),S.e.c<O&&(S.e.c=O),S.e.r<C&&(S.e.r=C),F==J)++O;else if(O=0,++C,y.sheetRows&&y.sheetRows<=C)return!0}e:for(;B<p.length;++B)switch(F=p.charCodeAt(B)){case 34:K===34&&(re=!re);break;case J:case 10:case 13:if(!re&&X())break e;break}return B-R>0&&X(),E["!ref"]=xa(S),E}function s(p,v){return!(v&&v.PRN)||v.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?a(p,v):bd(e(p,v),v)}function l(p,v){var y="",_=v.type=="string"?[0,0,0,0]:uz(p,v);switch(v.type){case"base64":y=fc(p);break;case"binary":y=p;break;case"buffer":v.codepage==65001?y=p.toString("utf8"):v.codepage&&typeof Eg<"u"||(y=Cn&&Buffer.isBuffer(p)?p.toString("binary"):_p(p));break;case"array":y=h1(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+v.type)}return _[0]==239&&_[1]==187&&_[2]==191?y=C0(y.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?y=C0(y):v.type=="binary"&&typeof Eg<"u",y.slice(0,19)=="socialcalc:version:"?J6.to_sheet(v.type=="string"?y:C0(y),v):s(y,v)}function c(p,v){return Wh(l(p,v),v)}function f(p){for(var v=[],y=_i(p["!ref"]),_,E=Array.isArray(p),S=y.s.r;S<=y.e.r;++S){for(var C=[],O=y.s.c;O<=y.e.c;++O){var j=qn({r:S,c:O});if(_=E?(p[S]||[])[O]:p[j],!_||_.v==null){C.push("          ");continue}for(var R=(_.w||(dc(_),_.w)||"").slice(0,10);R.length<10;)R+=" ";C.push(R+(O===0?" ":""))}v.push(C.join(""))}return v.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:f}})(),d3=(function(){function t(P,H,q){if(P){Yo(P,P.l||0);for(var Z=q.Enum||Ne;P.l<P.length;){var oe=P.read_shift(2),Ae=Z[oe]||Z[65535],Oe=P.read_shift(2),Re=P.l+Oe,Ie=Ae.f&&Ae.f(P,Oe,q);if(P.l=Re,H(Ie,Ae,oe))return}}}function e(P,H){switch(H.type){case"base64":return r(Wl(fc(P)),H);case"binary":return r(Wl(P),H);case"buffer":case"array":return r(P,H)}throw"Unsupported type "+H.type}function r(P,H){if(!P)return P;var q=H||{},Z=q.dense?[]:{},oe="Sheet1",Ae="",Oe=0,Re={},Ie=[],ot=[],it={s:{r:0,c:0},e:{r:0,c:0}},Tt=q.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)q.Enum=Ne,t(P,function(xt,zt,dt){switch(dt){case 0:q.vers=xt,xt>=4096&&(q.qpro=!0);break;case 6:it=xt;break;case 204:xt&&(Ae=xt);break;case 222:Ae=xt;break;case 15:case 51:q.qpro||(xt[1].v=xt[1].v.slice(1));case 13:case 14:case 16:dt==14&&(xt[2]&112)==112&&(xt[2]&15)>1&&(xt[2]&15)<15&&(xt[1].z=q.dateNF||Xi[14],q.cellDates&&(xt[1].t="d",xt[1].v=m6(xt[1].v))),q.qpro&&xt[3]>Oe&&(Z["!ref"]=xa(it),Re[oe]=Z,Ie.push(oe),Z=q.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},Oe=xt[3],oe=Ae||"Sheet"+(Oe+1),Ae="");var Vt=q.dense?(Z[xt[0].r]||[])[xt[0].c]:Z[qn(xt[0])];if(Vt){Vt.t=xt[1].t,Vt.v=xt[1].v,xt[1].z!=null&&(Vt.z=xt[1].z),xt[1].f!=null&&(Vt.f=xt[1].f);break}q.dense?(Z[xt[0].r]||(Z[xt[0].r]=[]),Z[xt[0].r][xt[0].c]=xt[1]):Z[qn(xt[0])]=xt[1];break}},q);else if(P[2]==26||P[2]==14)q.Enum=ee,P[2]==14&&(q.qpro=!0,P.l=0),t(P,function(xt,zt,dt){switch(dt){case 204:oe=xt;break;case 22:xt[1].v=xt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(xt[3]>Oe&&(Z["!ref"]=xa(it),Re[oe]=Z,Ie.push(oe),Z=q.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},Oe=xt[3],oe="Sheet"+(Oe+1)),Tt>0&&xt[0].r>=Tt)break;q.dense?(Z[xt[0].r]||(Z[xt[0].r]=[]),Z[xt[0].r][xt[0].c]=xt[1]):Z[qn(xt[0])]=xt[1],it.e.c<xt[0].c&&(it.e.c=xt[0].c),it.e.r<xt[0].r&&(it.e.r=xt[0].r);break;case 27:xt[14e3]&&(ot[xt[14e3][0]]=xt[14e3][1]);break;case 1537:ot[xt[0]]=xt[1],xt[0]==Oe&&(oe=xt[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(Z["!ref"]=xa(it),Re[Ae||oe]=Z,Ie.push(Ae||oe),!ot.length)return{SheetNames:Ie,Sheets:Re};for(var Nt={},we=[],yt=0;yt<ot.length;++yt)Re[Ie[yt]]?(we.push(ot[yt]||Ie[yt]),Nt[ot[yt]]=Re[ot[yt]]||Re[Ie[yt]]):(we.push(ot[yt]),Nt[ot[yt]]={"!ref":"A1"});return{SheetNames:we,Sheets:Nt}}function n(P,H){var q=H||{};if(+q.codepage>=0&&J0(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=So(),oe=_i(P["!ref"]),Ae=Array.isArray(P),Oe=[];Ot(Z,0,a(1030)),Ot(Z,6,c(oe));for(var Re=Math.min(oe.e.r,8191),Ie=oe.s.r;Ie<=Re;++Ie)for(var ot=_s(Ie),it=oe.s.c;it<=oe.e.c;++it){Ie===oe.s.r&&(Oe[it]=Fs(it));var Tt=Oe[it]+ot,Nt=Ae?(P[Ie]||[])[it]:P[Tt];if(!(!Nt||Nt.t=="z"))if(Nt.t=="n")(Nt.v|0)==Nt.v&&Nt.v>=-32768&&Nt.v<=32767?Ot(Z,13,_(Ie,it,Nt.v)):Ot(Z,14,S(Ie,it,Nt.v));else{var we=dc(Nt);Ot(Z,15,v(Ie,it,we.slice(0,239)))}}return Ot(Z,1),Z.end()}function i(P,H){var q=H||{};if(+q.codepage>=0&&J0(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=So();Ot(Z,0,s(P));for(var oe=0,Ae=0;oe<P.SheetNames.length;++oe)(P.Sheets[P.SheetNames[oe]]||{})["!ref"]&&Ot(Z,27,Le(P.SheetNames[oe],Ae++));var Oe=0;for(oe=0;oe<P.SheetNames.length;++oe){var Re=P.Sheets[P.SheetNames[oe]];if(!(!Re||!Re["!ref"])){for(var Ie=_i(Re["!ref"]),ot=Array.isArray(Re),it=[],Tt=Math.min(Ie.e.r,8191),Nt=Ie.s.r;Nt<=Tt;++Nt)for(var we=_s(Nt),yt=Ie.s.c;yt<=Ie.e.c;++yt){Nt===Ie.s.r&&(it[yt]=Fs(yt));var xt=it[yt]+we,zt=ot?(Re[Nt]||[])[yt]:Re[xt];if(!(!zt||zt.t=="z"))if(zt.t=="n")Ot(Z,23,X(Nt,yt,Oe,zt.v));else{var dt=dc(zt);Ot(Z,22,F(Nt,yt,Oe,dt.slice(0,239)))}}++Oe}}return Ot(Z,1),Z.end()}function a(P){var H=ut(2);return H.write_shift(2,P),H}function s(P){var H=ut(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var q=0,Z=0,oe=0,Ae=0;Ae<P.SheetNames.length;++Ae){var Oe=P.SheetNames[Ae],Re=P.Sheets[Oe];if(!(!Re||!Re["!ref"])){++oe;var Ie=Qo(Re["!ref"]);q<Ie.e.r&&(q=Ie.e.r),Z<Ie.e.c&&(Z=Ie.e.c)}}return q>8191&&(q=8191),H.write_shift(2,q),H.write_shift(1,oe),H.write_shift(1,Z),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function l(P,H,q){var Z={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&q.qpro?(Z.s.c=P.read_shift(1),P.l++,Z.s.r=P.read_shift(2),Z.e.c=P.read_shift(1),P.l++,Z.e.r=P.read_shift(2),Z):(Z.s.c=P.read_shift(2),Z.s.r=P.read_shift(2),H==12&&q.qpro&&(P.l+=2),Z.e.c=P.read_shift(2),Z.e.r=P.read_shift(2),H==12&&q.qpro&&(P.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function c(P){var H=ut(8);return H.write_shift(2,P.s.c),H.write_shift(2,P.s.r),H.write_shift(2,P.e.c),H.write_shift(2,P.e.r),H}function f(P,H,q){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(Z[0].c=P.read_shift(1),Z[3]=P.read_shift(1),Z[0].r=P.read_shift(2),P.l+=2):(Z[2]=P.read_shift(1),Z[0].c=P.read_shift(2),Z[0].r=P.read_shift(2)),Z}function p(P,H,q){var Z=P.l+H,oe=f(P,H,q);if(oe[1].t="s",q.vers==20768){P.l++;var Ae=P.read_shift(1);return oe[1].v=P.read_shift(Ae,"utf8"),oe}return q.qpro&&P.l++,oe[1].v=P.read_shift(Z-P.l,"cstr"),oe}function v(P,H,q){var Z=ut(7+q.length);Z.write_shift(1,255),Z.write_shift(2,H),Z.write_shift(2,P),Z.write_shift(1,39);for(var oe=0;oe<Z.length;++oe){var Ae=q.charCodeAt(oe);Z.write_shift(1,Ae>=128?95:Ae)}return Z.write_shift(1,0),Z}function y(P,H,q){var Z=f(P,H,q);return Z[1].v=P.read_shift(2,"i"),Z}function _(P,H,q){var Z=ut(7);return Z.write_shift(1,255),Z.write_shift(2,H),Z.write_shift(2,P),Z.write_shift(2,q,"i"),Z}function E(P,H,q){var Z=f(P,H,q);return Z[1].v=P.read_shift(8,"f"),Z}function S(P,H,q){var Z=ut(13);return Z.write_shift(1,255),Z.write_shift(2,H),Z.write_shift(2,P),Z.write_shift(8,q,"f"),Z}function C(P,H,q){var Z=P.l+H,oe=f(P,H,q);if(oe[1].v=P.read_shift(8,"f"),q.qpro)P.l=Z;else{var Ae=P.read_shift(2);B(P.slice(P.l,P.l+Ae),oe),P.l+=Ae}return oe}function O(P,H,q){var Z=H&32768;return H&=-32769,H=(Z?P:0)+(H>=8192?H-16384:H),(Z?"":"$")+(q?Fs(H):_s(H))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},R=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function B(P,H){Yo(P,0);for(var q=[],Z=0,oe="",Ae="",Oe="",Re="";P.l<P.length;){var Ie=P[P.l++];switch(Ie){case 0:q.push(P.read_shift(8,"f"));break;case 1:Ae=O(H[0].c,P.read_shift(2),!0),oe=O(H[0].r,P.read_shift(2),!1),q.push(Ae+oe);break;case 2:{var ot=O(H[0].c,P.read_shift(2),!0),it=O(H[0].r,P.read_shift(2),!1);Ae=O(H[0].c,P.read_shift(2),!0),oe=O(H[0].r,P.read_shift(2),!1),q.push(ot+it+":"+Ae+oe)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(P.read_shift(2));break;case 6:{for(var Tt="";Ie=P[P.l++];)Tt+=String.fromCharCode(Ie);q.push('"'+Tt.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:Re=q.pop(),Oe=q.pop(),q.push(["AND","OR"][Ie-20]+"("+Oe+","+Re+")");break;default:if(Ie<32&&R[Ie])Re=q.pop(),Oe=q.pop(),q.push(Oe+R[Ie]+Re);else if(j[Ie]){if(Z=j[Ie][1],Z==69&&(Z=P[P.l++]),Z>q.length){console.error("WK1 bad formula parse 0x"+Ie.toString(16)+":|"+q.join("|")+"|");return}var Nt=q.slice(-Z);q.length-=Z,q.push(j[Ie][0]+"("+Nt.join(",")+")")}else return Ie<=7?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=24?console.error("WK1 unsupported op "+Ie.toString(16)):Ie<=30?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=115?console.error("WK1 unsupported function opcode "+Ie.toString(16)):console.error("WK1 unrecognized opcode "+Ie.toString(16))}}q.length==1?H[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function J(P){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=P.read_shift(2),H[3]=P[P.l++],H[0].c=P[P.l++],H}function re(P,H){var q=J(P);return q[1].t="s",q[1].v=P.read_shift(H-4,"cstr"),q}function F(P,H,q,Z){var oe=ut(6+Z.length);oe.write_shift(2,P),oe.write_shift(1,q),oe.write_shift(1,H),oe.write_shift(1,39);for(var Ae=0;Ae<Z.length;++Ae){var Oe=Z.charCodeAt(Ae);oe.write_shift(1,Oe>=128?95:Oe)}return oe.write_shift(1,0),oe}function K(P,H){var q=J(P);q[1].v=P.read_shift(2);var Z=q[1].v>>1;if(q[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return q[1].v=Z,q}function U(P,H){var q=J(P),Z=P.read_shift(4),oe=P.read_shift(4),Ae=P.read_shift(2);if(Ae==65535)return Z===0&&oe===3221225472?(q[1].t="e",q[1].v=15):Z===0&&oe===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var Oe=Ae&32768;return Ae=(Ae&32767)-16446,q[1].v=(1-Oe*2)*(oe*Math.pow(2,Ae+32)+Z*Math.pow(2,Ae)),q}function X(P,H,q,Z){var oe=ut(14);if(oe.write_shift(2,P),oe.write_shift(1,q),oe.write_shift(1,H),Z==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var Ae=0,Oe=0,Re=0,Ie=0;return Z<0&&(Ae=1,Z=-Z),Oe=Math.log2(Z)|0,Z/=Math.pow(2,Oe-31),Ie=Z>>>0,(Ie&2147483648)==0&&(Z/=2,++Oe,Ie=Z>>>0),Z-=Ie,Ie|=2147483648,Ie>>>=0,Z*=Math.pow(2,32),Re=Z>>>0,oe.write_shift(4,Re),oe.write_shift(4,Ie),Oe+=16383+(Ae?32768:0),oe.write_shift(2,Oe),oe}function I(P,H){var q=U(P);return P.l+=H-14,q}function W(P,H){var q=J(P),Z=P.read_shift(4);return q[1].v=Z>>6,q}function ue(P,H){var q=J(P),Z=P.read_shift(8,"f");return q[1].v=Z,q}function pe(P,H){var q=ue(P);return P.l+=H-10,q}function xe(P,H){return P[P.l+H-1]==0?P.read_shift(H,"cstr"):""}function le(P,H){var q=P[P.l++];q>H-1&&(q=H-1);for(var Z="";Z.length<q;)Z+=String.fromCharCode(P[P.l++]);return Z}function be(P,H,q){if(!(!q.qpro||H<21)){var Z=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var oe=P.read_shift(H-21,"cstr");return[Z,oe]}}function _e(P,H){for(var q={},Z=P.l+H;P.l<Z;){var oe=P.read_shift(2);if(oe==14e3){for(q[oe]=[0,""],q[oe][0]=P.read_shift(2);P[P.l];)q[oe][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return q}function Le(P,H){var q=ut(5+P.length);q.write_shift(2,14e3),q.write_shift(2,H);for(var Z=0;Z<P.length;++Z){var oe=P.charCodeAt(Z);q[q.l++]=oe>127?95:oe}return q[q.l++]=0,q}var Ne={0:{n:"BOF",f:W6},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:E},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:xe},222:{n:"SHEETNAMELP",f:le},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:re},23:{n:"NUMBER17",f:U},24:{n:"NUMBER18",f:K},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:_e},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:ue},40:{n:"FORMULA28",f:pe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:xe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:be},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})(),JD=/^\s|\s$|[\t\n\r]/;function Q6(t,e){if(!e.bookSST)return"";var r=[wa];r[r.length]=Pt("sst",null,{xmlns:wd[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(JD)&&(a+=' xml:space="preserve"'),a+=">"+Hn(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function QD(t){return[t.read_shift(4),t.read_shift(4)]}function ej(t,e){return e||(e=ut(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var tj=V9;function rj(t){var e=So();Et(e,159,ej(t));for(var r=0;r<t.length;++r)Et(e,19,tj(t[r]));return Et(e,160),e.end()}function nj(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function e8(t){var e=0,r,n=nj(t),i=n.length+1,a,s,l,c,f;for(r=Bh(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],l=(e&16384)===0?0:1,c=e<<1&32767,f=l|c,e=f^s;return e^52811}var ij=(function(){function t(i,a){switch(a.type){case"base64":return e(fc(i),a);case"binary":return e(i,a);case"buffer":return e(Cn&&Buffer.isBuffer(i)?i.toString("binary"):_p(i),a);case"array":return e(h1(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},l=s.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(p,v){Array.isArray(l)&&(l[v]=[]);for(var y=/\\\w+\b/g,_=0,E,S=-1;E=y.exec(p);){switch(E[0]){case"\\cell":var C=p.slice(_,y.lastIndex-E[0].length);if(C[0]==" "&&(C=C.slice(1)),++S,C.length){var O={v:C,t:"s"};Array.isArray(l)?l[v][S]=O:l[qn({r:v,c:S})]=O}break}_=y.lastIndex}S>f.e.c&&(f.e.c=S)}),l["!ref"]=xa(f),l}function r(i,a){return Wh(t(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=_i(i["!ref"]),l,c=Array.isArray(i),f=s.s.r;f<=s.e.r;++f){a.push("\\trowd\\trautofit1");for(var p=s.s.c;p<=s.e.c;++p)a.push("\\cellx"+(p+1));for(a.push("\\pard\\intbl"),p=s.s.c;p<=s.e.c;++p){var v=qn({r:f,c:p});l=c?(i[f]||[])[p]:i[v],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(dc(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function p3(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var aj=6,hc=aj;function Og(t){return Math.floor((t+Math.round(128/hc)/256)*hc)}function Rg(t){return Math.floor((t-5)/hc*100+.5)/100}function E_(t){return Math.round((t*hc+5)/hc*256)/256}function fy(t){t.width?(t.wpx=Og(t.width),t.wch=Rg(t.wpx),t.MDW=hc):t.wpx?(t.wch=Rg(t.wpx),t.width=E_(t.wch),t.MDW=hc):typeof t.wch=="number"&&(t.width=E_(t.wch),t.wpx=Og(t.width),t.MDW=hc),t.customWidth&&delete t.customWidth}var sj=96,t8=sj;function Dg(t){return t*96/t8}function r8(t){return t*t8/96}function oj(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Pt("numFmt",null,{numFmtId:n,formatCode:Hn(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Pt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function lj(t){var e=[];return e[e.length]=Pt("cellXfs",null),t.forEach(function(r){e[e.length]=Pt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Pt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function n8(t,e){var r=[wa,Pt("styleSheet",null,{xmlns:wd[0],"xmlns:vt":Wa.vt})],n;return t.SSF&&(n=oj(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=lj(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function uj(t,e){var r=t.read_shift(2),n=Bs(t);return[r,n]}function cj(t,e,r){r||(r=ut(6+4*e.length)),r.write_shift(2,t),Ya(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function hj(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=J9(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var l=t.read_shift(1);l>0&&(n.family=l);var c=t.read_shift(1);switch(c>0&&(n.charset=c),t.l++,n.color=X9(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Bs(t),n}function fj(t,e){e||(e=ut(153)),e.write_shift(2,t.sz*20),Q9(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),kg(t.color,e);var n=0;return n=2,e.write_shift(1,n),Ya(t.name,e),e.length>e.l?e.slice(0,e.l):e}var dj=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],L2,pj=Ru;function m3(t,e){e||(e=ut(84)),L2||(L2=ey(dj));var r=L2[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(kg({auto:1},e),kg({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function mj(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function i8(t,e,r){r||(r=ut(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function c0(t,e){return e||(e=ut(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var gj=Ru;function vj(t,e){return e||(e=ut(51)),e.write_shift(1,0),c0(null,e),c0(null,e),c0(null,e),c0(null,e),c0(null,e),e.length>e.l?e.slice(0,e.l):e}function _j(t,e){return e||(e=ut(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Mg(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function yj(t,e,r){var n=ut(2052);return n.write_shift(4,t),Mg(e,n),Mg(r,n),n.length>n.l?n.slice(0,n.l):n}function xj(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(Et(t,615,Kl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Et(t,44,cj(i,e[i]))}),Et(t,616))}}function wj(t){var e=1;Et(t,611,Kl(e)),Et(t,43,fj({sz:12,color:{theme:1},name:"Calibri",family:2})),Et(t,612)}function bj(t){var e=2;Et(t,603,Kl(e)),Et(t,45,m3({patternType:"none"})),Et(t,45,m3({patternType:"gray125"})),Et(t,604)}function Sj(t){var e=1;Et(t,613,Kl(e)),Et(t,46,vj()),Et(t,614)}function Ej(t){var e=1;Et(t,626,Kl(e)),Et(t,47,i8({numFmtId:0},65535)),Et(t,627)}function Tj(t,e){Et(t,617,Kl(e.length)),e.forEach(function(r){Et(t,47,i8(r,0))}),Et(t,618)}function Aj(t){var e=1;Et(t,619,Kl(e)),Et(t,48,_j({xfId:0,name:"Normal"})),Et(t,620)}function Lj(t){var e=0;Et(t,505,Kl(e)),Et(t,506)}function Nj(t){var e=0;Et(t,508,yj(e,"TableStyleMedium9","PivotStyleMedium4")),Et(t,509)}function Cj(t,e){var r=So();return Et(r,278),xj(r,t.SSF),wj(r),bj(r),Sj(r),Ej(r),Tj(r,e.cellXfs),Aj(r),Lj(r),Nj(r),Et(r,279),r.end()}function a8(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[wa];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Mj(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Bs(t)}}function kj(t){var e=ut(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ya(t.name,e),e.slice(0,e.l)}function Pj(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Oj(t){var e=ut(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function Rj(t,e){var r=ut(8+2*e.length);return r.write_shift(4,t),Ya(e,r),r.slice(0,r.l)}function Dj(t){return t.l+=4,t.read_shift(4)!=0}function jj(t,e){var r=ut(8);return r.write_shift(4,t),r.write_shift(4,1),r}function Ij(){var t=So();return Et(t,332),Et(t,334,Kl(1)),Et(t,335,kj({name:"XLDAPR",version:12e4,flags:3496657072})),Et(t,336),Et(t,339,Rj(1,"XLDAPR")),Et(t,52),Et(t,35,Kl(514)),Et(t,4096,Kl(0)),Et(t,4097,vl(1)),Et(t,36),Et(t,53),Et(t,340),Et(t,337,jj(1)),Et(t,51,Oj([[1,0]])),Et(t,338),Et(t,333),t.end()}function s8(){var t=[wa];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Fj(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=qn(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Qf=1024;function o8(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Pt("xml",null,{"xmlns:v":Ko.v,"xmlns:o":Ko.o,"xmlns:x":Ko.x,"xmlns:mv":Ko.mv}).replace(/\/>/,">"),Pt("o:shapelayout",Pt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Pt("v:shapetype",[Pt("v:stroke",null,{joinstyle:"miter"}),Pt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Qf<t*1e3;)Qf+=1e3;return e.forEach(function(a){var s=Za(a[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Pt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Pt("v:fill",c,l),p={on:"t",obscured:"t"};++Qf,i=i.concat(["<v:shape"+rp({id:"_x0000_s"+Qf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Pt("v:shadow",null,p),Pt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",vs("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),vs("x:AutoFill","False"),vs("x:Row",String(s.r)),vs("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function l8(t){var e=[wa,Pt("comments",null,{xmlns:wd[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var a=Hn(i.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=r.indexOf(Hn(c.a))),a.push(c.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(vs("t",Hn(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,l=1;l<a.length;++l)s+=`Reply:
    `+a[l]+`
`;e.push(vs("t",Hn(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Bj(t,e,r){var n=[wa,Pt("ThreadedComments",null,{xmlns:Wa.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,l){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?a=c.id:c.parentId=a,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(Pt("threadedComment",vs("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function Uj(t){var e=[wa,Pt("personList",null,{xmlns:Wa.TCMNT,"xmlns:x":wd[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Pt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function zj(t){var e={};e.iauthor=t.read_shift(4);var r=Xh(t);return e.rfx=r.s,e.ref=qn(r.s),t.l+=16,e}function Gj(t,e){return e==null&&(e=ut(36)),e.write_shift(4,t[1].iauthor),Sd(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Hj=Bs;function qj(t){return Ya(t.slice(0,54))}function Vj(t){var e=So(),r=[];return Et(e,628),Et(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Et(e,632,qj(i.a)))})}),Et(e,631),Et(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Za(n[0]),e:Za(n[0])};Et(e,635,Gj([a,i])),i.t&&i.t.length>0&&Et(e,637,W9(i)),Et(e,636),delete i.iauthor})}),Et(e,634),Et(e,629),e.end()}function $j(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Yn.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var u8=["xlsb","xlsm","xlam","biff8","xla"],Wj=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,a,s){var l=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1));var f=a.length>0?parseInt(a,10)|0:0,p=s.length>0?parseInt(s,10)|0:0;return l?p+=e.c:--p,c?f+=e.r:--f,i+(l?"":"$")+Fs(p)+(c?"":"$")+_s(f)}return function(i,a){return e=a,i.replace(t,r)}})(),dy=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,py=(function(){return function(e,r){return e.replace(dy,function(n,i,a,s,l,c){var f=oy(s)-(a?0:r.c),p=sy(c)-(l?0:r.r),v=p==0?"":l?p+1:"["+p+"]",y=f==0?"":a?f+1:"["+f+"]";return i+"R"+v+"C"+y})}})();function Zj(t,e){return t.replace(dy,function(r,n,i,a,s,l){return n+(i=="$"?i+a:Fs(oy(a)+e.c))+(s=="$"?s+l:_s(sy(l)+e.r))})}function Yj(t){return t.length!=1}function _a(t){t.l+=1}function ih(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function c8(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return h8(t);r.biff==12&&(n=4)}var i=t.read_shift(n),a=t.read_shift(n),s=ih(t),l=ih(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function h8(t){var e=ih(t),r=ih(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Kj(t,e,r){if(r.biff<8)return h8(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),a=ih(t),s=ih(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function f8(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return Xj(t);var n=t.read_shift(r&&r.biff==12?4:2),i=ih(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function Xj(t){var e=ih(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function Jj(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Qj(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return eI(t);var i=t.read_shift(n>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:l}}function eI(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function tI(t,e,r){var n=(t[t.l++]&96)>>5,i=c8(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function rI(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=c8(t,a,r);return[n,i,s]}function nI(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function iI(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,i]}function aI(t,e,r){var n=(t[t.l++]&96)>>5,i=Kj(t,e-1,r);return[n,i]}function sI(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function g3(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function oI(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function lI(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function uI(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function cI(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function hI(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function d8(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function fI(t){return t.read_shift(2),d8(t)}function dI(t){return t.read_shift(2),d8(t)}function pI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=f8(t,0,r);return[n,i]}function mI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=Qj(t,0,r);return[n,i]}function gI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=f8(t,0,r);return[n,i,a]}function vI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[vF[i],g8[i],n]}function _I(t,e,r){var n=t[t.l++],i=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:yI(t);return[i,(a[0]===0?g8:gF)[a[1]]]}function yI(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function xI(t,e,r){t.l+=r&&r.biff==2?3:4}function wI(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function bI(t){return t.l++,wp[t.read_shift(1)]}function SI(t){return t.l++,t.read_shift(2)}function EI(t){return t.l++,t.read_shift(1)!==0}function TI(t){return t.l++,Ed(t)}function AI(t,e,r){return t.l++,Y6(t,e-1,r)}function LI(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=gD(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=wp[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Ed(t);break;case 2:r[1]=xD(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function NI(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Xh:SD)(t));return i}function CI(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var l=0;l!=i;++l)s[a][l]=LI(t,r.biff);return s}function MI(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function kI(t,e,r){if(r.biff==5)return PI(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[n,i,a]}function PI(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function OI(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function RI(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function DI(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function jI(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,i]}var II=Ru,FI=Ru,BI=Ru;function bp(t,e,r){return t.l+=2,[Jj(t)]}function my(t){return t.l+=6,[]}var UI=bp,zI=my,GI=my,HI=bp;function p8(t){return t.l+=2,[W6(t),t.read_shift(2)&1]}var qI=bp,VI=p8,$I=my,WI=bp,ZI=bp,YI=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function KI(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=YI[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:i,C:a}}function XI(t){return t.l+=2,[t.read_shift(4)]}function JI(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function QI(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function eF(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function tF(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function rF(t){return t.l+=4,[0,0]}var v3={1:{n:"PtgExp",f:wI},2:{n:"PtgTbl",f:BI},3:{n:"PtgAdd",f:_a},4:{n:"PtgSub",f:_a},5:{n:"PtgMul",f:_a},6:{n:"PtgDiv",f:_a},7:{n:"PtgPower",f:_a},8:{n:"PtgConcat",f:_a},9:{n:"PtgLt",f:_a},10:{n:"PtgLe",f:_a},11:{n:"PtgEq",f:_a},12:{n:"PtgGe",f:_a},13:{n:"PtgGt",f:_a},14:{n:"PtgNe",f:_a},15:{n:"PtgIsect",f:_a},16:{n:"PtgUnion",f:_a},17:{n:"PtgRange",f:_a},18:{n:"PtgUplus",f:_a},19:{n:"PtgUminus",f:_a},20:{n:"PtgPercent",f:_a},21:{n:"PtgParen",f:_a},22:{n:"PtgMissArg",f:_a},23:{n:"PtgStr",f:AI},26:{n:"PtgSheet",f:JI},27:{n:"PtgEndSheet",f:QI},28:{n:"PtgErr",f:bI},29:{n:"PtgBool",f:EI},30:{n:"PtgInt",f:SI},31:{n:"PtgNum",f:TI},32:{n:"PtgArray",f:sI},33:{n:"PtgFunc",f:vI},34:{n:"PtgFuncVar",f:_I},35:{n:"PtgName",f:MI},36:{n:"PtgRef",f:pI},37:{n:"PtgArea",f:tI},38:{n:"PtgMemArea",f:OI},39:{n:"PtgMemErr",f:II},40:{n:"PtgMemNoMem",f:FI},41:{n:"PtgMemFunc",f:RI},42:{n:"PtgRefErr",f:DI},43:{n:"PtgAreaErr",f:nI},44:{n:"PtgRefN",f:mI},45:{n:"PtgAreaN",f:aI},46:{n:"PtgMemAreaN",f:eF},47:{n:"PtgMemNoMemN",f:tF},57:{n:"PtgNameX",f:kI},58:{n:"PtgRef3d",f:gI},59:{n:"PtgArea3d",f:rI},60:{n:"PtgRefErr3d",f:jI},61:{n:"PtgAreaErr3d",f:iI},255:{}},nF={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},iF={1:{n:"PtgElfLel",f:p8},2:{n:"PtgElfRw",f:WI},3:{n:"PtgElfCol",f:UI},6:{n:"PtgElfRwV",f:ZI},7:{n:"PtgElfColV",f:HI},10:{n:"PtgElfRadical",f:qI},11:{n:"PtgElfRadicalS",f:$I},13:{n:"PtgElfColS",f:zI},15:{n:"PtgElfColSV",f:GI},16:{n:"PtgElfRadicalLel",f:VI},25:{n:"PtgList",f:KI},29:{n:"PtgSxName",f:XI},255:{}},aF={0:{n:"PtgAttrNoop",f:rF},1:{n:"PtgAttrSemi",f:hI},2:{n:"PtgAttrIf",f:uI},4:{n:"PtgAttrChoose",f:oI},8:{n:"PtgAttrGoto",f:lI},16:{n:"PtgAttrSum",f:xI},32:{n:"PtgAttrBaxcel",f:g3},33:{n:"PtgAttrBaxcel",f:g3},64:{n:"PtgAttrSpace",f:fI},65:{n:"PtgAttrSpaceSemi",f:dI},128:{n:"PtgAttrIfError",f:cI},255:{}};function sF(t,e,r,n){if(n.biff<8)return Ru(t,e);for(var i=t.l+e,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=CI(t,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=NI(t,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=i-t.l,e!==0&&a.push(Ru(t,e)),a}function oF(t,e,r){for(var n=t.l+e,i,a,s=[];n!=t.l;)e=n-t.l,a=t[t.l],i=v3[a]||v3[nF[a]],(a===24||a===25)&&(i=(a===24?iF:aF)[t[t.l+1]]),!i||!i.f?Ru(t,e):s.push([i.n,i.f(t,e,r)]);return s}function lF(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],a=0;a<n.length;++a){var s=n[a];s?s[0]===2?i.push('"'+s[1].replace(/"/g,'""')+'"'):i.push(s[1]):i.push("")}e.push(i.join(","))}return e.join(";")}var uF={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function cF(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function m8(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function _3(t,e,r){var n=m8(t,e,r);return n=="#REF"?n:cF(n,r)}function gd(t,e,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},l=[],c,f,p,v=0,y=0,_,E="";if(!t[0]||!t[0][0])return"";for(var S=-1,C="",O=0,j=t[0].length;O<j;++O){var R=t[0][O];switch(R[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),f=l.pop(),S>=0){switch(t[0][S][1][0]){case 0:C=Yi(" ",t[0][S][1][1]);break;case 1:C=Yi("\r",t[0][S][1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}f=f+C,S=-1}l.push(f+uF[R[0]]+c);break;case"PtgIsect":c=l.pop(),f=l.pop(),l.push(f+" "+c);break;case"PtgUnion":c=l.pop(),f=l.pop(),l.push(f+","+c);break;case"PtgRange":c=l.pop(),f=l.pop(),l.push(f+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=k0(R[1][1],s,i),l.push(P0(p,a));break;case"PtgRefN":p=r?k0(R[1][1],r,i):R[1][1],l.push(P0(p,a));break;case"PtgRef3d":v=R[1][1],p=k0(R[1][2],s,i),E=_3(n,v,i),l.push(E+"!"+P0(p,a));break;case"PtgFunc":case"PtgFuncVar":var B=R[1][0],J=R[1][1];B||(B=0),B&=127;var re=B==0?[]:l.slice(-B);l.length-=B,J==="User"&&(J=re.shift()),l.push(J+"("+re.join(",")+")");break;case"PtgBool":l.push(R[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(R[1]);break;case"PtgNum":l.push(String(R[1]));break;case"PtgStr":l.push('"'+R[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(R[1]);break;case"PtgAreaN":_=r3(R[1][1],r?{s:r}:s,i),l.push(T2(_,i));break;case"PtgArea":_=r3(R[1][1],s,i),l.push(T2(_,i));break;case"PtgArea3d":v=R[1][1],_=R[1][2],E=_3(n,v,i),l.push(E+"!"+T2(_,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=R[1][2];var F=(n.names||[])[y-1]||(n[0]||[])[y],K=F?F.Name:"SH33TJSNAME"+String(y);K&&K.slice(0,6)=="_xlfn."&&!i.xlfn&&(K=K.slice(6)),l.push(K);break;case"PtgNameX":var U=R[1][1];y=R[1][2];var X;if(i.biff<=5)U<0&&(U=-U),n[U]&&(X=n[U][y]);else{var I="";if(((n[U]||[])[0]||[])[0]==14849||(((n[U]||[])[0]||[])[0]==1025?n[U][y]&&n[U][y].itab>0&&(I=n.SheetNames[n[U][y].itab-1]+"!"):I=n.SheetNames[y-1]+"!"),n[U]&&n[U][y])I+=n[U][y].Name;else if(n[0]&&n[0][y])I+=n[0][y].Name;else{var W=(m8(n,U,i)||"").split(";;");W[y-1]?I=W[y-1]:I+="SH33TJSERRX"}l.push(I);break}X||(X={Name:"SH33TJSERRY"}),l.push(X.Name);break;case"PtgParen":var ue="(",pe=")";if(S>=0){switch(C="",t[0][S][1][0]){case 2:ue=Yi(" ",t[0][S][1][1])+ue;break;case 3:ue=Yi("\r",t[0][S][1][1])+ue;break;case 4:pe=Yi(" ",t[0][S][1][1])+pe;break;case 5:pe=Yi("\r",t[0][S][1][1])+pe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}S=-1}l.push(ue+l.pop()+pe);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":p={c:R[1][1],r:R[1][0]};var xe={c:r.c,r:r.r};if(n.sharedf[qn(p)]){var le=n.sharedf[qn(p)];l.push(gd(le,s,xe,n,i))}else{var be=!1;for(c=0;c!=n.arrayf.length;++c)if(f=n.arrayf[c],!(p.c<f[0].s.c||p.c>f[0].e.c)&&!(p.r<f[0].s.r||p.r>f[0].e.r)){l.push(gd(f[1],s,xe,n,i)),be=!0;break}be||l.push(R[1])}break;case"PtgArray":l.push("{"+lF(R[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=O;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+R[1].idx+"[#"+R[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(R));default:throw new Error("Unrecognized Formula Token: "+String(R))}var _e=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&S>=0&&_e.indexOf(t[0][O][0])==-1){R=t[0][S];var Le=!0;switch(R[1][0]){case 4:Le=!1;case 0:C=Yi(" ",R[1][1]);break;case 5:Le=!1;case 1:C=Yi("\r",R[1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+R[1][0])}l.push((Le?C:"")+l.pop()+(Le?"":C)),S=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function hF(t){if(t==null){var e=ut(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Uh(t);return Uh(0)}function fF(t,e,r,n,i){var a=zh(e,r,i),s=hF(t.v),l=ut(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var f=ut(t.bf.length),p=0;p<t.bf.length;++p)f[p]=t.bf[p];var v=gs([a,s,l,f]);return v}function f1(t,e,r){var n=t.read_shift(4),i=oF(t,n,r),a=t.read_shift(4),s=a>0?sF(t,a,i,r):null;return[i,s]}var dF=f1,d1=f1,pF=f1,mF=f1,gF={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},g8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},vF={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function _F(t){var e="of:="+t.replace(dy,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function yF(t){return t.replace(/\./,"!")}var O0=typeof Map<"u";function gy(t,e,r){var n=0,i=t.length;if(r){if(O0?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=O0?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(O0?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function p1(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(hc=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Rg(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=E_(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function v8(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function lh(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){f6(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===n)return i;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function xF(t,e,r){if(t&&t["!ref"]){var n=_i(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function wF(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+xa(t[r])+'"/>';return e+"</mergeCells>"}function bF(t,e,r,n,i){var a=!1,s={},l=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[r];try{e.Workbook&&(c=e.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,s.codeName=tp(Hn(c))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),l=(l||"")+Pt("outlinePr",null,f)}!a&&!l||(i[i.length]=Pt("sheetPr",l,s))}var SF=["objects","scenarios","selectLockedCells","selectUnlockedCells"],EF=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function TF(t){var e={sheet:1};return SF.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),EF.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=e8(t.password).toString(16).toUpperCase()),Pt("sheetProtection",null,e)}function AF(t){return v8(t),Pt("pageMargins",null,t)}function LF(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=Pt("col",null,p1(i,n)));return r[r.length]="</cols>",r.join("")}function NF(t,e,r,n){var i=typeof t.ref=="string"?t.ref:xa(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=Qo(i);s.s.r==s.e.r&&(s.e.r=Qo(e["!ref"]).e.r,i=xa(s));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Pt("autoFilter",null,{ref:i})}function CF(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Pt("sheetViews",Pt("sheetView",null,i),{})}function MF(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=wp[t.v];break;case"d":n&&n.cellDates?i=Js(t.v,-1).toISOString():(t=To(t),t.t="n",i=""+(t.v=Eo(Js(t.v)))),typeof t.z>"u"&&(t.z=Xi[14]);break;default:i=t.v;break}var l=vs("v",Hn(i)),c={r:e},f=lh(n.cellXfs,t,n);switch(f!==0&&(c.s=f),t.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=vs("v",""+gy(n.Strings,t.v,n.revStrings)),c.t="s";break}c.t="str";break}if(t.t!=a&&(t.t=a,t.v=s),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;l=Pt("f",Hn(t.f),p)+(t.v!=null?l:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(c.cm=1),Pt("c",l,c)}function kF(t,e,r,n){var i=[],a=[],s=_i(t["!ref"]),l="",c,f="",p=[],v=0,y=0,_=t["!rows"],E=Array.isArray(t),S={r:f},C,O=-1;for(y=s.s.c;y<=s.e.c;++y)p[y]=Fs(y);for(v=s.s.r;v<=s.e.r;++v){for(a=[],f=_s(v),y=s.s.c;y<=s.e.c;++y){c=p[y]+f;var j=E?(t[v]||[])[y]:t[c];j!==void 0&&(l=MF(j,c,t,e))!=null&&a.push(l)}(a.length>0||_&&_[v])&&(S={r:f},_&&_[v]&&(C=_[v],C.hidden&&(S.hidden=1),O=-1,C.hpx?O=Dg(C.hpx):C.hpt&&(O=C.hpt),O>-1&&(S.ht=O,S.customHeight=1),C.level&&(S.outlineLevel=C.level)),i[i.length]=Pt("row",a.join(""),S))}if(_)for(;v<_.length;++v)_&&_[v]&&(S={r:v+1},C=_[v],C.hidden&&(S.hidden=1),O=-1,C.hpx?O=Dg(C.hpx):C.hpt&&(O=C.hpt),O>-1&&(S.ht=O,S.customHeight=1),C.level&&(S.outlineLevel=C.level),i[i.length]=Pt("row","",S));return i.join("")}function _8(t,e,r,n){var i=[wa,Pt("worksheet",null,{xmlns:wd[0],"xmlns:r":Wa.r})],a=r.SheetNames[t],s=0,l="",c=r.Sheets[a];c==null&&(c={});var f=c["!ref"]||"A1",p=_i(f);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),f=xa(p)}n||(n={}),c["!comments"]=[];var v=[];bF(c,r,t,e,i),i[i.length]=Pt("dimension",null,{ref:f}),i[i.length]=CF(c,e,t,r),e.sheetFormat&&(i[i.length]=Pt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=LF(c,c["!cols"])),i[s=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=kF(c,e),l.length>0&&(i[i.length]=l)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),c["!protect"]&&(i[i.length]=TF(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=NF(c["!autofilter"],c,r,t)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=wF(c["!merges"]));var y=-1,_,E=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(S){S[1].Target&&(_={ref:S[0]},S[1].Target.charAt(0)!="#"&&(E=zn(n,-1,Hn(S[1].Target).replace(/#.*$/,""),Tn.HLINK),_["r:id"]="rId"+E),(y=S[1].Target.indexOf("#"))>-1&&(_.location=Hn(S[1].Target.slice(y+1))),S[1].Tooltip&&(_.tooltip=Hn(S[1].Tooltip)),i[i.length]=Pt("hyperlink",null,_))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=AF(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=vs("ignoredErrors",Pt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),v.length>0&&(E=zn(n,-1,"../drawings/drawing"+(t+1)+".xml",Tn.DRAW),i[i.length]=Pt("drawing",null,{"r:id":"rId"+E}),c["!drawing"]=v),c["!comments"].length>0&&(E=zn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Tn.VML),i[i.length]=Pt("legacyDrawing",null,{"r:id":"rId"+E}),c["!legacy"]=E),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function PF(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function OF(t,e,r){var n=ut(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;i.hpx?a=Dg(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var f={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var v=-1,y=-1,_=p<<10;_<p+1<<10;++_){f.c=_;var E=Array.isArray(r)?(r[f.r]||[])[f.c]:r[qn(f)];E&&(v<0&&(v=_),y=_)}v<0||(++l,n.write_shift(4,v),n.write_shift(4,y))}var S=n.l;return n.l=c,n.write_shift(4,l),n.l=S,n.length>n.l?n.slice(0,n.l):n}function RF(t,e,r,n){var i=OF(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&Et(t,0,i)}var DF=Xh,jF=Sd;function IF(){}function FF(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=Z9(t),r}function BF(t,e,r){r==null&&(r=ut(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return kg({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),O6(t,r),r.slice(0,r.l)}function UF(t){var e=El(t);return[e]}function zF(t,e,r){return r==null&&(r=ut(8)),Zh(e,r)}function GF(t){var e=Yh(t);return[e]}function HF(t,e,r){return r==null&&(r=ut(4)),Kh(e,r)}function qF(t){var e=El(t),r=t.read_shift(1);return[e,r,"b"]}function VF(t,e,r){return r==null&&(r=ut(9)),Zh(e,r),r.write_shift(1,t.v?1:0),r}function $F(t){var e=Yh(t),r=t.read_shift(1);return[e,r,"b"]}function WF(t,e,r){return r==null&&(r=ut(5)),Kh(e,r),r.write_shift(1,t.v?1:0),r}function ZF(t){var e=El(t),r=t.read_shift(1);return[e,r,"e"]}function YF(t,e,r){return r==null&&(r=ut(9)),Zh(e,r),r.write_shift(1,t.v),r}function KF(t){var e=Yh(t),r=t.read_shift(1);return[e,r,"e"]}function XF(t,e,r){return r==null&&(r=ut(8)),Kh(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function JF(t){var e=El(t),r=t.read_shift(4);return[e,r,"s"]}function QF(t,e,r){return r==null&&(r=ut(12)),Zh(e,r),r.write_shift(4,e.v),r}function eB(t){var e=Yh(t),r=t.read_shift(4);return[e,r,"s"]}function tB(t,e,r){return r==null&&(r=ut(8)),Kh(e,r),r.write_shift(4,e.v),r}function rB(t){var e=El(t),r=Ed(t);return[e,r,"n"]}function nB(t,e,r){return r==null&&(r=ut(16)),Zh(e,r),Uh(t.v,r),r}function iB(t){var e=Yh(t),r=Ed(t);return[e,r,"n"]}function aB(t,e,r){return r==null&&(r=ut(12)),Kh(e,r),Uh(t.v,r),r}function sB(t){var e=El(t),r=R6(t);return[e,r,"n"]}function oB(t,e,r){return r==null&&(r=ut(12)),Zh(e,r),D6(t.v,r),r}function lB(t){var e=Yh(t),r=R6(t);return[e,r,"n"]}function uB(t,e,r){return r==null&&(r=ut(8)),Kh(e,r),D6(t.v,r),r}function cB(t){var e=El(t),r=ly(t);return[e,r,"is"]}function hB(t){var e=El(t),r=Bs(t);return[e,r,"str"]}function fB(t,e,r){return r==null&&(r=ut(12+4*t.v.length)),Zh(e,r),Ya(t.v,r),r.length>r.l?r.slice(0,r.l):r}function dB(t){var e=Yh(t),r=Bs(t);return[e,r,"str"]}function pB(t,e,r){return r==null&&(r=ut(8+4*t.v.length)),Kh(e,r),Ya(t.v,r),r.length>r.l?r.slice(0,r.l):r}function mB(t,e,r){var n=t.l+e,i=El(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(r.cellFormula){t.l+=2;var l=d1(t,n-t.l,r);s[3]=gd(l,null,i,r.supbooks,r)}else t.l=n;return s}function gB(t,e,r){var n=t.l+e,i=El(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(r.cellFormula){t.l+=2;var l=d1(t,n-t.l,r);s[3]=gd(l,null,i,r.supbooks,r)}else t.l=n;return s}function vB(t,e,r){var n=t.l+e,i=El(t);i.r=r["!row"];var a=Ed(t),s=[i,a,"n"];if(r.cellFormula){t.l+=2;var l=d1(t,n-t.l,r);s[3]=gd(l,null,i,r.supbooks,r)}else t.l=n;return s}function _B(t,e,r){var n=t.l+e,i=El(t);i.r=r["!row"];var a=Bs(t),s=[i,a,"str"];if(r.cellFormula){t.l+=2;var l=d1(t,n-t.l,r);s[3]=gd(l,null,i,r.supbooks,r)}else t.l=n;return s}var yB=Xh,xB=Sd;function wB(t,e){return e==null&&(e=ut(4)),e.write_shift(4,t),e}function bB(t,e){var r=t.l+e,n=Xh(t),i=uy(t),a=Bs(t),s=Bs(t),l=Bs(t);t.l=r;var c={rfx:n,relId:i,loc:a,display:l};return s&&(c.Tooltip=s),c}function SB(t,e){var r=ut(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Sd({s:Za(t[0]),e:Za(t[0])},r),cy("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Ya(i||"",r),Ya(t[1].Tooltip||"",r),Ya("",r),r.slice(0,r.l)}function EB(){}function TB(t,e,r){var n=t.l+e,i=j6(t),a=t.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var l=dF(t,n-t.l,r);s[1]=l}else t.l=n;return s}function AB(t,e,r){var n=t.l+e,i=Xh(t),a=[i];if(r.cellFormula){var s=mF(t,n-t.l,r);a[1]=s,t.l=n}else t.l=n;return a}function LB(t,e,r){r==null&&(r=ut(18));var n=p1(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var y8=["left","right","top","bottom","header","footer"];function NB(t){var e={};return y8.forEach(function(r){e[r]=Ed(t)}),e}function CB(t,e){return e==null&&(e=ut(48)),v8(t),y8.forEach(function(r){Uh(t[r],e)}),e}function MB(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function kB(t,e,r){r==null&&(r=ut(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function PB(t){var e=ut(24);return e.write_shift(4,4),e.write_shift(4,1),Sd(t,e),e}function OB(t,e){return e==null&&(e=ut(66)),e.write_shift(2,t.password?e8(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function RB(){}function DB(){}function jB(t,e,r,n,i,a,s){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=To(e),e.z=e.z||Xi[14],e.v=Eo(Js(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var c={r,c:n};switch(c.s=lh(i.cellXfs,e,i),e.l&&a["!links"].push([qn(c),e.l]),e.c&&a["!comments"].push([qn(c),e.c]),e.t){case"s":case"str":return i.bookSST?(l=gy(i.Strings,e.v,i.revStrings),c.t="s",c.v=l,s?Et(t,18,tB(e,c)):Et(t,7,QF(e,c))):(c.t="str",s?Et(t,17,pB(e,c)):Et(t,6,fB(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?Et(t,13,uB(e,c)):Et(t,2,oB(e,c)):s?Et(t,16,aB(e,c)):Et(t,5,nB(e,c)),!0;case"b":return c.t="b",s?Et(t,15,WF(e,c)):Et(t,4,VF(e,c)),!0;case"e":return c.t="e",s?Et(t,14,XF(e,c)):Et(t,3,YF(e,c)),!0}return s?Et(t,12,HF(e,c)):Et(t,1,zF(e,c)),!0}function IB(t,e,r,n){var i=_i(e["!ref"]||"A1"),a,s="",l=[];Et(t,145);var c=Array.isArray(e),f=i.e.r;e["!rows"]&&(f=Math.max(i.e.r,e["!rows"].length-1));for(var p=i.s.r;p<=f;++p){s=_s(p),RF(t,e,i,p);var v=!1;if(p<=i.e.r)for(var y=i.s.c;y<=i.e.c;++y){p===i.s.r&&(l[y]=Fs(y)),a=l[y]+s;var _=c?(e[p]||[])[y]:e[a];if(!_){v=!1;continue}v=jB(t,_,p,y,n,e,v)}}Et(t,146)}function FB(t,e){!e||!e["!merges"]||(Et(t,177,wB(e["!merges"].length)),e["!merges"].forEach(function(r){Et(t,176,xB(r))}),Et(t,178))}function BB(t,e){!e||!e["!cols"]||(Et(t,390),e["!cols"].forEach(function(r,n){r&&Et(t,60,LB(n,r))}),Et(t,391))}function UB(t,e){!e||!e["!ref"]||(Et(t,648),Et(t,649,PB(_i(e["!ref"]))),Et(t,650))}function zB(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=zn(r,-1,n[1].Target.replace(/#.*$/,""),Tn.HLINK);Et(t,494,SB(n,i))}}),delete e["!links"]}function GB(t,e,r,n){if(e["!comments"].length>0){var i=zn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Tn.VML);Et(t,551,cy("rId"+i)),e["!legacy"]=i}}function HB(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:xa(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,l=Qo(a);l.s.r==l.e.r&&(l.e.r=Qo(e["!ref"]).e.r,a=xa(l));for(var c=0;c<s.length;++c){var f=s[c];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Et(t,161,Sd(_i(a))),Et(t,162)}}function qB(t,e,r){Et(t,133),Et(t,137,kB(e,r)),Et(t,138),Et(t,134)}function VB(t,e){e["!protect"]&&Et(t,535,OB(e["!protect"]))}function $B(t,e,r,n){var i=So(),a=r.SheetNames[t],s=r.Sheets[a]||{},l=a;try{r&&r.Workbook&&(l=r.Workbook.Sheets[t].CodeName||l)}catch{}var c=_i(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Et(i,129),(r.vbaraw||s["!outline"])&&Et(i,147,BF(l,s["!outline"])),Et(i,148,jF(c)),qB(i,s,r.Workbook),BB(i,s),IB(i,s,t,e),VB(i,s),HB(i,s,r,t),FB(i,s),zB(i,s,n),s["!margins"]&&Et(i,476,CB(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&UB(i,s),GB(i,s,t,n),Et(i,130),i.end()}function WB(t,e){t.l+=10;var r=Bs(t);return{name:r}}var ZB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function YB(t){return!t.Workbook||!t.Workbook.WBProps?"false":A9(t.Workbook.WBProps.date1904)?"true":"false"}var KB="][*?/\\".split("");function x8(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return KB.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function XB(t,e,r){t.forEach(function(n,i){x8(n);for(var a=0;a<i;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=e&&e[i]&&e[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function JB(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];XB(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)xF(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function w8(t){var e=[wa];e[e.length]=Pt("workbook",null,{xmlns:wd[0],"xmlns:r":Wa.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(ZB.forEach(function(l){t.Workbook.WBProps[l[0]]!=null&&t.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=t.Workbook.WBProps[l[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Pt("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:Hn(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=Pt("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(e[e.length]=Pt("definedName",Hn(l.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function QB(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=S_(t),r.name=Bs(t),r}function eU(t,e){return e||(e=ut(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),cy(t.strRelID,e),Ya(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function tU(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Bs(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function rU(t,e){e||(e=ut(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),O6(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function nU(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=Y9(t),s=pF(t,0,r),l=uy(t);t.l=n;var c={Name:a,Ptg:s};return i<268435455&&(c.Sheet=i),l&&(c.Comment=l),c}function iU(t,e){Et(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Et(t,156,eU(i))}Et(t,144)}function aU(t,e){e||(e=ut(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Ya("SheetJS",e),Ya(Sg.version,e),Ya(Sg.version,e),Ya("7262",e),e.length>e.l?e.slice(0,e.l):e}function sU(t,e){e||(e=ut(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function oU(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(Et(t,135),Et(t,158,sU(i)),Et(t,136))}}function lU(t,e){var r=So();return Et(r,131),Et(r,128,aU()),Et(r,153,rU(t.Workbook&&t.Workbook.WBProps||null)),oU(r,t),iU(r,t),Et(r,132),r.end()}function uU(t,e,r){return(e.slice(-4)===".bin"?lU:w8)(t)}function cU(t,e,r,n,i){return(e.slice(-4)===".bin"?$B:_8)(t,r,n,i)}function hU(t,e,r){return(e.slice(-4)===".bin"?Cj:n8)(t,r)}function fU(t,e,r){return(e.slice(-4)===".bin"?rj:Q6)(t,r)}function dU(t,e,r){return(e.slice(-4)===".bin"?Vj:l8)(t)}function pU(t){return(t.slice(-4)===".bin"?Ij:s8)()}function mU(t,e){var r=[];return t.Props&&r.push(hD(t.Props,e)),t.Custprops&&r.push(fD(t.Props,t.Custprops)),r.join("")}function gU(){return""}function vU(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var a=[];a.push(Pt("NumberFormat",null,{"ss:Format":Hn(Xi[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};r.push(Pt("Style",a.join(""),s))}),Pt("Styles",r.join(""))}function b8(t){return Pt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+py(t.Ref,{r:0,c:0})})}function _U(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(b8(i)))}return Pt("Names",r.join(""))}function yU(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var l=i[s];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||a.push(b8(l)))}return a.join("")}function xU(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Pt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Pt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Pt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Pt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(vs("ProtectContents","True")),t["!protect"].objects&&i.push(vs("ProtectObjects","True")),t["!protect"].scenarios&&i.push(vs("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(vs("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(vs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":Pt("WorksheetOptions",i.join(""),{xmlns:Ko.x})}function wU(t){return t.map(function(e){var r=T9(e.t||""),n=Pt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Pt("Comment",n,{"ss:Author":e.a})}).join("")}function bU(t,e,r,n,i,a,s){if(!t||t.v==null&&t.f==null)return"";var l={};if(t.f&&(l["ss:Formula"]="="+Hn(py(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var c=Za(t.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(t.l&&t.l.Target&&(l["ss:HRef"]=Hn(t.l.Target),t.l.Tooltip&&(l["x:HRefScreenTip"]=Hn(t.l.Tooltip))),r["!merges"])for(var f=r["!merges"],p=0;p!=f.length;++p)f[p].s.c!=s.c||f[p].s.r!=s.r||(f[p].e.c>f[p].s.c&&(l["ss:MergeAcross"]=f[p].e.c-f[p].s.c),f[p].e.r>f[p].s.r&&(l["ss:MergeDown"]=f[p].e.r-f[p].s.r));var v="",y="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":v="Number",y=String(t.v);break;case"b":v="Boolean",y=t.v?"1":"0";break;case"e":v="Error",y=wp[t.v];break;case"d":v="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Xi[14]);break;case"s":v="String",y=E9(t.v||"");break}var _=lh(n.cellXfs,t,n);l["ss:StyleID"]="s"+(21+_),l["ss:Index"]=s.c+1;var E=t.v!=null?y:"",S=t.t=="z"?"":'<Data ss:Type="'+v+'">'+E+"</Data>";return(t.c||[]).length>0&&(S+=wU(t.c)),Pt("Cell",S,l)}function SU(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=r8(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function EU(t,e,r,n){if(!t["!ref"])return"";var i=_i(t["!ref"]),a=t["!merges"]||[],s=0,l=[];t["!cols"]&&t["!cols"].forEach(function(C,O){fy(C);var j=!!C.width,R=p1(O,C),B={"ss:Index":O+1};j&&(B["ss:Width"]=Og(R.width)),C.hidden&&(B["ss:Hidden"]="1"),l.push(Pt("Column",null,B))});for(var c=Array.isArray(t),f=i.s.r;f<=i.e.r;++f){for(var p=[SU(f,(t["!rows"]||[])[f])],v=i.s.c;v<=i.e.c;++v){var y=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>v)&&!(a[s].s.r>f)&&!(a[s].e.c<v)&&!(a[s].e.r<f)){(a[s].s.c!=v||a[s].s.r!=f)&&(y=!0);break}if(!y){var _={r:f,c:v},E=qn(_),S=c?(t[f]||[])[v]:t[E];p.push(bU(S,E,t,e,r,n,_))}}p.push("</Row>"),p.length>2&&l.push(p.join(""))}return l.join("")}function TU(t,e,r){var n=[],i=r.SheetNames[t],a=r.Sheets[i],s=a?yU(a,e,t,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?EU(a,e,t,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(xU(a,e,t,r)),n.join("")}function AU(t,e){e||(e={}),t.SSF||(t.SSF=To(Xi)),t.SSF&&(u1(),l1(t.SSF),e.revssf=c1(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],lh(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(mU(t,e)),r.push(gU()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Pt("Worksheet",TU(n,e,t),{"ss:Name":Hn(t.SheetNames[n])}));return r[2]=vU(t,e),r[3]=_U(t),wa+Pt("Workbook",r.join(""),{xmlns:Ko.ss,"xmlns:o":Ko.o,"xmlns:x":Ko.x,"xmlns:ss":Ko.ss,"xmlns:dt":Ko.dt,"xmlns:html":Ko.html})}var N2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function LU(t,e){var r=[],n=[],i=[],a=0,s,l=V4(i3,"n"),c=V4(a3,"n");if(t.Props)for(s=ys(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(l,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=ys(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(l,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],t.Custprops[s[a]]]);var f=[];for(a=0;a<i.length;++a)$6.indexOf(i[a][0])>-1||H6.indexOf(i[a][0])>-1||i[a][1]!=null&&f.push(i[a]);n.length&&Yn.utils.cfb_add(e,"/SummaryInformation",c3(n,N2.SI,c,a3)),(r.length||f.length)&&Yn.utils.cfb_add(e,"/DocumentSummaryInformation",c3(r,N2.DSI,l,i3,f.length?f:null,N2.UDI))}function NU(t,e){var r=e||{},n=Yn.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Yn.utils.cfb_add(n,i,S8(t,r)),r.biff==8&&(t.Props||t.Custprops)&&LU(t,n),r.biff==8&&t.vbaraw&&$j(n,Yn.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var CU={0:{f:PF},1:{f:UF},2:{f:sB},3:{f:ZF},4:{f:qF},5:{f:rB},6:{f:hB},7:{f:JF},8:{f:_B},9:{f:vB},10:{f:mB},11:{f:gB},12:{f:GF},13:{f:lB},14:{f:KF},15:{f:$F},16:{f:iB},17:{f:dB},18:{f:eB},19:{f:ly},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:nU},40:{},42:{},43:{f:hj},44:{f:uj},45:{f:pj},46:{f:gj},47:{f:mj},48:{},49:{f:G9},50:{},51:{f:Pj},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:HD},62:{f:cB},63:{f:Fj},64:{f:RB},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ru,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:MB},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:FF},148:{f:DF,p:16},151:{f:EB},152:{},153:{f:tU},154:{},155:{},156:{f:QB},157:{},158:{},159:{T:1,f:QD},160:{T:-1},161:{T:1,f:Xh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:yB},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Mj},336:{T:-1},337:{f:Dj,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:S_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ID},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:TB},427:{f:AB},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:NB},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:IF},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:bB},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:S_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Hj},633:{T:1},634:{T:-1},635:{T:1,f:zj},636:{T:-1},637:{f:$9},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:WB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:DB},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ot(t,e,r,n){var i=e;if(!isNaN(i)){var a=n||(r||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&ay(r)&&t.push(r)}}function MU(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return Ot(t,e,r,i);var a=e;if(!isNaN(a)){for(var s=r.parts||[],l=0,c=0,f=0;f+(s[l]||8224)<=8224;)f+=s[l]||8224,l++;var p=t.next(4);for(p.write_shift(2,a),p.write_shift(2,f),t.push(r.slice(c,c+f)),c+=f;c<i;){for(p=t.next(4),p.write_shift(2,60),f=0;f+(s[l]||8224)<=8224;)f+=s[l]||8224,l++;p.write_shift(2,f),t.push(r.slice(c,c+f)),c+=f}}}function Sp(t,e,r){return t||(t=ut(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function kU(t,e,r,n){var i=ut(9);return Sp(i,t,e),Z6(r,n||"b",i),i}function PU(t,e,r){var n=ut(8+2*r.length);return Sp(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function OU(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Eo(Js(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Ot(t,2,WD(r,n,i)):Ot(t,3,$D(r,n,i));return;case"b":case"e":Ot(t,5,kU(r,n,e.v,e.t));return;case"s":case"str":Ot(t,4,PU(r,n,(e.v||"").slice(0,255)));return}Ot(t,1,Sp(null,r,n))}function RU(t,e,r,n){var i=Array.isArray(e),a=_i(e["!ref"]||"A1"),s,l="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=xa(a)}for(var f=a.s.r;f<=a.e.r;++f){l=_s(f);for(var p=a.s.c;p<=a.e.c;++p){f===a.s.r&&(c[p]=Fs(p)),s=c[p]+l;var v=i?(e[f]||[])[p]:e[s];v&&OU(t,v,f,p)}}}function DU(t,e){for(var r=e||{},n=So(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ot(n,r.biff==4?1033:r.biff==3?521:9,hy(t,16,r)),RU(n,t.Sheets[t.SheetNames[i]],i,r),Ot(n,10),n.end()}function jU(t,e,r){Ot(t,49,CD({sz:12,name:"Arial"},r))}function IU(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Ot(t,1054,PD(i,e[i],r))})}function FU(t,e){var r=ut(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ot(t,2151,r),r=ut(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),X6(_i(e["!ref"]||"A1"),r),r.write_shift(4,4),Ot(t,2152,r)}function BU(t,e){for(var r=0;r<16;++r)Ot(t,224,f3({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Ot(t,224,f3(n,0,e))})}function UU(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Ot(t,440,UD(n)),n[1].Tooltip&&Ot(t,2048,zD(n))}delete e["!links"]}function zU(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&Ot(t,125,qD(p1(i,n),i))})}}function GU(t,e,r,n,i){var a=16+lh(i.cellXfs,e,i);if(e.v==null&&!e.bf){Ot(t,513,zh(r,n,a));return}if(e.bf)Ot(t,6,fF(e,r,n,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?Eo(Js(e.v)):e.v;Ot(t,515,jD(r,n,s,a));break;case"b":case"e":Ot(t,517,DD(r,n,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var l=gy(i.Strings,e.v,i.revStrings);Ot(t,253,MD(r,n,l,a))}else Ot(t,516,kD(r,n,(e.v||"").slice(0,255),a,i));break;default:Ot(t,513,zh(r,n,a))}}function HU(t,e,r){var n=So(),i=r.SheetNames[t],a=r.Sheets[i]||{},s=(r||{}).Workbook||{},l=(s.Sheets||[])[t]||{},c=Array.isArray(a),f=e.biff==8,p,v="",y=[],_=_i(a["!ref"]||"A1"),E=f?65536:16384;if(_.e.c>255||_.e.r>=E){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");_.e.c=Math.min(_.e.c,255),_.e.r=Math.min(_.e.c,E-1)}Ot(n,2057,hy(r,16,e)),Ot(n,13,vl(1)),Ot(n,12,vl(100)),Ot(n,15,Ks(!0)),Ot(n,17,Ks(!1)),Ot(n,16,Uh(.001)),Ot(n,95,Ks(!0)),Ot(n,42,Ks(!1)),Ot(n,43,Ks(!1)),Ot(n,130,vl(1)),Ot(n,128,RD()),Ot(n,131,Ks(!1)),Ot(n,132,Ks(!1)),f&&zU(n,a["!cols"]),Ot(n,512,OD(_,e)),f&&(a["!links"]=[]);for(var S=_.s.r;S<=_.e.r;++S){v=_s(S);for(var C=_.s.c;C<=_.e.c;++C){S===_.s.r&&(y[C]=Fs(C)),p=y[C]+v;var O=c?(a[S]||[])[C]:a[p];O&&(GU(n,O,S,C,e),f&&O.l&&a["!links"].push([p,O.l]))}}var j=l.CodeName||l.name||i;return f&&Ot(n,574,ND((s.Views||[])[0])),f&&(a["!merges"]||[]).length&&Ot(n,229,BD(a["!merges"])),f&&UU(n,a),Ot(n,442,K6(j)),f&&FU(n,a),Ot(n,10),n.end()}function qU(t,e,r){var n=So(),i=(t||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},l=r.biff==8,c=r.biff==5;if(Ot(n,2057,hy(t,5,r)),r.bookType=="xla"&&Ot(n,135),Ot(n,225,l?vl(1200):null),Ot(n,193,mD(2)),c&&Ot(n,191),c&&Ot(n,192),Ot(n,226),Ot(n,92,ED("SheetJS",r)),Ot(n,66,vl(l?1200:1252)),l&&Ot(n,353,vl(0)),l&&Ot(n,448),Ot(n,317,VD(t.SheetNames.length)),l&&t.vbaraw&&Ot(n,211),l&&t.vbaraw){var f=s.CodeName||"ThisWorkbook";Ot(n,442,K6(f))}Ot(n,156,vl(17)),Ot(n,25,Ks(!1)),Ot(n,18,Ks(!1)),Ot(n,19,vl(0)),l&&Ot(n,431,Ks(!1)),l&&Ot(n,444,vl(0)),Ot(n,61,LD()),Ot(n,64,Ks(!1)),Ot(n,141,vl(0)),Ot(n,34,Ks(YB(t)=="true")),Ot(n,14,Ks(!0)),l&&Ot(n,439,Ks(!1)),Ot(n,218,vl(0)),jU(n,t,r),IU(n,t.SSF,r),BU(n,r),l&&Ot(n,352,Ks(!1));var p=n.end(),v=So();l&&Ot(v,140,GD()),l&&r.Strings&&MU(v,252,AD(r.Strings)),Ot(v,10);var y=v.end(),_=So(),E=0,S=0;for(S=0;S<t.SheetNames.length;++S)E+=(l?12:11)+(l?2:1)*t.SheetNames[S].length;var C=p.length+E+y.length;for(S=0;S<t.SheetNames.length;++S){var O=a[S]||{};Ot(_,133,TD({pos:C,hs:O.Hidden||0,dt:0,name:t.SheetNames[S]},r)),C+=e[S].length}var j=_.end();if(E!=j.length)throw new Error("BS8 "+E+" != "+j.length);var R=[];return p.length&&R.push(p),j.length&&R.push(j),y.length&&R.push(y),gs(R)}function VU(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=To(Xi)),t&&t.SSF&&(u1(),l1(t.SSF),r.revssf=c1(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,vy(r),r.cellXfs=[],lh(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=HU(i,r,t);return n.unshift(qU(t,n,r)),gs(n)}function S8(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Qo(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return VU(t,e);case 4:case 3:case 2:return DU(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function $U(t,e,r,n){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var l=0,c=0,f=0;f<i.length;++f)if(!(i[f].s.r>r||i[f].s.c>s)&&!(i[f].e.r<r||i[f].e.c<s)){if(i[f].s.r<r||i[f].s.c<s){l=-1;break}l=i[f].e.r-i[f].s.r+1,c=i[f].e.c-i[f].s.c+1;break}if(!(l<0)){var p=qn({r,c:s}),v=n.dense?(t[r]||[])[s]:t[p],y=v&&v.v!=null&&(v.h||S9(v.w||(dc(v),v.w)||""))||"",_={};l>1&&(_.rowspan=l),c>1&&(_.colspan=c),n.editable?y='<span contenteditable="true">'+y+"</span>":v&&(_["data-t"]=v&&v.t||"z",v.v!=null&&(_["data-v"]=v.v),v.z!=null&&(_["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+v.l.Target+'">'+y+"</a>")),_.id=(n.id||"sjs")+"-"+p,a.push(Pt("td",y,_))}}var E="<tr>";return E+a.join("")+"</tr>"}var WU='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',ZU="</body></html>";function YU(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function E8(t,e){var r=e||{},n=r.header!=null?r.header:WU,i=r.footer!=null?r.footer:ZU,a=[n],s=Qo(t["!ref"]);r.dense=Array.isArray(t),a.push(YU(t,s,r));for(var l=s.s.r;l<=s.e.r;++l)a.push($U(t,s,l,r));return a.push("</table>"+i),a.join("")}function T8(t,e,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Za(n.origin):n.origin;i=s.r,a=s.c}var l=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),f={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var p=Qo(t["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),i==-1&&(f.e.r=i=p.e.r+1)}var v=[],y=0,_=t["!rows"]||(t["!rows"]=[]),E=0,S=0,C=0,O=0,j=0,R=0;for(t["!cols"]||(t["!cols"]=[]);E<l.length&&S<c;++E){var B=l[E];if(y3(B)){if(n.display)continue;_[S]={hidden:!0}}var J=B.children;for(C=O=0;C<J.length;++C){var re=J[C];if(!(n.display&&y3(re))){var F=re.hasAttribute("data-v")?re.getAttribute("data-v"):re.hasAttribute("v")?re.getAttribute("v"):L9(re.innerHTML),K=re.getAttribute("data-z")||re.getAttribute("z");for(y=0;y<v.length;++y){var U=v[y];U.s.c==O+a&&U.s.r<S+i&&S+i<=U.e.r&&(O=U.e.c+1-a,y=-1)}R=+re.getAttribute("colspan")||1,((j=+re.getAttribute("rowspan")||1)>1||R>1)&&v.push({s:{r:S+i,c:O+a},e:{r:S+i+(j||1)-1,c:O+a+(R||1)-1}});var X={t:"s",v:F},I=re.getAttribute("data-t")||re.getAttribute("t")||"";F!=null&&(F.length==0?X.t=I||"z":n.raw||F.trim().length==0||I=="s"||(F==="TRUE"?X={t:"b",v:!0}:F==="FALSE"?X={t:"b",v:!1}:isNaN(cc(F))?isNaN(ep(F).getDate())||(X={t:"d",v:Js(F)},n.cellDates||(X={t:"n",v:Eo(X.v)}),X.z=n.dateNF||Xi[14]):X={t:"n",v:cc(F)})),X.z===void 0&&K!=null&&(X.z=K);var W="",ue=re.getElementsByTagName("A");if(ue&&ue.length)for(var pe=0;pe<ue.length&&!(ue[pe].hasAttribute("href")&&(W=ue[pe].getAttribute("href"),W.charAt(0)!="#"));++pe);W&&W.charAt(0)!="#"&&(X.l={Target:W}),n.dense?(t[S+i]||(t[S+i]=[]),t[S+i][O+a]=X):t[qn({c:O+a,r:S+i})]=X,f.e.c<O+a&&(f.e.c=O+a),O+=R}}++S}return v.length&&(t["!merges"]=(t["!merges"]||[]).concat(v)),f.e.r=Math.max(f.e.r,S-1+i),t["!ref"]=xa(f),S>=c&&(t["!fullref"]=xa((f.e.r=l.length-E+S-1+i,f))),t}function A8(t,e){var r=e||{},n=r.dense?[]:{};return T8(n,t,e)}function KU(t,e){return Wh(A8(t,e),e)}function y3(t){var e="",r=XU(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function XU(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var JU=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+rp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return wa+e}})(),x3=(function(){var t=function(a){return Hn(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,s,l){var c=[];c.push('      <table:table table:name="'+Hn(s.SheetNames[l])+`" table:style-name="ta1">
`);var f=0,p=0,v=Qo(a["!ref"]||"A1"),y=a["!merges"]||[],_=0,E=Array.isArray(a);if(a["!cols"])for(p=0;p<=v.e.c;++p)c.push("        <table:table-column"+(a["!cols"][p]?' table:style-name="co'+a["!cols"][p].ods+'"':"")+`></table:table-column>
`);var S="",C=a["!rows"]||[];for(f=0;f<v.s.r;++f)S=C[f]?' table:style-name="ro'+C[f].ods+'"':"",c.push("        <table:table-row"+S+`></table:table-row>
`);for(;f<=v.e.r;++f){for(S=C[f]?' table:style-name="ro'+C[f].ods+'"':"",c.push("        <table:table-row"+S+`>
`),p=0;p<v.s.c;++p)c.push(e);for(;p<=v.e.c;++p){var O=!1,j={},R="";for(_=0;_!=y.length;++_)if(!(y[_].s.c>p)&&!(y[_].s.r>f)&&!(y[_].e.c<p)&&!(y[_].e.r<f)){(y[_].s.c!=p||y[_].s.r!=f)&&(O=!0),j["table:number-columns-spanned"]=y[_].e.c-y[_].s.c+1,j["table:number-rows-spanned"]=y[_].e.r-y[_].s.r+1;break}if(O){c.push(r);continue}var B=qn({r:f,c:p}),J=E?(a[f]||[])[p]:a[B];if(J&&J.f&&(j["table:formula"]=Hn(_F(J.f)),J.F&&J.F.slice(0,B.length)==B)){var re=Qo(J.F);j["table:number-matrix-columns-spanned"]=re.e.c-re.s.c+1,j["table:number-matrix-rows-spanned"]=re.e.r-re.s.r+1}if(!J){c.push(e);continue}switch(J.t){case"b":R=J.v?"TRUE":"FALSE",j["office:value-type"]="boolean",j["office:boolean-value"]=J.v?"true":"false";break;case"n":R=J.w||String(J.v||0),j["office:value-type"]="float",j["office:value"]=J.v||0;break;case"s":case"str":R=J.v==null?"":J.v,j["office:value-type"]="string";break;case"d":R=J.w||Js(J.v).toISOString(),j["office:value-type"]="date",j["office:date-value"]=Js(J.v).toISOString(),j["table:style-name"]="ce1";break;default:c.push(e);continue}var F=t(R);if(J.l&&J.l.Target){var K=J.l.Target;K=K.charAt(0)=="#"?"#"+yF(K.slice(1)):K,K.charAt(0)!="#"&&!K.match(/^\w+:/)&&(K="../"+K),F=Pt("text:a",F,{"xlink:href":K.replace(/&/g,"&amp;")})}c.push("          "+Pt("table:table-cell",Pt("text:p",F,{}),j)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var l=0;s.SheetNames.map(function(f){return s.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var p=0;p<f["!cols"].length;++p)if(f["!cols"][p]){var v=f["!cols"][p];if(v.width==null&&v.wpx==null&&v.wch==null)continue;fy(v),v.ods=l;var y=f["!cols"][p].wpx+"px";a.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),a.push(`  </style:style>
`),++l}}});var c=0;s.SheetNames.map(function(f){return s.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var p=0;p<f["!rows"].length;++p)if(f["!rows"][p]){f["!rows"][p].ods=c;var v=f["!rows"][p].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+v+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,l){var c=[wa],f=rp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=rp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+f+p+`>
`),c.push(z6().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+f+`>
`),i(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var v=0;v!=s.SheetNames.length;++v)c.push(n(s.Sheets[s.SheetNames[v]],s,v));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function L8(t,e){if(e.bookType=="fods")return x3(t,e);var r=ty(),n="",i=[],a=[];return n="mimetype",Wr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Wr(r,n,x3(t,e)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Wr(r,n,JU(t,e)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Wr(r,n,wa+z6()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Wr(r,n,cD(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Wr(r,n,lD(i)),r}function jg(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function QU(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Wl(tp(t))}function ez(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function ah(t){var e=t.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function tz(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=r>=0?0:128}function np(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Un(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function dd(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Ia(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=np(t,r),a=i&7;i=Math.floor(i/8);var s=0,l;if(i==0)break;switch(a){case 0:{for(var c=r[0];t[r[0]++]>=128;);l=t.slice(c,r[0])}break;case 5:s=4,l=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,l=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=np(t,r),l=t.slice(r[0],r[0]+s),r[0]+=s;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var f={data:l,type:a};e[i]==null?e[i]=[f]:e[i].push(f)}return e}function ds(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Un(n*8+i.type)),i.type==2&&e.push(Un(i.data.length)),e.push(i.data))})}),ah(e)}function Gl(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=np(t,n),a=Ia(t.slice(n[0],n[0]+i));n[0]+=i;var s={id:dd(a[1][0].data),messages:[]};a[2].forEach(function(l){var c=Ia(l.data),f=dd(c[3][0].data);s.messages.push({meta:c,data:t.slice(n[0],n[0]+f)}),n[0]+=f}),(e=a[3])!=null&&e[0]&&(s.merge=dd(a[3][0].data)>>>0>0),r.push(s)}return r}function If(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Un(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Un(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:Un(s.data.length)}],n[2].push({data:ds(s.meta),type:2})});var a=ds(n);e.push(Un(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),ah(e)}function rz(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=np(e,r),i=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var l=s-59;s=e[r[0]],l>1&&(s|=e[r[0]+1]<<8),l>2&&(s|=e[r[0]+2]<<16),l>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=l}i.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,f=0;if(a==1?(f=(e[r[0]]>>2&7)+4,c=(e[r[0]++]&224)<<3,c|=e[r[0]++]):(f=(e[r[0]++]>>2)+1,a==2?(c=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(c=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[ah(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(f>=c)for(i.push(i[0].slice(-c)),f-=c;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-c,-c+f))}}var p=ah(i);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function Hl(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(rz(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return ah(e)}function Ff(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var a=Un(n),s=a.length;e.push(a),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return ah(e)}function C2(t,e){var r=new Uint8Array(32),n=jg(r),i=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,tz(r,i,t.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,i)}function M2(t,e){var r=new Uint8Array(32),n=jg(r),i=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,i)}function Vc(t){var e=Ia(t);return np(e[1][0].data)}function nz(t,e,r){var n,i,a,s;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var l=((s=(a=t[8])==null?void 0:a[0])==null?void 0:s.data)&&dd(t[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,f=jg(t[7][0].data),p=0,v=[],y=jg(t[4][0].data),_=0,E=[],S=0;S<e.length;++S){if(e[S]==null){f.setUint16(S*2,65535,!0),y.setUint16(S*2,65535);continue}f.setUint16(S*2,p,!0),y.setUint16(S*2,_,!0);var C,O;switch(typeof e[S]){case"string":C=C2({t:"s",v:e[S]},r),O=M2({t:"s",v:e[S]},r);break;case"number":C=C2({t:"n",v:e[S]},r),O=M2({t:"n",v:e[S]},r);break;case"boolean":C=C2({t:"b",v:e[S]},r),O=M2({t:"b",v:e[S]},r);break;default:throw new Error("Unsupported value "+e[S])}v.push(C),p+=C.length,E.push(O),_+=O.length,++c}for(t[2][0].data=Un(c);S<t[7][0].data.length/2;++S)f.setUint16(S*2,65535,!0),y.setUint16(S*2,65535,!0);return t[6][0].data=ah(v),t[3][0].data=ah(E),c}function iz(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Qo(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(xa(n)));var a=Ig(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(H){return H.forEach(function(q){typeof q=="string"&&s.push(q)})});var l={},c=[],f=Yn.read(e.numbers,{type:"base64"});f.FileIndex.map(function(H,q){return[H,f.FullPaths[q]]}).forEach(function(H){var q=H[0],Z=H[1];if(q.type==2&&q.name.match(/\.iwa/)){var oe=q.content,Ae=Hl(oe),Oe=Gl(Ae);Oe.forEach(function(Re){c.push(Re.id),l[Re.id]={deps:[],location:Z,type:dd(Re.messages[0].meta[1][0].data)}})}}),c.sort(function(H,q){return H-q});var p=c.filter(function(H){return H>1}).map(function(H){return[H,Un(H)]});f.FileIndex.map(function(H,q){return[H,f.FullPaths[q]]}).forEach(function(H){var q=H[0];if(H[1],!!q.name.match(/\.iwa/)){var Z=Gl(Hl(q.content));Z.forEach(function(oe){oe.messages.forEach(function(Ae){p.forEach(function(Oe){oe.messages.some(function(Re){return dd(Re.meta[1][0].data)!=11006&&ez(Re.data,Oe[1])})&&l[Oe[0]].deps.push(oe.id)})})})}});for(var v=Yn.find(f,l[1].location),y=Gl(Hl(v.content)),_,E=0;E<y.length;++E){var S=y[E];S.id==1&&(_=S)}var C=Vc(Ia(_.messages[0].data)[1][0].data);for(v=Yn.find(f,l[C].location),y=Gl(Hl(v.content)),E=0;E<y.length;++E)S=y[E],S.id==C&&(_=S);for(C=Vc(Ia(_.messages[0].data)[2][0].data),v=Yn.find(f,l[C].location),y=Gl(Hl(v.content)),E=0;E<y.length;++E)S=y[E],S.id==C&&(_=S);for(C=Vc(Ia(_.messages[0].data)[2][0].data),v=Yn.find(f,l[C].location),y=Gl(Hl(v.content)),E=0;E<y.length;++E)S=y[E],S.id==C&&(_=S);var O=Ia(_.messages[0].data);{O[6][0].data=Un(n.e.r+1),O[7][0].data=Un(n.e.c+1);var j=Vc(O[46][0].data),R=Yn.find(f,l[j].location),B=Gl(Hl(R.content));{for(var J=0;J<B.length&&B[J].id!=j;++J);if(B[J].id!=j)throw"Bad ColumnRowUIDMapArchive";var re=Ia(B[J].messages[0].data);re[1]=[],re[2]=[],re[3]=[];for(var F=0;F<=n.e.c;++F){var K=[];K[1]=K[2]=[{type:0,data:Un(F+420690)}],re[1].push({type:2,data:ds(K)}),re[2].push({type:0,data:Un(F)}),re[3].push({type:0,data:Un(F)})}re[4]=[],re[5]=[],re[6]=[];for(var U=0;U<=n.e.r;++U)K=[],K[1]=K[2]=[{type:0,data:Un(U+726270)}],re[4].push({type:2,data:ds(K)}),re[5].push({type:0,data:Un(U)}),re[6].push({type:0,data:Un(U)});B[J].messages[0].data=ds(re)}R.content=Ff(If(B)),R.size=R.content.length,delete O[46];var X=Ia(O[4][0].data);{X[7][0].data=Un(n.e.r+1);var I=Ia(X[1][0].data),W=Vc(I[2][0].data);R=Yn.find(f,l[W].location),B=Gl(Hl(R.content));{if(B[0].id!=W)throw"Bad HeaderStorageBucket";var ue=Ia(B[0].messages[0].data);for(U=0;U<a.length;++U){var pe=Ia(ue[2][0].data);pe[1][0].data=Un(U),pe[4][0].data=Un(a[U].length),ue[2][U]={type:ue[2][0].type,data:ds(pe)}}B[0].messages[0].data=ds(ue)}R.content=Ff(If(B)),R.size=R.content.length;var xe=Vc(X[2][0].data);R=Yn.find(f,l[xe].location),B=Gl(Hl(R.content));{if(B[0].id!=xe)throw"Bad HeaderStorageBucket";for(ue=Ia(B[0].messages[0].data),F=0;F<=n.e.c;++F)pe=Ia(ue[2][0].data),pe[1][0].data=Un(F),pe[4][0].data=Un(n.e.r+1),ue[2][F]={type:ue[2][0].type,data:ds(pe)};B[0].messages[0].data=ds(ue)}R.content=Ff(If(B)),R.size=R.content.length;var le=Vc(X[4][0].data);(function(){for(var H=Yn.find(f,l[le].location),q=Gl(Hl(H.content)),Z,oe=0;oe<q.length;++oe){var Ae=q[oe];Ae.id==le&&(Z=Ae)}var Oe=Ia(Z.messages[0].data);{Oe[3]=[];var Re=[];s.forEach(function(it,Tt){Re[1]=[{type:0,data:Un(Tt)}],Re[2]=[{type:0,data:Un(1)}],Re[3]=[{type:2,data:QU(it)}],Oe[3].push({type:2,data:ds(Re)})})}Z.messages[0].data=ds(Oe);var Ie=If(q),ot=Ff(Ie);H.content=ot,H.size=H.content.length})();var be=Ia(X[3][0].data);{var _e=be[1][0];delete be[2];var Le=Ia(_e.data);{var Ne=Vc(Le[2][0].data);(function(){for(var H=Yn.find(f,l[Ne].location),q=Gl(Hl(H.content)),Z,oe=0;oe<q.length;++oe){var Ae=q[oe];Ae.id==Ne&&(Z=Ae)}var Oe=Ia(Z.messages[0].data);{delete Oe[6],delete be[7];var Re=new Uint8Array(Oe[5][0].data);Oe[5]=[];for(var Ie=0,ot=0;ot<=n.e.r;++ot){var it=Ia(Re);Ie+=nz(it,a[ot],s),it[1][0].data=Un(ot),Oe[5].push({data:ds(it),type:2})}Oe[1]=[{type:0,data:Un(n.e.c+1)}],Oe[2]=[{type:0,data:Un(n.e.r+1)}],Oe[3]=[{type:0,data:Un(Ie)}],Oe[4]=[{type:0,data:Un(n.e.r+1)}]}Z.messages[0].data=ds(Oe);var Tt=If(q),Nt=Ff(Tt);H.content=Nt,H.size=H.content.length})()}_e.data=ds(Le)}X[3][0].data=ds(be)}O[4][0].data=ds(X)}_.messages[0].data=ds(O);var ee=If(y),P=Ff(ee);return v.content=P,v.size=v.content.length,f}function az(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function vy(t){az([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function sz(t,e){return e.bookType=="ods"?L8(t,e):e.bookType=="numbers"?iz(t,e):e.bookType=="xlsb"?oz(t,e):lz(t,e)}function oz(t,e){Qf=1024,t&&!t.SSF&&(t.SSF=To(Xi)),t&&t.SSF&&(u1(),l1(t.SSF),e.revssf=c1(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,O0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=u8.indexOf(e.bookType)>-1,i=F6();vy(e=e||{});var a=ty(),s="",l=0;if(e.cellXfs=[],lh(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Wr(a,s,G6(t.Props,e)),i.coreprops.push(s),zn(e.rels,2,s,Tn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&c.push(t.SheetNames[f]);t.Props.SheetNames=c}for(t.Props.Worksheets=t.Props.SheetNames.length,Wr(a,s,q6(t.Props)),i.extprops.push(s),zn(e.rels,3,s,Tn.EXT_PROPS),t.Custprops!==t.Props&&ys(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Wr(a,s,V6(t.Custprops)),i.custprops.push(s),zn(e.rels,4,s,Tn.CUST_PROPS)),l=1;l<=t.SheetNames.length;++l){var p={"!id":{}},v=t.Sheets[t.SheetNames[l-1]],y=(v||{})["!type"]||"sheet";if(s="xl/worksheets/sheet"+l+"."+r,Wr(a,s,cU(l-1,s,e,t,p)),i.sheets.push(s),zn(e.wbrels,-1,"worksheets/sheet"+l+"."+r,Tn.WS[0]),v){var _=v["!comments"],E=!1,S="";_&&_.length>0&&(S="xl/comments"+l+"."+r,Wr(a,S,dU(_,S)),i.comments.push(S),zn(p,-1,"../comments"+l+"."+r,Tn.CMNT),E=!0),v["!legacy"]&&E&&Wr(a,"xl/drawings/vmlDrawing"+l+".vml",o8(l,v["!comments"])),delete v["!comments"],delete v["!legacy"]}p["!id"].rId1&&Wr(a,U6(s),hd(p))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,Wr(a,s,fU(e.Strings,s,e)),i.strs.push(s),zn(e.wbrels,-1,"sharedStrings."+r,Tn.SST)),s="xl/workbook."+r,Wr(a,s,uU(t,s)),i.workbooks.push(s),zn(e.rels,1,s,Tn.WB),s="xl/theme/theme1.xml",Wr(a,s,a8(t.Themes,e)),i.themes.push(s),zn(e.wbrels,-1,"theme/theme1.xml",Tn.THEME),s="xl/styles."+r,Wr(a,s,hU(t,s,e)),i.styles.push(s),zn(e.wbrels,-1,"styles."+r,Tn.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",Wr(a,s,t.vbaraw),i.vba.push(s),zn(e.wbrels,-1,"vbaProject.bin",Tn.VBA)),s="xl/metadata."+r,Wr(a,s,pU(s)),i.metadata.push(s),zn(e.wbrels,-1,"metadata."+r,Tn.XLMETA),Wr(a,"[Content_Types].xml",B6(i,e)),Wr(a,"_rels/.rels",hd(e.rels)),Wr(a,"xl/_rels/workbook."+r+".rels",hd(e.wbrels)),delete e.revssf,delete e.ssf,a}function lz(t,e){Qf=1024,t&&!t.SSF&&(t.SSF=To(Xi)),t&&t.SSF&&(u1(),l1(t.SSF),e.revssf=c1(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,O0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=u8.indexOf(e.bookType)>-1,i=F6();vy(e=e||{});var a=ty(),s="",l=0;if(e.cellXfs=[],lh(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Wr(a,s,G6(t.Props,e)),i.coreprops.push(s),zn(e.rels,2,s,Tn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&c.push(t.SheetNames[f]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,Wr(a,s,q6(t.Props)),i.extprops.push(s),zn(e.rels,3,s,Tn.EXT_PROPS),t.Custprops!==t.Props&&ys(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Wr(a,s,V6(t.Custprops)),i.custprops.push(s),zn(e.rels,4,s,Tn.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,l=1;l<=t.SheetNames.length;++l){var v={"!id":{}},y=t.Sheets[t.SheetNames[l-1]],_=(y||{})["!type"]||"sheet";if(s="xl/worksheets/sheet"+l+"."+r,Wr(a,s,_8(l-1,e,t,v)),i.sheets.push(s),zn(e.wbrels,-1,"worksheets/sheet"+l+"."+r,Tn.WS[0]),y){var E=y["!comments"],S=!1,C="";if(E&&E.length>0){var O=!1;E.forEach(function(j){j[1].forEach(function(R){R.T==!0&&(O=!0)})}),O&&(C="xl/threadedComments/threadedComment"+l+"."+r,Wr(a,C,Bj(E,p,e)),i.threadedcomments.push(C),zn(v,-1,"../threadedComments/threadedComment"+l+"."+r,Tn.TCMNT)),C="xl/comments"+l+"."+r,Wr(a,C,l8(E)),i.comments.push(C),zn(v,-1,"../comments"+l+"."+r,Tn.CMNT),S=!0}y["!legacy"]&&S&&Wr(a,"xl/drawings/vmlDrawing"+l+".vml",o8(l,y["!comments"])),delete y["!comments"],delete y["!legacy"]}v["!id"].rId1&&Wr(a,U6(s),hd(v))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,Wr(a,s,Q6(e.Strings,e)),i.strs.push(s),zn(e.wbrels,-1,"sharedStrings."+r,Tn.SST)),s="xl/workbook."+r,Wr(a,s,w8(t)),i.workbooks.push(s),zn(e.rels,1,s,Tn.WB),s="xl/theme/theme1.xml",Wr(a,s,a8(t.Themes,e)),i.themes.push(s),zn(e.wbrels,-1,"theme/theme1.xml",Tn.THEME),s="xl/styles."+r,Wr(a,s,n8(t,e)),i.styles.push(s),zn(e.wbrels,-1,"styles."+r,Tn.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",Wr(a,s,t.vbaraw),i.vba.push(s),zn(e.wbrels,-1,"vbaProject.bin",Tn.VBA)),s="xl/metadata."+r,Wr(a,s,s8()),i.metadata.push(s),zn(e.wbrels,-1,"metadata."+r,Tn.XLMETA),p.length>1&&(s="xl/persons/person.xml",Wr(a,s,Uj(p)),i.people.push(s),zn(e.wbrels,-1,"persons/person.xml",Tn.PEOPLE)),Wr(a,"[Content_Types].xml",B6(i,e)),Wr(a,"_rels/.rels",hd(e.rels)),Wr(a,"xl/_rels/workbook."+r+".rels",hd(e.wbrels)),delete e.revssf,delete e.ssf,a}function uz(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=fc(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function N8(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return yp(e.file,Yn.write(t,{type:Cn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Yn.write(t,e)}function cz(t,e){var r=To(e||{}),n=sz(t,r);return hz(n,r)}function hz(t,e){var r={},n=Cn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Yn.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(o1(i))}return e.password&&typeof encrypt_agile<"u"?N8(encrypt_agile(i,e.password),e):e.type==="file"?yp(e.file,i):e.type=="string"?C0(i):i}function fz(t,e){var r=e||{},n=NU(t,r);return N8(n,r)}function Cu(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Q0(tp(n));case"binary":return tp(n);case"string":return t;case"file":return yp(e.file,n,"utf8");case"buffer":return Cn?_c(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Cu(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function dz(t,e){switch(e.type){case"base64":return Q0(t);case"binary":return t;case"string":return t;case"file":return yp(e.file,t,"binary");case"buffer":return Cn?_c(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Vm(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Q0(r):e.type=="string"?C0(r):r;case"file":return yp(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function C8(t,e){zR(),JB(t);var r=To(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=C8(t,r);return r.type="array",o1(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Cu(AU(t,r),r);case"slk":case"sylk":return Cu(YD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Cu(E8(t.Sheets[t.SheetNames[i]],r),r);case"txt":return dz(M8(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Cu(_y(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Cu(KD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Vm(ZD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Cu(XD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Cu(ij.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Cu(J6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Cu(L8(t,r),r);case"wk1":return Vm(d3.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Vm(d3.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Vm(S8(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),fz(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return cz(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function pz(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function mz(t,e,r){var n={};return n.type="file",n.file=e,pz(n),C8(t,n)}function gz(t,e,r,n,i,a,s,l){var c=_s(r),f=l.defval,p=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),v=!0,y=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!s||t[r])for(var _=e.s.c;_<=e.e.c;++_){var E=s?t[r][_]:t[n[_]+c];if(E===void 0||E.t===void 0){if(f===void 0)continue;a[_]!=null&&(y[a[_]]=f);continue}var S=E.v;switch(E.t){case"z":if(S==null)break;continue;case"e":S=S==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+E.t)}if(a[_]!=null){if(S==null)if(E.t=="e"&&S===null)y[a[_]]=null;else if(f!==void 0)y[a[_]]=f;else if(p&&S===null)y[a[_]]=null;else continue;else y[a[_]]=p&&(E.t!=="n"||E.t==="n"&&l.rawNumbers!==!1)?S:dc(E,S,l);S!=null&&(v=!1)}}return{row:y,isempty:v}}function Ig(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},p=f.range!=null?f.range:t["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof p){case"string":c=_i(p);break;case"number":c=_i(t["!ref"]),c.s.r=p;break;default:c=p}n>0&&(i=0);var v=_s(c.s.r),y=[],_=[],E=0,S=0,C=Array.isArray(t),O=c.s.r,j=0,R={};C&&!t[O]&&(t[O]=[]);var B=f.skipHidden&&t["!cols"]||[],J=f.skipHidden&&t["!rows"]||[];for(j=c.s.c;j<=c.e.c;++j)if(!(B[j]||{}).hidden)switch(y[j]=Fs(j),r=C?t[O][j]:t[y[j]+v],n){case 1:a[j]=j-c.s.c;break;case 2:a[j]=y[j];break;case 3:a[j]=f.header[j-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=s=dc(r,null,f),S=R[s]||0,!S)R[s]=1;else{do l=s+"_"+S++;while(R[l]);R[s]=S,R[l]=1}a[j]=l}for(O=c.s.r+i;O<=c.e.r;++O)if(!(J[O]||{}).hidden){var re=gz(t,c,O,y,n,a,C,f);(re.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(_[E++]=re.row)}return _.length=E,_}var w3=/"/g;function vz(t,e,r,n,i,a,s,l){for(var c=!0,f=[],p="",v=_s(r),y=e.s.c;y<=e.e.c;++y)if(n[y]){var _=l.dense?(t[r]||[])[y]:t[n[y]+v];if(_==null)p="";else if(_.v!=null){c=!1,p=""+(l.rawNumbers&&_.t=="n"?_.v:dc(_,null,l));for(var E=0,S=0;E!==p.length;++E)if((S=p.charCodeAt(E))===i||S===a||S===34||l.forceQuotes){p='"'+p.replace(w3,'""')+'"';break}p=="ID"&&(p='"ID"')}else _.f!=null&&!_.F?(c=!1,p="="+_.f,p.indexOf(",")>=0&&(p='"'+p.replace(w3,'""')+'"')):p="";f.push(p)}return l.blankrows===!1&&c?null:f.join(s)}function _y(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=_i(t["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),f=new RegExp((a=="|"?"\\|":a)+"+$"),p="",v=[];n.dense=Array.isArray(t);for(var y=n.skipHidden&&t["!cols"]||[],_=n.skipHidden&&t["!rows"]||[],E=i.s.c;E<=i.e.c;++E)(y[E]||{}).hidden||(v[E]=Fs(E));for(var S=0,C=i.s.r;C<=i.e.r;++C)(_[C]||{}).hidden||(p=vz(t,i,C,v,s,c,a,n),p!=null&&(n.strip&&(p=p.replace(f,"")),(p||n.blankrows!==!1)&&r.push((S++?l:"")+p)));return delete n.dense,r.join("")}function M8(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=_y(t,e);return r}function _z(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=_i(t["!ref"]),a="",s=[],l,c=[],f=Array.isArray(t);for(l=i.s.c;l<=i.e.c;++l)s[l]=Fs(l);for(var p=i.s.r;p<=i.e.r;++p)for(a=_s(p),l=i.s.c;l<=i.e.c;++l)if(e=s[l]+a,r=f?(t[p]||[])[l]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=e+"="+n}return c}function k8(t,e,r){var n=r||{},i=+!n.skipHeader,a=t||{},s=0,l=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Za(n.origin):n.origin;s=c.r,l=c.c}var f,p={s:{c:0,r:0},e:{c:l,r:s+e.length-1+i}};if(a["!ref"]){var v=_i(a["!ref"]);p.e.c=Math.max(p.e.c,v.e.c),p.e.r=Math.max(p.e.r,v.e.r),s==-1&&(s=v.e.r+1,p.e.r=s+e.length-1+i)}else s==-1&&(s=0,p.e.r=e.length-1+i);var y=n.header||[],_=0;e.forEach(function(S,C){ys(S).forEach(function(O){(_=y.indexOf(O))==-1&&(y[_=y.length]=O);var j=S[O],R="z",B="",J=qn({c:l+_,r:s+C+i});f=ip(a,J),j&&typeof j=="object"&&!(j instanceof Date)?a[J]=j:(typeof j=="number"?R="n":typeof j=="boolean"?R="b":typeof j=="string"?R="s":j instanceof Date?(R="d",n.cellDates||(R="n",j=Eo(j)),B=n.dateNF||Xi[14]):j===null&&n.nullError&&(R="e",j=0),f?(f.t=R,f.v=j,delete f.w,delete f.R,B&&(f.z=B)):a[J]=f={t:R,v:j},B&&(f.z=B))})}),p.e.c=Math.max(p.e.c,l+y.length-1);var E=_s(s);if(i)for(_=0;_<y.length;++_)a[Fs(_+l)+E]={t:"s",v:y[_]};return a["!ref"]=xa(p),a}function yz(t,e){return k8(null,t,e)}function ip(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Za(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?ip(t,qn(e)):ip(t,qn({r:e,c:r||0}))}function xz(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function wz(){return{SheetNames:[],Sheets:{}}}function bz(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=s+i)!=-1;++i);}if(x8(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function Sz(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=xz(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function Ez(t,e){return t.z=e,t}function P8(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function Tz(t,e,r){return P8(t,"#"+e,r)}function Az(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function Lz(t,e,r,n){for(var i=typeof e!="string"?e:_i(e),a=typeof e=="string"?e:xa(e),s=i.s.r;s<=i.e.r;++s)for(var l=i.s.c;l<=i.e.c;++l){var c=ip(t,s,l);c.t="n",c.F=a,delete c.v,s==i.s.r&&l==i.s.c&&(c.f=r,n&&(c.D=!0))}return t}var kh={encode_col:Fs,encode_row:_s,encode_cell:qn,encode_range:xa,decode_col:oy,decode_row:sy,split_cell:z9,decode_cell:Za,decode_range:Qo,format_cell:dc,sheet_add_aoa:P6,sheet_add_json:k8,sheet_add_dom:T8,aoa_to_sheet:bd,json_to_sheet:yz,table_to_sheet:A8,table_to_book:KU,sheet_to_csv:_y,sheet_to_txt:M8,sheet_to_json:Ig,sheet_to_html:E8,sheet_to_formulae:_z,sheet_to_row_object_array:Ig,sheet_get_cell:ip,book_new:wz,book_append_sheet:bz,book_set_sheet_visibility:Sz,cell_set_number_format:Ez,cell_set_hyperlink:P8,cell_set_internal_link:Tz,cell_add_comment:Az,sheet_set_array_formula:Lz,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Nz=(t,e=`Survey_Export_${Date.now()}`)=>{if(!t||t.length===0){alert("No data to export");return}const r=t.map(c=>({"Building ID":c.building_id||"","Survey ID":c.id||"","Floor Number":c.floor_number||"","Total Floors":c.total_floors||"","Unit Identifier":c.unit_identifier||"","Total Area (m)":c.area_sqm||"",Status:c.status||"","Owner Name":c.owner_name||"","Phone Number":c.phone_number||"","Aadhaar Number":c.aadhaar_number||"","Email Address":c.email_address||"","Family Members Count":c.family_members_count||"","Occupier Name":c.occupier_name||"","Ownership Type":c.ownership_type||"","7/12 Survey/Gat No":c.survey_gat_no||"","City Survey No":c.city_survey_no||"","Layout Name/Plot No":c.layout_name_plot_no||"","Building Name":c.building_name||"","Address with Floor":c.address_with_floor||"","Nearest Road Type":c.nearest_road_type||"","Pin Code":c.pin_code||"","Property Type":c.property_type||"","Usage Type":c.usage_type||"","Usage Sub-Type":c.usage_sub_type||"","Building Permission":c.building_permission?"Yes":"No","Permission No":c.permission_no||"","Permission Date":c.permission_date||"","Occupancy Certificate":c.occupancy_certificate?"Yes":"No","Construction Type":c.construction_type||"","Year of Construction":c.year_of_construction||"","Construction Age (years)":c.year_of_construction?new Date().getFullYear()-c.year_of_construction:"","Water Connection":c.water_connection?"Yes":"No","Water Connection Type":c.water_connection_type||"","Water Authorization":c.water_authorized||"","Water Meter No":c.water_meter_no||"","Water Consumer No":c.water_consumer_no||"","Water Connection Date":c.water_connection_date||"","Pipe Size":c.pipe_size||"","Has Toilet":c.has_toilet?"Yes":"No","Toilet Count":c.toilet_count||"","Septic Tank":c.has_septic_tank?"Yes":"No","Sewerage Connection":c.has_sewerage?"Yes":"No","Electricity Connection":c.electricity_connection?"Yes":"No","Solar Panels":c.has_solar?"Yes":"No","Rain Water Harvesting":c.has_rainwater_harvesting?"Yes":"No","Property Tax Paid":c.tax_paid?"Yes":"No","ULB Name":c.ulb_name||"",District:c.district||"",Town:c.town||"","Zone No":c.zone_no||"","New Ward No":c.new_ward_no||"","Old Ward No":c.old_ward_no||"","Old Property No":c.old_property_no||"","New Property No":c.new_property_no||"","Total Carpet Area (m)":c.total_carpet_area||"","Exempted Area (m)":c.exempted_area||"","Assessable Area (m)":c.assessable_area||"","Current Tax Details":c.current_tax_details||"","Owner Photo URL":c.owner_photo_url||"","Building Photo 1 URL":c.building_photo_url||"","Building Photo 2 URL":c.building_photo_url_2||"","Created At":new Date(c.created_at).toLocaleString(),"Updated At":new Date(c.updated_at).toLocaleString(),"Surveyor ID":c.user_id||""})),n=kh.json_to_sheet(r),i=[{wch:15},{wch:12},{wch:10},{wch:12},{wch:15},{wch:12},{wch:10},{wch:25},{wch:15},{wch:15},{wch:25},{wch:15},{wch:25},{wch:15}];n["!cols"]=i;const a=kh.book_new();kh.book_append_sheet(a,n,"Survey Data");const s=[{Metric:"Total Surveys",Value:t.length},{Metric:"Export Date",Value:new Date().toLocaleString()},{Metric:"Total Area (m)",Value:t.reduce((c,f)=>c+(parseFloat(f.area_sqm)||0),0).toFixed(2)},{Metric:"Properties with Water Connection",Value:t.filter(c=>c.water_connection).length},{Metric:"Properties with Electricity",Value:t.filter(c=>c.electricity_connection).length},{Metric:"Properties with Tax Paid",Value:t.filter(c=>c.tax_paid).length}],l=kh.json_to_sheet(s);return l["!cols"]=[{wch:40},{wch:20}],kh.book_append_sheet(a,l,"Summary"),mz(a,`${e}.xlsx`),!0},Cz=(t,e=`Survey_Export_${Date.now()}`)=>{if(!t||t.length===0){alert("No data to export");return}const r=t.map(c=>({"Building ID":c.building_id||"","Survey ID":c.id||"","Floor Number":c.floor_number||"","Total Floors":c.total_floors||"","Owner Name":c.owner_name||"","Phone Number":c.phone_number||"","Aadhaar Number":c.aadhaar_number||"","Email Address":c.email_address||"","Property Type":c.property_type||"","Construction Type":c.construction_type||"","Year of Construction":c.year_of_construction||"","Total Area (m)":c.area_sqm||"","Water Connection":c.water_connection?"Yes":"No","Electricity Connection":c.electricity_connection?"Yes":"No","Tax Paid":c.tax_paid?"Yes":"No",District:c.district||"",Town:c.town||"","Ward No":c.new_ward_no||"","Property No":c.new_property_no||"","Created At":new Date(c.created_at).toLocaleString()})),n=kh.json_to_sheet(r),i=kh.sheet_to_csv(n),a=new Blob([i],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),l=URL.createObjectURL(a);return s.setAttribute("href",l),s.setAttribute("download",`${e}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),!0},h0="pts_",b3=1800*1e3,_l={set(t,e){try{const r={data:e,timestamp:Date.now()};localStorage.setItem(h0+t,JSON.stringify(r))}catch(r){console.error("Error saving to localStorage:",r)}},get(t,e=b3){try{const r=localStorage.getItem(h0+t);if(!r)return null;const n=JSON.parse(r),i=Date.now()-n.timestamp;return i>e&&console.log(`[Storage] ${t} is expired (${Math.floor(i/1e3)}s old)`),n.data}catch(r){return console.error("Error reading from localStorage:",r),null}},isFresh(t,e=b3){try{const r=localStorage.getItem(h0+t);if(!r)return!1;const n=JSON.parse(r);return Date.now()-n.timestamp<e}catch{return!1}},remove(t){localStorage.removeItem(h0+t)},clearAll(){Object.keys(localStorage).filter(t=>t.startsWith(h0)).forEach(t=>localStorage.removeItem(t))}},Mz=()=>{const t=gc(),e=XE(),[r,n]=de.useState(()=>_l.get("dashboard_stats")||{total:0,today:0,thisWeek:0,thisMonth:0}),[i,a]=de.useState(()=>_l.get("dashboard_surveys")||[]),[s,l]=de.useState(!1),[c,f]=de.useState(""),[p,v]=de.useState("all"),[y,_]=de.useState(()=>_l.get("dashboard_last_fetch")||null);de.useEffect(()=>{_l.isFresh("dashboard_stats",300*1e3)?console.log("[Dashboard] Using cached data"):(console.log("[Dashboard] No fresh data, fetching..."),E())},[]);const E=async()=>{l(!0),await Promise.all([S(),C()]),l(!1),_(new Date().toLocaleString()),_l.set("dashboard_last_fetch",new Date().toLocaleString())},S=async()=>{console.log("[Dashboard] fetchStats starting...");try{const re=new Date,F=new Date(re.getFullYear(),re.getMonth(),re.getDate()).toISOString(),K=new Date(re.setDate(re.getDate()-re.getDay())).toISOString(),U=new Date(re.getFullYear(),re.getMonth(),1).toISOString();console.log("[Dashboard] Making stats query...");const{data:X,error:I}=await Promise.race([ln.from("surveys").select("created_at, status"),new Promise((W,ue)=>setTimeout(()=>ue(new Error("Timeout")),15e3))]);if(console.log("[Dashboard] Stats query result:",{hasData:!!X,dataCount:X?.length||0,hasError:!!I}),X){const W={total:X.length,today:X.filter(ue=>new Date(ue.created_at)>=new Date(F)).length,thisWeek:X.filter(ue=>new Date(ue.created_at)>=new Date(K)).length,thisMonth:X.filter(ue=>new Date(ue.created_at)>=new Date(U)).length};n(W),_l.set("dashboard_stats",W),console.log("[Dashboard] Stats saved to storage")}}catch(re){console.error("[Dashboard] fetchStats error:",re)}},C=async()=>{try{const{data:re,error:F}=await Promise.race([ln.from("surveys").select("*").order("created_at",{ascending:!1}).limit(20),new Promise((K,U)=>setTimeout(()=>U(new Error("Timeout")),15e3))]);F?console.error("[Dashboard] Error fetching recent surveys:",F):re&&(a(re),_l.set("dashboard_surveys",re),console.log("[Dashboard] Recent surveys saved to storage"))}catch(re){console.error("[Dashboard] fetchRecentSurveys error:",re)}},O=async re=>{if(!confirm("Are you sure you want to delete this survey?"))return;const{error:F}=await ln.from("surveys").delete().eq("id",re);F?e.error("Failed to delete survey"):(e.success("Survey deleted successfully"),C(),S())},j=async re=>{e.info("Generating PDF...");try{await X_(re),e.success("PDF downloaded successfully!")}catch{e.error("Failed to generate PDF")}},R=()=>{if(J.length===0){e.error("No surveys to export");return}e.info("Generating Excel file...");try{Nz(J,`Property_Survey_${new Date().toISOString().split("T")[0]}`),e.success(`Exported ${J.length} surveys to Excel`)}catch{e.error("Failed to export to Excel")}},B=()=>{if(J.length===0){e.error("No surveys to export");return}e.info("Generating CSV file...");try{Cz(J,`Property_Survey_${new Date().toISOString().split("T")[0]}`),e.success(`Exported ${J.length} surveys to CSV`)}catch{e.error("Failed to export to CSV")}},J=i.filter(re=>{const F=re.building_id?.toLowerCase().includes(c.toLowerCase())||re.owner_name?.toLowerCase().includes(c.toLowerCase()),K=p==="all"||re.status===p;return F&&K});return x.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[x.jsx(FR,{onSyncComplete:C}),x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Dashboard"}),x.jsx("p",{className:"text-gray-600 mt-1",children:"Overview of your survey activities"})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[x.jsxs("button",{onClick:E,disabled:s,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors text-sm disabled:opacity-50 flex items-center gap-2",children:[x.jsx("svg",{className:`w-4 h-4 ${s?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s?"Refreshing...":"Refresh"]}),x.jsxs("button",{onClick:R,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors text-sm flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Excel"]}),x.jsxs("button",{onClick:B,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors text-sm flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"CSV"]}),x.jsxs("button",{onClick:()=>t("/survey"),className:"flex-1 sm:flex-none px-6 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105 flex items-center justify-center gap-2 text-sm",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Survey"]})]})]}),x.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:s?x.jsxs(x.Fragment,{children:[x.jsx(Wm,{}),x.jsx(Wm,{}),x.jsx(Wm,{}),x.jsx(Wm,{})]}):x.jsxs(x.Fragment,{children:[x.jsx($m,{title:"Total Surveys",value:r.total,icon:"",color:"blue"}),x.jsx($m,{title:"Today",value:r.today,icon:"",color:"green"}),x.jsx($m,{title:"This Week",value:r.thisWeek,icon:"",color:"purple"}),x.jsx($m,{title:"This Month",value:r.thisMonth,icon:"",color:"orange"})]})}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[x.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),x.jsx("input",{type:"text",placeholder:"Search by Building ID or Owner...",value:c,onChange:re=>f(re.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"})]}),x.jsxs("select",{value:p,onChange:re=>v(re.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"all",children:"All Status"}),x.jsx("option",{value:"draft",children:"Draft"}),x.jsx("option",{value:"submitted",children:"Submitted"}),x.jsx("option",{value:"verified",children:"Verified"})]})]})}),x.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-100 hidden sm:block",children:x.jsxs("div",{className:"grid grid-cols-5 gap-4 text-sm font-semibold text-gray-600",children:[x.jsx("span",{children:"Building"}),x.jsx("span",{children:"Owner"}),x.jsx("span",{children:"Status"}),x.jsx("span",{children:"Date"}),x.jsx("span",{children:"Actions"})]})}),x.jsx("div",{className:"divide-y divide-gray-100",children:s?x.jsxs(x.Fragment,{children:[x.jsx(k2,{}),x.jsx(k2,{}),x.jsx(k2,{})]}):J.length===0?x.jsxs("div",{className:"p-12 text-center",children:[x.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),x.jsx("p",{className:"text-gray-500 text-lg",children:"No surveys found"}),x.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Start your first survey to see it here!"})]}):J.map(re=>x.jsx(kz,{survey:re,onView:()=>t(`/survey/${re.id}`),onPDF:()=>j(re),onDelete:()=>O(re.id)},re.id))})]})]})},kz=({survey:t,onView:e,onPDF:r,onDelete:n})=>x.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[x.jsxs("div",{className:"sm:hidden space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold text-gray-900",children:t.building_id||"No ID"}),x.jsx("p",{className:"text-sm text-gray-500",children:t.owner_name||"Unknown Owner"})]}),x.jsx(S3,{status:t.status})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-xs text-gray-400",children:new Date(t.created_at).toLocaleDateString()}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Bf,{onClick:e,icon:"",label:"View",color:"blue"}),x.jsx(Bf,{onClick:r,icon:"",label:"PDF",color:"green"}),x.jsx(Bf,{onClick:n,icon:"",label:"Delete",color:"red"})]})]})]}),x.jsxs("div",{className:"hidden sm:grid grid-cols-5 gap-4 items-center",children:[x.jsx("span",{className:"font-medium text-gray-900",children:t.building_id||"No ID"}),x.jsx("span",{className:"text-gray-600",children:t.owner_name||"Unknown"}),x.jsx(S3,{status:t.status}),x.jsx("span",{className:"text-gray-500 text-sm",children:new Date(t.created_at).toLocaleDateString()}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Bf,{onClick:e,icon:"",label:"View",color:"blue"}),x.jsx(Bf,{onClick:r,icon:"",label:"PDF",color:"green"}),x.jsx(Bf,{onClick:n,icon:"",label:"Delete",color:"red"})]})]})]}),S3=({status:t})=>{const e={draft:"bg-yellow-100 text-yellow-800 border-yellow-200",submitted:"bg-green-100 text-green-800 border-green-200",verified:"bg-purple-100 text-purple-800 border-purple-200"};return x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${e[t]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:t})},Bf=({onClick:t,icon:e,label:r,color:n})=>{const i={blue:"hover:bg-blue-100 text-blue-600",green:"hover:bg-green-100 text-green-600",red:"hover:bg-red-100 text-red-600"};return x.jsx("button",{onClick:t,className:`p-2 rounded-lg transition-colors ${i[n]}`,title:r,children:x.jsx("span",{className:"text-sm",children:e})})},$m=({title:t,value:e,icon:r,color:n})=>{const i={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600"};return x.jsx("div",{className:`bg-gradient-to-br ${i[n]} text-white rounded-2xl p-4 sm:p-6 shadow-lg transform transition-all hover:scale-105`,children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs sm:text-sm opacity-90",children:t}),x.jsx("p",{className:"text-2xl sm:text-4xl font-bold mt-1",children:e})]}),x.jsx("span",{className:"text-3xl sm:text-5xl opacity-80",children:r})]})})},Wm=()=>x.jsxs("div",{className:"bg-gray-200 rounded-2xl p-6 animate-pulse",children:[x.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-3"}),x.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"})]}),k2=()=>x.jsx("div",{className:"p-4 animate-pulse",children:x.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[x.jsx("div",{className:"h-4 bg-gray-200 rounded"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]})});function O8(t,e){const r=de.useRef(e);de.useEffect(function(){e!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),e!=null&&t.attributionControl.addAttribution(e)),r.current=e},[t,e])}function Pz(t,e,r){e.center!==r.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==r.radius&&t.setRadius(e.radius)}const Oz=1;function Rz(t){return Object.freeze({__version:Oz,map:t})}function m1(t,e){return Object.freeze({...t,...e})}const yy=de.createContext(null);function Ep(){const t=de.use(yy);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function R8(t){function e(r,n){const{instance:i,context:a}=t(r).current;de.useImperativeHandle(n,()=>i);const{children:s}=r;return s==null?null:Zl.createElement(yy,{value:a},s)}return de.forwardRef(e)}function Dz(t){function e(r,n){const[i,a]=de.useState(!1),{instance:s}=t(r,a).current;de.useImperativeHandle(n,()=>s),de.useEffect(function(){i&&s.update()},[s,i,r.children]);const l=s._contentNode;return l?jS.createPortal(r.children,l):null}return de.forwardRef(e)}function jz(t){function e(r,n){const{instance:i}=t(r).current;return de.useImperativeHandle(n,()=>i),null}return de.forwardRef(e)}function xy(t,e){const r=de.useRef(void 0);de.useEffect(function(){return e!=null&&t.instance.on(e),r.current=e,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,e])}function Tp(t,e){const r=t.pane??e.pane;return r?{...t,pane:r}:t}function Iz(t,e){return function(n,i){const a=Ep(),s=t(Tp(n,a),a);return O8(a.map,n.attribution),xy(s.current,n.eventHandlers),e(s.current,a,n,i),s}}var v0={exports:{}};var Fz=v0.exports,E3;function Bz(){return E3||(E3=1,(function(t,e){(function(r,n){n(e)})(Fz,(function(r){var n="1.9.4";function i(h){var m,b,M,G;for(b=1,M=arguments.length;b<M;b++){G=arguments[b];for(m in G)h[m]=G[m]}return h}var a=Object.create||(function(){function h(){}return function(m){return h.prototype=m,new h}})();function s(h,m){var b=Array.prototype.slice;if(h.bind)return h.bind.apply(h,b.call(arguments,1));var M=b.call(arguments,2);return function(){return h.apply(m,M.length?M.concat(b.call(arguments)):arguments)}}var l=0;function c(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function f(h,m,b){var M,G,se,Me;return Me=function(){M=!1,G&&(se.apply(b,G),G=!1)},se=function(){M?G=arguments:(h.apply(b,arguments),setTimeout(Me,m),M=!0)},se}function p(h,m,b){var M=m[1],G=m[0],se=M-G;return h===M&&b?h:((h-G)%se+se)%se+G}function v(){return!1}function y(h,m){if(m===!1)return h;var b=Math.pow(10,m===void 0?6:m);return Math.round(h*b)/b}function _(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function E(h){return _(h).split(/\s+/)}function S(h,m){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?a(h.options):{});for(var b in m)h.options[b]=m[b];return h.options}function C(h,m,b){var M=[];for(var G in h)M.push(encodeURIComponent(b?G.toUpperCase():G)+"="+encodeURIComponent(h[G]));return(!m||m.indexOf("?")===-1?"?":"&")+M.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function j(h,m){return h.replace(O,function(b,M){var G=m[M];if(G===void 0)throw new Error("No value provided for variable "+b);return typeof G=="function"&&(G=G(m)),G})}var R=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function B(h,m){for(var b=0;b<h.length;b++)if(h[b]===m)return b;return-1}var J="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function re(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var F=0;function K(h){var m=+new Date,b=Math.max(0,16-(m-F));return F=m+b,window.setTimeout(h,b)}var U=window.requestAnimationFrame||re("RequestAnimationFrame")||K,X=window.cancelAnimationFrame||re("CancelAnimationFrame")||re("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function I(h,m,b){if(b&&U===K)h.call(m);else return U.call(window,s(h,m))}function W(h){h&&X.call(window,h)}var ue={__proto__:null,extend:i,create:a,bind:s,get lastId(){return l},stamp:c,throttle:f,wrapNum:p,falseFn:v,formatNum:y,trim:_,splitWords:E,setOptions:S,getParamString:C,template:j,isArray:R,indexOf:B,emptyImageUrl:J,requestFn:U,cancelFn:X,requestAnimFrame:I,cancelAnimFrame:W};function pe(){}pe.extend=function(h){var m=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=m.__super__=this.prototype,M=a(b);M.constructor=m,m.prototype=M;for(var G in this)Object.prototype.hasOwnProperty.call(this,G)&&G!=="prototype"&&G!=="__super__"&&(m[G]=this[G]);return h.statics&&i(m,h.statics),h.includes&&(xe(h.includes),i.apply(null,[M].concat(h.includes))),i(M,h),delete M.statics,delete M.includes,M.options&&(M.options=b.options?a(b.options):{},i(M.options,h.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var se=0,Me=M._initHooks.length;se<Me;se++)M._initHooks[se].call(this)}},m},pe.include=function(h){var m=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=m,this.mergeOptions(h.options)),this},pe.mergeOptions=function(h){return i(this.prototype.options,h),this},pe.addInitHook=function(h){var m=Array.prototype.slice.call(arguments,1),b=typeof h=="function"?h:function(){this[h].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function xe(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=R(h)?h:[h];for(var m=0;m<h.length;m++)h[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var le={on:function(h,m,b){if(typeof h=="object")for(var M in h)this._on(M,h[M],m);else{h=E(h);for(var G=0,se=h.length;G<se;G++)this._on(h[G],m,b)}return this},off:function(h,m,b){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var M in h)this._off(M,h[M],m);else{h=E(h);for(var G=arguments.length===1,se=0,Me=h.length;se<Me;se++)G?this._off(h[se]):this._off(h[se],m,b)}return this},_on:function(h,m,b,M){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(h,m,b)===!1){b===this&&(b=void 0);var G={fn:m,ctx:b};M&&(G.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(G)}},_off:function(h,m,b){var M,G,se;if(this._events&&(M=this._events[h],!!M)){if(arguments.length===1){if(this._firingCount)for(G=0,se=M.length;G<se;G++)M[G].fn=v;delete this._events[h];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var Me=this._listens(h,m,b);if(Me!==!1){var We=M[Me];this._firingCount&&(We.fn=v,this._events[h]=M=M.slice()),M.splice(Me,1)}}},fire:function(h,m,b){if(!this.listens(h,b))return this;var M=i({},m,{type:h,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var G=this._events[h];if(G){this._firingCount=this._firingCount+1||1;for(var se=0,Me=G.length;se<Me;se++){var We=G[se],tt=We.fn;We.once&&this.off(h,tt,We.ctx),tt.call(We.ctx||this,M)}this._firingCount--}}return b&&this._propagateEvent(M),this},listens:function(h,m,b,M){typeof h!="string"&&console.warn('"string" type argument expected');var G=m;typeof m!="function"&&(M=!!m,G=void 0,b=void 0);var se=this._events&&this._events[h];if(se&&se.length&&this._listens(h,G,b)!==!1)return!0;if(M){for(var Me in this._eventParents)if(this._eventParents[Me].listens(h,m,b,M))return!0}return!1},_listens:function(h,m,b){if(!this._events)return!1;var M=this._events[h]||[];if(!m)return!!M.length;b===this&&(b=void 0);for(var G=0,se=M.length;G<se;G++)if(M[G].fn===m&&M[G].ctx===b)return G;return!1},once:function(h,m,b){if(typeof h=="object")for(var M in h)this._on(M,h[M],m,!0);else{h=E(h);for(var G=0,se=h.length;G<se;G++)this._on(h[G],m,b,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[c(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[c(h)],this},_propagateEvent:function(h){for(var m in this._eventParents)this._eventParents[m].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};le.addEventListener=le.on,le.removeEventListener=le.clearAllEventListeners=le.off,le.addOneTimeEventListener=le.once,le.fireEvent=le.fire,le.hasEventListeners=le.listens;var be=pe.extend(le);function _e(h,m,b){this.x=b?Math.round(h):h,this.y=b?Math.round(m):m}var Le=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};_e.prototype={clone:function(){return new _e(this.x,this.y)},add:function(h){return this.clone()._add(Ne(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(Ne(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new _e(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new _e(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Le(this.x),this.y=Le(this.y),this},distanceTo:function(h){h=Ne(h);var m=h.x-this.x,b=h.y-this.y;return Math.sqrt(m*m+b*b)},equals:function(h){return h=Ne(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=Ne(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function Ne(h,m,b){return h instanceof _e?h:R(h)?new _e(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new _e(h.x,h.y):new _e(h,m,b)}function ee(h,m){if(h)for(var b=m?[h,m]:h,M=0,G=b.length;M<G;M++)this.extend(b[M])}ee.prototype={extend:function(h){var m,b;if(!h)return this;if(h instanceof _e||typeof h[0]=="number"||"x"in h)m=b=Ne(h);else if(h=P(h),m=h.min,b=h.max,!m||!b)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=b.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(h){return Ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return Ne(this.min.x,this.max.y)},getTopRight:function(){return Ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var m,b;return typeof h[0]=="number"||h instanceof _e?h=Ne(h):h=P(h),h instanceof ee?(m=h.min,b=h.max):m=b=h,m.x>=this.min.x&&b.x<=this.max.x&&m.y>=this.min.y&&b.y<=this.max.y},intersects:function(h){h=P(h);var m=this.min,b=this.max,M=h.min,G=h.max,se=G.x>=m.x&&M.x<=b.x,Me=G.y>=m.y&&M.y<=b.y;return se&&Me},overlaps:function(h){h=P(h);var m=this.min,b=this.max,M=h.min,G=h.max,se=G.x>m.x&&M.x<b.x,Me=G.y>m.y&&M.y<b.y;return se&&Me},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var m=this.min,b=this.max,M=Math.abs(m.x-b.x)*h,G=Math.abs(m.y-b.y)*h;return P(Ne(m.x-M,m.y-G),Ne(b.x+M,b.y+G))},equals:function(h){return h?(h=P(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function P(h,m){return!h||h instanceof ee?h:new ee(h,m)}function H(h,m){if(h)for(var b=m?[h,m]:h,M=0,G=b.length;M<G;M++)this.extend(b[M])}H.prototype={extend:function(h){var m=this._southWest,b=this._northEast,M,G;if(h instanceof Z)M=h,G=h;else if(h instanceof H){if(M=h._southWest,G=h._northEast,!M||!G)return this}else return h?this.extend(oe(h)||q(h)):this;return!m&&!b?(this._southWest=new Z(M.lat,M.lng),this._northEast=new Z(G.lat,G.lng)):(m.lat=Math.min(M.lat,m.lat),m.lng=Math.min(M.lng,m.lng),b.lat=Math.max(G.lat,b.lat),b.lng=Math.max(G.lng,b.lng)),this},pad:function(h){var m=this._southWest,b=this._northEast,M=Math.abs(m.lat-b.lat)*h,G=Math.abs(m.lng-b.lng)*h;return new H(new Z(m.lat-M,m.lng-G),new Z(b.lat+M,b.lng+G))},getCenter:function(){return new Z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Z(this.getNorth(),this.getWest())},getSouthEast:function(){return new Z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof Z||"lat"in h?h=oe(h):h=q(h);var m=this._southWest,b=this._northEast,M,G;return h instanceof H?(M=h.getSouthWest(),G=h.getNorthEast()):M=G=h,M.lat>=m.lat&&G.lat<=b.lat&&M.lng>=m.lng&&G.lng<=b.lng},intersects:function(h){h=q(h);var m=this._southWest,b=this._northEast,M=h.getSouthWest(),G=h.getNorthEast(),se=G.lat>=m.lat&&M.lat<=b.lat,Me=G.lng>=m.lng&&M.lng<=b.lng;return se&&Me},overlaps:function(h){h=q(h);var m=this._southWest,b=this._northEast,M=h.getSouthWest(),G=h.getNorthEast(),se=G.lat>m.lat&&M.lat<b.lat,Me=G.lng>m.lng&&M.lng<b.lng;return se&&Me},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,m){return h?(h=q(h),this._southWest.equals(h.getSouthWest(),m)&&this._northEast.equals(h.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function q(h,m){return h instanceof H?h:new H(h,m)}function Z(h,m,b){if(isNaN(h)||isNaN(m))throw new Error("Invalid LatLng object: ("+h+", "+m+")");this.lat=+h,this.lng=+m,b!==void 0&&(this.alt=+b)}Z.prototype={equals:function(h,m){if(!h)return!1;h=oe(h);var b=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return b<=(m===void 0?1e-9:m)},toString:function(h){return"LatLng("+y(this.lat,h)+", "+y(this.lng,h)+")"},distanceTo:function(h){return Oe.distance(this,oe(h))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(h){var m=180*h/40075017,b=m/Math.cos(Math.PI/180*this.lat);return q([this.lat-m,this.lng-b],[this.lat+m,this.lng+b])},clone:function(){return new Z(this.lat,this.lng,this.alt)}};function oe(h,m,b){return h instanceof Z?h:R(h)&&typeof h[0]!="object"?h.length===3?new Z(h[0],h[1],h[2]):h.length===2?new Z(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new Z(h.lat,"lng"in h?h.lng:h.lon,h.alt):m===void 0?null:new Z(h,m,b)}var Ae={latLngToPoint:function(h,m){var b=this.projection.project(h),M=this.scale(m);return this.transformation._transform(b,M)},pointToLatLng:function(h,m){var b=this.scale(m),M=this.transformation.untransform(h,b);return this.projection.unproject(M)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var m=this.projection.bounds,b=this.scale(h),M=this.transformation.transform(m.min,b),G=this.transformation.transform(m.max,b);return new ee(M,G)},infinite:!1,wrapLatLng:function(h){var m=this.wrapLng?p(h.lng,this.wrapLng,!0):h.lng,b=this.wrapLat?p(h.lat,this.wrapLat,!0):h.lat,M=h.alt;return new Z(b,m,M)},wrapLatLngBounds:function(h){var m=h.getCenter(),b=this.wrapLatLng(m),M=m.lat-b.lat,G=m.lng-b.lng;if(M===0&&G===0)return h;var se=h.getSouthWest(),Me=h.getNorthEast(),We=new Z(se.lat-M,se.lng-G),tt=new Z(Me.lat-M,Me.lng-G);return new H(We,tt)}},Oe=i({},Ae,{wrapLng:[-180,180],R:6371e3,distance:function(h,m){var b=Math.PI/180,M=h.lat*b,G=m.lat*b,se=Math.sin((m.lat-h.lat)*b/2),Me=Math.sin((m.lng-h.lng)*b/2),We=se*se+Math.cos(M)*Math.cos(G)*Me*Me,tt=2*Math.atan2(Math.sqrt(We),Math.sqrt(1-We));return this.R*tt}}),Re=6378137,Ie={R:Re,MAX_LATITUDE:85.0511287798,project:function(h){var m=Math.PI/180,b=this.MAX_LATITUDE,M=Math.max(Math.min(b,h.lat),-b),G=Math.sin(M*m);return new _e(this.R*h.lng*m,this.R*Math.log((1+G)/(1-G))/2)},unproject:function(h){var m=180/Math.PI;return new Z((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*m,h.x*m/this.R)},bounds:(function(){var h=Re*Math.PI;return new ee([-h,-h],[h,h])})()};function ot(h,m,b,M){if(R(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=m,this._c=b,this._d=M}ot.prototype={transform:function(h,m){return this._transform(h.clone(),m)},_transform:function(h,m){return m=m||1,h.x=m*(this._a*h.x+this._b),h.y=m*(this._c*h.y+this._d),h},untransform:function(h,m){return m=m||1,new _e((h.x/m-this._b)/this._a,(h.y/m-this._d)/this._c)}};function it(h,m,b,M){return new ot(h,m,b,M)}var Tt=i({},Oe,{code:"EPSG:3857",projection:Ie,transformation:(function(){var h=.5/(Math.PI*Ie.R);return it(h,.5,-h,.5)})()}),Nt=i({},Tt,{code:"EPSG:900913"});function we(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function yt(h,m){var b="",M,G,se,Me,We,tt;for(M=0,se=h.length;M<se;M++){for(We=h[M],G=0,Me=We.length;G<Me;G++)tt=We[G],b+=(G?"L":"M")+tt.x+" "+tt.y;b+=m?Ye.svg?"z":"x":""}return b||"M0 0"}var xt=document.documentElement.style,zt="ActiveXObject"in window,dt=zt&&!document.addEventListener,Vt="msLaunchUri"in navigator&&!("documentMode"in document),jt=qe("webkit"),sr=qe("android"),Xt=qe("android 2")||qe("android 3"),Jt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Er=sr&&qe("Google")&&Jt<537&&!("AudioNode"in window),dr=!!window.opera,Nr=!Vt&&qe("chrome"),or=qe("gecko")&&!jt&&!dr&&!zt,Ft=!Nr&&qe("safari"),_r=qe("phantom"),Wt="OTransition"in xt,xn=navigator.platform.indexOf("Win")===0,Mr=zt&&"transition"in xt,Gt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Xt,pr="MozPerspective"in xt,Dr=!window.L_DISABLE_3D&&(Mr||Gt||pr)&&!Wt&&!_r,Yt=typeof orientation<"u"||qe("mobile"),un=Yt&&jt,ur=Yt&&Gt,cr=!window.PointerEvent&&window.MSPointerEvent,en=!!(window.PointerEvent||cr),xr="ontouchstart"in window||!!window.TouchEvent,Zt=!window.L_NO_TOUCH&&(xr||en),Gr=Yt&&dr,ba=Yt&&or,li=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ji=(function(){var h=!1;try{var m=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",v,m),window.removeEventListener("testPassiveEventSupport",v,m)}catch{}return h})(),Ni=(function(){return!!document.createElement("canvas").getContext})(),Qt=!!(document.createElementNS&&we("svg").createSVGRect),Ka=!!Qt&&(function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Fa=!Qt&&(function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var m=h.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}})(),Ce=navigator.platform.indexOf("Mac")===0,Ge=navigator.platform.indexOf("Linux")===0;function qe(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var Ye={ie:zt,ielt9:dt,edge:Vt,webkit:jt,android:sr,android23:Xt,androidStock:Er,opera:dr,chrome:Nr,gecko:or,safari:Ft,phantom:_r,opera12:Wt,win:xn,ie3d:Mr,webkit3d:Gt,gecko3d:pr,any3d:Dr,mobile:Yt,mobileWebkit:un,mobileWebkit3d:ur,msPointer:cr,pointer:en,touch:Zt,touchNative:xr,mobileOpera:Gr,mobileGecko:ba,retina:li,passiveEvents:Ji,canvas:Ni,svg:Qt,vml:Fa,inlineSvg:Ka,mac:Ce,linux:Ge},Y=Ye.msPointer?"MSPointerDown":"pointerdown",me=Ye.msPointer?"MSPointerMove":"pointermove",ne=Ye.msPointer?"MSPointerUp":"pointerup",ie=Ye.msPointer?"MSPointerCancel":"pointercancel",he={touchstart:Y,touchmove:me,touchend:ne,touchcancel:ie},ve={touchstart:Mt,touchmove:gt,touchend:gt,touchcancel:gt},Pe={},ze=!1;function Be(h,m,b){return m==="touchstart"&&wt(),ve[m]?(b=ve[m].bind(this,b),h.addEventListener(he[m],b,!1),b):(console.warn("wrong event specified:",m),v)}function Ue(h,m,b){if(!he[m]){console.warn("wrong event specified:",m);return}h.removeEventListener(he[m],b,!1)}function $e(h){Pe[h.pointerId]=h}function ht(h){Pe[h.pointerId]&&(Pe[h.pointerId]=h)}function bt(h){delete Pe[h.pointerId]}function wt(){ze||(document.addEventListener(Y,$e,!0),document.addEventListener(me,ht,!0),document.addEventListener(ne,bt,!0),document.addEventListener(ie,bt,!0),ze=!0)}function gt(h,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var b in Pe)m.touches.push(Pe[b]);m.changedTouches=[m],h(m)}}function Mt(h,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Mn(m),gt(h,m)}function Bt(h){var m={},b,M;for(M in h)b=h[M],m[M]=b&&b.bind?b.bind(h):b;return h=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Hr=200;function wr(h,m){h.addEventListener("dblclick",m);var b=0,M;function G(se){if(se.detail!==1){M=se.detail;return}if(!(se.pointerType==="mouse"||se.sourceCapabilities&&!se.sourceCapabilities.firesTouchEvents)){var Me=Qa(se);if(!(Me.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!Me.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var We=Date.now();We-b<=Hr?(M++,M===2&&m(Bt(se))):M=1,b=We}}}return h.addEventListener("click",G),{dblclick:m,simDblclick:G}}function nn(h,m){h.removeEventListener("dblclick",m.dblclick),h.removeEventListener("click",m.simDblclick)}var Kn=Tl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xn=Tl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qi=Xn==="webkitTransition"||Xn==="OTransition"?Xn+"End":"transitionend";function Ci(h){return typeof h=="string"?document.getElementById(h):h}function Ar(h,m){var b=h.style[m]||h.currentStyle&&h.currentStyle[m];if((!b||b==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(h,null);b=M?M[m]:null}return b==="auto"?null:b}function Ut(h,m,b){var M=document.createElement(h);return M.className=m||"",b&&b.appendChild(M),M}function qr(h){var m=h.parentNode;m&&m.removeChild(h)}function ri(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function ar(h){var m=h.parentNode;m&&m.lastChild!==h&&m.appendChild(h)}function Sa(h){var m=h.parentNode;m&&m.firstChild!==h&&m.insertBefore(h,m.firstChild)}function Ea(h,m){if(h.classList!==void 0)return h.classList.contains(m);var b=ni(h);return b.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(b)}function yr(h,m){if(h.classList!==void 0)for(var b=E(m),M=0,G=b.length;M<G;M++)h.classList.add(b[M]);else if(!Ea(h,m)){var se=ni(h);ea(h,(se?se+" ":"")+m)}}function Dn(h,m){h.classList!==void 0?h.classList.remove(m):ea(h,_((" "+ni(h)+" ").replace(" "+m+" "," ")))}function ea(h,m){h.className.baseVal===void 0?h.className=m:h.className.baseVal=m}function ni(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function cn(h,m){"opacity"in h.style?h.style.opacity=m:"filter"in h.style&&ru(h,m)}function ru(h,m){var b=!1,M="DXImageTransform.Microsoft.Alpha";try{b=h.filters.item(M)}catch{if(m===1)return}m=Math.round(m*100),b?(b.Enabled=m!==100,b.Opacity=m):h.style.filter+=" progid:"+M+"(opacity="+m+")"}function Tl(h){for(var m=document.documentElement.style,b=0;b<h.length;b++)if(h[b]in m)return h[b];return!1}function Us(h,m,b){var M=m||new _e(0,0);h.style[Kn]=(Ye.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(b?" scale("+b+")":"")}function Kr(h,m){h._leaflet_pos=m,Ye.any3d?Us(h,m):(h.style.left=m.x+"px",h.style.top=m.y+"px")}function zs(h){return h._leaflet_pos||new _e(0,0)}var No,Ta,Co;if("onselectstart"in document)No=function(){Ct(window,"selectstart",Mn)},Ta=function(){dn(window,"selectstart",Mn)};else{var tl=Tl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);No=function(){if(tl){var h=document.documentElement.style;Co=h[tl],h[tl]="none"}},Ta=function(){tl&&(document.documentElement.style[tl]=Co,Co=void 0)}}function nu(){Ct(window,"dragstart",Mn)}function Al(){dn(window,"dragstart",Mn)}var rl,iu;function fa(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(Ba(),rl=h,iu=h.style.outlineStyle,h.style.outlineStyle="none",Ct(window,"keydown",Ba))}function Ba(){rl&&(rl.style.outlineStyle=iu,rl=void 0,iu=void 0,dn(window,"keydown",Ba))}function eo(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Mo(h){var m=h.getBoundingClientRect();return{x:m.width/h.offsetWidth||1,y:m.height/h.offsetHeight||1,boundingClientRect:m}}var nl={__proto__:null,TRANSFORM:Kn,TRANSITION:Xn,TRANSITION_END:Qi,get:Ci,getStyle:Ar,create:Ut,remove:qr,empty:ri,toFront:ar,toBack:Sa,hasClass:Ea,addClass:yr,removeClass:Dn,setClass:ea,getClass:ni,setOpacity:cn,testProp:Tl,setTransform:Us,setPosition:Kr,getPosition:zs,get disableTextSelection(){return No},get enableTextSelection(){return Ta},disableImageDrag:nu,enableImageDrag:Al,preventOutline:fa,restoreOutline:Ba,getSizedParentNode:eo,getScale:Mo};function Ct(h,m,b,M){if(m&&typeof m=="object")for(var G in m)Mi(h,G,m[G],b);else{m=E(m);for(var se=0,Me=m.length;se<Me;se++)Mi(h,m[se],b,M)}return this}var Xa="_leaflet_events";function dn(h,m,b,M){if(arguments.length===1)Iu(h),delete h[Xa];else if(m&&typeof m=="object")for(var G in m)Ll(h,G,m[G],b);else if(m=E(m),arguments.length===2)Iu(h,function(We){return B(m,We)!==-1});else for(var se=0,Me=m.length;se<Me;se++)Ll(h,m[se],b,M);return this}function Iu(h,m){for(var b in h[Xa]){var M=b.split(/\d/)[0];(!m||m(M))&&Ll(h,M,null,null,b)}}var Aa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mi(h,m,b,M){var G=m+c(b)+(M?"_"+c(M):"");if(h[Xa]&&h[Xa][G])return this;var se=function(We){return b.call(M||h,We||window.event)},Me=se;!Ye.touchNative&&Ye.pointer&&m.indexOf("touch")===0?se=Be(h,m,se):Ye.touch&&m==="dblclick"?se=wr(h,se):"addEventListener"in h?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?h.addEventListener(Aa[m]||m,se,Ye.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(se=function(We){We=We||window.event,xs(h,We)&&Me(We)},h.addEventListener(Aa[m],se,!1)):h.addEventListener(m,Me,!1):h.attachEvent("on"+m,se),h[Xa]=h[Xa]||{},h[Xa][G]=se}function Ll(h,m,b,M,G){G=G||m+c(b)+(M?"_"+c(M):"");var se=h[Xa]&&h[Xa][G];if(!se)return this;!Ye.touchNative&&Ye.pointer&&m.indexOf("touch")===0?Ue(h,m,se):Ye.touch&&m==="dblclick"?nn(h,se):"removeEventListener"in h?h.removeEventListener(Aa[m]||m,se,!1):h.detachEvent("on"+m,se),h[Xa][G]=null}function Ja(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function La(h){return Mi(h,"wheel",Ja),this}function Gs(h){return Ct(h,"mousedown touchstart dblclick contextmenu",Ja),h._leaflet_disable_click=!0,this}function Mn(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function to(h){return Mn(h),Ja(h),this}function Qa(h){if(h.composedPath)return h.composedPath();for(var m=[],b=h.target;b;)m.push(b),b=b.parentNode;return m}function Nl(h,m){if(!m)return new _e(h.clientX,h.clientY);var b=Mo(m),M=b.boundingClientRect;return new _e((h.clientX-M.left)/b.x-m.clientLeft,(h.clientY-M.top)/b.y-m.clientTop)}var au=Ye.linux&&Ye.chrome?window.devicePixelRatio:Ye.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ki(h){return Ye.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/au:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function xs(h,m){var b=m.relatedTarget;if(!b)return!0;try{for(;b&&b!==h;)b=b.parentNode}catch{return!1}return b!==h}var ws={__proto__:null,on:Ct,off:dn,stopPropagation:Ja,disableScrollPropagation:La,disableClickPropagation:Gs,preventDefault:Mn,stop:to,getPropagationPath:Qa,getMousePosition:Nl,getWheelDelta:ki,isExternalTarget:xs,addListener:Ct,removeListener:dn},ro=be.extend({run:function(h,m,b,M){this.stop(),this._el=h,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=zs(h),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=I(this._animate,this),this._step()},_step:function(h){var m=+new Date-this._startTime,b=this._duration*1e3;m<b?this._runFrame(this._easeOut(m/b),h):(this._runFrame(1),this._complete())},_runFrame:function(h,m){var b=this._startPos.add(this._offset.multiplyBy(h));m&&b._round(),Kr(this._el,b),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Br=be.extend({options:{crs:Tt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,m){m=S(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(oe(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xn&&Ye.any3d&&!Ye.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ct(this._proxy,Qi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,m,b){if(m=m===void 0?this._zoom:this._limitZoom(m),h=this._limitCenter(oe(h),m,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=i({animate:b.animate},b.zoom),b.pan=i({animate:b.animate,duration:b.duration},b.pan));var M=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,m,b.zoom):this._tryAnimatedPan(h,b.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(h,m,b.pan&&b.pan.noMoveStart),this},setZoom:function(h,m){return this._loaded?this.setView(this.getCenter(),h,{zoom:m}):(this._zoom=h,this)},zoomIn:function(h,m){return h=h||(Ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,m)},zoomOut:function(h,m){return h=h||(Ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,m)},setZoomAround:function(h,m,b){var M=this.getZoomScale(m),G=this.getSize().divideBy(2),se=h instanceof _e?h:this.latLngToContainerPoint(h),Me=se.subtract(G).multiplyBy(1-1/M),We=this.containerPointToLatLng(G.add(Me));return this.setView(We,m,{zoom:b})},_getBoundsCenterZoom:function(h,m){m=m||{},h=h.getBounds?h.getBounds():q(h);var b=Ne(m.paddingTopLeft||m.padding||[0,0]),M=Ne(m.paddingBottomRight||m.padding||[0,0]),G=this.getBoundsZoom(h,!1,b.add(M));if(G=typeof m.maxZoom=="number"?Math.min(m.maxZoom,G):G,G===1/0)return{center:h.getCenter(),zoom:G};var se=M.subtract(b).divideBy(2),Me=this.project(h.getSouthWest(),G),We=this.project(h.getNorthEast(),G),tt=this.unproject(Me.add(We).divideBy(2).add(se),G);return{center:tt,zoom:G}},fitBounds:function(h,m){if(h=q(h),!h.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(h,m);return this.setView(b.center,b.zoom,m)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,m){return this.setView(h,this._zoom,{pan:m})},panBy:function(h,m){if(h=Ne(h).round(),m=m||{},!h.x&&!h.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ro,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){yr(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,b,m.duration||.25,m.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,m,b){if(b=b||{},b.animate===!1||!Ye.any3d)return this.setView(h,m,b);this._stop();var M=this.project(this.getCenter()),G=this.project(h),se=this.getSize(),Me=this._zoom;h=oe(h),m=m===void 0?Me:m;var We=Math.max(se.x,se.y),tt=We*this.getZoomScale(Me,m),pt=G.distanceTo(M)||1,kt=1.42,tr=kt*kt;function Ur(bn){var bi=bn?-1:1,Rl=bn?tt:We,fh=tt*tt-We*We+bi*tr*tr*pt*pt,pu=2*Rl*tr*pt,mu=fh/pu,zo=Math.sqrt(mu*mu+1)-mu,ho=zo<1e-9?-18:Math.log(zo);return ho}function aa(bn){return(Math.exp(bn)-Math.exp(-bn))/2}function fi(bn){return(Math.exp(bn)+Math.exp(-bn))/2}function os(bn){return aa(bn)/fi(bn)}var pn=Ur(0);function mn(bn){return We*(fi(pn)/fi(pn+kt*bn))}function Zr(bn){return We*(fi(pn)*os(pn+kt*bn)-aa(pn))/tr}function Pa(bn){return 1-Math.pow(1-bn,1.5)}var si=Date.now(),Ns=(Ur(1)-pn)/kt,ul=b.duration?1e3*b.duration:1e3*Ns*.8;function Sc(){var bn=(Date.now()-si)/ul,bi=Pa(bn)*Ns;bn<=1?(this._flyToFrame=I(Sc,this),this._move(this.unproject(M.add(G.subtract(M).multiplyBy(Zr(bi)/pt)),Me),this.getScaleZoom(We/mn(bi),Me),{flyTo:!0})):this._move(h,m)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),Sc.call(this),this},flyToBounds:function(h,m){var b=this._getBoundsCenterZoom(h,m);return this.flyTo(b.center,b.zoom,m)},setMaxBounds:function(h){return h=q(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var m=this.options.minZoom;return this.options.minZoom=h,this._loaded&&m!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var m=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&m!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,m){this._enforcingBounds=!0;var b=this.getCenter(),M=this._limitCenter(b,this._zoom,q(h));return b.equals(M)||this.panTo(M,m),this._enforcingBounds=!1,this},panInside:function(h,m){m=m||{};var b=Ne(m.paddingTopLeft||m.padding||[0,0]),M=Ne(m.paddingBottomRight||m.padding||[0,0]),G=this.project(this.getCenter()),se=this.project(h),Me=this.getPixelBounds(),We=P([Me.min.add(b),Me.max.subtract(M)]),tt=We.getSize();if(!We.contains(se)){this._enforcingBounds=!0;var pt=se.subtract(We.getCenter()),kt=We.extend(se).getSize().subtract(tt);G.x+=pt.x<0?-kt.x:kt.x,G.y+=pt.y<0?-kt.y:kt.y,this.panTo(this.unproject(G),m),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),M=m.divideBy(2).round(),G=b.divideBy(2).round(),se=M.subtract(G);return!se.x&&!se.y?this:(h.animate&&h.pan?this.panBy(se):(h.pan&&this._rawPanBy(se),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=s(this._handleGeolocationResponse,this),b=s(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,b,h):navigator.geolocation.getCurrentPosition(m,b,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var m=h.code,b=h.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var m=h.coords.latitude,b=h.coords.longitude,M=new Z(m,b),G=M.toBounds(h.coords.accuracy*2),se=this._locateOptions;if(se.setView){var Me=this.getBoundsZoom(G);this.setView(M,se.maxZoom?Math.min(Me,se.maxZoom):Me)}var We={latlng:M,bounds:G,timestamp:h.timestamp};for(var tt in h.coords)typeof h.coords[tt]=="number"&&(We[tt]=h.coords[tt]);this.fire("locationfound",We)}},addHandler:function(h,m){if(!m)return this;var b=this[h]=new m(this);return this._handlers.push(b),this.options[h]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)qr(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,m){var b="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),M=Ut("div",b,m||this._mapPane);return h&&(this._panes[h]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),m=this.unproject(h.getBottomLeft()),b=this.unproject(h.getTopRight());return new H(m,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,m,b){h=q(h),b=Ne(b||[0,0]);var M=this.getZoom()||0,G=this.getMinZoom(),se=this.getMaxZoom(),Me=h.getNorthWest(),We=h.getSouthEast(),tt=this.getSize().subtract(b),pt=P(this.project(We,M),this.project(Me,M)).getSize(),kt=Ye.any3d?this.options.zoomSnap:1,tr=tt.x/pt.x,Ur=tt.y/pt.y,aa=m?Math.max(tr,Ur):Math.min(tr,Ur);return M=this.getScaleZoom(aa,M),kt&&(M=Math.round(M/(kt/100))*(kt/100),M=m?Math.ceil(M/kt)*kt:Math.floor(M/kt)*kt),Math.max(G,Math.min(se,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new _e(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,m){var b=this._getTopLeftPoint(h,m);return new ee(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,m){var b=this.options.crs;return m=m===void 0?this._zoom:m,b.scale(h)/b.scale(m)},getScaleZoom:function(h,m){var b=this.options.crs;m=m===void 0?this._zoom:m;var M=b.zoom(h*b.scale(m));return isNaN(M)?1/0:M},project:function(h,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(oe(h),m)},unproject:function(h,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(Ne(h),m)},layerPointToLatLng:function(h){var m=Ne(h).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(h){var m=this.project(oe(h))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(oe(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(q(h))},distance:function(h,m){return this.options.crs.distance(oe(h),oe(m))},containerPointToLayerPoint:function(h){return Ne(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return Ne(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var m=this.containerPointToLayerPoint(Ne(h));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(h)))},mouseEventToContainerPoint:function(h){return Nl(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var m=this._container=Ci(h);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ct(m,"scroll",this._onScroll,this),this._containerId=c(m)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ye.any3d,yr(h,"leaflet-container"+(Ye.touch?" leaflet-touch":"")+(Ye.retina?" leaflet-retina":"")+(Ye.ielt9?" leaflet-oldie":"")+(Ye.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=Ar(h,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Kr(this._mapPane,new _e(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yr(h.markerPane,"leaflet-zoom-hide"),yr(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,m,b){Kr(this._mapPane,new _e(0,0));var M=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var G=this._zoom!==m;this._moveStart(G,b)._move(h,m)._moveEnd(G),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(h,m){return h&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(h,m,b,M){m===void 0&&(m=this._zoom);var G=this._zoom!==m;return this._zoom=m,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),M?b&&b.pinch&&this.fire("zoom",b):((G||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){Kr(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[c(this._container)]=this;var m=h?dn:Ct;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),Ye.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=I(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,m){for(var b=[],M,G=m==="mouseout"||m==="mouseover",se=h.target||h.srcElement,Me=!1;se;){if(M=this._targets[c(se)],M&&(m==="click"||m==="preclick")&&this._draggableMoved(M)){Me=!0;break}if(M&&M.listens(m,!0)&&(G&&!xs(se,h)||(b.push(M),G))||se===this._container)break;se=se.parentNode}return!b.length&&!Me&&!G&&this.listens(m,!0)&&(b=[this]),b},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var m=h.target||h.srcElement;if(!(!this._loaded||m._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(m))){var b=h.type;b==="mousedown"&&fa(m),this._fireDOMEvent(h,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,m,b){if(h.type==="click"){var M=i({},h);M.type="preclick",this._fireDOMEvent(M,M.type,b)}var G=this._findEventTargets(h,m);if(b){for(var se=[],Me=0;Me<b.length;Me++)b[Me].listens(m,!0)&&se.push(b[Me]);G=se.concat(G)}if(G.length){m==="contextmenu"&&Mn(h);var We=G[0],tt={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var pt=We.getLatLng&&(!We._radius||We._radius<=10);tt.containerPoint=pt?this.latLngToContainerPoint(We.getLatLng()):this.mouseEventToContainerPoint(h),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=pt?We.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(Me=0;Me<G.length;Me++)if(G[Me].fire(m,tt,!0),tt.originalEvent._stopped||G[Me].options.bubblingMouseEvents===!1&&B(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,m=this._handlers.length;h<m;h++)this._handlers[h].disable()},whenReady:function(h,m){return this._loaded?h.call(m||this,{target:this}):this.on("load",h,m),this},_getMapPanePos:function(){return zs(this._mapPane)||new _e(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,m){var b=h&&m!==void 0?this._getNewPixelOrigin(h,m):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,m){var b=this.getSize()._divideBy(2);return this.project(h,m)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,m,b){var M=this._getNewPixelOrigin(b,m);return this.project(h,m)._subtract(M)},_latLngBoundsToNewLayerBounds:function(h,m,b){var M=this._getNewPixelOrigin(b,m);return P([this.project(h.getSouthWest(),m)._subtract(M),this.project(h.getNorthWest(),m)._subtract(M),this.project(h.getSouthEast(),m)._subtract(M),this.project(h.getNorthEast(),m)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,m,b){if(!b)return h;var M=this.project(h,m),G=this.getSize().divideBy(2),se=new ee(M.subtract(G),M.add(G)),Me=this._getBoundsOffset(se,b,m);return Math.abs(Me.x)<=1&&Math.abs(Me.y)<=1?h:this.unproject(M.add(Me),m)},_limitOffset:function(h,m){if(!m)return h;var b=this.getPixelBounds(),M=new ee(b.min.add(h),b.max.add(h));return h.add(this._getBoundsOffset(M,m))},_getBoundsOffset:function(h,m,b){var M=P(this.project(m.getNorthEast(),b),this.project(m.getSouthWest(),b)),G=M.min.subtract(h.min),se=M.max.subtract(h.max),Me=this._rebound(G.x,-se.x),We=this._rebound(G.y,-se.y);return new _e(Me,We)},_rebound:function(h,m){return h+m>0?Math.round(h-m)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(m))},_limitZoom:function(h){var m=this.getMinZoom(),b=this.getMaxZoom(),M=Ye.any3d?this.options.zoomSnap:1;return M&&(h=Math.round(h/M)*M),Math.max(m,Math.min(b,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Dn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,m){var b=this._getCenterOffset(h)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,m),!0)},_createAnimProxy:function(){var h=this._proxy=Ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(m){var b=Kn,M=this._proxy.style[b];Us(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),M===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),m=this.getZoom();Us(this._proxy,this.project(h,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,m,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(m),G=this._getCenterOffset(h)._divideBy(1-1/M);return b.animate!==!0&&!this.getSize().contains(G)?!1:(I(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(h,m,!0)},this),!0)},_animateZoom:function(h,m,b,M){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=m,yr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:m,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Dn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Cl(h,m){return new Br(h,m)}var Pi=pe.extend({options:{position:"topright"},initialize:function(h){S(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var m=this._map;return m&&m.removeControl(this),this.options.position=h,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var m=this._container=this.onAdd(h),b=this.getPosition(),M=h._controlCorners[b];return yr(m,"leaflet-control"),b.indexOf("bottom")!==-1?M.insertBefore(m,M.firstChild):M.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),es=function(h){return new Pi(h)};Br.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},m="leaflet-",b=this._controlContainer=Ut("div",m+"control-container",this._container);function M(G,se){var Me=m+G+" "+m+se;h[G+se]=Ut("div",Me,b)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)qr(this._controlCorners[h]);qr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var il=Pi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,m,b,M){return b<M?-1:M<b?1:0}},initialize:function(h,m,b){S(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in h)this._addLayer(h[M],M);for(M in m)this._addLayer(m[M],M,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Pi.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,m){return this._addLayer(h,m),this._map?this._update():this},addOverlay:function(h,m){return this._addLayer(h,m,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var m=this._getLayer(c(h));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){yr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(yr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Dn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Dn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",m=this._container=Ut("div",h),b=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Gs(m),La(m);var M=this._section=Ut("section",h+"-list");b&&(this._map.on("click",this.collapse,this),Ct(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var G=this._layersLink=Ut("a",h+"-toggle",m);G.href="#",G.title="Layers",G.setAttribute("role","button"),Ct(G,{keydown:function(se){se.keyCode===13&&this._expandSafely()},click:function(se){Mn(se),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=Ut("div",h+"-base",M),this._separator=Ut("div",h+"-separator",M),this._overlaysList=Ut("div",h+"-overlays",M),m.appendChild(M)},_getLayer:function(h){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&c(this._layers[m].layer)===h)return this._layers[m]},_addLayer:function(h,m,b){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:m,overlay:b}),this.options.sortLayers&&this._layers.sort(s(function(M,G){return this.options.sortFunction(M.layer,G.layer,M.name,G.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ri(this._baseLayersList),ri(this._overlaysList),this._layerControlInputs=[];var h,m,b,M,G=0;for(b=0;b<this._layers.length;b++)M=this._layers[b],this._addItem(M),m=m||M.overlay,h=h||!M.overlay,G+=M.overlay?0:1;return this.options.hideSingleBase&&(h=h&&G>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=m&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var m=this._getLayer(c(h.target)),b=m.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;b&&this._map.fire(b,m)},_createRadioElement:function(h,m){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(m?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=b,M.firstChild},_addItem:function(h){var m=document.createElement("label"),b=this._map.hasLayer(h.layer),M;h.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=b):M=this._createRadioElement("leaflet-base-layers_"+c(this),b),this._layerControlInputs.push(M),M.layerId=c(h.layer),Ct(M,"click",this._onInputClick,this);var G=document.createElement("span");G.innerHTML=" "+h.name;var se=document.createElement("span");m.appendChild(se),se.appendChild(M),se.appendChild(G);var Me=h.overlay?this._overlaysList:this._baseLayersList;return Me.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,m,b,M=[],G=[];this._handlingClick=!0;for(var se=h.length-1;se>=0;se--)m=h[se],b=this._getLayer(m.layerId).layer,m.checked?M.push(b):m.checked||G.push(b);for(se=0;se<G.length;se++)this._map.hasLayer(G[se])&&this._map.removeLayer(G[se]);for(se=0;se<M.length;se++)this._map.hasLayer(M[se])||this._map.addLayer(M[se]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,m,b,M=this._map.getZoom(),G=h.length-1;G>=0;G--)m=h[G],b=this._getLayer(m.layerId).layer,m.disabled=b.options.minZoom!==void 0&&M<b.options.minZoom||b.options.maxZoom!==void 0&&M>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Ct(h,"click",Mn),this.expand();var m=this;setTimeout(function(){dn(h,"click",Mn),m._preventClick=!1})}}),Fu=function(h,m,b){return new il(h,m,b)},Hs=Pi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var m="leaflet-control-zoom",b=Ut("div",m+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,m+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,m+"-out",b,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,m,b,M,G){var se=Ut("a",b,M);return se.innerHTML=h,se.href="#",se.title=m,se.setAttribute("role","button"),se.setAttribute("aria-label",m),Gs(se),Ct(se,"click",to),Ct(se,"click",G,this),Ct(se,"click",this._refocusOnMap,this),se},_updateDisabled:function(){var h=this._map,m="leaflet-disabled";Dn(this._zoomInButton,m),Dn(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(yr(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(yr(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});Br.mergeOptions({zoomControl:!0}),Br.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hs,this.addControl(this.zoomControl))});var ko=function(h){return new Hs(h)},Bu=Pi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var m="leaflet-control-scale",b=Ut("div",m),M=this.options;return this._addScales(M,m+"-line",b),h.on(M.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),b},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,m,b){h.metric&&(this._mScale=Ut("div",m,b)),h.imperial&&(this._iScale=Ut("div",m,b))},_update:function(){var h=this._map,m=h.getSize().y/2,b=h.distance(h.containerPointToLatLng([0,m]),h.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(b)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var m=this._getRoundNum(h),b=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,b,m/h)},_updateImperial:function(h){var m=h*3.2808399,b,M,G;m>5280?(b=m/5280,M=this._getRoundNum(b),this._updateScale(this._iScale,M+" mi",M/b)):(G=this._getRoundNum(m),this._updateScale(this._iScale,G+" ft",G/m))},_updateScale:function(h,m,b){h.style.width=Math.round(this.options.maxWidth*b)+"px",h.innerHTML=m},_getRoundNum:function(h){var m=Math.pow(10,(Math.floor(h)+"").length-1),b=h/m;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,m*b}}),Po=function(h){return new Bu(h)},xc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',k=Pi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ye.inlineSvg?xc+" ":"")+"Leaflet</a>"},initialize:function(h){S(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Ut("div","leaflet-control-attribution"),Gs(this._container);for(var m in h._layers)h._layers[m].getAttribution&&this.addAttribution(h._layers[m].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var m in this._attributions)this._attributions[m]&&h.push(m);var b=[];this.options.prefix&&b.push(this.options.prefix),h.length&&b.push(h.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});Br.mergeOptions({attributionControl:!0}),Br.addInitHook(function(){this.options.attributionControl&&new k().addTo(this)});var Q=function(h){return new k(h)};Pi.Layers=il,Pi.Zoom=Hs,Pi.Scale=Bu,Pi.Attribution=k,es.layers=Fu,es.zoom=ko,es.scale=Po,es.attribution=Q;var Se=pe.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Se.addTo=function(h,m){return h.addHandler(m,this),this};var De={Events:le},Ve=Ye.touch?"touchstart mousedown":"mousedown",at=be.extend({options:{clickTolerance:3},initialize:function(h,m,b,M){S(this,M),this._element=h,this._dragStartTarget=m||h,this._preventOutline=b},enable:function(){this._enabled||(Ct(this._dragStartTarget,Ve,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(at._dragging===this&&this.finishDrag(!0),dn(this._dragStartTarget,Ve,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Ea(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){at._dragging===this&&this.finishDrag();return}if(!(at._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(at._dragging=this,this._preventOutline&&fa(this._element),nu(),No(),!this._moving)){this.fire("down");var m=h.touches?h.touches[0]:h,b=eo(this._element);this._startPoint=new _e(m.clientX,m.clientY),this._startPos=zs(this._element),this._parentScale=Mo(b);var M=h.type==="mousedown";Ct(document,M?"mousemove":"touchmove",this._onMove,this),Ct(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var m=h.touches&&h.touches.length===1?h.touches[0]:h,b=new _e(m.clientX,m.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,Mn(h),this._moved||(this.fire("dragstart"),this._moved=!0,yr(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),Kr(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Dn(document.body,"leaflet-dragging"),this._lastTarget&&(Dn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dn(document,"mousemove touchmove",this._onMove,this),dn(document,"mouseup touchend touchcancel",this._onUp,this),Al(),Ta();var m=this._moved&&this._moving;this._moving=!1,at._dragging=!1,m&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function St(h,m,b){var M,G=[1,4,2,8],se,Me,We,tt,pt,kt,tr,Ur;for(se=0,kt=h.length;se<kt;se++)h[se]._code=ta(h[se],m);for(We=0;We<4;We++){for(tr=G[We],M=[],se=0,kt=h.length,Me=kt-1;se<kt;Me=se++)tt=h[se],pt=h[Me],tt._code&tr?pt._code&tr||(Ur=bs(pt,tt,tr,m,b),Ur._code=ta(Ur,m),M.push(Ur)):(pt._code&tr&&(Ur=bs(pt,tt,tr,m,b),Ur._code=ta(Ur,m),M.push(Ur)),M.push(tt));h=M}return h}function $t(h,m){var b,M,G,se,Me,We,tt,pt,kt;if(!h||h.length===0)throw new Error("latlngs not passed");ra(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var tr=oe([0,0]),Ur=q(h),aa=Ur.getNorthWest().distanceTo(Ur.getSouthWest())*Ur.getNorthEast().distanceTo(Ur.getNorthWest());aa<1700&&(tr=er(h));var fi=h.length,os=[];for(b=0;b<fi;b++){var pn=oe(h[b]);os.push(m.project(oe([pn.lat-tr.lat,pn.lng-tr.lng])))}for(We=tt=pt=0,b=0,M=fi-1;b<fi;M=b++)G=os[b],se=os[M],Me=G.y*se.x-se.y*G.x,tt+=(G.x+se.x)*Me,pt+=(G.y+se.y)*Me,We+=Me*3;We===0?kt=os[0]:kt=[tt/We,pt/We];var mn=m.unproject(Ne(kt));return oe([mn.lat+tr.lat,mn.lng+tr.lng])}function er(h){for(var m=0,b=0,M=0,G=0;G<h.length;G++){var se=oe(h[G]);m+=se.lat,b+=se.lng,M++}return oe([m/M,b/M])}var br={__proto__:null,clipPolygon:St,polygonCenter:$t,centroid:er};function kr(h,m){if(!m||!h.length)return h.slice();var b=m*m;return h=Oi(h,b),h=ui(h,b),h}function Xr(h,m,b){return Math.sqrt(Ro(h,m,b,!0))}function Jn(h,m,b){return Ro(h,m,b)}function ui(h,m){var b=h.length,M=typeof Uint8Array<"u"?Uint8Array:Array,G=new M(b);G[0]=G[b-1]=1,wn(h,G,m,0,b-1);var se,Me=[];for(se=0;se<b;se++)G[se]&&Me.push(h[se]);return Me}function wn(h,m,b,M,G){var se=0,Me,We,tt;for(We=M+1;We<=G-1;We++)tt=Ro(h[We],h[M],h[G],!0),tt>se&&(Me=We,se=tt);se>b&&(m[Me]=1,wn(h,m,b,M,Me),wn(h,m,b,Me,G))}function Oi(h,m){for(var b=[h[0]],M=1,G=0,se=h.length;M<se;M++)Oo(h[M],h[G])>m&&(b.push(h[M]),G=M);return G<se-1&&b.push(h[se-1]),b}var ci;function Ii(h,m,b,M,G){var se=M?ci:ta(h,b),Me=ta(m,b),We,tt,pt;for(ci=Me;;){if(!(se|Me))return[h,m];if(se&Me)return!1;We=se||Me,tt=bs(h,m,We,b,G),pt=ta(tt,b),We===se?(h=tt,se=pt):(m=tt,Me=pt)}}function bs(h,m,b,M,G){var se=m.x-h.x,Me=m.y-h.y,We=M.min,tt=M.max,pt,kt;return b&8?(pt=h.x+se*(tt.y-h.y)/Me,kt=tt.y):b&4?(pt=h.x+se*(We.y-h.y)/Me,kt=We.y):b&2?(pt=tt.x,kt=h.y+Me*(tt.x-h.x)/se):b&1&&(pt=We.x,kt=h.y+Me*(We.x-h.x)/se),new _e(pt,kt,G)}function ta(h,m){var b=0;return h.x<m.min.x?b|=1:h.x>m.max.x&&(b|=2),h.y<m.min.y?b|=4:h.y>m.max.y&&(b|=8),b}function Oo(h,m){var b=m.x-h.x,M=m.y-h.y;return b*b+M*M}function Ro(h,m,b,M){var G=m.x,se=m.y,Me=b.x-G,We=b.y-se,tt=Me*Me+We*We,pt;return tt>0&&(pt=((h.x-G)*Me+(h.y-se)*We)/tt,pt>1?(G=b.x,se=b.y):pt>0&&(G+=Me*pt,se+=We*pt)),Me=h.x-G,We=h.y-se,M?Me*Me+We*We:new _e(G,se)}function ra(h){return!R(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function qs(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ra(h)}function Ss(h,m){var b,M,G,se,Me,We,tt,pt;if(!h||h.length===0)throw new Error("latlngs not passed");ra(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var kt=oe([0,0]),tr=q(h),Ur=tr.getNorthWest().distanceTo(tr.getSouthWest())*tr.getNorthEast().distanceTo(tr.getNorthWest());Ur<1700&&(kt=er(h));var aa=h.length,fi=[];for(b=0;b<aa;b++){var os=oe(h[b]);fi.push(m.project(oe([os.lat-kt.lat,os.lng-kt.lng])))}for(b=0,M=0;b<aa-1;b++)M+=fi[b].distanceTo(fi[b+1])/2;if(M===0)pt=fi[0];else for(b=0,se=0;b<aa-1;b++)if(Me=fi[b],We=fi[b+1],G=Me.distanceTo(We),se+=G,se>M){tt=(se-M)/G,pt=[We.x-tt*(We.x-Me.x),We.y-tt*(We.y-Me.y)];break}var pn=m.unproject(Ne(pt));return oe([pn.lat+kt.lat,pn.lng+kt.lng])}var Ml={__proto__:null,simplify:kr,pointToSegmentDistance:Xr,closestPointOnSegment:Jn,clipSegment:Ii,_getEdgeIntersection:bs,_getBitCode:ta,_sqClosestPointOnSegment:Ro,isFlat:ra,_flat:qs,polylineCenter:Ss},Vs={project:function(h){return new _e(h.lng,h.lat)},unproject:function(h){return new Z(h.y,h.x)},bounds:new ee([-180,-90],[180,90])},yi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var m=Math.PI/180,b=this.R,M=h.lat*m,G=this.R_MINOR/b,se=Math.sqrt(1-G*G),Me=se*Math.sin(M),We=Math.tan(Math.PI/4-M/2)/Math.pow((1-Me)/(1+Me),se/2);return M=-b*Math.log(Math.max(We,1e-10)),new _e(h.lng*m*b,M)},unproject:function(h){for(var m=180/Math.PI,b=this.R,M=this.R_MINOR/b,G=Math.sqrt(1-M*M),se=Math.exp(-h.y/b),Me=Math.PI/2-2*Math.atan(se),We=0,tt=.1,pt;We<15&&Math.abs(tt)>1e-7;We++)pt=G*Math.sin(Me),pt=Math.pow((1-pt)/(1+pt),G/2),tt=Math.PI/2-2*Math.atan(se*pt)-Me,Me+=tt;return new Z(Me*m,h.x*m/b)}},al={__proto__:null,LonLat:Vs,Mercator:yi,SphericalMercator:Ie},sl=i({},Oe,{code:"EPSG:3395",projection:yi,transformation:(function(){var h=.5/(Math.PI*yi.R);return it(h,.5,-h,.5)})()}),kl=i({},Oe,{code:"EPSG:4326",projection:Vs,transformation:it(1/180,1,-1/180,.5)}),no=i({},Ae,{projection:Vs,transformation:it(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,m){var b=m.lng-h.lng,M=m.lat-h.lat;return Math.sqrt(b*b+M*M)},infinite:!0});Ae.Earth=Oe,Ae.EPSG3395=sl,Ae.EPSG3857=Tt,Ae.EPSG900913=Nt,Ae.EPSG4326=kl,Ae.Simple=no;var jn=be.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[c(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[c(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var m=h.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var b=this.getEvents();m.on(b,this),this.once("remove",function(){m.off(b,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});Br.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var m=c(h);return this._layers[m]?this:(this._layers[m]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var m=c(h);return this._layers[m]?(this._loaded&&h.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return c(h)in this._layers},eachLayer:function(h,m){for(var b in this._layers)h.call(m,this._layers[b]);return this},_addLayers:function(h){h=h?R(h)?h:[h]:[];for(var m=0,b=h.length;m<b;m++)this.addLayer(h[m])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[c(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var m=c(h);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,m=-1/0,b=this._getZoomSpan();for(var M in this._zoomBoundLayers){var G=this._zoomBoundLayers[M].options;h=G.minZoom===void 0?h:Math.min(h,G.minZoom),m=G.maxZoom===void 0?m:Math.max(m,G.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=h===1/0?void 0:h,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ua=jn.extend({initialize:function(h,m){S(this,m),this._layers={};var b,M;if(h)for(b=0,M=h.length;b<M;b++)this.addLayer(h[b])},addLayer:function(h){var m=this.getLayerId(h);return this._layers[m]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var m=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(h){var m=typeof h=="number"?h:this.getLayerId(h);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var m=Array.prototype.slice.call(arguments,1),b,M;for(b in this._layers)M=this._layers[b],M[h]&&M[h].apply(M,m);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,m){for(var b in this._layers)h.call(m,this._layers[b]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return c(h)}}),su=function(h,m){return new Ua(h,m)},ts=Ua.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),Ua.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),Ua.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new H;for(var m in this._layers){var b=this._layers[m];h.extend(b.getBounds?b.getBounds():b.getLatLng())}return h}}),rs=function(h,m){return new ts(h,m)},da=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){S(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,m){var b=this._getIconUrl(h);if(!b){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(b,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(M,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(h,m){var b=this.options,M=b[m+"Size"];typeof M=="number"&&(M=[M,M]);var G=Ne(M),se=Ne(m==="shadow"&&b.shadowAnchor||b.iconAnchor||G&&G.divideBy(2,!0));h.className="leaflet-marker-"+m+" "+(b.className||""),se&&(h.style.marginLeft=-se.x+"px",h.style.marginTop=-se.y+"px"),G&&(h.style.width=G.x+"px",h.style.height=G.y+"px")},_createImg:function(h,m){return m=m||document.createElement("img"),m.src=h,m},_getIconUrl:function(h){return Ye.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function Do(h){return new da(h)}var jo=da.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof jo.imagePath!="string"&&(jo.imagePath=this._detectIconPath()),(this.options.imagePath||jo.imagePath)+da.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var m=function(b,M,G){var se=M.exec(b);return se&&se[G]};return h=m(h,/^url\((['"])?(.+)\1\)$/,2),h&&m(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Ut("div","leaflet-default-icon-path",document.body),m=Ar(h,"background-image")||Ar(h,"backgroundImage");if(document.body.removeChild(h),m=this._stripUrl(m),m)return m;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),Es=Se.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new at(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yr(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Dn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var m=this._marker,b=m._map,M=this._marker.options.autoPanSpeed,G=this._marker.options.autoPanPadding,se=zs(m._icon),Me=b.getPixelBounds(),We=b.getPixelOrigin(),tt=P(Me.min._subtract(We).add(G),Me.max._subtract(We).subtract(G));if(!tt.contains(se)){var pt=Ne((Math.max(tt.max.x,se.x)-tt.max.x)/(Me.max.x-tt.max.x)-(Math.min(tt.min.x,se.x)-tt.min.x)/(Me.min.x-tt.min.x),(Math.max(tt.max.y,se.y)-tt.max.y)/(Me.max.y-tt.max.y)-(Math.min(tt.min.y,se.y)-tt.min.y)/(Me.min.y-tt.min.y)).multiplyBy(M);b.panBy(pt,{animate:!1}),this._draggable._newPos._add(pt),this._draggable._startPos._add(pt),Kr(m._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=I(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=I(this._adjustPan.bind(this,h)))},_onDrag:function(h){var m=this._marker,b=m._shadow,M=zs(m._icon),G=m._map.layerPointToLatLng(M);b&&Kr(b,M),m._latlng=G,h.latlng=G,h.oldLatLng=this._oldLatLng,m.fire("move",h).fire("drag",h)},_onDragEnd:function(h){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),$s=jn.extend({options:{icon:new jo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,m){S(this,m),this._latlng=oe(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var m=this._latlng;return this._latlng=oe(h),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=h.icon.createIcon(this._icon),M=!1;b!==this._icon&&(this._icon&&this._removeIcon(),M=!0,h.title&&(b.title=h.title),b.tagName==="IMG"&&(b.alt=h.alt||"")),yr(b,m),h.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(b,"focus",this._panOnFocus,this);var G=h.icon.createShadow(this._shadow),se=!1;G!==this._shadow&&(this._removeShadow(),se=!0),G&&(yr(G,m),G.alt=""),this._shadow=G,h.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),G&&se&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dn(this._icon,"focus",this._panOnFocus,this),qr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qr(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&Kr(this._icon,h),this._shadow&&Kr(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var m=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(yr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Es)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Es(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&cn(this._icon,h),this._shadow&&cn(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var m=this.options.icon.options,b=m.iconSize?Ne(m.iconSize):Ne(0,0),M=m.iconAnchor?Ne(m.iconAnchor):Ne(0,0);h.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:b.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function za(h,m){return new $s(h,m)}var ii=jn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return S(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ns=ii.extend({options:{fill:!0,radius:10},initialize:function(h,m){S(this,m),this._latlng=oe(h),this._radius=this.options.radius},setLatLng:function(h){var m=this._latlng;return this._latlng=oe(h),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var m=h&&h.radius||this._radius;return ii.prototype.setStyle.call(this,h),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,m=this._radiusY||h,b=this._clickTolerance(),M=[h+b,m+b];this._pxBounds=new ee(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function io(h,m){return new ns(h,m)}var Ws=ns.extend({initialize:function(h,m,b){if(typeof m=="number"&&(m=i({},b,{radius:m})),S(this,m),this._latlng=oe(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new H(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:ii.prototype.setStyle,_project:function(){var h=this._latlng.lng,m=this._latlng.lat,b=this._map,M=b.options.crs;if(M.distance===Oe.distance){var G=Math.PI/180,se=this._mRadius/Oe.R/G,Me=b.project([m+se,h]),We=b.project([m-se,h]),tt=Me.add(We).divideBy(2),pt=b.unproject(tt).lat,kt=Math.acos((Math.cos(se*G)-Math.sin(m*G)*Math.sin(pt*G))/(Math.cos(m*G)*Math.cos(pt*G)))/G;(isNaN(kt)||kt===0)&&(kt=se/Math.cos(Math.PI/180*m)),this._point=tt.subtract(b.getPixelOrigin()),this._radius=isNaN(kt)?0:tt.x-b.project([pt,h-kt]).x,this._radiusY=tt.y-Me.y}else{var tr=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(tr).x}this._updateBounds()}});function ou(h,m,b){return new Ws(h,m,b)}var Ga=ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,m){S(this,m),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var m=1/0,b=null,M=Ro,G,se,Me=0,We=this._parts.length;Me<We;Me++)for(var tt=this._parts[Me],pt=1,kt=tt.length;pt<kt;pt++){G=tt[pt-1],se=tt[pt];var tr=M(h,G,se,!0);tr<m&&(m=tr,b=M(h,G,se))}return b&&(b.distance=Math.sqrt(m)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ss(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,m){return m=m||this._defaultShape(),h=oe(h),m.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new H,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return ra(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var m=[],b=ra(h),M=0,G=h.length;M<G;M++)b?(m[M]=oe(h[M]),this._bounds.extend(m[M])):m[M]=this._convertLatLngs(h[M]);return m},_project:function(){var h=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),m=new _e(h,h);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(h,m,b){var M=h[0]instanceof Z,G=h.length,se,Me;if(M){for(Me=[],se=0;se<G;se++)Me[se]=this._map.latLngToLayerPoint(h[se]),b.extend(Me[se]);m.push(Me)}else for(se=0;se<G;se++)this._projectLatlngs(h[se],m,b)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,b,M,G,se,Me,We,tt;for(b=0,G=0,se=this._rings.length;b<se;b++)for(tt=this._rings[b],M=0,Me=tt.length;M<Me-1;M++)We=Ii(tt[M],tt[M+1],h,M,!0),We&&(m[G]=m[G]||[],m[G].push(We[0]),(We[1]!==tt[M+1]||M===Me-2)&&(m[G].push(We[1]),G++))}},_simplifyPoints:function(){for(var h=this._parts,m=this.options.smoothFactor,b=0,M=h.length;b<M;b++)h[b]=kr(h[b],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,m){var b,M,G,se,Me,We,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(b=0,se=this._parts.length;b<se;b++)for(We=this._parts[b],M=0,Me=We.length,G=Me-1;M<Me;G=M++)if(!(!m&&M===0)&&Xr(h,We[G],We[M])<=tt)return!0;return!1}});function hi(h,m){return new Ga(h,m)}Ga._flat=qs;var Io=Ga.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $t(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var m=Ga.prototype._convertLatLngs.call(this,h),b=m.length;return b>=2&&m[0]instanceof Z&&m[0].equals(m[b-1])&&m.pop(),m},_setLatLngs:function(h){Ga.prototype._setLatLngs.call(this,h),ra(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ra(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,m=this.options.weight,b=new _e(m,m);if(h=new ee(h.min.subtract(b),h.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,G=this._rings.length,se;M<G;M++)se=St(this._rings[M],h,!0),se.length&&this._parts.push(se)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var m=!1,b,M,G,se,Me,We,tt,pt;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(se=0,tt=this._parts.length;se<tt;se++)for(b=this._parts[se],Me=0,pt=b.length,We=pt-1;Me<pt;We=Me++)M=b[Me],G=b[We],M.y>h.y!=G.y>h.y&&h.x<(G.x-M.x)*(h.y-M.y)/(G.y-M.y)+M.x&&(m=!m);return m||Ga.prototype._containsPoint.call(this,h,!0)}});function ao(h,m){return new Io(h,m)}var Fi=ts.extend({initialize:function(h,m){S(this,m),this._layers={},h&&this.addData(h)},addData:function(h){var m=R(h)?h:h.features,b,M,G;if(m){for(b=0,M=m.length;b<M;b++)G=m[b],(G.geometries||G.geometry||G.features||G.coordinates)&&this.addData(G);return this}var se=this.options;if(se.filter&&!se.filter(h))return this;var Me=xi(h,se);return Me?(Me.feature=oo(h),Me.defaultOptions=Me.options,this.resetStyle(Me),se.onEachFeature&&se.onEachFeature(h,Me),this.addLayer(Me)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(m){this._setLayerStyle(m,h)},this)},_setLayerStyle:function(h,m){h.setStyle&&(typeof m=="function"&&(m=m(h.feature)),h.setStyle(m))}});function xi(h,m){var b=h.type==="Feature"?h.geometry:h,M=b?b.coordinates:null,G=[],se=m&&m.pointToLayer,Me=m&&m.coordsToLatLng||ol,We,tt,pt,kt;if(!M&&!b)return null;switch(b.type){case"Point":return We=Me(M),so(se,h,We,m);case"MultiPoint":for(pt=0,kt=M.length;pt<kt;pt++)We=Me(M[pt]),G.push(so(se,h,We,m));return new ts(G);case"LineString":case"MultiLineString":return tt=Fo(M,b.type==="LineString"?0:1,Me),new Ga(tt,m);case"Polygon":case"MultiPolygon":return tt=Fo(M,b.type==="Polygon"?1:2,Me),new Io(tt,m);case"GeometryCollection":for(pt=0,kt=b.geometries.length;pt<kt;pt++){var tr=xi({geometry:b.geometries[pt],type:"Feature",properties:h.properties},m);tr&&G.push(tr)}return new ts(G);case"FeatureCollection":for(pt=0,kt=b.features.length;pt<kt;pt++){var Ur=xi(b.features[pt],m);Ur&&G.push(Ur)}return new ts(G);default:throw new Error("Invalid GeoJSON object.")}}function so(h,m,b,M){return h?h(m,b):new $s(b,M&&M.markersInheritOptions&&M)}function ol(h){return new Z(h[1],h[0],h[2])}function Fo(h,m,b){for(var M=[],G=0,se=h.length,Me;G<se;G++)Me=m?Fo(h[G],m-1,b):(b||ol)(h[G]),M.push(Me);return M}function Zs(h,m){return h=oe(h),h.alt!==void 0?[y(h.lng,m),y(h.lat,m),y(h.alt,m)]:[y(h.lng,m),y(h.lat,m)]}function Ts(h,m,b,M){for(var G=[],se=0,Me=h.length;se<Me;se++)G.push(m?Ts(h[se],ra(h[se])?0:m-1,b,M):Zs(h[se],M));return!m&&b&&G.length>0&&G.push(G[0].slice()),G}function Na(h,m){return h.feature?i({},h.feature,{geometry:m}):oo(m)}function oo(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var Ca={toGeoJSON:function(h){return Na(this,{type:"Point",coordinates:Zs(this.getLatLng(),h)})}};$s.include(Ca),Ws.include(Ca),ns.include(Ca),Ga.include({toGeoJSON:function(h){var m=!ra(this._latlngs),b=Ts(this._latlngs,m?1:0,!1,h);return Na(this,{type:(m?"Multi":"")+"LineString",coordinates:b})}}),Io.include({toGeoJSON:function(h){var m=!ra(this._latlngs),b=m&&!ra(this._latlngs[0]),M=Ts(this._latlngs,b?2:m?1:0,!0,h);return m||(M=[M]),Na(this,{type:(b?"Multi":"")+"Polygon",coordinates:M})}}),Ua.include({toMultiPoint:function(h){var m=[];return this.eachLayer(function(b){m.push(b.toGeoJSON(h).geometry.coordinates)}),Na(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(h){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(h);var b=m==="GeometryCollection",M=[];return this.eachLayer(function(G){if(G.toGeoJSON){var se=G.toGeoJSON(h);if(b)M.push(se.geometry);else{var Me=oo(se);Me.type==="FeatureCollection"?M.push.apply(M,Me.features):M.push(Me)}}}),b?Na(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function lo(h,m){return new Fi(h,m)}var pa=lo,Ma=jn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,m,b){this._url=h,this._bounds=q(m),S(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&ar(this._image),this},bringToBack:function(){return this._map&&Sa(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=q(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",m=this._image=h?this._url:Ut("img");if(yr(m,"leaflet-image-layer"),this._zoomAnimated&&yr(m,"leaflet-zoom-animated"),this.options.className&&yr(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onload=s(this.fire,this,"load"),m.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(h){var m=this._map.getZoomScale(h.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;Us(this._image,b,m)},_reset:function(){var h=this._image,m=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=m.getSize();Kr(h,m.min),h.style.width=b.x+"px",h.style.height=b.y+"px"},_updateOpacity:function(){cn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),hn=function(h,m,b){return new Ma(h,m,b)},Jr=Ma.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",m=this._image=h?this._url:Ut("video");if(yr(m,"leaflet-image-layer"),this._zoomAnimated&&yr(m,"leaflet-zoom-animated"),this.options.className&&yr(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onloadeddata=s(this.fire,this,"load"),h){for(var b=m.getElementsByTagName("source"),M=[],G=0;G<b.length;G++)M.push(b[G].src);this._url=b.length>0?M:[m.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var se=0;se<this._url.length;se++){var Me=Ut("source");Me.src=this._url[se],m.appendChild(Me)}}});function kn(h,m,b){return new Jr(h,m,b)}var ai=Ma.extend({_initImage:function(){var h=this._image=this._url;yr(h,"leaflet-image-layer"),this._zoomAnimated&&yr(h,"leaflet-zoom-animated"),this.options.className&&yr(h,this.options.className),h.onselectstart=v,h.onmousemove=v}});function uo(h,m,b){return new ai(h,m,b)}var wi=jn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,m){h&&(h instanceof Z||R(h))?(this._latlng=oe(h),S(this,m)):(S(this,h),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&cn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&cn(this._container,1),this.bringToFront(),this.options.interactive&&(yr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(cn(this._container,0),this._removeTimeout=setTimeout(s(qr,void 0,this._container),200)):qr(this._container),this.options.interactive&&(Dn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=oe(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ar(this._container),this},bringToBack:function(){return this._map&&Sa(this._container),this},_prepareOpen:function(h){var m=this._source;if(!m._map)return!1;if(m instanceof ts){m=null;var b=this._source._layers;for(var M in b)if(b[M]._map){m=b[M];break}if(!m)return!1;this._source=m}if(!h)if(m.getCenter)h=m.getCenter();else if(m.getLatLng)h=m.getLatLng();else if(m.getBounds)h=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")h.innerHTML=m;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),m=Ne(this.options.offset),b=this._getAnchor();this._zoomAnimated?Kr(this._container,h.add(b)):m=m.add(h).add(b);var M=this._containerBottom=-m.y,G=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=M+"px",this._container.style.left=G+"px"}},_getAnchor:function(){return[0,0]}});Br.include({_initOverlay:function(h,m,b,M){var G=m;return G instanceof h||(G=new h(M).setContent(m)),b&&G.setLatLng(b),G}}),jn.include({_initOverlay:function(h,m,b,M){var G=b;return G instanceof h?(S(G,M),G._source=this):(G=m&&!M?m:new h(M,this),G.setContent(b)),G}});var co=wi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,wi.prototype.openOn.call(this,h)},onAdd:function(h){wi.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ii||this._source.on("preclick",Ja))},onRemove:function(h){wi.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ii||this._source.off("preclick",Ja))},getEvents:function(){var h=wi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",m=this._container=Ut("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=Ut("div",h+"-content-wrapper",m);if(this._contentNode=Ut("div",h+"-content",b),Gs(m),La(this._contentNode),Ct(m,"contextmenu",Ja),this._tipContainer=Ut("div",h+"-tip-container",m),this._tip=Ut("div",h+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=Ut("a",h+"-close-button",m);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',Ct(M,"click",function(G){Mn(G),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,m=h.style;m.width="",m.whiteSpace="nowrap";var b=h.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),m.width=b+1+"px",m.whiteSpace="",m.height="";var M=h.offsetHeight,G=this.options.maxHeight,se="leaflet-popup-scrolled";G&&M>G?(m.height=G+"px",yr(h,se)):Dn(h,se),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var m=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),b=this._getAnchor();Kr(this._container,m.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,m=parseInt(Ar(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+m,M=this._containerWidth,G=new _e(this._containerLeft,-b-this._containerBottom);G._add(zs(this._container));var se=h.layerPointToContainerPoint(G),Me=Ne(this.options.autoPanPadding),We=Ne(this.options.autoPanPaddingTopLeft||Me),tt=Ne(this.options.autoPanPaddingBottomRight||Me),pt=h.getSize(),kt=0,tr=0;se.x+M+tt.x>pt.x&&(kt=se.x+M-pt.x+tt.x),se.x-kt-We.x<0&&(kt=se.x-We.x),se.y+b+tt.y>pt.y&&(tr=se.y+b-pt.y+tt.y),se.y-tr-We.y<0&&(tr=se.y-We.y),(kt||tr)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([kt,tr]))}},_getAnchor:function(){return Ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Uu=function(h,m){return new co(h,m)};Br.mergeOptions({closePopupOnClick:!0}),Br.include({openPopup:function(h,m,b){return this._initOverlay(co,h,m,b).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),jn.include({bindPopup:function(h,m){return this._popup=this._initOverlay(co,this._popup,h,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof ts||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){to(h);var m=h.layer||h.target;if(this._popup._source===m&&!(m instanceof ii)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=m,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var lu=wi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){wi.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){wi.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=wi.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",m=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ut("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var m,b,M=this._map,G=this._container,se=M.latLngToContainerPoint(M.getCenter()),Me=M.layerPointToContainerPoint(h),We=this.options.direction,tt=G.offsetWidth,pt=G.offsetHeight,kt=Ne(this.options.offset),tr=this._getAnchor();We==="top"?(m=tt/2,b=pt):We==="bottom"?(m=tt/2,b=0):We==="center"?(m=tt/2,b=pt/2):We==="right"?(m=0,b=pt/2):We==="left"?(m=tt,b=pt/2):Me.x<se.x?(We="right",m=0,b=pt/2):(We="left",m=tt+(kt.x+tr.x)*2,b=pt/2),h=h.subtract(Ne(m,b,!0)).add(kt).add(tr),Dn(G,"leaflet-tooltip-right"),Dn(G,"leaflet-tooltip-left"),Dn(G,"leaflet-tooltip-top"),Dn(G,"leaflet-tooltip-bottom"),yr(G,"leaflet-tooltip-"+We),Kr(G,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&cn(this._container,h)},_animateZoom:function(h){var m=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(m)},_getAnchor:function(){return Ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qh=function(h,m){return new lu(h,m)};Br.include({openTooltip:function(h,m,b){return this._initOverlay(lu,h,m,b).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),jn.include({bindTooltip:function(h,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lu,this._tooltip,h,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var m=h?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[m](b),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof ts||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var m=typeof h.getElement=="function"&&h.getElement();m&&(Ct(m,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Ct(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var m=typeof h.getElement=="function"&&h.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var m=h.latlng,b,M;this._tooltip.options.sticky&&h.originalEvent&&(b=this._map.mouseEventToContainerPoint(h.originalEvent),M=this._map.containerPointToLayerPoint(b),m=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(m)}});var ch=da.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var m=h&&h.tagName==="DIV"?h:document.createElement("div"),b=this.options;if(b.html instanceof Element?(ri(m),m.appendChild(b.html)):m.innerHTML=b.html!==!1?b.html:"",b.bgPos){var M=Ne(b.bgPos);m.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function ef(h){return new ch(h)}da.Default=jo;var Pl=jn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ye.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){S(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),qr(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ar(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Sa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof _e?h:new _e(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var m=this.getPane().children,b=-h(-1/0,1/0),M=0,G=m.length,se;M<G;M++)se=m[M].style.zIndex,m[M]!==this._container&&se&&(b=h(b,+se));isFinite(b)&&(this.options.zIndex=b+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ye.ielt9){cn(this._container,this.options.opacity);var h=+new Date,m=!1,b=!1;for(var M in this._tiles){var G=this._tiles[M];if(!(!G.current||!G.loaded)){var se=Math.min(1,(h-G.loaded)/200);cn(G.el,se),se<1?m=!0:(G.active?b=!0:this._onOpaqueTile(G),G.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),m&&(W(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=Ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,m=this.options.maxZoom;if(h!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===h?(this._levels[b].el.style.zIndex=m-Math.abs(h-b),this._onUpdateLevel(b)):(qr(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var M=this._levels[h],G=this._map;return M||(M=this._levels[h]={},M.el=Ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=m,M.origin=G.project(G.unproject(G.getPixelOrigin()),h).round(),M.zoom=h,this._setZoomTransform(M,G.getCenter(),G.getZoom()),v(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var h,m,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)m=this._tiles[h],m.retain=m.current;for(h in this._tiles)if(m=this._tiles[h],m.current&&!m.active){var M=m.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var m in this._tiles)this._tiles[m].coords.z===h&&this._removeTile(m)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)qr(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,m,b,M){var G=Math.floor(h/2),se=Math.floor(m/2),Me=b-1,We=new _e(+G,+se);We.z=+Me;var tt=this._tileCoordsToKey(We),pt=this._tiles[tt];return pt&&pt.active?(pt.retain=!0,!0):(pt&&pt.loaded&&(pt.retain=!0),Me>M?this._retainParent(G,se,Me,M):!1)},_retainChildren:function(h,m,b,M){for(var G=2*h;G<2*h+2;G++)for(var se=2*m;se<2*m+2;se++){var Me=new _e(G,se);Me.z=b+1;var We=this._tileCoordsToKey(Me),tt=this._tiles[We];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);b+1<M&&this._retainChildren(G,se,b+1,M)}},_resetView:function(h){var m=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var m=this.options;return m.minNativeZoom!==void 0&&h<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<h?m.maxNativeZoom:h},_setView:function(h,m,b,M){var G=Math.round(m);this.options.maxZoom!==void 0&&G>this.options.maxZoom||this.options.minZoom!==void 0&&G<this.options.minZoom?G=void 0:G=this._clampZoom(G);var se=this.options.updateWhenZooming&&G!==this._tileZoom;(!M||se)&&(this._tileZoom=G,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),G!==void 0&&this._update(h),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(h,m)},_setZoomTransforms:function(h,m){for(var b in this._levels)this._setZoomTransform(this._levels[b],h,m)},_setZoomTransform:function(h,m,b){var M=this._map.getZoomScale(b,h.zoom),G=h.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(m,b)).round();Ye.any3d?Us(h.el,G,M):Kr(h.el,G)},_resetGrid:function(){var h=this._map,m=h.options.crs,b=this._tileSize=this.getTileSize(),M=this._tileZoom,G=this._map.getPixelWorldBounds(this._tileZoom);G&&(this._globalTileRange=this._pxBoundsToTileRange(G)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,m.wrapLng[0]],M).x/b.x),Math.ceil(h.project([0,m.wrapLng[1]],M).x/b.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([m.wrapLat[0],0],M).y/b.x),Math.ceil(h.project([m.wrapLat[1],0],M).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var m=this._map,b=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),M=m.getZoomScale(b,this._tileZoom),G=m.project(h,this._tileZoom).floor(),se=m.getSize().divideBy(M*2);return new ee(G.subtract(se),G.add(se))},_update:function(h){var m=this._map;if(m){var b=this._clampZoom(m.getZoom());if(h===void 0&&(h=m.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(h),G=this._pxBoundsToTileRange(M),se=G.getCenter(),Me=[],We=this.options.keepBuffer,tt=new ee(G.getBottomLeft().subtract([We,-We]),G.getTopRight().add([We,-We]));if(!(isFinite(G.min.x)&&isFinite(G.min.y)&&isFinite(G.max.x)&&isFinite(G.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var pt in this._tiles){var kt=this._tiles[pt].coords;(kt.z!==this._tileZoom||!tt.contains(new _e(kt.x,kt.y)))&&(this._tiles[pt].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(h,b);return}for(var tr=G.min.y;tr<=G.max.y;tr++)for(var Ur=G.min.x;Ur<=G.max.x;Ur++){var aa=new _e(Ur,tr);if(aa.z=this._tileZoom,!!this._isValidTile(aa)){var fi=this._tiles[this._tileCoordsToKey(aa)];fi?fi.current=!0:Me.push(aa)}}if(Me.sort(function(pn,mn){return pn.distanceTo(se)-mn.distanceTo(se)}),Me.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var os=document.createDocumentFragment();for(Ur=0;Ur<Me.length;Ur++)this._addTile(Me[Ur],os);this._level.el.appendChild(os)}}}},_isValidTile:function(h){var m=this._map.options.crs;if(!m.infinite){var b=this._globalTileRange;if(!m.wrapLng&&(h.x<b.min.x||h.x>b.max.x)||!m.wrapLat&&(h.y<b.min.y||h.y>b.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(h);return q(this.options.bounds).overlaps(M)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var m=this._map,b=this.getTileSize(),M=h.scaleBy(b),G=M.add(b),se=m.unproject(M,h.z),Me=m.unproject(G,h.z);return[se,Me]},_tileCoordsToBounds:function(h){var m=this._tileCoordsToNwSe(h),b=new H(m[0],m[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var m=h.split(":"),b=new _e(+m[0],+m[1]);return b.z=+m[2],b},_removeTile:function(h){var m=this._tiles[h];m&&(qr(m.el),delete this._tiles[h],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){yr(h,"leaflet-tile");var m=this.getTileSize();h.style.width=m.x+"px",h.style.height=m.y+"px",h.onselectstart=v,h.onmousemove=v,Ye.ielt9&&this.options.opacity<1&&cn(h,this.options.opacity)},_addTile:function(h,m){var b=this._getTilePos(h),M=this._tileCoordsToKey(h),G=this.createTile(this._wrapCoords(h),s(this._tileReady,this,h));this._initTile(G),this.createTile.length<2&&I(s(this._tileReady,this,h,null,G)),Kr(G,b),this._tiles[M]={el:G,coords:h,current:!0},m.appendChild(G),this.fire("tileloadstart",{tile:G,coords:h})},_tileReady:function(h,m,b){m&&this.fire("tileerror",{error:m,tile:b,coords:h});var M=this._tileCoordsToKey(h);b=this._tiles[M],b&&(b.loaded=+new Date,this._map._fadeAnimated?(cn(b.el,0),W(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),m||(yr(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ye.ielt9||!this._map._fadeAnimated?I(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var m=new _e(this._wrapX?p(h.x,this._wrapX):h.x,this._wrapY?p(h.y,this._wrapY):h.y);return m.z=h.z,m},_pxBoundsToTileRange:function(h){var m=this.getTileSize();return new ee(h.min.unscaleBy(m).floor(),h.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function hh(h){return new Pl(h)}var As=Pl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,m){this._url=h,m=S(this,m),m.detectRetina&&Ye.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,m){return this._url===h&&m===void 0&&(m=!0),this._url=h,m||this.redraw(),this},createTile:function(h,m){var b=document.createElement("img");return Ct(b,"load",s(this._tileOnLoad,this,m,b)),Ct(b,"error",s(this._tileOnError,this,m,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(h),b},getTileUrl:function(h){var m={r:Ye.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-h.y;this.options.tms&&(m.y=b),m["-y"]=b}return j(this._url,i(m,this.options))},_tileOnLoad:function(h,m){Ye.ielt9?setTimeout(s(h,this,null,m),0):h(null,m)},_tileOnError:function(h,m,b){var M=this.options.errorTileUrl;M&&m.getAttribute("src")!==M&&(m.src=M),h(b,m)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,m=this.options.maxZoom,b=this.options.zoomReverse,M=this.options.zoomOffset;return b&&(h=m-h),h+M},_getSubdomain:function(h){var m=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var h,m;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(m=this._tiles[h].el,m.onload=v,m.onerror=v,!m.complete)){m.src=J;var b=this._tiles[h].coords;qr(m),delete this._tiles[h],this.fire("tileabort",{tile:m,coords:b})}},_removeTile:function(h){var m=this._tiles[h];if(m)return m.el.setAttribute("src",J),Pl.prototype._removeTile.call(this,h)},_tileReady:function(h,m,b){if(!(!this._map||b&&b.getAttribute("src")===J))return Pl.prototype._tileReady.call(this,h,m,b)}});function is(h,m){return new As(h,m)}var uu=As.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,m){this._url=h;var b=i({},this.defaultWmsParams);for(var M in m)M in this.options||(b[M]=m[M]);m=S(this,m);var G=m.detectRetina&&Ye.retina?2:1,se=this.getTileSize();b.width=se.x*G,b.height=se.y*G,this.wmsParams=b},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,As.prototype.onAdd.call(this,h)},getTileUrl:function(h){var m=this._tileCoordsToNwSe(h),b=this._crs,M=P(b.project(m[0]),b.project(m[1])),G=M.min,se=M.max,Me=(this._wmsVersion>=1.3&&this._crs===kl?[G.y,G.x,se.y,se.x]:[G.x,G.y,se.x,se.y]).join(","),We=As.prototype.getTileUrl.call(this,h);return We+C(this.wmsParams,We,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Me},setParams:function(h,m){return i(this.wmsParams,h),m||this.redraw(),this}});function as(h,m){return new uu(h,m)}As.WMS=uu,is.wms=as;var ka=jn.extend({options:{padding:.1},initialize:function(h){S(this,h),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,m){var b=this._map.getZoomScale(m,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),G=this._map.project(this._center,m),se=M.multiplyBy(-b).add(G).subtract(this._map._getNewPixelOrigin(h,m));Ye.any3d?Us(this._container,se,b):Kr(this._container,se)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,m=this._map.getSize(),b=this._map.containerPointToLayerPoint(m.multiplyBy(-h)).round();this._bounds=new ee(b,b.add(m.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zu=ka.extend({options:{tolerance:0},getEvents:function(){var h=ka.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ka.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Ct(h,"mousemove",this._onMouseMove,this),Ct(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ct(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,qr(this._container),dn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var m in this._layers)h=this._layers[m],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ka.prototype._update.call(this);var h=this._bounds,m=this._container,b=h.getSize(),M=Ye.retina?2:1;Kr(m,h.min),m.width=M*b.x,m.height=M*b.y,m.style.width=b.x+"px",m.style.height=b.y+"px",Ye.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){ka.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[c(h)]=h;var m=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var m=h._order,b=m.next,M=m.prev;b?b.prev=M:this._drawLast=M,M?M.next=b:this._drawFirst=b,delete h._order,delete this._layers[c(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var m=h.options.dashArray.split(/[, ]+/),b=[],M,G;for(G=0;G<m.length;G++){if(M=Number(m[G]),isNaN(M))return;b.push(M)}h.options._dashArray=b}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||I(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var m=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(h._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(h._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var m=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,m=this._redrawBounds;if(this._ctx.save(),m){var b=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)h=M.layer,(!m||h._pxBounds&&h._pxBounds.intersects(m))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,m){if(this._drawing){var b,M,G,se,Me=h._parts,We=Me.length,tt=this._ctx;if(We){for(tt.beginPath(),b=0;b<We;b++){for(M=0,G=Me[b].length;M<G;M++)se=Me[b][M],tt[M?"lineTo":"moveTo"](se.x,se.y);m&&tt.closePath()}this._fillStroke(tt,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var m=h._point,b=this._ctx,M=Math.max(Math.round(h._radius),1),G=(Math.max(Math.round(h._radiusY),1)||M)/M;G!==1&&(b.save(),b.scale(1,G)),b.beginPath(),b.arc(m.x,m.y/G,M,0,Math.PI*2,!1),G!==1&&b.restore(),this._fillStroke(b,h)}},_fillStroke:function(h,m){var b=m.options;b.fill&&(h.globalAlpha=b.fillOpacity,h.fillStyle=b.fillColor||b.color,h.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(h.setLineDash&&h.setLineDash(m.options&&m.options._dashArray||[]),h.globalAlpha=b.opacity,h.lineWidth=b.weight,h.strokeStyle=b.color,h.lineCap=b.lineCap,h.lineJoin=b.lineJoin,h.stroke())},_onClick:function(h){for(var m=this._map.mouseEventToLayerPoint(h),b,M,G=this._drawFirst;G;G=G.next)b=G.layer,b.options.interactive&&b._containsPoint(m)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(b))&&(M=b);this._fireEvent(M?[M]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,m)}},_handleMouseOut:function(h){var m=this._hoveredLayer;m&&(Dn(this._container,"leaflet-interactive"),this._fireEvent([m],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,m){if(!this._mouseHoverThrottled){for(var b,M,G=this._drawFirst;G;G=G.next)b=G.layer,b.options.interactive&&b._containsPoint(m)&&(M=b);M!==this._hoveredLayer&&(this._handleMouseOut(h),M&&(yr(this._container,"leaflet-interactive"),this._fireEvent([M],h,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,m,b){this._map._fireDOMEvent(m,b||m.type,h)},_bringToFront:function(h){var m=h._order;if(m){var b=m.next,M=m.prev;if(b)b.prev=M;else return;M?M.next=b:b&&(this._drawFirst=b),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(h)}},_bringToBack:function(h){var m=h._order;if(m){var b=m.next,M=m.prev;if(M)M.next=b;else return;b?b.prev=M:M&&(this._drawLast=M),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(h)}}});function cu(h){return Ye.canvas?new zu(h):null}var Bo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),wc={_initContainer:function(){this._container=Ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ka.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var m=h._container=Bo("shape");yr(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",h._path=Bo("path"),m.appendChild(h._path),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){var m=h._container;this._container.appendChild(m),h.options.interactive&&h.addInteractiveTarget(m)},_removePath:function(h){var m=h._container;qr(m),h.removeInteractiveTarget(m),delete this._layers[c(h)]},_updateStyle:function(h){var m=h._stroke,b=h._fill,M=h.options,G=h._container;G.stroked=!!M.stroke,G.filled=!!M.fill,M.stroke?(m||(m=h._stroke=Bo("stroke")),G.appendChild(m),m.weight=M.weight+"px",m.color=M.color,m.opacity=M.opacity,M.dashArray?m.dashStyle=R(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=M.lineCap.replace("butt","flat"),m.joinstyle=M.lineJoin):m&&(G.removeChild(m),h._stroke=null),M.fill?(b||(b=h._fill=Bo("fill")),G.appendChild(b),b.color=M.fillColor||M.color,b.opacity=M.fillOpacity):b&&(G.removeChild(b),h._fill=null)},_updateCircle:function(h){var m=h._point.round(),b=Math.round(h._radius),M=Math.round(h._radiusY||b);this._setPath(h,h._empty()?"M0 0":"AL "+m.x+","+m.y+" "+b+","+M+" 0,"+65535*360)},_setPath:function(h,m){h._path.v=m},_bringToFront:function(h){ar(h._container)},_bringToBack:function(h){Sa(h._container)}},Ls=Ye.vml?Bo:we,Uo=ka.extend({_initContainer:function(){this._container=Ls("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ls("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qr(this._container),dn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ka.prototype._update.call(this);var h=this._bounds,m=h.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,b.setAttribute("width",m.x),b.setAttribute("height",m.y)),Kr(b,h.min),b.setAttribute("viewBox",[h.min.x,h.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(h){var m=h._path=Ls("path");h.options.className&&yr(m,h.options.className),h.options.interactive&&yr(m,"leaflet-interactive"),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){qr(h._path),h.removeInteractiveTarget(h._path),delete this._layers[c(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var m=h._path,b=h.options;m&&(b.stroke?(m.setAttribute("stroke",b.color),m.setAttribute("stroke-opacity",b.opacity),m.setAttribute("stroke-width",b.weight),m.setAttribute("stroke-linecap",b.lineCap),m.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?m.setAttribute("stroke-dasharray",b.dashArray):m.removeAttribute("stroke-dasharray"),b.dashOffset?m.setAttribute("stroke-dashoffset",b.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),b.fill?(m.setAttribute("fill",b.fillColor||b.color),m.setAttribute("fill-opacity",b.fillOpacity),m.setAttribute("fill-rule",b.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(h,m){this._setPath(h,yt(h._parts,m))},_updateCircle:function(h){var m=h._point,b=Math.max(Math.round(h._radius),1),M=Math.max(Math.round(h._radiusY),1)||b,G="a"+b+","+M+" 0 1,0 ",se=h._empty()?"M0 0":"M"+(m.x-b)+","+m.y+G+b*2+",0 "+G+-b*2+",0 ";this._setPath(h,se)},_setPath:function(h,m){h._path.setAttribute("d",m)},_bringToFront:function(h){ar(h._path)},_bringToBack:function(h){Sa(h._path)}});Ye.vml&&Uo.include(wc);function na(h){return Ye.svg||Ye.vml?new Uo(h):null}Br.include({getRenderer:function(h){var m=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var m=this._paneRenderers[h];return m===void 0&&(m=this._createRenderer({pane:h}),this._paneRenderers[h]=m),m},_createRenderer:function(h){return this.options.preferCanvas&&cu(h)||na(h)}});var Bi=Io.extend({initialize:function(h,m){Io.prototype.initialize.call(this,this._boundsToLatLngs(h),m)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=q(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function bc(h,m){return new Bi(h,m)}Uo.create=Ls,Uo.pointsToPath=yt,Fi.geometryToLayer=xi,Fi.coordsToLatLng=ol,Fi.coordsToLatLngs=Fo,Fi.latLngToCoords=Zs,Fi.latLngsToCoords=Ts,Fi.getFeature=Na,Fi.asFeature=oo,Br.mergeOptions({boxZoom:!0});var ia=Se.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),No(),nu(),this._startPoint=this._map.mouseEventToContainerPoint(h),Ct(document,{contextmenu:to,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Ut("div","leaflet-zoom-box",this._container),yr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var m=new ee(this._point,this._startPoint),b=m.getSize();Kr(this._box,m.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(qr(this._box),Dn(this._container,"leaflet-crosshair")),Ta(),Al(),dn(document,{contextmenu:to,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var m=new H(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Br.addInitHook("addHandler","boxZoom",ia),Br.mergeOptions({doubleClickZoom:!0});var Gu=Se.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var m=this._map,b=m.getZoom(),M=m.options.zoomDelta,G=h.originalEvent.shiftKey?b-M:b+M;m.options.doubleClickZoom==="center"?m.setZoom(G):m.setZoomAround(h.containerPoint,G)}});Br.addInitHook("addHandler","doubleClickZoom",Gu),Br.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ss=Se.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new at(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}yr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Dn(this._map._container,"leaflet-grab"),Dn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=q(this._map.options.maxBounds);this._offsetLimit=P(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var m=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(m),this._prunePositions(m)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,m){return h-(h-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;h.x<m.min.x&&(h.x=this._viscousLimit(h.x,m.min.x)),h.y<m.min.y&&(h.y=this._viscousLimit(h.y,m.min.y)),h.x>m.max.x&&(h.x=this._viscousLimit(h.x,m.max.x)),h.y>m.max.y&&(h.y=this._viscousLimit(h.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,m=Math.round(h/2),b=this._initialWorldOffset,M=this._draggable._newPos.x,G=(M-m+b)%h+m-b,se=(M+m+b)%h-m-b,Me=Math.abs(G+b)<Math.abs(se+b)?G:se;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Me},_onDragEnd:function(h){var m=this._map,b=m.options,M=!b.inertia||h.noInertia||this._times.length<2;if(m.fire("dragend",h),M)m.fire("moveend");else{this._prunePositions(+new Date);var G=this._lastPos.subtract(this._positions[0]),se=(this._lastTime-this._times[0])/1e3,Me=b.easeLinearity,We=G.multiplyBy(Me/se),tt=We.distanceTo([0,0]),pt=Math.min(b.inertiaMaxSpeed,tt),kt=We.multiplyBy(pt/tt),tr=pt/(b.inertiaDeceleration*Me),Ur=kt.multiplyBy(-tr/2).round();!Ur.x&&!Ur.y?m.fire("moveend"):(Ur=m._limitOffset(Ur,m.options.maxBounds),I(function(){m.panBy(Ur,{duration:tr,easeLinearity:Me,noMoveStart:!0,animate:!0})}))}}});Br.addInitHook("addHandler","dragging",ss),Br.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hu=Se.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Ct(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,m=document.documentElement,b=h.scrollTop||m.scrollTop,M=h.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(M,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var m=this._panKeys={},b=this.keyCodes,M,G;for(M=0,G=b.left.length;M<G;M++)m[b.left[M]]=[-1*h,0];for(M=0,G=b.right.length;M<G;M++)m[b.right[M]]=[h,0];for(M=0,G=b.down.length;M<G;M++)m[b.down[M]]=[0,h];for(M=0,G=b.up.length;M<G;M++)m[b.up[M]]=[0,-1*h]},_setZoomDelta:function(h){var m=this._zoomKeys={},b=this.keyCodes,M,G;for(M=0,G=b.zoomIn.length;M<G;M++)m[b.zoomIn[M]]=h;for(M=0,G=b.zoomOut.length;M<G;M++)m[b.zoomOut[M]]=-h},_addHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var m=h.keyCode,b=this._map,M;if(m in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(M=this._panKeys[m],h.shiftKey&&(M=Ne(M).multiplyBy(3)),b.options.maxBounds&&(M=b._limitOffset(Ne(M),b.options.maxBounds)),b.options.worldCopyJump){var G=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(M)));b.panTo(G)}else b.panBy(M)}else if(m in this._zoomKeys)b.setZoom(b.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;to(h)}}});Br.addInitHook("addHandler","keyboard",hu),Br.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ol=Se.extend({addHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var m=ki(h),b=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var M=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),M),to(h)},_performZoom:function(){var h=this._map,m=h.getZoom(),b=this._map.options.zoomSnap||0;h._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),G=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,se=b?Math.ceil(G/b)*b:G,Me=h._limitZoom(m+(this._delta>0?se:-se))-m;this._delta=0,this._startTime=null,Me&&(h.options.scrollWheelZoom==="center"?h.setZoom(m+Me):h.setZoomAround(this._lastMousePos,m+Me))}});Br.addInitHook("addHandler","scrollWheelZoom",Ol);var ll=600;Br.mergeOptions({tapHold:Ye.touchNative&&Ye.safari&&Ye.mobile,tapTolerance:15});var fu=Se.extend({addHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var m=h.touches[0];this._startPos=this._newPos=new _e(m.clientX,m.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(Ct(document,"touchend",Mn),Ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),ll),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){dn(document,"touchend",Mn),dn(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),dn(document,"touchend touchcancel contextmenu",this._cancel,this),dn(document,"touchmove",this._onMove,this)},_onMove:function(h){var m=h.touches[0];this._newPos=new _e(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,m){var b=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});b._simulated=!0,m.target.dispatchEvent(b)}});Br.addInitHook("addHandler","tapHold",fu),Br.mergeOptions({touchZoom:Ye.touch,bounceAtZoomLimits:!0});var Hu=Se.extend({addHooks:function(){yr(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Dn(this._map._container,"leaflet-touch-zoom"),dn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var m=this._map;if(!(!h.touches||h.touches.length!==2||m._animatingZoom||this._zooming)){var b=m.mouseEventToContainerPoint(h.touches[0]),M=m.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(b.add(M)._divideBy(2))),this._startDist=b.distanceTo(M),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),Mn(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var m=this._map,b=m.mouseEventToContainerPoint(h.touches[0]),M=m.mouseEventToContainerPoint(h.touches[1]),G=b.distanceTo(M)/this._startDist;if(this._zoom=m.getScaleZoom(G,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&G<1||this._zoom>m.getMaxZoom()&&G>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,G===1)return}else{var se=b._add(M)._divideBy(2)._subtract(this._centerPoint);if(G===1&&se.x===0&&se.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(se),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var Me=s(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=I(Me,this,!0),Mn(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),dn(document,"touchmove",this._onTouchMove,this),dn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Br.addInitHook("addHandler","touchZoom",Hu),Br.BoxZoom=ia,Br.DoubleClickZoom=Gu,Br.Drag=ss,Br.Keyboard=hu,Br.ScrollWheelZoom=Ol,Br.TapHold=fu,Br.TouchZoom=Hu,r.Bounds=ee,r.Browser=Ye,r.CRS=Ae,r.Canvas=zu,r.Circle=Ws,r.CircleMarker=ns,r.Class=pe,r.Control=Pi,r.DivIcon=ch,r.DivOverlay=wi,r.DomEvent=ws,r.DomUtil=nl,r.Draggable=at,r.Evented=be,r.FeatureGroup=ts,r.GeoJSON=Fi,r.GridLayer=Pl,r.Handler=Se,r.Icon=da,r.ImageOverlay=Ma,r.LatLng=Z,r.LatLngBounds=H,r.Layer=jn,r.LayerGroup=Ua,r.LineUtil=Ml,r.Map=Br,r.Marker=$s,r.Mixin=De,r.Path=ii,r.Point=_e,r.PolyUtil=br,r.Polygon=Io,r.Polyline=Ga,r.Popup=co,r.PosAnimation=ro,r.Projection=al,r.Rectangle=Bi,r.Renderer=ka,r.SVG=Uo,r.SVGOverlay=ai,r.TileLayer=As,r.Tooltip=lu,r.Transformation=ot,r.Util=ue,r.VideoOverlay=Jr,r.bind=s,r.bounds=P,r.canvas=cu,r.circle=ou,r.circleMarker=io,r.control=es,r.divIcon=ef,r.extend=i,r.featureGroup=rs,r.geoJSON=lo,r.geoJson=pa,r.gridLayer=hh,r.icon=Do,r.imageOverlay=hn,r.latLng=oe,r.latLngBounds=q,r.layerGroup=su,r.map=Cl,r.marker=za,r.point=Ne,r.polygon=ao,r.polyline=hi,r.popup=Uu,r.rectangle=bc,r.setOptions=S,r.stamp=c,r.svg=na,r.svgOverlay=uo,r.tileLayer=is,r.tooltip=Qh,r.transformation=it,r.version=n,r.videoOverlay=kn;var du=window.L;r.noConflict=function(){return window.L=du,this},window.L=r}))})(v0,v0.exports)),v0.exports}var tu=Bz();const Ds=Wg(tu);function Jh(t,e,r){return Object.freeze({instance:t,context:e,container:r})}function g1(t,e){return e==null?function(n,i){const a=de.useRef(void 0);return a.current||(a.current=t(n,i)),a}:function(n,i){const a=de.useRef(void 0);a.current||(a.current=t(n,i));const s=de.useRef(n),{instance:l}=a.current;return de.useEffect(function(){s.current!==n&&(e(l,n,s.current),s.current=n)},[l,n,e]),a}}function D8(t,e){de.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function j8(t){return function(r){const n=Ep(),i=t(Tp(r,n),n);return O8(n.map,r.attribution),xy(i.current,r.eventHandlers),D8(i.current,n),i}}function Uz(t,e){const r=de.useRef(void 0);de.useEffect(function(){if(e.pathOptions!==r.current){const i=e.pathOptions??{};t.instance.setStyle(i),r.current=i}},[t,e])}function zz(t){return function(r){const n=Ep(),i=t(Tp(r,n),n);return xy(i.current,r.eventHandlers),D8(i.current,n),Uz(i.current,r),i}}function Gz(t,e){const r=g1(t,e),n=j8(r);return R8(n)}function Hz(t,e){const r=g1(t),n=Iz(r,e);return Dz(n)}function wy(t,e){const r=g1(t,e),n=zz(r);return R8(n)}function I8(t,e){const r=g1(t,e),n=j8(r);return jz(n)}function F8(t,e,r){const{opacity:n,zIndex:i}=e;n!=null&&n!==r.opacity&&t.setOpacity(n),i!=null&&i!==r.zIndex&&t.setZIndex(i)}function B8(){return Ep().map}const qz=wy(function({center:e,children:r,...n},i){const a=new tu.Circle(e,n);return Jh(a,m1(i,{overlayContainer:a}))},Pz),Vz=wy(function({children:e,...r},n){const i=new tu.FeatureGroup([],r);return Jh(i,m1(n,{layerContainer:i,overlayContainer:i}))}),U8=wy(function({data:e,...r},n){const i=new tu.GeoJSON(e,r);return Jh(i,m1(n,{overlayContainer:i}))},function(e,r,n){r.style!==n.style&&(r.style==null?e.resetStyle():e.setStyle(r.style))});function $z({bounds:t,boundsOptions:e,center:r,children:n,className:i,id:a,placeholder:s,style:l,whenReady:c,zoom:f,...p},v){const[y]=de.useState({className:i,id:a,style:l}),[_,E]=de.useState(null),S=de.useRef(void 0);de.useImperativeHandle(v,()=>_?.map??null,[_]);const C=de.useCallback(j=>{if(j!==null&&!S.current){const R=new tu.Map(j,p);S.current=R,r!=null&&f!=null?R.setView(r,f):t!=null&&R.fitBounds(t,e),c!=null&&R.whenReady(c),E(Rz(R))}},[]);de.useEffect(()=>()=>{_?.map.remove()},[_]);const O=_?Zl.createElement(yy,{value:_},n):s??null;return Zl.createElement("div",{...y,ref:C},O)}const by=de.forwardRef($z),Wz=Gz(function({position:e,...r},n){const i=new tu.Marker(e,r);return Jh(i,m1(n,{overlayContainer:i}))},function(e,r,n){r.position!==n.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),z8=Hz(function(e,r){const n=new tu.Popup(e,r.overlayContainer);return Jh(n,r)},function(e,r,{position:n},i){de.useEffect(function(){const{instance:s}=e;function l(f){f.popup===s&&(s.update(),i(!0))}function c(f){f.popup===s&&i(!1)}return r.map.on({popupopen:l,popupclose:c}),r.overlayContainer==null?(n!=null&&s.setLatLng(n),s.openOn(r.map)):r.overlayContainer.bindPopup(s),function(){r.map.off({popupopen:l,popupclose:c}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(s)}},[e,r,i,n])}),Fg=I8(function({url:e,...r},n){const i=new tu.TileLayer(e,Tp(r,n));return Jh(i,n)},function(e,r,n){F8(e,r,n);const{url:i}=r;i!=null&&i!==n.url&&e.setUrl(i)}),G8=I8(function({eventHandlers:e,params:r={},url:n,...i},a){const s=new tu.TileLayer.WMS(n,{...r,...Tp(i,a)});return Jh(s,a)},function(e,r,n){F8(e,r,n),r.params!=null&&r.params!==n.params&&e.setParams(r.params)});var P2={exports:{}},O2,T3;function Zz(){if(T3)return O2;T3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return O2=t,O2}var R2,A3;function Yz(){if(A3)return R2;A3=1;var t=Zz();function e(){}function r(){}return r.resetWarningCache=e,R2=function(){function n(s,l,c,f,p,v){if(v!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},R2}var L3;function Kz(){return L3||(L3=1,P2.exports=Yz()()),P2.exports}var on=Kz();(function(t,e,r){function n(i,a){for(;(i=i.parentElement)&&!i.classList.contains(a););return i}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(i,a){this._map=i,this._container=i._container,this._overlayPane=i._panes.overlayPane,this._popupPane=i._panes.popupPane,a&&a.shapeOptions&&(a.shapeOptions=L.Util.extend({},this.options.shapeOptions,a.shapeOptions)),L.setOptions(this,a);var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(L.DomUtil.disableTextSelection(),i.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(i){L.setOptions(this,i)},_fireCreatedEvent:function(i){this._map.fire(L.Draw.Event.CREATED,{layer:i,layerType:this.type})},_cancelDrawing:function(i){i.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(i,a){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,a&&a.drawError&&(a.drawError=L.Util.extend({},this.options.drawError,a.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,i,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var i=this._markers.pop(),a=this._poly,s=a.getLatLngs(),l=s.splice(-1,1)[0];this._poly.setLatLngs(s),this._markerGroup.removeLayer(i),a.getLatLngs().length<2&&this._map.removeLayer(a),this._vertexChanged(l,!1)}},addVertex:function(i){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(i))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(i)),this._poly.addLatLng(i),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(i,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var i=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),a=this._poly.newLatLngIntersects(i[i.length-1]);if(!this.options.allowIntersection&&a||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(i){var a=this._map.mouseEventToLayerPoint(i.originalEvent),s=this._map.layerPointToLatLng(a);this._currentLatLng=s,this._updateTooltip(s),this._updateGuide(a),this._mouseMarker.setLatLng(s),L.DomEvent.preventDefault(i.originalEvent)},_vertexChanged:function(i,a){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(i,a),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(i){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(i),this._clickHandled=!0,this._disableNewMarkers();var a=i.originalEvent,s=a.clientX,l=a.clientY;this._startPoint.call(this,s,l)}},_startPoint:function(i,a){this._mouseDownOrigin=L.point(i,a)},_onMouseUp:function(i){var a=i.originalEvent,s=a.clientX,l=a.clientY;this._endPoint.call(this,s,l,i),this._clickHandled=null},_endPoint:function(i,a,s){if(this._mouseDownOrigin){var l=L.point(i,a).distanceTo(this._mouseDownOrigin),c=this._calculateFinishDistance(s.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(s.latlng),this._finishShape()):c<10&&L.Browser.touch?this._finishShape():Math.abs(l)<9*(t.devicePixelRatio||1)&&this.addVertex(s.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(i){var a,s,l=i.originalEvent;!l.touches||!l.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(a=l.touches[0].clientX,s=l.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,a,s),this._endPoint.call(this,a,s,i),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(i){var a;if(this._markers.length>0){var s;if(this.type===L.Draw.Polyline.TYPE)s=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;s=this._markers[0]}var l=this._map.latLngToContainerPoint(s.getLatLng()),c=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),f=this._map.latLngToContainerPoint(c.getLatLng());a=l.distanceTo(f)}else a=1/0;return a},_updateFinishHandler:function(){var i=this._markers.length;i>1&&this._markers[i-1].on("click",this._finishShape,this),i>2&&this._markers[i-2].off("click",this._finishShape,this)},_createMarker:function(i){var a=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(a),a},_updateGuide:function(i){var a=this._markers?this._markers.length:0;a>0&&(i=i||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[a-1].getLatLng()),i))},_updateTooltip:function(i){var a=this._getTooltipText();i&&this._tooltip.updatePosition(i),this._errorShown||this._tooltip.updateContent(a)},_drawGuide:function(i,a){var s,l,c,f=Math.floor(Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2))),p=this.options.guidelineDistance,v=this.options.maxGuideLineLength,y=f>v?f-v:p;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));y<f;y+=this.options.guidelineDistance)s=y/f,l={x:Math.floor(i.x*(1-s)+s*a.x),y:Math.floor(i.y*(1-s)+s*a.y)},c=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),c.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(c,l)},_updateGuideColor:function(i){if(this._guidesContainer)for(var a=0,s=this._guidesContainer.childNodes.length;a<s;a++)this._guidesContainer.childNodes[a].style.backgroundColor=i},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var i,a,s=this.options.showLength;return this._markers.length===0?i={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(a=s?this._getMeasurementString():"",i=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:a}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:a}),i},_updateRunningMeasure:function(i,a){var s,l,c=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(s=c-(a?2:1),l=L.GeometryUtil.isVersion07x()?i.distanceTo(this._markers[s].getLatLng())*(this.options.factor||1):this._map.distance(i,this._markers[s].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=l*(a?1:-1))},_getMeasurementString:function(){var i,a=this._currentLatLng,s=this._markers[this._markers.length-1].getLatLng();return i=L.GeometryUtil.isVersion07x()?s&&a&&a.distanceTo?this._measurementRunningTotal+a.distanceTo(s)*(this.options.factor||1):this._measurementRunningTotal||0:s&&a?this._measurementRunningTotal+this._map.distance(a,s)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(i,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var i=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(i,a){L.Draw.Polyline.prototype.initialize.call(this,i,a),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var i=this._markers.length;i===1&&this._markers[0].on("click",this._finishShape,this),i>2&&(this._markers[i-1].on("dblclick",this._finishShape,this),i>3&&this._markers[i-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var i,a;return this._markers.length===0?i=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(i=L.drawLocal.draw.handlers.polygon.tooltip.cont,a=this._getMeasurementString()):(i=L.drawLocal.draw.handlers.polygon.tooltip.end,a=this._getMeasurementString()),{text:i,subtext:a}},_getMeasurementString:function(){var i=this._area,a="";return i||this.options.showLength?(this.options.showLength&&(a=L.Draw.Polyline.prototype._getMeasurementString.call(this)),i&&(a+="<br>"+L.GeometryUtil.readableArea(i,this.options.metric,this.options.precision)),a):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(i,a){var s;!this.options.allowIntersection&&this.options.showArea&&(s=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(s)),L.Draw.Polyline.prototype._vertexChanged.call(this,i,a)},_cleanUpShape:function(){var i=this._markers.length;i>0&&(this._markers[0].off("click",this._finishShape,this),i>2&&this._markers[i-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(i,a){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,i,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(i){this._isDrawing=!0,this._startLatLng=i.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(i.originalEvent)},_onMouseMove:function(i){var a=i.latlng;this._tooltip.updatePosition(a),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(a))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(i,a){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,a)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(i){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!n(i.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(i){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,i)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,i),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_getTooltipText:function(){var i,a,s,l=L.Draw.SimpleShape.prototype._getTooltipText.call(this),c=this._shape,f=this.options.showArea;return c&&(i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),a=L.GeometryUtil.geodesicArea(i),s=f?L.GeometryUtil.readableArea(a,this.options.metric):""),{text:l.text,subtext:s}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(i,a){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(i){var a=i.latlng;this._tooltip.updatePosition(a),this._mouseMarker.setLatLng(a),this._marker?(a=this._mouseMarker.getLatLng(),this._marker.setLatLng(a)):(this._marker=this._createMarker(a),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(i){return new L.Marker(i,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(i){this._onMouseMove(i),this._onClick()},_fireCreatedEvent:function(){var i=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(i,a){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,a)},_fireCreatedEvent:function(){var i=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)},_createMarker:function(i){return new L.CircleMarker(i,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(i,a){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,a)},_drawShape:function(i){if(L.GeometryUtil.isVersion07x())var a=this._startLatLng.distanceTo(i);else var a=this._map.distance(this._startLatLng,i);this._shape?this._shape.setRadius(a):(this._shape=new L.Circle(this._startLatLng,a,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_onMouseMove:function(i){var a,s=i.latlng,l=this.options.showRadius,c=this.options.metric;if(this._tooltip.updatePosition(s),this._isDrawing){this._drawShape(s),a=this._shape.getRadius().toFixed(1);var f="";l&&(f=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(a,c,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:f})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(i,a){this._marker=i,L.setOptions(this,a)},addHooks:function(){var i=this._marker;i.dragging.enable(),i.on("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},removeHooks:function(){var i=this._marker;i.dragging.disable(),i.off("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},_onDragEnd:function(i){var a=i.target;a.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_toggleMarkerHighlight:function(){var i=this._marker._icon;i&&(i.style.display="none",L.DomUtil.hasClass(i,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,-4)):(L.DomUtil.addClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,4)),i.style.display="")},_offsetMarker:function(i,a){var s=parseInt(i.style.marginTop,10)-a,l=parseInt(i.style.marginLeft,10)-a;i.style.marginTop=s+"px",i.style.marginLeft=l+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(i){this.latlngs=[i._latlngs],i._holes&&(this.latlngs=this.latlngs.concat(i._holes)),this._poly=i,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(i){for(var a=0;a<this._verticesHandlers.length;a++)i(this._verticesHandlers[a])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(i){i.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(i){i.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(i){i.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var i=0;i<this.latlngs.length;i++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[i],this._poly.options.poly))},_updateLatLngs:function(i){this.latlngs=[i.layer._latlngs],i.layer._holes&&(this.latlngs=this.latlngs.concat(i.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(i,a,s){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=i,s&&s.drawError&&(s.drawError=L.Util.extend({},this.options.drawError,s.drawError)),this._latlngs=a,L.setOptions(this,s)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var i=this._poly,a=i._path;i instanceof L.Polygon||(i.options.fill=!1,i.options.editing&&(i.options.editing.fill=!1)),a&&i.options.editing&&i.options.editing.className&&(i.options.original.className&&i.options.original.className.split(" ").forEach(function(s){L.DomUtil.removeClass(a,s)}),i.options.editing.className.split(" ").forEach(function(s){L.DomUtil.addClass(a,s)})),i.setStyle(i.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var i=this._poly,a=i._path;a&&i.options.editing&&i.options.editing.className&&(i.options.editing.className.split(" ").forEach(function(s){L.DomUtil.removeClass(a,s)}),i.options.original.className&&i.options.original.className.split(" ").forEach(function(s){L.DomUtil.addClass(a,s)})),i.setStyle(i.options.original),i._map&&(i._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var i,a,s,l,c=this._defaultShape();for(i=0,s=c.length;i<s;i++)l=this._createMarker(c[i],i),l.on("click",this._onMarkerClick,this),l.on("contextmenu",this._onContextMenu,this),this._markers.push(l);var f,p;for(i=0,a=s-1;i<s;a=i++)(i!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(f=this._markers[a],p=this._markers[i],this._createMiddleMarker(f,p),this._updatePrevNext(f,p))},_createMarker:function(i,a){var s=new L.Marker.Touch(i,{draggable:!0,icon:this.options.icon});return s._origLatLng=i,s._index=a,s.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(s),s},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var i=this._defaultShape(),a=[].splice.apply(i,arguments);return this._poly._convertLatLngs(i,!0),this._poly.redraw(),a},_removeMarker:function(i){var a=i._index;this._markerGroup.removeLayer(i),this._markers.splice(a,1),this._spliceLatLngs(a,1),this._updateIndexes(a,-1),i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(i){var a=i.target,s=this._poly,l=L.LatLngUtil.cloneLatLng(a._origLatLng);if(L.extend(a._origLatLng,a._latlng),s.options.poly){var c=s._map._editTooltip;if(!s.options.poly.allowIntersection&&s.intersects()){L.extend(a._origLatLng,l),a.setLatLng(l);var f=s.options.color;s.setStyle({color:this.options.drawError.color}),c&&c.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){s.setStyle({color:f}),c&&c.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}a._middleLeft&&a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev,a)),a._middleRight&&a._middleRight.setLatLng(this._getMiddleLatLng(a,a._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var p=this._poly.getLatLngs();this._poly._convertLatLngs(p,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(i){var a=L.Polygon&&this._poly instanceof L.Polygon?4:3,s=i.target;this._defaultShape().length<a||(this._removeMarker(s),this._updatePrevNext(s._prev,s._next),s._middleLeft&&this._markerGroup.removeLayer(s._middleLeft),s._middleRight&&this._markerGroup.removeLayer(s._middleRight),s._prev&&s._next?this._createMiddleMarker(s._prev,s._next):s._prev?s._next||(s._prev._middleRight=null):s._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(i){var a=i.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:a,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(i){var a=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),s=this._map.layerPointToLatLng(a),l=i.target;L.extend(l._origLatLng,s),l._middleLeft&&l._middleLeft.setLatLng(this._getMiddleLatLng(l._prev,l)),l._middleRight&&l._middleRight.setLatLng(this._getMiddleLatLng(l,l._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(i,a){this._markerGroup.eachLayer(function(s){s._index>i&&(s._index+=a)})},_createMiddleMarker:function(i,a){var s,l,c,f=this._getMiddleLatLng(i,a),p=this._createMarker(f);p.setOpacity(.6),i._middleRight=a._middleLeft=p,l=function(){p.off("touchmove",l,this);var v=a._index;p._index=v,p.off("click",s,this).on("click",this._onMarkerClick,this),f.lat=p.getLatLng().lat,f.lng=p.getLatLng().lng,this._spliceLatLngs(v,0,f),this._markers.splice(v,0,p),p.setOpacity(1),this._updateIndexes(v,1),a._index++,this._updatePrevNext(i,p),this._updatePrevNext(p,a),this._poly.fire("editstart")},c=function(){p.off("dragstart",l,this),p.off("dragend",c,this),p.off("touchmove",l,this),this._createMiddleMarker(i,p),this._createMiddleMarker(p,a)},s=function(){l.call(this),c.call(this),this._fireEdit()},p.on("click",s,this).on("dragstart",l,this).on("dragend",c,this).on("touchmove",l,this),this._markerGroup.addLayer(p)},_updatePrevNext:function(i,a){i&&(i._next=a),a&&(a._prev=i)},_getMiddleLatLng:function(i,a){var s=this._poly._map,l=s.project(i.getLatLng()),c=s.project(a.getLatLng());return s.unproject(l._add(c)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(i,a){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=i,L.Util.setOptions(this,a)},addHooks:function(){var i=this._shape;this._shape._map&&(this._map=this._shape._map,i.setStyle(i.options.editing),i._map&&(this._map=i._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var i=this._shape;if(i.setStyle(i.options.original),i._map){this._unbindMarker(this._moveMarker);for(var a=0,s=this._resizeMarkers.length;a<s;a++)this._unbindMarker(this._resizeMarkers[a]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(i,a){var s=new L.Marker.Touch(i,{draggable:!0,icon:a,zIndexOffset:10});return this._bindMarker(s),this._markerGroup.addLayer(s),s},_bindMarker:function(i){i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(i){i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(i){i.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(i){var a=i.target,s=a.getLatLng();a===this._moveMarker?this._move(s):this._resize(s),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(i){i.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(i){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i),typeof this._getCorners=="function"){var a=this._getCorners(),s=i.target,l=s._cornerIndex;s.setOpacity(0),this._oppositeCorner=a[(l+2)%4],this._toggleCornerMarkers(0,l)}this._shape.fire("editstart")},_onTouchMove:function(i){var a=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),s=this._map.layerPointToLatLng(a);return i.target===this._moveMarker?this._move(s):this._resize(s),this._shape.redraw(),!1},_onTouchEnd:function(i){i.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getBounds(),a=i.getCenter();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){var i=this._getCorners();this._resizeMarkers=[];for(var a=0,s=i.length;a<s;a++)this._resizeMarkers.push(this._createMarker(i[a],this.options.resizeIcon)),this._resizeMarkers[a]._cornerIndex=a},_onMarkerDragStart:function(i){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i);var a=this._getCorners(),s=i.target,l=s._cornerIndex;this._oppositeCorner=a[(l+2)%4],this._toggleCornerMarkers(0,l)},_onMarkerDragEnd:function(i){var a,s,l=i.target;l===this._moveMarker&&(a=this._shape.getBounds(),s=a.getCenter(),l.setLatLng(s)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,i)},_move:function(i){for(var a,s=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),l=this._shape.getBounds(),c=l.getCenter(),f=[],p=0,v=s.length;p<v;p++)a=[s[p].lat-c.lat,s[p].lng-c.lng],f.push([i.lat+a[0],i.lng+a[1]]);this._shape.setLatLngs(f),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(i){var a;this._shape.setBounds(L.latLngBounds(i,this._oppositeCorner)),a=this._shape.getBounds(),this._moveMarker.setLatLng(a.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var i=this._shape.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_toggleCornerMarkers:function(i){for(var a=0,s=this._resizeMarkers.length;a<s;a++)this._resizeMarkers[a].setOpacity(i)},_repositionCornerMarkers:function(){for(var i=this._getCorners(),a=0,s=this._resizeMarkers.length;a<s;a++)this._resizeMarkers[a].setLatLng(i[a])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getLatLng();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(i){if(this._resizeMarkers.length){var a=this._getResizeMarkerPoint(i);this._resizeMarkers[0].setLatLng(a)}this._shape.setLatLng(i),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var i=this._shape.getLatLng(),a=this._getResizeMarkerPoint(i);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(a,this.options.resizeIcon))},_getResizeMarkerPoint:function(i){var a=this._shape._radius*Math.cos(Math.PI/4),s=this._map.project(i);return this._map.unproject([s.x+a,s.y-a])},_resize:function(i){var a=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=a.distanceTo(i):radius=this._map.distance(a,i),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(i,a){var s={};if(i.touches!==void 0){if(!i.touches.length)return;s=i.touches[0]}else if(i.pointerType!=="touch"||(s=i,!this._filterClick(i)))return;var l=this._map.mouseEventToContainerPoint(s),c=this._map.mouseEventToLayerPoint(s),f=this._map.layerPointToLatLng(c);this._map.fire(a,{latlng:f,layerPoint:c,containerPoint:l,pageX:s.pageX,pageY:s.pageY,originalEvent:i})},_filterClick:function(i){var a=i.timeStamp||i.originalEvent.timeStamp,s=L.DomEvent._lastClick&&a-L.DomEvent._lastClick;return s&&s>100&&s<500||i.target._simulatedClick&&!i._simulated?(L.DomEvent.stop(i),!1):(L.DomEvent._lastClick=a,!0)},_onTouchStart:function(i){this._map._loaded&&this._touchEvent(i,"touchstart")},_onTouchEnd:function(i){this._map._loaded&&this._touchEvent(i,"touchend")},_onTouchCancel:function(i){if(this._map._loaded){var a="touchcancel";this._detectIE()&&(a="pointercancel"),this._touchEvent(i,a)}},_onTouchLeave:function(i){this._map._loaded&&this._touchEvent(i,"touchleave")},_onTouchMove:function(i){this._map._loaded&&this._touchEvent(i,"touchmove")},_detectIE:function(){var i=t.navigator.userAgent,a=i.indexOf("MSIE ");if(a>0)return parseInt(i.substring(a+5,i.indexOf(".",a)),10);if(i.indexOf("Trident/")>0){var s=i.indexOf("rv:");return parseInt(i.substring(s+3,i.indexOf(".",s)),10)}var l=i.indexOf("Edge/");return l>0&&parseInt(i.substring(l+5,i.indexOf(".",l)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var i=this._icon,a=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?a.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):a.concat(["touchcancel"]),L.DomUtil.addClass(i,"leaflet-clickable"),L.DomEvent.on(i,"click",this._onMouseClick,this),L.DomEvent.on(i,"keypress",this._onKeyPress,this);for(var s=0;s<a.length;s++)L.DomEvent.on(i,a[s],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var i=t.navigator.userAgent,a=i.indexOf("MSIE ");if(a>0)return parseInt(i.substring(a+5,i.indexOf(".",a)),10);if(i.indexOf("Trident/")>0){var s=i.indexOf("rv:");return parseInt(i.substring(s+3,i.indexOf(".",s)),10)}var l=i.indexOf("Edge/");return l>0&&parseInt(i.substring(l+5,i.indexOf(".",l)),10)}}),L.LatLngUtil={cloneLatLngs:function(i){for(var a=[],s=0,l=i.length;s<l;s++)Array.isArray(i[s])?a.push(L.LatLngUtil.cloneLatLngs(i[s])):a.push(this.cloneLatLng(i[s]));return a},cloneLatLng:function(i){return L.latLng(i.lat,i.lng)}},(function(){var i={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(a){var s,l,c=a.length,f=0,p=Math.PI/180;if(c>2){for(var v=0;v<c;v++)s=a[v],l=a[(v+1)%c],f+=(l.lng-s.lng)*p*(2+Math.sin(s.lat*p)+Math.sin(l.lat*p));f=6378137*f*6378137/2}return Math.abs(f)},formattedNumber:function(a,s){var l=parseFloat(a).toFixed(s),c=L.drawLocal.format&&L.drawLocal.format.numeric,f=c&&c.delimiters,p=f&&f.thousands,v=f&&f.decimal;if(p||v){var y=l.split(".");l=p?y[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p):y[0],v=v||".",y.length>1&&(l=l+v+y[1])}return l},readableArea:function(a,s,p){var c,f,p=L.Util.extend({},i,p);return s?(f=["ha","m"],type=typeof s,type==="string"?f=[s]:type!=="boolean"&&(f=s),c=a>=1e6&&f.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*a,p.km)+" km":a>=1e4&&f.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*a,p.ha)+" ha":L.GeometryUtil.formattedNumber(a,p.m)+" m"):(a/=.836127,c=a>=3097600?L.GeometryUtil.formattedNumber(a/3097600,p.mi)+" mi":a>=4840?L.GeometryUtil.formattedNumber(a/4840,p.ac)+" acres":L.GeometryUtil.formattedNumber(a,p.yd)+" yd"),c},readableDistance:function(a,s,l,c,v){var p,v=L.Util.extend({},i,v);switch(s?typeof s=="string"?s:"metric":l?"feet":c?"nauticalMile":"yards"){case"metric":p=a>1e3?L.GeometryUtil.formattedNumber(a/1e3,v.km)+" km":L.GeometryUtil.formattedNumber(a,v.m)+" m";break;case"feet":a*=3.28083,p=L.GeometryUtil.formattedNumber(a,v.ft)+" ft";break;case"nauticalMile":a*=.53996,p=L.GeometryUtil.formattedNumber(a/1e3,v.nm)+" nm";break;default:a*=1.09361,p=a>1760?L.GeometryUtil.formattedNumber(a/1760,v.mi)+" miles":L.GeometryUtil.formattedNumber(a,v.yd)+" yd"}return p},isVersion07x:function(){var a=L.version.split(".");return parseInt(a[0],10)===0&&parseInt(a[1],10)===7}})})(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(i,a,s,l){return this._checkCounterclockwise(i,s,l)!==this._checkCounterclockwise(a,s,l)&&this._checkCounterclockwise(i,a,s)!==this._checkCounterclockwise(i,a,l)},_checkCounterclockwise:function(i,a,s){return(s.y-i.y)*(a.x-i.x)>(a.y-i.y)*(s.x-i.x)}}),L.Polyline.include({intersects:function(){var i,a,s,l=this._getProjectedPoints(),c=l?l.length:0;if(this._tooFewPointsForIntersection())return!1;for(i=c-1;i>=3;i--)if(a=l[i-1],s=l[i],this._lineSegmentsIntersectsRange(a,s,i-2))return!0;return!1},newLatLngIntersects:function(i,a){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(i),a)},newPointIntersects:function(i,a){var s=this._getProjectedPoints(),l=s?s.length:0,c=s?s[l-1]:null,f=l-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(c,i,f,a?1:0)},_tooFewPointsForIntersection:function(i){var a=this._getProjectedPoints(),s=a?a.length:0;return s+=i||0,!a||s<=3},_lineSegmentsIntersectsRange:function(i,a,s,l){var c,f,p=this._getProjectedPoints();l=l||0;for(var v=s;v>l;v--)if(c=p[v-1],f=p[v],L.LineUtil.segmentsIntersect(i,a,c,f))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var i=[],a=this._defaultShape(),s=0;s<a.length;s++)i.push(this._map.latLngToLayerPoint(a[s]));return i}}),L.Polygon.include({intersects:function(){var i,a,s,l,c=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(i=c.length,a=c[0],s=c[i-1],l=i-2,this._lineSegmentsIntersectsRange(s,a,l,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(i){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,i);var a;this._toolbars={},L.DrawToolbar&&this.options.draw&&(a=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=a,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(a=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=a,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(i){var a,s=L.DomUtil.create("div","leaflet-draw"),l=!1;for(var c in this._toolbars)this._toolbars.hasOwnProperty(c)&&(a=this._toolbars[c].addToolbar(i))&&(l||(L.DomUtil.hasClass(a,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(a.childNodes[0],"leaflet-draw-toolbar-top"),l=!0),s.appendChild(a));return s},onRemove:function(){for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&this._toolbars[i].removeToolbar()},setDrawingOptions:function(i){for(var a in this._toolbars)this._toolbars[a]instanceof L.DrawToolbar&&this._toolbars[a].setOptions(i)},_toolbarEnabled:function(i){var a=i.target;for(var s in this._toolbars)this._toolbars[s]!==a&&this._toolbars[s].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(i){L.setOptions(this,i),this._modes={},this._actionButtons=[],this._activeMode=null;var a=L.version.split(".");parseInt(a[0],10)===1&&parseInt(a[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(i){var a,s=L.DomUtil.create("div","leaflet-draw-section"),l=0,c=this._toolbarClass||"",f=this.getModeHandlers(i);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=i,a=0;a<f.length;a++)f[a].enabled&&this._initModeHandler(f[a].handler,this._toolbarContainer,l++,c,f[a].title);if(l)return this._lastButtonIndex=--l,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),s.appendChild(this._toolbarContainer),s.appendChild(this._actionsContainer),s},removeToolbar:function(){for(var i in this._modes)this._modes.hasOwnProperty(i)&&(this._disposeButton(this._modes[i].button,this._modes[i].handler.enable,this._modes[i].handler),this._modes[i].handler.disable(),this._modes[i].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var a=0,s=this._actionButtons.length;a<s;a++)this._disposeButton(this._actionButtons[a].button,this._actionButtons[a].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(i,a,s,l,c){var f=i.type;this._modes[f]={},this._modes[f].handler=i,this._modes[f].button=this._createButton({type:f,title:c,className:l+"-"+f,container:a,callback:this._modes[f].handler.enable,context:this._modes[f].handler}),this._modes[f].buttonIndex=s,this._modes[f].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(i){var a=L.DomUtil.create("a",i.className||"",i.container),s=L.DomUtil.create("span","sr-only",i.container);a.href="#",a.appendChild(s),i.title&&(a.title=i.title,s.innerHTML=i.title),i.text&&(a.innerHTML=i.text,s.innerHTML=i.text);var l=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(a,"click",L.DomEvent.stopPropagation).on(a,"mousedown",L.DomEvent.stopPropagation).on(a,"dblclick",L.DomEvent.stopPropagation).on(a,"touchstart",L.DomEvent.stopPropagation).on(a,"click",L.DomEvent.preventDefault).on(a,l,i.callback,i.context),a},_disposeButton:function(i,a){var s=this._detectIOS()?"touchstart":"click";L.DomEvent.off(i,"click",L.DomEvent.stopPropagation).off(i,"mousedown",L.DomEvent.stopPropagation).off(i,"dblclick",L.DomEvent.stopPropagation).off(i,"touchstart",L.DomEvent.stopPropagation).off(i,"click",L.DomEvent.preventDefault).off(i,s,a)},_handlerActivated:function(i){this.disable(),this._activeMode=this._modes[i.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(i){var a,s,l,c,f=this._actionsContainer,p=this.getActions(i),v=p.length;for(s=0,l=this._actionButtons.length;s<l;s++)this._disposeButton(this._actionButtons[s].button,this._actionButtons[s].callback);for(this._actionButtons=[];f.firstChild;)f.removeChild(f.firstChild);for(var y=0;y<v;y++)"enabled"in p[y]&&!p[y].enabled||(a=L.DomUtil.create("li","",f),c=this._createButton({title:p[y].title,text:p[y].text,container:a,callback:p[y].callback,context:p[y].context}),this._actionButtons.push({button:c,callback:p[y].callback}))},_showActionsToolbar:function(){var i=this._activeMode.buttonIndex,a=this._lastButtonIndex,s=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=s+"px",i===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),i===a&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(i){this._map=i,this._popupPane=i._panes.popupPane,this._visible=!1,this._container=i.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(i){return this._container?(i.subtext=i.subtext||"",i.subtext.length!==0||this._singleLineLabel?i.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(i.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+i.subtext+"</span><br />":"")+"<span>"+i.text+"</span>",i.text||i.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(i){var a=this._map.latLngToLayerPoint(i),s=this._container;return this._container&&(this._visible&&(s.style.visibility="inherit"),L.DomUtil.setPosition(s,a)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(i){for(var a in this.options)this.options.hasOwnProperty(a)&&i[a]&&(i[a]=L.extend({},this.options[a],i[a]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,i)},getModeHandlers:function(i){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(i,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(i,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(i,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(i,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(i,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(i,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(i){return[{enabled:i.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:i.completeShape,context:i},{enabled:i.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:i.deleteLastVertex,context:i},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(i){L.setOptions(this,i);for(var a in this._modes)this._modes.hasOwnProperty(a)&&i.hasOwnProperty(a)&&this._modes[a].handler.setOptions(i[a])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(i){i.edit&&(i.edit.selectedPathOptions===void 0&&(i.edit.selectedPathOptions=this.options.edit.selectedPathOptions),i.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,i.edit.selectedPathOptions)),i.remove&&(i.remove=L.extend({},this.options.remove,i.remove)),i.poly&&(i.poly=L.extend({},this.options.poly,i.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,i),this._selectedFeatureCount=0},getModeHandlers:function(i){var a=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(i,{featureGroup:a,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(i,{featureGroup:a}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(i){var a=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return i.removeAllLayers&&a.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),a},addToolbar:function(i){var a=L.Toolbar.prototype.addToolbar.call(this,i);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),a},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var i,a=this.options.featureGroup,s=a.getLayers().length!==0;this.options.edit&&(i=this._modes[L.EditToolbar.Edit.TYPE].button,s?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",s?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(i=this._modes[L.EditToolbar.Delete.TYPE].button,s?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",s?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(i,a){if(L.Handler.prototype.initialize.call(this,i),L.setOptions(this,a),this._featureGroup=a.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),i._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(i){this._revertLayer(i)},this)},save:function(){var i=new L.LayerGroup;this._featureGroup.eachLayer(function(a){a.edited&&(i.addLayer(a),a.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:i})},_backupLayer:function(i){var a=L.Util.stamp(i);this._uneditedLayerProps[a]||(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?this._uneditedLayerProps[a]={latlngs:L.LatLngUtil.cloneLatLngs(i.getLatLngs())}:i instanceof L.Circle?this._uneditedLayerProps[a]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng()),radius:i.getRadius()}:(i instanceof L.Marker||i instanceof L.CircleMarker)&&(this._uneditedLayerProps[a]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(i){var a=L.Util.stamp(i);i.edited=!1,this._uneditedLayerProps.hasOwnProperty(a)&&(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?i.setLatLngs(this._uneditedLayerProps[a].latlngs):i instanceof L.Circle?(i.setLatLng(this._uneditedLayerProps[a].latlng),i.setRadius(this._uneditedLayerProps[a].radius)):(i instanceof L.Marker||i instanceof L.CircleMarker)&&i.setLatLng(this._uneditedLayerProps[a].latlng),i.fire("revert-edited",{layer:i}))},_enableLayerEdit:function(i){var a,s,l=i.layer||i.target||i;this._backupLayer(l),this.options.poly&&(s=L.Util.extend({},this.options.poly),l.options.poly=s),this.options.selectedPathOptions&&(a=L.Util.extend({},this.options.selectedPathOptions),a.maintainColor&&(a.color=l.options.color,a.fillColor=l.options.fillColor),l.options.original=L.extend({},l.options),l.options.editing=a),l instanceof L.Marker?(l.editing&&l.editing.enable(),l.dragging.enable(),l.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):l.editing.enable()},_disableLayerEdit:function(i){var a=i.layer||i.target||i;a.edited=!1,a.editing&&a.editing.disable(),delete a.options.editing,delete a.options.original,this._selectedPathOptions&&(a instanceof L.Marker?this._toggleMarkerHighlight(a):(a.setStyle(a.options.previousOptions),delete a.options.previousOptions)),a instanceof L.Marker?(a.dragging.disable(),a.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):a.editing.disable()},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_onMarkerDragEnd:function(i){var a=i.target;a.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_onTouchMove:function(i){var a=i.originalEvent.changedTouches[0],s=this._map.mouseEventToLayerPoint(a),l=this._map.layerPointToLatLng(s);i.target.setLatLng(l)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(i,a){if(L.Handler.prototype.initialize.call(this,i),L.Util.setOptions(this,a),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(i){this._deletableLayers.addLayer(i),i.fire("revert-deleted",{layer:i})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(i){this._removeLayer({layer:i})},this),this.save()},_enableLayerDelete:function(i){(i.layer||i.target||i).on("click",this._removeLayer,this)},_disableLayerDelete:function(i){var a=i.layer||i.target||i;a.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(a)},_removeLayer:function(i){var a=i.layer||i.target||i;this._deletableLayers.removeLayer(a),this._deletedLayers.addLayer(a),a.fire("deleted")},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);var D2,N3;function Xz(){return N3||(N3=1,D2=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}),D2}var Jz=Xz();const C3=Wg(Jz);function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function M3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(r),!0).forEach(function(n){Qz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qz(t,e,r){return(e=eG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eG(t){var e=tG(t,"string");return ap(e)=="symbol"?e:e+""}function tG(t,e){if(ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Th={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"};function H8(t){var e=Ep(),r=de.useRef(),n=de.useRef(t),i=function(s){var l=t.onCreated,c=e.layerContainer||e.map;c.addLayer(s.layer),l&&l(s)};return Zl.useEffect(function(){var a=e.map,s=t.onMounted;for(var l in Th)a.on(Th[l],function(c){var f=Object.keys(Th).filter(function(v){return Th[v]===c.type});if(f.length===1){var p=f[0];t[p]&&t[p](c)}});return a.on(Ds.Draw.Event.CREATED,i),r.current=k3(t,e),a.addControl(r.current),s&&s(r.current),function(){a.off(Ds.Draw.Event.CREATED,i);for(var c in Th)t[c]&&a.off(Th[c],t[c]);r.current.remove(a)}},[t.onCreated,t.onDeleted,t.onEdited]),Zl.useEffect(function(){if(!(C3(t.draw,n.current.draw)&&C3(t.edit,n.current.edit)&&t.position===n.current.position)){var a=e.map;r.current.remove(a),r.current=k3(t,e),r.current.addTo(a);var s=t.onMounted;return s&&s(r.current),function(){r.current.remove(a)}}},[t.draw,t.edit,t.position,t.onCreated,t.onDeleted,t.onEdited]),null}function k3(t,e){var r=e.layerContainer,n=t.draw,i=t.edit,a=t.position,s={edit:R0(R0({},i),{},{featureGroup:r})};return n&&(s.draw=R0({},n)),a&&(s.position=a),new tu.Control.Draw(s)}H8.propTypes=R0(R0({},Object.keys(Th).reduce(function(t,e){return t[e]=on.PropTypes.func,t},{})),{},{onCreated:on.PropTypes.func,onMounted:on.PropTypes.func,draw:on.PropTypes.shape({polyline:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),polygon:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),rectangle:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),circle:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),marker:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool])}),edit:on.PropTypes.shape({edit:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),remove:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),poly:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),allowIntersection:on.PropTypes.bool}),position:on.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:on.PropTypes.shape({map:on.PropTypes.instanceOf(tu.Map),layerContainer:on.PropTypes.shape({addLayer:on.PropTypes.func.isRequired,removeLayer:on.PropTypes.func.isRequired})})});function rG(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t("EPSG:5041","+title=WGS 84 / UPS North (E,N) +proj=stere +lat_0=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t("EPSG:5042","+title=WGS 84 / UPS South (E,N) +proj=stere +lat_0=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var Gh=1,Hh=2,pd=3,nG=4,T_=5,P3=6378137,iG=6356752314e-3,O3=.0066943799901413165,D0=484813681109536e-20,At=Math.PI/2,aG=.16666666666666666,sG=.04722222222222222,oG=.022156084656084655,Dt=1e-10,Wi=.017453292519943295,bo=57.29577951308232,On=Math.PI/4,sp=Math.PI*2,la=3.14159265359,Lo={};Lo.greenwich=0;Lo.lisbon=-9.131906111111;Lo.paris=2.337229166667;Lo.bogota=-74.080916666667;Lo.madrid=-3.687938888889;Lo.rome=12.452333333333;Lo.bern=7.439583333333;Lo.jakarta=106.807719444444;Lo.ferro=-17.666666666667;Lo.brussels=4.367975;Lo.stockholm=18.058277777778;Lo.athens=23.7163375;Lo.oslo=10.722916666667;const lG={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var R3=/[\s_\-\/\(\)]/g;function sh(t,e){if(t[e])return t[e];for(var r=Object.keys(t),n=e.toLowerCase().replace(R3,""),i=-1,a,s;++i<r.length;)if(a=r[i],s=a.toLowerCase().replace(R3,""),s===n)return t[a]}function A_(t){var e={},r=t.split("+").map(function(l){return l.trim()}).filter(function(l){return l}).reduce(function(l,c){var f=c.split("=");return f.push(!0),l[f[0].toLowerCase()]=f[1],l},{}),n,i,a,s={proj:"projName",datum:"datumCode",rf:function(l){e.rf=parseFloat(l)},lat_0:function(l){e.lat0=l*Wi},lat_1:function(l){e.lat1=l*Wi},lat_2:function(l){e.lat2=l*Wi},lat_ts:function(l){e.lat_ts=l*Wi},lon_0:function(l){e.long0=l*Wi},lon_1:function(l){e.long1=l*Wi},lon_2:function(l){e.long2=l*Wi},alpha:function(l){e.alpha=parseFloat(l)*Wi},gamma:function(l){e.rectified_grid_angle=parseFloat(l)*Wi},lonc:function(l){e.longc=l*Wi},x_0:function(l){e.x0=parseFloat(l)},y_0:function(l){e.y0=parseFloat(l)},k_0:function(l){e.k0=parseFloat(l)},k:function(l){e.k0=parseFloat(l)},a:function(l){e.a=parseFloat(l)},b:function(l){e.b=parseFloat(l)},r:function(l){e.a=e.b=parseFloat(l)},r_a:function(){e.R_A=!0},zone:function(l){e.zone=parseInt(l,10)},south:function(){e.utmSouth=!0},towgs84:function(l){e.datum_params=l.split(",").map(function(c){return parseFloat(c)})},to_meter:function(l){e.to_meter=parseFloat(l)},units:function(l){e.units=l;var c=sh(lG,l);c&&(e.to_meter=c.to_meter)},from_greenwich:function(l){e.from_greenwich=l*Wi},pm:function(l){var c=sh(Lo,l);e.from_greenwich=(c||parseFloat(l))*Wi},nadgrids:function(l){l==="@null"?e.datumCode="none":e.nadgrids=l},axis:function(l){var c="ewnsud";l.length===3&&c.indexOf(l.substr(0,1))!==-1&&c.indexOf(l.substr(1,1))!==-1&&c.indexOf(l.substr(2,1))!==-1&&(e.axis=l)},approx:function(){e.approx=!0},over:function(){e.over=!0}};for(n in r)i=r[n],n in s?(a=s[n],typeof a=="function"?a(i):e[a]=i):e[n]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e.projStr=t,e}class q8{static getId(e){const r=e.find(n=>Array.isArray(n)&&n[0]==="ID");return r&&r.length>=3?{authority:r[1],code:parseInt(r[2],10)}:null}static convertUnit(e,r="unit"){if(!e||e.length<3)return{type:r,name:"unknown",conversion_factor:null};const n=e[1],i=parseFloat(e[2])||null,a=e.find(l=>Array.isArray(l)&&l[0]==="ID"),s=a?{authority:a[1],code:parseInt(a[2],10)}:null;return{type:r,name:n,conversion_factor:i,id:s}}static convertAxis(e){const r=e[1]||"Unknown";let n;const i=r.match(/^\((.)\)$/);if(i){const f=i[1].toUpperCase();if(f==="E")n="east";else if(f==="N")n="north";else if(f==="U")n="up";else throw new Error(`Unknown axis abbreviation: ${f}`)}else n=e[2]?e[2].toLowerCase():"unknown";const a=e.find(f=>Array.isArray(f)&&f[0]==="ORDER"),s=a?parseInt(a[1],10):null,l=e.find(f=>Array.isArray(f)&&(f[0]==="LENGTHUNIT"||f[0]==="ANGLEUNIT"||f[0]==="SCALEUNIT")),c=this.convertUnit(l);return{name:r,direction:n,unit:c,order:s}}static extractAxes(e){return e.filter(r=>Array.isArray(r)&&r[0]==="AXIS").map(r=>this.convertAxis(r)).sort((r,n)=>(r.order||0)-(n.order||0))}static convert(e,r={}){switch(e[0]){case"PROJCRS":r.type="ProjectedCRS",r.name=e[1],r.base_crs=e.find(y=>Array.isArray(y)&&y[0]==="BASEGEOGCRS")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="BASEGEOGCRS")):null,r.conversion=e.find(y=>Array.isArray(y)&&y[0]==="CONVERSION")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="CONVERSION")):null;const n=e.find(y=>Array.isArray(y)&&y[0]==="CS");n&&(r.coordinate_system={type:n[1],axis:this.extractAxes(e)});const i=e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT");if(i){const y=this.convertUnit(i);r.coordinate_system.unit=y}r.id=this.getId(e);break;case"BASEGEOGCRS":case"GEOGCRS":r.type="GeographicCRS",r.name=e[1];const a=e.find(y=>Array.isArray(y)&&(y[0]==="DATUM"||y[0]==="ENSEMBLE"));if(a){const y=this.convert(a);a[0]==="ENSEMBLE"?r.datum_ensemble=y:r.datum=y;const _=e.find(E=>Array.isArray(E)&&E[0]==="PRIMEM");_&&_[1]!=="Greenwich"&&(y.prime_meridian={name:_[1],longitude:parseFloat(_[2])})}r.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(e)},r.id=this.getId(e);break;case"DATUM":r.type="GeodeticReferenceFrame",r.name=e[1],r.ellipsoid=e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":r.type="DatumEnsemble",r.name=e[1],r.members=e.filter(y=>Array.isArray(y)&&y[0]==="MEMBER").map(y=>({type:"DatumEnsembleMember",name:y[1],id:this.getId(y)}));const s=e.find(y=>Array.isArray(y)&&y[0]==="ENSEMBLEACCURACY");s&&(r.accuracy=parseFloat(s[1]));const l=e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID");l&&(r.ellipsoid=this.convert(l)),r.id=this.getId(e);break;case"ELLIPSOID":r.type="Ellipsoid",r.name=e[1],r.semi_major_axis=parseFloat(e[2]),r.inverse_flattening=parseFloat(e[3]),e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT")&&this.convert(e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT"),r);break;case"CONVERSION":r.type="Conversion",r.name=e[1],r.method=e.find(y=>Array.isArray(y)&&y[0]==="METHOD")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="METHOD")):null,r.parameters=e.filter(y=>Array.isArray(y)&&y[0]==="PARAMETER").map(y=>this.convert(y));break;case"METHOD":r.type="Method",r.name=e[1],r.id=this.getId(e);break;case"PARAMETER":r.type="Parameter",r.name=e[1],r.value=parseFloat(e[2]),r.unit=this.convertUnit(e.find(y=>Array.isArray(y)&&(y[0]==="LENGTHUNIT"||y[0]==="ANGLEUNIT"||y[0]==="SCALEUNIT"))),r.id=this.getId(e);break;case"BOUNDCRS":r.type="BoundCRS";const c=e.find(y=>Array.isArray(y)&&y[0]==="SOURCECRS");if(c){const y=c.find(_=>Array.isArray(_));r.source_crs=y?this.convert(y):null}const f=e.find(y=>Array.isArray(y)&&y[0]==="TARGETCRS");if(f){const y=f.find(_=>Array.isArray(_));r.target_crs=y?this.convert(y):null}const p=e.find(y=>Array.isArray(y)&&y[0]==="ABRIDGEDTRANSFORMATION");p?r.transformation=this.convert(p):r.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(r.type="Transformation",r.name=e[1],r.method=e.find(y=>Array.isArray(y)&&y[0]==="METHOD")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="METHOD")):null,r.parameters=e.filter(y=>Array.isArray(y)&&(y[0]==="PARAMETER"||y[0]==="PARAMETERFILE")).map(y=>{if(y[0]==="PARAMETER")return this.convert(y);if(y[0]==="PARAMETERFILE")return{name:y[1],value:y[2],id:{authority:"EPSG",code:8656}}}),r.parameters.length===7){const y=r.parameters[6];y.name==="Scale difference"&&(y.value=Math.round((y.value-1)*1e12)/1e6)}r.id=this.getId(e);break;case"AXIS":r.coordinate_system||(r.coordinate_system={type:"unspecified",axis:[]}),r.coordinate_system.axis.push(this.convertAxis(e));break;case"LENGTHUNIT":const v=this.convertUnit(e,"LinearUnit");r.coordinate_system&&r.coordinate_system.axis&&r.coordinate_system.axis.forEach(y=>{y.unit||(y.unit=v)}),v.conversion_factor&&v.conversion_factor!==1&&r.semi_major_axis&&(r.semi_major_axis={value:r.semi_major_axis,unit:v});break;default:r.keyword=e[0];break}return r}}class uG extends q8{static convert(e,r={}){return super.convert(e,r),r.coordinate_system&&r.coordinate_system.subtype==="Cartesian"&&delete r.coordinate_system,r.usage&&delete r.usage,r}}class cG extends q8{static convert(e,r={}){super.convert(e,r);const n=e.find(a=>Array.isArray(a)&&a[0]==="CS");n&&(r.coordinate_system={subtype:n[1],axis:this.extractAxes(e)});const i=e.find(a=>Array.isArray(a)&&a[0]==="USAGE");if(i){const a=i.find(c=>Array.isArray(c)&&c[0]==="SCOPE"),s=i.find(c=>Array.isArray(c)&&c[0]==="AREA"),l=i.find(c=>Array.isArray(c)&&c[0]==="BBOX");r.usage={},a&&(r.usage.scope=a[1]),s&&(r.usage.area=s[1]),l&&(r.usage.bbox=l.slice(1))}return r}}function hG(t){return t.find(e=>Array.isArray(e)&&e[0]==="USAGE")?"2019":(t.find(e=>Array.isArray(e)&&e[0]==="CS")||t[0]==="BOUNDCRS"||t[0]==="PROJCRS"||t[0]==="GEOGCRS","2015")}function fG(t){return(hG(t)==="2019"?cG:uG).convert(t)}function dG(t){const e=t.toUpperCase();return e.includes("PROJCRS")||e.includes("GEOGCRS")||e.includes("BOUNDCRS")||e.includes("VERTCRS")||e.includes("LENGTHUNIT")||e.includes("ANGLEUNIT")||e.includes("SCALEUNIT")?"WKT2":(e.includes("PROJCS")||e.includes("GEOGCS")||e.includes("LOCAL_CS")||e.includes("VERT_CS")||e.includes("UNIT"),"WKT1")}var op=1,V8=2,$8=3,Bg=4,W8=5,Sy=-1,pG=/\s/,mG=/[A-Za-z]/,gG=/[A-Za-z84_]/,v1=/[,\]]/,Z8=/[\d\.E\-\+]/;function yc(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=op}yc.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==Bg)for(;pG.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case op:return this.neutral(t);case V8:return this.keyword(t);case Bg:return this.quoted(t);case W8:return this.afterquote(t);case $8:return this.number(t);case Sy:return}};yc.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=Bg;return}if(v1.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};yc.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=op;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=op,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Sy);return}};yc.prototype.number=function(t){if(Z8.test(t)){this.word+=t;return}if(v1.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};yc.prototype.quoted=function(t){if(t==='"'){this.state=W8;return}this.word+=t};yc.prototype.keyword=function(t){if(gG.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=op;return}if(v1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};yc.prototype.neutral=function(t){if(mG.test(t)){this.word=t,this.state=V8;return}if(t==='"'){this.word="",this.state=Bg;return}if(Z8.test(t)){this.word=t,this.state=$8;return}if(v1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};yc.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Sy)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function vG(t){var e=new yc(t);return e.output()}function j2(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var n=e?{}:t,i=r.reduce(function(a,s){return ed(s,a),a},n);e&&(t[e]=i)}function ed(t,e){if(!Array.isArray(t)){e[t]=!0;return}var r=t.shift();if(r==="PARAMETER"&&(r=t.shift()),t.length===1){if(Array.isArray(t[0])){e[r]={},ed(t[0],e[r]);return}e[r]=t[0];return}if(!t.length){e[r]=!0;return}if(r==="TOWGS84"){e[r]=t;return}if(r==="AXIS"){r in e||(e[r]=[]),e[r].push(t);return}Array.isArray(r)||(e[r]={});var n;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[r]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&ed(t[2],e[r]);return;case"SPHEROID":case"ELLIPSOID":e[r]={name:t[0],a:t[1],rf:t[2]},t.length===4&&ed(t[3],e[r]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],j2(e,r,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],j2(e,r,t),e[r].type=r;return;default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return ed(t,e[r]);return j2(e,r,t)}}var _G=.017453292519943295;function Vl(t){return t*_G}function Y8(t){const e=(t.projName||"").toLowerCase().replace(/_/g," ");!t.long0&&t.longc&&(e==="albers conic equal area"||e==="lambert azimuthal equal area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(e==="stereographic south pole"||e==="polar stereographic (variant b)")?(t.lat0=Vl(t.lat1>0?90:-90),t.lat_ts=t.lat1,delete t.lat1):!t.lat_ts&&t.lat0&&(e==="polar stereographic"||e==="polar stereographic (variant a)")&&(t.lat_ts=t.lat0,t.lat0=Vl(t.lat0>0?90:-90),delete t.lat1)}function D3(t){let e={units:null,to_meter:void 0};return typeof t=="string"?(e.units=t.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.units==="meter"&&(e.to_meter=1)):t&&t.name&&(e.units=t.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.to_meter=t.conversion_factor),e}function j3(t){return typeof t=="object"?t.value*t.unit.conversion_factor:t}function I3(t,e){t.ellipsoid.radius?(e.a=t.ellipsoid.radius,e.rf=0):(e.a=j3(t.ellipsoid.semi_major_axis),t.ellipsoid.inverse_flattening!==void 0?e.rf=t.ellipsoid.inverse_flattening:t.ellipsoid.semi_major_axis!==void 0&&t.ellipsoid.semi_minor_axis!==void 0&&(e.rf=e.a/(e.a-j3(t.ellipsoid.semi_minor_axis))))}function Ug(t,e={}){return!t||typeof t!="object"?t:t.type==="BoundCRS"?(Ug(t.source_crs,e),t.transformation&&(t.transformation.method&&t.transformation.method.name==="NTv2"?e.nadgrids=t.transformation.parameters[0].value:e.datum_params=t.transformation.parameters.map(r=>r.value)),e):(Object.keys(t).forEach(r=>{const n=t[r];if(n!==null)switch(r){case"name":if(e.srsCode)break;e.name=n,e.srsCode=n;break;case"type":n==="GeographicCRS"?e.projName="longlat":n==="ProjectedCRS"&&t.conversion&&t.conversion.method&&(e.projName=t.conversion.method.name);break;case"datum":case"datum_ensemble":n.ellipsoid&&(e.ellps=n.ellipsoid.name,I3(n,e)),n.prime_meridian&&(e.from_greenwich=n.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":e.ellps=n.name,I3(n,e);break;case"prime_meridian":e.long0=(n.longitude||0)*Math.PI/180;break;case"coordinate_system":if(n.axis){if(e.axis=n.axis.map(i=>{const a=i.direction;if(a==="east")return"e";if(a==="north")return"n";if(a==="west")return"w";if(a==="south")return"s";throw new Error(`Unknown axis direction: ${a}`)}).join("")+"u",n.unit){const{units:i,to_meter:a}=D3(n.unit);e.units=i,e.to_meter=a}else if(n.axis[0]&&n.axis[0].unit){const{units:i,to_meter:a}=D3(n.axis[0].unit);e.units=i,e.to_meter=a}}break;case"id":n.authority&&n.code&&(e.title=n.authority+":"+n.code);break;case"conversion":n.method&&n.method.name&&(e.projName=n.method.name),n.parameters&&n.parameters.forEach(i=>{const a=i.name.toLowerCase().replace(/\s+/g,"_"),s=i.value;i.unit&&i.unit.conversion_factor?e[a]=s*i.unit.conversion_factor:i.unit==="degree"?e[a]=s*Math.PI/180:e[a]=s});break;case"unit":n.name&&(e.units=n.name.toLowerCase(),e.units==="metre"&&(e.units="meter")),n.conversion_factor&&(e.to_meter=n.conversion_factor);break;case"base_crs":Ug(n,e),e.datumCode=n.id?n.id.authority+"_"+n.id.code:n.name;break}}),e.latitude_of_false_origin!==void 0&&(e.lat0=e.latitude_of_false_origin),e.longitude_of_false_origin!==void 0&&(e.long0=e.longitude_of_false_origin),e.latitude_of_standard_parallel!==void 0&&(e.lat0=e.latitude_of_standard_parallel,e.lat1=e.latitude_of_standard_parallel),e.latitude_of_1st_standard_parallel!==void 0&&(e.lat1=e.latitude_of_1st_standard_parallel),e.latitude_of_2nd_standard_parallel!==void 0&&(e.lat2=e.latitude_of_2nd_standard_parallel),e.latitude_of_projection_centre!==void 0&&(e.lat0=e.latitude_of_projection_centre),e.longitude_of_projection_centre!==void 0&&(e.longc=e.longitude_of_projection_centre),e.easting_at_false_origin!==void 0&&(e.x0=e.easting_at_false_origin),e.northing_at_false_origin!==void 0&&(e.y0=e.northing_at_false_origin),e.latitude_of_natural_origin!==void 0&&(e.lat0=e.latitude_of_natural_origin),e.longitude_of_natural_origin!==void 0&&(e.long0=e.longitude_of_natural_origin),e.longitude_of_origin!==void 0&&(e.long0=e.longitude_of_origin),e.false_easting!==void 0&&(e.x0=e.false_easting),e.easting_at_projection_centre&&(e.x0=e.easting_at_projection_centre),e.false_northing!==void 0&&(e.y0=e.false_northing),e.northing_at_projection_centre&&(e.y0=e.northing_at_projection_centre),e.standard_parallel_1!==void 0&&(e.lat1=e.standard_parallel_1),e.standard_parallel_2!==void 0&&(e.lat2=e.standard_parallel_2),e.scale_factor_at_natural_origin!==void 0&&(e.k0=e.scale_factor_at_natural_origin),e.scale_factor_at_projection_centre!==void 0&&(e.k0=e.scale_factor_at_projection_centre),e.scale_factor_on_pseudo_standard_parallel!==void 0&&(e.k0=e.scale_factor_on_pseudo_standard_parallel),e.azimuth!==void 0&&(e.alpha=e.azimuth),e.azimuth_at_projection_centre!==void 0&&(e.alpha=e.azimuth_at_projection_centre),e.angle_from_rectified_to_skew_grid&&(e.rectified_grid_angle=e.angle_from_rectified_to_skew_grid),Y8(e),e)}var yG=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function xG(t,e){var r=e[0],n=e[1];!(r in t)&&n in t&&(t[r]=t[n],e.length===3&&(t[r]=e[2](t[r])))}function K8(t){for(var e=Object.keys(t),r=0,n=e.length;r<n;++r){var i=e[r];yG.indexOf(i)!==-1&&wG(t[i]),typeof t[i]=="object"&&K8(t[i])}}function wG(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var r="",n=0,i=t.AXIS.length;n<i;++n){var a=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];a[0].indexOf("north")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="north"?r+="n":a[0].indexOf("south")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="south"?r+="s":a[0].indexOf("east")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="east"?r+="e":(a[0].indexOf("west")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="west")&&(r+="w")}r.length===2&&(r+="u"),r.length===3&&(t.axis=r)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),t.rectified_grid_angle&&(t.rectified_grid_angle=Vl(t.rectified_grid_angle));function l(p){var v=t.to_meter||1;return p*v}var c=function(p){return xG(t,p)},f=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Vl],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Vl],["x0","false_easting",l],["y0","false_northing",l],["long0","central_meridian",Vl],["lat0","latitude_of_origin",Vl],["lat0","standard_parallel_1",Vl],["lat1","standard_parallel_1",Vl],["lat2","standard_parallel_2",Vl],["azimuth","Azimuth"],["alpha","azimuth",Vl],["srsCode","name"]];f.forEach(c),Y8(t)}function zg(t){if(typeof t=="object")return Ug(t);const e=dG(t);var r=vG(t);if(e==="WKT2"){const a=fG(r);return Ug(a)}var n=r[0],i={};return ed(r,i),K8(i),i[n]}function ps(t){var e=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?ps[t]=A_(arguments[1]):ps[t]=zg(arguments[1]):r&&typeof r=="object"&&!("projName"in r)?ps[t]=zg(arguments[1]):(ps[t]=r,r||delete ps[t])}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(n){return Array.isArray(n)?ps.apply(e,n):ps(n)});if(typeof t=="string"){if(t in ps)return ps[t]}else"EPSG"in t?ps["EPSG:"+t.EPSG]=t:"ESRI"in t?ps["ESRI:"+t.ESRI]=t:"IAU2000"in t?ps["IAU2000:"+t.IAU2000]=t:console.log(t);return}}rG(ps);function bG(t){return typeof t=="string"}function SG(t){return t in ps}function EG(t){return t.indexOf("+")!==0&&t.indexOf("[")!==-1||typeof t=="object"&&!("srsCode"in t)}var TG=["3857","900913","3785","102113"];function AG(t){var e=sh(t,"authority");if(e){var r=sh(e,"epsg");return r&&TG.indexOf(r)>-1}}function LG(t){var e=sh(t,"extension");if(e)return sh(e,"proj4")}function NG(t){return t[0]==="+"}function CG(t){if(bG(t)){if(SG(t))return ps[t];if(EG(t)){var e=zg(t);if(AG(e))return ps["EPSG:3857"];var r=LG(e);return r?A_(r):e}if(NG(t))return A_(t)}else return"projName"in t?t:zg(t)}function F3(t,e){t=t||{};var r,n;if(!e)return t;for(n in e)r=e[n],r!==void 0&&(t[n]=r);return t}function Du(t,e,r){var n=t*e;return r/Math.sqrt(1-n*n)}function Ap(t){return t<0?-1:1}function It(t,e){return e||Math.abs(t)<=la?t:t-Ap(t)*sp}function Xl(t,e,r){var n=t*r,i=.5*t;return n=Math.pow((1-n)/(1+n),i),Math.tan(.5*(At-e))/n}function lp(t,e){for(var r=.5*t,n,i,a=At-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(a),i=At-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-a,a+=i,Math.abs(i)<=1e-10)return a;return-9999}function MG(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Du(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function kG(t){var e=t.x,r=t.y;if(r*bo>90&&r*bo<-90&&e*bo>180&&e*bo<-180)return null;var n,i;if(Math.abs(Math.abs(r)-At)<=Dt)return null;if(this.sphere)n=this.x0+this.a*this.k0*It(e-this.long0,this.over),i=this.y0+this.a*this.k0*Math.log(Math.tan(On+.5*r));else{var a=Math.sin(r),s=Xl(this.e,r,a);n=this.x0+this.a*this.k0*It(e-this.long0,this.over),i=this.y0-this.a*this.k0*Math.log(s)}return t.x=n,t.y=i,t}function PG(t){var e=t.x-this.x0,r=t.y-this.y0,n,i;if(this.sphere)i=At-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var a=Math.exp(-r/(this.a*this.k0));if(i=lp(this.e,a),i===-9999)return null}return n=It(this.long0+e/(this.a*this.k0),this.over),t.x=n,t.y=i,t}var OG=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"];const RG={init:MG,forward:kG,inverse:PG,names:OG};function DG(){}function B3(t){return t}var X8=["longlat","identity"];const jG={init:DG,forward:B3,inverse:B3,names:X8};var IG=[RG,jG],Ah={},td=[];function J8(t,e){var r=td.length;return t.names?(td[r]=t,t.names.forEach(function(n){Ah[n.toLowerCase()]=r}),this):(console.log(e),!0)}function Q8(t){return t.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function FG(t){if(!t)return!1;var e=t.toLowerCase();if(typeof Ah[e]<"u"&&td[Ah[e]]||(e=Q8(e),e in Ah&&td[Ah[e]]))return td[Ah[e]]}function BG(){IG.forEach(J8)}const UG={start:BG,add:J8,get:FG};var eT={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};const zG=eT.WGS84;function GG(t,e,r,n){var i=t*t,a=e*e,s=(i-a)/i,l=0;n?(t*=1-s*(aG+s*(sG+s*oG)),i=t*t,s=0):l=Math.sqrt(s);var c=(i-a)/a;return{es:s,e:l,ep2:c}}function HG(t,e,r,n,i){if(!t){var a=sh(eT,n);a||(a=zG),t=a.a,e=a.b,r=a.rf}return r&&!e&&(e=(1-1/r)*t),(r===0||Math.abs(t-e)<Dt)&&(i=!0,e=t),{a:t,b:e,rf:r,sphere:i}}var lg={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var qG in lg){var I2=lg[qG];I2.datumName&&(lg[I2.datumName]=I2)}function VG(t,e,r,n,i,a,s){var l={};return t===void 0||t==="none"?l.datum_type=T_:l.datum_type=nG,e&&(l.datum_params=e.map(parseFloat),(l.datum_params[0]!==0||l.datum_params[1]!==0||l.datum_params[2]!==0)&&(l.datum_type=Gh),l.datum_params.length>3&&(l.datum_params[3]!==0||l.datum_params[4]!==0||l.datum_params[5]!==0||l.datum_params[6]!==0)&&(l.datum_type=Hh,l.datum_params[3]*=D0,l.datum_params[4]*=D0,l.datum_params[5]*=D0,l.datum_params[6]=l.datum_params[6]/1e6+1)),s&&(l.datum_type=pd,l.grids=s),l.a=r,l.b=n,l.es=i,l.ep2=a,l}var Ey={};function $G(t,e,r){return e instanceof ArrayBuffer?WG(t,e,r):{ready:ZG(t,e)}}function WG(t,e,r){var n=!0;r!==void 0&&r.includeErrorFields===!1&&(n=!1);var i=new DataView(e),a=XG(i),s=JG(i,a),l=QG(i,s,a,n),c={header:s,subgrids:l};return Ey[t]=c,c}async function ZG(t,e){for(var r=[],n=await e.getImageCount(),i=n-1;i>=0;i--){var a=await e.getImage(i),s=await a.readRasters(),l=s,c=[a.getWidth(),a.getHeight()],f=a.getBoundingBox().map(U3),p=[a.fileDirectory.ModelPixelScale[0],a.fileDirectory.ModelPixelScale[1]].map(U3),v=f[0]+(c[0]-1)*p[0],y=f[3]-(c[1]-1)*p[1],_=l[0],E=l[1],S=[];for(let j=c[1]-1;j>=0;j--)for(let R=c[0]-1;R>=0;R--){var C=j*c[0]+R;S.push([-eh(E[C]),eh(_[C])])}r.push({del:p,lim:c,ll:[-v,y],cvs:S})}var O={header:{nSubgrids:n},subgrids:r};return Ey[t]=O,O}function YG(t){if(t===void 0)return null;var e=t.split(",");return e.map(KG)}function KG(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Ey[t]||null,isNull:!1}}function U3(t){return t*Math.PI/180}function eh(t){return t/3600*Math.PI/180}function XG(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function JG(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:L_(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function L_(t,e,r){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,r)))}function QG(t,e,r,n){for(var i=176,a=[],s=0;s<e.nSubgrids;s++){var l=tH(t,i,r),c=rH(t,i,l,r,n),f=Math.round(1+(l.upperLongitude-l.lowerLongitude)/l.longitudeInterval),p=Math.round(1+(l.upperLatitude-l.lowerLatitude)/l.latitudeInterval);a.push({ll:[eh(l.lowerLongitude),eh(l.lowerLatitude)],del:[eh(l.longitudeInterval),eh(l.latitudeInterval)],lim:[f,p],count:l.gridNodeCount,cvs:eH(c)});var v=16;n===!1&&(v=8),i+=176+l.gridNodeCount*v}return a}function eH(t){return t.map(function(e){return[eh(e.longitudeShift),eh(e.latitudeShift)]})}function tH(t,e,r){return{name:L_(t,e+8,e+16).trim(),parent:L_(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,r),upperLatitude:t.getFloat64(e+88,r),lowerLongitude:t.getFloat64(e+104,r),upperLongitude:t.getFloat64(e+120,r),latitudeInterval:t.getFloat64(e+136,r),longitudeInterval:t.getFloat64(e+152,r),gridNodeCount:t.getInt32(e+168,r)}}function rH(t,e,r,n,i){var a=e+176,s=16;i===!1&&(s=8);for(var l=[],c=0;c<r.gridNodeCount;c++){var f={latitudeShift:t.getFloat32(a+c*s,n),longitudeShift:t.getFloat32(a+c*s+4,n)};i!==!1&&(f.latitudeAccuracy=t.getFloat32(a+c*s+8,n),f.longitudeAccuracy=t.getFloat32(a+c*s+12,n)),l.push(f)}return l}function xl(t,e){if(!(this instanceof xl))return new xl(t);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,e=e||function(f){if(f)throw f};var r=CG(t);if(typeof r!="object"){e("Could not parse to valid json: "+t);return}var n=xl.projections.get(r.projName);if(!n){e("Could not get projection name from: "+t);return}if(r.datumCode&&r.datumCode!=="none"){var i=sh(lg,r.datumCode);i&&(r.datum_params=r.datum_params||(i.towgs84?i.towgs84.split(","):null),r.ellps=i.ellipse,r.datumName=i.datumName?i.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var a=HG(r.a,r.b,r.rf,r.ellps,r.sphere),s=GG(a.a,a.b,a.rf,r.R_A),l=YG(r.nadgrids),c=r.datum||VG(r.datumCode,r.datum_params,a.a,a.b,s.es,s.ep2,l);F3(this,r),F3(this,n),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=c,"init"in this&&typeof this.init=="function"&&this.init(),e(null,this)}xl.projections=UG;xl.projections.start();function nH(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===Gh?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===Hh?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function tT(t,e,r){var n=t.x,i=t.y,a=t.z?t.z:0,s,l,c,f;if(i<-At&&i>-1.001*At)i=-At;else if(i>At&&i<1.001*At)i=At;else{if(i<-At)return{x:-1/0,y:-1/0,z:t.z};if(i>At)return{x:1/0,y:1/0,z:t.z}}return n>Math.PI&&(n-=2*Math.PI),l=Math.sin(i),f=Math.cos(i),c=l*l,s=r/Math.sqrt(1-e*c),{x:(s+a)*f*Math.cos(n),y:(s+a)*f*Math.sin(n),z:(s*(1-e)+a)*l}}function rT(t,e,r,n){var i=1e-12,a=i*i,s=30,l,c,f,p,v,y,_,E,S,C,O,j,R,B=t.x,J=t.y,re=t.z?t.z:0,F,K,U;if(l=Math.sqrt(B*B+J*J),c=Math.sqrt(B*B+J*J+re*re),l/r<i){if(F=0,c/r<i)return K=At,U=-n,{x:t.x,y:t.y,z:t.z}}else F=Math.atan2(J,B);f=re/c,p=l/c,v=1/Math.sqrt(1-e*(2-e)*p*p),E=p*(1-e)*v,S=f*v,R=0;do R++,_=r/Math.sqrt(1-e*S*S),U=l*E+re*S-_*(1-e*S*S),y=e*_/(_+U),v=1/Math.sqrt(1-y*(2-y)*p*p),C=p*(1-y)*v,O=f*v,j=O*E-C*S,E=C,S=O;while(j*j>a&&R<s);return K=Math.atan(O/Math.abs(C)),{x:F,y:K,z:U}}function iH(t,e,r){if(e===Gh)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===Hh){var n=r[0],i=r[1],a=r[2],s=r[3],l=r[4],c=r[5],f=r[6];return{x:f*(t.x-c*t.y+l*t.z)+n,y:f*(c*t.x+t.y-s*t.z)+i,z:f*(-l*t.x+s*t.y+t.z)+a}}}function aH(t,e,r){if(e===Gh)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===Hh){var n=r[0],i=r[1],a=r[2],s=r[3],l=r[4],c=r[5],f=r[6],p=(t.x-n)/f,v=(t.y-i)/f,y=(t.z-a)/f;return{x:p+c*v-l*y,y:-c*p+v+s*y,z:l*p-s*v+y}}}function Zm(t){return t===Gh||t===Hh}function sH(t,e,r){if(nH(t,e)||t.datum_type===T_||e.datum_type===T_)return r;var n=t.a,i=t.es;if(t.datum_type===pd){var a=z3(t,!1,r);if(a!==0)return;n=P3,i=O3}var s=e.a,l=e.b,c=e.es;if(e.datum_type===pd&&(s=P3,l=iG,c=O3),i===c&&n===s&&!Zm(t.datum_type)&&!Zm(e.datum_type))return r;if(r=tT(r,i,n),Zm(t.datum_type)&&(r=iH(r,t.datum_type,t.datum_params)),Zm(e.datum_type)&&(r=aH(r,e.datum_type,e.datum_params)),r=rT(r,c,s,l),e.datum_type===pd){var f=z3(e,!0,r);if(f!==0)return}return r}function z3(t,e,r){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var n={x:-r.x,y:r.y},i={x:Number.NaN,y:Number.NaN},a=[];e:for(var s=0;s<t.grids.length;s++){var l=t.grids[s];if(a.push(l.name),l.isNull){i=n;break}if(l.grid===null){if(l.mandatory)return console.log("Unable to find mandatory grid '"+l.name+"'"),-1;continue}for(var c=l.grid.subgrids,f=0,p=c.length;f<p;f++){var v=c[f],y=(Math.abs(v.del[1])+Math.abs(v.del[0]))/1e4,_=v.ll[0]-y,E=v.ll[1]-y,S=v.ll[0]+(v.lim[0]-1)*v.del[0]+y,C=v.ll[1]+(v.lim[1]-1)*v.del[1]+y;if(!(E>n.y||_>n.x||C<n.y||S<n.x)&&(i=oH(n,e,v),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*bo+" "+n.y*bo+" tried: '"+a+"'"),-1):(r.x=-i.x,r.y=i.y,0)}function oH(t,e,r){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var i={x:t.x,y:t.y};i.x-=r.ll[0],i.y-=r.ll[1],i.x=It(i.x-Math.PI)+Math.PI;var a=G3(i,r);if(e){if(isNaN(a.x))return n;a.x=i.x-a.x,a.y=i.y-a.y;var s=9,l=1e-12,c,f;do{if(f=G3(a,r),isNaN(f.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}c={x:i.x-(f.x+a.x),y:i.y-(f.y+a.y)},a.x+=c.x,a.y+=c.y}while(s--&&Math.abs(c.x)>l&&Math.abs(c.y)>l);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=It(a.x+r.ll[0]),n.y=a.y+r.ll[1]}else isNaN(a.x)||(n.x=t.x+a.x,n.y=t.y+a.y);return n}function G3(t,e){var r={x:t.x/e.del[0],y:t.y/e.del[1]},n={x:Math.floor(r.x),y:Math.floor(r.y)},i={x:r.x-1*n.x,y:r.y-1*n.y},a={x:Number.NaN,y:Number.NaN},s;if(n.x<0||n.x>=e.lim[0]||n.y<0||n.y>=e.lim[1])return a;s=n.y*e.lim[0]+n.x;var l={x:e.cvs[s][0],y:e.cvs[s][1]};s++;var c={x:e.cvs[s][0],y:e.cvs[s][1]};s+=e.lim[0];var f={x:e.cvs[s][0],y:e.cvs[s][1]};s--;var p={x:e.cvs[s][0],y:e.cvs[s][1]},v=i.x*i.y,y=i.x*(1-i.y),_=(1-i.x)*(1-i.y),E=(1-i.x)*i.y;return a.x=_*l.x+y*c.x+E*p.x+v*f.x,a.y=_*l.y+y*c.y+E*p.y+v*f.y,a}function H3(t,e,r){var n=r.x,i=r.y,a=r.z||0,s,l,c,f={};for(c=0;c<3;c++)if(!(e&&c===2&&r.z===void 0))switch(c===0?(s=n,"ew".indexOf(t.axis[c])!==-1?l="x":l="y"):c===1?(s=i,"ns".indexOf(t.axis[c])!==-1?l="y":l="x"):(s=a,l="z"),t.axis[c]){case"e":f[l]=s;break;case"w":f[l]=-s;break;case"n":f[l]=s;break;case"s":f[l]=-s;break;case"u":r[l]!==void 0&&(f.z=s);break;case"d":r[l]!==void 0&&(f.z=-s);break;default:return null}return f}function nT(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function lH(t){q3(t.x),q3(t.y)}function q3(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function uH(t,e){return(t.datum.datum_type===Gh||t.datum.datum_type===Hh||t.datum.datum_type===pd)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Gh||e.datum.datum_type===Hh||e.datum.datum_type===pd)&&t.datumCode!=="WGS84"}function Gg(t,e,r,n){var i;Array.isArray(r)?r=nT(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var a=r.z!==void 0;if(lH(r),t.datum&&e.datum&&uH(t,e)&&(i=new xl("WGS84"),r=Gg(t,i,r,n),t=i),n&&t.axis!=="enu"&&(r=H3(t,!1,r)),t.projName==="longlat")r={x:r.x*Wi,y:r.y*Wi,z:r.z||0};else if(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),r=t.inverse(r),!r)return;if(t.from_greenwich&&(r.x+=t.from_greenwich),r=sH(t.datum,e.datum,r),!!r)return r=r,e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),e.projName==="longlat"?r={x:r.x*bo,y:r.y*bo,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),n&&e.axis!=="enu"?H3(e,!0,r):(r&&!a&&delete r.z,r)}var V3=xl("WGS84");function F2(t,e,r,n){var i,a,s;return Array.isArray(r)?(i=Gg(t,e,r,n)||{x:NaN,y:NaN},r.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(r.slice(3)):[i.x,i.y,r[2]].concat(r.slice(3)):[i.x,i.y].concat(r.slice(2)):[i.x,i.y]):(a=Gg(t,e,r,n),s=Object.keys(r),s.length===2||s.forEach(function(l){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(l==="x"||l==="y"||l==="z")return}else if(l==="x"||l==="y")return;a[l]=r[l]}),a)}function Ym(t){return t instanceof xl?t:typeof t=="object"&&"oProj"in t?t.oProj:xl(t)}function cH(t,e,r){var n,i,a=!1,s;return typeof e>"u"?(i=Ym(t),n=V3,a=!0):(typeof e.x<"u"||Array.isArray(e))&&(r=e,i=Ym(t),n=V3,a=!0),n||(n=Ym(t)),i||(i=Ym(e)),r?F2(n,i,r):(s={forward:function(l,c){return F2(n,i,l,c)},inverse:function(l,c){return F2(i,n,l,c)}},a&&(s.oProj=i),s)}var $3=6,iT="AJSAJS",aT="AFAFAF",rd=65,xo=73,ml=79,_0=86,y0=90;const hH={forward:sT,inverse:fH,toPoint:oT};function sT(t,e){return e=e||5,mH(dH({lat:t[1],lon:t[0]}),e)}function fH(t){var e=Ty(uT(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function oT(t){var e=Ty(uT(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function B2(t){return t*(Math.PI/180)}function W3(t){return 180*(t/Math.PI)}function dH(t){var e=t.lat,r=t.lon,n=6378137,i=.00669438,a=.9996,s,l,c,f,p,v,y,_=B2(e),E=B2(r),S,C;C=Math.floor((r+180)/6)+1,r===180&&(C=60),e>=56&&e<64&&r>=3&&r<12&&(C=32),e>=72&&e<84&&(r>=0&&r<9?C=31:r>=9&&r<21?C=33:r>=21&&r<33?C=35:r>=33&&r<42&&(C=37)),s=(C-1)*6-180+3,S=B2(s),l=i/(1-i),c=n/Math.sqrt(1-i*Math.sin(_)*Math.sin(_)),f=Math.tan(_)*Math.tan(_),p=l*Math.cos(_)*Math.cos(_),v=Math.cos(_)*(E-S),y=n*((1-i/4-3*i*i/64-5*i*i*i/256)*_-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*_)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*_)-35*i*i*i/3072*Math.sin(6*_));var O=a*c*(v+(1-f+p)*v*v*v/6+(5-18*f+f*f+72*p-58*l)*v*v*v*v*v/120)+5e5,j=a*(y+c*Math.tan(_)*(v*v/2+(5-f+9*p+4*p*p)*v*v*v*v/24+(61-58*f+f*f+600*p-330*l)*v*v*v*v*v*v/720));return e<0&&(j+=1e7),{northing:Math.round(j),easting:Math.round(O),zoneNumber:C,zoneLetter:pH(e)}}function Ty(t){var e=t.northing,r=t.easting,n=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var a=.9996,s=6378137,l=.00669438,c,f=(1-Math.sqrt(1-l))/(1+Math.sqrt(1-l)),p,v,y,_,E,S,C,O,j,R=r-5e5,B=e;n<"N"&&(B-=1e7),C=(i-1)*6-180+3,c=l/(1-l),S=B/a,O=S/(s*(1-l/4-3*l*l/64-5*l*l*l/256)),j=O+(3*f/2-27*f*f*f/32)*Math.sin(2*O)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*O)+151*f*f*f/96*Math.sin(6*O),p=s/Math.sqrt(1-l*Math.sin(j)*Math.sin(j)),v=Math.tan(j)*Math.tan(j),y=c*Math.cos(j)*Math.cos(j),_=s*(1-l)/Math.pow(1-l*Math.sin(j)*Math.sin(j),1.5),E=R/(p*a);var J=j-p*Math.tan(j)/_*(E*E/2-(5+3*v+10*y-4*y*y-9*c)*E*E*E*E/24+(61+90*v+298*y+45*v*v-252*c-3*y*y)*E*E*E*E*E*E/720);J=W3(J);var re=(E-(1+2*v+y)*E*E*E/6+(5-2*y+28*v-3*y*y+8*c+24*v*v)*E*E*E*E*E/120)/Math.cos(j);re=C+W3(re);var F;if(t.accuracy){var K=Ty({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});F={top:K.lat,right:K.lon,bottom:J,left:re}}else F={lat:J,lon:re};return F}function pH(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function mH(t,e){var r="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+gH(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+n.substr(n.length-5,e)}function gH(t,e,r){var n=lT(r),i=Math.floor(t/1e5),a=Math.floor(e/1e5)%20;return vH(i,a,n)}function lT(t){var e=t%$3;return e===0&&(e=$3),e}function vH(t,e,r){var n=r-1,i=iT.charCodeAt(n),a=aT.charCodeAt(n),s=i+t-1,l=a+e,c=!1;s>y0&&(s=s-y0+rd-1,c=!0),(s===xo||i<xo&&s>xo||(s>xo||i<xo)&&c)&&s++,(s===ml||i<ml&&s>ml||(s>ml||i<ml)&&c)&&(s++,s===xo&&s++),s>y0&&(s=s-y0+rd-1),l>_0?(l=l-_0+rd-1,c=!0):c=!1,(l===xo||a<xo&&l>xo||(l>xo||a<xo)&&c)&&l++,(l===ml||a<ml&&l>ml||(l>ml||a<ml)&&c)&&(l++,l===xo&&l++),l>_0&&(l=l-_0+rd-1);var f=String.fromCharCode(s)+String.fromCharCode(l);return f}function uT(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,r=null,n="",i,a=0;!/[A-Z]/.test(i=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;n+=i,a++}var s=parseInt(n,10);if(a===0||a+3>e)throw"MGRSPoint bad conversion from: "+t;var l=t.charAt(a++);if(l<="A"||l==="B"||l==="Y"||l>="Z"||l==="I"||l==="O")throw"MGRSPoint zone letter "+l+" not handled: "+t;r=t.substring(a,a+=2);for(var c=lT(s),f=_H(r.charAt(0),c),p=yH(r.charAt(1),c);p<xH(l);)p+=2e6;var v=e-a;if(v%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var y=v/2,_=0,E=0,S,C,O,j,R;return y>0&&(S=1e5/Math.pow(10,y),C=t.substring(a,a+y),_=parseFloat(C)*S,O=t.substring(a+y),E=parseFloat(O)*S),j=_+f,R=E+p,{easting:j,northing:R,zoneLetter:l,zoneNumber:s,accuracy:S}}function _H(t,e){for(var r=iT.charCodeAt(e-1),n=1e5,i=!1;r!==t.charCodeAt(0);){if(r++,r===xo&&r++,r===ml&&r++,r>y0){if(i)throw"Bad character: "+t;r=rd,i=!0}n+=1e5}return n}function yH(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=aT.charCodeAt(e-1),n=0,i=!1;r!==t.charCodeAt(0);){if(r++,r===xo&&r++,r===ml&&r++,r>_0){if(i)throw"Bad character: "+t;r=rd,i=!0}n+=1e5}return n}function xH(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function vd(t,e,r){if(!(this instanceof vd))return new vd(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var n=t.split(",");this.x=parseFloat(n[0]),this.y=parseFloat(n[1]),this.z=parseFloat(n[2])||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}vd.fromMGRS=function(t){return new vd(oT(t))};vd.prototype.toMGRS=function(t){return sT([this.x,this.y],t)};var wH=1,bH=.25,Z3=.046875,Y3=.01953125,K3=.01068115234375,SH=.75,EH=.46875,TH=.013020833333333334,AH=.007120768229166667,LH=.3645833333333333,NH=.005696614583333333,CH=.3076171875;function Ay(t){var e=[];e[0]=wH-t*(bH+t*(Z3+t*(Y3+t*K3))),e[1]=t*(SH-t*(Z3+t*(Y3+t*K3)));var r=t*t;return e[2]=r*(EH-t*(TH+t*AH)),r*=t,e[3]=r*(LH-t*NH),e[4]=r*t*CH,e}function Td(t,e,r,n){return r*=e,e*=e,n[0]*t-r*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}var MH=20;function Ly(t,e,r){for(var n=1/(1-e),i=t,a=MH;a;--a){var s=Math.sin(i),l=1-e*s*s;if(l=(Td(i,s,Math.cos(i),r)-t)*(l*Math.sqrt(l))*n,i-=l,Math.abs(l)<Dt)return i}return i}function kH(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=Ay(this.es),this.ml0=Td(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function PH(t){var e=t.x,r=t.y,n=It(e-this.long0,this.over),i,a,s,l=Math.sin(r),c=Math.cos(r);if(this.es){var p=c*n,v=Math.pow(p,2),y=this.ep2*Math.pow(c,2),_=Math.pow(y,2),E=Math.abs(c)>Dt?Math.tan(r):0,S=Math.pow(E,2),C=Math.pow(S,2);i=1-this.es*Math.pow(l,2),p=p/Math.sqrt(i);var O=Td(r,l,c,this.en);a=this.a*(this.k0*p*(1+v/6*(1-S+y+v/20*(5-18*S+C+14*y-58*S*y+v/42*(61+179*C-C*S-479*S)))))+this.x0,s=this.a*(this.k0*(O-this.ml0+l*n*p/2*(1+v/12*(5-S+9*y+4*_+v/30*(61+C-58*S+270*y-330*S*y+v/56*(1385+543*C-C*S-3111*S))))))+this.y0}else{var f=c*Math.sin(n);if(Math.abs(Math.abs(f)-1)<Dt)return 93;if(a=.5*this.a*this.k0*Math.log((1+f)/(1-f))+this.x0,s=c*Math.cos(n)/Math.sqrt(1-Math.pow(f,2)),f=Math.abs(s),f>=1){if(f-1>Dt)return 93;s=0}else s=Math.acos(s);r<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return t.x=a,t.y=s,t}function OH(t){var e,r,n,i,a=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,r=Ly(e,this.es,this.en),Math.abs(r)<At){var v=Math.sin(r),y=Math.cos(r),_=Math.abs(y)>Dt?Math.tan(r):0,E=this.ep2*Math.pow(y,2),S=Math.pow(E,2),C=Math.pow(_,2),O=Math.pow(C,2);e=1-this.es*Math.pow(v,2);var j=a*Math.sqrt(e)/this.k0,R=Math.pow(j,2);e=e*_,n=r-e*R/(1-this.es)*.5*(1-R/12*(5+3*C-9*E*C+E-4*S-R/30*(61+90*C-252*E*C+45*O+46*E-R/56*(1385+3633*C+4095*O+1574*O*C)))),i=It(this.long0+j*(1-R/6*(1+2*C+E-R/20*(5+28*C+24*O+8*E*C+6*E-R/42*(61+662*C+1320*O+720*O*C))))/y,this.over)}else n=At*Ap(s),i=0;else{var l=Math.exp(a/this.k0),c=.5*(l-1/l),f=this.lat0+s/this.k0,p=Math.cos(f);e=Math.sqrt((1-Math.pow(p,2))/(1+Math.pow(c,2))),n=Math.asin(e),s<0&&(n=-n),c===0&&p===0?i=0:i=It(Math.atan2(c,p)+this.long0,this.over)}return t.x=i,t.y=n,t}var RH=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const ug={init:kH,forward:PH,inverse:OH,names:RH};function cT(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function wo(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),n=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(n,2))}function DH(t){var e=1+t,r=e-1;return r===0?t:t*Math.log(e)/r}function jH(t){var e=Math.abs(t);return e=DH(e*(1+e/(wo(1,e)+1))),t<0?-e:e}function Ny(t,e){for(var r=2*Math.cos(2*e),n=t.length-1,i=t[n],a=0,s;--n>=0;)s=-a+r*i+t[n],a=i,i=s;return e+s*Math.sin(2*e)}function IH(t,e){for(var r=2*Math.cos(e),n=t.length-1,i=t[n],a=0,s;--n>=0;)s=-a+r*i+t[n],a=i,i=s;return Math.sin(e)*s}function FH(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function hT(t,e,r){for(var n=Math.sin(e),i=Math.cos(e),a=cT(r),s=FH(r),l=2*i*s,c=-2*n*a,f=t.length-1,p=t[f],v=0,y=0,_=0,E,S;--f>=0;)E=y,S=v,y=p,v=_,p=-E+l*y-c*v+t[f],_=-S+c*y+l*v;return l=n*s,c=i*a,[l*p-c*_,l*_+c*p]}function BH(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(ug.init.apply(this),this.forward=ug.forward,this.inverse=ug.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),r=r*e,this.cgb[1]=r*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r=r*e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),r=r*e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(-12/5+e*(-24832/14175))),r=r*e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r=r*e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),r=r*e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r=r*e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r=r*e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r=r*e,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var n=Ny(this.cbg,this.lat0);this.Zb=-this.Qn*(n+IH(this.gtu,2*n))}function UH(t){var e=It(t.x-this.long0,this.over),r=t.y;r=Ny(this.cbg,r);var n=Math.sin(r),i=Math.cos(r),a=Math.sin(e),s=Math.cos(e);r=Math.atan2(n,s*i),e=Math.atan2(a*i,wo(n,i*s)),e=jH(Math.tan(e));var l=hT(this.gtu,2*r,2*e);r=r+l[0],e=e+l[1];var c,f;return Math.abs(e)<=2.623395162778?(c=this.a*(this.Qn*e)+this.x0,f=this.a*(this.Qn*r+this.Zb)+this.y0):(c=1/0,f=1/0),t.x=c,t.y=f,t}function zH(t){var e=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,e=e/this.Qn;var n,i;if(Math.abs(e)<=2.623395162778){var a=hT(this.utg,2*r,2*e);r=r+a[0],e=e+a[1],e=Math.atan(cT(e));var s=Math.sin(r),l=Math.cos(r),c=Math.sin(e),f=Math.cos(e);r=Math.atan2(s*f,wo(c,f*l)),e=Math.atan2(c,f*l),n=It(e+this.long0,this.over),i=Ny(this.cgb,r)}else n=1/0,i=1/0;return t.x=n,t.y=i,t}var GH=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const cg={init:BH,forward:UH,inverse:zH,names:GH};function HH(t,e){if(t===void 0){if(t=Math.floor((It(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var qH="etmerc";function VH(){var t=HH(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Wi,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,cg.init.apply(this),this.forward=cg.forward,this.inverse=cg.inverse}var $H=["Universal Transverse Mercator System","utm"];const WH={init:VH,names:$H,dependsOn:qH};function Cy(t,e){return Math.pow((1-t)/(1+t),e)}var ZH=20;function YH(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+On)/(Math.pow(Math.tan(.5*this.lat0+On),this.C)*Cy(this.e*t,this.ratexp))}function KH(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+On),this.C)*Cy(this.e*Math.sin(r),this.ratexp))-At,t.x=this.C*e,t}function XH(t){for(var e=1e-14,r=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+On)/this.K,1/this.C),a=ZH;a>0&&(n=2*Math.atan(i*Cy(this.e*Math.sin(t.y),-.5*this.e))-At,!(Math.abs(n-t.y)<e));--a)t.y=n;return a?(t.x=r,t.y=n,t):null}const My={init:YH,forward:KH,inverse:XH};function JH(){My.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function QH(t){var e,r,n,i;return t.x=It(t.x-this.long0,this.over),My.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*n),t.x=i*r*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*r*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function eq(t){var e,r,n,i,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=wo(t.x,t.y)){var s=2*Math.atan2(a,this.R2);e=Math.sin(s),r=Math.cos(s),i=Math.asin(r*this.sinc0+t.y*e*this.cosc0/a),n=Math.atan2(t.x*e,a*this.cosc0*r-t.y*this.sinc0*e)}else i=this.phic0,n=0;return t.x=n,t.y=i,My.inverse.apply(this,[t]),t.x=It(t.x+this.long0,this.over),t}var tq=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const rq={init:JH,forward:QH,inverse:eq,names:tq};function ky(t,e,r){return e*=r,Math.tan(.5*(At+t))*Math.pow((1-e)/(1+e),.5*r)}function nq(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Dt&&(this.k0=.5*(1+Ap(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Dt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Dt&&Math.abs(Math.cos(this.lat_ts))>Dt&&(this.k0=.5*this.cons*Du(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Xl(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Du(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(ky(this.lat0,this.sinlat0,this.e))-At,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function iq(t){var e=t.x,r=t.y,n=Math.sin(r),i=Math.cos(r),a,s,l,c,f,p,v=It(e-this.long0,this.over);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=Dt&&Math.abs(r+this.lat0)<=Dt?(t.x=NaN,t.y=NaN,t):this.sphere?(a=2*this.k0/(1+this.sinlat0*n+this.coslat0*i*Math.cos(v)),t.x=this.a*a*i*Math.sin(v)+this.x0,t.y=this.a*a*(this.coslat0*n-this.sinlat0*i*Math.cos(v))+this.y0,t):(s=2*Math.atan(ky(r,n,this.e))-At,c=Math.cos(s),l=Math.sin(s),Math.abs(this.coslat0)<=Dt?(f=Xl(this.e,r*this.con,this.con*n),p=2*this.a*this.k0*f/this.cons,t.x=this.x0+p*Math.sin(e-this.long0),t.y=this.y0-this.con*p*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<Dt?(a=2*this.a*this.k0/(1+c*Math.cos(v)),t.y=a*l):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*l+this.cosX0*c*Math.cos(v))),t.y=a*(this.cosX0*l-this.sinX0*c*Math.cos(v))+this.y0),t.x=a*c*Math.sin(v)+this.x0,t))}function aq(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,a,s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var l=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,r=this.lat0,s<=Dt?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(l)*this.sinlat0+t.y*Math.sin(l)*this.coslat0/s),Math.abs(this.coslat0)<Dt?this.lat0>0?e=It(this.long0+Math.atan2(t.x,-1*t.y),this.over):e=It(this.long0+Math.atan2(t.x,t.y),this.over):e=It(this.long0+Math.atan2(t.x*Math.sin(l),s*this.coslat0*Math.cos(l)-t.y*this.sinlat0*Math.sin(l)),this.over),t.x=e,t.y=r,t)}else if(Math.abs(this.coslat0)<=Dt){if(s<=Dt)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,n=s*this.cons/(2*this.a*this.k0),r=this.con*lp(this.e,n),e=this.con*It(this.con*this.long0+Math.atan2(t.x,-1*t.y),this.over)}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=Dt?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/s),e=It(this.long0+Math.atan2(t.x*Math.sin(i),s*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)),this.over)),r=-1*lp(this.e,Math.tan(.5*(At+a)));return t.x=e,t.y=r,t}var sq=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"];const oq={init:nq,forward:iq,inverse:aq,names:sq,ssfn_:ky};function lq(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,n=this.rf,i=1/n,a=2*i-Math.pow(i,2),s=this.e=Math.sqrt(a);this.R=this.k0*r*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var l=Math.log(Math.tan(Math.PI/4+this.b0/2)),c=Math.log(Math.tan(Math.PI/4+t/2)),f=Math.log((1+s*e)/(1-s*e));this.K=l-this.alpha*c+this.alpha*s/2*f}function uq(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+r)+this.K,i=2*(Math.atan(Math.exp(n))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),l=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(l))/(1-Math.sin(l)))+this.y0,t.x=this.R*s+this.x0,t}function cq(t){for(var e=t.x-this.x0,r=t.y-this.y0,n=e/this.R,i=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(i))),l=this.lambda0+s/this.alpha,c=0,f=a,p=-1e3,v=0;Math.abs(f-p)>1e-7;){if(++v>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(f))/2)),p=f,f=2*Math.atan(Math.exp(c))-Math.PI/2}return t.x=l,t.y=f,t}var hq=["somerc"];const fq={init:lq,forward:uq,inverse:cq,names:hq};var Yf=1e-7;function dq(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof t.projName=="object"?Object.keys(t.projName)[0]:t.projName;return"no_uoff"in t||"no_off"in t||e.indexOf(r)!==-1||e.indexOf(Q8(r))!==-1}function pq(){var t,e,r,n,i,a,s,l,c,f,p=0,v,y=0,_=0,E=0,S=0,C=0,O=0;this.no_off=dq(this),this.no_rot="no_rot"in this;var j=!1;"alpha"in this&&(j=!0);var R=!1;if("rectified_grid_angle"in this&&(R=!0),j&&(O=this.alpha),R&&(p=this.rectified_grid_angle),j||R)y=this.longc;else if(_=this.long1,S=this.lat1,E=this.long2,C=this.lat2,Math.abs(S-C)<=Yf||(t=Math.abs(S))<=Yf||Math.abs(t-At)<=Yf||Math.abs(Math.abs(this.lat0)-At)<=Yf||Math.abs(Math.abs(C)-At)<=Yf)throw new Error;var B=1-this.es;e=Math.sqrt(B),Math.abs(this.lat0)>Dt?(l=Math.sin(this.lat0),r=Math.cos(this.lat0),t=1-this.es*l*l,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/B),this.A=this.B*this.k0*e/t,n=this.B*e/(r*Math.sqrt(t)),i=n*n-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=n,this.E*=Math.pow(Xl(this.e,this.lat0,l),this.B)):(this.B=1/e,this.A=this.k0,this.E=n=i=1),j||R?(j?(v=Math.asin(Math.sin(O)/n),R||(p=O)):(v=p,O=Math.asin(n*Math.sin(v))),this.lam0=y-Math.asin(.5*(i-1/i)*Math.tan(v))/this.B):(a=Math.pow(Xl(this.e,S,Math.sin(S)),this.B),s=Math.pow(Xl(this.e,C,Math.sin(C)),this.B),i=this.E/a,c=(s-a)/(s+a),f=this.E*this.E,f=(f-s*a)/(f+s*a),t=_-E,t<-Math.PI?E-=sp:t>Math.PI&&(E+=sp),this.lam0=It(.5*(_+E)-Math.atan(f*Math.tan(.5*this.B*(_-E))/c)/this.B,this.over),v=Math.atan(2*Math.sin(this.B*It(_-this.lam0,this.over))/(i-1/i)),p=O=Math.asin(n*Math.sin(v))),this.singam=Math.sin(v),this.cosgam=Math.cos(v),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(O))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*v,this.v_pole_n=this.ArB*Math.log(Math.tan(On-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(On+i))}function mq(t){var e={},r,n,i,a,s,l,c,f;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-At)>Dt){if(s=this.E/Math.pow(Xl(this.e,t.y,Math.sin(t.y)),this.B),l=1/s,r=.5*(s-l),n=.5*(s+l),a=Math.sin(this.B*t.x),i=(r*this.singam-a*this.cosgam)/n,Math.abs(Math.abs(i)-1)<Dt)throw new Error;f=.5*this.ArB*Math.log((1-i)/(1+i)),l=Math.cos(this.B*t.x),Math.abs(l)<Yf?c=this.A*t.x:c=this.ArB*Math.atan2(r*this.cosgam+a*this.singam,l)}else f=t.y>0?this.v_pole_n:this.v_pole_s,c=this.ArB*t.y;return this.no_rot?(e.x=c,e.y=f):(c-=this.u_0,e.x=f*this.cosrot+c*this.sinrot,e.y=c*this.cosrot-f*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function gq(t){var e,r,n,i,a,s,l,c={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(r=t.y,e=t.x):(r=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),n=Math.exp(-this.BrA*r),i=.5*(n-1/n),a=.5*(n+1/n),s=Math.sin(this.BrA*e),l=(s*this.cosgam+i*this.singam)/a,Math.abs(Math.abs(l)-1)<Dt)c.x=0,c.y=l<0?-At:At;else{if(c.y=this.E/Math.sqrt((1+l)/(1-l)),c.y=lp(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return c.x+=this.lam0,c}var vq=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const _q={init:pq,forward:mq,inverse:gq,names:vq};function yq(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Dt)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),n=Du(this.e,e,r),i=Xl(this.e,this.lat1,e),a=Math.sin(this.lat2),s=Math.cos(this.lat2),l=Du(this.e,a,s),c=Xl(this.e,this.lat2,a),f=Math.abs(Math.abs(this.lat0)-At)<Dt?0:Xl(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Dt?this.ns=Math.log(n/l)/Math.log(i/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function xq(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=Dt&&(r=Ap(r)*(At-2*Dt));var n=Math.abs(Math.abs(r)-At),i,a;if(n>Dt)i=Xl(this.e,r,Math.sin(r)),a=this.a*this.f0*Math.pow(i,this.ns);else{if(n=r*this.ns,n<=0)return null;a=0}var s=this.ns*It(e-this.long0,this.over);return t.x=this.k0*(a*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-a*Math.cos(s))+this.y0,t}function wq(t){var e,r,n,i,a,s=(t.x-this.x0)/this.k0,l=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+l*l),r=1):(e=-Math.sqrt(s*s+l*l),r=-1);var c=0;if(e!==0&&(c=Math.atan2(r*s,r*l)),e!==0||this.ns>0){if(r=1/this.ns,n=Math.pow(e/(this.a*this.f0),r),i=lp(this.e,n),i===-9999)return null}else i=-At;return a=It(c/this.ns+this.long0,this.over),t.x=a,t.y=i,t}var bq=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const Sq={init:yq,forward:xq,inverse:wq,names:bq};function Eq(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Tq(t){var e,r,n,i,a,s,l,c=t.x,f=t.y,p=It(c-this.long0,this.over);return e=Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(f/2+this.s45),this.alfa)/e)-this.s45),n=-p*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),a=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(i)),s=this.n*a,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=l*Math.cos(s)/1,t.x=l*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Aq(t){var e,r,n,i,a,s,l,c,f=t.x;t.x=t.y,t.y=f,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x),i=a/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(e)),t.x=this.long0-r/this.alfa,l=e,c=0;var p=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.e/2))-this.s45),Math.abs(l-t.y)<1e-10&&(c=1),l=t.y,p+=1;while(c===0&&p<15);return p>=15?null:t}var Lq=["Krovak","krovak"];const Nq={init:Eq,forward:Tq,inverse:Aq,names:Lq};function Xs(t,e,r,n,i){return t*i-e*Math.sin(2*i)+r*Math.sin(4*i)-n*Math.sin(6*i)}function Lp(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Np(t){return .375*t*(1+.25*t*(1+.46875*t))}function Cp(t){return .05859375*t*t*(1+.75*t)}function Mp(t){return t*t*t*(35/3072)}function Py(t,e,r){var n=e*r;return t/Math.sqrt(1-n*n)}function uh(t){return Math.abs(t)<At?t:t-Ap(t)*Math.PI}function Hg(t,e,r,n,i){var a,s;a=t/e;for(var l=0;l<15;l++)if(s=(t-(e*a-r*Math.sin(2*a)+n*Math.sin(4*a)-i*Math.sin(6*a)))/(e-2*r*Math.cos(2*a)+4*n*Math.cos(4*a)-6*i*Math.cos(6*a)),a+=s,Math.abs(s)<=1e-10)return a;return NaN}function Cq(){this.sphere||(this.e0=Lp(this.es),this.e1=Np(this.es),this.e2=Cp(this.es),this.e3=Mp(this.es),this.ml0=this.a*Xs(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Mq(t){var e,r,n=t.x,i=t.y;if(n=It(n-this.long0,this.over),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(n)),r=this.a*(Math.atan2(Math.tan(i),Math.cos(n))-this.lat0);else{var a=Math.sin(i),s=Math.cos(i),l=Py(this.a,this.e,a),c=Math.tan(i)*Math.tan(i),f=n*Math.cos(i),p=f*f,v=this.es*s*s/(1-this.es),y=this.a*Xs(this.e0,this.e1,this.e2,this.e3,i);e=l*f*(1-p*c*(1/6-(8-c+8*v)*p/120)),r=y-this.ml0+l*a/s*p*(.5+(5-c+6*v)*p/24)}return t.x=e+this.x0,t.y=r+this.y0,t}function kq(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,i;if(this.sphere){var a=r+this.lat0;n=Math.asin(Math.sin(a)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(a))}else{var s=this.ml0/this.a+r,l=Hg(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-At)<=Dt)return t.x=this.long0,t.y=At,r<0&&(t.y*=-1),t;var c=Py(this.a,this.e,Math.sin(l)),f=c*c*c/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(l),2),v=e*this.a/c,y=v*v;n=l-c*Math.tan(l)/f*v*v*(.5-(1+3*p)*v*v/24),i=v*(1-y*(p/3+(1+3*p)*p*y/15))/Math.cos(l)}return t.x=It(i+this.long0,this.over),t.y=uh(n),t}var Pq=["Cassini","Cassini_Soldner","cass"];const Oq={init:Cq,forward:Mq,inverse:kq,names:Pq};function th(t,e){var r;return t>1e-7?(r=t*e,(1-t*t)*(e/(1-r*r)-.5/t*Math.log((1-r)/(1+r)))):2*e}var N_=1,C_=2,M_=3,hg=4;function Rq(){var t=Math.abs(this.lat0);if(Math.abs(t-At)<Dt?this.mode=this.lat0<0?N_:C_:Math.abs(t)<Dt?this.mode=M_:this.mode=hg,this.es>0){var e;switch(this.qp=th(this.e,1),this.mmf=.5/(1-this.es),this.apa=Hq(this.es),this.mode){case C_:this.dd=1;break;case N_:this.dd=1;break;case M_:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case hg:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=th(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===hg&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Dq(t){var e,r,n,i,a,s,l,c,f,p,v=t.x,y=t.y;if(v=It(v-this.long0,this.over),this.sphere){if(a=Math.sin(y),p=Math.cos(y),n=Math.cos(v),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+p*n:1+this.sinph0*a+this.cosph0*p*n,r<=Dt)return null;r=Math.sqrt(2/r),e=r*p*Math.sin(v),r*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*p*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(y+this.lat0)<Dt)return null;r=On-y*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),e=r*Math.sin(v),r*=n}}else{switch(l=0,c=0,f=0,n=Math.cos(v),i=Math.sin(v),a=Math.sin(y),s=th(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(l=s/this.qp,c=Math.sqrt(1-l*l)),this.mode){case this.OBLIQ:f=1+this.sinb1*l+this.cosb1*c*n;break;case this.EQUIT:f=1+c*n;break;case this.N_POLE:f=At+y,s=this.qp-s;break;case this.S_POLE:f=y-At,s=this.qp+s;break}if(Math.abs(f)<Dt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),this.mode===this.OBLIQ?r=this.ymf*f*(this.cosb1*l-this.sinb1*c*n):r=(f=Math.sqrt(2/(1+c*n)))*l*this.ymf,e=this.xmf*f*c*i;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(f=Math.sqrt(s))*i,r=n*(this.mode===this.S_POLE?f:-f)):e=r=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t}function jq(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,i,a,s,l,c,f;if(this.sphere){var p=0,v,y=0;if(v=Math.sqrt(e*e+r*r),i=v*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(y=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(v)<=Dt?0:Math.asin(r*y/v),e*=y,r=p*v;break;case this.OBLIQ:i=Math.abs(v)<=Dt?this.lat0:Math.asin(p*this.sinph0+r*y*this.cosph0/v),e*=y*this.cosph0,r=(p-Math.sin(i)*this.sinph0)*v;break;case this.N_POLE:r=-r,i=At-i;break;case this.S_POLE:i-=At;break}n=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,r)}else{if(f=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,r*=this.dd,c=Math.sqrt(e*e+r*r),c<Dt)return t.x=this.long0,t.y=this.lat0,t;s=2*Math.asin(.5*c/this.rq),a=Math.cos(s),e*=s=Math.sin(s),this.mode===this.OBLIQ?(f=a*this.sinb1+r*s*this.cosb1/c,l=this.qp*f,r=c*this.cosb1*a-r*this.sinb1*s):(f=r*s/c,l=this.qp*f,r=c*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),l=e*e+r*r,!l)return t.x=this.long0,t.y=this.lat0,t;f=1-l/this.qp,this.mode===this.S_POLE&&(f=-f)}n=Math.atan2(e,r),i=qq(Math.asin(f),this.apa)}return t.x=It(this.long0+n,this.over),t.y=i,t}var Iq=.3333333333333333,Fq=.17222222222222222,Bq=.10257936507936508,Uq=.06388888888888888,zq=.0664021164021164,Gq=.016415012942191543;function Hq(t){var e,r=[];return r[0]=t*Iq,e=t*t,r[0]+=e*Fq,r[1]=e*Uq,e*=t,r[0]+=e*Bq,r[1]+=e*zq,r[2]=e*Gq,r}function qq(t,e){var r=t+t;return t+e[0]*Math.sin(r)+e[1]*Math.sin(r+r)+e[2]*Math.sin(r+r+r)}var Vq=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const $q={init:Rq,forward:Dq,inverse:jq,names:Vq,S_POLE:N_,N_POLE:C_,EQUIT:M_,OBLIQ:hg};function oh(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Wq(){Math.abs(this.lat1+this.lat2)<Dt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Du(this.e3,this.sin_po,this.cos_po),this.qs1=th(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Du(this.e3,this.sin_po,this.cos_po),this.qs2=th(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=th(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Dt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Zq(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var n=th(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*It(e-this.long0,this.over),s=i*Math.sin(a)+this.x0,l=this.rh-i*Math.cos(a)+this.y0;return t.x=s,t.y=l,t}function Yq(t){var e,r,n,i,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),i=0,e!==0&&(i=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-n*n)/(2*this.ns0)):(r=(this.c-n*n)/this.ns0,s=this.phi1z(this.e3,r)),a=It(i/this.ns0+this.long0,this.over),t.x=a,t.y=s,t}function Kq(t,e){var r,n,i,a,s,l=oh(.5*e);if(t<Dt)return l;for(var c=t*t,f=1;f<=25;f++)if(r=Math.sin(l),n=Math.cos(l),i=t*r,a=1-i*i,s=.5*a*a/n*(e/(1-c)-r/a+.5/t*Math.log((1-i)/(1+i))),l=l+s,Math.abs(s)<=1e-7)return l;return null}var Xq=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"];const Jq={init:Wq,forward:Zq,inverse:Yq,names:Xq,phi1z:Kq};function Qq(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function eV(t){var e,r,n,i,a,s,l,c,f=t.x,p=t.y;return n=It(f-this.long0,this.over),e=Math.sin(p),r=Math.cos(p),i=Math.cos(n),s=this.sin_p14*e+this.cos_p14*r*i,a=1,s>0||Math.abs(s)<=Dt?(l=this.x0+this.a*a*r*Math.sin(n)/s,c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*r*i)/s):(l=this.x0+this.infinity_dist*r*Math.sin(n),c=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*i)),t.x=l,t.y=c,t}function tV(t){var e,r,n,i,a,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),r=Math.sin(i),n=Math.cos(i),s=oh(n*this.sin_p14+t.y*r*this.cos_p14/e),a=Math.atan2(t.x*r,e*this.cos_p14*n-t.y*this.sin_p14*r),a=It(this.long0+a,this.over)):(s=this.phic0,a=0),t.x=a,t.y=s,t}var rV=["gnom"];const nV={init:Qq,forward:eV,inverse:tV,names:rV};function iV(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*At:At;for(var n=Math.asin(.5*e),i,a,s,l,c=0;c<30;c++)if(a=Math.sin(n),s=Math.cos(n),l=t*a,i=Math.pow(1-l*l,2)/(2*s)*(e/(1-t*t)-a/(1-l*l)+.5/t*Math.log((1-l)/(1+l))),n+=i,Math.abs(i)<=1e-10)return n;return NaN}function aV(){this.sphere||(this.k0=Du(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function sV(t){var e=t.x,r=t.y,n,i,a=It(e-this.long0,this.over);if(this.sphere)n=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=th(this.e,Math.sin(r));n=this.x0+this.a*this.k0*a,i=this.y0+this.a*s*.5/this.k0}return t.x=n,t.y=i,t}function oV(t){t.x-=this.x0,t.y-=this.y0;var e,r;return this.sphere?(e=It(this.long0+t.x/this.a/Math.cos(this.lat_ts),this.over),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=iV(this.e,2*t.y*this.k0/this.a),e=It(this.long0+t.x/(this.a*this.k0),this.over)),t.x=e,t.y=r,t}var lV=["cea"];const uV={init:aV,forward:sV,inverse:oV,names:lV};function cV(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function hV(t){var e=t.x,r=t.y,n=It(e-this.long0,this.over),i=uh(r-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*i,t}function fV(t){var e=t.x,r=t.y;return t.x=It(this.long0+(e-this.x0)/(this.a*this.rc),this.over),t.y=uh(this.lat0+(r-this.y0)/this.a),t}var dV=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"];const pV={init:cV,forward:hV,inverse:fV,names:dV};var X3=20;function mV(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Lp(this.es),this.e1=Np(this.es),this.e2=Cp(this.es),this.e3=Mp(this.es),this.ml0=this.a*Xs(this.e0,this.e1,this.e2,this.e3,this.lat0)}function gV(t){var e=t.x,r=t.y,n,i,a,s=It(e-this.long0,this.over);if(a=s*Math.sin(r),this.sphere)Math.abs(r)<=Dt?(n=this.a*s,i=-1*this.a*this.lat0):(n=this.a*Math.sin(a)/Math.tan(r),i=this.a*(uh(r-this.lat0)+(1-Math.cos(a))/Math.tan(r)));else if(Math.abs(r)<=Dt)n=this.a*s,i=-1*this.ml0;else{var l=Py(this.a,this.e,Math.sin(r))/Math.tan(r);n=l*Math.sin(a),i=this.a*Xs(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+l*(1-Math.cos(a))}return t.x=n+this.x0,t.y=i+this.y0,t}function vV(t){var e,r,n,i,a,s,l,c,f;if(n=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Dt)e=It(n/this.a+this.long0,this.over),r=0;else{s=this.lat0+i/this.a,l=n*n/this.a/this.a+s*s,c=s;var p;for(a=X3;a;--a)if(p=Math.tan(c),f=-1*(s*(c*p+1)-c-.5*(c*c+l)*p)/((c-s)/p-1),c+=f,Math.abs(f)<=Dt){r=c;break}e=It(this.long0+Math.asin(n*Math.tan(c)/this.a)/Math.sin(r),this.over)}else if(Math.abs(i+this.ml0)<=Dt)r=0,e=It(this.long0+n/this.a,this.over);else{s=(this.ml0+i)/this.a,l=n*n/this.a/this.a+s*s,c=s;var v,y,_,E,S;for(a=X3;a;--a)if(S=this.e*Math.sin(c),v=Math.sqrt(1-S*S)*Math.tan(c),y=this.a*Xs(this.e0,this.e1,this.e2,this.e3,c),_=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),E=y/this.a,f=(s*(v*E+1)-E-.5*v*(E*E+l))/(this.es*Math.sin(2*c)*(E*E+l-2*s*E)/(4*v)+(s-E)*(v*_-2/Math.sin(2*c))-_),c-=f,Math.abs(f)<=Dt){r=c;break}v=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=It(this.long0+Math.asin(n*v/this.a)/Math.sin(r),this.over)}return t.x=e,t.y=r,t}var _V=["Polyconic","American_Polyconic","poly"];const yV={init:mV,forward:gV,inverse:vV,names:_V};function xV(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function wV(t){var e,r=t.x,n=t.y,i=n-this.lat0,a=r-this.long0,s=i/D0*1e-5,l=a,c=1,f=0;for(e=1;e<=10;e++)c=c*s,f=f+this.A[e]*c;var p=f,v=l,y=1,_=0,E,S,C=0,O=0;for(e=1;e<=6;e++)E=y*p-_*v,S=_*p+y*v,y=E,_=S,C=C+this.B_re[e]*y-this.B_im[e]*_,O=O+this.B_im[e]*y+this.B_re[e]*_;return t.x=O*this.a+this.x0,t.y=C*this.a+this.y0,t}function bV(t){var e,r=t.x,n=t.y,i=r-this.x0,a=n-this.y0,s=a/this.a,l=i/this.a,c=1,f=0,p,v,y=0,_=0;for(e=1;e<=6;e++)p=c*s-f*l,v=f*s+c*l,c=p,f=v,y=y+this.C_re[e]*c-this.C_im[e]*f,_=_+this.C_im[e]*c+this.C_re[e]*f;for(var E=0;E<this.iterations;E++){var S=y,C=_,O,j,R=s,B=l;for(e=2;e<=6;e++)O=S*y-C*_,j=C*y+S*_,S=O,C=j,R=R+(e-1)*(this.B_re[e]*S-this.B_im[e]*C),B=B+(e-1)*(this.B_im[e]*S+this.B_re[e]*C);S=1,C=0;var J=this.B_re[1],re=this.B_im[1];for(e=2;e<=6;e++)O=S*y-C*_,j=C*y+S*_,S=O,C=j,J=J+e*(this.B_re[e]*S-this.B_im[e]*C),re=re+e*(this.B_im[e]*S+this.B_re[e]*C);var F=J*J+re*re;y=(R*J+B*re)/F,_=(B*J-R*re)/F}var K=y,U=_,X=1,I=0;for(e=1;e<=9;e++)X=X*K,I=I+this.D[e]*X;var W=this.lat0+I*D0*1e5,ue=this.long0+U;return t.x=ue,t.y=W,t}var SV=["New_Zealand_Map_Grid","nzmg"];const EV={init:xV,forward:wV,inverse:bV,names:SV};function TV(){}function AV(t){var e=t.x,r=t.y,n=It(e-this.long0,this.over),i=this.x0+this.a*n,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=i,t.y=a,t}function LV(t){t.x-=this.x0,t.y-=this.y0;var e=It(this.long0+t.x/this.a,this.over),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t}var NV=["Miller_Cylindrical","mill"];const CV={init:TV,forward:AV,inverse:LV,names:NV};var MV=20;function kV(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ay(this.es)}function PV(t){var e,r,n=t.x,i=t.y;if(n=It(n-this.long0,this.over),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var a=this.n*Math.sin(i),s=MV;s;--s){var l=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=l,Math.abs(l)<Dt)break}e=this.a*this.C_x*n*(this.m+Math.cos(i)),r=this.a*this.C_y*i}else{var c=Math.sin(i),f=Math.cos(i);r=this.a*Td(i,c,f,this.en),e=this.a*n*f/Math.sqrt(1-this.es*c*c)}return t.x=e,t.y=r,t}function OV(t){var e,r,n,i;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n=n/(this.C_x*(this.m+Math.cos(e))),this.m?e=oh((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=oh(Math.sin(e)/this.n)),n=It(n+this.long0,this.over),e=uh(e)):(e=Ly(t.y/this.a,this.es,this.en),i=Math.abs(e),i<At?(i=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),n=It(r,this.over)):i-Dt<At&&(n=this.long0)),t.x=n,t.y=e,t}var RV=["Sinusoidal","sinu"];const DV={init:kV,forward:PV,inverse:OV,names:RV};function jV(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0}function IV(t){for(var e=t.x,r=t.y,n=It(e-this.long0,this.over),i=r,a=Math.PI*Math.sin(r);;){var s=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=s,Math.abs(s)<Dt)break}i/=2,Math.PI/2-Math.abs(r)<Dt&&(n=0);var l=.900316316158*this.a*n*Math.cos(i)+this.x0,c=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=l,t.y=c,t}function FV(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var n=It(this.long0+t.x/(.900316316158*this.a*Math.cos(e)),this.over);n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var i=Math.asin(r);return t.x=n,t.y=i,t}var BV=["Mollweide","moll"];const UV={init:jV,forward:IV,inverse:FV,names:BV};function zV(){Math.abs(this.lat1+this.lat2)<Dt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Lp(this.es),this.e1=Np(this.es),this.e2=Cp(this.es),this.e3=Mp(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=Du(this.e,this.sin_phi,this.cos_phi),this.ml1=Xs(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Dt?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=Du(this.e,this.sin_phi,this.cos_phi),this.ml2=Xs(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Xs(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function GV(t){var e=t.x,r=t.y,n;if(this.sphere)n=this.a*(this.g-r);else{var i=Xs(this.e0,this.e1,this.e2,this.e3,r);n=this.a*(this.g-i)}var a=this.ns*It(e-this.long0,this.over),s=this.x0+n*Math.sin(a),l=this.y0+this.rh-n*Math.cos(a);return t.x=s,t.y=l,t}function HV(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,r,n,i;this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;if(r!==0&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=It(this.long0+a/this.ns,this.over),n=uh(this.g-r/this.a),t.x=i,t.y=n,t;var s=this.g-r/this.a;return n=Hg(s,this.e0,this.e1,this.e2,this.e3),i=It(this.long0+a/this.ns,this.over),t.x=i,t.y=n,t}var qV=["Equidistant_Conic","eqdc"];const VV={init:zV,forward:GV,inverse:HV,names:qV};function $V(){this.R=this.a}function WV(t){var e=t.x,r=t.y,n=It(e-this.long0,this.over),i,a;Math.abs(r)<=Dt&&(i=this.x0+this.R*n,a=this.y0);var s=oh(2*Math.abs(r/Math.PI));(Math.abs(n)<=Dt||Math.abs(Math.abs(r)-At)<=Dt)&&(i=this.x0,r>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*s):a=this.y0+Math.PI*this.R*-Math.tan(.5*s));var l=.5*Math.abs(Math.PI/n-n/Math.PI),c=l*l,f=Math.sin(s),p=Math.cos(s),v=p/(f+p-1),y=v*v,_=v*(2/f-1),E=_*_,S=Math.PI*this.R*(l*(v-E)+Math.sqrt(c*(v-E)*(v-E)-(E+c)*(y-E)))/(E+c);n<0&&(S=-S),i=this.x0+S;var C=c+v;return S=Math.PI*this.R*(_*C-l*Math.sqrt((E+c)*(c+1)-C*C))/(E+c),r>=0?a=this.y0+S:a=this.y0-S,t.x=i,t.y=a,t}function ZV(t){var e,r,n,i,a,s,l,c,f,p,v,y,_;return t.x-=this.x0,t.y-=this.y0,v=Math.PI*this.R,n=t.x/v,i=t.y/v,a=n*n+i*i,s=-Math.abs(i)*(1+a),l=s-2*i*i+n*n,c=-2*s+1+2*i*i+a*a,_=i*i/c+(2*l*l*l/c/c/c-9*s*l/c/c)/27,f=(s-l*l/3/c)/c,p=2*Math.sqrt(-f/3),v=3*_/f/p,Math.abs(v)>1&&(v>=0?v=1:v=-1),y=Math.acos(v)/3,t.y>=0?r=(-p*Math.cos(y+Math.PI/3)-l/3/c)*Math.PI:r=-(-p*Math.cos(y+Math.PI/3)-l/3/c)*Math.PI,Math.abs(n)<Dt?e=this.long0:e=It(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(n*n-i*i)+a*a))/2/n,this.over),t.x=e,t.y=r,t}var YV=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"];const KV={init:$V,forward:WV,inverse:ZV,names:YV};function XV(t,e,r,n,i,a){const s=n-e,l=Math.atan((1-a)*Math.tan(t)),c=Math.atan((1-a)*Math.tan(r)),f=Math.sin(l),p=Math.cos(l),v=Math.sin(c),y=Math.cos(c);let _=s,E,S=100,C,O,j,R,B,J,re,F,K,U,X,I,W,ue;do{if(C=Math.sin(_),O=Math.cos(_),j=Math.sqrt(y*C*(y*C)+(p*v-f*y*O)*(p*v-f*y*O)),j===0)return{azi1:0,s12:0};R=f*v+p*y*O,B=Math.atan2(j,R),J=p*y*C/j,re=1-J*J,F=re!==0?R-2*f*v/re:0,K=a/16*re*(4+a*(4-3*re)),E=_,_=s+(1-K)*a*J*(B+K*j*(F+K*R*(-1+2*F*F)))}while(Math.abs(_-E)>1e-12&&--S>0);return S===0?{azi1:NaN,s12:NaN}:(U=re*(i*i-i*(1-a)*(i*(1-a)))/(i*(1-a)*(i*(1-a))),X=1+U/16384*(4096+U*(-768+U*(320-175*U))),I=U/1024*(256+U*(-128+U*(74-47*U))),W=I*j*(F+I/4*(R*(-1+2*F*F)-I/6*F*(-3+4*j*j)*(-3+4*F*F))),ue=i*(1-a)*X*(B-W),{azi1:Math.atan2(y*C,p*v-f*y*O),s12:ue})}function JV(t,e,r,n,i,a){const s=Math.atan((1-a)*Math.tan(t)),l=Math.sin(s),c=Math.cos(s),f=Math.sin(r),p=Math.cos(r),v=Math.atan2(l,c*p),y=c*f,_=1-y*y,E=_*(i*i-i*(1-a)*(i*(1-a)))/(i*(1-a)*(i*(1-a))),S=1+E/16384*(4096+E*(-768+E*(320-175*E))),C=E/1024*(256+E*(-128+E*(74-47*E)));let O=n/(i*(1-a)*S),j,R=100,B,J,re,F;do B=Math.cos(2*v+O),J=Math.sin(O),re=Math.cos(O),F=C*J*(B+C/4*(re*(-1+2*B*B)-C/6*B*(-3+4*J*J)*(-3+4*B*B))),j=O,O=n/(i*(1-a)*S)+F;while(Math.abs(O-j)>1e-12&&--R>0);if(R===0)return{lat2:NaN,lon2:NaN};const K=l*J-c*re*p,U=Math.atan2(l*re+c*J*p,(1-a)*Math.sqrt(y*y+K*K)),X=Math.atan2(J*f,c*re-l*J*p),I=a/16*_*(4+a*(4-3*_)),W=X-(1-I)*a*y*(O+I*J*(B+I*re*(-1+2*B*B))),ue=e+W;return{lat2:U,lon2:ue}}function QV(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function e$(t){var e=t.x,r=t.y,n=Math.sin(t.y),i=Math.cos(t.y),a=It(e-this.long0,this.over),s,l,c,f,p,v,y,_,E,S,C;return this.sphere?Math.abs(this.sin_p12-1)<=Dt?(t.x=this.x0+this.a*(At-r)*Math.sin(a),t.y=this.y0-this.a*(At-r)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=Dt?(t.x=this.x0+this.a*(At+r)*Math.sin(a),t.y=this.y0+this.a*(At+r)*Math.cos(a),t):(E=this.sin_p12*n+this.cos_p12*i*Math.cos(a),y=Math.acos(E),_=y?y/Math.sin(y):1,t.x=this.x0+this.a*_*i*Math.sin(a),t.y=this.y0+this.a*_*(this.cos_p12*n-this.sin_p12*i*Math.cos(a)),t):(s=Lp(this.es),l=Np(this.es),c=Cp(this.es),f=Mp(this.es),Math.abs(this.sin_p12-1)<=Dt?(p=this.a*Xs(s,l,c,f,At),v=this.a*Xs(s,l,c,f,r),t.x=this.x0+(p-v)*Math.sin(a),t.y=this.y0-(p-v)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=Dt?(p=this.a*Xs(s,l,c,f,At),v=this.a*Xs(s,l,c,f,r),t.x=this.x0+(p+v)*Math.sin(a),t.y=this.y0+(p+v)*Math.cos(a),t):Math.abs(e)<Dt&&Math.abs(r-this.lat0)<Dt?(t.x=t.y=0,t):(S=XV(this.lat0,this.long0,r,e,this.a,this.f),C=S.azi1,t.x=S.s12*Math.sin(C),t.y=S.s12*Math.cos(C),t))}function t$(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,a,s,l,c,f,p,v,y,_,E,S,C;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*At*this.a?void 0:(r=e/this.a,n=Math.sin(r),i=Math.cos(r),a=this.long0,Math.abs(e)<=Dt?s=this.lat0:(s=oh(i*this.sin_p12+t.y*n*this.cos_p12/e),l=Math.abs(this.lat0)-At,Math.abs(l)<=Dt?this.lat0>=0?a=It(this.long0+Math.atan2(t.x,-t.y),this.over):a=It(this.long0-Math.atan2(-t.x,t.y),this.over):a=It(this.long0+Math.atan2(t.x*n,e*this.cos_p12*i-t.y*this.sin_p12*n),this.over)),t.x=a,t.y=s,t)):(c=Lp(this.es),f=Np(this.es),p=Cp(this.es),v=Mp(this.es),Math.abs(this.sin_p12-1)<=Dt?(y=this.a*Xs(c,f,p,v,At),e=Math.sqrt(t.x*t.x+t.y*t.y),_=y-e,s=Hg(_/this.a,c,f,p,v),a=It(this.long0+Math.atan2(t.x,-1*t.y),this.over),t.x=a,t.y=s,t):Math.abs(this.sin_p12+1)<=Dt?(y=this.a*Xs(c,f,p,v,At),e=Math.sqrt(t.x*t.x+t.y*t.y),_=e-y,s=Hg(_/this.a,c,f,p,v),a=It(this.long0+Math.atan2(t.x,t.y),this.over),t.x=a,t.y=s,t):(E=Math.atan2(t.x,t.y),S=Math.sqrt(t.x*t.x+t.y*t.y),C=JV(this.lat0,this.long0,E,S,this.a,this.f),t.x=C.lon2,t.y=C.lat2,t))}var r$=["Azimuthal_Equidistant","aeqd"];const n$={init:QV,forward:e$,inverse:t$,names:r$};function i$(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function a$(t){var e,r,n,i,a,s,l,c,f=t.x,p=t.y;return n=It(f-this.long0,this.over),e=Math.sin(p),r=Math.cos(p),i=Math.cos(n),s=this.sin_p14*e+this.cos_p14*r*i,a=1,(s>0||Math.abs(s)<=Dt)&&(l=this.a*a*r*Math.sin(n),c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*r*i)),t.x=l,t.y=c,t}function s$(t){var e,r,n,i,a,s,l;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),r=oh(e/this.a),n=Math.sin(r),i=Math.cos(r),s=this.long0,Math.abs(e)<=Dt?(l=this.lat0,t.x=s,t.y=l,t):(l=oh(i*this.sin_p14+t.y*n*this.cos_p14/e),a=Math.abs(this.lat0)-At,Math.abs(a)<=Dt?(this.lat0>=0?s=It(this.long0+Math.atan2(t.x,-t.y),this.over):s=It(this.long0-Math.atan2(-t.x,t.y),this.over),t.x=s,t.y=l,t):(s=It(this.long0+Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),this.over),t.x=s,t.y=l,t))}var o$=["ortho"];const l$={init:i$,forward:a$,inverse:s$,names:o$};var ji={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Rn={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function u$(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=At-On/2?this.face=ji.TOP:this.lat0<=-(At-On/2)?this.face=ji.BOTTOM:Math.abs(this.long0)<=On?this.face=ji.FRONT:Math.abs(this.long0)<=At+On?this.face=this.long0>0?ji.RIGHT:ji.LEFT:this.face=ji.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function c$(t){var e={x:0,y:0},r,n,i,a,s,l,c={value:0};if(t.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):r=t.y,n=t.x,this.face===ji.TOP)a=At-r,n>=On&&n<=At+On?(c.value=Rn.AREA_0,i=n-At):n>At+On||n<=-(At+On)?(c.value=Rn.AREA_1,i=n>0?n-la:n+la):n>-(At+On)&&n<=-On?(c.value=Rn.AREA_2,i=n+At):(c.value=Rn.AREA_3,i=n);else if(this.face===ji.BOTTOM)a=At+r,n>=On&&n<=At+On?(c.value=Rn.AREA_0,i=-n+At):n<On&&n>=-On?(c.value=Rn.AREA_1,i=-n):n<-On&&n>=-(At+On)?(c.value=Rn.AREA_2,i=-n-At):(c.value=Rn.AREA_3,i=n>0?-n+la:-n-la);else{var f,p,v,y,_,E,S;this.face===ji.RIGHT?n=md(n,+At):this.face===ji.BACK?n=md(n,+la):this.face===ji.LEFT&&(n=md(n,-At)),y=Math.sin(r),_=Math.cos(r),E=Math.sin(n),S=Math.cos(n),f=_*S,p=_*E,v=y,this.face===ji.FRONT?(a=Math.acos(f),i=Km(a,v,p,c)):this.face===ji.RIGHT?(a=Math.acos(p),i=Km(a,v,-f,c)):this.face===ji.BACK?(a=Math.acos(-f),i=Km(a,v,-p,c)):this.face===ji.LEFT?(a=Math.acos(-p),i=Km(a,v,f,c)):(a=i=0,c.value=Rn.AREA_0)}return l=Math.atan(12/la*(i+Math.acos(Math.sin(i)*Math.cos(On))-At)),s=Math.sqrt((1-Math.cos(a))/(Math.cos(l)*Math.cos(l))/(1-Math.cos(Math.atan(1/Math.cos(i))))),c.value===Rn.AREA_1?l+=At:c.value===Rn.AREA_2?l+=la:c.value===Rn.AREA_3&&(l+=1.5*la),e.x=s*Math.cos(l),e.y=s*Math.sin(l),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function h$(t){var e={lam:0,phi:0},r,n,i,a,s,l,c,f,p,v={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),r=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?v.value=Rn.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(v.value=Rn.AREA_1,r-=At):t.x<0&&-t.x>=Math.abs(t.y)?(v.value=Rn.AREA_2,r=r<0?r+la:r-la):(v.value=Rn.AREA_3,r+=At),p=la/12*Math.tan(r),s=Math.sin(p)/(Math.cos(p)-1/Math.sqrt(2)),l=Math.atan(s),i=Math.cos(r),a=Math.tan(n),c=1-i*i*a*a*(1-Math.cos(Math.atan(1/Math.cos(l)))),c<-1?c=-1:c>1&&(c=1),this.face===ji.TOP)f=Math.acos(c),e.phi=At-f,v.value===Rn.AREA_0?e.lam=l+At:v.value===Rn.AREA_1?e.lam=l<0?l+la:l-la:v.value===Rn.AREA_2?e.lam=l-At:e.lam=l;else if(this.face===ji.BOTTOM)f=Math.acos(c),e.phi=f-At,v.value===Rn.AREA_0?e.lam=-l+At:v.value===Rn.AREA_1?e.lam=-l:v.value===Rn.AREA_2?e.lam=-l-At:e.lam=l<0?-l-la:-l+la;else{var y,_,E;y=c,p=y*y,p>=1?E=0:E=Math.sqrt(1-p)*Math.sin(l),p+=E*E,p>=1?_=0:_=Math.sqrt(1-p),v.value===Rn.AREA_1?(p=_,_=-E,E=p):v.value===Rn.AREA_2?(_=-_,E=-E):v.value===Rn.AREA_3&&(p=_,_=E,E=-p),this.face===ji.RIGHT?(p=y,y=-_,_=p):this.face===ji.BACK?(y=-y,_=-_):this.face===ji.LEFT&&(p=y,y=_,_=-p),e.phi=Math.acos(-E)-At,e.lam=Math.atan2(_,y),this.face===ji.RIGHT?e.lam=md(e.lam,-At):this.face===ji.BACK?e.lam=md(e.lam,-la):this.face===ji.LEFT&&(e.lam=md(e.lam,+At))}if(this.es!==0){var S,C,O;S=e.phi<0?1:0,C=Math.tan(e.phi),O=this.b/Math.sqrt(C*C+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-O*O)/(this.one_minus_f*O)),S&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function Km(t,e,r,n){var i;return t<Dt?(n.value=Rn.AREA_0,i=0):(i=Math.atan2(e,r),Math.abs(i)<=On?n.value=Rn.AREA_0:i>On&&i<=At+On?(n.value=Rn.AREA_1,i-=At):i>At+On||i<=-(At+On)?(n.value=Rn.AREA_2,i=i>=0?i-la:i+la):(n.value=Rn.AREA_3,i+=At)),i}function md(t,e){var r=t+e;return r<-la?r+=sp:r>+la&&(r-=sp),r}var f$=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const d$={init:u$,forward:c$,inverse:h$,names:f$};var k_=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],x0=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],fT=.8487,dT=1.3523,pT=bo/5,p$=1/pT,nd=18,qg=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},m$=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function g$(t,e,r,n){for(var i=e;n;--n){var a=t(i);if(i-=a,Math.abs(a)<r)break}return i}function v$(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function _$(t){var e=It(t.x-this.long0,this.over),r=Math.abs(t.y),n=Math.floor(r*pT);n<0?n=0:n>=nd&&(n=nd-1),r=bo*(r-p$*n);var i={x:qg(k_[n],r)*e,y:qg(x0[n],r)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*fT+this.x0,i.y=i.y*this.a*dT+this.y0,i}function y$(t){var e={x:(t.x-this.x0)/(this.a*fT),y:Math.abs(t.y-this.y0)/(this.a*dT)};if(e.y>=1)e.x/=k_[nd][0],e.y=t.y<0?-At:At;else{var r=Math.floor(e.y*nd);for(r<0?r=0:r>=nd&&(r=nd-1);;)if(x0[r][0]>e.y)--r;else if(x0[r+1][0]<=e.y)++r;else break;var n=x0[r],i=5*(e.y-n[0])/(x0[r+1][0]-n[0]);i=g$(function(a){return(qg(n,a)-e.y)/m$(n,a)},i,Dt,100),e.x/=qg(k_[r],i),e.y=(5*r+i)*Wi,t.y<0&&(e.y=-e.y)}return e.x=It(e.x+this.long0,this.over),e}var x$=["Robinson","robin"];const w$={init:v$,forward:_$,inverse:y$,names:x$};function b$(){this.name="geocent"}function S$(t){var e=tT(t,this.es,this.a);return e}function E$(t){var e=rT(t,this.es,this.a,this.b);return e}var T$=["Geocentric","geocentric","geocent","Geocent"];const A$={init:b$,forward:S$,inverse:E$,names:T$};var Is={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},f0={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function L$(){if(Object.keys(f0).forEach((function(r){if(typeof this[r]>"u")this[r]=f0[r].def;else{if(f0[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);f0[r].num&&(this[r]=parseFloat(this[r]))}f0[r].degrees&&(this[r]=this[r]*Wi)}).bind(this)),Math.abs(Math.abs(this.lat0)-At)<Dt?this.mode=this.lat0<0?Is.S_POLE:Is.N_POLE:Math.abs(this.lat0)<Dt?this.mode=Is.EQUIT:(this.mode=Is.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function N$(t){t.x-=this.long0;var e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i,a;switch(this.mode){case Is.OBLIQ:a=this.sinph0*e+this.cosph0*r*n;break;case Is.EQUIT:a=r*n;break;case Is.S_POLE:a=-e;break;case Is.N_POLE:a=e;break}switch(a=this.pn1/(this.p-a),i=a*r*Math.sin(t.x),this.mode){case Is.OBLIQ:a*=this.cosph0*e-this.sinph0*r*n;break;case Is.EQUIT:a*=e;break;case Is.N_POLE:a*=-(r*n);break;case Is.S_POLE:a*=r*n;break}var s,l;return s=a*this.cg+i*this.sg,l=1/(s*this.sw*this.h1+this.cw),i=(i*this.cg-a*this.sg)*this.cw*l,a=s*l,t.x=i*this.a,t.y=a*this.a,t}function C$(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},r,n,i;i=1/(this.pn1-t.y*this.sw),r=this.pn1*t.x*i,n=this.pn1*t.y*this.cw*i,t.x=r*this.cg+n*this.sg,t.y=n*this.cg-r*this.sg;var a=wo(t.x,t.y);if(Math.abs(a)<Dt)e.x=0,e.y=t.y;else{var s,l;switch(l=1-a*a*this.pfact,l=(this.p-Math.sqrt(l))/(this.pn1/a+a/this.pn1),s=Math.sqrt(1-l*l),this.mode){case Is.OBLIQ:e.y=Math.asin(s*this.sinph0+t.y*l*this.cosph0/a),t.y=(s-this.sinph0*Math.sin(e.y))*a,t.x*=l*this.cosph0;break;case Is.EQUIT:e.y=Math.asin(t.y*l/a),t.y=s*a,t.x*=l;break;case Is.N_POLE:e.y=Math.asin(s),t.y=-t.y;break;case Is.S_POLE:e.y=-Math.asin(s);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var M$=["Tilted_Perspective","tpers"];const k$={init:L$,forward:N$,inverse:C$,names:M$};function P$(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function O$(t){var e=t.x,r=t.y,n,i,a,s;if(e=e-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var l=this.radius_p/wo(this.radius_p*Math.cos(r),Math.sin(r));if(i=l*Math.cos(e)*Math.cos(r),a=l*Math.sin(e)*Math.cos(r),s=l*Math.sin(r),(this.radius_g-i)*i-a*a-s*s*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;n=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/wo(s,n)),t.y=this.radius_g_1*Math.atan(s/n)):(t.x=this.radius_g_1*Math.atan(a/n),t.y=this.radius_g_1*Math.atan(s/wo(a,n)))}else this.shape==="sphere"&&(n=Math.cos(r),i=Math.cos(e)*n,a=Math.sin(e)*n,s=Math.sin(r),n=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/wo(s,n)),t.y=this.radius_g_1*Math.atan(s/n)):(t.x=this.radius_g_1*Math.atan(a/n),t.y=this.radius_g_1*Math.atan(s/wo(a,n))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function R$(t){var e=-1,r=0,n=0,i,a,s,l;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*wo(1,n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*wo(1,r));var c=n/this.radius_p;if(i=r*r+c*c+e*e,a=2*this.radius_g*e,s=a*a-4*i*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;l=(-a-Math.sqrt(s))/(2*i),e=this.radius_g+l*e,r*=l,n*=l,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+n*n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+r*r)),i=r*r+n*n+e*e,a=2*this.radius_g*e,s=a*a-4*i*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;l=(-a-Math.sqrt(s))/(2*i),e=this.radius_g+l*e,r*=l,n*=l,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var D$=["Geostationary Satellite View","Geostationary_Satellite","geos"];const j$={init:P$,forward:O$,inverse:R$,names:D$};var j0=1.340264,I0=-.081106,F0=893e-6,B0=.003796,Vg=Math.sqrt(3)/2;function I$(){this.es=0,this.long0=this.long0!==void 0?this.long0:0,this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0}function F$(t){var e=It(t.x-this.long0,this.over),r=t.y,n=Math.asin(Vg*Math.sin(r)),i=n*n,a=i*i*i;return t.x=e*Math.cos(n)/(Vg*(j0+3*I0*i+a*(7*F0+9*B0*i))),t.y=n*(j0+I0*i+a*(F0+B0*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function B$(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,r=12,n=t.y,i,a,s,l,c,f;for(f=0;f<r&&(i=n*n,a=i*i*i,s=n*(j0+I0*i+a*(F0+B0*i))-t.y,l=j0+3*I0*i+a*(7*F0+9*B0*i),n-=c=s/l,!(Math.abs(c)<e));++f);return i=n*n,a=i*i*i,t.x=Vg*t.x*(j0+3*I0*i+a*(7*F0+9*B0*i))/Math.cos(n),t.y=Math.asin(Math.sin(n)/Vg),t.x=It(t.x+this.long0,this.over),t}var U$=["eqearth","Equal Earth","Equal_Earth"];const z$={init:I$,forward:F$,inverse:B$,names:U$};var up=1e-10;function G$(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<up)throw new Error;this.es?(this.en=Ay(this.es),this.m1=Td(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=q$,this.forward=H$):(Math.abs(this.phi1)+up>=At?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=$$,this.forward=V$)}function H$(t){var e=It(t.x-(this.long0||0),this.over),r=t.y,n,i,a;return n=this.am1+this.m1-Td(r,i=Math.sin(r),a=Math.cos(r),this.en),i=a*e/(n*Math.sqrt(1-this.es*i*i)),t.x=n*Math.sin(i),t.y=this.am1-n*Math.cos(i),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function q$(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,n,i;if(r=wo(t.x,t.y=this.am1-t.y),i=Ly(this.am1+this.m1-r,this.es,this.en),(e=Math.abs(i))<At)e=Math.sin(i),n=r*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(i);else if(Math.abs(e-At)<=up)n=0;else throw new Error;return t.x=It(n+(this.long0||0),this.over),t.y=uh(i),t}function V$(t){var e=It(t.x-(this.long0||0),this.over),r=t.y,n,i;return i=this.cphi1+this.phi1-r,Math.abs(i)>up?(t.x=i*Math.sin(n=e*Math.cos(r)/i),t.y=this.cphi1-i*Math.cos(n)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function $$(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,n=wo(t.x,t.y=this.cphi1-t.y);if(r=this.cphi1+this.phi1-n,Math.abs(r)>At)throw new Error;return Math.abs(Math.abs(r)-At)<=up?e=0:e=n*Math.atan2(t.x,t.y)/Math.cos(r),t.x=It(e+(this.long0||0),this.over),t.y=uh(r),t}var W$=["bonne","Bonne (Werner lat_1=90)"];const Z$={init:G$,names:W$},J3={OBLIQUE:{forward:Q$,inverse:tW},TRANSVERSE:{forward:eW,inverse:rW}},$g={ROTATE:{o_alpha:"oAlpha",o_lon_c:"oLongC",o_lat_c:"oLatC"},NEW_POLE:{o_lat_p:"oLatP",o_lon_p:"oLongP"},NEW_EQUATOR:{o_lon_1:"oLong1",o_lat_1:"oLat1",o_lon_2:"oLong2",o_lat_2:"oLat2"}};function Y$(){if(this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.title=this.title||"General Oblique Transformation",this.isIdentity=X8.includes(this.o_proj),!this.o_proj)throw new Error("Missing parameter: o_proj");if(this.o_proj==="ob_tran")throw new Error("Invalid value for o_proj: "+this.o_proj);const t=this.projStr.replace("+proj=ob_tran","").replace("+o_proj=","+proj=").trim(),e=xl(t);if(!e)throw new Error("Invalid parameter: o_proj. Unknown projection "+this.o_proj);e.long0=0,this.obliqueProjection=e;let r;const n=Object.keys($g),i=l=>{if(typeof this[l]>"u")return;const c=parseFloat(this[l])*Wi;if(isNaN(c))throw new Error("Invalid value for "+l+": "+this[l]);return c};for(let l=0;l<n.length;l++){const c=n[l],f=$g[c],p=Object.entries(f);if(p.some(([y])=>typeof this[y]<"u")){r=f;for(let y=0;y<p.length;y++){const[_,E]=p[y],S=i(_);if(typeof S>"u")throw new Error("Missing parameter: "+_+".");this[E]=S}break}}if(!r)throw new Error("No valid parameters provided for ob_tran projection.");const{lamp:a,phip:s}=J$(this,r);this.lamp=a,Math.abs(s)>Dt?(this.cphip=Math.cos(s),this.sphip=Math.sin(s),this.projectionType=J3.OBLIQUE):this.projectionType=J3.TRANSVERSE}function K$(t){return this.projectionType.forward(this,t)}function X$(t){return this.projectionType.inverse(this,t)}function J$(t,e){let r,n;if(e===$g.ROTATE){let i=t.oLongC,a=t.oLatC,s=t.oAlpha;if(Math.abs(Math.abs(a)-At)<=Dt)throw new Error("Invalid value for o_lat_c: "+t.o_lat_c+" should be < 90");n=i+Math.atan2(-1*Math.cos(s),-1*Math.sin(s)*Math.sin(a)),r=Math.asin(Math.cos(a)*Math.sin(s))}else if(e===$g.NEW_POLE)n=t.oLongP,r=t.oLatP;else{let i=t.oLong1,a=t.oLat1,s=t.oLong2,l=t.oLat2,c=Math.abs(a);if(Math.abs(a)>At-Dt)throw new Error("Invalid value for o_lat_1: "+t.o_lat_1+" should be < 90");if(Math.abs(l)>At-Dt)throw new Error("Invalid value for o_lat_2: "+t.o_lat_2+" should be < 90");if(Math.abs(a-l)<Dt)throw new Error("Invalid value for o_lat_1 and o_lat_2: o_lat_1 should be different from o_lat_2");if(c<Dt)throw new Error("Invalid value for o_lat_1: o_lat_1 should be different from zero");n=Math.atan2(Math.cos(a)*Math.sin(l)*Math.cos(i)-Math.sin(a)*Math.cos(l)*Math.cos(s),Math.sin(a)*Math.cos(l)*Math.sin(s)-Math.cos(a)*Math.sin(l)*Math.sin(i)),r=Math.atan(-1*Math.cos(n-i)/Math.tan(a))}return{lamp:n,phip:r}}function Q$(t,e){let{x:r,y:n}=e;r+=t.long0;const i=Math.cos(r),a=Math.sin(n),s=Math.cos(n);e.x=It(Math.atan2(s*Math.sin(r),t.sphip*s*i+t.cphip*a)+t.lamp),e.y=Math.asin(t.sphip*a-t.cphip*s*i);const l=t.obliqueProjection.forward(e);return t.isIdentity&&(l.x*=bo,l.y*=bo),l}function eW(t,e){let{x:r,y:n}=e;r+=t.long0;const i=Math.cos(n),a=Math.cos(r);e.x=It(Math.atan2(i*Math.sin(r),Math.sin(n))+t.lamp),e.y=Math.asin(-1*i*a);const s=t.obliqueProjection.forward(e);return t.isIdentity&&(s.x*=bo,s.y*=bo),s}function tW(t,e){t.isIdentity&&(e.x*=Wi,e.y*=Wi);const r=t.obliqueProjection.inverse(e);let{x:n,y:i}=r;if(n<Number.MAX_VALUE){n-=t.lamp;const a=Math.cos(n),s=Math.sin(i),l=Math.cos(i);e.x=Math.atan2(l*Math.sin(n),t.sphip*l*a-t.cphip*s),e.y=Math.asin(t.sphip*s+t.cphip*l*a)}return e.x=It(e.x+t.long0),e}function rW(t,e){t.isIdentity&&(e.x*=Wi,e.y*=Wi);const r=t.obliqueProjection.inverse(e);let{x:n,y:i}=r;if(n<Number.MAX_VALUE){const a=Math.cos(i);n-=t.lamp,e.x=Math.atan2(a*Math.sin(n),-1*Math.sin(i)),e.y=Math.asin(a*Math.cos(n))}return e.x=It(e.x+t.long0),e}var nW=["General Oblique Transformation","General_Oblique_Transformation","ob_tran"];const iW={init:Y$,forward:K$,inverse:X$,names:nW};function aW(t){t.Proj.projections.add(ug),t.Proj.projections.add(cg),t.Proj.projections.add(WH),t.Proj.projections.add(rq),t.Proj.projections.add(oq),t.Proj.projections.add(fq),t.Proj.projections.add(_q),t.Proj.projections.add(Sq),t.Proj.projections.add(Nq),t.Proj.projections.add(Oq),t.Proj.projections.add($q),t.Proj.projections.add(Jq),t.Proj.projections.add(nV),t.Proj.projections.add(uV),t.Proj.projections.add(pV),t.Proj.projections.add(yV),t.Proj.projections.add(EV),t.Proj.projections.add(CV),t.Proj.projections.add(DV),t.Proj.projections.add(UV),t.Proj.projections.add(VV),t.Proj.projections.add(KV),t.Proj.projections.add(n$),t.Proj.projections.add(l$),t.Proj.projections.add(d$),t.Proj.projections.add(w$),t.Proj.projections.add(A$),t.Proj.projections.add(k$),t.Proj.projections.add(j$),t.Proj.projections.add(z$),t.Proj.projections.add(Z$),t.Proj.projections.add(iW)}const Oy=Object.assign(cH,{defaultDatum:"WGS84",Proj:xl,WGS84:new xl("WGS84"),Point:vd,toPoint:nT,defs:ps,nadgrid:$G,transform:Gg,mgrs:hH,version:"__VERSION__"});aW(Oy);const sW=(t={})=>{const{enableHighAccuracy:e=!0,timeout:r=1e4,maximumAge:n=0,watchPosition:i=!1}=t,[a,s]=de.useState(null),[l,c]=de.useState(null),[f,p]=de.useState(!1),[v,y]=de.useState("prompt"),_=de.useRef(null);de.useEffect(()=>{"permissions"in navigator&&navigator.permissions.query({name:"geolocation"}).then(B=>{y(B.state),B.onchange=()=>{y(B.state)}}).catch(()=>{y("prompt")})},[]),de.useEffect(()=>()=>{_.current!==null&&navigator.geolocation.clearWatch(_.current)},[]);const E=de.useCallback(B=>{const{latitude:J,longitude:re,accuracy:F,altitude:K,heading:U,speed:X}=B.coords;s({latitude:J,longitude:re,accuracy:F,altitude:K,heading:U,speed:X,timestamp:B.timestamp,accuracyLevel:oW(F)}),c(null),p(!1)},[]),S=de.useCallback(B=>{let J;switch(B.code){case B.PERMISSION_DENIED:J="Location permission denied. Please enable location access in your device settings.",y("denied");break;case B.POSITION_UNAVAILABLE:J="Location unavailable. Please ensure GPS is enabled.";break;case B.TIMEOUT:J="Location request timed out. Please try again.";break;default:J="An unknown error occurred while getting location."}c(J),p(!1)},[]),C=de.useCallback(()=>{if(!("geolocation"in navigator)){c("Geolocation is not supported by your browser.");return}p(!0),c(null),navigator.geolocation.getCurrentPosition(E,S,{enableHighAccuracy:e,timeout:r,maximumAge:n})},[e,r,n,E,S]),O=de.useCallback(()=>{if(!("geolocation"in navigator)){c("Geolocation is not supported by your browser.");return}_.current===null&&(p(!0),c(null),_.current=navigator.geolocation.watchPosition(E,S,{enableHighAccuracy:e,timeout:r,maximumAge:n}))},[e,r,n,E,S]),j=de.useCallback(()=>{_.current!==null&&(navigator.geolocation.clearWatch(_.current),_.current=null,p(!1))},[]),R=de.useCallback(()=>{s(null),c(null)},[]);return{location:a,error:l,isLoading:f,permissionState:v,getCurrentPosition:C,startWatching:O,stopWatching:j,clearLocation:R,isSupported:"geolocation"in navigator}},oW=t=>t<=5?{level:"excellent",color:"#10B981",label:"GPS accuracy: Excellent"}:t<=15?{level:"good",color:"#22C55E",label:"GPS accuracy: Good"}:t<=50?{level:"moderate",color:"#F59E0B",label:"GPS accuracy: Moderate"}:t<=100?{level:"poor",color:"#EF4444",label:"GPS accuracy: Poor"}:{level:"very_poor",color:"#DC2626",label:"GPS accuracy: Very Poor"};delete Ds.Icon.Default.prototype._getIconUrl;Ds.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});Oy.defs("EPSG:32645","+proj=utm +zone=45 +datum=WGS84 +units=m +no_defs");const lW=(t,e)=>Oy("EPSG:32645","EPSG:4326",[t,e]),Xm={minX:374675.5284200097,minY:2.2494228492706926e6,maxX:374819.7744433263,maxY:2249603845816269e-9},Q3=[(Xm.minX+Xm.maxX)/2,(Xm.minY+Xm.maxY)/2],Jm=lW(Q3[0],Q3[1]),uW=({setMapInstance:t})=>{const e=B8();return de.useEffect(()=>{t(e)},[e,t]),null},cW=({onBuildingSelect:t})=>{const e=de.useRef(null),[r,n]=de.useState(null),[i,a]=de.useState(null),[s,l]=de.useState(null),[c,f]=de.useState(null),[p,v]=de.useState(!1),[y,_]=de.useState([]),[E,S]=de.useState([]),[C,O]=de.useState(!1),[j,R]=de.useState(null),[B,J]=de.useState(null),{location:re,error:F,isLoading:K,getCurrentPosition:U}=sW({enableHighAccuracy:!0,timeout:15e3}),X=le=>{if(!r)return;if(c)try{c.disable()}catch{}let be;const _e={color:le==="polygon"?"#10b981":"#8b5cf6",weight:3,fillOpacity:.2};le==="polygon"?be=new Ds.Draw.Polygon(r,{shapeOptions:_e,allowIntersection:!1,guidelineDistance:15}):le==="rectangle"?be=new Ds.Draw.Rectangle(r,{shapeOptions:_e}):le==="marker"&&(be=new Ds.Draw.Marker(r)),be&&(be.enable(),f(be),a(le))},I=()=>{U(),v(!0)};de.useEffect(()=>{re&&r&&r.flyTo([re.latitude,re.longitude],18,{duration:1.5})},[re,r]);const W=()=>{r&&r.flyTo([Jm[1],Jm[0]],19,{duration:1.5})},ue=()=>{if(c)try{c._markers&&c._markers.length>0&&(c.deleteLastVertex(),_(le=>{const be=[...le];return be.pop(),be}))}catch(le){console.log("Undo not available:",le)}},pe=()=>{if(c)try{c.disable()}catch{}f(null),a(null),_([]),S([]),l(null),e.current&&e.current.clearLayers()};de.useEffect(()=>{if(!r)return;const le=be=>{const _e=be.layers?._layers;if(_e){const Le=Object.values(_e);if(Le.length>0&&Le[0]._latlng){const Ne=Le[0]._latlng;_(ee=>[...ee,{lat:Ne.lat,lng:Ne.lng}])}}};return r.on("draw:drawvertex",le),()=>{r.off("draw:drawvertex",le)}},[r]),de.useEffect(()=>{if(!r)return;const le=()=>{l(null)},be=()=>{l(null),a(null)},_e=Le=>{const Ne=Le.layer,ee=Le.layerType;let P,H;ee==="polygon"||ee==="rectangle"?(P={type:"Polygon",coordinates:[Ne.getLatLngs()[0].map(Ae=>[Ae.lng,Ae.lat])]},H=Ne.getBounds().getCenter()):ee==="marker"&&(H=Ne.getLatLng(),P={type:"Point",coordinates:[H.lng,H.lat]});let q=0;(ee==="polygon"||ee==="rectangle")&&(q=Ds.GeometryUtil.geodesicArea(Ne.getLatLngs()[0]));const Z={id:`BLD-${Date.now()}`,geometry:P,latlng:H,area:q.toFixed(2),layerType:ee};l(null),a(null),f(null),t(Z)};return r.on("draw:drawvertex",Le=>{const Ne=Object.values(Le.layers._layers)[0];if(Ne&&Ne._latlngs){const ee=Ne._latlngs;if(ee.length>=3){const P=Ds.GeometryUtil.geodesicArea(ee);l(P)}}}),r.on("draw:drawstart",le),r.on("draw:drawstop",be),r.on("draw:created",_e),()=>{r.off("draw:drawvertex"),r.off("draw:drawstart",le),r.off("draw:drawstop",be),r.off("draw:created",_e)}},[r,t]);const xe=le=>{const{layerType:be,layer:_e}=le;let Le,Ne;be==="polygon"||be==="rectangle"?(Le={type:"Polygon",coordinates:[_e.getLatLngs()[0].map(q=>[q.lng,q.lat])]},Ne=_e.getBounds().getCenter()):be==="marker"&&(Ne=_e.getLatLng(),Le={type:"Point",coordinates:[Ne.lng,Ne.lat]});let ee=0;(be==="polygon"||be==="rectangle")&&(ee=Ds.GeometryUtil.geodesicArea(_e.getLatLngs()[0]));const P={id:`BLD-${Date.now()}`,geometry:Le,latlng:Ne,area:ee.toFixed(2),layerType:be};a(null),t(P)};return x.jsxs("div",{className:"relative h-full w-full",children:[x.jsxs(by,{center:[Jm[1],Jm[0]],zoom:17,maxZoom:24,style:{height:"100%",width:"100%"},tap:!0,touchZoom:!0,dragging:!0,scrollWheelZoom:!0,children:[x.jsx(uW,{setMapInstance:n}),x.jsx(Fg,{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"],attribution:" Google Maps",maxZoom:22}),x.jsx(G8,{url:"http://localhost:8080/geoserver/RASTER/wms",params:{layers:"RASTER:67cfea31928570b1a96c327e",format:"image/png",transparent:!0,version:"1.1.0",srs:"EPSG:4326"},maxZoom:24,opacity:1}),x.jsx(Vz,{ref:e,children:x.jsx(H8,{position:"topleft",onCreated:xe,draw:{rectangle:{shapeOptions:{color:"#8b5cf6",weight:3,fillOpacity:.2},touchIcon:new Ds.DivIcon({className:"leaflet-draw-touch-icon",iconSize:new Ds.Point(30,30),iconAnchor:new Ds.Point(15,15)})},polygon:{allowIntersection:!1,guidelineDistance:15,shapeOptions:{color:"#10b981",weight:3,fillOpacity:.2},touchIcon:new Ds.DivIcon({className:"leaflet-draw-touch-icon",iconSize:new Ds.Point(30,30),iconAnchor:new Ds.Point(15,15)})},marker:!0,circle:!1,circlemarker:!1,polyline:!1},edit:{edit:!1,remove:!1}})}),p&&re&&x.jsxs(x.Fragment,{children:[x.jsx(qz,{center:[re.latitude,re.longitude],radius:re.accuracy,pathOptions:{color:re.accuracyLevel?.color||"#3B82F6",fillColor:re.accuracyLevel?.color||"#3B82F6",fillOpacity:.15,weight:2}}),x.jsx(Wz,{position:[re.latitude,re.longitude],children:x.jsx(z8,{children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"font-semibold",children:" Your Location"}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Accuracy: ",Math.round(re.accuracy),"m"]}),x.jsx("p",{className:"text-xs",style:{color:re.accuracyLevel?.color},children:re.accuracyLevel?.label})]})})})]})]}),x.jsxs("div",{className:"absolute left-4 bottom-8 z-[1000] flex flex-col gap-2",children:[x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3 border border-gray-100",children:[x.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 text-center",children:"Draw"}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("button",{onClick:()=>X("polygon"),className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${i==="polygon"?"bg-green-500 text-white shadow-lg shadow-green-200":"bg-gradient-to-br from-green-50 to-green-100 text-green-600 hover:from-green-100 hover:to-green-200"}`,title:"Draw Polygon",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-14 9V3z"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Polygon"})]}),x.jsxs("button",{onClick:()=>X("rectangle"),className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${i==="rectangle"?"bg-purple-500 text-white shadow-lg shadow-purple-200":"bg-gradient-to-br from-purple-50 to-purple-100 text-purple-600 hover:from-purple-100 hover:to-purple-200"}`,title:"Draw Rectangle",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeWidth:2})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Rectangle"})]}),x.jsxs("button",{onClick:()=>X("marker"),className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${i==="marker"?"bg-orange-500 text-white shadow-lg shadow-orange-200":"bg-gradient-to-br from-orange-50 to-orange-100 text-orange-600 hover:from-orange-100 hover:to-orange-200"}`,title:"Drop Marker",children:[x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Marker"})]})]})]}),(i||y.length>0)&&x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3 border border-gray-100",children:[x.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 text-center",children:"Edit"}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("button",{onClick:ue,disabled:!i,className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${i?"bg-gradient-to-br from-yellow-50 to-yellow-100 text-yellow-600 hover:from-yellow-100 hover:to-yellow-200 active:scale-95":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,title:"Undo Last Point",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Undo"})]}),x.jsxs("button",{onClick:pe,className:"w-14 h-14 rounded-xl flex flex-col items-center justify-center bg-gradient-to-br from-red-50 to-red-100 text-red-500 hover:from-red-100 hover:to-red-200 active:scale-95 transition-all",title:"Clear Drawing",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Clear"})]})]})]}),i&&y.length>0&&x.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-2xl shadow-xl px-3 py-2 text-center",children:[x.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wide opacity-80",children:"Points"}),x.jsx("p",{className:"text-2xl font-bold",children:y.length}),x.jsx("p",{className:"text-[9px] opacity-70",children:y.length<3?`Need ${3-y.length} more`:"Ready to close"})]}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3 border border-gray-100 flex flex-col gap-2",children:[x.jsxs("button",{onClick:W,className:"w-14 h-14 bg-gradient-to-br from-cyan-50 to-cyan-100 text-cyan-600 rounded-xl flex flex-col items-center justify-center hover:from-cyan-100 hover:to-cyan-200 transition-all",title:"Go to Drone Imagery",children:[x.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),x.jsx("circle",{cx:"12",cy:"13",r:"3",strokeWidth:2})]}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Drone"})]}),x.jsxs("button",{onClick:I,disabled:K,className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all relative ${K?"bg-blue-500 text-white animate-pulse":re?"bg-gradient-to-br from-green-50 to-green-100 text-green-600 hover:from-green-100 hover:to-green-200":"bg-gradient-to-br from-blue-50 to-blue-100 text-blue-600 hover:from-blue-100 hover:to-blue-200"}`,title:F||(re?`Accuracy: ${Math.round(re.accuracy)}m`:"Get My Location"),children:[K?x.jsxs("svg",{className:"w-6 h-6 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:K?"Finding...":re?"Located":"Location"}),re&&x.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full border-2 border-white",style:{backgroundColor:re.accuracyLevel?.color||"#10B981"},title:re.accuracyLevel?.label})]})]})]}),x.jsx("style",{children:`
                .leaflet-draw-toolbar {
                    position: absolute !important;
                    left: -9999px !important;
                    opacity: 0 !important;
                    pointer-events: none !important;
                }
                .leaflet-draw-section {
                    position: absolute !important;
                    left: -9999px !important;
                }
            `}),i?x.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-[1000] max-w-[90vw]",children:x.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-3 rounded-2xl shadow-lg",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"text-2xl animate-bounce",children:""}),x.jsxs("div",{children:[x.jsxs("p",{className:"font-semibold text-sm",children:[i==="polygon"&&"Tap to add corner points",i==="rectangle"&&"Tap and drag to draw rectangle",i==="marker"&&"Tap to place marker"]}),x.jsxs("p",{className:"text-xs opacity-90",children:[i==="polygon"&&"Tap first point again to complete  Use Undo for mistakes",i==="rectangle"&&"Drag corner to resize",i==="marker"&&"Tap anywhere on the map"]})]})]})})}):x.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-[1000]",children:x.jsx("div",{className:"bg-white/95 backdrop-blur-sm px-5 py-2.5 rounded-full shadow-lg border border-gray-100",children:x.jsxs("p",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[x.jsx("span",{className:"text-lg",children:""}),x.jsx("span",{children:"Select a tool and draw around the building"})]})})})]})},hW=({onConfirm:t,onCancel:e})=>{const[r,n]=de.useState(1),[i,a]=de.useState(""),[s,l]=de.useState(!1),c=()=>{const f=s?parseInt(i):r;f&&f>0&&f<=50?t(f):alert("Please enter a valid number of floors (1-50)")};return x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-8",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"text-5xl mb-4",children:""}),x.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Building Footprint Captured"}),x.jsx("p",{className:"text-gray-600 mt-2",children:"How many floors or units does this building have?"})]}),!s&&x.jsxs("div",{className:"space-y-4 mb-6",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 text-center",children:"Quick Select"}),x.jsx("div",{className:"grid grid-cols-5 gap-3",children:[1,2,3,4,5].map(f=>x.jsx("button",{onClick:()=>n(f),className:`p-4 rounded-lg border-2 font-bold text-lg transition-all ${r===f&&!s?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 hover:border-blue-400 text-gray-700"}`,children:f},f))})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("label",{className:"flex items-center space-x-3 mb-3",children:[x.jsx("input",{type:"checkbox",checked:s,onChange:f=>l(f.target.checked),className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"font-medium text-gray-700",children:"Custom number of floors"})]}),s&&x.jsx("input",{type:"number",value:i,onChange:f=>a(f.target.value),placeholder:"Enter number (1-50)",min:"1",max:"50",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-center text-xl font-bold"})]}),x.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded mb-6",children:x.jsxs("p",{className:"text-sm text-blue-900",children:[x.jsx("strong",{children:"Note:"})," You'll fill out a separate assessment form for each floor/unit, allowing different owners and property details per floor."]})}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsx("button",{onClick:e,className:"flex-1 py-3 px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-colors",children:"Cancel"}),x.jsx("button",{onClick:c,className:"flex-1 py-3 px-6 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105",children:"Continue "})]})]})},fW=({floorNumber:t,onConfirm:e,onSkip:r})=>{const[n,i]=de.useState(1),[a,s]=de.useState(""),[l,c]=de.useState(!1),f=()=>{const p=l?parseInt(a):n;p&&p>0&&p<=20?e(p):alert("Please enter a valid number of units (1-20)")};return x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 sm:p-8",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"text-4xl sm:text-5xl mb-3",children:""}),x.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Floor ",t]}),x.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"How many units/flats on this floor?"})]}),!l&&x.jsxs("div",{className:"space-y-3 mb-5",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 text-center",children:"Quick Select"}),x.jsx("div",{className:"grid grid-cols-5 gap-2 sm:gap-3",children:[1,2,3,4,5].map(p=>x.jsx("button",{onClick:()=>i(p),className:`p-3 sm:p-4 rounded-lg border-2 font-bold text-base sm:text-lg transition-all ${n===p&&!l?"border-green-600 bg-green-50 text-green-700":"border-gray-300 hover:border-green-400 text-gray-700"}`,children:p},p))})]}),x.jsxs("div",{className:"mb-5",children:[x.jsxs("label",{className:"flex items-center space-x-2 sm:space-x-3 mb-3",children:[x.jsx("input",{type:"checkbox",checked:l,onChange:p=>c(p.target.checked),className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700",children:"Custom number of units"})]}),l&&x.jsx("input",{type:"number",inputMode:"numeric",value:a,onChange:p=>s(p.target.value),placeholder:"Enter number (1-20)",min:"1",max:"20",className:"w-full p-3 sm:p-4 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none text-center text-lg sm:text-xl font-bold"})]}),x.jsx("div",{className:"bg-green-50 border-l-4 border-green-600 p-3 sm:p-4 rounded mb-5",children:x.jsxs("p",{className:"text-xs sm:text-sm text-green-900",children:[x.jsx("strong",{children:"Note:"})," Each unit will have a separate form for owner details (e.g., Unit A, Unit B, or Flat 1, Flat 2)."]})}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:space-x-3 sm:gap-0",children:[x.jsx("button",{onClick:()=>r(),className:"sm:flex-1 py-3 sm:py-4 px-4 sm:px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-colors text-base",children:"Single Owner (Skip)"}),x.jsx("button",{onClick:f,className:"sm:flex-1 py-3 sm:py-4 px-4 sm:px-6 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105 text-base",children:"Continue "})]})]})},mT=({geometry:t,area:e})=>{const r=de.useRef(null);de.useEffect(()=>{if(!t||!r.current)return;const c=r.current,f=c.getContext("2d"),p=c.width,v=c.height;if(f.fillStyle="#f8fafc",f.fillRect(0,0,p,v),n(f,p,v),t.type==="Polygon"){const y=t.coordinates[0];i(f,y,p,v)}else t.type==="Point"&&a(f,t.coordinates,p,v)},[t]);const n=(c,f,p)=>{c.strokeStyle="#e2e8f0",c.lineWidth=.5;for(let v=0;v<=f;v+=20)c.beginPath(),c.moveTo(v,0),c.lineTo(v,p),c.stroke();for(let v=0;v<=p;v+=20)c.beginPath(),c.moveTo(0,v),c.lineTo(f,v),c.stroke();c.strokeStyle="#94a3b8",c.lineWidth=2,c.strokeRect(0,0,f,p)},i=(c,f,p,v)=>{const y=f.map(K=>K[0]),_=f.map(K=>K[1]),E=Math.min(...y),S=Math.max(...y),C=Math.min(..._),O=Math.max(..._),j=40,R=(p-2*j)/(S-E),B=(v-2*j)/(O-C),J=Math.min(R,B),re=K=>j+(K-E)*J,F=K=>v-(j+(K-C)*J);c.fillStyle="rgba(59, 130, 246, 0.1)",c.beginPath(),f.forEach((K,U)=>{const X=re(K[0]),I=F(K[1]);U===0?c.moveTo(X,I):c.lineTo(X,I)}),c.closePath(),c.fill(),c.strokeStyle="#2563eb",c.lineWidth=2,c.stroke(),c.fillStyle="#1e40af",f.forEach(K=>{const U=re(K[0]),X=F(K[1]);c.beginPath(),c.arc(U,X,4,0,2*Math.PI),c.fill()}),c.fillStyle="#1e293b",c.font="bold 11px monospace",c.textAlign="center";for(let K=0;K<f.length;K++){const U=f[K],X=f[(K+1)%f.length],I=re(U[0]),W=F(U[1]),ue=re(X[0]),pe=F(X[1]),xe=l(U[1],U[0],X[1],X[0]),le=(I+ue)/2,be=(W+pe)/2;c.fillStyle="white",c.fillRect(le-25,be-10,50,16),c.fillStyle="#1e40af",c.fillText(`${xe.toFixed(1)}m`,le,be+3)}c.font="bold 14px monospace",c.fillStyle="white",c.fillRect(p/2-60,15,120,25),c.fillStyle="#1e40af",c.fillText(`Area: ${e} m`,p/2,32),s(c,p-40,40)},a=(c,f,p,v)=>{const y=p/2,_=v/2;c.strokeStyle="#2563eb",c.lineWidth=2,c.beginPath(),c.moveTo(y-20,_),c.lineTo(y+20,_),c.stroke(),c.beginPath(),c.moveTo(y,_-20),c.lineTo(y,_+20),c.stroke(),c.fillStyle="#1e40af",c.beginPath(),c.arc(y,_,6,0,2*Math.PI),c.fill(),c.fillStyle="#1e293b",c.font="bold 12px monospace",c.textAlign="center",c.fillText("Survey Point",p/2,v-20)},s=(c,f,p)=>{c.save(),c.translate(f,p),c.fillStyle="#ef4444",c.beginPath(),c.moveTo(0,-15),c.lineTo(-5,0),c.lineTo(5,0),c.closePath(),c.fill(),c.fillStyle="#94a3b8",c.beginPath(),c.moveTo(0,15),c.lineTo(-5,0),c.lineTo(5,0),c.closePath(),c.fill(),c.fillStyle="#1e293b",c.font="bold 10px sans-serif",c.textAlign="center",c.fillText("N",0,-20),c.restore()},l=(c,f,p,v)=>{const _=c*Math.PI/180,E=p*Math.PI/180,S=(p-c)*Math.PI/180,C=(v-f)*Math.PI/180,O=Math.sin(S/2)*Math.sin(S/2)+Math.cos(_)*Math.cos(E)*Math.sin(C/2)*Math.sin(C/2);return 6371e3*(2*Math.atan2(Math.sqrt(O),Math.sqrt(1-O)))};return x.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:" Building Footprint - CAD View"}),x.jsx("span",{className:"text-xs text-gray-500 font-mono",children:"Scale: Auto-fit"})]}),x.jsx("canvas",{ref:r,width:500,height:400,className:"w-full border border-gray-200 rounded"}),x.jsx("div",{className:"mt-2 text-xs text-gray-500 font-mono",children:"All measurements in meters (m) | Grid spacing: 20px"})]})},U2=({label:t="Photo",onCapture:e,currentPhoto:r=null,required:n=!1,maxSizeMB:i=1})=>{const[a,s]=de.useState(!1),[l,c]=de.useState(null),[f,p]=de.useState(null),[v,y]=de.useState(null),[_,E]=de.useState(null),[S,C]=de.useState("environment"),[O,j]=de.useState(!1),R=de.useRef(null),B=de.useRef(null),J=de.useRef(null);de.useEffect(()=>{r&&!v&&(typeof r=="string"?y(r):r instanceof File&&y(URL.createObjectURL(r)))},[r,v]),de.useEffect(()=>()=>{l&&l.getTracks().forEach(pe=>pe.stop()),v&&v.startsWith("blob:")&&URL.revokeObjectURL(v)},[l,v]);const re=async()=>{E(null),j(!0);try{const pe={video:{facingMode:S,width:{ideal:1280},height:{ideal:720}},audio:!1},xe=await navigator.mediaDevices.getUserMedia(pe);c(xe),R.current&&(R.current.srcObject=xe),s(!0)}catch(pe){console.error("Camera error:",pe),pe.name==="NotAllowedError"?E("Camera permission denied. Please allow camera access."):pe.name==="NotFoundError"?E("No camera found on this device."):E("Failed to access camera. Try selecting from gallery instead.")}finally{j(!1)}},F=de.useCallback(()=>{l&&(l.getTracks().forEach(pe=>pe.stop()),c(null)),s(!1)},[l]),K=async()=>{F(),C(pe=>pe==="environment"?"user":"environment"),setTimeout(()=>re(),100)},U=(pe,xe)=>{let le=.9,be=pe.toDataURL("image/jpeg",le);for(;be.length>xe*1024*1024*1.37&&le>.1;)le-=.1,be=pe.toDataURL("image/jpeg",le);return be},X=(pe,xe)=>{const le=pe.split(","),be=le[0].match(/:(.*?);/)[1],_e=atob(le[1]);let Le=_e.length;const Ne=new Uint8Array(Le);for(;Le--;)Ne[Le]=_e.charCodeAt(Le);return new File([Ne],xe,{type:be})},I=()=>{if(!R.current||!B.current)return;const pe=R.current,xe=B.current,le=xe.getContext("2d");xe.width=pe.videoWidth,xe.height=pe.videoHeight,le.drawImage(pe,0,0);const be=U(xe,i),_e=X(be,`photo_${Date.now()}.jpg`);p(_e),y(be),F(),e&&e(_e)},W=async pe=>{const xe=pe.target.files[0];if(xe){j(!0);try{const le=new Image,be=new FileReader;be.onload=_e=>{le.onload=()=>{const Le=B.current,Ne=Le.getContext("2d");let ee=le.width,P=le.height;const H=1920;(ee>H||P>H)&&(ee>P?(P=P/ee*H,ee=H):(ee=ee/P*H,P=H)),Le.width=ee,Le.height=P,Ne.drawImage(le,0,0,ee,P);const q=U(Le,i),Z=X(q,xe.name);p(Z),y(q),j(!1),e&&e(Z)},le.src=_e.target.result},be.readAsDataURL(xe)}catch(le){console.error("File processing error:",le),E("Failed to process image"),j(!1)}}},ue=()=>{p(null),y(null),e&&e(null)};return x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700",children:[t," ",n&&"*"]}),x.jsx("canvas",{ref:B,className:"hidden"}),x.jsx("input",{ref:J,type:"file",accept:"image/*",onChange:W,className:"hidden"}),_&&x.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 rounded",children:x.jsx("p",{className:"text-sm text-red-700",children:_})}),a&&x.jsxs("div",{className:"fixed inset-0 bg-black z-[2000] flex flex-col",children:[x.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-10 bg-gradient-to-b from-black/70 to-transparent",children:[x.jsx("button",{onClick:F,className:"text-white text-2xl font-light p-2",children:""}),x.jsx("span",{className:"text-white font-medium",children:t}),x.jsx("button",{onClick:K,className:"text-white p-2",title:"Switch Camera",children:""})]}),x.jsx("video",{ref:R,autoPlay:!0,playsInline:!0,muted:!0,className:"flex-1 w-full object-cover"}),x.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 flex justify-center bg-gradient-to-t from-black/70 to-transparent",children:x.jsx("button",{onClick:I,className:"w-20 h-20 bg-white rounded-full border-4 border-gray-300 shadow-lg flex items-center justify-center hover:scale-105 active:scale-95 transition-transform",children:x.jsx("div",{className:"w-16 h-16 bg-white rounded-full border-4 border-gray-400"})})})]}),v?x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:v,alt:"Captured",className:"w-full h-48 object-cover rounded-lg border-2 border-green-500"}),x.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[x.jsx("button",{type:"button",onClick:ue,className:"bg-red-500 text-white px-3 py-1.5 rounded-lg text-sm font-medium shadow-lg hover:bg-red-600 transition-colors",children:" Remove"}),x.jsx("button",{type:"button",onClick:re,className:"bg-blue-500 text-white px-3 py-1.5 rounded-lg text-sm font-medium shadow-lg hover:bg-blue-600 transition-colors",children:" Retake"})]}),x.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:" Photo captured"})]}):x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:re,disabled:O,className:"flex-1 py-4 px-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl font-medium shadow-md hover:from-blue-600 hover:to-blue-700 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:O?x.jsx("span",{className:"animate-spin",children:""}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"text-xl",children:""}),x.jsx("span",{children:"Take Photo"})]})}),x.jsxs("button",{type:"button",onClick:()=>J.current?.click(),disabled:O,className:"flex-1 py-4 px-4 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-xl font-medium shadow-md hover:from-gray-200 hover:to-gray-300 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[x.jsx("span",{className:"text-xl",children:""}),x.jsx("span",{children:"Gallery"})]})]})]})},z2={owner_name:{required:!0,minLength:2,maxLength:100,pattern:/^[a-zA-Z\s.'-]+$/,message:"Please enter a valid name (letters, spaces, dots, hyphens only)"},phone_number:{required:!0,pattern:/^[6-9]\d{9}$/,message:"Please enter a valid 10-digit Indian mobile number (starting with 6-9)"},aadhaar_number:{required:!1,pattern:/^\d{12}$/,validate:t=>!t||t.length===0?!0:!(t.length!==12||t[0]==="0"||t[0]==="1"),message:"Please enter a valid 12-digit Aadhaar number (cannot start with 0 or 1)"},year_of_construction:{required:!1,validate:t=>{if(!t)return!0;const e=parseInt(t),r=new Date().getFullYear();return e>=1900&&e<=r},message:`Year must be between 1900 and ${new Date().getFullYear()}`},property_usage:{required:!1,message:"Please select a property usage type"},construction_type:{required:!1,message:"Please select a construction type"},ownership_type:{required:!1,message:"Please select ownership type"}},dW=()=>{const[t,e]=de.useState({}),[r,n]=de.useState({}),i=de.useCallback((v,y)=>{const _=z2[v];return _?_.required&&(!y||y.toString().trim()==="")?`${G2(v)} is required`:!y||y.toString().trim()===""?null:_.pattern&&!_.pattern.test(y)?_.message:_.minLength&&y.length<_.minLength?`${G2(v)} must be at least ${_.minLength} characters`:_.maxLength&&y.length>_.maxLength?`${G2(v)} must be less than ${_.maxLength} characters`:_.validate&&!_.validate(y)?_.message:null:null},[]),a=de.useCallback(v=>{const y={};let _=!0;Object.keys(z2).forEach(S=>{const C=i(S,v[S]);C&&(y[S]=C,_=!1)}),e(y);const E={};return Object.keys(z2).forEach(S=>{E[S]=!0}),n(E),_},[i]),s=de.useCallback((v,y)=>{n(E=>({...E,[v]:!0}));const _=i(v,y);e(E=>({...E,[v]:_}))},[i]),l=de.useCallback(v=>{e(y=>{const _={...y};return delete _[v],_})},[]),c=de.useCallback(()=>{e({}),n({})},[]),f=de.useCallback(v=>r[v]&&t[v],[r,t]),p=de.useCallback(v=>r[v]?t[v]:null,[r,t]);return{errors:t,touched:r,validateField:i,validateForm:a,handleBlur:s,clearError:l,resetValidation:c,hasError:f,getError:p}},G2=t=>t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),H2="survey_form_draft",pW=({buildingData:t,floorNumber:e=1,totalFloors:r=1,unitIdentifier:n=null,onClose:i,onSuccess:a})=>{const[s,l]=de.useState({owner_name:"",phone_number:"",aadhaar_number:"",email_address:"",family_members_count:"",occupier_name:"",survey_gat_no:"",city_survey_no:"",layout_name_plot_no:"",building_name:"",address_with_floor:"",nearest_road_type:"",pin_code:"",property_type:"Residential",usage_type:"",usage_sub_type:"",building_permission:!1,permission_no:"",permission_date:"",occupancy_certificate:!1,construction_type:"RCC",year_of_construction:"",water_connection:!1,water_connection_type:"",water_authorized:"Authorised",water_meter_no:"",water_consumer_no:"",water_connection_date:"",pipe_size:"",has_toilet:!1,toilet_count:"",has_septic_tank:!1,has_sewerage:!1,electricity_connection:!1,has_solar:!1,has_rainwater_harvesting:!1,zone_no:"",new_ward_no:"",old_ward_no:"",old_property_no:"",new_property_no:"",total_carpet_area:"",exempted_area:"",assessable_area:"",ownership_type:"owned",current_tax_details:"",ulb_name:"",district:"",town:"",tax_paid:!1}),[c,f]=de.useState(null),[p,v]=de.useState(null),[y,_]=de.useState(null),[E,S]=de.useState(!1),[C,O]=de.useState(!1),[j,R]=de.useState(null),[B,J]=de.useState(!1),[re,F]=de.useState("owner"),{errors:K,validateForm:U,handleBlur:X,clearError:I,getError:W,hasError:ue}=dW();de.useEffect(()=>{const Le=localStorage.getItem(H2);if(Le)try{const Ne=JSON.parse(Le);Ne.buildingId===t?.id&&(l(ee=>({...ee,...Ne.formData})),O(!0),setTimeout(()=>O(!1),3e3))}catch(Ne){console.error("Error restoring draft:",Ne)}},[t?.id]),de.useEffect(()=>{const Le=setTimeout(()=>{const Ne={buildingId:t?.id,formData:s,savedAt:new Date().toISOString()};localStorage.setItem(H2,JSON.stringify(Ne)),R(new Date)},2e3);return()=>clearTimeout(Le)},[s,t?.id]);const pe=de.useCallback(()=>{localStorage.removeItem(H2)},[]),xe=Le=>{const{name:Ne,value:ee,type:P,checked:H}=Le.target,q=P==="checkbox"?H:ee;l(Z=>({...Z,[Ne]:q})),K[Ne]&&I(Ne)},le=Le=>{const{name:Ne,value:ee}=Le.target;X(Ne,ee)},be=async(Le,Ne)=>{if(!Le)return null;const ee=`${Date.now()}_${Le.name}`,{data:P,error:H}=await ln.storage.from("survey-photos").upload(`${Ne}/${ee}`,Le);if(H)return console.error("Upload error:",H),null;const{data:{publicUrl:q}}=ln.storage.from("survey-photos").getPublicUrl(P.path);return q},_e=async Le=>{if(Le.preventDefault(),J(!0),!U(s)){const Ne=document.querySelector(".field-error");Ne&&Ne.scrollIntoView({behavior:"smooth",block:"center"});return}S(!0);try{const Ne=(await ln.auth.getUser()).data.user,ee=await be(c,"owners"),P=await be(p,"buildings"),H={surveyor_id:Ne.id,building_id:t.id,geometry:t.geometry,area_sqm:t.area,floor_number:e,total_floors:r,unit_identifier:n,status:"submitted",owner_name:s.owner_name,phone_number:s.phone_number,aadhaar_number:s.aadhaar_number||null,email_address:s.email_address||null,family_members_count:s.family_members_count?parseInt(s.family_members_count):null,occupier_name:s.occupier_name||null,ownership_type:s.ownership_type||null,survey_gat_no:s.survey_gat_no||null,city_survey_no:s.city_survey_no||null,layout_name_plot_no:s.layout_name_plot_no||null,building_name:s.building_name||null,address_with_floor:s.address_with_floor||null,nearest_road_type:s.nearest_road_type||null,pin_code:s.pin_code||null,property_type:s.property_type||null,usage_type:s.usage_type||null,usage_sub_type:s.usage_sub_type||null,building_permission:s.building_permission||!1,permission_no:s.permission_no||null,permission_date:s.permission_date||null,occupancy_certificate:s.occupancy_certificate||!1,construction_type:s.construction_type||null,year_of_construction:s.year_of_construction?parseInt(s.year_of_construction):null,water_connection:s.water_connection||!1,water_connection_type:s.water_connection_type||null,water_authorized:s.water_authorized||null,water_meter_no:s.water_meter_no||null,water_consumer_no:s.water_consumer_no||null,water_connection_date:s.water_connection_date||null,pipe_size:s.pipe_size||null,has_toilet:s.has_toilet||!1,toilet_count:s.toilet_count?parseInt(s.toilet_count):null,has_septic_tank:s.has_septic_tank||!1,has_sewerage:s.has_sewerage||!1,electricity_connection:s.electricity_connection||!1,has_solar:s.has_solar||!1,has_rainwater_harvesting:s.has_rainwater_harvesting||!1,tax_paid:s.tax_paid||!1,ulb_name:s.ulb_name||null,district:s.district||null,town:s.town||null,zone_no:s.zone_no||null,new_ward_no:s.new_ward_no||null,old_ward_no:s.old_ward_no||null,old_property_no:s.old_property_no||null,new_property_no:s.new_property_no||null,total_carpet_area:s.total_carpet_area?parseFloat(s.total_carpet_area):null,exempted_area:s.exempted_area?parseFloat(s.exempted_area):null,assessable_area:s.assessable_area?parseFloat(s.assessable_area):null,current_tax_details:s.current_tax_details||null,owner_photo_url:ee,building_photo_url:P,building_photo_url_2:s.building_photo_url_2||null,property_usage:s.usage_type||s.property_usage||null,form_data:s};if(!x_()){await R4(H),pe(),alert(" Survey saved offline! It will sync automatically when you're back online."),a&&a(s);return}const{error:q}=await ln.from("surveys").insert(H);if(q)throw q;pe(),a&&a(s)}catch(Ne){if(console.error("Error submitting survey:",Ne),!x_()||Ne.message.includes("network")||Ne.message.includes("Failed to fetch"))try{const ee={...surveyData,status:"pending_sync"};await R4(ee),pe(),alert(" Network error - Survey saved offline! It will sync when connected."),a&&a(s);return}catch(ee){console.error("Failed to save offline:",ee)}alert("Failed to submit survey: "+Ne.message)}finally{S(!1)}};return x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex justify-between items-center rounded-t-2xl z-10",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold",children:"Property Assessment Form"}),x.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:["Building ID: ",t.id,r>1&&`  Floor ${e}/${r}`]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[j&&x.jsxs("span",{className:"text-xs text-blue-200 flex items-center gap-1",children:[x.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"})}),"Draft saved"]}),x.jsx("button",{onClick:i,className:"text-white hover:text-gray-200 text-3xl font-light",children:""})]})]}),C&&x.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-3 mx-6 mt-4 rounded-r-lg",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-sm text-amber-700 font-medium",children:"Previous draft restored"})]})}),x.jsxs("form",{onSubmit:_e,className:"p-6 space-y-6",children:[x.jsx("div",{className:"flex overflow-x-auto pb-2 gap-2 -mx-6 px-6 scrollbar-hide",children:[{id:"owner",label:" Owner",icon:""},{id:"location",label:" Location",icon:""},{id:"construction",label:" Construction",icon:""},{id:"water",label:" Water",icon:""},{id:"sanitation",label:" Sanitation",icon:""},{id:"assessment",label:" Assessment",icon:""},{id:"photos",label:" Photos",icon:""}].map(Le=>x.jsx("button",{type:"button",onClick:()=>F(Le.id),className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all ${re===Le.id?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:Le.label},Le.id))}),x.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:[x.jsx("p",{className:"text-sm font-semibold text-blue-900",children:" Auto-calculated Area"}),x.jsxs("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:[t.area," m"]})]}),x.jsx(mT,{geometry:t.geometry,area:t.area}),re==="owner"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Owner Details"]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Owner Name *"}),x.jsx("input",{type:"text",name:"owner_name",required:!0,value:s.owner_name,onChange:xe,onBlur:le,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ue("owner_name")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"Enter owner's full name"}),W("owner_name")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",W("owner_name")]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number *"}),x.jsx("input",{type:"tel",inputMode:"numeric",name:"phone_number",required:!0,value:s.phone_number,onChange:xe,onBlur:le,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ue("phone_number")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"10-digit number",maxLength:"10"}),W("phone_number")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",W("phone_number")]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Aadhaar Number *"}),x.jsx("input",{type:"text",inputMode:"numeric",name:"aadhaar_number",required:!0,value:s.aadhaar_number,onChange:xe,onBlur:le,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ue("aadhaar_number")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"12-digit number",maxLength:"12"}),W("aadhaar_number")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",W("aadhaar_number")]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),x.jsx("input",{type:"email",name:"email_address",value:s.email_address,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"email@example.com"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Family Members in Survey"}),x.jsx("input",{type:"number",name:"family_members_count",value:s.family_members_count,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Number of family members",min:"1"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Occupier Name (if different from owner)"}),x.jsx("input",{type:"text",name:"occupier_name",value:s.occupier_name,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter occupier's name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ownership Type *"}),x.jsxs("select",{name:"ownership_type",value:s.ownership_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"owned",children:"Owned"}),x.jsx("option",{value:"rented",children:"Rented"}),x.jsx("option",{value:"leased",children:"Leased"}),x.jsx("option",{value:"government",children:"Government"})]})]}),x.jsx("button",{type:"button",onClick:()=>F("location"),className:"w-full py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Location Details "})]}),re==="location"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Location Details"]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"7/12 Survey / Gat No"}),x.jsx("input",{type:"text",name:"survey_gat_no",value:s.survey_gat_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter Survey/Gat number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City Survey No"}),x.jsx("input",{type:"text",name:"city_survey_no",value:s.city_survey_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"City Survey number (if existing)"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Layout Name and Plot No"}),x.jsx("input",{type:"text",name:"layout_name_plot_no",value:s.layout_name_plot_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter layout name and plot number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Building Name"}),x.jsx("input",{type:"text",name:"building_name",value:s.building_name,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter building name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address with Floor No"}),x.jsx("textarea",{name:"address_with_floor",value:s.address_with_floor,onChange:xe,rows:"2",className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter complete address including floor number"})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nearest Road Type"}),x.jsxs("select",{name:"nearest_road_type",value:s.nearest_road_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"",children:"Select road type"}),x.jsx("option",{value:"National Highway",children:"National Highway"}),x.jsx("option",{value:"State Highway",children:"State Highway"}),x.jsx("option",{value:"District Road",children:"District Road"}),x.jsx("option",{value:"Municipal Road",children:"Municipal Road"}),x.jsx("option",{value:"Internal Road",children:"Internal Road"}),x.jsx("option",{value:"Kachcha Road",children:"Kachcha Road"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Pin Code"}),x.jsx("input",{type:"text",name:"pin_code",value:s.pin_code,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"6-digit pin code",maxLength:"6"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Property Type *"}),x.jsxs("select",{name:"property_type",value:s.property_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"Residential",children:"Residential"}),x.jsx("option",{value:"Commercial",children:"Commercial"}),x.jsx("option",{value:"Industrial",children:"Industrial"}),x.jsx("option",{value:"Mixed",children:"Mixed Use"}),x.jsx("option",{value:"Agricultural",children:"Agricultural"}),x.jsx("option",{value:"Vacant",children:"Vacant Land"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Usage Type"}),x.jsx("input",{type:"text",name:"usage_type",value:s.usage_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g., Shop, Office"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Usage Sub-Type"}),x.jsx("input",{type:"text",name:"usage_sub_type",value:s.usage_sub_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g., Grocery, IT"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("owner"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("construction"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Construction "})]})]}),re==="construction"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Construction Details"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-blue-50",children:[x.jsx("input",{type:"checkbox",name:"building_permission",checked:s.building_permission,onChange:xe,className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Building Permission Obtained"})]}),s.building_permission&&x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pl-4 border-l-4 border-blue-200",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Permission No"}),x.jsx("input",{type:"text",name:"permission_no",value:s.permission_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter permission number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Permission"}),x.jsx("input",{type:"date",name:"permission_date",value:s.permission_date,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"occupancy_certificate",checked:s.occupancy_certificate,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Occupancy / Gunthewari Certificate"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Construction Type *"}),x.jsxs("select",{name:"construction_type",value:s.construction_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"RCC",children:"RCC (Reinforced Cement Concrete)"}),x.jsx("option",{value:"Load Bearing",children:"Load Bearing"}),x.jsx("option",{value:"Steel Frame",children:"Steel Frame"}),x.jsx("option",{value:"Kachcha",children:"Kachcha"}),x.jsx("option",{value:"Semi-Pucca",children:"Semi-Pucca"}),x.jsx("option",{value:"Pucca",children:"Pucca"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year of Construction *"}),x.jsx("input",{type:"number",name:"year_of_construction",value:s.year_of_construction,onChange:xe,onBlur:le,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ue("year_of_construction")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"e.g., 2010",min:"1900",max:new Date().getFullYear()}),W("year_of_construction")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",W("year_of_construction")]})]})]}),s.year_of_construction&&x.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-3 rounded-r-lg",children:x.jsxs("p",{className:"text-sm text-amber-800",children:[x.jsx("strong",{children:"Construction Age:"})," ",new Date().getFullYear()-parseInt(s.year_of_construction)," years"]})}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("location"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("water"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Water Supply "})]})]}),re==="water"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Water Supply"]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-blue-50",children:[x.jsx("input",{type:"checkbox",name:"water_connection",checked:s.water_connection,onChange:xe,className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Water Connection Available"})]}),s.water_connection&&x.jsxs("div",{className:"space-y-4 pl-4 border-l-4 border-blue-200",children:[x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Connection Type"}),x.jsxs("select",{name:"water_connection_type",value:s.water_connection_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"",children:"Select type"}),x.jsx("option",{value:"Municipal",children:"Municipal"}),x.jsx("option",{value:"Borewell",children:"Borewell"}),x.jsx("option",{value:"Well",children:"Well"}),x.jsx("option",{value:"Tanker",children:"Tanker"}),x.jsx("option",{value:"Other",children:"Other"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Authorization Status"}),x.jsxs("select",{name:"water_authorized",value:s.water_authorized,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"Authorised",children:"Authorised"}),x.jsx("option",{value:"Unauthorised",children:"Unauthorised"})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Water Meter No"}),x.jsx("input",{type:"text",name:"water_meter_no",value:s.water_meter_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Meter number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Consumer No"}),x.jsx("input",{type:"text",name:"water_consumer_no",value:s.water_consumer_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Consumer number"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Connection"}),x.jsx("input",{type:"date",name:"water_connection_date",value:s.water_connection_date,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Pipe Size"}),x.jsxs("select",{name:"pipe_size",value:s.pipe_size,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"",children:"Select size"}),x.jsx("option",{value:"0.5 inch",children:"0.5 inch"}),x.jsx("option",{value:"0.75 inch",children:"0.75 inch"}),x.jsx("option",{value:"1 inch",children:"1 inch"}),x.jsx("option",{value:"1.5 inch",children:"1.5 inch"}),x.jsx("option",{value:"2 inch",children:"2 inch"})]})]})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("construction"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("sanitation"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Sanitation "})]})]}),re==="sanitation"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Sanitation & Utilities"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Sanitation Facilities"}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-blue-50",children:[x.jsx("input",{type:"checkbox",name:"has_toilet",checked:s.has_toilet,onChange:xe,className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Toilet Available"})]}),s.has_toilet&&x.jsxs("div",{className:"pl-4 border-l-4 border-blue-200",children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Number of Toilets"}),x.jsx("input",{type:"number",name:"toilet_count",value:s.toilet_count,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter count",min:"1"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"has_septic_tank",checked:s.has_septic_tank,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Septic Tank"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"has_sewerage",checked:s.has_sewerage,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Sewerage Connection"})]})]}),x.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Other Utilities"}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-yellow-50",children:[x.jsx("input",{type:"checkbox",name:"electricity_connection",checked:s.electricity_connection,onChange:xe,className:"w-5 h-5 text-yellow-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Electricity Connection"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-orange-50",children:[x.jsx("input",{type:"checkbox",name:"has_solar",checked:s.has_solar,onChange:xe,className:"w-5 h-5 text-orange-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Solar Panels"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-cyan-50",children:[x.jsx("input",{type:"checkbox",name:"has_rainwater_harvesting",checked:s.has_rainwater_harvesting,onChange:xe,className:"w-5 h-5 text-cyan-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Rain Water Harvesting"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"tax_paid",checked:s.tax_paid,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Property Tax Paid (Current Year)"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("water"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("assessment"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Assessment "})]})]}),re==="assessment"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Assessment Details"]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ULB Name"}),x.jsx("input",{type:"text",name:"ulb_name",value:s.ulb_name,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Urban Local Body"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"District"}),x.jsx("input",{type:"text",name:"district",value:s.district,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter district"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Town"}),x.jsx("input",{type:"text",name:"town",value:s.town,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter town"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Zone No"}),x.jsx("input",{type:"text",name:"zone_no",value:s.zone_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Zone number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Ward No"}),x.jsx("input",{type:"text",name:"new_ward_no",value:s.new_ward_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"New ward number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Old Ward No"}),x.jsx("input",{type:"text",name:"old_ward_no",value:s.old_ward_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Old ward number"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Old Property No"}),x.jsx("input",{type:"text",name:"old_property_no",value:s.old_property_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Old property number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Property No"}),x.jsx("input",{type:"text",name:"new_property_no",value:s.new_property_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"New property number"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Total Carpet Area (sq.m)"}),x.jsx("input",{type:"number",name:"total_carpet_area",value:s.total_carpet_area,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Area in sq.m",step:"0.01"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Exempted Area (sq.m)"}),x.jsx("input",{type:"number",name:"exempted_area",value:s.exempted_area,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Exempted area",step:"0.01"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assessable Area (sq.m)"}),x.jsx("input",{type:"number",name:"assessable_area",value:s.assessable_area,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Assessable area",step:"0.01"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Tax Details"}),x.jsx("textarea",{name:"current_tax_details",value:s.current_tax_details,onChange:xe,rows:"2",className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter current tax details/amount"})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("sanitation"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("photos"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Photos "})]})]}),re==="photos"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Photos Documentation"]}),x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:[x.jsx("p",{children:x.jsx("strong",{children:"Required Photos as per Annexure-A:"})}),x.jsxs("ul",{className:"list-disc list-inside mt-1",children:[x.jsx("li",{children:"1 Owner Photo (30mm  30mm at 150 dpi)"}),x.jsx("li",{children:"2 Property Photos (100mm  75mm at 150 dpi)"})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(U2,{label:"Owner Photo",onCapture:Le=>f(Le),currentPhoto:c,required:!0}),x.jsx(U2,{label:"Building Photo 1 (Front View)",onCapture:Le=>v(Le),currentPhoto:p,required:!0}),x.jsx(U2,{label:"Building Photo 2 (Side/Additional View)",onCapture:Le=>_(Le),currentPhoto:y,required:!1})]}),x.jsx("div",{className:"flex gap-3",children:x.jsx("button",{type:"button",onClick:()=>F("assessment"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"})})]}),x.jsxs("div",{className:"flex space-x-4 pt-4 border-t",children:[x.jsx("button",{type:"button",onClick:i,className:"flex-1 py-4 px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-colors text-base",children:"Cancel"}),x.jsx("button",{type:"submit",disabled:E,className:`flex-1 py-4 px-6 rounded-lg font-semibold text-white text-base transition-all ${E?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 shadow-lg hover:shadow-xl transform hover:scale-105"}`,children:E?"Submitting...":" Submit Assessment"})]})]})]})},mW=({isOpen:t,onClose:e,surveyData:r,onNewSurvey:n})=>{const[i,a]=de.useState(!1),[s,l]=de.useState(!1);return de.useEffect(()=>{t?(navigator.vibrate&&navigator.vibrate([100,50,100]),setTimeout(()=>a(!0),100),setTimeout(()=>l(!0),300)):(a(!1),l(!1))},[t]),t?x.jsxs("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center p-4",children:[x.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),i&&x.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(50)].map((c,f)=>x.jsx("div",{className:"absolute animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,backgroundColor:["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6"][Math.floor(Math.random()*5)],width:`${8+Math.random()*8}px`,height:`${8+Math.random()*8}px`,borderRadius:Math.random()>.5?"50%":"2px"}},f))}),x.jsxs("div",{className:`relative bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 transform transition-all duration-500 ${s?"scale-100 opacity-100":"scale-90 opacity-0"}`,children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center animate-bounce-in",children:x.jsx("svg",{className:"w-14 h-14 text-green-500 animate-checkmark",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7",className:"animate-draw-check"})})})}),x.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Survey Submitted!"}),x.jsx("p",{className:"text-gray-500 text-center mb-6",children:"Property assessment has been recorded successfully"}),r&&x.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 space-y-2",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Building ID"}),x.jsx("span",{className:"font-medium text-gray-900",children:r.buildingId})]}),r.area&&x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Area"}),x.jsxs("span",{className:"font-medium text-gray-900",children:[r.area," m"]})]}),r.floor&&x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Floor/Unit"}),x.jsx("span",{className:"font-medium text-gray-900",children:r.floor})]}),r.ownerName&&x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Owner"}),x.jsx("span",{className:"font-medium text-gray-900",children:r.ownerName})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:n,className:"flex-1 py-3 px-4 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-xl transition-colors",children:"New Survey"}),x.jsx("button",{onClick:e,className:"flex-1 py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-xl transition-colors",children:"View Dashboard"})]})]})]}):null},gW=()=>{const t=gc(),e=XE(),[r,n]=de.useState(null),[i,a]=de.useState(!1),[s,l]=de.useState(!1),[c,f]=de.useState(1),[p,v]=de.useState(1),[y,_]=de.useState({}),[E,S]=de.useState(1),[C,O]=de.useState(!1),[j,R]=de.useState([]),[B,J]=de.useState(!1),[re,F]=de.useState(null),K=Le=>{n(Le),a(!0),e.info("Building selected! Now select number of floors.")},U=Le=>{f(Le),v(1),a(!1),l(!0)},X=()=>{a(!1),n(null)},I=Le=>{_(Ne=>({...Ne,[p]:Le})),S(1),l(!1),O(!0)},W=()=>{_(Le=>({...Le,[p]:1})),S(1),l(!1),O(!0)},ue=()=>{O(!1),l(!1),n(null),v(1),S(1),_({}),R([])},pe=Le=>{const Ne=[...j,{floor:p,unit:E}];R(Ne);const ee=y[p]||1;E<ee?(S(E+1),e.success(`Unit ${E} completed! Moving to next unit.`)):p<c?(v(p+1),S(1),O(!1),l(!0),e.success(`Floor ${p} completed! Moving to next floor.`)):(O(!1),F({buildingId:r?.id,area:r?.area,floor:_e(p,E,ee),ownerName:Le?.owner_name,totalSurveys:Ne.length,totalFloors:c}),J(!0))},xe=()=>{J(!1),ue(),t("/dashboard")},le=()=>{J(!1),ue(),e.info("Ready for new survey! Draw on the map to begin.")},be=()=>Object.values(y).reduce((Le,Ne)=>Le+Ne,0),_e=(Le,Ne,ee)=>{if(ee===1)return`Floor ${Le}`;const P=String.fromCharCode(64+Ne);return`${Le}${P}`};return x.jsxs("div",{className:"relative h-full",children:[x.jsx(cW,{onBuildingSelect:K}),i&&r&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1000] p-4 backdrop-blur-sm",children:x.jsx(hW,{onConfirm:U,onCancel:X})}),s&&r&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1000] p-4 backdrop-blur-sm",children:x.jsx(fW,{floorNumber:p,onConfirm:I,onSkip:W})}),C&&r&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1000] p-4 backdrop-blur-sm overflow-y-auto",children:x.jsxs("div",{className:"relative max-w-3xl w-full my-4",children:[be()>1&&x.jsxs("div",{className:"bg-white rounded-t-xl p-3 sm:p-4 shadow-lg",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-700",children:["Floor ",p," - Unit ",E,"/",y[p]||1]}),x.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:[j.length,"/",be()," completed"]})]}),x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${j.length/be()*100}%`}})})]}),x.jsx(pW,{buildingData:r,floorNumber:p,totalFloors:c,unitIdentifier:_e(p,E,y[p]||1),onClose:ue,onSuccess:pe})]})}),x.jsx(mW,{isOpen:B,onClose:xe,surveyData:re,onNewSurvey:le})]})},vW=()=>{const{id:t}=oN(),e=gc(),[r,n]=de.useState(null),[i,a]=de.useState(!0),[s,l]=de.useState(!1);de.useEffect(()=>{c()},[t]);const c=async()=>{const{data:v,error:y}=await ln.from("surveys").select("*").eq("id",t).single();!y&&v&&n(v),a(!1)};if(i)return x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),x.jsx("p",{className:"mt-4 text-gray-600",children:"Loading survey..."})]})});if(!r)return x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-red-600 text-xl",children:"Survey not found"}),x.jsx("button",{onClick:()=>e("/dashboard"),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg",children:"Back to Dashboard"})]})});const p=(()=>{if(r.geometry.type==="Point")return[r.geometry.coordinates[1],r.geometry.coordinates[0]];if(r.geometry.type==="Polygon"){const v=r.geometry.coordinates[0],y=v.map(E=>E[1]),_=v.map(E=>E[0]);return[(Math.min(...y)+Math.max(...y))/2,(Math.min(..._)+Math.max(..._))/2]}return[20.35,85.85]})();return x.jsxs("div",{className:"relative h-full",children:[x.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-white shadow-md z-[1000] p-4 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("button",{onClick:()=>e("/dashboard"),className:"text-blue-600 hover:text-blue-800 font-medium",children:" Back to Dashboard"}),x.jsxs("h2",{className:"text-xl font-bold text-gray-900 mt-1",children:["Survey: ",r.building_id||r.id]})]}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsxs("button",{onClick:()=>X_(r),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105 flex items-center space-x-2",children:[x.jsx("span",{children:""}),x.jsx("span",{children:"Download PDF"})]}),x.jsx("button",{onClick:()=>l(!s),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold",children:s?"Hide Details":"Show Details"})]})]}),x.jsx("div",{className:"h-full pt-20",children:x.jsxs(by,{center:p,zoom:18,maxZoom:24,style:{height:"100%",width:"100%"},children:[x.jsx(Fg,{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"],maxZoom:22}),x.jsx(G8,{url:"http://localhost:8080/geoserver/RASTER/wms",params:{layers:"RASTER:67cfea31928570b1a96c327e",format:"image/png",transparent:!0,version:"1.1.0",srs:"EPSG:32645"},maxZoom:24,opacity:.8}),x.jsx(U8,{data:r.geometry,style:{color:"#f59e0b",weight:4,fillColor:"#fbbf24",fillOpacity:.3},eventHandlers:{click:()=>l(!0)},children:x.jsx(z8,{children:x.jsxs("div",{className:"p-2",children:[x.jsx("p",{className:"font-bold text-lg",children:r.building_id}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Owner: ",r.owner_name]}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Area: ",r.area_sqm," m"]}),x.jsx("button",{onClick:()=>l(!0),className:"mt-2 text-blue-600 hover:underline text-sm font-medium",children:"View Full Details "})]})})})]})}),s&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1001] p-4 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex justify-between items-center rounded-t-2xl",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold",children:"Survey Details"}),x.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:["Building ID: ",r.building_id]})]}),x.jsx("button",{onClick:()=>l(!1),className:"text-white hover:text-gray-200 text-3xl font-light",children:""})]}),x.jsxs("div",{className:"p-6 space-y-6",children:[x.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:[x.jsx("p",{className:"text-sm font-semibold text-blue-900",children:" Area"}),x.jsxs("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:[r.area_sqm," m"]})]}),x.jsx(mT,{geometry:r.geometry,area:r.area_sqm}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Owner Information"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Au,{label:"Owner Name",value:r.owner_name}),x.jsx(Au,{label:"Phone Number",value:r.phone_number}),x.jsx(Au,{label:"Aadhaar Number",value:r.aadhaar_number}),r.owner_photo_url&&x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Owner Photo"}),x.jsx("img",{src:r.owner_photo_url,alt:"Owner",className:"w-48 h-48 object-cover rounded-lg border border-gray-300"})]})]})]}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Property Details"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Au,{label:"Property Usage",value:r.property_usage}),x.jsx(Au,{label:"Construction Type",value:r.construction_type}),x.jsx(Au,{label:"Ownership Type",value:r.ownership_type}),x.jsx(Au,{label:"Year of Construction",value:r.year_of_construction}),r.building_photo_url&&x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Building Photo"}),x.jsx("img",{src:r.building_photo_url,alt:"Building",className:"w-full max-w-md h-64 object-cover rounded-lg border border-gray-300"})]})]})]}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Utilities & Amenities"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(q2,{label:" Water Connection",active:r.water_connection}),x.jsx(q2,{label:" Electricity Connection",active:r.electricity_connection}),x.jsx(q2,{label:" Property Tax Paid",active:r.form_data?.tax_paid})]})]}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:" Survey Metadata"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Au,{label:"Status",value:r.status}),x.jsx(Au,{label:"Created At",value:new Date(r.created_at).toLocaleString()}),x.jsx(Au,{label:"Updated At",value:new Date(r.updated_at).toLocaleString()})]})]})]})]})})]})},Au=({label:t,value:e})=>x.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[x.jsx("span",{className:"text-sm font-semibold text-gray-700",children:t}),x.jsx("span",{className:"text-sm text-gray-900",children:e||"N/A"})]}),q2=({label:t,active:e})=>x.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg ${e?"bg-green-100":"bg-gray-100"}`,children:[x.jsx("span",{className:`w-4 h-4 rounded-full ${e?"bg-green-500":"bg-gray-400"}`}),x.jsx("span",{className:`font-medium ${e?"text-green-800":"text-gray-600"}`,children:t})]}),_W=()=>{const[t,e]=de.useState([]),[r,n]=de.useState([]),[i,a]=de.useState(!0);de.useEffect(()=>{s()},[]);const s=async()=>{const[l,c]=await Promise.all([ln.from("surveys").select("*").order("created_at",{ascending:!1}),ln.from("profiles").select("*")]);e(l.data||[]),n(c.data||[]),a(!1)};return x.jsxs("div",{className:"p-6 space-y-6",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),x.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Users"}),i?x.jsx("p",{children:"Loading..."}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b border-gray-200",children:[x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Name"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Email"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Role"})]})}),x.jsx("tbody",{children:r.map(l=>x.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[x.jsx("td",{className:"p-3",children:l.full_name||"N/A"}),x.jsx("td",{className:"p-3",children:l.email}),x.jsx("td",{className:"p-3",children:x.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:l.role})})]},l.id))})]})})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[x.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["All Surveys (",t.length,")"]}),i?x.jsx("p",{children:"Loading..."}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b border-gray-200",children:[x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Building ID"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Owner ID"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Status"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Created"})]})}),x.jsx("tbody",{children:t.map(l=>x.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[x.jsx("td",{className:"p-3",children:l.building_id||"N/A"}),x.jsx("td",{className:"p-3",children:l.owner_id||"N/A"}),x.jsx("td",{className:"p-3",children:x.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${yW(l.status)}`,children:l.status})}),x.jsx("td",{className:"p-3 text-gray-600",children:new Date(l.created_at).toLocaleDateString()})]},l.id))})]})})]})]})},yW=t=>{switch(t){case"draft":return"bg-yellow-100 text-yellow-800";case"submitted":return"bg-green-100 text-green-800";case"verified":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},xW=({buildings:t})=>{const e=B8();return de.useEffect(()=>{if(t.length>0){const r=[];t.forEach(n=>{n.geometry?.coordinates?.[0]&&n.geometry.coordinates[0].forEach(i=>{r.push([i[1],i[0]])})}),r.length>0&&e.fitBounds(r,{padding:[50,50]})}},[t,e]),null},wW=()=>{const t=gc(),[e,r]=de.useState([]),[n,i]=de.useState(!0),[a,s]=de.useState(null),[l,c]=de.useState("all"),[f,p]=de.useState(""),[v,y]=de.useState({total:0,residential:0,commercial:0,other:0});de.useEffect(()=>{_()},[]);const _=async()=>{console.log("[SurveyedBuildings] Starting fetchBuildings..."),i(!0);try{console.log("[SurveyedBuildings] Making Supabase query...");const{data:R,error:B}=await Promise.race([ln.from("surveys").select("*").not("geometry","is",null).order("created_at",{ascending:!1}),new Promise((J,re)=>setTimeout(()=>re(new Error("Query timeout after 15s")),15e3))]);if(console.log("[SurveyedBuildings] Query complete:",{hasData:!!R,dataCount:R?.length||0,hasError:!!B,errorDetails:B}),B){console.error("[SurveyedBuildings] Supabase error:",B),console.error("[SurveyedBuildings] Error details:",{message:B.message,details:B.details,hint:B.hint,code:B.code});return}if(R){console.log("[SurveyedBuildings] Setting buildings data, count:",R.length),r(R);const J=R.filter(F=>F.property_type?.toLowerCase().includes("residential")||F.usage_type?.toLowerCase().includes("residential")).length,re=R.filter(F=>F.property_type?.toLowerCase().includes("commercial")||F.usage_type?.toLowerCase().includes("commercial")).length;y({total:R.length,residential:J,commercial:re,other:R.length-J-re}),console.log("[SurveyedBuildings] Stats calculated:",{residential:J,commercial:re,total:R.length})}}catch(R){console.error("[SurveyedBuildings] Exception in fetchBuildings:",R),console.error("[SurveyedBuildings] Exception stack:",R.stack)}finally{console.log("[SurveyedBuildings] Setting loading to false"),i(!1)}},E=e.filter(R=>{const B=l==="all"||R.property_type?.toLowerCase().includes(l)||R.usage_type?.toLowerCase().includes(l),J=!f||R.building_id?.toLowerCase().includes(f.toLowerCase())||R.owner_name?.toLowerCase().includes(f.toLowerCase())||R.address_with_floor?.toLowerCase().includes(f.toLowerCase());return B&&J}),S=R=>{const B=R.properties?.property_type?.toLowerCase()||R.properties?.usage_type?.toLowerCase()||"";let J="#3b82f6";return B.includes("residential")?J="#10b981":B.includes("commercial")?J="#f59e0b":B.includes("industrial")?J="#ef4444":B.includes("government")&&(J="#8b5cf6"),{fillColor:J,weight:2,opacity:1,color:"#1e40af",fillOpacity:.5}},C=R=>({type:"Feature",properties:{id:R.id,building_id:R.building_id,owner_name:R.owner_name,property_type:R.property_type,usage_type:R.usage_type,area_sqm:R.area_sqm,...R},geometry:R.geometry}),O=(R,B)=>{B.on({click:()=>{s(R.properties)},mouseover:J=>{J.target.setStyle({weight:4,fillOpacity:.7})},mouseout:J=>{J.target.setStyle({weight:2,fillOpacity:.5})}})},j=async R=>{try{await X_(R)}catch(B){console.error("Error generating PDF:",B)}};return x.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[x.jsxs("div",{className:"bg-white shadow-md px-6 py-4",children:[x.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{onClick:()=>t("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:x.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Surveyed Building Footprints"}),x.jsx("p",{className:"text-gray-500 text-sm",children:"View all surveyed properties on the map"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsxs("div",{className:"bg-blue-50 px-4 py-2 rounded-lg border border-blue-200",children:[x.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Total"}),x.jsx("p",{className:"text-xl font-bold text-blue-700",children:v.total})]}),x.jsxs("div",{className:"bg-green-50 px-4 py-2 rounded-lg border border-green-200",children:[x.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Residential"}),x.jsx("p",{className:"text-xl font-bold text-green-700",children:v.residential})]}),x.jsxs("div",{className:"bg-amber-50 px-4 py-2 rounded-lg border border-amber-200",children:[x.jsx("p",{className:"text-xs text-amber-600 font-medium",children:"Commercial"}),x.jsx("p",{className:"text-xl font-bold text-amber-700",children:v.commercial})]})]})]}),x.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[x.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[x.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),x.jsx("input",{type:"text",placeholder:"Search by ID, owner, address...",value:f,onChange:R=>p(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),x.jsxs("select",{value:l,onChange:R=>c(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[x.jsx("option",{value:"all",children:"All Types"}),x.jsx("option",{value:"residential",children:"Residential"}),x.jsx("option",{value:"commercial",children:"Commercial"}),x.jsx("option",{value:"industrial",children:"Industrial"}),x.jsx("option",{value:"government",children:"Government"})]}),x.jsxs("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})]}),x.jsxs("div",{className:"flex-1 relative",children:[n?x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:x.jsxs("div",{className:"flex flex-col items-center gap-3",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),x.jsx("p",{className:"text-gray-600 font-medium",children:"Loading buildings..."})]})}):x.jsxs(by,{center:[19.076,72.8777],zoom:12,className:"h-full w-full",children:[x.jsx(Fg,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),x.jsx(Fg,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:" Esri",opacity:.3}),E.map(R=>R.geometry&&x.jsx(U8,{data:C(R),style:S,onEachFeature:O},R.id)),x.jsx(xW,{buildings:E})]}),x.jsxs("div",{className:"absolute bottom-6 left-6 bg-white rounded-lg shadow-lg p-4 z-[1000]",children:[x.jsx("h3",{className:"font-semibold text-gray-700 mb-2 text-sm",children:"Legend"}),x.jsxs("div",{className:"space-y-1.5 text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#10b981"}}),x.jsx("span",{children:"Residential"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#f59e0b"}}),x.jsx("span",{children:"Commercial"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#ef4444"}}),x.jsx("span",{children:"Industrial"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#8b5cf6"}}),x.jsx("span",{children:"Government"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#3b82f6"}}),x.jsx("span",{children:"Other"})]})]})]}),a&&x.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-xl shadow-2xl p-5 z-[1000] w-80 max-h-[80vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Building Details"}),x.jsx("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600 text-2xl leading-none",children:""})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[x.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Building ID"}),x.jsx("p",{className:"font-bold text-blue-900",children:a.building_id||"N/A"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Owner"}),x.jsx("p",{className:"font-medium text-gray-900",children:a.owner_name||"N/A"})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Area"}),x.jsxs("p",{className:"font-medium text-gray-900",children:[a.area_sqm||0," m"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Property Type"}),x.jsx("p",{className:"font-medium text-gray-900",children:a.property_type||"N/A"})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Usage"}),x.jsx("p",{className:"font-medium text-gray-900",children:a.usage_type||"N/A"})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Address"}),x.jsx("p",{className:"font-medium text-gray-900 text-sm",children:a.address_with_floor||"N/A"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Ward No"}),x.jsx("p",{className:"font-medium text-gray-900",children:a.new_ward_no||"N/A"})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Property No"}),x.jsx("p",{className:"font-medium text-gray-900",children:a.new_property_no||"N/A"})]})]}),x.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[x.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.tax_paid?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.tax_paid?" Tax Paid":" Tax Pending"}),a.water_connection&&x.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:" Water"}),a.electricity_connection&&x.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:" Power"})]}),x.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[x.jsxs("button",{onClick:()=>j(a),className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"PDF"]}),x.jsx("button",{onClick:()=>t(`/survey/${a.id}`),className:"flex-1 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm font-medium",children:"View Details"})]})]})]}),x.jsx("div",{className:"absolute top-4 left-4 bg-white rounded-lg shadow-lg px-4 py-2 z-[1000]",children:x.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",x.jsx("span",{className:"font-bold text-blue-600",children:E.length})," of ",x.jsx("span",{className:"font-bold",children:e.length})," buildings"]})})]})]})},gT=({children:t,roles:e=[],fallback:r=null,redirectTo:n="/dashboard"})=>{const{profile:i,loading:a,hasAnyRole:s}=gp();return a?x.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),x.jsx("span",{className:"text-gray-500",children:"Checking permissions..."})]})}):e.length>0&&!s(e)?r||x.jsx(U_,{to:n,replace:!0}):t},vT=({message:t="You don't have permission to view this content."})=>x.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px] p-8 text-center",children:[x.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-4",children:x.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),x.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Access Denied"}),x.jsx("p",{className:"text-gray-500 max-w-md",children:t})]}),bW=()=>{const{t}=mp(),{isAdmin:e}=gp(),[r,n]=de.useState([]),[i,a]=de.useState(!0),[s,l]=de.useState(""),[c,f]=de.useState("all"),[p,v]=de.useState(null),[y,_]=de.useState(!1),E=async()=>{a(!0);try{let R=ln.from("user_profiles").select("*").order("created_at",{ascending:!1});c!=="all"&&(R=R.eq("role",c));const{data:B,error:J}=await R;if(J)throw J;n(B||[])}catch(R){console.error("Error fetching users:",R)}finally{a(!1)}};de.useEffect(()=>{E()},[c]);const S=r.filter(R=>R.full_name?.toLowerCase().includes(s.toLowerCase())||R.email?.toLowerCase().includes(s.toLowerCase())||R.phone?.includes(s)),C=async(R,B)=>{try{const{error:J}=await ln.from("user_profiles").update({role:B,updated_at:new Date().toISOString()}).eq("id",R);if(J)throw J;E(),_(!1),v(null)}catch(J){console.error("Error updating role:",J),alert("Failed to update user role")}},O=async(R,B)=>{try{const{error:J}=await ln.from("user_profiles").update({is_active:!B,updated_at:new Date().toISOString()}).eq("id",R);if(J)throw J;E()}catch(J){console.error("Error toggling status:",J)}},j=R=>{switch(R){case"admin":return"bg-red-100 text-red-700";case"supervisor":return"bg-purple-100 text-purple-700";case"surveyor":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}};return x.jsx(gT,{roles:["admin"],fallback:x.jsx(vT,{message:t("messages.noPermission")}),children:x.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"mb-6",children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[x.jsx("span",{className:"text-3xl",children:""}),t("users.title")]}),x.jsx("p",{className:"text-gray-500 mt-1",children:"Manage user accounts and roles"})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-3xl font-bold text-gray-800",children:r.length}),x.jsx("p",{className:"text-sm text-gray-500",children:"Total Users"})]}),x.jsxs("div",{className:"bg-red-50 rounded-xl p-4 shadow-sm border border-red-100",children:[x.jsx("p",{className:"text-3xl font-bold text-red-600",children:r.filter(R=>R.role==="admin").length}),x.jsxs("p",{className:"text-sm text-red-600",children:[t("roles.admin"),"s"]})]}),x.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 shadow-sm border border-purple-100",children:[x.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.filter(R=>R.role==="supervisor").length}),x.jsxs("p",{className:"text-sm text-purple-600",children:[t("roles.supervisor"),"s"]})]}),x.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 shadow-sm border border-blue-100",children:[x.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.filter(R=>R.role==="surveyor").length}),x.jsxs("p",{className:"text-sm text-blue-600",children:[t("roles.surveyor"),"s"]})]})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:x.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx("input",{type:"text",placeholder:`${t("common.search")}...`,value:s,onChange:R=>l(R.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),x.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),x.jsxs("select",{value:c,onChange:R=>f(R.target.value),className:"px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsxs("option",{value:"all",children:[t("common.all")," Roles"]}),x.jsx("option",{value:"admin",children:t("roles.admin")}),x.jsx("option",{value:"supervisor",children:t("roles.supervisor")}),x.jsx("option",{value:"surveyor",children:t("roles.surveyor")})]}),x.jsxs("button",{onClick:E,className:"px-4 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),t("common.refresh")]})]})}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:i?x.jsx("div",{className:"flex items-center justify-center py-20",children:x.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):S.length===0?x.jsx("div",{className:"text-center py-20",children:x.jsx("p",{className:"text-gray-500",children:t("users.noUsers")})}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:x.jsxs("tr",{children:[x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.fullName")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.email")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.phone")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.role")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.status")}),x.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("common.actions")})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100",children:S.map(R=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:R.full_name?.charAt(0)||R.email?.charAt(0)||"?"}),x.jsx("span",{className:"font-medium text-gray-800",children:R.full_name||"No Name"})]})}),x.jsx("td",{className:"px-6 py-4 text-gray-600",children:R.email}),x.jsx("td",{className:"px-6 py-4 text-gray-600",children:R.phone||"-"}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${j(R.role)}`,children:t(`roles.${R.role}`)})}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("button",{onClick:()=>O(R.id,R.is_active),className:`px-3 py-1 rounded-full text-xs font-semibold ${R.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:R.is_active?t("users.active"):t("users.inactive")})}),x.jsx("td",{className:"px-6 py-4 text-right",children:x.jsx("button",{onClick:()=>{v(R),_(!0)},className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:t("common.edit")})})]},R.id))})]})})}),y&&p&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md animate-fadeIn",children:[x.jsx("div",{className:"p-6 border-b border-gray-100",children:x.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t("users.editUser")})}),x.jsxs("div",{className:"p-6 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("users.fullName")}),x.jsx("p",{className:"text-gray-800 font-medium",children:p.full_name||p.email})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("users.email")}),x.jsx("p",{className:"text-gray-600",children:p.email})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("users.role")}),x.jsx("div",{className:"grid grid-cols-3 gap-2",children:["admin","supervisor","surveyor"].map(R=>x.jsx("button",{onClick:()=>C(p.id,R),className:`py-3 rounded-xl font-medium transition-all ${p.role===R?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t(`roles.${R}`)},R))})]})]}),x.jsx("div",{className:"p-6 border-t border-gray-100 flex justify-end",children:x.jsx("button",{onClick:()=>{_(!1),v(null)},className:"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:t("common.close")})})]})})]})})},SW=()=>{const{t}=mp(),{canManageZones:e}=gp(),[r,n]=de.useState([]),[i,a]=de.useState([]),[s,l]=de.useState(!0),[c,f]=de.useState(!1),[p,v]=de.useState(null),[y,_]=de.useState("all"),[E,S]=de.useState({name:"",description:"",assigned_to:"",supervisor_id:"",target_count:0,due_date:"",priority:"medium",status:"pending",color:"#3B82F6"}),C=async()=>{l(!0);try{let I=ln.from("survey_zones").select(`
                    *,
                    assigned_user:user_profiles!survey_zones_assigned_to_fkey(id, full_name, email),
                    supervisor:user_profiles!survey_zones_supervisor_id_fkey(id, full_name, email)
                `).order("created_at",{ascending:!1});y!=="all"&&(I=I.eq("status",y));const{data:W,error:ue}=await I;if(ue)throw ue;n(W||[])}catch(I){console.error("Error fetching zones:",I)}finally{l(!1)}},O=async()=>{try{const{data:I}=await ln.from("user_profiles").select("id, full_name, email, role").eq("is_active",!0).order("full_name");a(I||[])}catch(I){console.error("Error fetching users:",I)}};de.useEffect(()=>{C(),O()},[y]);const j=I=>{const{name:W,value:ue}=I.target;S(pe=>({...pe,[W]:ue}))},R=()=>{v(null),S({name:"",description:"",assigned_to:"",supervisor_id:"",target_count:0,due_date:"",priority:"medium",status:"pending",color:"#3B82F6"}),f(!0)},B=I=>{v(I),S({name:I.name,description:I.description||"",assigned_to:I.assigned_to||"",supervisor_id:I.supervisor_id||"",target_count:I.target_count||0,due_date:I.due_date||"",priority:I.priority||"medium",status:I.status||"pending",color:I.color||"#3B82F6"}),f(!0)},J=async()=>{try{const I={...E,target_count:parseInt(E.target_count)||0,assigned_to:E.assigned_to||null,supervisor_id:E.supervisor_id||null,due_date:E.due_date||null,updated_at:new Date().toISOString()};if(p){const{error:W}=await ln.from("survey_zones").update(I).eq("id",p.id);if(W)throw W}else{const{error:W}=await ln.from("survey_zones").insert(I);if(W)throw W}f(!1),v(null),C()}catch(I){console.error("Error saving zone:",I),alert("Failed to save zone")}},re=async I=>{if(confirm("Are you sure you want to delete this zone?"))try{const{error:W}=await ln.from("survey_zones").delete().eq("id",I);if(W)throw W;C()}catch(W){console.error("Error deleting zone:",W)}},F=I=>{switch(I){case"completed":return"bg-green-100 text-green-700";case"in_progress":return"bg-blue-100 text-blue-700";case"on_hold":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},K=I=>{switch(I){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"medium":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},U=i.filter(I=>I.role==="surveyor"),X=i.filter(I=>I.role==="supervisor"||I.role==="admin");return x.jsx(gT,{roles:["admin","supervisor"],fallback:x.jsx(vT,{message:t("messages.noPermission")}),children:x.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[x.jsxs("div",{children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[x.jsx("span",{className:"text-3xl",children:""}),t("zones.title")]}),x.jsx("p",{className:"text-gray-500 mt-1",children:"Create and manage survey zones"})]}),x.jsxs("button",{onClick:R,className:"px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-medium hover:from-blue-700 hover:to-blue-800 transition-all shadow-lg shadow-blue-200 flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t("zones.createZone")]})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-3xl font-bold text-gray-800",children:r.length}),x.jsx("p",{className:"text-sm text-gray-500",children:"Total Zones"})]}),x.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-3xl font-bold text-gray-600",children:r.filter(I=>I.status==="pending").length}),x.jsx("p",{className:"text-sm text-gray-500",children:t("zones.pending")})]}),x.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 shadow-sm border border-blue-100",children:[x.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.filter(I=>I.status==="in_progress").length}),x.jsx("p",{className:"text-sm text-blue-600",children:t("zones.inProgress")})]}),x.jsxs("div",{className:"bg-green-50 rounded-xl p-4 shadow-sm border border-green-100",children:[x.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.filter(I=>I.status==="completed").length}),x.jsx("p",{className:"text-sm text-green-600",children:t("zones.completed")})]}),x.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 shadow-sm border border-purple-100",children:[x.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.reduce((I,W)=>I+(W.completed_count||0),0)}),x.jsx("p",{className:"text-sm text-purple-600",children:"Total Surveys"})]})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:x.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","in_progress","completed","on_hold"].map(I=>x.jsx("button",{onClick:()=>_(I),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y===I?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t(I==="all"?"common.all":`zones.${I.replace("_","")}`)},I))})}),s?x.jsx("div",{className:"flex items-center justify-center py-20",children:x.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):r.length===0?x.jsxs("div",{className:"bg-white rounded-xl p-12 text-center shadow-sm border border-gray-100",children:[x.jsx("div",{className:"text-6xl mb-4",children:""}),x.jsx("p",{className:"text-gray-500 text-lg",children:t("zones.noZones")}),x.jsx("button",{onClick:R,className:"mt-4 px-5 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700",children:t("zones.createZone")})]}):x.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(I=>x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[x.jsx("div",{className:"h-2",style:{backgroundColor:I.color}}),x.jsxs("div",{className:"p-5",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsx("h3",{className:"font-bold text-lg text-gray-800",children:I.name}),x.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${F(I.status)}`,children:t(`zones.${I.status?.replace("_","")||"pending"}`)})]}),I.description&&x.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:I.description}),x.jsxs("div",{className:"mb-4",children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500",children:t("zones.progress")}),x.jsxs("span",{className:"font-semibold text-gray-800",children:[I.completed_count||0," / ",I.target_count||0]})]}),x.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:x.jsx("div",{className:"h-2.5 rounded-full transition-all",style:{width:`${Math.min(100,(I.completed_count||0)/(I.target_count||1)*100)}%`,backgroundColor:I.color}})})]}),x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[x.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm",children:I.assigned_user?.full_name?.charAt(0)||"?"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-800",children:I.assigned_user?.full_name||"Not assigned"}),x.jsx("p",{className:"text-xs text-gray-400",children:t("zones.assignedTo")})]})]}),x.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mb-4",children:[x.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${K(I.priority)}`,children:t(`zones.${I.priority}`)}),I.due_date&&x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(I.due_date).toLocaleDateString()]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>B(I),className:"flex-1 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors font-medium text-sm",children:t("common.edit")}),x.jsx("button",{onClick:()=>re(I.id),className:"px-3 py-2 bg-red-50 text-red-500 rounded-lg hover:bg-red-100 transition-colors",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},I.id))}),c&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto animate-fadeIn",children:[x.jsx("div",{className:"p-6 border-b border-gray-100 sticky top-0 bg-white",children:x.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t(p?"zones.editZone":"zones.createZone")})}),x.jsxs("div",{className:"p-6 space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t("zones.zoneName")," *"]}),x.jsx("input",{type:"text",name:"name",value:E.name,onChange:j,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Ward 5 - North"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),x.jsx("textarea",{name:"description",value:E.description,onChange:j,rows:2,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Zone description..."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.assignedTo")}),x.jsxs("select",{name:"assigned_to",value:E.assigned_to,onChange:j,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"",children:"-- Select Surveyor --"}),U.map(I=>x.jsx("option",{value:I.id,children:I.full_name||I.email},I.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.supervisor")}),x.jsxs("select",{name:"supervisor_id",value:E.supervisor_id,onChange:j,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"",children:"-- Select Supervisor --"}),X.map(I=>x.jsx("option",{value:I.id,children:I.full_name||I.email},I.id))]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.targetCount")}),x.jsx("input",{type:"number",name:"target_count",value:E.target_count,onChange:j,min:"0",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.dueDate")}),x.jsx("input",{type:"date",name:"due_date",value:E.due_date,onChange:j,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.priority")}),x.jsxs("select",{name:"priority",value:E.priority,onChange:j,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"low",children:t("zones.low")}),x.jsx("option",{value:"medium",children:t("zones.medium")}),x.jsx("option",{value:"high",children:t("zones.high")}),x.jsx("option",{value:"urgent",children:t("zones.urgent")})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.status")}),x.jsxs("select",{name:"status",value:E.status,onChange:j,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"pending",children:t("zones.pending")}),x.jsx("option",{value:"in_progress",children:t("zones.inProgress")}),x.jsx("option",{value:"completed",children:t("zones.completed")}),x.jsx("option",{value:"on_hold",children:t("zones.onHold")})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone Color"}),x.jsx("div",{className:"flex gap-2",children:["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#EC4899"].map(I=>x.jsx("button",{type:"button",onClick:()=>S(W=>({...W,color:I})),className:`w-10 h-10 rounded-xl transition-all ${E.color===I?"ring-2 ring-offset-2 ring-gray-400 scale-110":""}`,style:{backgroundColor:I}},I))})]})]}),x.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3 sticky bottom-0 bg-white",children:[x.jsx("button",{onClick:()=>{f(!1),v(null)},className:"flex-1 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:t("common.cancel")}),x.jsx("button",{onClick:J,disabled:!E.name,className:"flex-1 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:t("common.save")})]})]})})]})})},EW=()=>{const{t}=mp(),{user:e}=gp();gc();const[r,n]=de.useState(()=>_l.get("my_assignments")||[]),[i,a]=de.useState(()=>_l.get("my_surveys")||[]),[s,l]=de.useState(!1),c=async()=>{if(console.log("[MyAssignments] fetchAssignments starting..."),!e){console.log("[MyAssignments] No user, skipping fetch"),l(!1);return}console.log("[MyAssignments] Fetching data..."),l(!0);try{const{data:E,error:S}=await Promise.race([ln.from("survey_zones").select("*").eq("assigned_to",e.id).order("created_at",{ascending:!1}),new Promise((j,R)=>setTimeout(()=>R(new Error("Timeout")),15e3))]);E&&(n(E),_l.set("my_assignments",E),console.log("[MyAssignments] Assignments saved"));const{data:C,error:O}=await Promise.race([ln.from("surveys").select("id, created_at").order("created_at",{ascending:!1}).limit(50),new Promise((j,R)=>setTimeout(()=>R(new Error("Timeout")),15e3))]);C&&(a(C),_l.set("my_surveys",C),console.log("[MyAssignments] Surveys saved"))}catch(E){console.error("[MyAssignments] Error:",E)}finally{l(!1)}};de.useEffect(()=>{_l.isFresh("my_assignments",300*1e3)?console.log("[MyAssignments] Using cached data"):c()},[e]);const f=E=>{const S={urgent:"bg-red-100 text-red-700 border-red-200",high:"bg-orange-100 text-orange-700 border-orange-200",medium:"bg-blue-100 text-blue-700 border-blue-200",low:"bg-gray-100 text-gray-600 border-gray-200"};return S[E]||S.medium},p=E=>{const S={completed:"bg-green-100 text-green-700",in_progress:"bg-blue-100 text-blue-700",on_hold:"bg-yellow-100 text-yellow-700",pending:"bg-gray-100 text-gray-600"};return S[E]||S.pending},v=r.reduce((E,S)=>E+(S.target_count||0),0),y=r.reduce((E,S)=>E+(S.completed_count||0),0),_=i.filter(E=>{const S=new Date().toDateString();return new Date(E.created_at).toDateString()===S}).length;return s?x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),x.jsx("p",{className:"text-gray-500",children:t("common.loading")})]})}):x.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[x.jsxs("div",{className:"mb-6",children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[x.jsx("span",{className:"text-3xl",children:""}),t("assignments.title")]}),x.jsx("p",{className:"text-gray-500 mt-1",children:profile?.full_name&&`Welcome, ${profile.full_name}`})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 text-white shadow-lg shadow-blue-200",children:[x.jsx("p",{className:"text-4xl font-bold",children:r.length}),x.jsx("p",{className:"text-blue-100 text-sm",children:t("assignments.assignedZones")})]}),x.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl p-4 text-white shadow-lg shadow-green-200",children:[x.jsx("p",{className:"text-4xl font-bold",children:i.length}),x.jsx("p",{className:"text-green-100 text-sm",children:t("assignments.surveysCompleted")})]}),x.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 text-white shadow-lg shadow-purple-200",children:[x.jsx("p",{className:"text-4xl font-bold",children:_}),x.jsx("p",{className:"text-purple-100 text-sm",children:t("dashboard.todaysSurveys")})]}),x.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-amber-500 rounded-xl p-4 text-white shadow-lg shadow-orange-200",children:[x.jsx("p",{className:"text-4xl font-bold",children:Math.max(0,v-y)}),x.jsx("p",{className:"text-orange-100 text-sm",children:t("assignments.targetRemaining")})]})]}),v>0&&x.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100 mb-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsx("h3",{className:"font-semibold text-gray-800",children:t("assignments.progress")}),x.jsxs("span",{className:"text-sm text-gray-500",children:[y," / ",v," (",Math.round(y/v*100),"%)"]})]}),x.jsx("div",{className:"w-full bg-gray-100 rounded-full h-4",children:x.jsx("div",{className:"h-4 rounded-full bg-gradient-to-r from-blue-500 to-green-500 transition-all",style:{width:`${Math.min(100,y/v*100)}%`}})})]}),r.length===0?x.jsxs("div",{className:"bg-white rounded-xl p-12 text-center shadow-sm border border-gray-100",children:[x.jsx("div",{className:"text-6xl mb-4",children:""}),x.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:t("assignments.noAssignments")}),x.jsx("p",{className:"text-gray-500",children:"Contact your supervisor or admin to get assigned to a zone."})]}):x.jsxs("div",{className:"space-y-4",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t("assignments.assignedZones")}),r.map(E=>{const S=E.target_count>0?Math.round(E.completed_count/E.target_count*100):0,C=E.due_date&&new Date(E.due_date)<new Date;return x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[x.jsx("div",{className:"h-1.5",style:{backgroundColor:E.color||"#3B82F6"}}),x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-800",children:E.name}),x.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${p(E.status)}`,children:t(`zones.${E.status?.replace("_","")||"pending"}`)}),x.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold border ${f(E.priority)}`,children:t(`zones.${E.priority}`)})]}),E.description&&x.jsx("p",{className:"text-gray-500 text-sm mb-3",children:E.description}),x.jsxs("div",{className:"mb-3",children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500",children:t("zones.progress")}),x.jsxs("span",{className:"font-medium text-gray-700",children:[E.completed_count||0," / ",E.target_count||0]})]}),x.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full transition-all ${S>=100?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.min(100,S)}%`}})})]}),x.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[E.supervisor&&x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("span",{children:""}),x.jsxs("span",{children:["Supervisor: ",E.supervisor.full_name||E.supervisor.email]})]}),E.due_date&&x.jsxs("div",{className:`flex items-center gap-1 ${C?"text-red-500 font-medium":""}`,children:[x.jsx("span",{children:""}),x.jsxs("span",{children:[t("assignments.deadline"),": ",new Date(E.due_date).toLocaleDateString()]}),C&&x.jsx("span",{className:"text-red-500",children:" Overdue"})]})]})]}),x.jsx("div",{className:"flex gap-2",children:x.jsxs(Link,{to:"/survey",className:"px-5 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-medium hover:from-blue-700 hover:to-blue-800 transition-all shadow-lg shadow-blue-200 flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t("assignments.startSurvey")]})})]})})]},E.id)})]}),i.length>0&&x.jsxs("div",{className:"mt-8",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Surveys"}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:x.jsx("div",{className:"divide-y divide-gray-100",children:i.slice(0,5).map((E,S)=>x.jsxs("div",{className:"px-5 py-3 flex items-center justify-between hover:bg-gray-50",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-semibold text-sm",children:S+1}),x.jsxs("div",{children:[x.jsxs("p",{className:"font-medium text-gray-800",children:["Survey #",E.id.slice(0,8)]}),x.jsx("p",{className:"text-xs text-gray-400",children:new Date(E.created_at).toLocaleString()})]})]}),x.jsxs(Link,{to:`/survey/${E.id}`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:[t("common.view")," "]})]},E.id))})})]})]})},TW=({children:t})=>{const[e,r]=Zl.useState(void 0),[n,i]=Zl.useState(!0),[a,s]=Zl.useState(!1);return Zl.useEffect(()=>{let l=!0,c=null;(async()=>{try{const{data:y}=await ln.auth.getSession();l&&y.session&&(r(y.session),i(!1),s(!0))}catch(y){console.error("Error checking session:",y)}})();const{data:{subscription:p}}=ln.auth.onAuthStateChange((y,_)=>{console.log("Auth state changed:",y,_?"Has session":"No session"),l&&(_?(r(_),i(!1),s(!0),c&&clearTimeout(c)):y==="INITIAL_SESSION"&&!_?c=setTimeout(()=>{l&&!a&&(console.log("No session confirmed after delay"),r(null),i(!1),s(!0))},1500):y==="SIGNED_OUT"&&(r(null),i(!1)))}),v=setTimeout(async()=>{if(l&&n&&!a){console.log("Fallback session check...");const{data:{session:y}}=await ln.auth.getSession();l&&(r(y),i(!1),s(!0))}},5e3);return()=>{l=!1,clearTimeout(v),c&&clearTimeout(c),p.unsubscribe()}},[]),n||e===void 0?x.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-gray-600",children:"Checking authentication..."})]})}):e?t:x.jsx(U_,{to:"/login",replace:!0})},AW=QN([{path:"/",element:x.jsx(U_,{to:"/dashboard",replace:!0})},{path:"/",element:x.jsx(jk,{}),children:[{path:"login",element:x.jsx(Ik,{})}]},{path:"/",element:x.jsx(TW,{children:x.jsx(Dk,{})}),children:[{path:"dashboard",element:x.jsx(Mz,{})},{path:"survey",element:x.jsx(gW,{})},{path:"survey/:id",element:x.jsx(vW,{})},{path:"admin",element:x.jsx(_W,{})},{path:"surveyed-buildings",element:x.jsx(wW,{})},{path:"users",element:x.jsx(bW,{})},{path:"zones",element:x.jsx(SW,{})},{path:"my-assignments",element:x.jsx(EW,{})}]}]),{slice:LW,forEach:NW}=[];function CW(t){return NW.call(LW.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function MW(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const eS=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,kW=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(n.maxAge>0){const s=n.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(n.domain){if(!eS.test(n.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${n.domain}`}if(n.path){if(!eS.test(n.path))throw new TypeError("option path is invalid");a+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(a+="; Partitioned"),a},tS={create(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),n&&(i.domain=n),document.cookie=kW(t,e,i)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let i=r[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var PW={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return tS.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:i,cookieOptions:a}=e;r&&typeof document<"u"&&tS.create(r,t,n,i,a)}},OW={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const a=n.substring(1).split("&");for(let s=0;s<a.length;s++){const l=a[s].indexOf("=");l>0&&a[s].substring(0,l)===e&&(r=a[s].substring(l+1))}}return r}},RW={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const a=i.substring(1);if(e){const s=a.split("&");for(let l=0;l<s.length;l++){const c=s[l].indexOf("=");c>0&&s[l].substring(0,c)===e&&(n=s[l].substring(c+1))}}if(n)return n;if(!n&&r>-1){const s=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?s[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return n}};let Uf=null;const rS=()=>{if(Uf!==null)return Uf;try{if(Uf=typeof window<"u"&&window.localStorage!==null,!Uf)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Uf=!1}return Uf};var DW={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&rS())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&rS()&&window.localStorage.setItem(r,t)}};let zf=null;const nS=()=>{if(zf!==null)return zf;try{if(zf=typeof window<"u"&&window.sessionStorage!==null,!zf)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{zf=!1}return zf};var jW={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&nS())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&nS()&&window.sessionStorage.setItem(r,t)}},IW={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:i}=navigator;if(r)for(let a=0;a<r.length;a++)e.push(r[a]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},FW={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},BW={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof e=="number"?e:0]?.replace("/",""):void 0}},UW={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};let _T=!1;try{document.cookie,_T=!0}catch{}const yT=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];_T||yT.splice(1,1);const zW=()=>({order:yT,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class xT{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=CW(r,this.options||{},zW()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(PW),this.addDetector(OW),this.addDetector(DW),this.addDetector(jW),this.addDetector(IW),this.addDetector(FW),this.addDetector(BW),this.addDetector(UW),this.addDetector(RW)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(r=r.concat(i))}}),r=r.filter(n=>n!=null&&!MW(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}xT.type="languageDetector";const GW={appName:"INDICES",tagline:"Geospatial Survey System",loading:"Loading...",save:"Save",cancel:"Cancel",submit:"Submit",edit:"Edit",delete:"Delete",view:"View",search:"Search",filter:"Filter",export:"Export",download:"Download",upload:"Upload",refresh:"Refresh",back:"Back",next:"Next",previous:"Previous",yes:"Yes",no:"No",confirm:"Confirm",close:"Close",actions:"Actions",status:"Status",date:"Date",all:"All"},HW={login:"Login",logout:"Logout",email:"Email Address",password:"Password",loginTitle:"Welcome Back",loginSubtitle:"Sign in to continue to INDICES",forgotPassword:"Forgot Password?",noAccount:"Don't have an account?",signUp:"Sign Up",loginSuccess:"Login successful!",loginError:"Invalid email or password",loggingIn:"Signing in..."},qW={dashboard:"Dashboard",surveyMap:"Survey Map",allBuildings:"All Buildings",admin:"Admin Panel",users:"User Management",zones:"Zone Management",myAssignments:"My Assignments",settings:"Settings",profile:"Profile"},VW={title:"Survey Dashboard",totalSurveys:"Total Surveys",todaysSurveys:"Today's Surveys",pending:"Pending Review",approved:"Approved",recentSurveys:"Recent Surveys",noSurveys:"No surveys found",viewAll:"View All",exportExcel:"Export Excel",exportCSV:"Export CSV"},$W={newSurvey:"New Survey",editSurvey:"Edit Survey",surveyDetails:"Survey Details",buildingId:"Building ID",drawBuilding:"Draw Building",selectTool:"Select a tool and draw around the building",tapToAdd:"Tap to add corner points",tapToComplete:"Tap first point again to complete",useUndo:"Use Undo for mistakes",polygon:"Polygon",rectangle:"Rectangle",marker:"Marker",undo:"Undo",clear:"Clear",drone:"Drone",location:"Location",points:"Points",needMore:"Need {{count}} more",readyToClose:"Ready to close"},WW={ownerDetails:"Owner Details",ownerName:"Owner Name",phoneNumber:"Phone Number",aadhaarNumber:"Aadhaar Number",emailAddress:"Email Address",relationWithOwner:"Relation with Owner",coOwnerName:"Co-Owner Name",locationDetails:"Location Details",surveyGatNo:"Survey/Gat Number",citySurveyNo:"City Survey Number",finalPlotNo:"Final Plot Number",subPlotNo:"Sub-Plot Number",mohalla:"Mohalla/Locality",district:"District",taluka:"Taluka",village:"Village",wardNo:"Ward Number",zoneName:"Zone Name",pincode:"Pin Code",streetName:"Street Name",landmarkNear:"Landmark Near",constructionDetails:"Construction Details",buildingName:"Building Name",numberOfFloors:"Number of Floors",buildingAge:"Building Age (Years)",constructionType:"Construction Type",roofType:"Roof Type",floorType:"Floor Type",buildingCondition:"Building Condition",carpetArea:"Carpet Area (sq.ft)",builtUpArea:"Built-Up Area (sq.ft)",plotArea:"Plot Area (sq.ft)",propertyClassification:"Property Classification",propertyUsage:"Property Usage",ownershipType:"Ownership Type",occupancyStatus:"Occupancy Status",tenantName:"Tenant Name",monthlyRent:"Monthly Rent",utilities:"Water Supply, Sanitation & Utilities",waterConnection:"Water Connection",waterSource:"Water Source",drainageConnection:"Drainage Connection",toiletAvailable:"Toilet Available",toiletType:"Toilet Type",electricityConnection:"Electricity Connection",meterNumber:"Meter Number",gasConnection:"Gas Connection",rainwaterHarvesting:"Rainwater Harvesting",assessment:"Assessment Details",previousAssessment:"Previous Assessment Amount",taxPaidLastYear:"Tax Paid Last Year",arrearsDue:"Arrears Due",exemptionClaimed:"Exemption Claimed",exemptionReason:"Exemption Reason",photos:"Photos",ownerPhoto:"Owner Photo",buildingPhoto:"Building Photo",documentPhoto:"Document Photo",capturePhoto:"Capture Photo",retakePhoto:"Retake",additionalRemarks:"Additional Remarks",surveyorRemarks:"Surveyor Remarks"},ZW={required:"This field is required",invalidPhone:"Invalid phone number",invalidEmail:"Invalid email address",invalidAadhaar:"Invalid Aadhaar number",minLength:"Minimum {{count}} characters required",maxLength:"Maximum {{count}} characters allowed"},YW={admin:"Administrator",supervisor:"Supervisor",surveyor:"Surveyor"},KW={title:"Survey Zones",createZone:"Create Zone",editZone:"Edit Zone",zoneName:"Zone Name",assignedTo:"Assigned To",supervisor:"Supervisor",targetCount:"Target Surveys",completedCount:"Completed",progress:"Progress",dueDate:"Due Date",status:"Status",pending:"Pending",inProgress:"In Progress",completed:"Completed",onHold:"On Hold",priority:"Priority",low:"Low",medium:"Medium",high:"High",urgent:"Urgent",drawZone:"Draw zone boundary on map",noZones:"No zones created yet"},XW={title:"User Management",addUser:"Add User",editUser:"Edit User",fullName:"Full Name",email:"Email",phone:"Phone",role:"Role",status:"Status",active:"Active",inactive:"Inactive",lastLogin:"Last Login",assignedZones:"Assigned Zones",totalSurveys:"Total Surveys",noUsers:"No users found"},JW={title:"My Assignments",assignedZones:"Assigned Zones",progress:"Your Progress",surveysCompleted:"Surveys Completed",targetRemaining:"Target Remaining",deadline:"Deadline",startSurvey:"Start Survey",viewZone:"View Zone",noAssignments:"No zones assigned to you"},QW={success:"Operation successful",error:"Something went wrong",saved:"Saved successfully",deleted:"Deleted successfully",updated:"Updated successfully",surveySubmitted:"Survey submitted successfully!",pdfGenerated:"PDF generated successfully",offlineSaved:"Saved offline. Will sync when online.",syncComplete:"Sync complete",noPermission:"You don't have permission for this action"},eZ={select:"Select Language",english:"English",hindi:"",marathi:""},tZ={common:GW,auth:HW,nav:qW,dashboard:VW,survey:$W,form:WW,validation:ZW,roles:YW,zones:KW,users:XW,assignments:JW,messages:QW,language:eZ},rZ={appName:"",tagline:"-  ",loading:"   ...",save:"",cancel:" ",submit:" ",edit:" ",delete:"",view:"",search:"",filter:"",export:"",download:"",upload:"",refresh:"",back:"",next:"",previous:"",yes:"",no:"",confirm:" ",close:" ",actions:"",status:"",date:"",all:""},nZ={login:"",logout:"",email:" ",password:"",loginTitle:" ",loginSubtitle:"        ",forgotPassword:"  ?",noAccount:"  ?",signUp:"  ",loginSuccess:" !",loginError:"   ",loggingIn:"    ..."},iZ={dashboard:"",surveyMap:" ",allBuildings:" ",admin:" ",users:" ",zones:" ",myAssignments:" ",settings:"",profile:""},aZ={title:" ",totalSurveys:" ",todaysSurveys:"  ",pending:" ",approved:"",recentSurveys:"  ",noSurveys:"   ",viewAll:" ",exportExcel:" ",exportCSV:"CSV "},sZ={newSurvey:" ",editSurvey:"  ",surveyDetails:" ",buildingId:" ",drawBuilding:" ",selectTool:"        ",tapToAdd:"       ",tapToComplete:"         ",useUndo:"      ",polygon:"",rectangle:"",marker:"",undo:"",clear:"",drone:"",location:"",points:"",needMore:"{{count}}  ",readyToClose:"    "},oZ={ownerDetails:" ",ownerName:"  ",phoneNumber:" ",aadhaarNumber:" ",emailAddress:" ",relationWithOwner:"  ",coOwnerName:"-  ",locationDetails:" ",surveyGatNo:"/ ",citySurveyNo:"  ",finalPlotNo:"  ",subPlotNo:"- ",mohalla:"/",district:"",taluka:"",village:"",wardNo:" ",zoneName:"  ",pincode:" ",streetName:"  ",landmarkNear:"  ",constructionDetails:" ",buildingName:"  ",numberOfFloors:"  ",buildingAge:"   ()",constructionType:" ",roofType:"  ",floorType:"  ",buildingCondition:"  ",carpetArea:"  ( )",builtUpArea:"  ( )",plotArea:"  ( )",propertyClassification:" ",propertyUsage:" ",ownershipType:" ",occupancyStatus:" ",tenantName:"  ",monthlyRent:" ",utilities:" ,   ",waterConnection:" ",waterSource:" ",drainageConnection:" ",toiletAvailable:" ",toiletType:" ",electricityConnection:" ",meterNumber:" ",gasConnection:" ",rainwaterHarvesting:"  ",assessment:" ",previousAssessment:"  ",taxPaidLastYear:"     ",arrearsDue:" ",exemptionClaimed:"  ",exemptionReason:"  ",photos:"",ownerPhoto:"  ",buildingPhoto:"  ",documentPhoto:"  ",capturePhoto:" ",retakePhoto:" ",additionalRemarks:" ",surveyorRemarks:" "},lZ={required:"   ",invalidPhone:"  ",invalidEmail:"  ",invalidAadhaar:"  ",minLength:" {{count}}  ",maxLength:" {{count}}  "},uZ={admin:"",supervisor:"",surveyor:""},cZ={title:" ",createZone:" ",editZone:"  ",zoneName:"  ",assignedTo:"  ",supervisor:"",targetCount:" ",completedCount:"",progress:"",dueDate:" ",status:"",pending:"",inProgress:" ",completed:"",onHold:" ",priority:"",low:"",medium:"",high:"",urgent:"",drawZone:"    ",noZones:"     "},hZ={title:" ",addUser:" ",editUser:"  ",fullName:" ",email:"",phone:"",role:"",status:"",active:"",inactive:"",lastLogin:" ",assignedZones:"  ",totalSurveys:" ",noUsers:"   "},fZ={title:" ",assignedZones:"  ",progress:" ",surveysCompleted:" ",targetRemaining:" ",deadline:" ",startSurvey:"  ",viewZone:" ",noAssignments:"     "},dZ={success:" ",error:"   ",saved:"  ",deleted:"  ",updated:"   ",surveySubmitted:"    !",pdfGenerated:"PDF   ",offlineSaved:"       ",syncComplete:" ",noPermission:"       "},pZ={select:" ",english:"English",hindi:"",marathi:""},mZ={common:rZ,auth:nZ,nav:iZ,dashboard:aZ,survey:sZ,form:oZ,validation:lZ,roles:uZ,zones:cZ,users:hZ,assignments:fZ,messages:dZ,language:pZ},gZ={appName:"",tagline:"-  ",loading:"  ...",save:" ",cancel:" ",submit:" ",edit:" ",delete:"",view:"",search:"",filter:"",export:"",download:"",upload:"",refresh:"",back:"",next:"",previous:"",yes:"",no:"",confirm:" ",close:" ",actions:"",status:"",date:"",all:""},vZ={login:"",logout:"",email:" ",password:"",loginTitle:" ",loginSubtitle:"      ",forgotPassword:" ?",noAccount:" ?",signUp:"  ",loginSuccess:" !",loginError:"   ",loggingIn:"   ..."},_Z={dashboard:"",surveyMap:" ",allBuildings:" ",admin:" ",users:" ",zones:" ",myAssignments:" ",settings:"",profile:""},yZ={title:" ",totalSurveys:" ",todaysSurveys:" ",pending:" ",approved:"",recentSurveys:" ",noSurveys:"   ",viewAll:" ",exportExcel:" ",exportCSV:"CSV "},xZ={newSurvey:" ",editSurvey:"  ",surveyDetails:" ",buildingId:" ",drawBuilding:" ",selectTool:"     ",tapToAdd:"    ",tapToComplete:"      ",useUndo:"  ",polygon:"",rectangle:"",marker:"",undo:"",clear:" ",drone:"",location:"",points:"",needMore:"{{count}}  ",readyToClose:"  "},wZ={ownerDetails:" ",ownerName:" ",phoneNumber:" ",aadhaarNumber:" ",emailAddress:" ",relationWithOwner:" ",coOwnerName:"- ",locationDetails:" ",surveyGatNo:"/ ",citySurveyNo:"  ",finalPlotNo:"  ",subPlotNo:"- ",mohalla:"/",district:"",taluka:"",village:"",wardNo:" ",zoneName:" ",pincode:" ",streetName:" ",landmarkNear:" ",constructionDetails:" ",buildingName:" ",numberOfFloors:" ",buildingAge:"  ()",constructionType:" ",roofType:" ",floorType:" ",buildingCondition:" ",carpetArea:"  (..)",builtUpArea:"  (..)",plotArea:"  (..)",propertyClassification:" ",propertyUsage:" ",ownershipType:" ",occupancyStatus:" ",tenantName:" ",monthlyRent:" ",utilities:" ,   ",waterConnection:" ",waterSource:" ",drainageConnection:" ",toiletAvailable:" ",toiletType:" ",electricityConnection:" ",meterNumber:" ",gasConnection:" ",rainwaterHarvesting:"  ",assessment:" ",previousAssessment:"  ",taxPaidLastYear:"   ",arrearsDue:"",exemptionClaimed:" ",exemptionReason:" ",photos:"",ownerPhoto:" ",buildingPhoto:" ",documentPhoto:" ",capturePhoto:" ",retakePhoto:" ",additionalRemarks:" ",surveyorRemarks:" "},bZ={required:"   ",invalidPhone:"  ",invalidEmail:"  ",invalidAadhaar:"  ",minLength:" {{count}}  ",maxLength:"  {{count}}  "},SZ={admin:"",supervisor:"",surveyor:""},EZ={title:" ",createZone:"  ",editZone:"  ",zoneName:" ",assignedTo:" ",supervisor:"",targetCount:" ",completedCount:"",progress:"",dueDate:" ",status:"",pending:"",inProgress:" ",completed:"",onHold:"",priority:"",low:"",medium:"",high:"",urgent:" ",drawZone:"   ",noZones:"     "},TZ={title:" ",addUser:" ",editUser:"  ",fullName:" ",email:"",phone:"",role:"",status:"",active:"",inactive:"",lastLogin:" ",assignedZones:" ",totalSurveys:" ",noUsers:"   "},AZ={title:" ",assignedZones:" ",progress:" ",surveysCompleted:"  ",targetRemaining:" ",deadline:" ",startSurvey:"  ",viewZone:" ",noAssignments:"    "},LZ={success:" ",error:" ",saved:"  ",deleted:" ",updated:"  ",surveySubmitted:"   !",pdfGenerated:"PDF   ",offlineSaved:"  .    .",syncComplete:" ",noPermission:"    "},NZ={select:" ",english:"English",hindi:"",marathi:""},CZ={common:gZ,auth:vZ,nav:_Z,dashboard:yZ,survey:xZ,form:wZ,validation:bZ,roles:SZ,zones:EZ,users:TZ,assignments:AZ,messages:LZ,language:NZ},MZ={en:{translation:tZ},hi:{translation:mZ},mr:{translation:CZ}};Qs.use(xT).use(Sk).init({resources:MZ,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});BA.createRoot(document.getElementById("root")).render(x.jsx(Zl.StrictMode,{children:x.jsx(Pk,{children:x.jsx(CR,{children:x.jsx(hC,{router:AW})})})}));"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(t){for(let e of t)e.unregister(),console.log("Unregistered service worker:",e.scope)});export{Gn as _,kZ as c,Wg as g};
