function EA(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var TZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nv={exports:{}},Qd={};var $w;function TA(){if($w)return Qd;$w=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:s,ref:i!==void 0?i:null,props:a}}return Qd.Fragment=e,Qd.jsx=r,Qd.jsxs=r,Qd}var Ww;function AA(){return Ww||(Ww=1,Nv.exports=TA()),Nv.exports}var x=AA(),Cv={exports:{}},Ir={};var Zw;function LA(){if(Zw)return Ir;Zw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function _(Q){return Q===null||typeof Q!="object"?null:(Q=y&&Q[y]||Q["@@iterator"],typeof Q=="function"?Q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function P(Q,O,H){this.props=Q,this.context=O,this.refs=C,this.updater=H||T}P.prototype.isReactComponent={},P.prototype.setState=function(Q,O){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,O,"setState")},P.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function j(){}j.prototype=P.prototype;function R(Q,O,H){this.props=Q,this.context=O,this.refs=C,this.updater=H||T}var B=R.prototype=new j;B.constructor=R,b(B,P.prototype),B.isPureReactComponent=!0;var te=Array.isArray;function ue(){}var F={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function U(Q,O,H){var q=H.ref;return{$$typeof:t,type:Q,key:O,ref:q!==void 0?q:null,props:H}}function X(Q,O){return U(Q.type,O,Q.props)}function I(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function W(Q){var O={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(H){return O[H]})}var ce=/\/+/g;function pe(Q,O){return typeof Q=="object"&&Q!==null&&Q.key!=null?W(""+Q.key):O.toString(36)}function xe(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(ue,ue):(Q.status="pending",Q.then(function(O){Q.status==="pending"&&(Q.status="fulfilled",Q.value=O)},function(O){Q.status==="pending"&&(Q.status="rejected",Q.reason=O)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function oe(Q,O,H,q,Z){var se=typeof Q;(se==="undefined"||se==="boolean")&&(Q=null);var Ae=!1;if(Q===null)Ae=!0;else switch(se){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(Q.$$typeof){case t:case e:Ae=!0;break;case p:return Ae=Q._init,oe(Ae(Q._payload),O,H,q,Z)}}if(Ae)return Z=Z(Q),Ae=q===""?"."+pe(Q,0):q,te(Z)?(H="",Ae!=null&&(H=Ae.replace(ce,"$&/")+"/"),oe(Z,O,H,"",function(Ie){return Ie})):Z!=null&&(I(Z)&&(Z=X(Z,H+(Z.key==null||Q&&Q.key===Z.key?"":(""+Z.key).replace(ce,"$&/")+"/")+Ae)),O.push(Z)),1;Ae=0;var Oe=q===""?".":q+":";if(te(Q))for(var Re=0;Re<Q.length;Re++)q=Q[Re],se=Oe+pe(q,Re),Ae+=oe(q,O,H,se,Z);else if(Re=_(Q),typeof Re=="function")for(Q=Re.call(Q),Re=0;!(q=Q.next()).done;)q=q.value,se=Oe+pe(q,Re++),Ae+=oe(q,O,H,se,Z);else if(se==="object"){if(typeof Q.then=="function")return oe(xe(Q),O,H,q,Z);throw O=String(Q),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function be(Q,O,H){if(Q==null)return Q;var q=[],Z=0;return oe(Q,q,"","",function(se){return O.call(H,se,Z++)}),q}function _e(Q){if(Q._status===-1){var O=Q._result;O=O(),O.then(function(H){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=H)},function(H){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=H)}),Q._status===-1&&(Q._status=0,Q._result=O)}if(Q._status===1)return Q._result.default;throw Q._result}var Le=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},Ne={map:be,forEach:function(Q,O,H){be(Q,function(){O.apply(this,arguments)},H)},count:function(Q){var O=0;return be(Q,function(){O++}),O},toArray:function(Q){return be(Q,function(O){return O})||[]},only:function(Q){if(!I(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return Ir.Activity=v,Ir.Children=Ne,Ir.Component=P,Ir.Fragment=r,Ir.Profiler=i,Ir.PureComponent=R,Ir.StrictMode=n,Ir.Suspense=c,Ir.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ir.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return F.H.useMemoCache(Q)}},Ir.cache=function(Q){return function(){return Q.apply(null,arguments)}},Ir.cacheSignal=function(){return null},Ir.cloneElement=function(Q,O,H){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var q=b({},Q.props),Z=Q.key;if(O!=null)for(se in O.key!==void 0&&(Z=""+O.key),O)!K.call(O,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&O.ref===void 0||(q[se]=O[se]);var se=arguments.length-2;if(se===1)q.children=H;else if(1<se){for(var Ae=Array(se),Oe=0;Oe<se;Oe++)Ae[Oe]=arguments[Oe+2];q.children=Ae}return U(Q.type,Z,q)},Ir.createContext=function(Q){return Q={$$typeof:s,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:a,_context:Q},Q},Ir.createElement=function(Q,O,H){var q,Z={},se=null;if(O!=null)for(q in O.key!==void 0&&(se=""+O.key),O)K.call(O,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(Z[q]=O[q]);var Ae=arguments.length-2;if(Ae===1)Z.children=H;else if(1<Ae){for(var Oe=Array(Ae),Re=0;Re<Ae;Re++)Oe[Re]=arguments[Re+2];Z.children=Oe}if(Q&&Q.defaultProps)for(q in Ae=Q.defaultProps,Ae)Z[q]===void 0&&(Z[q]=Ae[q]);return U(Q,se,Z)},Ir.createRef=function(){return{current:null}},Ir.forwardRef=function(Q){return{$$typeof:l,render:Q}},Ir.isValidElement=I,Ir.lazy=function(Q){return{$$typeof:p,_payload:{_status:-1,_result:Q},_init:_e}},Ir.memo=function(Q,O){return{$$typeof:f,type:Q,compare:O===void 0?null:O}},Ir.startTransition=function(Q){var O=F.T,H={};F.T=H;try{var q=Q(),Z=F.S;Z!==null&&Z(H,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(ue,Le)}catch(se){Le(se)}finally{O!==null&&H.types!==null&&(O.types=H.types),F.T=O}},Ir.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ir.use=function(Q){return F.H.use(Q)},Ir.useActionState=function(Q,O,H){return F.H.useActionState(Q,O,H)},Ir.useCallback=function(Q,O){return F.H.useCallback(Q,O)},Ir.useContext=function(Q){return F.H.useContext(Q)},Ir.useDebugValue=function(){},Ir.useDeferredValue=function(Q,O){return F.H.useDeferredValue(Q,O)},Ir.useEffect=function(Q,O){return F.H.useEffect(Q,O)},Ir.useEffectEvent=function(Q){return F.H.useEffectEvent(Q)},Ir.useId=function(){return F.H.useId()},Ir.useImperativeHandle=function(Q,O,H){return F.H.useImperativeHandle(Q,O,H)},Ir.useInsertionEffect=function(Q,O){return F.H.useInsertionEffect(Q,O)},Ir.useLayoutEffect=function(Q,O){return F.H.useLayoutEffect(Q,O)},Ir.useMemo=function(Q,O){return F.H.useMemo(Q,O)},Ir.useOptimistic=function(Q,O){return F.H.useOptimistic(Q,O)},Ir.useReducer=function(Q,O,H){return F.H.useReducer(Q,O,H)},Ir.useRef=function(Q){return F.H.useRef(Q)},Ir.useState=function(Q){return F.H.useState(Q)},Ir.useSyncExternalStore=function(Q,O,H){return F.H.useSyncExternalStore(Q,O,H)},Ir.useTransition=function(){return F.H.useTransition()},Ir.version="19.2.3",Ir}var Yw;function W1(){return Yw||(Yw=1,Cv.exports=LA()),Cv.exports}var de=W1();const Mu=$1(de),NA=EA({__proto__:null,default:Mu},[de]);var Mv={exports:{}},e0={},kv={exports:{}},Pv={};var Kw;function CA(){return Kw||(Kw=1,(function(t){function e(oe,be){var _e=oe.length;oe.push(be);e:for(;0<_e;){var Le=_e-1>>>1,Ne=oe[Le];if(0<i(Ne,be))oe[Le]=be,oe[_e]=Ne,_e=Le;else break e}}function r(oe){return oe.length===0?null:oe[0]}function n(oe){if(oe.length===0)return null;var be=oe[0],_e=oe.pop();if(_e!==be){oe[0]=_e;e:for(var Le=0,Ne=oe.length,Q=Ne>>>1;Le<Q;){var O=2*(Le+1)-1,H=oe[O],q=O+1,Z=oe[q];if(0>i(H,_e))q<Ne&&0>i(Z,H)?(oe[Le]=Z,oe[q]=_e,Le=q):(oe[Le]=H,oe[O]=_e,Le=O);else if(q<Ne&&0>i(Z,_e))oe[Le]=Z,oe[q]=_e,Le=q;else break e}}return be}function i(oe,be){var _e=oe.sortIndex-be.sortIndex;return _e!==0?_e:oe.id-be.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],p=1,v=null,y=3,_=!1,T=!1,b=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function B(oe){for(var be=r(f);be!==null;){if(be.callback===null)n(f);else if(be.startTime<=oe)n(f),be.sortIndex=be.expirationTime,e(c,be);else break;be=r(f)}}function te(oe){if(b=!1,B(oe),!T)if(r(c)!==null)T=!0,ue||(ue=!0,W());else{var be=r(f);be!==null&&xe(te,be.startTime-oe)}}var ue=!1,F=-1,K=5,U=-1;function X(){return C?!0:!(t.unstable_now()-U<K)}function I(){if(C=!1,ue){var oe=t.unstable_now();U=oe;var be=!0;try{e:{T=!1,b&&(b=!1,j(F),F=-1),_=!0;var _e=y;try{t:{for(B(oe),v=r(c);v!==null&&!(v.expirationTime>oe&&X());){var Le=v.callback;if(typeof Le=="function"){v.callback=null,y=v.priorityLevel;var Ne=Le(v.expirationTime<=oe);if(oe=t.unstable_now(),typeof Ne=="function"){v.callback=Ne,B(oe),be=!0;break t}v===r(c)&&n(c),B(oe)}else n(c);v=r(c)}if(v!==null)be=!0;else{var Q=r(f);Q!==null&&xe(te,Q.startTime-oe),be=!1}}break e}finally{v=null,y=_e,_=!1}be=void 0}}finally{be?W():ue=!1}}}var W;if(typeof R=="function")W=function(){R(I)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,pe=ce.port2;ce.port1.onmessage=I,W=function(){pe.postMessage(null)}}else W=function(){P(I,0)};function xe(oe,be){F=P(function(){oe(t.unstable_now())},be)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(oe){switch(y){case 1:case 2:case 3:var be=3;break;default:be=y}var _e=y;y=be;try{return oe()}finally{y=_e}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(oe,be){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var _e=y;y=oe;try{return be()}finally{y=_e}},t.unstable_scheduleCallback=function(oe,be,_e){var Le=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Le+_e:Le):_e=Le,oe){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=_e+Ne,oe={id:p++,callback:be,priorityLevel:oe,startTime:_e,expirationTime:Ne,sortIndex:-1},_e>Le?(oe.sortIndex=_e,e(f,oe),r(c)===null&&oe===r(f)&&(b?(j(F),F=-1):b=!0,xe(te,_e-Le))):(oe.sortIndex=Ne,e(c,oe),T||_||(T=!0,ue||(ue=!0,W()))),oe},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(oe){var be=y;return function(){var _e=y;y=be;try{return oe.apply(this,arguments)}finally{y=_e}}}})(Pv)),Pv}var Xw;function MA(){return Xw||(Xw=1,kv.exports=CA()),kv.exports}var Ov={exports:{}},Ms={};var Jw;function kA(){if(Jw)return Ms;Jw=1;var t=W1();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:c,containerInfo:f,implementation:p}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ms.createPortal=function(c,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,p)},Ms.flushSync=function(c){var f=s.T,p=n.p;try{if(s.T=null,n.p=2,c)return c()}finally{s.T=f,n.p=p,n.d.f()}},Ms.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(c,f))},Ms.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Ms.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var p=f.as,v=l(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:_}):p==="script"&&n.d.X(c,{crossOrigin:v,integrity:y,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ms.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);n.d.M(c,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(c)},Ms.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=l(p,f.crossOrigin);n.d.L(c,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ms.preloadModule=function(c,f){if(typeof c=="string")if(f){var p=l(f.as,f.crossOrigin);n.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(c)},Ms.requestFormReset=function(c){n.d.r(c)},Ms.unstable_batchedUpdates=function(c,f){return c(f)},Ms.useFormState=function(c,f,p){return s.H.useFormState(c,f,p)},Ms.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ms.version="19.2.3",Ms}var Qw;function eS(){if(Qw)return Ov.exports;Qw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ov.exports=kA(),Ov.exports}var eb;function PA(){if(eb)return e0;eb=1;var t=MA(),e=W1(),r=eS();function n(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,d=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(d=u.return),o=u.return;while(o)}return u.tag===3?d:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(n(188))}function f(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(n(188));return u!==o?null:o}for(var d=o,g=u;;){var E=d.return;if(E===null)break;var N=E.alternate;if(N===null){if(g=E.return,g!==null){d=g;continue}break}if(E.child===N.child){for(N=E.child;N;){if(N===d)return c(E),o;if(N===g)return c(E),u;N=N.sibling}throw Error(n(188))}if(d.return!==g.return)d=E,g=N;else{for(var V=!1,fe=E.child;fe;){if(fe===d){V=!0,d=E,g=N;break}if(fe===g){V=!0,g=E,d=N;break}fe=fe.sibling}if(!V){for(fe=N.child;fe;){if(fe===d){V=!0,d=N,g=E;break}if(fe===g){V=!0,g=N,d=E;break}fe=fe.sibling}if(!V)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:u}function p(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=p(o),u!==null)return u;o=o.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),R=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=I&&o[I]||o["@@iterator"],typeof o=="function"?o:null)}var ce=Symbol.for("react.client.reference");function pe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ce?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case P:return"Profiler";case C:return"StrictMode";case te:return"Suspense";case ue:return"SuspenseList";case U:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case R:return o.displayName||"Context";case j:return(o._context.displayName||"Context")+".Consumer";case B:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case F:return u=o.displayName||null,u!==null?u:pe(o.type)||"Memo";case K:u=o._payload,o=o._init;try{return pe(o(u))}catch{}}return null}var xe=Array.isArray,oe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Le=[],Ne=-1;function Q(o){return{current:o}}function O(o){0>Ne||(o.current=Le[Ne],Le[Ne]=null,Ne--)}function H(o,u){Ne++,Le[Ne]=o.current,o.current=u}var q=Q(null),Z=Q(null),se=Q(null),Ae=Q(null);function Oe(o,u){switch(H(se,u),H(Z,o),H(q,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?mw(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=mw(u),o=gw(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}O(q),H(q,o)}function Re(){O(q),O(Z),O(se)}function Ie(o){o.memoizedState!==null&&H(Ae,o);var u=q.current,d=gw(u,o.type);u!==d&&(H(Z,o),H(q,d))}function ot(o){Z.current===o&&(O(q),O(Z)),Ae.current===o&&(O(Ae),Yd._currentValue=_e)}var it,Tt;function Nt(o){if(it===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);it=u&&u[1]||"",Tt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+o+Tt}var we=!1;function yt(o,u){if(!o||we)return"";we=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(nt){var rt=nt}Reflect.construct(o,[],vt)}else{try{vt.call()}catch(nt){rt=nt}o.call(vt.prototype)}}else{try{throw Error()}catch(nt){rt=nt}(vt=o())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(nt){if(nt&&rt&&typeof nt.stack=="string")return[nt.stack,rt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=g.DetermineComponentFrameRoot(),V=N[0],fe=N[1];if(V&&fe){var ke=V.split(`
`),et=fe.split(`
`);for(E=g=0;g<ke.length&&!ke[g].includes("DetermineComponentFrameRoot");)g++;for(;E<et.length&&!et[E].includes("DetermineComponentFrameRoot");)E++;if(g===ke.length||E===et.length)for(g=ke.length-1,E=et.length-1;1<=g&&0<=E&&ke[g]!==et[E];)E--;for(;1<=g&&0<=E;g--,E--)if(ke[g]!==et[E]){if(g!==1||E!==1)do if(g--,E--,0>E||ke[g]!==et[E]){var ct=`
`+ke[g].replace(" at new "," at ");return o.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",o.displayName)),ct}while(1<=g&&0<=E);break}}}finally{we=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Nt(d):""}function xt(o,u){switch(o.tag){case 26:case 27:case 5:return Nt(o.type);case 16:return Nt("Lazy");case 13:return o.child!==u&&u!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return yt(o.type,!1);case 11:return yt(o.type.render,!1);case 1:return yt(o.type,!0);case 31:return Nt("Activity");default:return""}}function zt(o){try{var u="",d=null;do u+=xt(o,d),d=o,o=o.return;while(o);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var dt=Object.prototype.hasOwnProperty,Vt=t.unstable_scheduleCallback,jt=t.unstable_cancelCallback,sr=t.unstable_shouldYield,Xt=t.unstable_requestPaint,Jt=t.unstable_now,Er=t.unstable_getCurrentPriorityLevel,dr=t.unstable_ImmediatePriority,Nr=t.unstable_UserBlockingPriority,or=t.unstable_NormalPriority,Ft=t.unstable_LowPriority,_r=t.unstable_IdlePriority,Wt=t.log,xn=t.unstable_setDisableYieldValue,Mr=null,Gt=null;function pr(o){if(typeof Wt=="function"&&xn(o),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Mr,o)}catch{}}var Dr=Math.clz32?Math.clz32:ur,Yt=Math.log,ln=Math.LN2;function ur(o){return o>>>=0,o===0?32:31-(Yt(o)/ln|0)|0}var cr=256,en=262144,xr=4194304;function Zt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Gr(o,u,d){var g=o.pendingLanes;if(g===0)return 0;var E=0,N=o.suspendedLanes,V=o.pingedLanes;o=o.warmLanes;var fe=g&134217727;return fe!==0?(g=fe&~N,g!==0?E=Zt(g):(V&=fe,V!==0?E=Zt(V):d||(d=fe&~o,d!==0&&(E=Zt(d))))):(fe=g&~N,fe!==0?E=Zt(fe):V!==0?E=Zt(V):d||(d=g&~o,d!==0&&(E=Zt(d)))),E===0?0:u!==0&&u!==E&&(u&N)===0&&(N=E&-E,d=u&-u,N>=d||N===32&&(d&4194048)!==0)?u:E}function ba(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function li(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ji(){var o=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),o}function Ni(o){for(var u=[],d=0;31>d;d++)u.push(o);return u}function Qt(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ka(o,u,d,g,E,N){var V=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var fe=o.entanglements,ke=o.expirationTimes,et=o.hiddenUpdates;for(d=V&~d;0<d;){var ct=31-Dr(d),vt=1<<ct;fe[ct]=0,ke[ct]=-1;var rt=et[ct];if(rt!==null)for(et[ct]=null,ct=0;ct<rt.length;ct++){var nt=rt[ct];nt!==null&&(nt.lane&=-536870913)}d&=~vt}g!==0&&Fa(o,g,0),N!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=N&~(V&~u))}function Fa(o,u,d){o.pendingLanes|=u,o.suspendedLanes&=~u;var g=31-Dr(u);o.entangledLanes|=u,o.entanglements[g]=o.entanglements[g]|1073741824|d&261930}function Ce(o,u){var d=o.entangledLanes|=u;for(o=o.entanglements;d;){var g=31-Dr(d),E=1<<g;E&u|o[g]&u&&(o[g]|=u),d&=~E}}function Ge(o,u){var d=u&-u;return d=(d&42)!==0?1:qe(d),(d&(o.suspendedLanes|u))!==0?0:d}function qe(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ye(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Y(){var o=be.p;return o!==0?o:(o=window.event,o===void 0?32:Bw(o.type))}function me(o,u){var d=be.p;try{return be.p=o,u()}finally{be.p=d}}var re=Math.random().toString(36).slice(2),ne="__reactFiber$"+re,he="__reactProps$"+re,ve="__reactContainer$"+re,Pe="__reactEvents$"+re,ze="__reactListeners$"+re,Be="__reactHandles$"+re,Ue="__reactResources$"+re,$e="__reactMarker$"+re;function ht(o){delete o[ne],delete o[he],delete o[Pe],delete o[ze],delete o[Be]}function bt(o){var u=o[ne];if(u)return u;for(var d=o.parentNode;d;){if(u=d[ve]||d[ne]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(o=Sw(o);o!==null;){if(d=o[ne])return d;o=Sw(o)}return u}o=d,d=o.parentNode}return null}function wt(o){if(o=o[ne]||o[ve]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function gt(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(n(33))}function Mt(o){var u=o[Ue];return u||(u=o[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Bt(o){o[$e]=!0}var Hr=new Set,wr={};function nn(o,u){Kn(o,u),Kn(o+"Capture",u)}function Kn(o,u){for(wr[o]=u,o=0;o<u.length;o++)Hr.add(u[o])}var Xn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qi={},Ci={};function Ar(o){return dt.call(Ci,o)?!0:dt.call(Qi,o)?!1:Xn.test(o)?Ci[o]=!0:(Qi[o]=!0,!1)}function Ut(o,u,d){if(Ar(u))if(d===null)o.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+d)}}function qr(o,u,d){if(d===null)o.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+d)}}function ri(o,u,d,g){if(g===null)o.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(u,d,""+g)}}function ar(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Sa(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ea(o,u,d){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,N=g.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return E.call(this)},set:function(V){d=""+V,N.call(this,V)}}),Object.defineProperty(o,u,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(V){d=""+V},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function yr(o){if(!o._valueTracker){var u=Sa(o)?"checked":"value";o._valueTracker=Ea(o,u,""+o[u])}}function Dn(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return o&&(g=Sa(o)?o.checked?"true":"false":o.value),o=g,o!==d?(u.setValue(o),!0):!1}function ea(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ni=/[\n"\\]/g;function un(o){return o.replace(ni,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function eu(o,u,d,g,E,N,V,fe){o.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?o.type=V:o.removeAttribute("type"),u!=null?V==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+ar(u)):o.value!==""+ar(u)&&(o.value=""+ar(u)):V!=="submit"&&V!=="reset"||o.removeAttribute("value"),u!=null?Us(o,V,ar(u)):d!=null?Us(o,V,ar(d)):g!=null&&o.removeAttribute("value"),E==null&&N!=null&&(o.defaultChecked=!!N),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?o.name=""+ar(fe):o.removeAttribute("name")}function El(o,u,d,g,E,N,V,fe){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.type=N),u!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||u!=null)){yr(o);return}d=d!=null?""+ar(d):"",u=u!=null?""+ar(u):d,fe||u===o.value||(o.value=u),o.defaultValue=u}g=g??E,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=fe?o.checked:!!g,o.defaultChecked=!!g,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(o.name=V),yr(o)}function Us(o,u,d){u==="number"&&ea(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Kr(o,u,d,g){if(o=o.options,u){u={};for(var E=0;E<d.length;E++)u["$"+d[E]]=!0;for(d=0;d<o.length;d++)E=u.hasOwnProperty("$"+o[d].value),o[d].selected!==E&&(o[d].selected=E),E&&g&&(o[d].defaultSelected=!0)}else{for(d=""+ar(d),u=null,E=0;E<o.length;E++){if(o[E].value===d){o[E].selected=!0,g&&(o[E].defaultSelected=!0);return}u!==null||o[E].disabled||(u=o[E])}u!==null&&(u.selected=!0)}}function zs(o,u,d){if(u!=null&&(u=""+ar(u),u!==o.value&&(o.value=u),d==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=d!=null?""+ar(d):""}function No(o,u,d,g){if(u==null){if(g!=null){if(d!=null)throw Error(n(92));if(xe(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),u=d}d=ar(u),o.defaultValue=d,g=o.textContent,g===d&&g!==""&&g!==null&&(o.value=g),yr(o)}function Ta(o,u){if(u){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=u;return}}o.textContent=u}var Co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(o,u,d){var g=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":g?o.setProperty(u,d):typeof d!="number"||d===0||Co.has(u)?u==="float"?o.cssFloat=d:o[u]=(""+d).trim():o[u]=d+"px"}function tu(o,u,d){if(u!=null&&typeof u!="object")throw Error(n(62));if(o=o.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var E in u)g=u[E],u.hasOwnProperty(E)&&d[E]!==g&&tl(o,E,g)}else for(var N in u)u.hasOwnProperty(N)&&tl(o,N,u[N])}function Tl(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ru=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(o){return ru.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ba(){}var eo=null;function Mo(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var nl=null,Ct=null;function Xa(o){var u=wt(o);if(u&&(o=u.stateNode)){var d=o[he]||null;e:switch(o=u.stateNode,u.type){case"input":if(eu(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+un(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==o&&g.form===o.form){var E=g[he]||null;if(!E)throw Error(n(90));eu(g,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<d.length;u++)g=d[u],g.form===o.form&&Dn(g)}break e;case"textarea":zs(o,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&Kr(o,!!d.multiple,u,!1)}}}var dn=!1;function ju(o,u,d){if(dn)return o(u,d);dn=!0;try{var g=o(u);return g}finally{if(dn=!1,(nl!==null||Ct!==null)&&(Zp(),nl&&(u=nl,o=Ct,Ct=nl=null,Xa(u),o)))for(u=0;u<o.length;u++)Xa(o[u])}}function Aa(o,u){var d=o.stateNode;if(d===null)return null;var g=d[he]||null;if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,u,typeof d));return d}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=!1;if(Mi)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){Al=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{Al=!1}var La=null,Gs=null,Mn=null;function to(){if(Mn)return Mn;var o,u=Gs,d=u.length,g,E="value"in La?La.value:La.textContent,N=E.length;for(o=0;o<d&&u[o]===E[o];o++);var V=d-o;for(g=1;g<=V&&u[d-g]===E[N-g];g++);return Mn=E.slice(o,1<g?1-g:void 0)}function Qa(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Ll(){return!0}function nu(){return!1}function ki(o){function u(d,g,E,N,V){this._reactName=d,this._targetInst=E,this.type=g,this.nativeEvent=N,this.target=V,this.currentTarget=null;for(var fe in o)o.hasOwnProperty(fe)&&(d=o[fe],this[fe]=d?d(N):N[fe]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Ll:nu,this.isPropagationStopped=nu,this}return v(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),u}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=ki(xs),ro=v({},xs,{view:0,detail:0}),Br=ki(ro),Nl,Pi,es,il=v({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==es&&(es&&o.type==="mousemove"?(Nl=o.screenX-es.screenX,Pi=o.screenY-es.screenY):Pi=Nl=0,es=o),Nl)},movementY:function(o){return"movementY"in o?o.movementY:Pi}}),Iu=ki(il),Hs=v({},il,{dataTransfer:0}),ko=ki(Hs),Fu=v({},ro,{relatedTarget:0}),Po=ki(Fu),vc=v({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),k=ki(vc),J=v({},xs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Se=ki(J),De=v({},xs,{data:0}),Ve=ki(De),at={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},St={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function er(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=$t[o])?!!u[o]:!1}function br(){return er}var kr=v({},ro,{key:function(o){if(o.key){var u=at[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Qa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?St[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(o){return o.type==="keypress"?Qa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Qa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Xr=ki(kr),Jn=v({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ui=ki(Jn),wn=v({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),Oi=ki(wn),ci=v({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ii=ki(ci),bs=v({},il,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ta=ki(bs),Oo=v({},xs,{newState:0,oldState:0}),Ro=ki(Oo),ra=[9,13,27,32],qs=Mi&&"CompositionEvent"in window,Ss=null;Mi&&"documentMode"in document&&(Ss=document.documentMode);var Cl=Mi&&"TextEvent"in window&&!Ss,Vs=Mi&&(!qs||Ss&&8<Ss&&11>=Ss),yi=" ",al=!1;function sl(o,u){switch(o){case"keyup":return ra.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ml(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var no=!1;function jn(o,u){switch(o){case"compositionend":return Ml(u);case"keypress":return u.which!==32?null:(al=!0,yi);case"textInput":return o=u.data,o===yi&&al?null:o;default:return null}}function Ua(o,u){if(no)return o==="compositionend"||!qs&&sl(o,u)?(o=to(),Mn=Gs=La=null,no=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Vs&&u.locale!=="ko"?null:u.data;default:return null}}var iu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ts(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!iu[o.type]:u==="textarea"}function rs(o,u,d,g){nl?Ct?Ct.push(g):Ct=[g]:nl=g,u=tm(u,"onChange"),0<u.length&&(d=new ws("onChange","change",null,d,g),o.push({event:d,listeners:u}))}var da=null,Do=null;function jo(o){uw(o,0)}function Es(o){var u=gt(o);if(Dn(u))return o}function $s(o,u){if(o==="change")return u}var za=!1;if(Mi){var ii;if(Mi){var ns="oninput"in document;if(!ns){var io=document.createElement("div");io.setAttribute("oninput","return;"),ns=typeof io.oninput=="function"}ii=ns}else ii=!1;za=ii&&(!document.documentMode||9<document.documentMode)}function Ws(){da&&(da.detachEvent("onpropertychange",au),Do=da=null)}function au(o){if(o.propertyName==="value"&&Es(Do)){var u=[];rs(u,Do,o,Mo(o)),ju(jo,u)}}function Ga(o,u,d){o==="focusin"?(Ws(),da=u,Do=d,da.attachEvent("onpropertychange",au)):o==="focusout"&&Ws()}function hi(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Es(Do)}function Io(o,u){if(o==="click")return Es(u)}function ao(o,u){if(o==="input"||o==="change")return Es(u)}function Fi(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var xi=typeof Object.is=="function"?Object.is:Fi;function so(o,u){if(xi(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var d=Object.keys(o),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var E=d[g];if(!dt.call(u,E)||!xi(o[E],u[E]))return!1}return!0}function ol(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Fo(o,u){var d=ol(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=u&&g>=u)return{node:d,offset:u-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=ol(d)}}function Zs(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Zs(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Ts(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=ea(o.document);u instanceof o.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)o=u.contentWindow;else break;u=ea(o.document)}return u}function Na(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var oo=Mi&&"documentMode"in document&&11>=document.documentMode,Ca=null,lo=null,pa=null,Ma=!1;function cn(o,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ma||Ca==null||Ca!==ea(g)||(g=Ca,"selectionStart"in g&&Na(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),pa&&so(pa,g)||(pa=g,g=tm(lo,"onSelect"),0<g.length&&(u=new ws("onSelect","select",null,u,d),o.push({event:u,listeners:g}),u.target=Ca)))}function Jr(o,u){var d={};return d[o.toLowerCase()]=u.toLowerCase(),d["Webkit"+o]="webkit"+u,d["Moz"+o]="moz"+u,d}var kn={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},ai={},uo={};Mi&&(uo=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function wi(o){if(ai[o])return ai[o];if(!kn[o])return o;var u=kn[o],d;for(d in u)if(u.hasOwnProperty(d)&&d in uo)return ai[o]=u[d];return o}var co=wi("animationend"),Bu=wi("animationiteration"),su=wi("animationstart"),Xh=wi("transitionrun"),lh=wi("transitionstart"),Jh=wi("transitioncancel"),kl=wi("transitionend"),uh=new Map,As="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");As.push("scrollEnd");function is(o,u){uh.set(o,u),nn(u,[o])}var ou=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},as=[],ka=0,Uu=0;function lu(){for(var o=ka,u=Uu=ka=0;u<o;){var d=as[u];as[u++]=null;var g=as[u];as[u++]=null;var E=as[u];as[u++]=null;var N=as[u];if(as[u++]=null,g!==null&&E!==null){var V=g.pending;V===null?E.next=E:(E.next=V.next,V.next=E),g.pending=E}N!==0&&Uo(d,E,N)}}function Bo(o,u,d,g){as[ka++]=o,as[ka++]=u,as[ka++]=d,as[ka++]=g,Uu|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function _c(o,u,d,g){return Bo(o,u,d,g),na(o)}function Ls(o,u){return Bo(o,null,null,u),na(o)}function Uo(o,u,d){o.lanes|=d;var g=o.alternate;g!==null&&(g.lanes|=d);for(var E=!1,N=o.return;N!==null;)N.childLanes|=d,g=N.alternate,g!==null&&(g.childLanes|=d),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(E=!0)),o=N,N=N.return;return o.tag===3?(N=o.stateNode,E&&u!==null&&(E=31-Dr(d),o=N.hiddenUpdates,g=o[E],g===null?o[E]=[u]:g.push(u),u.lane=d|536870912),N):null}function na(o){if(50<Gd)throw Gd=0,Jg=null,Error(n(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Bi={};function yc(o,u,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(o,u,d,g){return new yc(o,u,d,g)}function zu(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ss(o,u){var d=o.alternate;return d===null?(d=ia(o.tag,u,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=u,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,u=o.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function uu(o,u){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,u=d.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Pl(o,u,d,g,E,N){var V=0;if(g=o,typeof o=="function")zu(o)&&(V=1);else if(typeof o=="string")V=fA(o,d,q.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case U:return o=ia(31,d,u,E),o.elementType=U,o.lanes=N,o;case b:return ll(d.children,E,N,u);case C:V=8,E|=24;break;case P:return o=ia(12,d,u,E|2),o.elementType=P,o.lanes=N,o;case te:return o=ia(13,d,u,E),o.elementType=te,o.lanes=N,o;case ue:return o=ia(19,d,u,E),o.elementType=ue,o.lanes=N,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:V=10;break e;case j:V=9;break e;case B:V=11;break e;case F:V=14;break e;case K:V=16,g=null;break e}V=29,d=Error(n(130,o===null?"null":typeof o,"")),g=null}return u=ia(V,d,u,E),u.elementType=o,u.type=g,u.lanes=N,u}function ll(o,u,d,g){return o=ia(7,o,g,u),o.lanes=d,o}function cu(o,u,d){return o=ia(6,o,null,u),o.lanes=d,o}function Gu(o){var u=ia(18,null,null,0);return u.stateNode=o,u}function hu(o,u,d){return u=ia(4,o.children!==null?o.children:[],o.key,u),u.lanes=d,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var h=new WeakMap;function m(o,u){if(typeof o=="object"&&o!==null){var d=h.get(o);return d!==void 0?d:(u={value:o,source:u,stack:zt(u)},h.set(o,u),u)}return{value:o,source:u,stack:zt(u)}}var S=[],M=0,G=null,ae=0,Me=[],We=0,tt=null,pt=1,kt="";function tr(o,u){S[M++]=ae,S[M++]=G,G=o,ae=u}function Ur(o,u,d){Me[We++]=pt,Me[We++]=kt,Me[We++]=tt,tt=o;var g=pt;o=kt;var E=32-Dr(g)-1;g&=~(1<<E),d+=1;var N=32-Dr(u)+E;if(30<N){var V=E-E%5;N=(g&(1<<V)-1).toString(32),g>>=V,E-=V,pt=1<<32-Dr(u)+E|d<<E|g,kt=N+o}else pt=1<<N|d<<E|g,kt=o}function aa(o){o.return!==null&&(tr(o,1),Ur(o,1,0))}function fi(o){for(;o===G;)G=S[--M],S[M]=null,ae=S[--M],S[M]=null;for(;o===tt;)tt=Me[--We],Me[We]=null,kt=Me[--We],Me[We]=null,pt=Me[--We],Me[We]=null}function os(o,u){Me[We++]=pt,Me[We++]=kt,Me[We++]=tt,pt=u.id,kt=u.overflow,tt=o}var pn=null,mn=null,Zr=!1,Pa=null,si=!1,Ns=Error(n(519));function ul(o){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fu(m(u,o)),Ns}function xc(o){var u=o.stateNode,d=o.type,g=o.memoizedProps;switch(u[ne]=o,u[he]=g,d){case"dialog":rn("cancel",u),rn("close",u);break;case"iframe":case"object":case"embed":rn("load",u);break;case"video":case"audio":for(d=0;d<qd.length;d++)rn(qd[d],u);break;case"source":rn("error",u);break;case"img":case"image":case"link":rn("error",u),rn("load",u);break;case"details":rn("toggle",u);break;case"input":rn("invalid",u),El(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":rn("invalid",u);break;case"textarea":rn("invalid",u),No(u,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||g.suppressHydrationWarning===!0||dw(u.textContent,d)?(g.popover!=null&&(rn("beforetoggle",u),rn("toggle",u)),g.onScroll!=null&&rn("scroll",u),g.onScrollEnd!=null&&rn("scrollend",u),g.onClick!=null&&(u.onclick=Ba),u=!0):u=!1,u||ul(o,!0)}function bn(o){for(pn=o.return;pn;)switch(pn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:pn=pn.return}}function bi(o){if(o!==pn)return!1;if(!Zr)return bn(o),Zr=!0,!1;var u=o.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||dv(o.type,o.memoizedProps)),d=!d),d&&mn&&ul(o),bn(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));mn=bw(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));mn=bw(o)}else u===27?(u=mn,Rc(o.type)?(o=_v,_v=null,mn=o):mn=u):mn=pn?fl(o.stateNode.nextSibling):null;return!0}function Ol(){mn=pn=null,Zr=!1}function ch(){var o=Pa;return o!==null&&(_o===null?_o=o:_o.push.apply(_o,o),Pa=null),o}function fu(o){Pa===null?Pa=[o]:Pa.push(o)}var du=Q(null),zo=null,ho=null;function pu(o,u,d){H(du,u._currentValue),u._currentValue=d}function fo(o){o._currentValue=du.current,O(du)}function wc(o,u,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),o===d)break;o=o.return}}function Hu(o,u,d,g){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var N=E.dependencies;if(N!==null){var V=E.child;N=N.firstContext;e:for(;N!==null;){var fe=N;N=E;for(var ke=0;ke<u.length;ke++)if(fe.context===u[ke]){N.lanes|=d,fe=N.alternate,fe!==null&&(fe.lanes|=d),wc(N.return,d,o),g||(V=null);break e}N=fe.next}}else if(E.tag===18){if(V=E.return,V===null)throw Error(n(341));V.lanes|=d,N=V.alternate,N!==null&&(N.lanes|=d),wc(V,d,o),V=null}else V=E.child;if(V!==null)V.return=E;else for(V=E;V!==null;){if(V===o){V=null;break}if(E=V.sibling,E!==null){E.return=V.return,V=E;break}V=V.return}E=V}}function mu(o,u,d,g){o=null;for(var E=u,N=!1;E!==null;){if(!N){if((E.flags&524288)!==0)N=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var V=E.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var fe=E.type;xi(E.pendingProps.value,V.value)||(o!==null?o.push(fe):o=[fe])}}else if(E===Ae.current){if(V=E.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(Yd):o=[Yd])}E=E.return}o!==null&&Hu(u,o,d,g),u.flags|=262144}function Qh(o){for(o=o.firstContext;o!==null;){if(!xi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function gu(o){zo=o,ho=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Oa(o){return Cp(zo,o)}function ef(o,u){return zo===null&&gu(o),Cp(o,u)}function Cp(o,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},ho===null){if(o===null)throw Error(n(308));ho=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else ho=ho.next=u;return d}var vg=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(d,g){o.push(g)}};this.abort=function(){u.aborted=!0,o.forEach(function(d){return d()})}},_g=t.unstable_scheduleCallback,yg=t.unstable_NormalPriority,Ri={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bc(){return{controller:new vg,data:new Map,refCount:0}}function hh(o){o.refCount--,o.refCount===0&&_g(yg,function(){o.controller.abort()})}var fh=null,tf=0,w=0,A=null;function D(o,u){if(fh===null){var d=fh=[];tf=0,w=iv(),A={status:"pending",value:void 0,then:function(g){d.push(g)}}}return tf++,u.then(z,z),u}function z(){if(--tf===0&&fh!==null){A!==null&&(A.status="fulfilled");var o=fh;fh=null,w=0,A=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function ee(o,u){var d=[],g={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return o.then(function(){g.status="fulfilled",g.value=u;for(var E=0;E<d.length;E++)(0,d[E])(u)},function(E){for(g.status="rejected",g.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),g}var ie=oe.S;oe.S=function(o,u){Ix=Jt(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&D(o,u),ie!==null&&ie(o,u)};var le=Q(null);function ge(){var o=le.current;return o!==null?o:ei.pooledCache}function ye(o,u){u===null?H(le,le.current):H(le,u.pool)}function Te(){var o=ge();return o===null?null:{parent:Ri._currentValue,pool:o}}var je=Error(n(460)),Je=Error(n(474)),Ee=Error(n(542)),He={then:function(){}};function Ke(o){return o=o.status,o==="fulfilled"||o==="rejected"}function lt(o,u,d){switch(d=o[d],d===void 0?o.push(u):d!==u&&(u.then(Ba,Ba),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Lt(o),o;default:if(typeof u.status=="string")u.then(Ba,Ba);else{if(o=ei,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=u,o.status="pending",o.then(function(g){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=g}},function(g){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Lt(o),o}throw st=u,je}}function Xe(o){try{var u=o._init;return u(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(st=d,je):d}}var st=null;function ft(){if(st===null)throw Error(n(459));var o=st;return st=null,o}function Lt(o){if(o===je||o===Ee)throw Error(n(483))}var _t=null,nr=0;function Ht(o){var u=nr;return nr+=1,_t===null&&(_t=[]),lt(_t,o,u)}function Pr(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function Kt(o,u){throw u.$$typeof===y?Error(n(525)):(o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Qr(o){function u(Ze,Fe){if(o){var Qe=Ze.deletions;Qe===null?(Ze.deletions=[Fe],Ze.flags|=16):Qe.push(Fe)}}function d(Ze,Fe){if(!o)return null;for(;Fe!==null;)u(Ze,Fe),Fe=Fe.sibling;return null}function g(Ze){for(var Fe=new Map;Ze!==null;)Ze.key!==null?Fe.set(Ze.key,Ze):Fe.set(Ze.index,Ze),Ze=Ze.sibling;return Fe}function E(Ze,Fe){return Ze=ss(Ze,Fe),Ze.index=0,Ze.sibling=null,Ze}function N(Ze,Fe,Qe){return Ze.index=Qe,o?(Qe=Ze.alternate,Qe!==null?(Qe=Qe.index,Qe<Fe?(Ze.flags|=67108866,Fe):Qe):(Ze.flags|=67108866,Fe)):(Ze.flags|=1048576,Fe)}function V(Ze){return o&&Ze.alternate===null&&(Ze.flags|=67108866),Ze}function fe(Ze,Fe,Qe,mt){return Fe===null||Fe.tag!==6?(Fe=cu(Qe,Ze.mode,mt),Fe.return=Ze,Fe):(Fe=E(Fe,Qe),Fe.return=Ze,Fe)}function ke(Ze,Fe,Qe,mt){var vr=Qe.type;return vr===b?ct(Ze,Fe,Qe.props.children,mt,Qe.key):Fe!==null&&(Fe.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===K&&Xe(vr)===Fe.type)?(Fe=E(Fe,Qe.props),Pr(Fe,Qe),Fe.return=Ze,Fe):(Fe=Pl(Qe.type,Qe.key,Qe.props,null,Ze.mode,mt),Pr(Fe,Qe),Fe.return=Ze,Fe)}function et(Ze,Fe,Qe,mt){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Qe.containerInfo||Fe.stateNode.implementation!==Qe.implementation?(Fe=hu(Qe,Ze.mode,mt),Fe.return=Ze,Fe):(Fe=E(Fe,Qe.children||[]),Fe.return=Ze,Fe)}function ct(Ze,Fe,Qe,mt,vr){return Fe===null||Fe.tag!==7?(Fe=ll(Qe,Ze.mode,mt,vr),Fe.return=Ze,Fe):(Fe=E(Fe,Qe),Fe.return=Ze,Fe)}function vt(Ze,Fe,Qe){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=cu(""+Fe,Ze.mode,Qe),Fe.return=Ze,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case _:return Qe=Pl(Fe.type,Fe.key,Fe.props,null,Ze.mode,Qe),Pr(Qe,Fe),Qe.return=Ze,Qe;case T:return Fe=hu(Fe,Ze.mode,Qe),Fe.return=Ze,Fe;case K:return Fe=Xe(Fe),vt(Ze,Fe,Qe)}if(xe(Fe)||W(Fe))return Fe=ll(Fe,Ze.mode,Qe,null),Fe.return=Ze,Fe;if(typeof Fe.then=="function")return vt(Ze,Ht(Fe),Qe);if(Fe.$$typeof===R)return vt(Ze,ef(Ze,Fe),Qe);Kt(Ze,Fe)}return null}function rt(Ze,Fe,Qe,mt){var vr=Fe!==null?Fe.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return vr!==null?null:fe(Ze,Fe,""+Qe,mt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case _:return Qe.key===vr?ke(Ze,Fe,Qe,mt):null;case T:return Qe.key===vr?et(Ze,Fe,Qe,mt):null;case K:return Qe=Xe(Qe),rt(Ze,Fe,Qe,mt)}if(xe(Qe)||W(Qe))return vr!==null?null:ct(Ze,Fe,Qe,mt,null);if(typeof Qe.then=="function")return rt(Ze,Fe,Ht(Qe),mt);if(Qe.$$typeof===R)return rt(Ze,Fe,ef(Ze,Qe),mt);Kt(Ze,Qe)}return null}function nt(Ze,Fe,Qe,mt,vr){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Ze=Ze.get(Qe)||null,fe(Fe,Ze,""+mt,vr);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case _:return Ze=Ze.get(mt.key===null?Qe:mt.key)||null,ke(Fe,Ze,mt,vr);case T:return Ze=Ze.get(mt.key===null?Qe:mt.key)||null,et(Fe,Ze,mt,vr);case K:return mt=Xe(mt),nt(Ze,Fe,Qe,mt,vr)}if(xe(mt)||W(mt))return Ze=Ze.get(Qe)||null,ct(Fe,Ze,mt,vr,null);if(typeof mt.then=="function")return nt(Ze,Fe,Qe,Ht(mt),vr);if(mt.$$typeof===R)return nt(Ze,Fe,Qe,ef(Fe,mt),vr);Kt(Fe,mt)}return null}function rr(Ze,Fe,Qe,mt){for(var vr=null,Sn=null,lr=Fe,Vr=Fe=0,sn=null;lr!==null&&Vr<Qe.length;Vr++){lr.index>Vr?(sn=lr,lr=null):sn=lr.sibling;var En=rt(Ze,lr,Qe[Vr],mt);if(En===null){lr===null&&(lr=sn);break}o&&lr&&En.alternate===null&&u(Ze,lr),Fe=N(En,Fe,Vr),Sn===null?vr=En:Sn.sibling=En,Sn=En,lr=sn}if(Vr===Qe.length)return d(Ze,lr),Zr&&tr(Ze,Vr),vr;if(lr===null){for(;Vr<Qe.length;Vr++)lr=vt(Ze,Qe[Vr],mt),lr!==null&&(Fe=N(lr,Fe,Vr),Sn===null?vr=lr:Sn.sibling=lr,Sn=lr);return Zr&&tr(Ze,Vr),vr}for(lr=g(lr);Vr<Qe.length;Vr++)sn=nt(lr,Ze,Vr,Qe[Vr],mt),sn!==null&&(o&&sn.alternate!==null&&lr.delete(sn.key===null?Vr:sn.key),Fe=N(sn,Fe,Vr),Sn===null?vr=sn:Sn.sibling=sn,Sn=sn);return o&&lr.forEach(function(Bc){return u(Ze,Bc)}),Zr&&tr(Ze,Vr),vr}function Tr(Ze,Fe,Qe,mt){if(Qe==null)throw Error(n(151));for(var vr=null,Sn=null,lr=Fe,Vr=Fe=0,sn=null,En=Qe.next();lr!==null&&!En.done;Vr++,En=Qe.next()){lr.index>Vr?(sn=lr,lr=null):sn=lr.sibling;var Bc=rt(Ze,lr,En.value,mt);if(Bc===null){lr===null&&(lr=sn);break}o&&lr&&Bc.alternate===null&&u(Ze,lr),Fe=N(Bc,Fe,Vr),Sn===null?vr=Bc:Sn.sibling=Bc,Sn=Bc,lr=sn}if(En.done)return d(Ze,lr),Zr&&tr(Ze,Vr),vr;if(lr===null){for(;!En.done;Vr++,En=Qe.next())En=vt(Ze,En.value,mt),En!==null&&(Fe=N(En,Fe,Vr),Sn===null?vr=En:Sn.sibling=En,Sn=En);return Zr&&tr(Ze,Vr),vr}for(lr=g(lr);!En.done;Vr++,En=Qe.next())En=nt(lr,Ze,Vr,En.value,mt),En!==null&&(o&&En.alternate!==null&&lr.delete(En.key===null?Vr:En.key),Fe=N(En,Fe,Vr),Sn===null?vr=En:Sn.sibling=En,Sn=En);return o&&lr.forEach(function(SA){return u(Ze,SA)}),Zr&&tr(Ze,Vr),vr}function Zn(Ze,Fe,Qe,mt){if(typeof Qe=="object"&&Qe!==null&&Qe.type===b&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case _:e:{for(var vr=Qe.key;Fe!==null;){if(Fe.key===vr){if(vr=Qe.type,vr===b){if(Fe.tag===7){d(Ze,Fe.sibling),mt=E(Fe,Qe.props.children),mt.return=Ze,Ze=mt;break e}}else if(Fe.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===K&&Xe(vr)===Fe.type){d(Ze,Fe.sibling),mt=E(Fe,Qe.props),Pr(mt,Qe),mt.return=Ze,Ze=mt;break e}d(Ze,Fe);break}else u(Ze,Fe);Fe=Fe.sibling}Qe.type===b?(mt=ll(Qe.props.children,Ze.mode,mt,Qe.key),mt.return=Ze,Ze=mt):(mt=Pl(Qe.type,Qe.key,Qe.props,null,Ze.mode,mt),Pr(mt,Qe),mt.return=Ze,Ze=mt)}return V(Ze);case T:e:{for(vr=Qe.key;Fe!==null;){if(Fe.key===vr)if(Fe.tag===4&&Fe.stateNode.containerInfo===Qe.containerInfo&&Fe.stateNode.implementation===Qe.implementation){d(Ze,Fe.sibling),mt=E(Fe,Qe.children||[]),mt.return=Ze,Ze=mt;break e}else{d(Ze,Fe);break}else u(Ze,Fe);Fe=Fe.sibling}mt=hu(Qe,Ze.mode,mt),mt.return=Ze,Ze=mt}return V(Ze);case K:return Qe=Xe(Qe),Zn(Ze,Fe,Qe,mt)}if(xe(Qe))return rr(Ze,Fe,Qe,mt);if(W(Qe)){if(vr=W(Qe),typeof vr!="function")throw Error(n(150));return Qe=vr.call(Qe),Tr(Ze,Fe,Qe,mt)}if(typeof Qe.then=="function")return Zn(Ze,Fe,Ht(Qe),mt);if(Qe.$$typeof===R)return Zn(Ze,Fe,ef(Ze,Qe),mt);Kt(Ze,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint"?(Qe=""+Qe,Fe!==null&&Fe.tag===6?(d(Ze,Fe.sibling),mt=E(Fe,Qe),mt.return=Ze,Ze=mt):(d(Ze,Fe),mt=cu(Qe,Ze.mode,mt),mt.return=Ze,Ze=mt),V(Ze)):d(Ze,Fe)}return function(Ze,Fe,Qe,mt){try{nr=0;var vr=Zn(Ze,Fe,Qe,mt);return _t=null,vr}catch(lr){if(lr===je||lr===Ee)throw lr;var Sn=ia(29,lr,null,Ze.mode);return Sn.lanes=mt,Sn.return=Ze,Sn}}}var Qn=Qr(!0),jr=Qr(!1),qt=!1;function Rt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function di(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Sr(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function zr(o,u,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Nn&2)!==0){var E=g.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),g.pending=u,u=na(o),Uo(o,null,d),u}return Bo(o,g,u,d),na(o)}function An(o,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var g=u.lanes;g&=o.pendingLanes,d|=g,u.lanes=d,Ce(o,d)}}function sa(o,u){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var E=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var V={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?E=N=V:N=N.next=V,d=d.next}while(d!==null);N===null?E=N=u:N=N.next=u}else E=N=u;d={baseState:g.baseState,firstBaseUpdate:E,lastBaseUpdate:N,shared:g.shared,callbacks:g.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=u}var Ra=!1;function Vn(){if(Ra){var o=A;if(o!==null)throw o}}function Ui(o,u,d,g){Ra=!1;var E=o.updateQueue;qt=!1;var N=E.firstBaseUpdate,V=E.lastBaseUpdate,fe=E.shared.pending;if(fe!==null){E.shared.pending=null;var ke=fe,et=ke.next;ke.next=null,V===null?N=et:V.next=et,V=ke;var ct=o.alternate;ct!==null&&(ct=ct.updateQueue,fe=ct.lastBaseUpdate,fe!==V&&(fe===null?ct.firstBaseUpdate=et:fe.next=et,ct.lastBaseUpdate=ke))}if(N!==null){var vt=E.baseState;V=0,ct=et=ke=null,fe=N;do{var rt=fe.lane&-536870913,nt=rt!==fe.lane;if(nt?(an&rt)===rt:(g&rt)===rt){rt!==0&&rt===w&&(Ra=!0),ct!==null&&(ct=ct.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var rr=o,Tr=fe;rt=u;var Zn=d;switch(Tr.tag){case 1:if(rr=Tr.payload,typeof rr=="function"){vt=rr.call(Zn,vt,rt);break e}vt=rr;break e;case 3:rr.flags=rr.flags&-65537|128;case 0:if(rr=Tr.payload,rt=typeof rr=="function"?rr.call(Zn,vt,rt):rr,rt==null)break e;vt=v({},vt,rt);break e;case 2:qt=!0}}rt=fe.callback,rt!==null&&(o.flags|=64,nt&&(o.flags|=8192),nt=E.callbacks,nt===null?E.callbacks=[rt]:nt.push(rt))}else nt={lane:rt,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},ct===null?(et=ct=nt,ke=vt):ct=ct.next=nt,V|=rt;if(fe=fe.next,fe===null){if(fe=E.shared.pending,fe===null)break;nt=fe,fe=nt.next,nt.next=null,E.lastBaseUpdate=nt,E.shared.pending=null}}while(!0);ct===null&&(ke=vt),E.baseState=ke,E.firstBaseUpdate=et,E.lastBaseUpdate=ct,N===null&&(E.shared.lanes=0),Cc|=V,o.lanes=V,o.memoizedState=vt}}function Ha(o,u){if(typeof o!="function")throw Error(n(191,o));o.call(u)}function zi(o,u){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)Ha(d[o],u)}var $r=Q(null),gn=Q(0);function pi(o,u){o=Qu,H(gn,o),H($r,u),Qu=o|u.baseLanes}function yn(){H(gn,Qu),H($r,$r.current)}function oa(){Qu=gn.current,O($r),O(gn)}var mi=Q(null),vn=null;function Di(o){var u=o.alternate;H(hn,hn.current&1),H(mi,o),vn===null&&(u===null||$r.current!==null||u.memoizedState!==null)&&(vn=o)}function Ln(o){H(hn,hn.current),H(mi,o),vn===null&&(vn=o)}function Gi(o){o.tag===22?(H(hn,hn.current),H(mi,o),vn===null&&(vn=o)):Hi()}function Hi(){H(hn,hn.current),H(mi,mi.current)}function In(o){O(mi),vn===o&&(vn=null),O(hn)}var hn=Q(0);function qa(o){for(var u=o;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||gv(d)||vv(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Si=0,mr=null,gr=null,_n=null,Cs=!1,po=!1,ls=!1,qi=0,vu=0,_u=null,rf=0;function $n(){throw Error(n(321))}function Ed(o,u){if(u===null)return!1;for(var d=0;d<u.length&&d<o.length;d++)if(!xi(o[d],u[d]))return!1;return!0}function Td(o,u,d,g,E,N){return Si=N,mr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,oe.H=o===null||o.memoizedState===null?Zy:Lg,ls=!1,N=d(g,E),ls=!1,po&&(N=Rl(u,d,g,E)),nf(o),N}function nf(o){oe.H=Od;var u=gr!==null&&gr.next!==null;if(Si=0,_n=gr=mr=null,Cs=!1,vu=0,_u=null,u)throw Error(n(300));o===null||ga||(o=o.dependencies,o!==null&&Qh(o)&&(ga=!0))}function Rl(o,u,d,g){mr=o;var E=0;do{if(po&&(_u=null),vu=0,po=!1,25<=E)throw Error(n(301));if(E+=1,_n=gr=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}oe.H=Yy,N=u(d,g)}while(po);return N}function xg(){var o=oe.H,u=o.useState()[0];return u=typeof u.then=="function"?yu(u):u,o=o.useState()[0],(gr!==null?gr.memoizedState:null)!==o&&(mr.flags|=1024),u}function Ad(){var o=qi!==0;return qi=0,o}function Ld(o,u,d){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~d}function af(o){if(Cs){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Cs=!1}Si=0,_n=gr=mr=null,po=!1,vu=qi=0,_u=null}function ma(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?mr.memoizedState=_n=o:_n=_n.next=o,_n}function Ei(){if(gr===null){var o=mr.alternate;o=o!==null?o.memoizedState:null}else o=gr.next;var u=_n===null?mr.memoizedState:_n.next;if(u!==null)_n=u,gr=o;else{if(o===null)throw mr.alternate===null?Error(n(467)):Error(n(310));gr=o,o={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},_n===null?mr.memoizedState=_n=o:_n=_n.next=o}return _n}function dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(o){var u=vu;return vu+=1,_u===null&&(_u=[]),o=lt(_u,o,u),u=mr,(_n===null?u.memoizedState:_n.next)===null&&(u=u.alternate,oe.H=u===null||u.memoizedState===null?Zy:Lg),o}function Sc(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return yu(o);if(o.$$typeof===R)return Oa(o)}throw Error(n(438,String(o)))}function qu(o){var u=null,d=mr.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var g=mr.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=dh(),mr.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(o),g=0;g<o;g++)d[g]=X;return u.index++,d}function cl(o,u){return typeof u=="function"?u(o):u}function sf(o){var u=Ei();return Ec(u,gr,o)}function Ec(o,u,d){var g=o.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var E=o.baseQueue,N=g.pending;if(N!==null){if(E!==null){var V=E.next;E.next=N.next,N.next=V}u.baseQueue=E=N,g.pending=null}if(N=o.baseState,E===null)o.memoizedState=N;else{u=E.next;var fe=V=null,ke=null,et=u,ct=!1;do{var vt=et.lane&-536870913;if(vt!==et.lane?(an&vt)===vt:(Si&vt)===vt){var rt=et.revertLane;if(rt===0)ke!==null&&(ke=ke.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),vt===w&&(ct=!0);else if((Si&rt)===rt){et=et.next,rt===w&&(ct=!0);continue}else vt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},ke===null?(fe=ke=vt,V=N):ke=ke.next=vt,mr.lanes|=rt,Cc|=rt;vt=et.action,ls&&d(N,vt),N=et.hasEagerState?et.eagerState:d(N,vt)}else rt={lane:vt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},ke===null?(fe=ke=rt,V=N):ke=ke.next=rt,mr.lanes|=vt,Cc|=vt;et=et.next}while(et!==null&&et!==u);if(ke===null?V=N:ke.next=fe,!xi(N,o.memoizedState)&&(ga=!0,ct&&(d=A,d!==null)))throw d;o.memoizedState=N,o.baseState=V,o.baseQueue=ke,g.lastRenderedState=N}return E===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function of(o){var u=Ei(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var g=d.dispatch,E=d.pending,N=u.memoizedState;if(E!==null){d.pending=null;var V=E=E.next;do N=o(N,V.action),V=V.next;while(V!==E);xi(N,u.memoizedState)||(ga=!0),u.memoizedState=N,u.baseQueue===null&&(u.baseState=N),d.lastRenderedState=N}return[N,g]}function lf(o,u,d){var g=mr,E=Ei(),N=Zr;if(N){if(d===void 0)throw Error(n(407));d=d()}else d=u();var V=!xi((gr||E).memoizedState,d);if(V&&(E.memoizedState=d,ga=!0),E=E.queue,wg(Cd.bind(null,g,E,o),[o]),E.getSnapshot!==u||V||_n!==null&&_n.memoizedState.tag&1){if(g.flags|=2048,$u(9,{destroy:void 0},Nd.bind(null,g,E,d,u),null),ei===null)throw Error(n(349));N||(Si&127)!==0||Dl(g,u,d)}return d}function Dl(o,u,d){o.flags|=16384,o={getSnapshot:u,value:d},u=mr.updateQueue,u===null?(u=dh(),mr.updateQueue=u,u.stores=[o]):(d=u.stores,d===null?u.stores=[o]:d.push(o))}function Nd(o,u,d,g){u.value=d,u.getSnapshot=g,Mp(u)&&Md(o)}function Cd(o,u,d){return d(function(){Mp(u)&&Md(o)})}function Mp(o){var u=o.getSnapshot;o=o.value;try{var d=u();return!xi(o,d)}catch{return!0}}function Md(o){var u=Ls(o,2);u!==null&&yo(u,o,2)}function xu(o){var u=ma();if(typeof o=="function"){var d=o;if(o=d(),ls){pr(!0);try{d()}finally{pr(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:o},u}function kp(o,u,d,g){return o.baseState=d,Ec(o,gr,typeof g=="function"?g:cl)}function Pp(o,u,d,g,E){if(jp(o))throw Error(n(485));if(o=u.action,o!==null){var N={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){N.listeners.push(V)}};oe.T!==null?d(!0):N.isTransition=!1,g(N),d=u.pending,d===null?(N.next=u.pending=N,Op(u,N)):(N.next=d.next,u.pending=d.next=N)}}function Op(o,u){var d=u.action,g=u.payload,E=o.state;if(u.isTransition){var N=oe.T,V={};oe.T=V;try{var fe=d(E,g),ke=oe.S;ke!==null&&ke(V,fe),kd(o,u,fe)}catch(et){Vu(o,u,et)}finally{N!==null&&V.types!==null&&(N.types=V.types),oe.T=N}}else try{N=d(E,g),kd(o,u,N)}catch(et){Vu(o,u,et)}}function kd(o,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){Rp(o,u,g)},function(g){return Vu(o,u,g)}):Rp(o,u,d)}function Rp(o,u,d){u.status="fulfilled",u.value=d,uf(u),o.state=d,u=o.pending,u!==null&&(d=u.next,d===u?o.pending=null:(d=d.next,u.next=d,Op(o,d)))}function Vu(o,u,d){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=d,uf(u),u=u.next;while(u!==g)}o.action=null}function uf(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function ph(o,u){return u}function hl(o,u){if(Zr){var d=ei.formState;if(d!==null){e:{var g=mr;if(Zr){if(mn){t:{for(var E=mn,N=si;E.nodeType!==8;){if(!N){E=null;break t}if(E=fl(E.nextSibling),E===null){E=null;break t}}N=E.data,E=N==="F!"||N==="F"?E:null}if(E){mn=fl(E.nextSibling),g=E.data==="F!";break e}}ul(g)}g=!1}g&&(u=d[0])}}return d=ma(),d.memoizedState=d.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ph,lastRenderedState:u},d.queue=g,d=Vy.bind(null,mr,g),g.dispatch=d,g=xu(!1),N=Ag.bind(null,mr,!1,g.queue),g=ma(),E={state:u,dispatch:null,action:o,pending:null},g.queue=E,d=Pp.bind(null,mr,E,N,d),E.dispatch=d,g.memoizedState=o,[u,d,!1]}function jl(o){var u=Ei();return Il(u,gr,o)}function Il(o,u,d){if(u=Ec(o,u,ph)[0],o=sf(cl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=yu(u)}catch(V){throw V===je?Ee:V}else g=u;u=Ei();var E=u.queue,N=E.dispatch;return d!==u.memoizedState&&(mr.flags|=2048,$u(9,{destroy:void 0},cf.bind(null,E,d),null)),[g,N,o]}function cf(o,u){o.action=u}function hf(o){var u=Ei(),d=gr;if(d!==null)return Il(u,d,o);Ei(),u=u.memoizedState,d=Ei();var g=d.queue.dispatch;return d.memoizedState=o,[u,g,!1]}function $u(o,u,d,g){return o={tag:o,create:d,deps:g,inst:u,next:null},u=mr.updateQueue,u===null&&(u=dh(),mr.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,u.lastEffect=o),o}function Dp(){return Ei().memoizedState}function Tc(o,u,d,g){var E=ma();mr.flags|=o,E.memoizedState=$u(1|u,{destroy:void 0},d,g===void 0?null:g)}function Ac(o,u,d,g){var E=Ei();g=g===void 0?null:g;var N=E.memoizedState.inst;gr!==null&&g!==null&&Ed(g,gr.memoizedState.deps)?E.memoizedState=$u(u,N,d,g):(mr.flags|=o,E.memoizedState=$u(1|u,N,d,g))}function ky(o,u){Tc(8390656,8,o,u)}function wg(o,u){Ac(2048,8,o,u)}function vT(o){mr.flags|=4;var u=mr.updateQueue;if(u===null)u=dh(),mr.updateQueue=u,u.events=[o];else{var d=u.events;d===null?u.events=[o]:d.push(o)}}function Py(o){var u=Ei().memoizedState;return vT({ref:u,nextImpl:o}),function(){if((Nn&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function Oy(o,u){return Ac(4,2,o,u)}function Ry(o,u){return Ac(4,4,o,u)}function Dy(o,u){if(typeof u=="function"){o=o();var d=u(o);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function jy(o,u,d){d=d!=null?d.concat([o]):null,Ac(4,4,Dy.bind(null,u,o),d)}function bg(){}function Iy(o,u){var d=Ei();u=u===void 0?null:u;var g=d.memoizedState;return u!==null&&Ed(u,g[1])?g[0]:(d.memoizedState=[o,u],o)}function Fy(o,u){var d=Ei();u=u===void 0?null:u;var g=d.memoizedState;if(u!==null&&Ed(u,g[1]))return g[0];if(g=o(),ls){pr(!0);try{o()}finally{pr(!1)}}return d.memoizedState=[g,u],g}function Sg(o,u,d){return d===void 0||(Si&1073741824)!==0&&(an&261930)===0?o.memoizedState=u:(o.memoizedState=d,o=Bx(),mr.lanes|=o,Cc|=o,d)}function By(o,u,d,g){return xi(d,u)?d:$r.current!==null?(o=Sg(o,d,g),xi(o,u)||(ga=!0),o):(Si&42)===0||(Si&1073741824)!==0&&(an&261930)===0?(ga=!0,o.memoizedState=d):(o=Bx(),mr.lanes|=o,Cc|=o,u)}function Uy(o,u,d,g,E){var N=be.p;be.p=N!==0&&8>N?N:8;var V=oe.T,fe={};oe.T=fe,Ag(o,!1,u,d);try{var ke=E(),et=oe.S;if(et!==null&&et(fe,ke),ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var ct=ee(ke,g);Pd(o,u,ct,qo(o))}else Pd(o,u,g,qo(o))}catch(vt){Pd(o,u,{then:function(){},status:"rejected",reason:vt},qo())}finally{be.p=N,V!==null&&fe.types!==null&&(V.types=fe.types),oe.T=V}}function _T(){}function Eg(o,u,d,g){if(o.tag!==5)throw Error(n(476));var E=zy(o).queue;Uy(o,E,u,_e,d===null?_T:function(){return Gy(o),d(g)})}function zy(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:_e},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:d},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function Gy(o){var u=zy(o);u.next===null&&(u=o.alternate.memoizedState),Pd(o,u.next.queue,{},qo())}function Tg(){return Oa(Yd)}function Hy(){return Ei().memoizedState}function qy(){return Ei().memoizedState}function yT(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var d=qo();o=Sr(d);var g=zr(u,o,d);g!==null&&(yo(g,u,d),An(g,u,d)),u={cache:bc()},o.payload=u;return}u=u.return}}function xT(o,u,d){var g=qo();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},jp(o)?$y(u,d):(d=_c(o,u,d,g),d!==null&&(yo(d,o,g),Wy(d,u,g)))}function Vy(o,u,d){var g=qo();Pd(o,u,d,g)}function Pd(o,u,d,g){var E={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(jp(o))$y(u,E);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=u.lastRenderedReducer,N!==null))try{var V=u.lastRenderedState,fe=N(V,d);if(E.hasEagerState=!0,E.eagerState=fe,xi(fe,V))return Bo(o,u,E,0),ei===null&&lu(),!1}catch{}if(d=_c(o,u,E,g),d!==null)return yo(d,o,g),Wy(d,u,g),!0}return!1}function Ag(o,u,d,g){if(g={lane:2,revertLane:iv(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},jp(o)){if(u)throw Error(n(479))}else u=_c(o,d,g,2),u!==null&&yo(u,o,2)}function jp(o){var u=o.alternate;return o===mr||u!==null&&u===mr}function $y(o,u){po=Cs=!0;var d=o.pending;d===null?u.next=u:(u.next=d.next,d.next=u),o.pending=u}function Wy(o,u,d){if((d&4194048)!==0){var g=u.lanes;g&=o.pendingLanes,d|=g,u.lanes=d,Ce(o,d)}}var Od={readContext:Oa,use:Sc,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n};Od.useEffectEvent=$n;var Zy={readContext:Oa,use:Sc,useCallback:function(o,u){return ma().memoizedState=[o,u===void 0?null:u],o},useContext:Oa,useEffect:ky,useImperativeHandle:function(o,u,d){d=d!=null?d.concat([o]):null,Tc(4194308,4,Dy.bind(null,u,o),d)},useLayoutEffect:function(o,u){return Tc(4194308,4,o,u)},useInsertionEffect:function(o,u){Tc(4,2,o,u)},useMemo:function(o,u){var d=ma();u=u===void 0?null:u;var g=o();if(ls){pr(!0);try{o()}finally{pr(!1)}}return d.memoizedState=[g,u],g},useReducer:function(o,u,d){var g=ma();if(d!==void 0){var E=d(u);if(ls){pr(!0);try{d(u)}finally{pr(!1)}}}else E=u;return g.memoizedState=g.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},g.queue=o,o=o.dispatch=xT.bind(null,mr,o),[g.memoizedState,o]},useRef:function(o){var u=ma();return o={current:o},u.memoizedState=o},useState:function(o){o=xu(o);var u=o.queue,d=Vy.bind(null,mr,u);return u.dispatch=d,[o.memoizedState,d]},useDebugValue:bg,useDeferredValue:function(o,u){var d=ma();return Sg(d,o,u)},useTransition:function(){var o=xu(!1);return o=Uy.bind(null,mr,o.queue,!0,!1),ma().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,d){var g=mr,E=ma();if(Zr){if(d===void 0)throw Error(n(407));d=d()}else{if(d=u(),ei===null)throw Error(n(349));(an&127)!==0||Dl(g,u,d)}E.memoizedState=d;var N={value:d,getSnapshot:u};return E.queue=N,ky(Cd.bind(null,g,N,o),[o]),g.flags|=2048,$u(9,{destroy:void 0},Nd.bind(null,g,N,d,u),null),d},useId:function(){var o=ma(),u=ei.identifierPrefix;if(Zr){var d=kt,g=pt;d=(g&~(1<<32-Dr(g)-1)).toString(32)+d,u="_"+u+"R_"+d,d=qi++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=rf++,u="_"+u+"r_"+d.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:Tg,useFormState:hl,useActionState:hl,useOptimistic:function(o){var u=ma();u.memoizedState=u.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=Ag.bind(null,mr,!0,d),d.dispatch=u,[o,u]},useMemoCache:qu,useCacheRefresh:function(){return ma().memoizedState=yT.bind(null,mr)},useEffectEvent:function(o){var u=ma(),d={impl:o};return u.memoizedState=d,function(){if((Nn&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Lg={readContext:Oa,use:Sc,useCallback:Iy,useContext:Oa,useEffect:wg,useImperativeHandle:jy,useInsertionEffect:Oy,useLayoutEffect:Ry,useMemo:Fy,useReducer:sf,useRef:Dp,useState:function(){return sf(cl)},useDebugValue:bg,useDeferredValue:function(o,u){var d=Ei();return By(d,gr.memoizedState,o,u)},useTransition:function(){var o=sf(cl)[0],u=Ei().memoizedState;return[typeof o=="boolean"?o:yu(o),u]},useSyncExternalStore:lf,useId:Hy,useHostTransitionStatus:Tg,useFormState:jl,useActionState:jl,useOptimistic:function(o,u){var d=Ei();return kp(d,gr,o,u)},useMemoCache:qu,useCacheRefresh:qy};Lg.useEffectEvent=Py;var Yy={readContext:Oa,use:Sc,useCallback:Iy,useContext:Oa,useEffect:wg,useImperativeHandle:jy,useInsertionEffect:Oy,useLayoutEffect:Ry,useMemo:Fy,useReducer:of,useRef:Dp,useState:function(){return of(cl)},useDebugValue:bg,useDeferredValue:function(o,u){var d=Ei();return gr===null?Sg(d,o,u):By(d,gr.memoizedState,o,u)},useTransition:function(){var o=of(cl)[0],u=Ei().memoizedState;return[typeof o=="boolean"?o:yu(o),u]},useSyncExternalStore:lf,useId:Hy,useHostTransitionStatus:Tg,useFormState:hf,useActionState:hf,useOptimistic:function(o,u){var d=Ei();return gr!==null?kp(d,gr,o,u):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:qu,useCacheRefresh:qy};Yy.useEffectEvent=Py;function Ng(o,u,d,g){u=o.memoizedState,d=d(g,u),d=d==null?u:v({},u,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Cg={enqueueSetState:function(o,u,d){o=o._reactInternals;var g=qo(),E=Sr(g);E.payload=u,d!=null&&(E.callback=d),u=zr(o,E,g),u!==null&&(yo(u,o,g),An(u,o,g))},enqueueReplaceState:function(o,u,d){o=o._reactInternals;var g=qo(),E=Sr(g);E.tag=1,E.payload=u,d!=null&&(E.callback=d),u=zr(o,E,g),u!==null&&(yo(u,o,g),An(u,o,g))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var d=qo(),g=Sr(d);g.tag=2,u!=null&&(g.callback=u),u=zr(o,g,d),u!==null&&(yo(u,o,d),An(u,o,d))}};function Ky(o,u,d,g,E,N,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,N,V):u.prototype&&u.prototype.isPureReactComponent?!so(d,g)||!so(E,N):!0}function Xy(o,u,d,g){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==o&&Cg.enqueueReplaceState(u,u.state,null)}function mh(o,u){var d=u;if("ref"in u){d={};for(var g in u)g!=="ref"&&(d[g]=u[g])}if(o=o.defaultProps){d===u&&(d=v({},d));for(var E in o)d[E]===void 0&&(d[E]=o[E])}return d}function Jy(o){ou(o)}function Qy(o){console.error(o)}function ex(o){ou(o)}function Ip(o,u){try{var d=o.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function tx(o,u,d){try{var g=o.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Mg(o,u,d){return d=Sr(d),d.tag=3,d.payload={element:null},d.callback=function(){Ip(o,u)},d}function rx(o){return o=Sr(o),o.tag=3,o}function nx(o,u,d,g){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var N=g.value;o.payload=function(){return E(N)},o.callback=function(){tx(u,d,g)}}var V=d.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(o.callback=function(){tx(u,d,g),typeof E!="function"&&(Mc===null?Mc=new Set([this]):Mc.add(this));var fe=g.stack;this.componentDidCatch(g.value,{componentStack:fe!==null?fe:""})})}function wT(o,u,d,g,E){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=d.alternate,u!==null&&mu(u,d,E,!0),d=mi.current,d!==null){switch(d.tag){case 31:case 13:return vn===null?Yp():d.alternate===null&&Vi===0&&(Vi=3),d.flags&=-257,d.flags|=65536,d.lanes=E,g===He?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([g]):u.add(g),tv(o,g,E)),!1;case 22:return d.flags|=65536,g===He?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([g]):d.add(g)),tv(o,g,E)),!1}throw Error(n(435,d.tag))}return tv(o,g,E),Yp(),!1}if(Zr)return u=mi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,g!==Ns&&(o=Error(n(422),{cause:g}),fu(m(o,d)))):(g!==Ns&&(u=Error(n(423),{cause:g}),fu(m(u,d))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,g=m(g,d),E=Mg(o.stateNode,g,E),sa(o,E),Vi!==4&&(Vi=2)),!1;var N=Error(n(520),{cause:g});if(N=m(N,d),zd===null?zd=[N]:zd.push(N),Vi!==4&&(Vi=2),u===null)return!0;g=m(g,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,o=E&-E,d.lanes|=o,o=Mg(d.stateNode,g,o),sa(d,o),!1;case 1:if(u=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Mc===null||!Mc.has(N))))return d.flags|=65536,E&=-E,d.lanes|=E,E=rx(E),nx(E,o,d,g),sa(d,E),!1}d=d.return}while(d!==null);return!1}var kg=Error(n(461)),ga=!1;function us(o,u,d,g){u.child=o===null?jr(u,null,d,g):Qn(u,o.child,d,g)}function ix(o,u,d,g,E){d=d.render;var N=u.ref;if("ref"in g){var V={};for(var fe in g)fe!=="ref"&&(V[fe]=g[fe])}else V=g;return gu(u),g=Td(o,u,d,V,N,E),fe=Ad(),o!==null&&!ga?(Ld(o,u,E),Wu(o,u,E)):(Zr&&fe&&aa(u),u.flags|=1,us(o,u,g,E),u.child)}function ax(o,u,d,g,E){if(o===null){var N=d.type;return typeof N=="function"&&!zu(N)&&N.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=N,sx(o,u,N,g,E)):(o=Pl(d.type,null,g,u,u.mode,E),o.ref=u.ref,o.return=u,u.child=o)}if(N=o.child,!Bg(o,E)){var V=N.memoizedProps;if(d=d.compare,d=d!==null?d:so,d(V,g)&&o.ref===u.ref)return Wu(o,u,E)}return u.flags|=1,o=ss(N,g),o.ref=u.ref,o.return=u,u.child=o}function sx(o,u,d,g,E){if(o!==null){var N=o.memoizedProps;if(so(N,g)&&o.ref===u.ref)if(ga=!1,u.pendingProps=g=N,Bg(o,E))(o.flags&131072)!==0&&(ga=!0);else return u.lanes=o.lanes,Wu(o,u,E)}return Pg(o,u,d,g,E)}function ox(o,u,d,g){var E=g.children,N=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,o!==null){for(g=u.child=o.child,E=0;g!==null;)E=E|g.lanes|g.childLanes,g=g.sibling;g=E&~N}else g=0,u.child=null;return lx(o,u,N,d,g)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&ye(u,N!==null?N.cachePool:null),N!==null?pi(u,N):yn(),Gi(u);else return g=u.lanes=536870912,lx(o,u,N!==null?N.baseLanes|d:d,d,g)}else N!==null?(ye(u,N.cachePool),pi(u,N),Hi(),u.memoizedState=null):(o!==null&&ye(u,null),yn(),Hi());return us(o,u,E,d),u.child}function Rd(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function lx(o,u,d,g,E){var N=ge();return N=N===null?null:{parent:Ri._currentValue,pool:N},u.memoizedState={baseLanes:d,cachePool:N},o!==null&&ye(u,null),yn(),Gi(u),o!==null&&mu(o,u,g,!0),u.childLanes=E,null}function Fp(o,u){return u=Up({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function ux(o,u,d){return Qn(u,o.child,null,d),o=Fp(u,u.pendingProps),o.flags|=2,In(u),u.memoizedState=null,o}function bT(o,u,d){var g=u.pendingProps,E=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(Zr){if(g.mode==="hidden")return o=Fp(u,g),u.lanes=536870912,Rd(null,o);if(Ln(u),(o=mn)?(o=ww(o,si),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:tt!==null?{id:pt,overflow:kt}:null,retryLane:536870912,hydrationErrors:null},d=Gu(o),d.return=u,u.child=d,pn=u,mn=null)):o=null,o===null)throw ul(u);return u.lanes=536870912,null}return Fp(u,g)}var N=o.memoizedState;if(N!==null){var V=N.dehydrated;if(Ln(u),E)if(u.flags&256)u.flags&=-257,u=ux(o,u,d);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(n(558));else if(ga||mu(o,u,d,!1),E=(d&o.childLanes)!==0,ga||E){if(g=ei,g!==null&&(V=Ge(g,d),V!==0&&V!==N.retryLane))throw N.retryLane=V,Ls(o,V),yo(g,o,V),kg;Yp(),u=ux(o,u,d)}else o=N.treeContext,mn=fl(V.nextSibling),pn=u,Zr=!0,Pa=null,si=!1,o!==null&&os(u,o),u=Fp(u,g),u.flags|=4096;return u}return o=ss(o.child,{mode:g.mode,children:g.children}),o.ref=u.ref,u.child=o,o.return=u,o}function Bp(o,u){var d=u.ref;if(d===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(o===null||o.ref!==d)&&(u.flags|=4194816)}}function Pg(o,u,d,g,E){return gu(u),d=Td(o,u,d,g,void 0,E),g=Ad(),o!==null&&!ga?(Ld(o,u,E),Wu(o,u,E)):(Zr&&g&&aa(u),u.flags|=1,us(o,u,d,E),u.child)}function cx(o,u,d,g,E,N){return gu(u),u.updateQueue=null,d=Rl(u,g,d,E),nf(o),g=Ad(),o!==null&&!ga?(Ld(o,u,N),Wu(o,u,N)):(Zr&&g&&aa(u),u.flags|=1,us(o,u,d,N),u.child)}function hx(o,u,d,g,E){if(gu(u),u.stateNode===null){var N=Bi,V=d.contextType;typeof V=="object"&&V!==null&&(N=Oa(V)),N=new d(g,N),u.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Cg,u.stateNode=N,N._reactInternals=u,N=u.stateNode,N.props=g,N.state=u.memoizedState,N.refs={},Rt(u),V=d.contextType,N.context=typeof V=="object"&&V!==null?Oa(V):Bi,N.state=u.memoizedState,V=d.getDerivedStateFromProps,typeof V=="function"&&(Ng(u,d,V,g),N.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(V=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),V!==N.state&&Cg.enqueueReplaceState(N,N.state,null),Ui(u,g,N,E),Vn(),N.state=u.memoizedState),typeof N.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(o===null){N=u.stateNode;var fe=u.memoizedProps,ke=mh(d,fe);N.props=ke;var et=N.context,ct=d.contextType;V=Bi,typeof ct=="object"&&ct!==null&&(V=Oa(ct));var vt=d.getDerivedStateFromProps;ct=typeof vt=="function"||typeof N.getSnapshotBeforeUpdate=="function",fe=u.pendingProps!==fe,ct||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(fe||et!==V)&&Xy(u,N,g,V),qt=!1;var rt=u.memoizedState;N.state=rt,Ui(u,g,N,E),Vn(),et=u.memoizedState,fe||rt!==et||qt?(typeof vt=="function"&&(Ng(u,d,vt,g),et=u.memoizedState),(ke=qt||Ky(u,d,ke,g,rt,et,V))?(ct||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(u.flags|=4194308)):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=et),N.props=g,N.state=et,N.context=V,g=ke):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{N=u.stateNode,di(o,u),V=u.memoizedProps,ct=mh(d,V),N.props=ct,vt=u.pendingProps,rt=N.context,et=d.contextType,ke=Bi,typeof et=="object"&&et!==null&&(ke=Oa(et)),fe=d.getDerivedStateFromProps,(et=typeof fe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==vt||rt!==ke)&&Xy(u,N,g,ke),qt=!1,rt=u.memoizedState,N.state=rt,Ui(u,g,N,E),Vn();var nt=u.memoizedState;V!==vt||rt!==nt||qt||o!==null&&o.dependencies!==null&&Qh(o.dependencies)?(typeof fe=="function"&&(Ng(u,d,fe,g),nt=u.memoizedState),(ct=qt||Ky(u,d,ct,g,rt,nt,ke)||o!==null&&o.dependencies!==null&&Qh(o.dependencies))?(et||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,nt,ke),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,nt,ke)),typeof N.componentDidUpdate=="function"&&(u.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===o.memoizedProps&&rt===o.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&rt===o.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=nt),N.props=g,N.state=nt,N.context=ke,g=ct):(typeof N.componentDidUpdate!="function"||V===o.memoizedProps&&rt===o.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&rt===o.memoizedState||(u.flags|=1024),g=!1)}return N=g,Bp(o,u),g=(u.flags&128)!==0,N||g?(N=u.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:N.render(),u.flags|=1,o!==null&&g?(u.child=Qn(u,o.child,null,E),u.child=Qn(u,null,d,E)):us(o,u,d,E),u.memoizedState=N.state,o=u.child):o=Wu(o,u,E),o}function fx(o,u,d,g){return Ol(),u.flags|=256,us(o,u,d,g),u.child}var Og={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rg(o){return{baseLanes:o,cachePool:Te()}}function Dg(o,u,d){return o=o!==null?o.childLanes&~d:0,u&&(o|=Ho),o}function dx(o,u,d){var g=u.pendingProps,E=!1,N=(u.flags&128)!==0,V;if((V=N)||(V=o!==null&&o.memoizedState===null?!1:(hn.current&2)!==0),V&&(E=!0,u.flags&=-129),V=(u.flags&32)!==0,u.flags&=-33,o===null){if(Zr){if(E?Di(u):Hi(),(o=mn)?(o=ww(o,si),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:tt!==null?{id:pt,overflow:kt}:null,retryLane:536870912,hydrationErrors:null},d=Gu(o),d.return=u,u.child=d,pn=u,mn=null)):o=null,o===null)throw ul(u);return vv(o)?u.lanes=32:u.lanes=536870912,null}var fe=g.children;return g=g.fallback,E?(Hi(),E=u.mode,fe=Up({mode:"hidden",children:fe},E),g=ll(g,E,d,null),fe.return=u,g.return=u,fe.sibling=g,u.child=fe,g=u.child,g.memoizedState=Rg(d),g.childLanes=Dg(o,V,d),u.memoizedState=Og,Rd(null,g)):(Di(u),jg(u,fe))}var ke=o.memoizedState;if(ke!==null&&(fe=ke.dehydrated,fe!==null)){if(N)u.flags&256?(Di(u),u.flags&=-257,u=Ig(o,u,d)):u.memoizedState!==null?(Hi(),u.child=o.child,u.flags|=128,u=null):(Hi(),fe=g.fallback,E=u.mode,g=Up({mode:"visible",children:g.children},E),fe=ll(fe,E,d,null),fe.flags|=2,g.return=u,fe.return=u,g.sibling=fe,u.child=g,Qn(u,o.child,null,d),g=u.child,g.memoizedState=Rg(d),g.childLanes=Dg(o,V,d),u.memoizedState=Og,u=Rd(null,g));else if(Di(u),vv(fe)){if(V=fe.nextSibling&&fe.nextSibling.dataset,V)var et=V.dgst;V=et,g=Error(n(419)),g.stack="",g.digest=V,fu({value:g,source:null,stack:null}),u=Ig(o,u,d)}else if(ga||mu(o,u,d,!1),V=(d&o.childLanes)!==0,ga||V){if(V=ei,V!==null&&(g=Ge(V,d),g!==0&&g!==ke.retryLane))throw ke.retryLane=g,Ls(o,g),yo(V,o,g),kg;gv(fe)||Yp(),u=Ig(o,u,d)}else gv(fe)?(u.flags|=192,u.child=o.child,u=null):(o=ke.treeContext,mn=fl(fe.nextSibling),pn=u,Zr=!0,Pa=null,si=!1,o!==null&&os(u,o),u=jg(u,g.children),u.flags|=4096);return u}return E?(Hi(),fe=g.fallback,E=u.mode,ke=o.child,et=ke.sibling,g=ss(ke,{mode:"hidden",children:g.children}),g.subtreeFlags=ke.subtreeFlags&65011712,et!==null?fe=ss(et,fe):(fe=ll(fe,E,d,null),fe.flags|=2),fe.return=u,g.return=u,g.sibling=fe,u.child=g,Rd(null,g),g=u.child,fe=o.child.memoizedState,fe===null?fe=Rg(d):(E=fe.cachePool,E!==null?(ke=Ri._currentValue,E=E.parent!==ke?{parent:ke,pool:ke}:E):E=Te(),fe={baseLanes:fe.baseLanes|d,cachePool:E}),g.memoizedState=fe,g.childLanes=Dg(o,V,d),u.memoizedState=Og,Rd(o.child,g)):(Di(u),d=o.child,o=d.sibling,d=ss(d,{mode:"visible",children:g.children}),d.return=u,d.sibling=null,o!==null&&(V=u.deletions,V===null?(u.deletions=[o],u.flags|=16):V.push(o)),u.child=d,u.memoizedState=null,d)}function jg(o,u){return u=Up({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Up(o,u){return o=ia(22,o,null,u),o.lanes=0,o}function Ig(o,u,d){return Qn(u,o.child,null,d),o=jg(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function px(o,u,d){o.lanes|=u;var g=o.alternate;g!==null&&(g.lanes|=u),wc(o.return,u,d)}function Fg(o,u,d,g,E,N){var V=o.memoizedState;V===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:E,treeForkCount:N}:(V.isBackwards=u,V.rendering=null,V.renderingStartTime=0,V.last=g,V.tail=d,V.tailMode=E,V.treeForkCount=N)}function mx(o,u,d){var g=u.pendingProps,E=g.revealOrder,N=g.tail;g=g.children;var V=hn.current,fe=(V&2)!==0;if(fe?(V=V&1|2,u.flags|=128):V&=1,H(hn,V),us(o,u,g,d),g=Zr?ae:0,!fe&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&px(o,d,u);else if(o.tag===19)px(o,d,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(E){case"forwards":for(d=u.child,E=null;d!==null;)o=d.alternate,o!==null&&qa(o)===null&&(E=d),d=d.sibling;d=E,d===null?(E=u.child,u.child=null):(E=d.sibling,d.sibling=null),Fg(u,!1,E,d,N,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,E=u.child,u.child=null;E!==null;){if(o=E.alternate,o!==null&&qa(o)===null){u.child=E;break}o=E.sibling,E.sibling=d,d=E,E=o}Fg(u,!0,d,null,N,g);break;case"together":Fg(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function Wu(o,u,d){if(o!==null&&(u.dependencies=o.dependencies),Cc|=u.lanes,(d&u.childLanes)===0)if(o!==null){if(mu(o,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,d=ss(o,o.pendingProps),u.child=d,d.return=u;o.sibling!==null;)o=o.sibling,d=d.sibling=ss(o,o.pendingProps),d.return=u;d.sibling=null}return u.child}function Bg(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Qh(o)))}function ST(o,u,d){switch(u.tag){case 3:Oe(u,u.stateNode.containerInfo),pu(u,Ri,o.memoizedState.cache),Ol();break;case 27:case 5:Ie(u);break;case 4:Oe(u,u.stateNode.containerInfo);break;case 10:pu(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Ln(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Di(u),u.flags|=128,null):(d&u.child.childLanes)!==0?dx(o,u,d):(Di(u),o=Wu(o,u,d),o!==null?o.sibling:null);Di(u);break;case 19:var E=(o.flags&128)!==0;if(g=(d&u.childLanes)!==0,g||(mu(o,u,d,!1),g=(d&u.childLanes)!==0),E){if(g)return mx(o,u,d);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),H(hn,hn.current),g)break;return null;case 22:return u.lanes=0,ox(o,u,d,u.pendingProps);case 24:pu(u,Ri,o.memoizedState.cache)}return Wu(o,u,d)}function gx(o,u,d){if(o!==null)if(o.memoizedProps!==u.pendingProps)ga=!0;else{if(!Bg(o,d)&&(u.flags&128)===0)return ga=!1,ST(o,u,d);ga=(o.flags&131072)!==0}else ga=!1,Zr&&(u.flags&1048576)!==0&&Ur(u,ae,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(o=Xe(u.elementType),u.type=o,typeof o=="function")zu(o)?(g=mh(o,g),u.tag=1,u=hx(null,u,o,g,d)):(u.tag=0,u=Pg(null,u,o,g,d));else{if(o!=null){var E=o.$$typeof;if(E===B){u.tag=11,u=ix(null,u,o,g,d);break e}else if(E===F){u.tag=14,u=ax(null,u,o,g,d);break e}}throw u=pe(o)||o,Error(n(306,u,""))}}return u;case 0:return Pg(o,u,u.type,u.pendingProps,d);case 1:return g=u.type,E=mh(g,u.pendingProps),hx(o,u,g,E,d);case 3:e:{if(Oe(u,u.stateNode.containerInfo),o===null)throw Error(n(387));g=u.pendingProps;var N=u.memoizedState;E=N.element,di(o,u),Ui(u,g,null,d);var V=u.memoizedState;if(g=V.cache,pu(u,Ri,g),g!==N.cache&&Hu(u,[Ri],d,!0),Vn(),g=V.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:V.cache},u.updateQueue.baseState=N,u.memoizedState=N,u.flags&256){u=fx(o,u,g,d);break e}else if(g!==E){E=m(Error(n(424)),u),fu(E),u=fx(o,u,g,d);break e}else for(o=u.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,mn=fl(o.firstChild),pn=u,Zr=!0,Pa=null,si=!0,d=jr(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ol(),g===E){u=Wu(o,u,d);break e}us(o,u,g,d)}u=u.child}return u;case 26:return Bp(o,u),o===null?(d=Lw(u.type,null,u.pendingProps,null))?u.memoizedState=d:Zr||(d=u.type,o=u.pendingProps,g=rm(se.current).createElement(d),g[ne]=u,g[he]=o,cs(g,d,o),Bt(g),u.stateNode=g):u.memoizedState=Lw(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ie(u),o===null&&Zr&&(g=u.stateNode=Ew(u.type,u.pendingProps,se.current),pn=u,si=!0,E=mn,Rc(u.type)?(_v=E,mn=fl(g.firstChild)):mn=E),us(o,u,u.pendingProps.children,d),Bp(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Zr&&((E=g=mn)&&(g=QT(g,u.type,u.pendingProps,si),g!==null?(u.stateNode=g,pn=u,mn=fl(g.firstChild),si=!1,E=!0):E=!1),E||ul(u)),Ie(u),E=u.type,N=u.pendingProps,V=o!==null?o.memoizedProps:null,g=N.children,dv(E,N)?g=null:V!==null&&dv(E,V)&&(u.flags|=32),u.memoizedState!==null&&(E=Td(o,u,xg,null,null,d),Yd._currentValue=E),Bp(o,u),us(o,u,g,d),u.child;case 6:return o===null&&Zr&&((o=d=mn)&&(d=eA(d,u.pendingProps,si),d!==null?(u.stateNode=d,pn=u,mn=null,o=!0):o=!1),o||ul(u)),null;case 13:return dx(o,u,d);case 4:return Oe(u,u.stateNode.containerInfo),g=u.pendingProps,o===null?u.child=Qn(u,null,g,d):us(o,u,g,d),u.child;case 11:return ix(o,u,u.type,u.pendingProps,d);case 7:return us(o,u,u.pendingProps,d),u.child;case 8:return us(o,u,u.pendingProps.children,d),u.child;case 12:return us(o,u,u.pendingProps.children,d),u.child;case 10:return g=u.pendingProps,pu(u,u.type,g.value),us(o,u,g.children,d),u.child;case 9:return E=u.type._context,g=u.pendingProps.children,gu(u),E=Oa(E),g=g(E),u.flags|=1,us(o,u,g,d),u.child;case 14:return ax(o,u,u.type,u.pendingProps,d);case 15:return sx(o,u,u.type,u.pendingProps,d);case 19:return mx(o,u,d);case 31:return bT(o,u,d);case 22:return ox(o,u,d,u.pendingProps);case 24:return gu(u),g=Oa(Ri),o===null?(E=ge(),E===null&&(E=ei,N=bc(),E.pooledCache=N,N.refCount++,N!==null&&(E.pooledCacheLanes|=d),E=N),u.memoizedState={parent:g,cache:E},Rt(u),pu(u,Ri,E)):((o.lanes&d)!==0&&(di(o,u),Ui(u,null,null,d),Vn()),E=o.memoizedState,N=u.memoizedState,E.parent!==g?(E={parent:g,cache:g},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),pu(u,Ri,g)):(g=N.cache,pu(u,Ri,g),g!==E.cache&&Hu(u,[Ri],d,!0))),us(o,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function Zu(o){o.flags|=4}function Ug(o,u,d,g,E){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(E&335544128)===E)if(o.stateNode.complete)o.flags|=8192;else if(Hx())o.flags|=8192;else throw st=He,Je}else o.flags&=-16777217}function vx(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Pw(u))if(Hx())o.flags|=8192;else throw st=He,Je}function zp(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Ji():536870912,o.lanes|=u,mf|=u)}function Dd(o,u){if(!Zr)switch(o.tailMode){case"hidden":u=o.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function gi(o){var u=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(u)for(var E=o.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags&65011712,g|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags,g|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=g,o.childLanes=d,u}function ET(o,u,d){var g=u.pendingProps;switch(fi(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(u),null;case 1:return gi(u),null;case 3:return d=u.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),fo(Ri),Re(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(bi(u)?Zu(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,ch())),gi(u),null;case 26:var E=u.type,N=u.memoizedState;return o===null?(Zu(u),N!==null?(gi(u),vx(u,N)):(gi(u),Ug(u,E,null,g,d))):N?N!==o.memoizedState?(Zu(u),gi(u),vx(u,N)):(gi(u),u.flags&=-16777217):(o=o.memoizedProps,o!==g&&Zu(u),gi(u),Ug(u,E,o,g,d)),null;case 27:if(ot(u),d=se.current,E=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==g&&Zu(u);else{if(!g){if(u.stateNode===null)throw Error(n(166));return gi(u),null}o=q.current,bi(u)?xc(u):(o=Ew(E,g,d),u.stateNode=o,Zu(u))}return gi(u),null;case 5:if(ot(u),E=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==g&&Zu(u);else{if(!g){if(u.stateNode===null)throw Error(n(166));return gi(u),null}if(N=q.current,bi(u))xc(u);else{var V=rm(se.current);switch(N){case 1:N=V.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:N=V.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":N=V.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":N=V.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":N=V.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof g.is=="string"?V.createElement("select",{is:g.is}):V.createElement("select"),g.multiple?N.multiple=!0:g.size&&(N.size=g.size);break;default:N=typeof g.is=="string"?V.createElement(E,{is:g.is}):V.createElement(E)}}N[ne]=u,N[he]=g;e:for(V=u.child;V!==null;){if(V.tag===5||V.tag===6)N.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===u)break e;for(;V.sibling===null;){if(V.return===null||V.return===u)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}u.stateNode=N;e:switch(cs(N,E,g),E){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Zu(u)}}return gi(u),Ug(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,d),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==g&&Zu(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(n(166));if(o=se.current,bi(u)){if(o=u.stateNode,d=u.memoizedProps,g=null,E=pn,E!==null)switch(E.tag){case 27:case 5:g=E.memoizedProps}o[ne]=u,o=!!(o.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||dw(o.nodeValue,d)),o||ul(u,!0)}else o=rm(o).createTextNode(g),o[ne]=u,u.stateNode=o}return gi(u),null;case 31:if(d=u.memoizedState,o===null||o.memoizedState!==null){if(g=bi(u),d!==null){if(o===null){if(!g)throw Error(n(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[ne]=u}else Ol(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;gi(u),o=!1}else d=ch(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return u.flags&256?(In(u),u):(In(u),null);if((u.flags&128)!==0)throw Error(n(558))}return gi(u),null;case 13:if(g=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=bi(u),g!==null&&g.dehydrated!==null){if(o===null){if(!E)throw Error(n(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[ne]=u}else Ol(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;gi(u),E=!1}else E=ch(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(In(u),u):(In(u),null)}return In(u),(u.flags&128)!==0?(u.lanes=d,u):(d=g!==null,o=o!==null&&o.memoizedState!==null,d&&(g=u.child,E=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(E=g.alternate.memoizedState.cachePool.pool),N=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(N=g.memoizedState.cachePool.pool),N!==E&&(g.flags|=2048)),d!==o&&d&&(u.child.flags|=8192),zp(u,u.updateQueue),gi(u),null);case 4:return Re(),o===null&&lv(u.stateNode.containerInfo),gi(u),null;case 10:return fo(u.type),gi(u),null;case 19:if(O(hn),g=u.memoizedState,g===null)return gi(u),null;if(E=(u.flags&128)!==0,N=g.rendering,N===null)if(E)Dd(g,!1);else{if(Vi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(N=qa(o),N!==null){for(u.flags|=128,Dd(g,!1),o=N.updateQueue,u.updateQueue=o,zp(u,o),u.subtreeFlags=0,o=d,d=u.child;d!==null;)uu(d,o),d=d.sibling;return H(hn,hn.current&1|2),Zr&&tr(u,g.treeForkCount),u.child}o=o.sibling}g.tail!==null&&Jt()>$p&&(u.flags|=128,E=!0,Dd(g,!1),u.lanes=4194304)}else{if(!E)if(o=qa(N),o!==null){if(u.flags|=128,E=!0,o=o.updateQueue,u.updateQueue=o,zp(u,o),Dd(g,!0),g.tail===null&&g.tailMode==="hidden"&&!N.alternate&&!Zr)return gi(u),null}else 2*Jt()-g.renderingStartTime>$p&&d!==536870912&&(u.flags|=128,E=!0,Dd(g,!1),u.lanes=4194304);g.isBackwards?(N.sibling=u.child,u.child=N):(o=g.last,o!==null?o.sibling=N:u.child=N,g.last=N)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Jt(),o.sibling=null,d=hn.current,H(hn,E?d&1|2:d&1),Zr&&tr(u,g.treeForkCount),o):(gi(u),null);case 22:case 23:return In(u),oa(),g=u.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(d&536870912)!==0&&(u.flags&128)===0&&(gi(u),u.subtreeFlags&6&&(u.flags|=8192)):gi(u),d=u.updateQueue,d!==null&&zp(u,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048),o!==null&&O(le),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),fo(Ri),gi(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function TT(o,u){switch(fi(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return fo(Ri),Re(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return ot(u),null;case 31:if(u.memoizedState!==null){if(In(u),u.alternate===null)throw Error(n(340));Ol()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(In(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Ol()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return O(hn),null;case 4:return Re(),null;case 10:return fo(u.type),null;case 22:case 23:return In(u),oa(),o!==null&&O(le),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return fo(Ri),null;case 25:return null;default:return null}}function _x(o,u){switch(fi(u),u.tag){case 3:fo(Ri),Re();break;case 26:case 27:case 5:ot(u);break;case 4:Re();break;case 31:u.memoizedState!==null&&In(u);break;case 13:In(u);break;case 19:O(hn);break;case 10:fo(u.type);break;case 22:case 23:In(u),oa(),o!==null&&O(le);break;case 24:fo(Ri)}}function jd(o,u){try{var d=u.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var E=g.next;d=E;do{if((d.tag&o)===o){g=void 0;var N=d.create,V=d.inst;g=N(),V.destroy=g}d=d.next}while(d!==E)}}catch(fe){Bn(u,u.return,fe)}}function Lc(o,u,d){try{var g=u.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var N=E.next;g=N;do{if((g.tag&o)===o){var V=g.inst,fe=V.destroy;if(fe!==void 0){V.destroy=void 0,E=u;var ke=d,et=fe;try{et()}catch(ct){Bn(E,ke,ct)}}}g=g.next}while(g!==N)}}catch(ct){Bn(u,u.return,ct)}}function yx(o){var u=o.updateQueue;if(u!==null){var d=o.stateNode;try{zi(u,d)}catch(g){Bn(o,o.return,g)}}}function xx(o,u,d){d.props=mh(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(g){Bn(o,u,g)}}function Id(o,u){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof d=="function"?o.refCleanup=d(g):d.current=g}}catch(E){Bn(o,u,E)}}function wu(o,u){var d=o.ref,g=o.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(E){Bn(o,u,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){Bn(o,u,E)}else d.current=null}function wx(o){var u=o.type,d=o.memoizedProps,g=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(E){Bn(o,o.return,E)}}function zg(o,u,d){try{var g=o.stateNode;WT(g,o.type,d,u),g[he]=u}catch(E){Bn(o,o.return,E)}}function bx(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Rc(o.type)||o.tag===4}function Gg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||bx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Rc(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Hg(o,u,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(o),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Ba));else if(g!==4&&(g===27&&Rc(o.type)&&(d=o.stateNode,u=null),o=o.child,o!==null))for(Hg(o,u,d),o=o.sibling;o!==null;)Hg(o,u,d),o=o.sibling}function Gp(o,u,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?d.insertBefore(o,u):d.appendChild(o);else if(g!==4&&(g===27&&Rc(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(Gp(o,u,d),o=o.sibling;o!==null;)Gp(o,u,d),o=o.sibling}function Sx(o){var u=o.stateNode,d=o.memoizedProps;try{for(var g=o.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);cs(u,g,d),u[ne]=o,u[he]=d}catch(N){Bn(o,o.return,N)}}var Yu=!1,va=!1,qg=!1,Ex=typeof WeakSet=="function"?WeakSet:Set,Va=null;function AT(o,u){if(o=o.containerInfo,hv=um,o=Ts(o),Na(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var E=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var V=0,fe=-1,ke=-1,et=0,ct=0,vt=o,rt=null;t:for(;;){for(var nt;vt!==d||E!==0&&vt.nodeType!==3||(fe=V+E),vt!==N||g!==0&&vt.nodeType!==3||(ke=V+g),vt.nodeType===3&&(V+=vt.nodeValue.length),(nt=vt.firstChild)!==null;)rt=vt,vt=nt;for(;;){if(vt===o)break t;if(rt===d&&++et===E&&(fe=V),rt===N&&++ct===g&&(ke=V),(nt=vt.nextSibling)!==null)break;vt=rt,rt=vt.parentNode}vt=nt}d=fe===-1||ke===-1?null:{start:fe,end:ke}}else d=null}d=d||{start:0,end:0}}else d=null;for(fv={focusedElem:o,selectionRange:d},um=!1,Va=u;Va!==null;)if(u=Va,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Va=o;else for(;Va!==null;){switch(u=Va,N=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)E=o[d],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&N!==null){o=void 0,d=u,E=N.memoizedProps,N=N.memoizedState,g=d.stateNode;try{var rr=mh(d.type,E);o=g.getSnapshotBeforeUpdate(rr,N),g.__reactInternalSnapshotBeforeUpdate=o}catch(Tr){Bn(d,d.return,Tr)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,d=o.nodeType,d===9)mv(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":mv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=u.sibling,o!==null){o.return=u.return,Va=o;break}Va=u.return}}function Tx(o,u,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Xu(o,d),g&4&&jd(5,d);break;case 1:if(Xu(o,d),g&4)if(o=d.stateNode,u===null)try{o.componentDidMount()}catch(V){Bn(d,d.return,V)}else{var E=mh(d.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(E,u,o.__reactInternalSnapshotBeforeUpdate)}catch(V){Bn(d,d.return,V)}}g&64&&yx(d),g&512&&Id(d,d.return);break;case 3:if(Xu(o,d),g&64&&(o=d.updateQueue,o!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{zi(o,u)}catch(V){Bn(d,d.return,V)}}break;case 27:u===null&&g&4&&Sx(d);case 26:case 5:Xu(o,d),u===null&&g&4&&wx(d),g&512&&Id(d,d.return);break;case 12:Xu(o,d);break;case 31:Xu(o,d),g&4&&Nx(o,d);break;case 13:Xu(o,d),g&4&&Cx(o,d),g&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=DT.bind(null,d),tA(o,d))));break;case 22:if(g=d.memoizedState!==null||Yu,!g){u=u!==null&&u.memoizedState!==null||va,E=Yu;var N=va;Yu=g,(va=u)&&!N?Ju(o,d,(d.subtreeFlags&8772)!==0):Xu(o,d),Yu=E,va=N}break;case 30:break;default:Xu(o,d)}}function Ax(o){var u=o.alternate;u!==null&&(o.alternate=null,Ax(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&ht(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ti=null,mo=!1;function Ku(o,u,d){for(d=d.child;d!==null;)Lx(o,u,d),d=d.sibling}function Lx(o,u,d){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Mr,d)}catch{}switch(d.tag){case 26:va||wu(d,u),Ku(o,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:va||wu(d,u);var g=Ti,E=mo;Rc(d.type)&&(Ti=d.stateNode,mo=!1),Ku(o,u,d),$d(d.stateNode),Ti=g,mo=E;break;case 5:va||wu(d,u);case 6:if(g=Ti,E=mo,Ti=null,Ku(o,u,d),Ti=g,mo=E,Ti!==null)if(mo)try{(Ti.nodeType===9?Ti.body:Ti.nodeName==="HTML"?Ti.ownerDocument.body:Ti).removeChild(d.stateNode)}catch(N){Bn(d,u,N)}else try{Ti.removeChild(d.stateNode)}catch(N){Bn(d,u,N)}break;case 18:Ti!==null&&(mo?(o=Ti,yw(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),Sf(o)):yw(Ti,d.stateNode));break;case 4:g=Ti,E=mo,Ti=d.stateNode.containerInfo,mo=!0,Ku(o,u,d),Ti=g,mo=E;break;case 0:case 11:case 14:case 15:Lc(2,d,u),va||Lc(4,d,u),Ku(o,u,d);break;case 1:va||(wu(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"&&xx(d,u,g)),Ku(o,u,d);break;case 21:Ku(o,u,d);break;case 22:va=(g=va)||d.memoizedState!==null,Ku(o,u,d),va=g;break;default:Ku(o,u,d)}}function Nx(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Sf(o)}catch(d){Bn(u,u.return,d)}}}function Cx(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Sf(o)}catch(d){Bn(u,u.return,d)}}function LT(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new Ex),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new Ex),u;default:throw Error(n(435,o.tag))}}function Hp(o,u){var d=LT(o);u.forEach(function(g){if(!d.has(g)){d.add(g);var E=jT.bind(null,o,g);g.then(E,E)}})}function go(o,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var E=d[g],N=o,V=u,fe=V;e:for(;fe!==null;){switch(fe.tag){case 27:if(Rc(fe.type)){Ti=fe.stateNode,mo=!1;break e}break;case 5:Ti=fe.stateNode,mo=!1;break e;case 3:case 4:Ti=fe.stateNode.containerInfo,mo=!0;break e}fe=fe.return}if(Ti===null)throw Error(n(160));Lx(N,V,E),Ti=null,mo=!1,N=E.alternate,N!==null&&(N.return=null),E.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)Mx(u,o),u=u.sibling}var Fl=null;function Mx(o,u){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:go(u,o),vo(o),g&4&&(Lc(3,o,o.return),jd(3,o),Lc(5,o,o.return));break;case 1:go(u,o),vo(o),g&512&&(va||d===null||wu(d,d.return)),g&64&&Yu&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var E=Fl;if(go(u,o),vo(o),g&512&&(va||d===null||wu(d,d.return)),g&4){var N=d!==null?d.memoizedState:null;if(g=o.memoizedState,d===null)if(g===null)if(o.stateNode===null){e:{g=o.type,d=o.memoizedProps,E=E.ownerDocument||E;t:switch(g){case"title":N=E.getElementsByTagName("title")[0],(!N||N[$e]||N[ne]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=E.createElement(g),E.head.insertBefore(N,E.querySelector("head > title"))),cs(N,g,d),N[ne]=o,Bt(N),g=N;break e;case"link":var V=Mw("link","href",E).get(g+(d.href||""));if(V){for(var fe=0;fe<V.length;fe++)if(N=V[fe],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){V.splice(fe,1);break t}}N=E.createElement(g),cs(N,g,d),E.head.appendChild(N);break;case"meta":if(V=Mw("meta","content",E).get(g+(d.content||""))){for(fe=0;fe<V.length;fe++)if(N=V[fe],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){V.splice(fe,1);break t}}N=E.createElement(g),cs(N,g,d),E.head.appendChild(N);break;default:throw Error(n(468,g))}N[ne]=o,Bt(N),g=N}o.stateNode=g}else kw(E,o.type,o.stateNode);else o.stateNode=Cw(E,g,o.memoizedProps);else N!==g?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,g===null?kw(E,o.type,o.stateNode):Cw(E,g,o.memoizedProps)):g===null&&o.stateNode!==null&&zg(o,o.memoizedProps,d.memoizedProps)}break;case 27:go(u,o),vo(o),g&512&&(va||d===null||wu(d,d.return)),d!==null&&g&4&&zg(o,o.memoizedProps,d.memoizedProps);break;case 5:if(go(u,o),vo(o),g&512&&(va||d===null||wu(d,d.return)),o.flags&32){E=o.stateNode;try{Ta(E,"")}catch(rr){Bn(o,o.return,rr)}}g&4&&o.stateNode!=null&&(E=o.memoizedProps,zg(o,E,d!==null?d.memoizedProps:E)),g&1024&&(qg=!0);break;case 6:if(go(u,o),vo(o),g&4){if(o.stateNode===null)throw Error(n(162));g=o.memoizedProps,d=o.stateNode;try{d.nodeValue=g}catch(rr){Bn(o,o.return,rr)}}break;case 3:if(am=null,E=Fl,Fl=nm(u.containerInfo),go(u,o),Fl=E,vo(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Sf(u.containerInfo)}catch(rr){Bn(o,o.return,rr)}qg&&(qg=!1,kx(o));break;case 4:g=Fl,Fl=nm(o.stateNode.containerInfo),go(u,o),vo(o),Fl=g;break;case 12:go(u,o),vo(o);break;case 31:go(u,o),vo(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Hp(o,g)));break;case 13:go(u,o),vo(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Vp=Jt()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Hp(o,g)));break;case 22:E=o.memoizedState!==null;var ke=d!==null&&d.memoizedState!==null,et=Yu,ct=va;if(Yu=et||E,va=ct||ke,go(u,o),va=ct,Yu=et,vo(o),g&8192)e:for(u=o.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(d===null||ke||Yu||va||gh(o)),d=null,u=o;;){if(u.tag===5||u.tag===26){if(d===null){ke=d=u;try{if(N=ke.stateNode,E)V=N.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{fe=ke.stateNode;var vt=ke.memoizedProps.style,rt=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;fe.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(rr){Bn(ke,ke.return,rr)}}}else if(u.tag===6){if(d===null){ke=u;try{ke.stateNode.nodeValue=E?"":ke.memoizedProps}catch(rr){Bn(ke,ke.return,rr)}}}else if(u.tag===18){if(d===null){ke=u;try{var nt=ke.stateNode;E?xw(nt,!0):xw(ke.stateNode,!1)}catch(rr){Bn(ke,ke.return,rr)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=o.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Hp(o,d))));break;case 19:go(u,o),vo(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Hp(o,g)));break;case 30:break;case 21:break;default:go(u,o),vo(o)}}function vo(o){var u=o.flags;if(u&2){try{for(var d,g=o.return;g!==null;){if(bx(g)){d=g;break}g=g.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var E=d.stateNode,N=Gg(o);Gp(o,N,E);break;case 5:var V=d.stateNode;d.flags&32&&(Ta(V,""),d.flags&=-33);var fe=Gg(o);Gp(o,fe,V);break;case 3:case 4:var ke=d.stateNode.containerInfo,et=Gg(o);Hg(o,et,ke);break;default:throw Error(n(161))}}catch(ct){Bn(o,o.return,ct)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function kx(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;kx(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Xu(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Tx(o,u.alternate,u),u=u.sibling}function gh(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Lc(4,u,u.return),gh(u);break;case 1:wu(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&xx(u,u.return,d),gh(u);break;case 27:$d(u.stateNode);case 26:case 5:wu(u,u.return),gh(u);break;case 22:u.memoizedState===null&&gh(u);break;case 30:gh(u);break;default:gh(u)}o=o.sibling}}function Ju(o,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,E=o,N=u,V=N.flags;switch(N.tag){case 0:case 11:case 15:Ju(E,N,d),jd(4,N);break;case 1:if(Ju(E,N,d),g=N,E=g.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(et){Bn(g,g.return,et)}if(g=N,E=g.updateQueue,E!==null){var fe=g.stateNode;try{var ke=E.shared.hiddenCallbacks;if(ke!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ke.length;E++)Ha(ke[E],fe)}catch(et){Bn(g,g.return,et)}}d&&V&64&&yx(N),Id(N,N.return);break;case 27:Sx(N);case 26:case 5:Ju(E,N,d),d&&g===null&&V&4&&wx(N),Id(N,N.return);break;case 12:Ju(E,N,d);break;case 31:Ju(E,N,d),d&&V&4&&Nx(E,N);break;case 13:Ju(E,N,d),d&&V&4&&Cx(E,N);break;case 22:N.memoizedState===null&&Ju(E,N,d),Id(N,N.return);break;case 30:break;default:Ju(E,N,d)}u=u.sibling}}function Vg(o,u){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&hh(d))}function $g(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&hh(o))}function Bl(o,u,d,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Px(o,u,d,g),u=u.sibling}function Px(o,u,d,g){var E=u.flags;switch(u.tag){case 0:case 11:case 15:Bl(o,u,d,g),E&2048&&jd(9,u);break;case 1:Bl(o,u,d,g);break;case 3:Bl(o,u,d,g),E&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&hh(o)));break;case 12:if(E&2048){Bl(o,u,d,g),o=u.stateNode;try{var N=u.memoizedProps,V=N.id,fe=N.onPostCommit;typeof fe=="function"&&fe(V,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ke){Bn(u,u.return,ke)}}else Bl(o,u,d,g);break;case 31:Bl(o,u,d,g);break;case 13:Bl(o,u,d,g);break;case 23:break;case 22:N=u.stateNode,V=u.alternate,u.memoizedState!==null?N._visibility&2?Bl(o,u,d,g):Fd(o,u):N._visibility&2?Bl(o,u,d,g):(N._visibility|=2,ff(o,u,d,g,(u.subtreeFlags&10256)!==0||!1)),E&2048&&Vg(V,u);break;case 24:Bl(o,u,d,g),E&2048&&$g(u.alternate,u);break;default:Bl(o,u,d,g)}}function ff(o,u,d,g,E){for(E=E&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var N=o,V=u,fe=d,ke=g,et=V.flags;switch(V.tag){case 0:case 11:case 15:ff(N,V,fe,ke,E),jd(8,V);break;case 23:break;case 22:var ct=V.stateNode;V.memoizedState!==null?ct._visibility&2?ff(N,V,fe,ke,E):Fd(N,V):(ct._visibility|=2,ff(N,V,fe,ke,E)),E&&et&2048&&Vg(V.alternate,V);break;case 24:ff(N,V,fe,ke,E),E&&et&2048&&$g(V.alternate,V);break;default:ff(N,V,fe,ke,E)}u=u.sibling}}function Fd(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=o,g=u,E=g.flags;switch(g.tag){case 22:Fd(d,g),E&2048&&Vg(g.alternate,g);break;case 24:Fd(d,g),E&2048&&$g(g.alternate,g);break;default:Fd(d,g)}u=u.sibling}}var Bd=8192;function df(o,u,d){if(o.subtreeFlags&Bd)for(o=o.child;o!==null;)Ox(o,u,d),o=o.sibling}function Ox(o,u,d){switch(o.tag){case 26:df(o,u,d),o.flags&Bd&&o.memoizedState!==null&&dA(d,Fl,o.memoizedState,o.memoizedProps);break;case 5:df(o,u,d);break;case 3:case 4:var g=Fl;Fl=nm(o.stateNode.containerInfo),df(o,u,d),Fl=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=Bd,Bd=16777216,df(o,u,d),Bd=g):df(o,u,d));break;default:df(o,u,d)}}function Rx(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Ud(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];Va=g,jx(g,o)}Rx(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Dx(o),o=o.sibling}function Dx(o){switch(o.tag){case 0:case 11:case 15:Ud(o),o.flags&2048&&Lc(9,o,o.return);break;case 3:Ud(o);break;case 12:Ud(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,qp(o)):Ud(o);break;default:Ud(o)}}function qp(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];Va=g,jx(g,o)}Rx(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Lc(8,u,u.return),qp(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,qp(u));break;default:qp(u)}o=o.sibling}}function jx(o,u){for(;Va!==null;){var d=Va;switch(d.tag){case 0:case 11:case 15:Lc(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:hh(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,Va=g;else e:for(d=o;Va!==null;){g=Va;var E=g.sibling,N=g.return;if(Ax(g),g===d){Va=null;break e}if(E!==null){E.return=N,Va=E;break e}Va=N}}}var NT={getCacheForType:function(o){var u=Oa(Ri),d=u.data.get(o);return d===void 0&&(d=o(),u.data.set(o,d)),d},cacheSignal:function(){return Oa(Ri).controller.signal}},CT=typeof WeakMap=="function"?WeakMap:Map,Nn=0,ei=null,tn=null,an=0,Fn=0,Go=null,Nc=!1,pf=!1,Wg=!1,Qu=0,Vi=0,Cc=0,vh=0,Zg=0,Ho=0,mf=0,zd=null,_o=null,Yg=!1,Vp=0,Ix=0,$p=1/0,Wp=null,Mc=null,Da=0,kc=null,gf=null,ec=0,Kg=0,Xg=null,Fx=null,Gd=0,Jg=null;function qo(){return(Nn&2)!==0&&an!==0?an&-an:oe.T!==null?iv():Y()}function Bx(){if(Ho===0)if((an&536870912)===0||Zr){var o=en;en<<=1,(en&3932160)===0&&(en=262144),Ho=o}else Ho=536870912;return o=mi.current,o!==null&&(o.flags|=32),Ho}function yo(o,u,d){(o===ei&&(Fn===2||Fn===9)||o.cancelPendingCommit!==null)&&(vf(o,0),Pc(o,an,Ho,!1)),Qt(o,d),((Nn&2)===0||o!==ei)&&(o===ei&&((Nn&2)===0&&(vh|=d),Vi===4&&Pc(o,an,Ho,!1)),bu(o))}function Ux(o,u,d){if((Nn&6)!==0)throw Error(n(327));var g=!d&&(u&127)===0&&(u&o.expiredLanes)===0||ba(o,u),E=g?PT(o,u):ev(o,u,!0),N=g;do{if(E===0){pf&&!g&&Pc(o,u,0,!1);break}else{if(d=o.current.alternate,N&&!MT(d)){E=ev(o,u,!1),N=!1;continue}if(E===2){if(N=u,o.errorRecoveryDisabledLanes&N)var V=0;else V=o.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){u=V;e:{var fe=o;E=zd;var ke=fe.current.memoizedState.isDehydrated;if(ke&&(vf(fe,V).flags|=256),V=ev(fe,V,!1),V!==2){if(Wg&&!ke){fe.errorRecoveryDisabledLanes|=N,vh|=N,E=4;break e}N=_o,_o=E,N!==null&&(_o===null?_o=N:_o.push.apply(_o,N))}E=V}if(N=!1,E!==2)continue}}if(E===1){vf(o,0),Pc(o,u,0,!0);break}e:{switch(g=o,N=E,N){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:Pc(g,u,Ho,!Nc);break e;case 2:_o=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(E=Vp+300-Jt(),10<E)){if(Pc(g,u,Ho,!Nc),Gr(g,0,!0)!==0)break e;ec=u,g.timeoutHandle=vw(zx.bind(null,g,d,_o,Wp,Yg,u,Ho,vh,mf,Nc,N,"Throttled",-0,0),E);break e}zx(g,d,_o,Wp,Yg,u,Ho,vh,mf,Nc,N,null,-0,0)}}break}while(!0);bu(o)}function zx(o,u,d,g,E,N,V,fe,ke,et,ct,vt,rt,nt){if(o.timeoutHandle=-1,vt=u.subtreeFlags,vt&8192||(vt&16785408)===16785408){vt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ba},Ox(u,N,vt);var rr=(N&62914560)===N?Vp-Jt():(N&4194048)===N?Ix-Jt():0;if(rr=pA(vt,rr),rr!==null){ec=N,o.cancelPendingCommit=rr(Yx.bind(null,o,u,N,d,g,E,V,fe,ke,ct,vt,null,rt,nt)),Pc(o,N,V,!et);return}}Yx(o,u,N,d,g,E,V,fe,ke)}function MT(o){for(var u=o;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var E=d[g],N=E.getSnapshot;E=E.value;try{if(!xi(N(),E))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Pc(o,u,d,g){u&=~Zg,u&=~vh,o.suspendedLanes|=u,o.pingedLanes&=~u,g&&(o.warmLanes|=u),g=o.expirationTimes;for(var E=u;0<E;){var N=31-Dr(E),V=1<<N;g[N]=-1,E&=~V}d!==0&&Fa(o,d,u)}function Zp(){return(Nn&6)===0?(Hd(0),!1):!0}function Qg(){if(tn!==null){if(Fn===0)var o=tn.return;else o=tn,ho=zo=null,af(o),_t=null,nr=0,o=tn;for(;o!==null;)_x(o.alternate,o),o=o.return;tn=null}}function vf(o,u){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,KT(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),ec=0,Qg(),ei=o,tn=d=ss(o.current,null),an=u,Fn=0,Go=null,Nc=!1,pf=ba(o,u),Wg=!1,mf=Ho=Zg=vh=Cc=Vi=0,_o=zd=null,Yg=!1,(u&8)!==0&&(u|=u&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=u;0<g;){var E=31-Dr(g),N=1<<E;u|=o[E],g&=~N}return Qu=u,lu(),d}function Gx(o,u){mr=null,oe.H=Od,u===je||u===Ee?(u=ft(),Fn=3):u===Je?(u=ft(),Fn=4):Fn=u===kg?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Go=u,tn===null&&(Vi=1,Ip(o,m(u,o.current)))}function Hx(){var o=mi.current;return o===null?!0:(an&4194048)===an?vn===null:(an&62914560)===an||(an&536870912)!==0?o===vn:!1}function qx(){var o=oe.H;return oe.H=Od,o===null?Od:o}function Vx(){var o=oe.A;return oe.A=NT,o}function Yp(){Vi=4,Nc||(an&4194048)!==an&&mi.current!==null||(pf=!0),(Cc&134217727)===0&&(vh&134217727)===0||ei===null||Pc(ei,an,Ho,!1)}function ev(o,u,d){var g=Nn;Nn|=2;var E=qx(),N=Vx();(ei!==o||an!==u)&&(Wp=null,vf(o,u)),u=!1;var V=Vi;e:do try{if(Fn!==0&&tn!==null){var fe=tn,ke=Go;switch(Fn){case 8:Qg(),V=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(u=!0);var et=Fn;if(Fn=0,Go=null,_f(o,fe,ke,et),d&&pf){V=0;break e}break;default:et=Fn,Fn=0,Go=null,_f(o,fe,ke,et)}}kT(),V=Vi;break}catch(ct){Gx(o,ct)}while(!0);return u&&o.shellSuspendCounter++,ho=zo=null,Nn=g,oe.H=E,oe.A=N,tn===null&&(ei=null,an=0,lu()),V}function kT(){for(;tn!==null;)$x(tn)}function PT(o,u){var d=Nn;Nn|=2;var g=qx(),E=Vx();ei!==o||an!==u?(Wp=null,$p=Jt()+500,vf(o,u)):pf=ba(o,u);e:do try{if(Fn!==0&&tn!==null){u=tn;var N=Go;t:switch(Fn){case 1:Fn=0,Go=null,_f(o,u,N,1);break;case 2:case 9:if(Ke(N)){Fn=0,Go=null,Wx(u);break}u=function(){Fn!==2&&Fn!==9||ei!==o||(Fn=7),bu(o)},N.then(u,u);break e;case 3:Fn=7;break e;case 4:Fn=5;break e;case 7:Ke(N)?(Fn=0,Go=null,Wx(u)):(Fn=0,Go=null,_f(o,u,N,7));break;case 5:var V=null;switch(tn.tag){case 26:V=tn.memoizedState;case 5:case 27:var fe=tn;if(V?Pw(V):fe.stateNode.complete){Fn=0,Go=null;var ke=fe.sibling;if(ke!==null)tn=ke;else{var et=fe.return;et!==null?(tn=et,Kp(et)):tn=null}break t}}Fn=0,Go=null,_f(o,u,N,5);break;case 6:Fn=0,Go=null,_f(o,u,N,6);break;case 8:Qg(),Vi=6;break e;default:throw Error(n(462))}}OT();break}catch(ct){Gx(o,ct)}while(!0);return ho=zo=null,oe.H=g,oe.A=E,Nn=d,tn!==null?0:(ei=null,an=0,lu(),Vi)}function OT(){for(;tn!==null&&!sr();)$x(tn)}function $x(o){var u=gx(o.alternate,o,Qu);o.memoizedProps=o.pendingProps,u===null?Kp(o):tn=u}function Wx(o){var u=o,d=u.alternate;switch(u.tag){case 15:case 0:u=cx(d,u,u.pendingProps,u.type,void 0,an);break;case 11:u=cx(d,u,u.pendingProps,u.type.render,u.ref,an);break;case 5:af(u);default:_x(d,u),u=tn=uu(u,Qu),u=gx(d,u,Qu)}o.memoizedProps=o.pendingProps,u===null?Kp(o):tn=u}function _f(o,u,d,g){ho=zo=null,af(u),_t=null,nr=0;var E=u.return;try{if(wT(o,E,u,d,an)){Vi=1,Ip(o,m(d,o.current)),tn=null;return}}catch(N){if(E!==null)throw tn=E,N;Vi=1,Ip(o,m(d,o.current)),tn=null;return}u.flags&32768?(Zr||g===1?o=!0:pf||(an&536870912)!==0?o=!1:(Nc=o=!0,(g===2||g===9||g===3||g===6)&&(g=mi.current,g!==null&&g.tag===13&&(g.flags|=16384))),Zx(u,o)):Kp(u)}function Kp(o){var u=o;do{if((u.flags&32768)!==0){Zx(u,Nc);return}o=u.return;var d=ET(u.alternate,u,Qu);if(d!==null){tn=d;return}if(u=u.sibling,u!==null){tn=u;return}tn=u=o}while(u!==null);Vi===0&&(Vi=5)}function Zx(o,u){do{var d=TT(o.alternate,o);if(d!==null){d.flags&=32767,tn=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(o=o.sibling,o!==null)){tn=o;return}tn=o=d}while(o!==null);Vi=6,tn=null}function Yx(o,u,d,g,E,N,V,fe,ke){o.cancelPendingCommit=null;do Xp();while(Da!==0);if((Nn&6)!==0)throw Error(n(327));if(u!==null){if(u===o.current)throw Error(n(177));if(N=u.lanes|u.childLanes,N|=Uu,Ka(o,d,N,V,fe,ke),o===ei&&(tn=ei=null,an=0),gf=u,kc=o,ec=d,Kg=N,Xg=E,Fx=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,IT(or,function(){return ew(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=oe.T,oe.T=null,E=be.p,be.p=2,V=Nn,Nn|=4;try{AT(o,u,d)}finally{Nn=V,be.p=E,oe.T=g}}Da=1,Kx(),Xx(),Jx()}}function Kx(){if(Da===1){Da=0;var o=kc,u=gf,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=oe.T,oe.T=null;var g=be.p;be.p=2;var E=Nn;Nn|=4;try{Mx(u,o);var N=fv,V=Ts(o.containerInfo),fe=N.focusedElem,ke=N.selectionRange;if(V!==fe&&fe&&fe.ownerDocument&&Zs(fe.ownerDocument.documentElement,fe)){if(ke!==null&&Na(fe)){var et=ke.start,ct=ke.end;if(ct===void 0&&(ct=et),"selectionStart"in fe)fe.selectionStart=et,fe.selectionEnd=Math.min(ct,fe.value.length);else{var vt=fe.ownerDocument||document,rt=vt&&vt.defaultView||window;if(rt.getSelection){var nt=rt.getSelection(),rr=fe.textContent.length,Tr=Math.min(ke.start,rr),Zn=ke.end===void 0?Tr:Math.min(ke.end,rr);!nt.extend&&Tr>Zn&&(V=Zn,Zn=Tr,Tr=V);var Ze=Fo(fe,Tr),Fe=Fo(fe,Zn);if(Ze&&Fe&&(nt.rangeCount!==1||nt.anchorNode!==Ze.node||nt.anchorOffset!==Ze.offset||nt.focusNode!==Fe.node||nt.focusOffset!==Fe.offset)){var Qe=vt.createRange();Qe.setStart(Ze.node,Ze.offset),nt.removeAllRanges(),Tr>Zn?(nt.addRange(Qe),nt.extend(Fe.node,Fe.offset)):(Qe.setEnd(Fe.node,Fe.offset),nt.addRange(Qe))}}}}for(vt=[],nt=fe;nt=nt.parentNode;)nt.nodeType===1&&vt.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<vt.length;fe++){var mt=vt[fe];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}um=!!hv,fv=hv=null}finally{Nn=E,be.p=g,oe.T=d}}o.current=u,Da=2}}function Xx(){if(Da===2){Da=0;var o=kc,u=gf,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=oe.T,oe.T=null;var g=be.p;be.p=2;var E=Nn;Nn|=4;try{Tx(o,u.alternate,u)}finally{Nn=E,be.p=g,oe.T=d}}Da=3}}function Jx(){if(Da===4||Da===3){Da=0,Xt();var o=kc,u=gf,d=ec,g=Fx;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Da=5:(Da=0,gf=kc=null,Qx(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(Mc=null),Ye(d),u=u.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Mr,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=oe.T,E=be.p,be.p=2,oe.T=null;try{for(var N=o.onRecoverableError,V=0;V<g.length;V++){var fe=g[V];N(fe.value,{componentStack:fe.stack})}}finally{oe.T=u,be.p=E}}(ec&3)!==0&&Xp(),bu(o),E=o.pendingLanes,(d&261930)!==0&&(E&42)!==0?o===Jg?Gd++:(Gd=0,Jg=o):Gd=0,Hd(0)}}function Qx(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,hh(u)))}function Xp(){return Kx(),Xx(),Jx(),ew()}function ew(){if(Da!==5)return!1;var o=kc,u=Kg;Kg=0;var d=Ye(ec),g=oe.T,E=be.p;try{be.p=32>d?32:d,oe.T=null,d=Xg,Xg=null;var N=kc,V=ec;if(Da=0,gf=kc=null,ec=0,(Nn&6)!==0)throw Error(n(331));var fe=Nn;if(Nn|=4,Dx(N.current),Px(N,N.current,V,d),Nn=fe,Hd(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Mr,N)}catch{}return!0}finally{be.p=E,oe.T=g,Qx(o,u)}}function tw(o,u,d){u=m(d,u),u=Mg(o.stateNode,u,2),o=zr(o,u,2),o!==null&&(Qt(o,2),bu(o))}function Bn(o,u,d){if(o.tag===3)tw(o,o,d);else for(;u!==null;){if(u.tag===3){tw(u,o,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Mc===null||!Mc.has(g))){o=m(d,o),d=rx(2),g=zr(u,d,2),g!==null&&(nx(d,g,u,o),Qt(g,2),bu(g));break}}u=u.return}}function tv(o,u,d){var g=o.pingCache;if(g===null){g=o.pingCache=new CT;var E=new Set;g.set(u,E)}else E=g.get(u),E===void 0&&(E=new Set,g.set(u,E));E.has(d)||(Wg=!0,E.add(d),o=RT.bind(null,o,u,d),u.then(o,o))}function RT(o,u,d){var g=o.pingCache;g!==null&&g.delete(u),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,ei===o&&(an&d)===d&&(Vi===4||Vi===3&&(an&62914560)===an&&300>Jt()-Vp?(Nn&2)===0&&vf(o,0):Zg|=d,mf===an&&(mf=0)),bu(o)}function rw(o,u){u===0&&(u=Ji()),o=Ls(o,u),o!==null&&(Qt(o,u),bu(o))}function DT(o){var u=o.memoizedState,d=0;u!==null&&(d=u.retryLane),rw(o,d)}function jT(o,u){var d=0;switch(o.tag){case 31:case 13:var g=o.stateNode,E=o.memoizedState;E!==null&&(d=E.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(u),rw(o,d)}function IT(o,u){return Vt(o,u)}var Jp=null,yf=null,rv=!1,Qp=!1,nv=!1,Oc=0;function bu(o){o!==yf&&o.next===null&&(yf===null?Jp=yf=o:yf=yf.next=o),Qp=!0,rv||(rv=!0,BT())}function Hd(o,u){if(!nv&&Qp){nv=!0;do for(var d=!1,g=Jp;g!==null;){if(o!==0){var E=g.pendingLanes;if(E===0)var N=0;else{var V=g.suspendedLanes,fe=g.pingedLanes;N=(1<<31-Dr(42|o)+1)-1,N&=E&~(V&~fe),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,sw(g,N))}else N=an,N=Gr(g,g===ei?N:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(N&3)===0||ba(g,N)||(d=!0,sw(g,N));g=g.next}while(d);nv=!1}}function FT(){nw()}function nw(){Qp=rv=!1;var o=0;Oc!==0&&YT()&&(o=Oc);for(var u=Jt(),d=null,g=Jp;g!==null;){var E=g.next,N=iw(g,u);N===0?(g.next=null,d===null?Jp=E:d.next=E,E===null&&(yf=d)):(d=g,(o!==0||(N&3)!==0)&&(Qp=!0)),g=E}Da!==0&&Da!==5||Hd(o),Oc!==0&&(Oc=0)}function iw(o,u){for(var d=o.suspendedLanes,g=o.pingedLanes,E=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var V=31-Dr(N),fe=1<<V,ke=E[V];ke===-1?((fe&d)===0||(fe&g)!==0)&&(E[V]=li(fe,u)):ke<=u&&(o.expiredLanes|=fe),N&=~fe}if(u=ei,d=an,d=Gr(o,o===u?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,d===0||o===u&&(Fn===2||Fn===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&jt(g),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||ba(o,d)){if(u=d&-d,u===o.callbackPriority)return u;switch(g!==null&&jt(g),Ye(d)){case 2:case 8:d=Nr;break;case 32:d=or;break;case 268435456:d=_r;break;default:d=or}return g=aw.bind(null,o),d=Vt(d,g),o.callbackPriority=u,o.callbackNode=d,u}return g!==null&&g!==null&&jt(g),o.callbackPriority=2,o.callbackNode=null,2}function aw(o,u){if(Da!==0&&Da!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(Xp()&&o.callbackNode!==d)return null;var g=an;return g=Gr(o,o===ei?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(Ux(o,g,u),iw(o,Jt()),o.callbackNode!=null&&o.callbackNode===d?aw.bind(null,o):null)}function sw(o,u){if(Xp())return null;Ux(o,u,!0)}function BT(){XT(function(){(Nn&6)!==0?Vt(dr,FT):nw()})}function iv(){if(Oc===0){var o=w;o===0&&(o=cr,cr<<=1,(cr&261888)===0&&(cr=256)),Oc=o}return Oc}function ow(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:fa(""+o)}function lw(o,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,o.id&&d.setAttribute("form",o.id),u.parentNode.insertBefore(d,u),o=new FormData(o),d.parentNode.removeChild(d),o}function UT(o,u,d,g,E){if(u==="submit"&&d&&d.stateNode===E){var N=ow((E[he]||null).action),V=g.submitter;V&&(u=(u=V[he]||null)?ow(u.formAction):V.getAttribute("formAction"),u!==null&&(N=u,V=null));var fe=new ws("action","action",null,g,E);o.push({event:fe,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Oc!==0){var ke=V?lw(E,V):new FormData(E);Eg(d,{pending:!0,data:ke,method:E.method,action:N},null,ke)}}else typeof N=="function"&&(fe.preventDefault(),ke=V?lw(E,V):new FormData(E),Eg(d,{pending:!0,data:ke,method:E.method,action:N},N,ke))},currentTarget:E}]})}}for(var av=0;av<As.length;av++){var sv=As[av],zT=sv.toLowerCase(),GT=sv[0].toUpperCase()+sv.slice(1);is(zT,"on"+GT)}is(co,"onAnimationEnd"),is(Bu,"onAnimationIteration"),is(su,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(Xh,"onTransitionRun"),is(lh,"onTransitionStart"),is(Jh,"onTransitionCancel"),is(kl,"onTransitionEnd"),Kn("onMouseEnter",["mouseout","mouseover"]),Kn("onMouseLeave",["mouseout","mouseover"]),Kn("onPointerEnter",["pointerout","pointerover"]),Kn("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qd));function uw(o,u){u=(u&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],E=g.event;g=g.listeners;e:{var N=void 0;if(u)for(var V=g.length-1;0<=V;V--){var fe=g[V],ke=fe.instance,et=fe.currentTarget;if(fe=fe.listener,ke!==N&&E.isPropagationStopped())break e;N=fe,E.currentTarget=et;try{N(E)}catch(ct){ou(ct)}E.currentTarget=null,N=ke}else for(V=0;V<g.length;V++){if(fe=g[V],ke=fe.instance,et=fe.currentTarget,fe=fe.listener,ke!==N&&E.isPropagationStopped())break e;N=fe,E.currentTarget=et;try{N(E)}catch(ct){ou(ct)}E.currentTarget=null,N=ke}}}}function rn(o,u){var d=u[Pe];d===void 0&&(d=u[Pe]=new Set);var g=o+"__bubble";d.has(g)||(cw(u,o,2,!1),d.add(g))}function ov(o,u,d){var g=0;u&&(g|=4),cw(d,o,g,u)}var em="_reactListening"+Math.random().toString(36).slice(2);function lv(o){if(!o[em]){o[em]=!0,Hr.forEach(function(d){d!=="selectionchange"&&(HT.has(d)||ov(d,!1,o),ov(d,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[em]||(u[em]=!0,ov("selectionchange",!1,u))}}function cw(o,u,d,g){switch(Bw(u)){case 2:var E=vA;break;case 8:E=_A;break;default:E=Sv}d=E.bind(null,u,d,o),E=void 0,!Al||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),g?E!==void 0?o.addEventListener(u,d,{capture:!0,passive:E}):o.addEventListener(u,d,!0):E!==void 0?o.addEventListener(u,d,{passive:E}):o.addEventListener(u,d,!1)}function uv(o,u,d,g,E){var N=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var V=g.tag;if(V===3||V===4){var fe=g.stateNode.containerInfo;if(fe===E)break;if(V===4)for(V=g.return;V!==null;){var ke=V.tag;if((ke===3||ke===4)&&V.stateNode.containerInfo===E)return;V=V.return}for(;fe!==null;){if(V=bt(fe),V===null)return;if(ke=V.tag,ke===5||ke===6||ke===26||ke===27){g=N=V;continue e}fe=fe.parentNode}}g=g.return}ju(function(){var et=N,ct=Mo(d),vt=[];e:{var rt=uh.get(o);if(rt!==void 0){var nt=ws,rr=o;switch(o){case"keypress":if(Qa(d)===0)break e;case"keydown":case"keyup":nt=Xr;break;case"focusin":rr="focus",nt=Po;break;case"focusout":rr="blur",nt=Po;break;case"beforeblur":case"afterblur":nt=Po;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Oi;break;case co:case Bu:case su:nt=k;break;case kl:nt=Ii;break;case"scroll":case"scrollend":nt=Br;break;case"wheel":nt=ta;break;case"copy":case"cut":case"paste":nt=Se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=ui;break;case"toggle":case"beforetoggle":nt=Ro}var Tr=(u&4)!==0,Zn=!Tr&&(o==="scroll"||o==="scrollend"),Ze=Tr?rt!==null?rt+"Capture":null:rt;Tr=[];for(var Fe=et,Qe;Fe!==null;){var mt=Fe;if(Qe=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||Qe===null||Ze===null||(mt=Aa(Fe,Ze),mt!=null&&Tr.push(Vd(Fe,mt,Qe))),Zn)break;Fe=Fe.return}0<Tr.length&&(rt=new nt(rt,rr,null,d,ct),vt.push({event:rt,listeners:Tr}))}}if((u&7)===0){e:{if(rt=o==="mouseover"||o==="pointerover",nt=o==="mouseout"||o==="pointerout",rt&&d!==eo&&(rr=d.relatedTarget||d.fromElement)&&(bt(rr)||rr[ve]))break e;if((nt||rt)&&(rt=ct.window===ct?ct:(rt=ct.ownerDocument)?rt.defaultView||rt.parentWindow:window,nt?(rr=d.relatedTarget||d.toElement,nt=et,rr=rr?bt(rr):null,rr!==null&&(Zn=a(rr),Tr=rr.tag,rr!==Zn||Tr!==5&&Tr!==27&&Tr!==6)&&(rr=null)):(nt=null,rr=et),nt!==rr)){if(Tr=Iu,mt="onMouseLeave",Ze="onMouseEnter",Fe="mouse",(o==="pointerout"||o==="pointerover")&&(Tr=ui,mt="onPointerLeave",Ze="onPointerEnter",Fe="pointer"),Zn=nt==null?rt:gt(nt),Qe=rr==null?rt:gt(rr),rt=new Tr(mt,Fe+"leave",nt,d,ct),rt.target=Zn,rt.relatedTarget=Qe,mt=null,bt(ct)===et&&(Tr=new Tr(Ze,Fe+"enter",rr,d,ct),Tr.target=Qe,Tr.relatedTarget=Zn,mt=Tr),Zn=mt,nt&&rr)t:{for(Tr=qT,Ze=nt,Fe=rr,Qe=0,mt=Ze;mt;mt=Tr(mt))Qe++;mt=0;for(var vr=Fe;vr;vr=Tr(vr))mt++;for(;0<Qe-mt;)Ze=Tr(Ze),Qe--;for(;0<mt-Qe;)Fe=Tr(Fe),mt--;for(;Qe--;){if(Ze===Fe||Fe!==null&&Ze===Fe.alternate){Tr=Ze;break t}Ze=Tr(Ze),Fe=Tr(Fe)}Tr=null}else Tr=null;nt!==null&&hw(vt,rt,nt,Tr,!1),rr!==null&&Zn!==null&&hw(vt,Zn,rr,Tr,!0)}}e:{if(rt=et?gt(et):window,nt=rt.nodeName&&rt.nodeName.toLowerCase(),nt==="select"||nt==="input"&&rt.type==="file")var Sn=$s;else if(ts(rt))if(za)Sn=ao;else{Sn=hi;var lr=Ga}else nt=rt.nodeName,!nt||nt.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?et&&Tl(et.elementType)&&(Sn=$s):Sn=Io;if(Sn&&(Sn=Sn(o,et))){rs(vt,Sn,d,ct);break e}lr&&lr(o,rt,et),o==="focusout"&&et&&rt.type==="number"&&et.memoizedProps.value!=null&&Us(rt,"number",rt.value)}switch(lr=et?gt(et):window,o){case"focusin":(ts(lr)||lr.contentEditable==="true")&&(Ca=lr,lo=et,pa=null);break;case"focusout":pa=lo=Ca=null;break;case"mousedown":Ma=!0;break;case"contextmenu":case"mouseup":case"dragend":Ma=!1,cn(vt,d,ct);break;case"selectionchange":if(oo)break;case"keydown":case"keyup":cn(vt,d,ct)}var Vr;if(qs)e:{switch(o){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else no?sl(o,d)&&(sn="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(sn="onCompositionStart");sn&&(Vs&&d.locale!=="ko"&&(no||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&no&&(Vr=to()):(La=ct,Gs="value"in La?La.value:La.textContent,no=!0)),lr=tm(et,sn),0<lr.length&&(sn=new Ve(sn,o,null,d,ct),vt.push({event:sn,listeners:lr}),Vr?sn.data=Vr:(Vr=Ml(d),Vr!==null&&(sn.data=Vr)))),(Vr=Cl?jn(o,d):Ua(o,d))&&(sn=tm(et,"onBeforeInput"),0<sn.length&&(lr=new Ve("onBeforeInput","beforeinput",null,d,ct),vt.push({event:lr,listeners:sn}),lr.data=Vr)),UT(vt,o,et,d,ct)}uw(vt,u)})}function Vd(o,u,d){return{instance:o,listener:u,currentTarget:d}}function tm(o,u){for(var d=u+"Capture",g=[];o!==null;){var E=o,N=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||N===null||(E=Aa(o,d),E!=null&&g.unshift(Vd(o,E,N)),E=Aa(o,u),E!=null&&g.push(Vd(o,E,N))),o.tag===3)return g;o=o.return}return[]}function qT(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function hw(o,u,d,g,E){for(var N=u._reactName,V=[];d!==null&&d!==g;){var fe=d,ke=fe.alternate,et=fe.stateNode;if(fe=fe.tag,ke!==null&&ke===g)break;fe!==5&&fe!==26&&fe!==27||et===null||(ke=et,E?(et=Aa(d,N),et!=null&&V.unshift(Vd(d,et,ke))):E||(et=Aa(d,N),et!=null&&V.push(Vd(d,et,ke)))),d=d.return}V.length!==0&&o.push({event:u,listeners:V})}var VT=/\r\n?/g,$T=/\u0000|\uFFFD/g;function fw(o){return(typeof o=="string"?o:""+o).replace(VT,`
`).replace($T,"")}function dw(o,u){return u=fw(u),fw(o)===u}function Wn(o,u,d,g,E,N){switch(d){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Ta(o,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Ta(o,""+g);break;case"className":qr(o,"class",g);break;case"tabIndex":qr(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(o,d,g);break;case"style":tu(o,g,N);break;case"data":if(u!=="object"){qr(o,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||d!=="href")){o.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(d);break}g=fa(""+g),o.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(u!=="input"&&Wn(o,u,"name",E.name,E,null),Wn(o,u,"formEncType",E.formEncType,E,null),Wn(o,u,"formMethod",E.formMethod,E,null),Wn(o,u,"formTarget",E.formTarget,E,null)):(Wn(o,u,"encType",E.encType,E,null),Wn(o,u,"method",E.method,E,null),Wn(o,u,"target",E.target,E,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(d);break}g=fa(""+g),o.setAttribute(d,g);break;case"onClick":g!=null&&(o.onclick=Ba);break;case"onScroll":g!=null&&rn("scroll",o);break;case"onScrollEnd":g!=null&&rn("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(n(60));o.innerHTML=d}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}d=fa(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,""+g):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":g===!0?o.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(d,g):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(d,g):o.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(d):o.setAttribute(d,g);break;case"popover":rn("beforetoggle",o),rn("toggle",o),Ut(o,"popover",g);break;case"xlinkActuate":ri(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ri(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ri(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ri(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ri(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ri(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ri(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ri(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ri(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ut(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=rl.get(d)||d,Ut(o,d,g))}}function cv(o,u,d,g,E,N){switch(d){case"style":tu(o,g,N);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(n(60));o.innerHTML=d}}break;case"children":typeof g=="string"?Ta(o,g):(typeof g=="number"||typeof g=="bigint")&&Ta(o,""+g);break;case"onScroll":g!=null&&rn("scroll",o);break;case"onScrollEnd":g!=null&&rn("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wr.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),u=d.slice(2,E?d.length-7:void 0),N=o[he]||null,N=N!=null?N[d]:null,typeof N=="function"&&o.removeEventListener(u,N,E),typeof g=="function")){typeof N!="function"&&N!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(u,g,E);break e}d in o?o[d]=g:g===!0?o.setAttribute(d,""):Ut(o,d,g)}}}function cs(o,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rn("error",o),rn("load",o);var g=!1,E=!1,N;for(N in d)if(d.hasOwnProperty(N)){var V=d[N];if(V!=null)switch(N){case"src":g=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Wn(o,u,N,V,d,null)}}E&&Wn(o,u,"srcSet",d.srcSet,d,null),g&&Wn(o,u,"src",d.src,d,null);return;case"input":rn("invalid",o);var fe=N=V=E=null,ke=null,et=null;for(g in d)if(d.hasOwnProperty(g)){var ct=d[g];if(ct!=null)switch(g){case"name":E=ct;break;case"type":V=ct;break;case"checked":ke=ct;break;case"defaultChecked":et=ct;break;case"value":N=ct;break;case"defaultValue":fe=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(n(137,u));break;default:Wn(o,u,g,ct,d,null)}}El(o,N,fe,ke,et,V,E,!1);return;case"select":rn("invalid",o),g=V=N=null;for(E in d)if(d.hasOwnProperty(E)&&(fe=d[E],fe!=null))switch(E){case"value":N=fe;break;case"defaultValue":V=fe;break;case"multiple":g=fe;default:Wn(o,u,E,fe,d,null)}u=N,d=V,o.multiple=!!g,u!=null?Kr(o,!!g,u,!1):d!=null&&Kr(o,!!g,d,!0);return;case"textarea":rn("invalid",o),N=E=g=null;for(V in d)if(d.hasOwnProperty(V)&&(fe=d[V],fe!=null))switch(V){case"value":g=fe;break;case"defaultValue":E=fe;break;case"children":N=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(91));break;default:Wn(o,u,V,fe,d,null)}No(o,g,E,N);return;case"option":for(ke in d)d.hasOwnProperty(ke)&&(g=d[ke],g!=null)&&(ke==="selected"?o.selected=g&&typeof g!="function"&&typeof g!="symbol":Wn(o,u,ke,g,d,null));return;case"dialog":rn("beforetoggle",o),rn("toggle",o),rn("cancel",o),rn("close",o);break;case"iframe":case"object":rn("load",o);break;case"video":case"audio":for(g=0;g<qd.length;g++)rn(qd[g],o);break;case"image":rn("error",o),rn("load",o);break;case"details":rn("toggle",o);break;case"embed":case"source":case"link":rn("error",o),rn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in d)if(d.hasOwnProperty(et)&&(g=d[et],g!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Wn(o,u,et,g,d,null)}return;default:if(Tl(u)){for(ct in d)d.hasOwnProperty(ct)&&(g=d[ct],g!==void 0&&cv(o,u,ct,g,d,void 0));return}}for(fe in d)d.hasOwnProperty(fe)&&(g=d[fe],g!=null&&Wn(o,u,fe,g,d,null))}function WT(o,u,d,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,N=null,V=null,fe=null,ke=null,et=null,ct=null;for(nt in d){var vt=d[nt];if(d.hasOwnProperty(nt)&&vt!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":ke=vt;default:g.hasOwnProperty(nt)||Wn(o,u,nt,null,g,vt)}}for(var rt in g){var nt=g[rt];if(vt=d[rt],g.hasOwnProperty(rt)&&(nt!=null||vt!=null))switch(rt){case"type":N=nt;break;case"name":E=nt;break;case"checked":et=nt;break;case"defaultChecked":ct=nt;break;case"value":V=nt;break;case"defaultValue":fe=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(n(137,u));break;default:nt!==vt&&Wn(o,u,rt,nt,g,vt)}}eu(o,V,fe,ke,et,ct,N,E);return;case"select":nt=V=fe=rt=null;for(N in d)if(ke=d[N],d.hasOwnProperty(N)&&ke!=null)switch(N){case"value":break;case"multiple":nt=ke;default:g.hasOwnProperty(N)||Wn(o,u,N,null,g,ke)}for(E in g)if(N=g[E],ke=d[E],g.hasOwnProperty(E)&&(N!=null||ke!=null))switch(E){case"value":rt=N;break;case"defaultValue":fe=N;break;case"multiple":V=N;default:N!==ke&&Wn(o,u,E,N,g,ke)}u=fe,d=V,g=nt,rt!=null?Kr(o,!!d,rt,!1):!!g!=!!d&&(u!=null?Kr(o,!!d,u,!0):Kr(o,!!d,d?[]:"",!1));return;case"textarea":nt=rt=null;for(fe in d)if(E=d[fe],d.hasOwnProperty(fe)&&E!=null&&!g.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Wn(o,u,fe,null,g,E)}for(V in g)if(E=g[V],N=d[V],g.hasOwnProperty(V)&&(E!=null||N!=null))switch(V){case"value":rt=E;break;case"defaultValue":nt=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==N&&Wn(o,u,V,E,g,N)}zs(o,rt,nt);return;case"option":for(var rr in d)rt=d[rr],d.hasOwnProperty(rr)&&rt!=null&&!g.hasOwnProperty(rr)&&(rr==="selected"?o.selected=!1:Wn(o,u,rr,null,g,rt));for(ke in g)rt=g[ke],nt=d[ke],g.hasOwnProperty(ke)&&rt!==nt&&(rt!=null||nt!=null)&&(ke==="selected"?o.selected=rt&&typeof rt!="function"&&typeof rt!="symbol":Wn(o,u,ke,rt,g,nt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tr in d)rt=d[Tr],d.hasOwnProperty(Tr)&&rt!=null&&!g.hasOwnProperty(Tr)&&Wn(o,u,Tr,null,g,rt);for(et in g)if(rt=g[et],nt=d[et],g.hasOwnProperty(et)&&rt!==nt&&(rt!=null||nt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,u));break;default:Wn(o,u,et,rt,g,nt)}return;default:if(Tl(u)){for(var Zn in d)rt=d[Zn],d.hasOwnProperty(Zn)&&rt!==void 0&&!g.hasOwnProperty(Zn)&&cv(o,u,Zn,void 0,g,rt);for(ct in g)rt=g[ct],nt=d[ct],!g.hasOwnProperty(ct)||rt===nt||rt===void 0&&nt===void 0||cv(o,u,ct,rt,g,nt);return}}for(var Ze in d)rt=d[Ze],d.hasOwnProperty(Ze)&&rt!=null&&!g.hasOwnProperty(Ze)&&Wn(o,u,Ze,null,g,rt);for(vt in g)rt=g[vt],nt=d[vt],!g.hasOwnProperty(vt)||rt===nt||rt==null&&nt==null||Wn(o,u,vt,rt,g,nt)}function pw(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZT(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var E=d[g],N=E.transferSize,V=E.initiatorType,fe=E.duration;if(N&&fe&&pw(V)){for(V=0,fe=E.responseEnd,g+=1;g<d.length;g++){var ke=d[g],et=ke.startTime;if(et>fe)break;var ct=ke.transferSize,vt=ke.initiatorType;ct&&pw(vt)&&(ke=ke.responseEnd,V+=ct*(ke<fe?1:(fe-et)/(ke-et)))}if(--g,u+=8*(N+V)/(E.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var hv=null,fv=null;function rm(o){return o.nodeType===9?o:o.ownerDocument}function mw(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gw(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function dv(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var pv=null;function YT(){var o=window.event;return o&&o.type==="popstate"?o===pv?!1:(pv=o,!0):(pv=null,!1)}var vw=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof _w<"u"?function(o){return _w.resolve(null).then(o).catch(JT)}:vw;function JT(o){setTimeout(function(){throw o})}function Rc(o){return o==="head"}function yw(o,u){var d=u,g=0;do{var E=d.nextSibling;if(o.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"||d==="/&"){if(g===0){o.removeChild(E),Sf(u);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")$d(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,$d(d);for(var N=d.firstChild;N;){var V=N.nextSibling,fe=N.nodeName;N[$e]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=V}}else d==="body"&&$d(o.ownerDocument.body);d=E}while(d);Sf(u)}function xw(o,u){var d=o;o=0;do{var g=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=g}while(d)}function mv(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":mv(d),ht(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function QT(o,u,d,g){for(;o.nodeType===1;){var E=d;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[$e])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(N=o.getAttribute("rel"),N==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(N!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(N=o.getAttribute("src"),(N!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&N&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var N=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===N)return o}else return o;if(o=fl(o.nextSibling),o===null)break}return null}function eA(o,u,d){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=fl(o.nextSibling),o===null))return null;return o}function ww(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=fl(o.nextSibling),o===null))return null;return o}function gv(o){return o.data==="$?"||o.data==="$~"}function vv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function tA(o,u){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||d.readyState!=="loading")u();else{var g=function(){u(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function fl(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var _v=null;function bw(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(u===0)return fl(o.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}o=o.nextSibling}return null}function Sw(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return o;u--}else d!=="/$"&&d!=="/&"||u++}o=o.previousSibling}return null}function Ew(o,u,d){switch(u=rm(d),o){case"html":if(o=u.documentElement,!o)throw Error(n(452));return o;case"head":if(o=u.head,!o)throw Error(n(453));return o;case"body":if(o=u.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function $d(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);ht(o)}var dl=new Map,Tw=new Set;function nm(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var tc=be.d;be.d={f:rA,r:nA,D:iA,C:aA,L:sA,m:oA,X:uA,S:lA,M:cA};function rA(){var o=tc.f(),u=Zp();return o||u}function nA(o){var u=wt(o);u!==null&&u.tag===5&&u.type==="form"?Gy(u):tc.r(o)}var xf=typeof document>"u"?null:document;function Aw(o,u,d){var g=xf;if(g&&typeof u=="string"&&u){var E=un(u);E='link[rel="'+o+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),Tw.has(E)||(Tw.add(E),o={rel:o,crossOrigin:d,href:u},g.querySelector(E)===null&&(u=g.createElement("link"),cs(u,"link",o),Bt(u),g.head.appendChild(u)))}}function iA(o){tc.D(o),Aw("dns-prefetch",o,null)}function aA(o,u){tc.C(o,u),Aw("preconnect",o,u)}function sA(o,u,d){tc.L(o,u,d);var g=xf;if(g&&o&&u){var E='link[rel="preload"][as="'+un(u)+'"]';u==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+un(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+un(d.imageSizes)+'"]')):E+='[href="'+un(o)+'"]';var N=E;switch(u){case"style":N=wf(o);break;case"script":N=bf(o)}dl.has(N)||(o=v({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:o,as:u},d),dl.set(N,o),g.querySelector(E)!==null||u==="style"&&g.querySelector(Wd(N))||u==="script"&&g.querySelector(Zd(N))||(u=g.createElement("link"),cs(u,"link",o),Bt(u),g.head.appendChild(u)))}}function oA(o,u){tc.m(o,u);var d=xf;if(d&&o){var g=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+un(g)+'"][href="'+un(o)+'"]',N=E;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=bf(o)}if(!dl.has(N)&&(o=v({rel:"modulepreload",href:o},u),dl.set(N,o),d.querySelector(E)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Zd(N)))return}g=d.createElement("link"),cs(g,"link",o),Bt(g),d.head.appendChild(g)}}}function lA(o,u,d){tc.S(o,u,d);var g=xf;if(g&&o){var E=Mt(g).hoistableStyles,N=wf(o);u=u||"default";var V=E.get(N);if(!V){var fe={loading:0,preload:null};if(V=g.querySelector(Wd(N)))fe.loading=5;else{o=v({rel:"stylesheet",href:o,"data-precedence":u},d),(d=dl.get(N))&&yv(o,d);var ke=V=g.createElement("link");Bt(ke),cs(ke,"link",o),ke._p=new Promise(function(et,ct){ke.onload=et,ke.onerror=ct}),ke.addEventListener("load",function(){fe.loading|=1}),ke.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,im(V,u,g)}V={type:"stylesheet",instance:V,count:1,state:fe},E.set(N,V)}}}function uA(o,u){tc.X(o,u);var d=xf;if(d&&o){var g=Mt(d).hoistableScripts,E=bf(o),N=g.get(E);N||(N=d.querySelector(Zd(E)),N||(o=v({src:o,async:!0},u),(u=dl.get(E))&&xv(o,u),N=d.createElement("script"),Bt(N),cs(N,"link",o),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(E,N))}}function cA(o,u){tc.M(o,u);var d=xf;if(d&&o){var g=Mt(d).hoistableScripts,E=bf(o),N=g.get(E);N||(N=d.querySelector(Zd(E)),N||(o=v({src:o,async:!0,type:"module"},u),(u=dl.get(E))&&xv(o,u),N=d.createElement("script"),Bt(N),cs(N,"link",o),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(E,N))}}function Lw(o,u,d,g){var E=(E=se.current)?nm(E):null;if(!E)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=wf(d.href),d=Mt(E).hoistableStyles,g=d.get(u),g||(g={type:"style",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=wf(d.href);var N=Mt(E).hoistableStyles,V=N.get(o);if(V||(E=E.ownerDocument||E,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(o,V),(N=E.querySelector(Wd(o)))&&!N._p&&(V.instance=N,V.state.loading=5),dl.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},dl.set(o,d),N||hA(E,o,d,V.state))),u&&g===null)throw Error(n(528,""));return V}if(u&&g!==null)throw Error(n(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=bf(d),d=Mt(E).hoistableScripts,g=d.get(u),g||(g={type:"script",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function wf(o){return'href="'+un(o)+'"'}function Wd(o){return'link[rel="stylesheet"]['+o+"]"}function Nw(o){return v({},o,{"data-precedence":o.precedence,precedence:null})}function hA(o,u,d,g){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=o.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),cs(u,"link",d),Bt(u),o.head.appendChild(u))}function bf(o){return'[src="'+un(o)+'"]'}function Zd(o){return"script[async]"+o}function Cw(o,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var g=o.querySelector('style[data-href~="'+un(d.href)+'"]');if(g)return u.instance=g,Bt(g),g;var E=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Bt(g),cs(g,"style",E),im(g,d.precedence,o),u.instance=g;case"stylesheet":E=wf(d.href);var N=o.querySelector(Wd(E));if(N)return u.state.loading|=4,u.instance=N,Bt(N),N;g=Nw(d),(E=dl.get(E))&&yv(g,E),N=(o.ownerDocument||o).createElement("link"),Bt(N);var V=N;return V._p=new Promise(function(fe,ke){V.onload=fe,V.onerror=ke}),cs(N,"link",g),u.state.loading|=4,im(N,d.precedence,o),u.instance=N;case"script":return N=bf(d.src),(E=o.querySelector(Zd(N)))?(u.instance=E,Bt(E),E):(g=d,(E=dl.get(N))&&(g=v({},d),xv(g,E)),o=o.ownerDocument||o,E=o.createElement("script"),Bt(E),cs(E,"link",g),o.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,im(g,d.precedence,o));return u.instance}function im(o,u,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=g.length?g[g.length-1]:null,N=E,V=0;V<g.length;V++){var fe=g[V];if(fe.dataset.precedence===u)N=fe;else if(N!==E)break}N?N.parentNode.insertBefore(o,N.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(o,u.firstChild))}function yv(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function xv(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var am=null;function Mw(o,u,d){if(am===null){var g=new Map,E=am=new Map;E.set(d,g)}else E=am,g=E.get(d),g||(g=new Map,E.set(d,g));if(g.has(o))return g;for(g.set(o,null),d=d.getElementsByTagName(o),E=0;E<d.length;E++){var N=d[E];if(!(N[$e]||N[ne]||o==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var V=N.getAttribute(u)||"";V=o+V;var fe=g.get(V);fe?fe.push(N):g.set(V,[N])}}return g}function kw(o,u,d){o=o.ownerDocument||o,o.head.insertBefore(d,u==="title"?o.querySelector("head > title"):null)}function fA(o,u,d){if(d===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(o=u.disabled,typeof u.precedence=="string"&&o==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Pw(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function dA(o,u,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=wf(g.href),N=u.querySelector(Wd(E));if(N){u=N._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=sm.bind(o),u.then(o,o)),d.state.loading|=4,d.instance=N,Bt(N);return}N=u.ownerDocument||u,g=Nw(g),(E=dl.get(E))&&yv(g,E),N=N.createElement("link"),Bt(N);var V=N;V._p=new Promise(function(fe,ke){V.onload=fe,V.onerror=ke}),cs(N,"link",g),d.instance=N}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=sm.bind(o),u.addEventListener("load",d),u.addEventListener("error",d))}}var wv=0;function pA(o,u){return o.stylesheets&&o.count===0&&lm(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var g=setTimeout(function(){if(o.stylesheets&&lm(o,o.stylesheets),o.unsuspend){var N=o.unsuspend;o.unsuspend=null,N()}},6e4+u);0<o.imgBytes&&wv===0&&(wv=62500*ZT());var E=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&lm(o,o.stylesheets),o.unsuspend)){var N=o.unsuspend;o.unsuspend=null,N()}},(o.imgBytes>wv?50:800)+u);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(E)}}:null}function sm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var om=null;function lm(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,om=new Map,u.forEach(mA,o),om=null,sm.call(o))}function mA(o,u){if(!(u.state.loading&4)){var d=om.get(o);if(d)var g=d.get(null);else{d=new Map,om.set(o,d);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<E.length;N++){var V=E[N];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(d.set(V.dataset.precedence,V),g=V)}g&&d.set(null,g)}E=u.instance,V=E.getAttribute("data-precedence"),N=d.get(V)||g,N===g&&d.set(null,E),d.set(V,E),this.count++,g=sm.bind(this),E.addEventListener("load",g),E.addEventListener("error",g),N?N.parentNode.insertBefore(E,N.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),u.state.loading|=4}}var Yd={$$typeof:R,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function gA(o,u,d,g,E,N,V,fe,ke){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=g,this.onUncaughtError=E,this.onCaughtError=N,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ke,this.incompleteTransitions=new Map}function Ow(o,u,d,g,E,N,V,fe,ke,et,ct,vt){return o=new gA(o,u,d,V,ke,et,ct,vt,fe),u=1,N===!0&&(u|=24),N=ia(3,null,null,u),o.current=N,N.stateNode=o,u=bc(),u.refCount++,o.pooledCache=u,u.refCount++,N.memoizedState={element:g,isDehydrated:d,cache:u},Rt(N),o}function Rw(o){return o?(o=Bi,o):Bi}function Dw(o,u,d,g,E,N){E=Rw(E),g.context===null?g.context=E:g.pendingContext=E,g=Sr(u),g.payload={element:d},N=N===void 0?null:N,N!==null&&(g.callback=N),d=zr(o,g,u),d!==null&&(yo(d,o,u),An(d,o,u))}function jw(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<u?d:u}}function bv(o,u){jw(o,u),(o=o.alternate)&&jw(o,u)}function Iw(o){if(o.tag===13||o.tag===31){var u=Ls(o,67108864);u!==null&&yo(u,o,67108864),bv(o,67108864)}}function Fw(o){if(o.tag===13||o.tag===31){var u=qo();u=qe(u);var d=Ls(o,u);d!==null&&yo(d,o,u),bv(o,u)}}var um=!0;function vA(o,u,d,g){var E=oe.T;oe.T=null;var N=be.p;try{be.p=2,Sv(o,u,d,g)}finally{be.p=N,oe.T=E}}function _A(o,u,d,g){var E=oe.T;oe.T=null;var N=be.p;try{be.p=8,Sv(o,u,d,g)}finally{be.p=N,oe.T=E}}function Sv(o,u,d,g){if(um){var E=Ev(g);if(E===null)uv(o,u,g,cm,d),Uw(o,g);else if(xA(E,o,u,d,g))g.stopPropagation();else if(Uw(o,g),u&4&&-1<yA.indexOf(o)){for(;E!==null;){var N=wt(E);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var V=Zt(N.pendingLanes);if(V!==0){var fe=N;for(fe.pendingLanes|=2,fe.entangledLanes|=2;V;){var ke=1<<31-Dr(V);fe.entanglements[1]|=ke,V&=~ke}bu(N),(Nn&6)===0&&($p=Jt()+500,Hd(0))}}break;case 31:case 13:fe=Ls(N,2),fe!==null&&yo(fe,N,2),Zp(),bv(N,2)}if(N=Ev(g),N===null&&uv(o,u,g,cm,d),N===E)break;E=N}E!==null&&g.stopPropagation()}else uv(o,u,g,null,d)}}function Ev(o){return o=Mo(o),Tv(o)}var cm=null;function Tv(o){if(cm=null,o=bt(o),o!==null){var u=a(o);if(u===null)o=null;else{var d=u.tag;if(d===13){if(o=s(u),o!==null)return o;o=null}else if(d===31){if(o=l(u),o!==null)return o;o=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return cm=o,null}function Bw(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case dr:return 2;case Nr:return 8;case or:case Ft:return 32;case _r:return 268435456;default:return 32}default:return 32}}var Av=!1,Dc=null,jc=null,Ic=null,Kd=new Map,Xd=new Map,Fc=[],yA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uw(o,u){switch(o){case"focusin":case"focusout":Dc=null;break;case"dragenter":case"dragleave":jc=null;break;case"mouseover":case"mouseout":Ic=null;break;case"pointerover":case"pointerout":Kd.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xd.delete(u.pointerId)}}function Jd(o,u,d,g,E,N){return o===null||o.nativeEvent!==N?(o={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:N,targetContainers:[E]},u!==null&&(u=wt(u),u!==null&&Iw(u)),o):(o.eventSystemFlags|=g,u=o.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),o)}function xA(o,u,d,g,E){switch(u){case"focusin":return Dc=Jd(Dc,o,u,d,g,E),!0;case"dragenter":return jc=Jd(jc,o,u,d,g,E),!0;case"mouseover":return Ic=Jd(Ic,o,u,d,g,E),!0;case"pointerover":var N=E.pointerId;return Kd.set(N,Jd(Kd.get(N)||null,o,u,d,g,E)),!0;case"gotpointercapture":return N=E.pointerId,Xd.set(N,Jd(Xd.get(N)||null,o,u,d,g,E)),!0}return!1}function zw(o){var u=bt(o.target);if(u!==null){var d=a(u);if(d!==null){if(u=d.tag,u===13){if(u=s(d),u!==null){o.blockedOn=u,me(o.priority,function(){Fw(d)});return}}else if(u===31){if(u=l(d),u!==null){o.blockedOn=u,me(o.priority,function(){Fw(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function hm(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var d=Ev(o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);eo=g,d.target.dispatchEvent(g),eo=null}else return u=wt(d),u!==null&&Iw(u),o.blockedOn=d,!1;u.shift()}return!0}function Gw(o,u,d){hm(o)&&d.delete(u)}function wA(){Av=!1,Dc!==null&&hm(Dc)&&(Dc=null),jc!==null&&hm(jc)&&(jc=null),Ic!==null&&hm(Ic)&&(Ic=null),Kd.forEach(Gw),Xd.forEach(Gw)}function fm(o,u){o.blockedOn===u&&(o.blockedOn=null,Av||(Av=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wA)))}var dm=null;function Hw(o){dm!==o&&(dm=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){dm===o&&(dm=null);for(var u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],E=o[u+2];if(typeof g!="function"){if(Tv(g||d)===null)continue;break}var N=wt(d);N!==null&&(o.splice(u,3),u-=3,Eg(N,{pending:!0,data:E,method:d.method,action:g},g,E))}}))}function Sf(o){function u(ke){return fm(ke,o)}Dc!==null&&fm(Dc,o),jc!==null&&fm(jc,o),Ic!==null&&fm(Ic,o),Kd.forEach(u),Xd.forEach(u);for(var d=0;d<Fc.length;d++){var g=Fc[d];g.blockedOn===o&&(g.blockedOn=null)}for(;0<Fc.length&&(d=Fc[0],d.blockedOn===null);)zw(d),d.blockedOn===null&&Fc.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var E=d[g],N=d[g+1],V=E[he]||null;if(typeof N=="function")V||Hw(d);else if(V){var fe=null;if(N&&N.hasAttribute("formAction")){if(E=N,V=N[he]||null)fe=V.formAction;else if(Tv(E)!==null)continue}else fe=V.action;typeof fe=="function"?d[g+1]=fe:(d.splice(g,3),g-=3),Hw(d)}}}function qw(){function o(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(V){return E=V})},focusReset:"manual",scroll:"manual"})}function u(){E!==null&&(E(),E=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,E=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),E!==null&&(E(),E=null)}}}function Lv(o){this._internalRoot=o}pm.prototype.render=Lv.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));var d=u.current,g=qo();Dw(d,g,o,u,null,null)},pm.prototype.unmount=Lv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Dw(o.current,2,null,o,null,null),Zp(),u[ve]=null}};function pm(o){this._internalRoot=o}pm.prototype.unstable_scheduleHydration=function(o){if(o){var u=Y();o={blockedOn:null,target:o,priority:u};for(var d=0;d<Fc.length&&u!==0&&u<Fc[d].priority;d++);Fc.splice(d,0,o),d===0&&zw(o)}};var Vw=e.version;if(Vw!=="19.2.3")throw Error(n(527,Vw,"19.2.3"));be.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=f(u),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var bA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mm.isDisabled&&mm.supportsFiber)try{Mr=mm.inject(bA),Gt=mm}catch{}}return e0.createRoot=function(o,u){if(!i(o))throw Error(n(299));var d=!1,g="",E=Jy,N=Qy,V=ex;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(V=u.onRecoverableError)),u=Ow(o,1,!1,null,null,d,g,null,E,N,V,qw),o[ve]=u.current,lv(o),new Lv(u)},e0.hydrateRoot=function(o,u,d){if(!i(o))throw Error(n(299));var g=!1,E="",N=Jy,V=Qy,fe=ex,ke=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(V=d.onCaughtError),d.onRecoverableError!==void 0&&(fe=d.onRecoverableError),d.formState!==void 0&&(ke=d.formState)),u=Ow(o,1,!0,u,d??null,g,E,ke,N,V,fe,qw),u.context=Rw(null),d=u.current,g=qo(),g=qe(g),E=Sr(g),E.callback=null,zr(d,E,g),d=g,u.current.lanes=d,Qt(u,d),bu(u),o[ve]=u.current,lv(o),new pm(u)},e0.version="19.2.3",e0}var tb;function OA(){if(tb)return Mv.exports;tb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mv.exports=PA(),Mv.exports}var RA=OA();const DA=$1(RA);var tS=t=>{throw TypeError(t)},jA=(t,e,r)=>e.has(t)||tS("Cannot "+r),Rv=(t,e,r)=>(jA(t,e,"read from private field"),r?r.call(t):e.get(t)),IA=(t,e,r)=>e.has(t)?tS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),rb="popstate";function FA(t={}){function e(i,a){let{pathname:s="/",search:l="",hash:c=""}=fc(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),I0("",{pathname:s,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let s=i.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");l=f===-1?c:c.slice(0,f)}return l+"#"+(typeof a=="string"?a:Pu(a))}function n(i,a){Ki(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return UA(e,r,n,t)}function Yr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ki(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BA(){return Math.random().toString(36).substring(2,10)}function nb(t,e){return{usr:t.state,key:t.key,idx:e}}function I0(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fc(e):e,state:r,key:e&&e.key||n||BA()}}function Pu({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function UA(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l="POP",c=null,f=p();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function p(){return(s.state||{idx:null}).idx}function v(){l="POP";let C=p(),P=C==null?null:C-f;f=C,c&&c({action:l,location:b.location,delta:P})}function y(C,P){l="PUSH";let j=I0(b.location,C,P);r&&r(j,C),f=p()+1;let R=nb(j,f),B=b.createHref(j);try{s.pushState(R,"",B)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;i.location.assign(B)}a&&c&&c({action:l,location:b.location,delta:1})}function _(C,P){l="REPLACE";let j=I0(b.location,C,P);r&&r(j,C),f=p();let R=nb(j,f),B=b.createHref(j);s.replaceState(R,"",B),a&&c&&c({action:l,location:b.location,delta:0})}function T(C){return rS(C)}let b={get action(){return l},get location(){return t(i,s)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(rb,v),c=C,()=>{i.removeEventListener(rb,v),c=null}},createHref(C){return e(i,C)},createURL:T,encodeLocation(C){let P=T(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:y,replace:_,go(C){return s.go(C)}};return b}function rS(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Yr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Pu(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var c0,ib=class{constructor(t){if(IA(this,c0,new Map),t)for(let[e,r]of t)this.set(e,r)}get(t){if(Rv(this,c0).has(t))return Rv(this,c0).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Rv(this,c0).set(t,e)}};c0=new WeakMap;var zA=new Set(["lazy","caseSensitive","path","id","index","children"]);function GA(t){return zA.has(t)}var HA=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function qA(t){return HA.has(t)}function VA(t){return t.index===!0}function F0(t,e,r=[],n={},i=!1){return t.map((a,s)=>{let l=[...r,String(s)],c=typeof a.id=="string"?a.id:l.join("-");if(Yr(a.index!==!0||!a.children,"Cannot specify children on an index route"),Yr(i||!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),VA(a)){let f={...a,id:c};return n[c]=ab(f,e(f)),f}else{let f={...a,id:c,children:void 0};return n[c]=ab(f,e(f)),a.children&&(f.children=F0(a.children,e,l,n,i)),f}})}function ab(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function qc(t,e,r="/"){return h0(t,e,r,!1)}function h0(t,e,r,n){let i=typeof e=="string"?fc(e):e,a=xl(i.pathname||"/",r);if(a==null)return null;let s=nS(t);WA(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let f=iL(a);l=rL(s[c],f,n)}return l}function $A(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],loaderData:e[r.id],handle:r.handle}}function nS(t,e=[],r=[],n="",i=!1){let a=(s,l,c=i,f)=>{let p={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&c)return;Yr(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let v=ku([n,p.relativePath]),y=r.concat(p);s.children&&s.children.length>0&&(Yr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),nS(s.children,e,y,v,c)),!(s.path==null&&!s.index)&&e.push({path:v,score:eL(v,s.index),routesMeta:y})};return t.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))a(s,l);else for(let c of iS(s.path))a(s,l,!0,c)}),e}function iS(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=iS(n.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function WA(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:tL(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var ZA=/^:[\w-]+$/,YA=3,KA=2,XA=1,JA=10,QA=-2,sb=t=>t==="*";function eL(t,e){let r=t.split("/"),n=r.length;return r.some(sb)&&(n+=QA),e&&(n+=KA),r.filter(i=>!sb(i)).reduce((i,a)=>i+(ZA.test(a)?YA:a===""?XA:JA),n)}function tL(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function rL(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],f=l===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=h1({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),y=c.route;if(!v&&f&&r&&!n[n.length-1].route.index&&(v=h1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!v)return null;Object.assign(i,v.params),s.push({params:i,pathname:ku([a,v.pathname]),pathnameBase:oL(ku([a,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(a=ku([a,v.pathnameBase]))}return s}function h1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=nL(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:v},y)=>{if(p==="*"){let T=l[y]||"";s=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const _=l[y];return v&&!_?f[p]=void 0:f[p]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function nL(t,e=!1,r=!0){Ki(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function iL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ki(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function xl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function aL({basename:t,pathname:e}){return e==="/"?t:ku([t,e])}var aS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M_=t=>aS.test(t);function sL(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?fc(t):t,a;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?a=ob(r.substring(1),"/"):a=ob(r,e)):a=e,{pathname:a,search:lL(n),hash:uL(i)}}function ob(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Dv(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sS(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Z1(t){let e=sS(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Y1(t,e,r,n=!1){let i;typeof t=="string"?i=fc(t):(i={...t},Yr(!i.pathname||!i.pathname.includes("?"),Dv("?","pathname","search",i)),Yr(!i.pathname||!i.pathname.includes("#"),Dv("#","pathname","hash",i)),Yr(!i.search||!i.search.includes("#"),Dv("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let v=e.length-1;if(!n&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}l=v>=0?e[v]:"/"}let c=sL(i,l),f=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}var ku=t=>t.join("/").replace(/\/\/+/g,"/"),oL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,lp=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function B0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function up(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var oS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lS(t,e){let r=t;if(typeof r!="string"||!aS.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(oS)try{let a=new URL(window.location.href),s=r.startsWith("//")?new URL(a.protocol+r):new URL(r),l=xl(s.pathname,e);s.origin===a.origin&&l!=null?r=l+s.search+s.hash:i=!0}catch{Ki(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}var Wc=Symbol("Uninstrumented");function cL(t,e){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(a){let s=Object.keys(r);for(let l of s)a[l]&&r[l].push(a[l])}}));let n={};if(typeof e.lazy=="function"&&r.lazy.length>0){let i=Zf(r.lazy,e.lazy,()=>{});i&&(n.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(a=>{let s=i[a],l=r[`lazy.${a}`];if(typeof s=="function"&&l.length>0){let c=Zf(l,s,()=>{});c&&(n.lazy=Object.assign(n.lazy||{},{[a]:c}))}})}return["loader","action"].forEach(i=>{let a=e[i];if(typeof a=="function"&&r[i].length>0){let s=a[Wc]??a,l=Zf(r[i],s,(...c)=>lb(c[0]));l&&(i==="loader"&&s.hydrate===!0&&(l.hydrate=!0),l[Wc]=s,n[i]=l)}}),e.middleware&&e.middleware.length>0&&r.middleware.length>0&&(n.middleware=e.middleware.map(i=>{let a=i[Wc]??i,s=Zf(r.middleware,a,(...l)=>lb(l[0]));return s?(s[Wc]=a,s):i})),n}function hL(t,e){let r={navigate:[],fetch:[]};if(e.forEach(n=>n({instrument(i){let a=Object.keys(i);for(let s of a)i[s]&&r[s].push(i[s])}})),r.navigate.length>0){let n=t.navigate[Wc]??t.navigate,i=Zf(r.navigate,n,(...a)=>{let[s,l]=a;return{to:typeof s=="number"||typeof s=="string"?s:s?Pu(s):".",...ub(t,l??{})}});i&&(i[Wc]=n,t.navigate=i)}if(r.fetch.length>0){let n=t.fetch[Wc]??t.fetch,i=Zf(r.fetch,n,(...a)=>{let[s,,l,c]=a;return{href:l??".",fetcherKey:s,...ub(t,c??{})}});i&&(i[Wc]=n,t.fetch=i)}return t}function Zf(t,e,r){return t.length===0?null:async(...n)=>{let i=await uS(t,r(...n),()=>e(...n),t.length-1);if(i.type==="error")throw i.value;return i.value}}async function uS(t,e,r,n){let i=t[n],a;if(i){let s,l=async()=>(s?console.error("You cannot call instrumented handlers more than once"):s=uS(t,e,r,n-1),a=await s,Yr(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await i(l,e)}catch(c){console.error("An instrumentation function threw an error:",c)}s||await l(),await s}else try{a={type:"success",value:await r()}}catch(s){a={type:"error",value:s}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function lb(t){let{request:e,context:r,params:n,unstable_pattern:i}=t;return{request:fL(e),params:{...n},unstable_pattern:i,context:dL(r)}}function ub(t,e){return{currentUrl:Pu(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function fL(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function dL(t){if(mL(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var pL=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mL(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===pL}var cS=["POST","PUT","PATCH","DELETE"],gL=new Set(cS),vL=["GET",...cS],_L=new Set(vL),hS=new Set([301,302,303,307,308]),yL=new Set([307,308]),jv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},t0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wL=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),fS="remix-router-transitions",dS=Symbol("ResetLoaderData");function bL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Yr(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=t.hydrationRouteProperties||[],i=t.mapRouteProperties||wL,a=i;if(t.unstable_instrumentations){let Ce=t.unstable_instrumentations;a=Ge=>({...i(Ge),...cL(Ce.map(qe=>qe.route).filter(Boolean),Ge)})}let s={},l=F0(t.routes,a,void 0,s),c,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let p=t.dataStrategy||LL,v={...t.future},y=null,_=new Set,T=null,b=null,C=null,P=t.hydrationData!=null,j=qc(l,t.history.location,f),R=!1,B=null,te;if(j==null&&!t.patchRoutesOnNavigation){let Ce=gl(404,{pathname:t.history.location.pathname}),{matches:Ge,route:qe}=gm(l);te=!0,j=Ge,B={[qe.id]:Ce}}else if(j&&!t.hydrationData&&Ji(j,l,t.history.location.pathname).active&&(j=null),j)if(j.some(Ce=>Ce.route.lazy))te=!1;else if(!j.some(Ce=>k_(Ce.route)))te=!0;else{let Ce=t.hydrationData?t.hydrationData.loaderData:null,Ge=t.hydrationData?t.hydrationData.errors:null;if(Ge){let qe=j.findIndex(Ye=>Ge[Ye.route.id]!==void 0);te=j.slice(0,qe+1).every(Ye=>!q2(Ye.route,Ce,Ge))}else te=j.every(qe=>!q2(qe.route,Ce,Ge))}else{te=!1,j=[];let Ce=Ji(null,l,t.history.location.pathname);Ce.active&&Ce.matches&&(R=!0,j=Ce.matches)}let ue,F={historyAction:t.history.action,location:t.history.location,matches:j,initialized:te,navigation:jv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||B,fetchers:new Map,blockers:new Map},K="POP",U=null,X=!1,I,W=!1,ce=new Map,pe=null,xe=!1,oe=!1,be=new Set,_e=new Map,Le=0,Ne=-1,Q=new Map,O=new Set,H=new Map,q=new Map,Z=new Set,se=new Map,Ae,Oe=null;function Re(){if(y=t.history.listen(({action:Ce,location:Ge,delta:qe})=>{if(Ae){Ae(),Ae=void 0;return}Ki(se.size===0||qe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ye=en({currentLocation:F.location,nextLocation:Ge,historyAction:Ce});if(Ye&&qe!=null){let Y=new Promise(me=>{Ae=me});t.history.go(qe*-1),cr(Ye,{state:"blocked",location:Ge,proceed(){cr(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Ge}),Y.then(()=>t.history.go(qe))},reset(){let me=new Map(F.blockers);me.set(Ye,t0),it({blockers:me})}}),U?.resolve(),U=null;return}return yt(Ce,Ge)}),r){VL(e,ce);let Ce=()=>$L(e,ce);e.addEventListener("pagehide",Ce),pe=()=>e.removeEventListener("pagehide",Ce)}return F.initialized||yt("POP",F.location,{initialHydration:!0}),ue}function Ie(){y&&y(),pe&&pe(),_.clear(),I&&I.abort(),F.fetchers.forEach((Ce,Ge)=>xn(Ge)),F.blockers.forEach((Ce,Ge)=>ur(Ge))}function ot(Ce){return _.add(Ce),()=>_.delete(Ce)}function it(Ce,Ge={}){Ce.matches&&(Ce.matches=Ce.matches.map(Y=>{let me=s[Y.route.id],re=Y.route;return re.element!==me.element||re.errorElement!==me.errorElement||re.hydrateFallbackElement!==me.hydrateFallbackElement?{...Y,route:me}:Y})),F={...F,...Ce};let qe=[],Ye=[];F.fetchers.forEach((Y,me)=>{Y.state==="idle"&&(Z.has(me)?qe.push(me):Ye.push(me))}),Z.forEach(Y=>{!F.fetchers.has(Y)&&!_e.has(Y)&&qe.push(Y)}),[..._].forEach(Y=>Y(F,{deletedFetchers:qe,newErrors:Ce.errors??null,viewTransitionOpts:Ge.viewTransitionOpts,flushSync:Ge.flushSync===!0})),qe.forEach(Y=>xn(Y)),Ye.forEach(Y=>F.fetchers.delete(Y))}function Tt(Ce,Ge,{flushSync:qe}={}){let Ye=F.actionData!=null&&F.navigation.formMethod!=null&&js(F.navigation.formMethod)&&F.navigation.state==="loading"&&Ce.state?._isRedirect!==!0,Y;Ge.actionData?Object.keys(Ge.actionData).length>0?Y=Ge.actionData:Y=null:Ye?Y=F.actionData:Y=null;let me=Ge.loaderData?yb(F.loaderData,Ge.loaderData,Ge.matches||[],Ge.errors):F.loaderData,re=F.blockers;re.size>0&&(re=new Map(re),re.forEach((Pe,ze)=>re.set(ze,t0)));let ne=xe?!1:li(Ce,Ge.matches||F.matches),he=X===!0||F.navigation.formMethod!=null&&js(F.navigation.formMethod)&&Ce.state?._isRedirect!==!0;c&&(l=c,c=void 0),xe||K==="POP"||(K==="PUSH"?t.history.push(Ce,Ce.state):K==="REPLACE"&&t.history.replace(Ce,Ce.state));let ve;if(K==="POP"){let Pe=ce.get(F.location.pathname);Pe&&Pe.has(Ce.pathname)?ve={currentLocation:F.location,nextLocation:Ce}:ce.has(Ce.pathname)&&(ve={currentLocation:Ce,nextLocation:F.location})}else if(W){let Pe=ce.get(F.location.pathname);Pe?Pe.add(Ce.pathname):(Pe=new Set([Ce.pathname]),ce.set(F.location.pathname,Pe)),ve={currentLocation:F.location,nextLocation:Ce}}it({...Ge,actionData:Y,loaderData:me,historyAction:K,location:Ce,initialized:!0,navigation:jv,revalidation:"idle",restoreScrollPosition:ne,preventScrollReset:he,blockers:re},{viewTransitionOpts:ve,flushSync:qe===!0}),K="POP",X=!1,W=!1,xe=!1,oe=!1,U?.resolve(),U=null,Oe?.resolve(),Oe=null}async function Nt(Ce,Ge){if(U?.resolve(),U=null,typeof Ce=="number"){U||(U=Sb());let Ue=U.promise;return t.history.go(Ce),Ue}let qe=H2(F.location,F.matches,f,Ce,Ge?.fromRouteId,Ge?.relative),{path:Ye,submission:Y,error:me}=cb(!1,qe,Ge),re=F.location,ne=I0(F.location,Ye,Ge&&Ge.state);ne={...ne,...t.history.encodeLocation(ne)};let he=Ge&&Ge.replace!=null?Ge.replace:void 0,ve="PUSH";he===!0?ve="REPLACE":he===!1||Y!=null&&js(Y.formMethod)&&Y.formAction===F.location.pathname+F.location.search&&(ve="REPLACE");let Pe=Ge&&"preventScrollReset"in Ge?Ge.preventScrollReset===!0:void 0,ze=(Ge&&Ge.flushSync)===!0,Be=en({currentLocation:re,nextLocation:ne,historyAction:ve});if(Be){cr(Be,{state:"blocked",location:ne,proceed(){cr(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),Nt(Ce,Ge)},reset(){let Ue=new Map(F.blockers);Ue.set(Be,t0),it({blockers:Ue})}});return}await yt(ve,ne,{submission:Y,pendingError:me,preventScrollReset:Pe,replace:Ge&&Ge.replace,enableViewTransition:Ge&&Ge.viewTransition,flushSync:ze,callSiteDefaultShouldRevalidate:Ge&&Ge.unstable_defaultShouldRevalidate})}function we(){Oe||(Oe=Sb()),Nr(),it({revalidation:"loading"});let Ce=Oe.promise;return F.navigation.state==="submitting"?Ce:F.navigation.state==="idle"?(yt(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),Ce):(yt(K||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:W===!0}),Ce)}async function yt(Ce,Ge,qe){I&&I.abort(),I=null,K=Ce,xe=(qe&&qe.startUninterruptedRevalidation)===!0,ba(F.location,F.matches),X=(qe&&qe.preventScrollReset)===!0,W=(qe&&qe.enableViewTransition)===!0;let Ye=c||l,Y=qe&&qe.overrideNavigation,me=qe?.initialHydration&&F.matches&&F.matches.length>0&&!R?F.matches:qc(Ye,Ge,f),re=(qe&&qe.flushSync)===!0;if(me&&F.initialized&&!oe&&DL(F.location,Ge)&&!(qe&&qe.submission&&js(qe.submission.formMethod))){Tt(Ge,{matches:me},{flushSync:re});return}let ne=Ji(me,Ye,Ge.pathname);if(ne.active&&ne.matches&&(me=ne.matches),!me){let{error:ht,notFoundMatches:bt,route:wt}=xr(Ge.pathname);Tt(Ge,{matches:bt,loaderData:{},errors:{[wt.id]:ht}},{flushSync:re});return}I=new AbortController;let he=Uf(t.history,Ge,I.signal,qe&&qe.submission),ve=t.getContext?await t.getContext():new ib,Pe;if(qe&&qe.pendingError)Pe=[Vc(me).route.id,{type:"error",error:qe.pendingError}];else if(qe&&qe.submission&&js(qe.submission.formMethod)){let ht=await xt(he,Ge,qe.submission,me,ve,ne.active,qe&&qe.initialHydration===!0,{replace:qe.replace,flushSync:re});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[bt,wt]=ht.pendingActionResult;if(Zo(wt)&&B0(wt.error)&&wt.error.status===404){I=null,Tt(Ge,{matches:ht.matches,loaderData:{},errors:{[bt]:wt.error}});return}}me=ht.matches||me,Pe=ht.pendingActionResult,Y=Iv(Ge,qe.submission),re=!1,ne.active=!1,he=Uf(t.history,he.url,he.signal)}let{shortCircuited:ze,matches:Be,loaderData:Ue,errors:$e}=await zt(he,Ge,me,ve,ne.active,Y,qe&&qe.submission,qe&&qe.fetcherSubmission,qe&&qe.replace,qe&&qe.initialHydration===!0,re,Pe,qe&&qe.callSiteDefaultShouldRevalidate);ze||(I=null,Tt(Ge,{matches:Be||me,...xb(Pe),loaderData:Ue,errors:$e}))}async function xt(Ce,Ge,qe,Ye,Y,me,re,ne={}){Nr();let he=HL(Ge,qe);if(it({navigation:he},{flushSync:ne.flushSync===!0}),me){let ze=await Ni(Ye,Ge.pathname,Ce.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){if(ze.partialMatches.length===0){let{matches:Ue,route:$e}=gm(l);return{matches:Ue,pendingActionResult:[$e.id,{type:"error",error:ze.error}]}}let Be=Vc(ze.partialMatches).route.id;return{matches:ze.partialMatches,pendingActionResult:[Be,{type:"error",error:ze.error}]}}else if(ze.matches)Ye=ze.matches;else{let{notFoundMatches:Be,error:Ue,route:$e}=xr(Ge.pathname);return{matches:Be,pendingActionResult:[$e.id,{type:"error",error:Ue}]}}}let ve,Pe=Jm(Ye,Ge);if(!Pe.route.action&&!Pe.route.lazy)ve={type:"error",error:gl(405,{method:Ce.method,pathname:Ge.pathname,routeId:Pe.route.id})};else{let ze=rd(a,s,Ce,Ye,Pe,re?[]:n,Y),Be=await Er(Ce,ze,Y,null);if(ve=Be[Pe.route.id],!ve){for(let Ue of Ye)if(Be[Ue.route.id]){ve=Be[Ue.route.id];break}}if(Ce.signal.aborted)return{shortCircuited:!0}}if(Mh(ve)){let ze;return ne&&ne.replace!=null?ze=ne.replace:ze=gb(ve.response.headers.get("Location"),new URL(Ce.url),f,t.history)===F.location.pathname+F.location.search,await Jt(Ce,ve,!0,{submission:qe,replace:ze}),{shortCircuited:!0}}if(Zo(ve)){let ze=Vc(Ye,Pe.route.id);return(ne&&ne.replace)!==!0&&(K="PUSH"),{matches:Ye,pendingActionResult:[ze.route.id,ve,Pe.route.id]}}return{matches:Ye,pendingActionResult:[Pe.route.id,ve]}}async function zt(Ce,Ge,qe,Ye,Y,me,re,ne,he,ve,Pe,ze,Be){let Ue=me||Iv(Ge,re),$e=re||ne||bb(Ue),ht=!xe&&!ve;if(Y){if(ht){let Ut=dt(ze);it({navigation:Ue,...Ut!==void 0?{actionData:Ut}:{}},{flushSync:Pe})}let Ar=await Ni(qe,Ge.pathname,Ce.signal);if(Ar.type==="aborted")return{shortCircuited:!0};if(Ar.type==="error"){if(Ar.partialMatches.length===0){let{matches:qr,route:ri}=gm(l);return{matches:qr,loaderData:{},errors:{[ri.id]:Ar.error}}}let Ut=Vc(Ar.partialMatches).route.id;return{matches:Ar.partialMatches,loaderData:{},errors:{[Ut]:Ar.error}}}else if(Ar.matches)qe=Ar.matches;else{let{error:Ut,notFoundMatches:qr,route:ri}=xr(Ge.pathname);return{matches:qr,loaderData:{},errors:{[ri.id]:Ut}}}}let bt=c||l,{dsMatches:wt,revalidatingFetchers:gt}=hb(Ce,Ye,a,s,t.history,F,qe,$e,Ge,ve?[]:n,ve===!0,oe,be,Z,H,O,bt,f,t.patchRoutesOnNavigation!=null,ze,Be);if(Ne=++Le,!t.dataStrategy&&!wt.some(Ar=>Ar.shouldLoad)&&!wt.some(Ar=>Ar.route.middleware&&Ar.route.middleware.length>0)&&gt.length===0){let Ar=Dr();return Tt(Ge,{matches:qe,loaderData:{},errors:ze&&Zo(ze[1])?{[ze[0]]:ze[1].error}:null,...xb(ze),...Ar?{fetchers:new Map(F.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(ht){let Ar={};if(!Y){Ar.navigation=Ue;let Ut=dt(ze);Ut!==void 0&&(Ar.actionData=Ut)}gt.length>0&&(Ar.fetchers=Vt(gt)),it(Ar,{flushSync:Pe})}gt.forEach(Ar=>{Gt(Ar.key),Ar.controller&&_e.set(Ar.key,Ar.controller)});let Mt=()=>gt.forEach(Ar=>Gt(Ar.key));I&&I.signal.addEventListener("abort",Mt);let{loaderResults:Bt,fetcherResults:Hr}=await dr(wt,gt,Ce,Ye);if(Ce.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Mt),gt.forEach(Ar=>_e.delete(Ar.key));let wr=vm(Bt);if(wr)return await Jt(Ce,wr.result,!0,{replace:he}),{shortCircuited:!0};if(wr=vm(Hr),wr)return O.add(wr.key),await Jt(Ce,wr.result,!0,{replace:he}),{shortCircuited:!0};let{loaderData:nn,errors:Kn}=_b(F,qe,Bt,ze,gt,Hr);ve&&F.errors&&(Kn={...F.errors,...Kn});let Xn=Dr(),Qi=Yt(Ne),Ci=Xn||Qi||gt.length>0;return{matches:qe,loaderData:nn,errors:Kn,...Ci?{fetchers:new Map(F.fetchers)}:{}}}function dt(Ce){if(Ce&&!Zo(Ce[1]))return{[Ce[0]]:Ce[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function Vt(Ce){return Ce.forEach(Ge=>{let qe=F.fetchers.get(Ge.key),Ye=r0(void 0,qe?qe.data:void 0);F.fetchers.set(Ge.key,Ye)}),new Map(F.fetchers)}async function jt(Ce,Ge,qe,Ye){Gt(Ce);let Y=(Ye&&Ye.flushSync)===!0,me=c||l,re=H2(F.location,F.matches,f,qe,Ge,Ye?.relative),ne=qc(me,re,f),he=Ji(ne,me,re);if(he.active&&he.matches&&(ne=he.matches),!ne){Ft(Ce,Ge,gl(404,{pathname:re}),{flushSync:Y});return}let{path:ve,submission:Pe,error:ze}=cb(!0,re,Ye);if(ze){Ft(Ce,Ge,ze,{flushSync:Y});return}let Be=t.getContext?await t.getContext():new ib,Ue=(Ye&&Ye.preventScrollReset)===!0;if(Pe&&js(Pe.formMethod)){await sr(Ce,Ge,ve,ne,Be,he.active,Y,Ue,Pe,Ye&&Ye.unstable_defaultShouldRevalidate);return}H.set(Ce,{routeId:Ge,path:ve}),await Xt(Ce,Ge,ve,ne,Be,he.active,Y,Ue,Pe)}async function sr(Ce,Ge,qe,Ye,Y,me,re,ne,he,ve){Nr(),H.delete(Ce);let Pe=F.fetchers.get(Ce);or(Ce,qL(he,Pe),{flushSync:re});let ze=new AbortController,Be=Uf(t.history,qe,ze.signal,he);if(me){let ar=await Ni(Ye,new URL(Be.url).pathname,Be.signal,Ce);if(ar.type==="aborted")return;if(ar.type==="error"){Ft(Ce,Ge,ar.error,{flushSync:re});return}else if(ar.matches)Ye=ar.matches;else{Ft(Ce,Ge,gl(404,{pathname:qe}),{flushSync:re});return}}let Ue=Jm(Ye,qe);if(!Ue.route.action&&!Ue.route.lazy){let ar=gl(405,{method:he.formMethod,pathname:qe,routeId:Ge});Ft(Ce,Ge,ar,{flushSync:re});return}_e.set(Ce,ze);let $e=Le,ht=rd(a,s,Be,Ye,Ue,n,Y),bt=await Er(Be,ht,Y,Ce),wt=bt[Ue.route.id];if(!wt){for(let ar of ht)if(bt[ar.route.id]){wt=bt[ar.route.id];break}}if(Be.signal.aborted){_e.get(Ce)===ze&&_e.delete(Ce);return}if(Z.has(Ce)){if(Mh(wt)||Zo(wt)){or(Ce,ic(void 0));return}}else{if(Mh(wt))if(_e.delete(Ce),Ne>$e){or(Ce,ic(void 0));return}else return O.add(Ce),or(Ce,r0(he)),Jt(Be,wt,!1,{fetcherSubmission:he,preventScrollReset:ne});if(Zo(wt)){Ft(Ce,Ge,wt.error);return}}let gt=F.navigation.location||F.location,Mt=Uf(t.history,gt,ze.signal),Bt=c||l,Hr=F.navigation.state!=="idle"?qc(Bt,F.navigation.location,f):F.matches;Yr(Hr,"Didn't find any matches after fetcher action");let wr=++Le;Q.set(Ce,wr);let nn=r0(he,wt.data);F.fetchers.set(Ce,nn);let{dsMatches:Kn,revalidatingFetchers:Xn}=hb(Mt,Y,a,s,t.history,F,Hr,he,gt,n,!1,oe,be,Z,H,O,Bt,f,t.patchRoutesOnNavigation!=null,[Ue.route.id,wt],ve);Xn.filter(ar=>ar.key!==Ce).forEach(ar=>{let Sa=ar.key,Ea=F.fetchers.get(Sa),yr=r0(void 0,Ea?Ea.data:void 0);F.fetchers.set(Sa,yr),Gt(Sa),ar.controller&&_e.set(Sa,ar.controller)}),it({fetchers:new Map(F.fetchers)});let Qi=()=>Xn.forEach(ar=>Gt(ar.key));ze.signal.addEventListener("abort",Qi);let{loaderResults:Ci,fetcherResults:Ar}=await dr(Kn,Xn,Mt,Y);if(ze.signal.aborted)return;if(ze.signal.removeEventListener("abort",Qi),Q.delete(Ce),_e.delete(Ce),Xn.forEach(ar=>_e.delete(ar.key)),F.fetchers.has(Ce)){let ar=ic(wt.data);F.fetchers.set(Ce,ar)}let Ut=vm(Ci);if(Ut)return Jt(Mt,Ut.result,!1,{preventScrollReset:ne});if(Ut=vm(Ar),Ut)return O.add(Ut.key),Jt(Mt,Ut.result,!1,{preventScrollReset:ne});let{loaderData:qr,errors:ri}=_b(F,Hr,Ci,void 0,Xn,Ar);Yt(wr),F.navigation.state==="loading"&&wr>Ne?(Yr(K,"Expected pending action"),I&&I.abort(),Tt(F.navigation.location,{matches:Hr,loaderData:qr,errors:ri,fetchers:new Map(F.fetchers)})):(it({errors:ri,loaderData:yb(F.loaderData,qr,Hr,ri),fetchers:new Map(F.fetchers)}),oe=!1)}async function Xt(Ce,Ge,qe,Ye,Y,me,re,ne,he){let ve=F.fetchers.get(Ce);or(Ce,r0(he,ve?ve.data:void 0),{flushSync:re});let Pe=new AbortController,ze=Uf(t.history,qe,Pe.signal);if(me){let wt=await Ni(Ye,new URL(ze.url).pathname,ze.signal,Ce);if(wt.type==="aborted")return;if(wt.type==="error"){Ft(Ce,Ge,wt.error,{flushSync:re});return}else if(wt.matches)Ye=wt.matches;else{Ft(Ce,Ge,gl(404,{pathname:qe}),{flushSync:re});return}}let Be=Jm(Ye,qe);_e.set(Ce,Pe);let Ue=Le,$e=rd(a,s,ze,Ye,Be,n,Y),bt=(await Er(ze,$e,Y,Ce))[Be.route.id];if(_e.get(Ce)===Pe&&_e.delete(Ce),!ze.signal.aborted){if(Z.has(Ce)){or(Ce,ic(void 0));return}if(Mh(bt))if(Ne>Ue){or(Ce,ic(void 0));return}else{O.add(Ce),await Jt(ze,bt,!1,{preventScrollReset:ne});return}if(Zo(bt)){Ft(Ce,Ge,bt.error);return}or(Ce,ic(bt.data))}}async function Jt(Ce,Ge,qe,{submission:Ye,fetcherSubmission:Y,preventScrollReset:me,replace:re}={}){qe||(U?.resolve(),U=null),Ge.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let ne=Ge.response.headers.get("Location");Yr(ne,"Expected a Location header on the redirect Response"),ne=gb(ne,new URL(Ce.url),f,t.history);let he=I0(F.location,ne,{_isRedirect:!0});if(r){let $e=!1;if(Ge.response.headers.has("X-Remix-Reload-Document"))$e=!0;else if(M_(ne)){const ht=rS(ne,!0);$e=ht.origin!==e.location.origin||xl(ht.pathname,f)==null}if($e){re?e.location.replace(ne):e.location.assign(ne);return}}I=null;let ve=re===!0||Ge.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:ze,formEncType:Be}=F.navigation;!Ye&&!Y&&Pe&&ze&&Be&&(Ye=bb(F.navigation));let Ue=Ye||Y;if(yL.has(Ge.response.status)&&Ue&&js(Ue.formMethod))await yt(ve,he,{submission:{...Ue,formAction:ne},preventScrollReset:me||X,enableViewTransition:qe?W:void 0});else{let $e=Iv(he,Ye);await yt(ve,he,{overrideNavigation:$e,fetcherSubmission:Y,preventScrollReset:me||X,enableViewTransition:qe?W:void 0})}}async function Er(Ce,Ge,qe,Ye){let Y,me={};try{Y=await CL(p,Ce,Ge,Ye,qe,!1)}catch(re){return Ge.filter(ne=>ne.shouldLoad).forEach(ne=>{me[ne.route.id]={type:"error",error:re}}),me}if(Ce.signal.aborted)return me;if(!js(Ce.method))for(let re of Ge){if(Y[re.route.id]?.type==="error")break;!Y.hasOwnProperty(re.route.id)&&!F.loaderData.hasOwnProperty(re.route.id)&&(!F.errors||!F.errors.hasOwnProperty(re.route.id))&&re.shouldCallHandler()&&(Y[re.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${re.route.id}`)})}for(let[re,ne]of Object.entries(Y))if(BL(ne)){let he=ne.result;me[re]={type:"redirect",response:OL(he,Ce,re,Ge,f)}}else me[re]=await PL(ne);return me}async function dr(Ce,Ge,qe,Ye){let Y=Er(qe,Ce,Ye,null),me=Promise.all(Ge.map(async he=>{if(he.matches&&he.match&&he.request&&he.controller){let Pe=(await Er(he.request,he.matches,Ye,he.key))[he.match.route.id];return{[he.key]:Pe}}else return Promise.resolve({[he.key]:{type:"error",error:gl(404,{pathname:he.path})}})})),re=await Y,ne=(await me).reduce((he,ve)=>Object.assign(he,ve),{});return{loaderResults:re,fetcherResults:ne}}function Nr(){oe=!0,H.forEach((Ce,Ge)=>{_e.has(Ge)&&be.add(Ge),Gt(Ge)})}function or(Ce,Ge,qe={}){F.fetchers.set(Ce,Ge),it({fetchers:new Map(F.fetchers)},{flushSync:(qe&&qe.flushSync)===!0})}function Ft(Ce,Ge,qe,Ye={}){let Y=Vc(F.matches,Ge);xn(Ce),it({errors:{[Y.route.id]:qe},fetchers:new Map(F.fetchers)},{flushSync:(Ye&&Ye.flushSync)===!0})}function _r(Ce){return q.set(Ce,(q.get(Ce)||0)+1),Z.has(Ce)&&Z.delete(Ce),F.fetchers.get(Ce)||xL}function Wt(Ce,Ge){Gt(Ce,Ge?.reason),or(Ce,ic(null))}function xn(Ce){let Ge=F.fetchers.get(Ce);_e.has(Ce)&&!(Ge&&Ge.state==="loading"&&Q.has(Ce))&&Gt(Ce),H.delete(Ce),Q.delete(Ce),O.delete(Ce),Z.delete(Ce),be.delete(Ce),F.fetchers.delete(Ce)}function Mr(Ce){let Ge=(q.get(Ce)||0)-1;Ge<=0?(q.delete(Ce),Z.add(Ce)):q.set(Ce,Ge),it({fetchers:new Map(F.fetchers)})}function Gt(Ce,Ge){let qe=_e.get(Ce);qe&&(qe.abort(Ge),_e.delete(Ce))}function pr(Ce){for(let Ge of Ce){let qe=_r(Ge),Ye=ic(qe.data);F.fetchers.set(Ge,Ye)}}function Dr(){let Ce=[],Ge=!1;for(let qe of O){let Ye=F.fetchers.get(qe);Yr(Ye,`Expected fetcher: ${qe}`),Ye.state==="loading"&&(O.delete(qe),Ce.push(qe),Ge=!0)}return pr(Ce),Ge}function Yt(Ce){let Ge=[];for(let[qe,Ye]of Q)if(Ye<Ce){let Y=F.fetchers.get(qe);Yr(Y,`Expected fetcher: ${qe}`),Y.state==="loading"&&(Gt(qe),Q.delete(qe),Ge.push(qe))}return pr(Ge),Ge.length>0}function ln(Ce,Ge){let qe=F.blockers.get(Ce)||t0;return se.get(Ce)!==Ge&&se.set(Ce,Ge),qe}function ur(Ce){F.blockers.delete(Ce),se.delete(Ce)}function cr(Ce,Ge){let qe=F.blockers.get(Ce)||t0;Yr(qe.state==="unblocked"&&Ge.state==="blocked"||qe.state==="blocked"&&Ge.state==="blocked"||qe.state==="blocked"&&Ge.state==="proceeding"||qe.state==="blocked"&&Ge.state==="unblocked"||qe.state==="proceeding"&&Ge.state==="unblocked",`Invalid blocker state transition: ${qe.state} -> ${Ge.state}`);let Ye=new Map(F.blockers);Ye.set(Ce,Ge),it({blockers:Ye})}function en({currentLocation:Ce,nextLocation:Ge,historyAction:qe}){if(se.size===0)return;se.size>1&&Ki(!1,"A router only supports one blocker at a time");let Ye=Array.from(se.entries()),[Y,me]=Ye[Ye.length-1],re=F.blockers.get(Y);if(!(re&&re.state==="proceeding")&&me({currentLocation:Ce,nextLocation:Ge,historyAction:qe}))return Y}function xr(Ce){let Ge=gl(404,{pathname:Ce}),qe=c||l,{matches:Ye,route:Y}=gm(qe);return{notFoundMatches:Ye,route:Y,error:Ge}}function Zt(Ce,Ge,qe){if(T=Ce,C=Ge,b=qe||null,!P&&F.navigation===jv){P=!0;let Ye=li(F.location,F.matches);Ye!=null&&it({restoreScrollPosition:Ye})}return()=>{T=null,C=null,b=null}}function Gr(Ce,Ge){return b&&b(Ce,Ge.map(Ye=>$A(Ye,F.loaderData)))||Ce.key}function ba(Ce,Ge){if(T&&C){let qe=Gr(Ce,Ge);T[qe]=C()}}function li(Ce,Ge){if(T){let qe=Gr(Ce,Ge),Ye=T[qe];if(typeof Ye=="number")return Ye}return null}function Ji(Ce,Ge,qe){if(t.patchRoutesOnNavigation)if(Ce){if(Object.keys(Ce[0].params).length>0)return{active:!0,matches:h0(Ge,qe,f,!0)}}else return{active:!0,matches:h0(Ge,qe,f,!0)||[]};return{active:!1,matches:null}}async function Ni(Ce,Ge,qe,Ye){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Ce};let Y=Ce;for(;;){let me=c==null,re=c||l,ne=s;try{await t.patchRoutesOnNavigation({signal:qe,path:Ge,matches:Y,fetcherKey:Ye,patch:(Pe,ze)=>{qe.aborted||fb(Pe,ze,re,ne,a,!1)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:Y}}finally{me&&!qe.aborted&&(l=[...l])}if(qe.aborted)return{type:"aborted"};let he=qc(re,Ge,f),ve=null;if(he){if(Object.keys(he[0].params).length===0)return{type:"success",matches:he};if(ve=h0(re,Ge,f,!0),!(ve&&Y.length<ve.length&&Qt(Y,ve.slice(0,Y.length))))return{type:"success",matches:he}}if(ve||(ve=h0(re,Ge,f,!0)),!ve||Qt(Y,ve))return{type:"success",matches:null};Y=ve}}function Qt(Ce,Ge){return Ce.length===Ge.length&&Ce.every((qe,Ye)=>qe.route.id===Ge[Ye].route.id)}function Ka(Ce){s={},c=F0(Ce,a,void 0,s)}function Fa(Ce,Ge,qe=!1){let Ye=c==null;fb(Ce,Ge,c||l,s,a,qe),Ye&&(l=[...l],it({}))}return ue={get basename(){return f},get future(){return v},get state(){return F},get routes(){return l},get window(){return e},initialize:Re,subscribe:ot,enableScrollRestoration:Zt,navigate:Nt,fetch:jt,revalidate:we,createHref:Ce=>t.history.createHref(Ce),encodeLocation:Ce=>t.history.encodeLocation(Ce),getFetcher:_r,resetFetcher:Wt,deleteFetcher:Mr,dispose:Ie,getBlocker:ln,deleteBlocker:ur,patchRoutes:Fa,_internalFetchControllers:_e,_internalSetRoutes:Ka,_internalSetStateDoNotUseOrYouWillBreakYourApp(Ce){it(Ce)}},t.unstable_instrumentations&&(ue=hL(ue,t.unstable_instrumentations.map(Ce=>Ce.router).filter(Boolean))),ue}function SL(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function H2(t,e,r,n,i,a){let s,l;if(i){s=[];for(let f of e)if(s.push(f),f.route.id===i){l=f;break}}else s=e,l=e[e.length-1];let c=Y1(n||".",Z1(s),xl(t.pathname,r)||t.pathname,a==="path");if(n==null&&(c.search=t.search,c.hash=t.hash),(n==null||n===""||n===".")&&l){let f=O_(c.search);if(l.route.index&&!f)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&f){let p=new URLSearchParams(c.search),v=p.getAll("index");p.delete("index"),v.filter(_=>_).forEach(_=>p.append("index",_));let y=p.toString();c.search=y?`?${y}`:""}}return r!=="/"&&(c.pathname=aL({basename:r,pathname:c.pathname})),Pu(c)}function cb(t,e,r){if(!r||!SL(r))return{path:e};if(r.formMethod&&!GL(r.formMethod))return{path:e,error:gl(405,{method:r.formMethod})};let n=()=>({path:e,error:gl(400,{type:"invalid-body"})}),a=(r.formMethod||"get").toUpperCase(),s=yS(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!js(a))return n();let v=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,[_,T])=>`${y}${_}=${T}
`,""):String(r.body);return{path:e,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:v}}}else if(r.formEncType==="application/json"){if(!js(a))return n();try{let v=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:v,text:void 0}}}catch{return n()}}}Yr(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=$2(r.formData),c=r.formData;else if(r.body instanceof FormData)l=$2(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=vb(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=vb(l)}catch{return n()}let f={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(js(f.formMethod))return{path:e,submission:f};let p=fc(e);return t&&p.search&&O_(p.search)&&l.append("index",""),p.search=`?${l}`,{path:Pu(p),submission:f}}function hb(t,e,r,n,i,a,s,l,c,f,p,v,y,_,T,b,C,P,j,R,B){let te=R?Zo(R[1])?R[1].error:R[1].data:void 0,ue=i.createURL(a.location),F=i.createURL(c),K;if(p&&a.errors){let xe=Object.keys(a.errors)[0];K=s.findIndex(oe=>oe.route.id===xe)}else if(R&&Zo(R[1])){let xe=R[0];K=s.findIndex(oe=>oe.route.id===xe)-1}let U=R?R[1].statusCode:void 0,X=U&&U>=400,I={currentUrl:ue,currentParams:a.matches[0]?.params||{},nextUrl:F,nextParams:s[0].params,...l,actionResult:te,actionStatus:U},W=up(s),ce=s.map((xe,oe)=>{let{route:be}=xe,_e=null;if(K!=null&&oe>K?_e=!1:be.lazy?_e=!0:k_(be)?p?_e=q2(be,a.loaderData,a.errors):EL(a.loaderData,a.matches[oe],xe)&&(_e=!0):_e=!1,_e!==null)return V2(r,n,t,W,xe,f,e,_e);let Le=!1;typeof B=="boolean"?Le=B:X?Le=!1:(v||ue.pathname+ue.search===F.pathname+F.search||ue.search!==F.search||TL(a.matches[oe],xe))&&(Le=!0);let Ne={...I,defaultShouldRevalidate:Le},Q=_0(xe,Ne);return V2(r,n,t,W,xe,f,e,Q,Ne,B)}),pe=[];return T.forEach((xe,oe)=>{if(p||!s.some(q=>q.route.id===xe.routeId)||_.has(oe))return;let be=a.fetchers.get(oe),_e=be&&be.state!=="idle"&&be.data===void 0,Le=qc(C,xe.path,P);if(!Le){if(j&&_e)return;pe.push({key:oe,routeId:xe.routeId,path:xe.path,matches:null,match:null,request:null,controller:null});return}if(b.has(oe))return;let Ne=Jm(Le,xe.path),Q=new AbortController,O=Uf(i,xe.path,Q.signal),H=null;if(y.has(oe))y.delete(oe),H=rd(r,n,O,Le,Ne,f,e);else if(_e)v&&(H=rd(r,n,O,Le,Ne,f,e));else{let q;typeof B=="boolean"?q=B:X?q=!1:q=v;let Z={...I,defaultShouldRevalidate:q};_0(Ne,Z)&&(H=rd(r,n,O,Le,Ne,f,e,Z))}H&&pe.push({key:oe,routeId:xe.routeId,path:xe.path,matches:H,match:Ne,request:O,controller:Q})}),{dsMatches:ce,revalidatingFetchers:pe}}function k_(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function q2(t,e,r){if(t.lazy)return!0;if(!k_(t))return!1;let n=e!=null&&t.id in e,i=r!=null&&r[t.id]!==void 0;return!n&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!i}function EL(t,e,r){let n=!e||r.route.id!==e.route.id,i=!t.hasOwnProperty(r.route.id);return n||i}function TL(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function _0(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function fb(t,e,r,n,i,a){let s;if(t){let f=n[t];Yr(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),s=f.children}else s=r;let l=[],c=[];if(e.forEach(f=>{let p=s.find(v=>pS(f,v));p?c.push({existingRoute:p,newRoute:f}):l.push(f)}),l.length>0){let f=F0(l,i,[t||"_","patch",String(s?.length||"0")],n);s.push(...f)}if(a&&c.length>0)for(let f=0;f<c.length;f++){let{existingRoute:p,newRoute:v}=c[f],y=p,[_]=F0([v],i,[],{},!0);Object.assign(y,{element:_.element?_.element:y.element,errorElement:_.errorElement?_.errorElement:y.errorElement,hydrateFallbackElement:_.hydrateFallbackElement?_.hydrateFallbackElement:y.hydrateFallbackElement})}}function pS(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>e.children?.some(i=>pS(r,i))):!1}var db=new WeakMap,mS=({key:t,route:e,manifest:r,mapRouteProperties:n})=>{let i=r[e.id];if(Yr(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let s=db.get(i);s||(s={},db.set(i,s));let l=s[t];if(l)return l;let c=(async()=>{let f=GA(t),v=i[t]!==void 0&&t!=="hasErrorBoundary";if(f)Ki(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),s[t]=Promise.resolve();else if(v)Ki(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let y=await a();y!=null&&(Object.assign(i,{[t]:y}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(y=>y===void 0)&&(i.lazy=void 0))})();return s[t]=c,c},pb=new WeakMap;function AL(t,e,r,n,i){let a=r[t.id];if(Yr(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=pb.get(a);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let v=(async()=>{Yr(typeof t.lazy=="function","No lazy route function found");let y=await t.lazy(),_={};for(let T in y){let b=y[T];if(b===void 0)continue;let C=qA(T),j=a[T]!==void 0&&T!=="hasErrorBoundary";C?Ki(!C,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?Ki(!j,`Route "${a.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):_[T]=b}Object.assign(a,_),Object.assign(a,{...n(a),lazy:void 0})})();return pb.set(a,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let s=Object.keys(t.lazy),l=[],c;for(let p of s){if(i&&i.includes(p))continue;let v=mS({key:p,route:t,manifest:r,mapRouteProperties:n});v&&(l.push(v),p===e&&(c=v))}let f=l.length>0?Promise.all(l).then(()=>{}):void 0;return f?.catch(()=>{}),c?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:c}}async function mb(t){let e=t.matches.filter(i=>i.shouldLoad),r={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{r[e[a].route.id]=i}),r}async function LL(t){return t.matches.some(e=>e.route.middleware)?gS(t,()=>mb(t)):mb(t)}function gS(t,e){return NL(t,e,n=>{if(zL(n))throw n;return n},IL,r);function r(n,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:n}}));{let{matches:s}=t,l=Math.min(Math.max(s.findIndex(f=>f.route.id===i),0),Math.max(s.findIndex(f=>f.shouldCallHandler()),0)),c=Vc(s,s[l].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:n}})}}}async function NL(t,e,r,n,i){let{matches:a,request:s,params:l,context:c,unstable_pattern:f}=t,p=a.flatMap(y=>y.route.middleware?y.route.middleware.map(_=>[y.route.id,_]):[]);return await vS({request:s,params:l,context:c,unstable_pattern:f},p,e,r,n,i)}async function vS(t,e,r,n,i,a,s=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let c=e[s];if(!c)return await r();let[f,p]=c,v,y=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");try{return v={value:await vS(t,e,r,n,i,a,s+1)},v.value}catch(_){return v={value:await a(_,f,v)},v.value}};try{let _=await p(t,y),T=_!=null?n(_):void 0;return i(T)?T:v?T??v.value:(v={value:await y()},v.value)}catch(_){return await a(_,f,v)}}function _S(t,e,r,n,i){let a=mS({key:"middleware",route:n.route,manifest:e,mapRouteProperties:t}),s=AL(n.route,js(r.method)?"action":"loader",e,t,i);return{middleware:a,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function V2(t,e,r,n,i,a,s,l,c=null,f){let p=!1,v=_S(t,e,r,i,a);return{...i,_lazyPromises:v,shouldLoad:l,shouldRevalidateArgs:c,shouldCallHandler(y){return p=!0,c?typeof f=="boolean"?_0(i,{...c,defaultShouldRevalidate:f}):typeof y=="boolean"?_0(i,{...c,defaultShouldRevalidate:y}):_0(i,c):l},resolve(y){let{lazy:_,loader:T,middleware:b}=i.route,C=p||l||y&&!js(r.method)&&(_||T),P=b&&b.length>0&&!T&&!_;return C&&(js(r.method)||!P)?ML({request:r,unstable_pattern:n,match:i,lazyHandlerPromise:v?.handler,lazyRoutePromise:v?.route,handlerOverride:y,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function rd(t,e,r,n,i,a,s,l=null){return n.map(c=>c.route.id!==i.route.id?{...c,shouldLoad:!1,shouldRevalidateArgs:l,shouldCallHandler:()=>!1,_lazyPromises:_S(t,e,r,c,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:V2(t,e,r,up(n),c,a,s,!0,l))}async function CL(t,e,r,n,i,a){r.some(f=>f._lazyPromises?.middleware)&&await Promise.all(r.map(f=>f._lazyPromises?.middleware));let s={request:e,unstable_pattern:up(r),params:r[0].params,context:i,matches:r},c=await t({...s,fetcherKey:n,runClientMiddleware:f=>{let p=s;return gS(p,()=>f({...p,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return c}async function ML({request:t,unstable_pattern:e,match:r,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:a,scopedContext:s}){let l,c,f=js(t.method),p=f?"action":"loader",v=y=>{let _,T=new Promise((P,j)=>_=j);c=()=>_(),t.signal.addEventListener("abort",c);let b=P=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${r.route.id}]`)):y({request:t,unstable_pattern:e,params:r.params,context:s},...P!==void 0?[P]:[]),C=(async()=>{try{return{type:"data",result:await(a?a(j=>b(j)):b())}}catch(P){return{type:"error",result:P}}})();return Promise.race([C,T])};try{let y=f?r.route.action:r.route.loader;if(n||i)if(y){let _,[T]=await Promise.all([v(y).catch(b=>{_=b}),n,i]);if(_!==void 0)throw _;l=T}else{await n;let _=f?r.route.action:r.route.loader;if(_)[l]=await Promise.all([v(_),i]);else if(p==="action"){let T=new URL(t.url),b=T.pathname+T.search;throw gl(405,{method:t.method,pathname:b,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(y)l=await v(y);else{let _=new URL(t.url),T=_.pathname+_.search;throw gl(404,{pathname:T})}}catch(y){return{type:"error",result:y}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function kL(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function PL(t){let{result:e,type:r}=t;if(P_(e)){let n;try{n=await kL(e)}catch(i){return{type:"error",error:i}}return r==="error"?{type:"error",error:new lp(e.status,e.statusText,n),statusCode:e.status,headers:e.headers}:{type:"data",data:n,statusCode:e.status,headers:e.headers}}return r==="error"?wb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:jL(e),statusCode:B0(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:B0(e)?e.status:void 0}:wb(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function OL(t,e,r,n,i){let a=t.headers.get("Location");if(Yr(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!M_(a)){let s=n.slice(0,n.findIndex(l=>l.route.id===r)+1);a=H2(new URL(e.url),s,i,a),t.headers.set("Location",a)}return t}function gb(t,e,r,n){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(M_(t)){let a=t,s=a.startsWith("//")?new URL(e.protocol+a):new URL(a);if(i.includes(s.protocol))throw new Error("Invalid redirect location");let l=xl(s.pathname,r)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}try{let a=n.createURL(t);if(i.includes(a.protocol))throw new Error("Invalid redirect location")}catch{}return t}function Uf(t,e,r,n){let i=t.createURL(yS(e)).toString(),a={signal:r};if(n&&js(n.formMethod)){let{formMethod:s,formEncType:l}=n;a.method=s.toUpperCase(),l==="application/json"?(a.headers=new Headers({"Content-Type":l}),a.body=JSON.stringify(n.json)):l==="text/plain"?a.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?a.body=$2(n.formData):a.body=n.formData}return new Request(i,a)}function $2(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function vb(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function RL(t,e,r,n=!1,i=!1){let a={},s=null,l,c=!1,f={},p=r&&Zo(r[1])?r[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let y=v.route.id,_=e[y];if(Yr(!Mh(_),"Cannot handle redirect results in processLoaderData"),Zo(_)){let T=_.error;if(p!==void 0&&(T=p,p=void 0),s=s||{},i)s[y]=T;else{let b=Vc(t,y);s[b.route.id]==null&&(s[b.route.id]=T)}n||(a[y]=dS),c||(c=!0,l=B0(_.error)?_.error.status:500),_.headers&&(f[y]=_.headers)}else a[y]=_.data,_.statusCode&&_.statusCode!==200&&!c&&(l=_.statusCode),_.headers&&(f[y]=_.headers)}),p!==void 0&&r&&(s={[r[0]]:p},r[2]&&(a[r[2]]=void 0)),{loaderData:a,errors:s,statusCode:l||200,loaderHeaders:f}}function _b(t,e,r,n,i,a){let{loaderData:s,errors:l}=RL(e,r,n);return i.filter(c=>!c.matches||c.matches.some(f=>f.shouldLoad)).forEach(c=>{let{key:f,match:p,controller:v}=c;if(v&&v.signal.aborted)return;let y=a[f];if(Yr(y,"Did not find corresponding fetcher result"),Zo(y)){let _=Vc(t.matches,p?.route.id);l&&l[_.route.id]||(l={...l,[_.route.id]:y.error}),t.fetchers.delete(f)}else if(Mh(y))Yr(!1,"Unhandled fetcher revalidation redirect");else{let _=ic(y.data);t.fetchers.set(f,_)}}),{loaderData:s,errors:l}}function yb(t,e,r,n){let i=Object.entries(e).filter(([,a])=>a!==dS).reduce((a,[s,l])=>(a[s]=l,a),{});for(let a of r){let s=a.route.id;if(!e.hasOwnProperty(s)&&t.hasOwnProperty(s)&&a.route.loader&&(i[s]=t[s]),n&&n.hasOwnProperty(s))break}return i}function xb(t){return t?Zo(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Vc(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function gm(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gl(t,{pathname:e,routeId:r,method:n,type:i,message:a}={}){let s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",n&&e&&r?l=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(s="Forbidden",l=`Route "${r}" does not match URL "${e}"`):t===404?(s="Not Found",l=`No route matches URL "${e}"`):t===405&&(s="Method Not Allowed",n&&e&&r?l=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(l=`Invalid request method "${n.toUpperCase()}"`)),new lp(t||500,s,new Error(l),!0)}function vm(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,i]=e[r];if(Mh(i))return{key:n,result:i}}}function yS(t){let e=typeof t=="string"?fc(t):t;return Pu({...e,hash:""})}function DL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function jL(t){return new lp(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function IL(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,r])=>typeof e=="string"&&FL(r))}function FL(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function BL(t){return P_(t.result)&&hS.has(t.result.status)}function Zo(t){return t.type==="error"}function Mh(t){return(t&&t.type)==="redirect"}function wb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function P_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function UL(t){return hS.has(t)}function zL(t){return P_(t)&&UL(t.status)&&t.headers.has("Location")}function GL(t){return _L.has(t.toUpperCase())}function js(t){return gL.has(t.toUpperCase())}function O_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Jm(t,e){let r=typeof e=="string"?fc(e).search:e.search;if(t[t.length-1].route.index&&O_(r||""))return t[t.length-1];let n=sS(t);return n[n.length-1]}function bb(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:a,json:s}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function Iv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function r0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qL(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ic(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function VL(t,e){try{let r=t.sessionStorage.getItem(fS);if(r){let n=JSON.parse(r);for(let[i,a]of Object.entries(n||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function $L(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(fS,JSON.stringify(r))}catch(n){Ki(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function Sb(){let t,e,r=new Promise((n,i)=>{t=async a=>{n(a);try{await r}catch{}},e=async a=>{i(a);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var Gh=de.createContext(null);Gh.displayName="DataRouter";var cp=de.createContext(null);cp.displayName="DataRouterState";var xS=de.createContext(!1);function WL(){return de.useContext(xS)}var R_=de.createContext({isTransitioning:!1});R_.displayName="ViewTransition";var wS=de.createContext(new Map);wS.displayName="Fetchers";var ZL=de.createContext(null);ZL.displayName="Await";var el=de.createContext(null);el.displayName="Navigation";var K1=de.createContext(null);K1.displayName="Location";var bl=de.createContext({outlet:null,matches:[],isDataRoute:!1});bl.displayName="Route";var D_=de.createContext(null);D_.displayName="RouteError";var bS="REACT_ROUTER_ERROR",YL="REDIRECT",KL="ROUTE_ERROR_RESPONSE";function XL(t){if(t.startsWith(`${bS}:${YL}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function JL(t){if(t.startsWith(`${bS}:${KL}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new lp(e.status,e.statusText,e.data)}catch{}}function QL(t,{relative:e}={}){Yr(gd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=de.useContext(el),{hash:i,pathname:a,search:s}=hp(t,{relative:e}),l=a;return r!=="/"&&(l=a==="/"?r:ku([r,a])),n.createHref({pathname:l,search:s,hash:i})}function gd(){return de.useContext(K1)!=null}function dc(){return Yr(gd(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(K1).location}var SS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ES(t){de.useContext(el).static||de.useLayoutEffect(t)}function ah(){let{isDataRoute:t}=de.useContext(bl);return t?mN():eN()}function eN(){Yr(gd(),"useNavigate() may be used only in the context of a <Router> component.");let t=de.useContext(Gh),{basename:e,navigator:r}=de.useContext(el),{matches:n}=de.useContext(bl),{pathname:i}=dc(),a=JSON.stringify(Z1(n)),s=de.useRef(!1);return ES(()=>{s.current=!0}),de.useCallback((c,f={})=>{if(Ki(s.current,SS),!s.current)return;if(typeof c=="number"){r.go(c);return}let p=Y1(c,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ku([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,a,i,t])}var tN=de.createContext(null);function rN(t){let e=de.useContext(bl).outlet;return de.useMemo(()=>e&&de.createElement(tN.Provider,{value:t},e),[e,t])}function nN(){let{matches:t}=de.useContext(bl),e=t[t.length-1];return e?e.params:{}}function hp(t,{relative:e}={}){let{matches:r}=de.useContext(bl),{pathname:n}=dc(),i=JSON.stringify(Z1(r));return de.useMemo(()=>Y1(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function iN(t,e,r,n,i){Yr(gd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=de.useContext(el),{matches:s}=de.useContext(bl),l=s[s.length-1],c=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",v=l&&l.route;{let j=v&&v.path||"";AS(f,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let y=dc(),_;_=y;let T=_.pathname||"/",b=T;if(p!=="/"){let j=p.replace(/^\//,"").split("/");b="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let C=qc(t,{pathname:b});return Ki(v||C!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ki(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),uN(C&&C.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:ku([p,a.encodeLocation?a.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:ku([p,a.encodeLocation?a.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),s,r,n,i)}function aN(){let t=pN(),e=B0(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=de.createElement(de.Fragment,null,de.createElement("p",null," Hey developer "),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:a},"ErrorBoundary")," or"," ",de.createElement("code",{style:a},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),r?de.createElement("pre",{style:i},r):null,s)}var sN=de.createElement(aN,null),TS=class extends de.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=JL(t.digest);r&&(t=r)}let e=t!==void 0?de.createElement(bl.Provider,{value:this.props.routeContext},de.createElement(D_.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?de.createElement(oN,{error:t},e):e}};TS.contextType=xS;var Fv=new WeakMap;function oN({children:t,error:e}){let{basename:r}=de.useContext(el);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=XL(e.digest);if(n){let i=Fv.get(e);if(i)throw i;let a=lS(n.location,r);if(oS&&!Fv.get(e))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw Fv.set(e,s),s}return de.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function lN({routeContext:t,match:e,children:r}){let n=de.useContext(Gh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(bl.Provider,{value:t},r)}function uN(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=r?.errors;if(s!=null){let p=a.findIndex(v=>v.route.id&&s?.[v.route.id]!==void 0);Yr(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let l=!1,c=-1;if(r)for(let p=0;p<a.length;p++){let v=a[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(c=p),v.route.id){let{loaderData:y,errors:_}=r,T=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||T){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=r&&n?(p,v)=>{n(p,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:up(r.matches),errorInfo:v})}:void 0;return a.reduceRight((p,v,y)=>{let _,T=!1,b=null,C=null;r&&(_=s&&v.route.id?s[v.route.id]:void 0,b=v.route.errorElement||sN,l&&(c<0&&y===0?(AS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):c===y&&(T=!0,C=v.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,y+1)),j=()=>{let R;return _?R=b:T?R=C:v.route.Component?R=de.createElement(v.route.Component,null):v.route.element?R=v.route.element:R=p,de.createElement(lN,{match:v,routeContext:{outlet:p,matches:P,isDataRoute:r!=null},children:R})};return r&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?de.createElement(TS,{location:r.location,revalidation:r.revalidation,component:b,error:_,children:j(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:f}):j()},null)}function j_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cN(t){let e=de.useContext(Gh);return Yr(e,j_(t)),e}function hN(t){let e=de.useContext(cp);return Yr(e,j_(t)),e}function fN(t){let e=de.useContext(bl);return Yr(e,j_(t)),e}function I_(t){let e=fN(t),r=e.matches[e.matches.length-1];return Yr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function dN(){return I_("useRouteId")}function pN(){let t=de.useContext(D_),e=hN("useRouteError"),r=I_("useRouteError");return t!==void 0?t:e.errors?.[r]}function mN(){let{router:t}=cN("useNavigate"),e=I_("useNavigate"),r=de.useRef(!1);return ES(()=>{r.current=!0}),de.useCallback(async(i,a={})=>{Ki(r.current,SS),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Eb={};function AS(t,e,r){!e&&!Eb[t]&&(Eb[t]=!0,Ki(!1,r))}var Tb={};function Ab(t,e){!t&&!Tb[e]&&(Tb[e]=!0,console.warn(e))}var gN="useOptimistic",Lb=NA[gN],vN=()=>{};function _N(t){return Lb?Lb(t):[t,vN]}function yN(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Ki(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:de.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Ki(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:de.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Ki(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:de.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var xN=["HydrateFallback","hydrateFallbackElement"],wN=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function bN({router:t,flushSync:e,onError:r,unstable_useTransitions:n}){n=WL()||n;let[a,s]=de.useState(t.state),[l,c]=_N(a),[f,p]=de.useState(),[v,y]=de.useState({isTransitioning:!1}),[_,T]=de.useState(),[b,C]=de.useState(),[P,j]=de.useState(),R=de.useRef(new Map),B=de.useCallback((K,{deletedFetchers:U,newErrors:X,flushSync:I,viewTransitionOpts:W})=>{X&&r&&Object.values(X).forEach(pe=>r(pe,{location:K.location,params:K.matches[0]?.params??{},unstable_pattern:up(K.matches)})),K.fetchers.forEach((pe,xe)=>{pe.data!==void 0&&R.current.set(xe,pe.data)}),U.forEach(pe=>R.current.delete(pe)),Ab(I===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ce=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Ab(W==null||ce,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!W||!ce){e&&I?e(()=>s(K)):n===!1?s(K):de.startTransition(()=>{n===!0&&c(pe=>Nb(pe,K)),s(K)});return}if(e&&I){e(()=>{b&&(_?.resolve(),b.skipTransition()),y({isTransitioning:!0,flushSync:!0,currentLocation:W.currentLocation,nextLocation:W.nextLocation})});let pe=t.window.document.startViewTransition(()=>{e(()=>s(K))});pe.finished.finally(()=>{e(()=>{T(void 0),C(void 0),p(void 0),y({isTransitioning:!1})})}),e(()=>C(pe));return}b?(_?.resolve(),b.skipTransition(),j({state:K,currentLocation:W.currentLocation,nextLocation:W.nextLocation})):(p(K),y({isTransitioning:!0,flushSync:!1,currentLocation:W.currentLocation,nextLocation:W.nextLocation}))},[t.window,e,b,_,n,c,r]);de.useLayoutEffect(()=>t.subscribe(B),[t,B]),de.useEffect(()=>{v.isTransitioning&&!v.flushSync&&T(new wN)},[v]),de.useEffect(()=>{if(_&&f&&t.window){let K=f,U=_.promise,X=t.window.document.startViewTransition(async()=>{n===!1?s(K):de.startTransition(()=>{n===!0&&c(I=>Nb(I,K)),s(K)}),await U});X.finished.finally(()=>{T(void 0),C(void 0),p(void 0),y({isTransitioning:!1})}),C(X)}},[f,_,t.window,n,c]),de.useEffect(()=>{_&&f&&l.location.key===f.location.key&&_.resolve()},[_,b,l.location,f]),de.useEffect(()=>{!v.isTransitioning&&P&&(p(P.state),y({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}),j(void 0))},[v.isTransitioning,P]);let te=de.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:K=>t.navigate(K),push:(K,U,X)=>t.navigate(K,{state:U,preventScrollReset:X?.preventScrollReset}),replace:(K,U,X)=>t.navigate(K,{replace:!0,state:U,preventScrollReset:X?.preventScrollReset})}),[t]),ue=t.basename||"/",F=de.useMemo(()=>({router:t,navigator:te,static:!1,basename:ue,onError:r}),[t,te,ue,r]);return de.createElement(de.Fragment,null,de.createElement(Gh.Provider,{value:F},de.createElement(cp.Provider,{value:l},de.createElement(wS.Provider,{value:R.current},de.createElement(R_.Provider,{value:v},de.createElement(TN,{basename:ue,location:l.location,navigationType:l.historyAction,navigator:te,unstable_useTransitions:n},de.createElement(SN,{routes:t.routes,future:t.future,state:l,onError:r})))))),null)}function Nb(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var SN=de.memo(EN);function EN({routes:t,future:e,state:r,onError:n}){return iN(t,void 0,r,n,e)}function F_({to:t,replace:e,state:r,relative:n}){Yr(gd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=de.useContext(el);Ki(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=de.useContext(bl),{pathname:s}=dc(),l=ah(),c=Y1(t,Z1(a),s,n==="path"),f=JSON.stringify(c);return de.useEffect(()=>{l(JSON.parse(f),{replace:e,state:r,relative:n})},[l,f,n,e,r]),null}function LS(t){return rN(t.context)}function TN({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Yr(!gd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=de.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[l,i,a,s]);typeof r=="string"&&(r=fc(r));let{pathname:f="/",search:p="",hash:v="",state:y=null,key:_="default"}=r,T=de.useMemo(()=>{let b=xl(f,l);return b==null?null:{location:{pathname:b,search:p,hash:v,state:y,key:_},navigationType:n}},[l,f,p,v,y,_,n]);return Ki(T!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:de.createElement(el.Provider,{value:c},de.createElement(K1.Provider,{children:e,value:T}))}var Qm="get",e1="application/x-www-form-urlencoded";function X1(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function AN(t){return X1(t)&&t.tagName.toLowerCase()==="button"}function LN(t){return X1(t)&&t.tagName.toLowerCase()==="form"}function NN(t){return X1(t)&&t.tagName.toLowerCase()==="input"}function CN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MN(t,e){return t.button===0&&(!e||e==="_self")&&!CN(t)}var _m=null;function kN(){if(_m===null)try{new FormData(document.createElement("form"),0),_m=!1}catch{_m=!0}return _m}var PN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bv(t){return t!=null&&!PN.has(t)?(Ki(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${e1}"`),null):t}function ON(t,e){let r,n,i,a,s;if(LN(t)){let l=t.getAttribute("action");n=l?xl(l,e):null,r=t.getAttribute("method")||Qm,i=Bv(t.getAttribute("enctype"))||e1,a=new FormData(t)}else if(AN(t)||NN(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?xl(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Qm,i=Bv(t.getAttribute("formenctype"))||Bv(l.getAttribute("enctype"))||e1,a=new FormData(l,t),!kN()){let{name:f,type:p,value:v}=t;if(p==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,v)}}else{if(X1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Qm,n=null,i=e1,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function B_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RN(t,e,r,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:e&&xl(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function DN(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function IN(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await DN(a,r);return s.links?s.links():[]}return[]}));return zN(n.flat(1).filter(jN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Cb(t,e,r,n,i,a){let s=(c,f)=>r[f]?c.route.id!==r[f].route.id:!0,l=(c,f)=>r[f].pathname!==c.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,f)=>s(c,f)||l(c,f)):a==="data"?e.filter((c,f)=>{let p=n.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(s(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function FN(t,e,{includeHydrateFallback:r}={}){return BN(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function BN(t){return[...new Set(t)]}function UN(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function zN(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(UN(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function NS(){let t=de.useContext(Gh);return B_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GN(){let t=de.useContext(cp);return B_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var U_=de.createContext(void 0);U_.displayName="FrameworkContext";function CS(){let t=de.useContext(U_);return B_(t,"You must render this element inside a <HydratedRouter> element"),t}function HN(t,e){let r=de.useContext(U_),[n,i]=de.useState(!1),[a,s]=de.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,y=de.useRef(null);de.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let b=P=>{P.forEach(j=>{s(j.isIntersecting)})},C=new IntersectionObserver(b,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[t]),de.useEffect(()=>{if(n){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[n]);let _=()=>{i(!0)},T=()=>{i(!1),s(!1)};return r?t!=="intent"?[a,y,{}]:[a,y,{onFocus:n0(l,_),onBlur:n0(c,T),onMouseEnter:n0(f,_),onMouseLeave:n0(p,T),onTouchStart:n0(v,_)}]:[!1,y,{}]}function n0(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function qN({page:t,...e}){let{router:r}=NS(),n=de.useMemo(()=>qc(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?de.createElement($N,{page:t,matches:n,...e}):null}function VN(t){let{manifest:e,routeModules:r}=CS(),[n,i]=de.useState([]);return de.useEffect(()=>{let a=!1;return IN(t,e,r).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,r]),n}function $N({page:t,matches:e,...r}){let n=dc(),{future:i,manifest:a,routeModules:s}=CS(),{basename:l}=NS(),{loaderData:c,matches:f}=GN(),p=de.useMemo(()=>Cb(t,e,f,a,n,"data"),[t,e,f,a,n]),v=de.useMemo(()=>Cb(t,e,f,a,n,"assets"),[t,e,f,a,n]),y=de.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let b=new Set,C=!1;if(e.forEach(j=>{let R=a.routes[j.route.id];!R||!R.hasLoader||(!p.some(B=>B.route.id===j.route.id)&&j.route.id in c&&s[j.route.id]?.shouldRevalidate||R.hasClientLoader?C=!0:b.add(j.route.id))}),b.size===0)return[];let P=RN(t,l,i.unstable_trailingSlashAwareDataRequests,"data");return C&&b.size>0&&P.searchParams.set("_routes",e.filter(j=>b.has(j.route.id)).map(j=>j.route.id).join(",")),[P.pathname+P.search]},[l,i.unstable_trailingSlashAwareDataRequests,c,n,a,p,e,t,s]),_=de.useMemo(()=>FN(v,a),[v,a]),T=VN(v);return de.createElement(de.Fragment,null,y.map(b=>de.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),_.map(b=>de.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),T.map(({key:b,link:C})=>de.createElement("link",{key:b,nonce:r.nonce,...C,crossOrigin:C.crossOrigin??r.crossOrigin})))}function WN(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var ZN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZN&&(window.__reactRouterVersion="7.13.0")}catch{}function YN(t,e){return bL({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:FA({window:e?.window}),hydrationData:KN(),routes:t,mapRouteProperties:yN,hydrationRouteProperties:xN,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function KN(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:XN(t.errors)}),t}function XN(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new lp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",r[n]=s}catch{}}if(r[n]==null){let a=new Error(i.message);a.stack="",r[n]=a}}else r[n]=i;return r}var MS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U0=de.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:y,..._},T){let{basename:b,unstable_useTransitions:C}=de.useContext(el),P=typeof f=="string"&&MS.test(f),j=lS(f,b);f=j.to;let R=QL(f,{relative:i}),[B,te,ue]=HN(n,_),F=tC(f,{replace:s,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:v,unstable_defaultShouldRevalidate:y,unstable_useTransitions:C});function K(X){e&&e(X),X.defaultPrevented||F(X)}let U=de.createElement("a",{..._,...ue,href:j.absoluteURL||R,onClick:j.isExternal||a?e:K,ref:WN(T,te),target:c,"data-discover":!P&&r==="render"?"true":void 0});return B&&!P?de.createElement(de.Fragment,null,U,de.createElement(qN,{page:R})):U});U0.displayName="Link";var JN=de.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...f},p){let v=hp(s,{relative:f.relative}),y=dc(),_=de.useContext(cp),{navigator:T,basename:b}=de.useContext(el),C=_!=null&&sC(v)&&l===!0,P=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,j=y.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(j=j.toLowerCase(),R=R?R.toLowerCase():null,P=P.toLowerCase()),R&&b&&(R=xl(R,b)||R);const B=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let te=j===P||!i&&j.startsWith(P)&&j.charAt(B)==="/",ue=R!=null&&(R===P||!i&&R.startsWith(P)&&R.charAt(P.length)==="/"),F={isActive:te,isPending:ue,isTransitioning:C},K=te?e:void 0,U;typeof n=="function"?U=n(F):U=[n,te?"active":null,ue?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let X=typeof a=="function"?a(F):a;return de.createElement(U0,{...f,"aria-current":K,className:U,ref:p,style:X,to:s,viewTransition:l},typeof c=="function"?c(F):c)});JN.displayName="NavLink";var QN=de.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:s=Qm,action:l,onSubmit:c,relative:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:y,..._},T)=>{let{unstable_useTransitions:b}=de.useContext(el),C=iC(),P=aC(l,{relative:f}),j=s.toLowerCase()==="get"?"get":"post",R=typeof l=="string"&&MS.test(l),B=te=>{if(c&&c(te),te.defaultPrevented)return;te.preventDefault();let ue=te.nativeEvent.submitter,F=ue?.getAttribute("formmethod")||s,K=()=>C(ue||te.currentTarget,{fetcherKey:e,method:F,navigate:r,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:y});b&&r!==!1?de.startTransition(()=>K()):K()};return de.createElement("form",{ref:T,method:j,action:P,onSubmit:n?c:B,..._,"data-discover":!R&&t==="render"?"true":void 0})});QN.displayName="Form";function eC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kS(t){let e=de.useContext(Gh);return Yr(e,eC(t)),e}function tC(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let f=ah(),p=dc(),v=hp(t,{relative:a});return de.useCallback(y=>{if(MN(y,e)){y.preventDefault();let _=r!==void 0?r:Pu(p)===Pu(v),T=()=>f(t,{replace:_,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l});c?de.startTransition(()=>T()):T()}},[p,f,v,r,n,e,t,i,a,s,l,c])}var rC=0,nC=()=>`__${String(++rC)}__`;function iC(){let{router:t}=kS("useSubmit"),{basename:e}=de.useContext(el),r=dN(),n=t.fetch,i=t.navigate;return de.useCallback(async(a,s={})=>{let{action:l,method:c,encType:f,formData:p,body:v}=ON(a,e);if(s.navigate===!1){let y=s.fetcherKey||nC();await n(y,r,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,i,e,r])}function aC(t,{relative:e}={}){let{basename:r}=de.useContext(el),n=de.useContext(bl);Yr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...hp(t||".",{relative:e})},s=dc();if(t==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(p=>p==="")){l.delete("index"),c.filter(v=>v).forEach(v=>l.append("index",v));let p=l.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:ku([r,a.pathname])),Pu(a)}function sC(t,{relative:e}={}){let r=de.useContext(R_);Yr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=kS("useViewTransitionState"),i=hp(t,{relative:e});if(!r.isTransitioning)return!1;let a=xl(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=xl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return h1(i.pathname,s)!=null||h1(i.pathname,a)!=null}var PS=eS();function oC(t){return de.createElement(bN,{flushSync:PS.flushSync,...t})}function J1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function lC(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(p){try{f(n.next(p))}catch(v){s(v)}}function c(p){try{f(n.throw(p))}catch(v){s(v)}}function f(p){p.done?a(p.value):i(p.value).then(l,c)}f((n=n.apply(t,e||[])).next())})}const uC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class z_ extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class cC extends z_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Mb extends z_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kb extends z_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var W2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(W2||(W2={}));class hC{constructor(e,{headers:r={},customFetch:n,region:i=W2.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=uC(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return lC(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:l,method:c,body:f,signal:p,timeout:v}=n;let y={},{region:_}=n;_||(_=this.region);const T=new URL(`${this.url}/${r}`);_&&_!=="any"&&(y["x-region"]=_,T.searchParams.set("forceFunctionRegion",_));let b;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",b=f):typeof f=="string"?(y["Content-Type"]="text/plain",b=f):typeof FormData<"u"&&f instanceof FormData?b=f:(y["Content-Type"]="application/json",b=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?b=JSON.stringify(f):b=f;let C=p;v&&(s=new AbortController,a=setTimeout(()=>s.abort(),v),p?(C=s.signal,p.addEventListener("abort",()=>s.abort())):C=s.signal);const P=yield this.fetch(T.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),l),body:b,signal:C}).catch(te=>{throw new cC(te)}),j=P.headers.get("x-relay-error");if(j&&j==="true")throw new Mb(P);if(!P.ok)throw new kb(P);let R=((i=P.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),B;return R==="application/json"?B=yield P.json():R==="application/octet-stream"||R==="application/pdf"?B=yield P.blob():R==="text/event-stream"?B=P:R==="multipart/form-data"?B=yield P.formData():B=yield P.text(),{data:B,error:null,response:P}}catch(l){return{data:null,error:l,response:l instanceof kb||l instanceof Mb?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var fC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},dC=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,l=null,c=null,f=a.status,p=a.statusText;if(a.ok){var v,y;if(r.method!=="HEAD"){var _;const P=await a.text();P===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((_=r.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?l=P:l=JSON.parse(P))}const b=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),C=(y=a.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");b&&C&&C.length>1&&(c=parseInt(C[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,f=406,p="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var T;const b=await a.text();try{s=JSON.parse(b),Array.isArray(s)&&a.status===404&&(l=[],s=null,f=200,p="OK")}catch{a.status===404&&b===""?(f=204,p="No Content"):s={message:b}}if(s&&r.isMaybeSingle&&(!(s==null||(T=s.details)===null||T===void 0)&&T.includes("0 rows"))&&(s=null,f=200,p="OK"),s&&r.shouldThrowOnError)throw new fC(s)}return{error:s,data:l,count:c,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let l="";const c=a?.cause;if(c){var f,p,v,y;const T=(f=c?.message)!==null&&f!==void 0?f:"",b=(p=c?.code)!==null&&p!==void 0?p:"";l=`${(v=a?.name)!==null&&v!==void 0?v:"FetchError"}: ${a?.message}`,l+=`

Caused by: ${(y=c?.name)!==null&&y!==void 0?y:"Error"}: ${T}`,b&&(l+=` (${b})`),c?.stack&&(l+=`
${c.stack}`)}else{var _;l=(_=a?.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(s=a?.name)!==null&&s!==void 0?s:"FetchError"}: ${a?.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},pC=class extends dC{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var s;const l=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Pb=new RegExp("[,()]");var zf=class extends pC{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Pb.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Pb.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},mC=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new zf({method:i,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:s}=this.cloneRequestState();if(e&&s.append("Prefer",`count=${e}`),r||s.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(l.length>0){const c=[...new Set(l)].map(f=>`"${f}"`);a.searchParams.set("columns",c.join(","))}}return new zf({method:i,url:a,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const s="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&l.searchParams.set("on_conflict",e),n&&c.append("Prefer",`count=${n}`),i||c.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(f.length>0){const p=[...new Set(f)].map(v=>`"${v}"`);l.searchParams.set("columns",p.join(","))}}return new zf({method:s,url:l,headers:c,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new zf({method:n,url:i,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new zf({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},gC=class OS{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new mC(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new OS(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let l;const c=new URL(`${this.url}/rpc/${e}`);let f;const p=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(p)),v=n&&Object.values(r).some(p);v?(l="POST",f=r):n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([_,T])=>T!==void 0).map(([_,T])=>[_,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([_,T])=>{c.searchParams.append(_,T)})):(l="POST",f=r);const y=new Headers(this.headers);return v?y.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&y.set("Prefer",`count=${a}`),new zf({method:l,url:c,headers:y,schema:this.schemaName,body:f,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class vC{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const _C="2.93.1",yC=`realtime-js/${_C}`,xC="1.0.0",RS="2.0.0",Ob=RS,Z2=1e4,wC=1e3,bC=100;var Hc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Hc||(Hc={}));var ja;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ja||(ja={}));var Vl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Vl||(Vl={}));var Y2;(function(t){t.websocket="websocket"})(Y2||(Y2={}));var Th;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Th||(Th={}));class SC{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,r,n){var i,a;const s=e.topic,l=(i=e.ref)!==null&&i!==void 0?i:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(p).length===0?"":JSON.stringify(p);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+f.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+y);let T=new DataView(_),b=0;T.setUint8(b++,this.KINDS.userBroadcastPush),T.setUint8(b++,c.length),T.setUint8(b++,l.length),T.setUint8(b++,s.length),T.setUint8(b++,f.length),T.setUint8(b++,v.length),T.setUint8(b++,r),Array.from(c,P=>T.setUint8(b++,P.charCodeAt(0))),Array.from(l,P=>T.setUint8(b++,P.charCodeAt(0))),Array.from(s,P=>T.setUint8(b++,P.charCodeAt(0))),Array.from(f,P=>T.setUint8(b++,P.charCodeAt(0))),Array.from(v,P=>T.setUint8(b++,P.charCodeAt(0)));var C=new Uint8Array(_.byteLength+n.byteLength);return C.set(new Uint8Array(_),0),C.set(new Uint8Array(n),_.byteLength),C.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,s,l,c]=n;return r({join_ref:i,ref:a,topic:s,event:l,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,i)}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const f=n.decode(e.slice(c,c+i));c=c+i;const p=n.decode(e.slice(c,c+a));c=c+a;const v=n.decode(e.slice(c,c+s));c=c+s;const y=e.slice(c,e.byteLength),_=l===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,T={type:this.BROADCAST_EVENT,event:p,payload:_};return s>0&&(T.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class DS{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oi;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oi||(oi={}));const Rb=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=EC(s,t,e,i),a),{}):{}},EC=(t,e,r,n)=>{const i=e.find(l=>l.name===t),a=i?.type,s=r[t];return a&&!n.includes(a)?jS(a,s):K2(s)},jS=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return NC(e,r)}switch(t){case oi.bool:return TC(e);case oi.float4:case oi.float8:case oi.int2:case oi.int4:case oi.int8:case oi.numeric:case oi.oid:return AC(e);case oi.json:case oi.jsonb:return LC(e);case oi.timestamp:return CC(e);case oi.abstime:case oi.date:case oi.daterange:case oi.int4range:case oi.int8range:case oi.money:case oi.reltime:case oi.text:case oi.time:case oi.timestamptz:case oi.timetz:case oi.tsrange:case oi.tstzrange:return K2(e);default:return K2(e)}},K2=t=>t,TC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},AC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},LC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},NC=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>jS(e,l))}return t},CC=t=>typeof t=="string"?t.replace(" ","T"):t,IS=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Uv{constructor(e,r,n={},i=Z2){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Db;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Db||(Db={}));class y0{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=y0.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=y0.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=y0.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),l={},c={};return this.map(a,(f,p)=>{s[f]||(c[f]=p)}),this.map(s,(f,p)=>{const v=a[f];if(v){const y=p.map(C=>C.presence_ref),_=v.map(C=>C.presence_ref),T=p.filter(C=>_.indexOf(C.presence_ref)<0),b=v.filter(C=>y.indexOf(C.presence_ref)<0);T.length>0&&(l[f]=T),b.length>0&&(c[f]=b)}else l[f]=p}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var f;const p=(f=e[l])!==null&&f!==void 0?f:[];if(e[l]=this.cloneDeep(c),p.length>0){const v=e[l].map(_=>_.presence_ref),y=p.filter(_=>v.indexOf(_.presence_ref)<0);e[l].unshift(...y)}n(l,p,c)}),this.map(s,(l,c)=>{let f=e[l];if(!f)return;const p=c.map(v=>v.presence_ref);f=f.filter(v=>p.indexOf(v.presence_ref)<0),e[l]=f,i(l,f,c),f.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(jb||(jb={}));var x0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(x0||(x0={}));var ac;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ac||(ac={}));class Yf{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ja.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Uv(this,Vl.join,this.params,this.timeout),this.rejoinTimer=new DS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ja.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ja.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ja.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ja.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ja.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vl.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new y0(this),this.broadcastEndpointURL=IS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ja.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,f=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(_=>_.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[x0.PRESENCE]&&this.bindings[x0.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},y={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:p}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(ac.CHANNEL_ERROR,_)),this._onClose(()=>e?.(ac.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e?.(ac.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,C=(T=b?.length)!==null&&T!==void 0?T:0,P=[];for(let j=0;j<C;j++){const R=b[j],{filter:{event:B,schema:te,table:ue,filter:F}}=R,K=_&&_[j];if(K&&K.event===B&&Yf.isFilterValueEqual(K.schema,te)&&Yf.isFilterValueEqual(K.table,ue)&&Yf.isFilterValueEqual(K.filter,F))P.push(Object.assign(Object.assign({},R),{id:K.id}));else{this.unsubscribe(),this.state=ja.errored,e?.(ac.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(ac.SUBSCRIBED);return}}).receive("error",_=>{this.state=ja.errored,e?.(ac.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(ac.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ja.joined&&e===x0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const f=await l.json();c=f.error||f.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ja.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Uv(this,Vl.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ja.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Uv(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>bC){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:l,error:c,leave:f,join:p}=Vl;if(n&&[l,c,f,p].indexOf(s)>=0&&n!==this._joinRef())return;let y=this._onMessage(s,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var T,b,C;return((T=_.filter)===null||T===void 0?void 0:T.event)==="*"||((C=(b=_.filter)===null||b===void 0?void 0:b.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(_=>_.callback(y,n)):(a=this.bindings[s])===null||a===void 0||a.filter(_=>{var T,b,C,P,j,R;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in _){const B=_.id,te=(T=_.filter)===null||T===void 0?void 0:T.event;return B&&((b=r.ids)===null||b===void 0?void 0:b.includes(B))&&(te==="*"||te?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const B=(j=(P=_?.filter)===null||P===void 0?void 0:P.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return B==="*"||B===((R=r?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===s}).map(_=>{if(typeof y=="object"&&"ids"in y){const T=y.data,{schema:b,table:C,commit_timestamp:P,type:j,errors:R}=T;y=Object.assign(Object.assign({},{schema:b,table:C,commit_timestamp:P,eventType:j,new:{},old:{},errors:R}),this._getPayloadRecords(T))}_.callback(y,n)})}_isClosed(){return this.state===ja.closed}_isJoined(){return this.state===ja.joined}_isJoining(){return this.state===ja.joining}_isLeaving(){return this.state===ja.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Yf.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Vl.close,{},e)}_onError(e){this._on(Vl.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ja.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Rb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Rb(e.columns,e.old_record)),r}}const zv=()=>{},ym={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MC=[1e3,2e3,5e3,1e4],kC=1e4,PC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OC{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Z2,this.transport=null,this.heartbeatIntervalMs=ym.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zv,this.ref=0,this.reconnectTimer=null,this.vsn=Ob,this.logger=zv,this.conn=null,this.sendBuffer=[],this.serializer=new SC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Y2.websocket}`,this.httpEndpoint=IS(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vC.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hc.connecting:return Th.Connecting;case Hc.open:return Th.Open;case Hc.closing:return Th.Closing;default:return Th.Closed}}isConnected(){return this.connectionState()===Th.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Yf(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(wC,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ym.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",f)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:s}=r,l=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Hc.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hc.open||this.conn.readyState===Hc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Vl.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([PC],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:yC};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Vl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new DS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ym.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,s,l,c,f,p,v,y,_;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Z2,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:ym.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:zv,this.vsn=(c=e?.vsn)!==null&&c!==void 0?c:Ob,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(T=>MC[T-1]||kC),this.vsn){case xC:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((T,b)=>b(JSON.stringify(T))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((T,b)=>b(JSON.parse(T)));break;case RS:this.encode=(y=e?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(_=e?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var z0=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function RC(t,e,r){const n=new URL(e,t);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function DC(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function jC(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:s}){const l=RC(t.baseUrl,n,i),c=await DC(t.auth),f=await e(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),p=await f.text(),v=(f.headers.get("content-type")||"").includes("application/json"),y=v&&p?JSON.parse(p):p;if(!f.ok){const _=v?y:void 0,T=_?.error;throw new z0(T?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:T?.type,icebergCode:T?.code,details:_})}return{status:f.status,headers:f.headers,data:y}}}}function xm(t){return t.join("")}var IC=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:xm(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xm(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xm(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xm(t.namespace)}`}),!0}catch(e){if(e instanceof z0&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof z0&&r.status===409)return;throw r}}};function Ef(t){return t.join("")}var FC=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ef(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ef(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ef(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ef(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ef(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ef(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof z0&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof z0&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},BC=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=jC({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new IC(this.client,e),this.tableOps=new FC(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Q1=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function eg(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var wm=class extends Q1{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},FS=class extends Q1{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const UC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},X2=t=>{if(Array.isArray(t))return t.map(r=>X2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=X2(n)}),e},GC=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function G0(t){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(t)}function HC(t,e){if(G0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(G0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qC(t){var e=HC(t,"string");return G0(e)=="symbol"?e:e+""}function VC(t,e,r){return(e=qC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ib(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ib(Object(r),!0).forEach(function(n){VC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Fb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},$C=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t,a=i.status||500;if(typeof i.json=="function")i.json().then(s=>{const l=s?.statusCode||s?.code||a+"";e(new wm(Fb(s),a,l,n))}).catch(()=>{if(n==="vectors"){const s=a+"";e(new wm(i.statusText||`HTTP ${a} error`,a,s,n))}else{const s=a+"";e(new wm(i.statusText||`HTTP ${a} error`,a,s,n))}});else{const s=a+"";e(new wm(i.statusText||`HTTP ${a} error`,a,s,n))}}else e(new FS(Fb(t),t,n))},WC=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!n?Cr(Cr({},i),r):(zC(n)?(i.headers=Cr({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Cr(Cr({},i),r))};async function i0(t,e,r,n,i,a,s){return new Promise((l,c)=>{t(r,WC(e,n,i,a)).then(f=>{if(!f.ok)throw f;if(n?.noResolveJson)return f;if(s==="vectors"){const p=f.headers.get("content-type");if(!p||!p.includes("application/json"))return{}}return f.json()}).then(f=>l(f)).catch(f=>$C(f,c,n,s))})}function ZC(t="storage"){return{get:async(e,r,n,i)=>i0(e,"GET",r,n,i,void 0,t),post:async(e,r,n,i,a)=>i0(e,"POST",r,i,a,n,t),put:async(e,r,n,i,a)=>i0(e,"PUT",r,i,a,n,t),head:async(e,r,n,i)=>i0(e,"HEAD",r,Cr(Cr({},n),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,n,i,a)=>i0(e,"DELETE",r,i,a,n,t)}}const YC=ZC("storage"),{get:H0,post:Li,put:J2,head:KC,remove:G_}=YC;var vd=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=UC(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(eg(r))return{data:null,error:r};throw r}}},XC=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(eg(e))return{data:null,error:e};throw e}}};let BS;BS=Symbol.toStringTag;var JC=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[BS]="BlobDownloadBuilder",this.promise=null}asStream(){return new XC(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(eg(e))return{data:null,error:e};throw e}}};const QC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var e7=class extends vd{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var i=this;return i.handleOperation(async()=>{let a;const s=Cr(Cr({},Bb),n);let l=Cr(Cr({},i.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),n?.headers&&(l=Cr(Cr({},l),n.headers));const f=i._removeEmptyFolders(e),p=i._getFinalPath(f),v=await(t=="PUT"?J2:Li)(i.fetch,`${i.url}/object/${p}`,a,Cr({headers:l},s?.duplex?{duplex:s.duplex}:{}));return{path:f,id:v.Id,fullPath:v.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const a=i._removeEmptyFolders(t),s=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${s}`);return l.searchParams.set("token",e),i.handleOperation(async()=>{let c;const f=Cr({upsert:Bb.upsert},n),p=Cr(Cr({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{path:a,fullPath:(await J2(i.fetch,l.toString(),c,{headers:p})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const i=Cr({},r.headers);e?.upsert&&(i["x-upsert"]="true");const a=await Li(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(r.url+a.url),l=s.searchParams.get("token");if(!l)throw new Q1("No token returned by API");return{signedUrl:s.toString(),path:t,token:l}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await Li(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await Li(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t),a=await Li(n.fetch,`${n.url}/object/sign/${i}`,Cr({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${s}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const i=await Li(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(s=>Cr(Cr({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${a}`):null}))})}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",a=this._getFinalPath(t),s=()=>H0(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new JC(s,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>X2(await H0(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await KC(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(eg(n)&&n instanceof FS){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const a=typeof e?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(e?.transform||{});s!==""&&n.push(s);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await G_(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const i=Cr(Cr(Cr({},QC),e),{},{prefix:t||""});return await Li(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=Cr({},t);return await Li(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const t7="2.93.1",fp={"X-Client-Info":`storage-js/${t7}`};var r7=class extends vd{constructor(t,e={},r,n){const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),s=Cr(Cr({},fp),e);super(a,s,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await H0(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await H0(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Li(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await J2(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await G_(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},n7=class extends vd{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Cr(Cr({},fp),e);super(n,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await H0(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await G_(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!GC(t))throw new Q1("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new BC({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},i7=class extends vd{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Cr(Cr({},fp),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Li(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Li(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},a7=class extends vd{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Cr(Cr({},fp),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},s7=class extends vd{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Cr(Cr({},fp),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Li(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},o7=class extends s7{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new l7(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},l7=class extends i7{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new u7(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},u7=class extends a7{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Cr(Cr({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},c7=class extends r7{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new e7(this.url,this.headers,t,this.fetch)}get vectors(){return new o7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new n7(this.url+"/iceberg",this.headers,this.fetch)}};const US="2.93.1",Gf=30*1e3,Q2=3,Gv=Q2*Gf,h7="http://localhost:9999",f7="supabase.auth.token",d7={"X-Client-Info":`gotrue-js/${US}`},e_="X-Supabase-Api-Version",zS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},p7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,m7=600*1e3;class q0 extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function hr(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class g7 extends q0{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function v7(t){return hr(t)&&t.name==="AuthApiError"}class Ah extends q0{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class pc extends q0{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class $o extends pc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hv(t){return hr(t)&&t.name==="AuthSessionMissingError"}class Tf extends pc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bm extends pc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Sm extends pc{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _7(t){return hr(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ub extends pc{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class y7 extends pc{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class t_ extends pc{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function qv(t){return hr(t)&&t.name==="AuthRetryableFetchError"}class zb extends pc{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class r_ extends pc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const f1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gb=` 	
\r=`.split(""),x7=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Gb.length;e+=1)t[Gb[e].charCodeAt(0)]=-2;for(let e=0;e<f1.length;e+=1)t[f1[e].charCodeAt(0)]=e;return t})();function Hb(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(f1[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(f1[n]),e.queuedBits-=6}}function GS(t,e,r){const n=x7[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function qb(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{S7(s,n,r)};for(let s=0;s<t.length;s+=1)GS(t.charCodeAt(s),i,a);return e.join("")}function w7(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function b7(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}w7(n,e)}}function S7(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function nd(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)GS(t.charCodeAt(i),r,n);return new Uint8Array(e)}function E7(t){const e=[];return b7(t,r=>e.push(r)),new Uint8Array(e)}function kh(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Hb(i,r,n)),Hb(null,r,n),e.join("")}function T7(t){return Math.round(Date.now()/1e3)+t}function A7(){return Symbol("auth-callback")}const fs=()=>typeof window<"u"&&typeof document<"u",_h={tested:!1,writable:!1},HS=()=>{if(!fs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_h.tested)return _h.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_h.tested=!0,_h.writable=!0}catch{_h.tested=!0,_h.writable=!1}return _h.writable};function L7(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const qS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),N7=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Hf=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},yh=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},hs=async(t,e)=>{await t.removeItem(e)};class tg{constructor(){this.promise=new tg.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}tg.promiseConstructor=Promise;function Em(t){const e=t.split(".");if(e.length!==3)throw new r_("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!p7.test(e[n]))throw new r_("JWT not in base64url format");return{header:JSON.parse(qb(e[0])),payload:JSON.parse(qb(e[1])),signature:nd(e[2]),raw:{header:e[0],payload:e[1]}}}async function C7(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function M7(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function k7(t){return("0"+t.toString(16)).substr(-2)}function P7(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,k7).join("")}async function O7(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function R7(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await O7(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Af(t,e,r=!1){const n=P7();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Hf(t,`${e}-code-verifier`,i);const a=await R7(n);return[a,n===a?"plain":"s256"]}const D7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function j7(t){const e=t.headers.get(e_);if(!e||!e.match(D7))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function I7(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function F7(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const B7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lf(t){if(!B7.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vv(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function U7(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function Vb(t){return JSON.parse(JSON.stringify(t))}const wh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),z7=[502,503,504];async function $b(t){var e;if(!N7(t))throw new t_(wh(t),0);if(z7.includes(t.status))throw new t_(wh(t),t.status);let r;try{r=await t.json()}catch(a){throw new Ah(wh(a),a)}let n;const i=j7(t);if(i&&i.getTime()>=zS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zb(wh(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new $o}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new zb(wh(r),t.status,r.weak_password.reasons);throw new g7(wh(r),t.status||500,n)}const G7=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Lr(t,e,r,n){var i;const a=Object.assign({},n?.headers);a[e_]||(a[e_]=zS["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await H7(t,e,r+l,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function H7(t,e,r,n,i,a){const s=G7(e,n,i,a);let l;try{l=await t(r,Object.assign({},s))}catch(c){throw console.error(c),new t_(wh(c),0)}if(l.ok||await $b(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await $b(c)}}function Hl(t){var e;let r=null;$7(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=T7(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Wb(t){const e=Hl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $c(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function q7(t){return{data:t,error:null}}function V7(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=J1(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function Zb(t){return t}function $7(t){return t.access_token&&t.refresh_token&&t.expires_in}const $v=["global","local","others"];class W7{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=qS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=$v[0]){if($v.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$v.join(", ")}`);try{return await Lr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Lr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$c})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=J1(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Lr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:V7,redirectTo:r?.redirectTo})}catch(r){if(hr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Lr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$c})}catch(r){if(hr(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,l,c;try{const f={nextPage:null,lastPage:0,total:0},p=await Lr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Zb});if(p.error)throw p.error;const v=await p.json(),y=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(T=>{const b=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(T.split(";")[1].split("=")[1]);f[`${C}Page`]=b}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(hr(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Lf(e);try{return await Lr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$c})}catch(r){if(hr(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Lf(e);try{return await Lr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:$c})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Lf(e);try{return await Lr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:$c})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Lf(e.userId);try{const{data:r,error:n}=await Lr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Lf(e.userId),Lf(e.id);try{return{data:await Lr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,s,l,c;try{const f={nextPage:null,lastPage:0,total:0},p=await Lr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Zb});if(p.error)throw p.error;const v=await p.json(),y=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(T=>{const b=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(T.split(";")[1].split("=")[1]);f[`${C}Page`]=b}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(hr(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Lr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Lr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Lr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(hr(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Lr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(hr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Lr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(hr(r))return{data:null,error:r};throw r}}}function Yb(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Nf={debug:!!(globalThis&&HS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class VS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Z7 extends VS{}async function Y7(t,e,r){Nf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Nf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Nf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Nf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Nf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Z7(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nf.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function K7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $S(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function X7(t){return parseInt(t,16)}function J7(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Q7(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:l,requestId:c,resources:f,scheme:p,uri:v,version:y}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=$S(t.address),T=p?`${p}://${n}`:n,b=t.statement?`${t.statement}
`:"",C=`${T} wants you to sign in with your Ethereum account:
${_}

${b}`;let P=`URI: ${v}
Version: ${y}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(P+=`
Expiration Time: ${i.toISOString()}`),l&&(P+=`
Not Before: ${l.toISOString()}`),c&&(P+=`
Request ID: ${c}`),f){let j=`
Resources:`;for(const R of f){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);j+=`
- ${R}`}P+=j}return`${C}
${P}`}class ya extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class d1 extends ya{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function eM({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ya({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ya({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ya({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ya({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ya({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ya({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ya({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ya({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(WS(s)){if(a.rp.id!==s)return new ya({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ya({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ya({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ya({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ya({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function tM({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ya({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ya({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(WS(n)){if(r.rpId!==n)return new ya({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ya({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ya({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ya({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class rM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const nM=new rM;function iM(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=J1(t,["challenge","user","excludeCredentials"]),a=nd(e).buffer,s=Object.assign(Object.assign({},r),{id:nd(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const f=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:nd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function aM(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=J1(t,["challenge","allowCredentials"]),i=nd(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},l),{id:nd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function sM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:kh(new Uint8Array(t.response.attestationObject)),clientDataJSON:kh(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function oM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:kh(new Uint8Array(i.authenticatorData)),clientDataJSON:kh(new Uint8Array(i.clientDataJSON)),signature:kh(new Uint8Array(i.signature)),userHandle:i.userHandle?kh(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function WS(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Kb(){var t,e;return!!(fs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function lM(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new d1("Browser returned unexpected credential type",e)}:{data:null,error:new d1("Empty credential response",e)}}catch(e){return{data:null,error:eM({error:e,options:t})}}}async function uM(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new d1("Browser returned unexpected credential type",e)}:{data:null,error:new d1("Empty credential response",e)}}catch(e){return{data:null,error:tM({error:e,options:t})}}}const cM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function p1(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(e(s)){const l=n[a];e(l)?n[a]=p1(l,s):n[a]=p1(s)}else n[a]=s}return n}function fM(t,e){return p1(cM,t,e||{})}function dM(t,e){return p1(hM,t,e||{})}class pM{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:l};const c=i??nM.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=fM(s.webauthn.credential_options.publicKey,a?.create),{data:p,error:v}=await lM({publicKey:f,signal:c});return p?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}case"request":{const f=dM(s.webauthn.credential_options.publicKey,a?.request),{data:p,error:v}=await uM(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:c}));return p?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}}}catch(s){return hr(s)?{data:null,error:s}:{data:null,error:new Ah("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new q0("rpId is required for WebAuthn authentication")};try{if(!Kb())return{data:null,error:new Ah("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return hr(s)?{data:null,error:s}:{data:null,error:new Ah("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new q0("rpId is required for WebAuthn registration")};try{if(!Kb())return{data:null,error:new Ah("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(p=>{var v;return(v=p.data)===null||v===void 0?void 0:v.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};const{data:c,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(s){return hr(s)?{data:null,error:s}:{data:null,error:new Ah("Unexpected error in register",s)}}}}K7();const mM={url:h7,storageKey:f7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:d7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Xb(t,e,r){return await r()}const Cf={};class V0{get jwks(){var e,r;return(r=(e=Cf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Cf[this.storageKey]=Object.assign(Object.assign({},Cf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Cf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Cf[this.storageKey]=Object.assign(Object.assign({},Cf[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},mM),e);if(this.storageKey=a.storageKey,this.instanceID=(r=V0.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,V0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&fs()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new W7({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=qS(a.fetch),this.lock=a.lock||Xb,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&fs()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Y7:this.lock=Xb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:HS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yb(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Yb(this.memoryStorage)),fs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${US}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(fs()&&(r=L7(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),fs()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_7(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return hr(r)?this._returnResult({error:r}):this._returnResult({error:new Ah("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Hl}),{data:s,error:l}=a;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(hr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:p,password:v,options:y}=e;let _=null,T=null;this.flowType==="pkce"&&([_,T]=await Af(this.storage,this.storageKey)),a=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:v,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:_,code_challenge_method:T},xform:Hl})}else if("phone"in e){const{phone:p,password:v,options:y}=e;a=await Lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Hl})}else throw new bm("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return await hs(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:l}=e;r=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Wb})}else if("phone"in e){const{phone:a,password:s,options:l}=e;r=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Wb})}else throw new bm("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Tf;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,s,l,c,f,p,v,y;let _,T;if("message"in e)_=e.message,T=e.signature;else{const{chain:b,wallet:C,statement:P,options:j}=e;let R;if(fs())if(typeof C=="object")R=C;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")R=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const B=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href),te=await R.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ue=$S(te[0]);let F=(n=j?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!F){const U=await R.request({method:"eth_chainId"});F=X7(U)}const K={domain:B.host,address:ue,statement:P,uri:B.href,version:"1",chainId:F,nonce:(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=j?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=j?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=j?.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=Q7(K),T=await R.request({method:"personal_sign",params:[J7(_),ue]})}try{const{data:b,error:C}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:T},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Hl});if(C)throw C;if(!b||!b.session||!b.user){const P=new Tf;return this._returnResult({data:{user:null,session:null},error:P})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:C})}catch(b){if(hr(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var r,n,i,a,s,l,c,f,p,v,y,_;let T,b;if("message"in e)T=e.message,b=e.signature;else{const{chain:C,wallet:P,statement:j,options:R}=e;let B;if(fs())if(typeof P=="object")B=P;else{const ue=window;if("solana"in ue&&typeof ue.solana=="object"&&("signIn"in ue.solana&&typeof ue.solana.signIn=="function"||"signMessage"in ue.solana&&typeof ue.solana.signMessage=="function"))B=ue.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=P}const te=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){const ue=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),j?{statement:j}:null));let F;if(Array.isArray(ue)&&ue[0]&&typeof ue[0]=="object")F=ue[0];else if(ue&&typeof ue=="object"&&"signedMessage"in ue&&"signature"in ue)F=ue;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)T=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),b=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${te.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(i=(n=R?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=R?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((s=R?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((l=R?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((c=R?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((v=(p=R?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||v===void 0)&&v.length?["Resources",...R.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const ue=await B.signMessage(new TextEncoder().encode(T),"utf8");if(!ue||!(ue instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=ue}}try{const{data:C,error:P}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:kh(b)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Hl});if(P)throw P;if(!C||!C.session||!C.user){const j=new Tf;return this._returnResult({data:{user:null,session:null},error:j})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:P})}catch(C){if(hr(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await yh(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new y7;const{data:a,error:s}=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Hl});if(await hs(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const l=new Tf;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,l=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Hl}),{data:c,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c||!c.session||!c.user){const p=new Tf;return this._returnResult({data:{user:null,session:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:f})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:l,options:c}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Af(this.storage,this.storageKey));const{error:v}=await Lr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:l,options:c}=e,{data:f,error:p}=await Lr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(a=c?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(s=c?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new bm("You must provide either an email or phone number.")}catch(l){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await Lr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Hl});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,f=s.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(i){if(hr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Af(this.storage,this.storageKey));const f=await Lr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:q7});return!((a=f.data)===null||a===void 0)&&a.url&&fs()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(l){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new $o;const{error:i}=await Lr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(hr(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await Lr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:l}=await Lr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:l})}throw new bm("You must provide either an email or phone number and a type")}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await yh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Gv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await yh(this.userStorage,this.storageKey+"-user");s?.user?e.user=s.user:e.user=Vv()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=U7(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Lr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$c}):await this._useSession(async r=>{var n,i,a;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $o}:await Lr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:$c})})}catch(r){if(hr(r))return Hv(r)&&(await this._removeSession(),await hs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new $o;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Af(this.storage,this.storageKey));const{data:f,error:p}=await Lr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:$c});if(p)throw p;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $o;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Em(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(hr(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:l}=r;if(l)throw l;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new $o;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(hr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!fs())throw new Sm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ub("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ub("No code detected.");const{data:j,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:f}=e;if(!a||!l||!s||!f)throw new Sm("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(l);let y=p+v;c&&(y=parseInt(c));const _=y-p;_*1e3<=Gf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const T=y-v;p-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,y,p):p-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,y,p);const{data:b,error:C}=await this._getUser(a);if(C)throw C;const P={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:v,expires_at:y,refresh_token:s,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:e.type},error:null})}catch(n){if(hr(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await yh(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a&&!Hv(a))return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,e);if(l&&!(v7(l)&&(l.status===404||l.status===401||l.status===403)||Hv(l)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await hs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=A7(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Af(this.storage,this.storageKey,!0));try{return await Lr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,l,c,f,p;const{data:v,error:y}=a;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Lr(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return fs()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(hr(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:l,token:c,access_token:f,nonce:p}=e,v=await Lr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Hl}),{data:y,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Tf}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:_}))}catch(i){if(await hs(this.storage,`${this.storageKey}-code-verifier`),hr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Lr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await M7(async i=>(i>0&&await C7(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Lr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Hl})),(i,a)=>{const s=200*Math.pow(2,i);return a&&qv(a)&&Date.now()+s-n<Gf})}catch(n){if(this._debug(r,"error",n),hr(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),fs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await yh(this.storage,this.storageKey);if(i&&this.userStorage){let s=await yh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Hf(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s?.user)!==null&&e!==void 0?e:Vv()}else if(i&&!i.user&&!i.user){const s=await yh(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await hs(this.storage,this.storageKey+"-user"),await Hf(this.storage,this.storageKey,i)):i.user=Vv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Gv;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Gv}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),qv(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new $o;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new tg;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new $o;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),hr(a)){const s={data:null,error:a};return qv(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await hs(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Hf(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Vb(i);await Hf(this.storage,this.storageKey,a)}else{const i=Vb(r);await Hf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await hs(this.storage,this.storageKey),await hs(this.storage,this.storageKey+"-code-verifier"),await hs(this.storage,this.storageKey+"-user"),this.userStorage&&await hs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fs()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Gf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Gf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Gf}ms, refresh threshold is ${Q2} ticks`),i<=Q2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof VS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fs()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Af(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Lr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:f}=await Lr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?sM(e.webauthn.credential_response):oM(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Lr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await Lr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:iM(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:aM(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,i,a;if(e)try{const{payload:_}=Em(e);let T=null;_.aal&&(T=_.aal);let b=T;const{data:{user:C},error:P}=await this.getUser(e);if(P)return this._returnResult({data:null,error:P});((n=(r=C?.factors)===null||r===void 0?void 0:r.filter(B=>B.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(b="aal2");const R=_.amr||[];return{data:{currentLevel:T,nextLevel:b,currentAuthenticationMethods:R},error:null}}catch(_){if(hr(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Em(s.access_token);let f=null;c.aal&&(f=c.aal);let p=f;((a=(i=s.user.factors)===null||i===void 0?void 0:i.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Lr(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new $o})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new $o});const s=await Lr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&fs()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(hr(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new $o});const s=await Lr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&fs()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(hr(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Lr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $o})})}catch(e){if(hr(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Lr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $o})})}catch(r){if(hr(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+m7>i)return n;const{data:a,error:s}=await Lr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:_,error:T}=await this.getSession();if(T||!_.session)return this._returnResult({data:null,error:T});n=_.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:c}}=Em(n);r?.allowExpired||I7(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:_}=await this.getUser(n);if(_)throw _;return{data:{claims:a,header:i,signature:s},error:null}}const p=F7(i.alg),v=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,s,E7(`${l}.${c}`)))throw new r_("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(hr(n))return this._returnResult({data:null,error:n});throw n}}}V0.nextInstanceID={};const gM=V0,vM="2.93.1";let f0="";typeof Deno<"u"?f0="deno":typeof document<"u"?f0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?f0="react-native":f0="node";function _M(){const t=globalThis.process;if(t&&t.platform){const e=t.platform;if(e==="darwin")return"macOS";if(e==="win32")return"Windows";if(e==="linux")return"Linux";if(e==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const e=navigator.userAgentData.platform;if(e==="macOS")return"macOS";if(e==="Windows")return"Windows";if(e==="Linux")return"Linux";if(e==="Android")return"Android";if(e==="iOS")return"iOS"}return null}function yM(){const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node&&typeof window>"u")try{const r=globalThis.require;if(r)return r("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function xM(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return"node"}return null}function wM(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return e.node}return null}function bM(){const t={"X-Client-Info":`supabase-js-${f0}/${vM}`},e=_M();e&&(t["X-Supabase-Client-Platform"]=e);const r=yM();r&&(t["X-Supabase-Client-Platform-Version"]=r);const n=xM();n&&(t["X-Supabase-Client-Runtime"]=n);const i=wM();return i&&(t["X-Supabase-Client-Runtime-Version"]=i),t}const SM=bM(),EM={headers:SM},TM={schema:"public"},AM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LM={};function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}function NM(t,e){if($0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CM(t){var e=NM(t,"string");return $0(e)=="symbol"?e:e+""}function MM(t,e,r){return(e=CM(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jb(Object(r),!0).forEach(function(n){MM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const kM=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),PM=()=>Headers,OM=(t,e,r)=>{const n=kM(r),i=PM();return async(a,s)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let f=new i(s?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),n(a,Zi(Zi({},s),{},{headers:f}))}};function RM(t){return t.endsWith("/")?t:t+"/"}function DM(t,e){var r,n;const{db:i,auth:a,realtime:s,global:l}=t,{db:c,auth:f,realtime:p,global:v}=e,y={db:Zi(Zi({},c),i),auth:Zi(Zi({},f),a),realtime:Zi(Zi({},p),s),storage:{},global:Zi(Zi(Zi({},v),l),{},{headers:Zi(Zi({},(r=v?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function jM(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(RM(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var IM=class extends gM{constructor(t){super(t)}},FM=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const a=jM(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:TM,realtime:LM,auth:Zi(Zi({},AM),{},{storageKey:s}),global:EM},c=DM(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=c.auth)!==null&&f!==void 0?f:{},this.headers,c.global.fetch)}this.fetch=OM(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Zi({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new gC(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new c7(this.storageUrl.href,this.headers,this.fetch,r?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new hC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:s,lock:l,debug:c,throwOnError:f},p,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IM({url:this.authUrl.href,headers:Zi(Zi({},y),p),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:s,lock:l,debug:c,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new OC(this.realtimeUrl.href,Zi(Zi({},t),{},{params:Zi(Zi({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const BM=(t,e,r)=>new FM(t,e,r);function UM(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}UM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zM="https://iycvkknpgrpkmutuyigt.supabase.co",GM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml5Y3Zra25wZ3Jwa211dHV5aWd0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0NDE3NDMsImV4cCI6MjA4NTAxNzc0M30.6dCWuR_4j0QSUh7kJdF4_2aMlzgsIaMluyJt52EIHX8",fn=BM(zM,GM,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"supabase-auth-token"}}),Rr=t=>typeof t=="string",a0=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},Qb=t=>t==null?"":""+t,HM=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},qM=/###/g,e5=t=>t&&t.indexOf("###")>-1?t.replace(qM,"."):t,t5=t=>!t||Rr(t),w0=(t,e,r)=>{const n=Rr(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(t5(t))return{};const a=e5(n[i]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return t5(t)?{}:{obj:t,k:e5(n[i])}},r5=(t,e,r)=>{const{obj:n,k:i}=w0(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let a=e[e.length-1],s=e.slice(0,e.length-1),l=w0(t,s,Object);for(;l.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),l=w0(t,s,Object),l?.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=r},VM=(t,e,r,n)=>{const{obj:i,k:a}=w0(t,e,Object);i[a]=i[a]||[],i[a].push(r)},m1=(t,e)=>{const{obj:r,k:n}=w0(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},$M=(t,e,r)=>{const n=m1(t,r);return n!==void 0?n:m1(e,r)},ZS=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?Rr(t[n])||t[n]instanceof String||Rr(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):ZS(t[n],e[n],r):t[n]=e[n]);return t},Mf=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var WM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ZM=t=>Rr(t)?t.replace(/[&<>"'\/]/g,e=>WM[e]):t;class YM{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const KM=[" ",",","?","!",";"],XM=new YM(20),JM=(t,e,r)=>{e=e||"",r=r||"";const n=KM.filter(s=>e.indexOf(s)<0&&r.indexOf(s)<0);if(n.length===0)return!0;const i=XM.getRegExp(`(${n.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(r);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},n_=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let i=t;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let s,l="";for(let c=a;c<n.length;++c)if(c!==a&&(l+=r),l+=n[c],s=i[l],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<n.length-1)continue;a+=c-a+1;break}i=s}return i},W0=t=>t?.replace("_","-"),QM={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class g1{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||QM,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(Rr(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new g1(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new g1(this.logger,e)}}var Nu=new g1;class rg{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[e,...r])})}}class n5 extends rg{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,i={}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],n&&(Array.isArray(n)?l.push(...n):Rr(n)&&a?l.push(...n.split(a)):l.push(n)));const c=m1(this.data,l);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=l[0],r=l[1],n=l.slice(2).join(".")),c||!s||!Rr(n)?c:n_(this.data?.[e]?.[r],n,a)}addResource(e,r,n,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[e,r];n&&(l=l.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(l=e.split("."),i=r,r=l[1]),this.addNamespaces(r),r5(this.data,l,i),a.silent||this.emit("added",e,r,n,i)}addResources(e,r,n,i={silent:!1}){for(const a in n)(Rr(n[a])||Array.isArray(n[a]))&&this.addResource(e,r,a,n[a],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,a,s={silent:!1,skipCopy:!1}){let l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),i=n,n=r,r=l[1]),this.addNamespaces(r);let c=m1(this.data,l)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?ZS(c,n,a):c={...c,...n},r5(this.data,l,c),s.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var YS={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(a=>{e=this.processors[a]?.process(e,r,n,i)??e}),e}};const KS=Symbol("i18next/PATH_KEY");function ek(){const t=[],e=Object.create(null);let r;return e.get=(n,i)=>(r?.revoke?.(),i===KS?t:(t.push(i),r=Proxy.revocable(n,e),r.proxy)),Proxy.revocable(Object.create(null),e).proxy}function i_(t,e){const{[KS]:r}=t(ek());return r.join(e?.keySeparator??".")}const i5={},Wv=t=>!Rr(t)&&typeof t!="boolean"&&typeof t!="number";class v1 extends rg{constructor(e,r={}){super(),HM(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Nu.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const i=this.resolve(e,n);if(i?.res===void 0)return!1;const a=Wv(i.res);return!(n.returnObjects===!1&&a)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!JM(e,n,i);if(s&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Rr(a)?[a]:a};const f=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(f[0])>-1)&&(a=f.shift()),e=f.join(i)}return{key:e,namespaces:Rr(a)?[a]:a}}translate(e,r,n){let i=typeof r=="object"?{...r}:r;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=i_(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],i),f=c[c.length-1];let p=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const v=i.lng||this.language,y=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return y?a?{res:`${f}${p}${l}`,usedKey:l,exactUsedKey:l,usedLng:v,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:`${f}${p}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:v,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:l;const _=this.resolve(e,i);let T=_?.res;const b=_?.usedKey||l,C=_?.exactUsedKey||l,P=["[object Number]","[object Function]","[object RegExp]"],j=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,B=i.count!==void 0&&!Rr(i.count),te=v1.hasDefaultValue(i),ue=B?this.pluralResolver.getSuffix(v,i.count,i):"",F=i.ordinal&&B?this.pluralResolver.getSuffix(v,i.count,{ordinal:!1}):"",K=B&&!i.ordinal&&i.count===0,U=K&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${ue}`]||i[`defaultValue${F}`]||i.defaultValue;let X=T;R&&!T&&te&&(X=U);const I=Wv(X),W=Object.prototype.toString.apply(X);if(R&&X&&I&&P.indexOf(W)<0&&!(Rr(j)&&Array.isArray(X))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ce=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,X,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(_.res=ce,_.usedParams=this.getUsedParamsDetails(i),_):ce}if(s){const ce=Array.isArray(X),pe=ce?[]:{},xe=ce?C:b;for(const oe in X)if(Object.prototype.hasOwnProperty.call(X,oe)){const be=`${xe}${s}${oe}`;te&&!T?pe[oe]=this.translate(be,{...i,defaultValue:Wv(U)?U[oe]:void 0,joinArrays:!1,ns:c}):pe[oe]=this.translate(be,{...i,joinArrays:!1,ns:c}),pe[oe]===be&&(pe[oe]=X[oe])}T=pe}}else if(R&&Rr(j)&&Array.isArray(T))T=T.join(j),T&&(T=this.extendTranslation(T,e,i,n));else{let ce=!1,pe=!1;!this.isValidLookup(T)&&te&&(ce=!0,T=U),this.isValidLookup(T)||(pe=!0,T=l);const oe=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&pe?void 0:T,be=te&&U!==T&&this.options.updateMissing;if(pe||ce||be){if(this.logger.log(be?"updateKey":"missingKey",v,f,l,be?U:T),s){const Q=this.resolve(l,{...i,keySeparator:!1});Q&&Q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let _e=[];const Le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Le&&Le[0])for(let Q=0;Q<Le.length;Q++)_e.push(Le[Q]);else this.options.saveMissingTo==="all"?_e=this.languageUtils.toResolveHierarchy(i.lng||this.language):_e.push(i.lng||this.language);const Ne=(Q,O,H)=>{const q=te&&H!==T?H:oe;this.options.missingKeyHandler?this.options.missingKeyHandler(Q,f,O,q,be,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(Q,f,O,q,be,i),this.emit("missingKey",Q,f,O,T)};this.options.saveMissing&&(this.options.saveMissingPlurals&&B?_e.forEach(Q=>{const O=this.pluralResolver.getSuffixes(Q,i);K&&i[`defaultValue${this.options.pluralSeparator}zero`]&&O.indexOf(`${this.options.pluralSeparator}zero`)<0&&O.push(`${this.options.pluralSeparator}zero`),O.forEach(H=>{Ne([Q],l+H,i[`defaultValue${H}`]||U)})}):Ne(_e,l,U))}T=this.extendTranslation(T,e,i,_,n),pe&&T===l&&this.options.appendNamespaceToMissingKey&&(T=`${f}${p}${l}`),(pe||ce)&&this.options.parseMissingKeyHandler&&(T=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${p}${l}`:l,ce?T:void 0,i))}return a?(_.res=T,_.usedParams=this.getUsedParamsDetails(i),_):T}extendTranslation(e,r,n,i,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=Rr(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(c){const v=e.match(this.interpolator.nestingRegexp);f=v&&v.length}let p=n.replace&&!Rr(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language||i.usedLng,n),c){const v=e.match(this.interpolator.nestingRegexp),y=v&&v.length;f<y&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>a?.[0]===v[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${r[0]}`),null):this.translate(...v,r),n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,l=Rr(s)?[s]:s;return e!=null&&l?.length&&n.applyPostProcessor!==!1&&(e=YS.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,i,a,s,l;return Rr(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const f=this.extractFromKey(c,r),p=f.key;i=p;let v=f.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const y=r.count!==void 0&&!Rr(r.count),_=y&&!r.ordinal&&r.count===0,T=r.context!==void 0&&(Rr(r.context)||typeof r.context=="number")&&r.context!=="",b=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);v.forEach(C=>{this.isValidLookup(n)||(l=C,!i5[`${b[0]}-${C}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(i5[`${b[0]}-${C}`]=!0,this.logger.warn(`key "${i}" for languages "${b.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(P=>{if(this.isValidLookup(n))return;s=P;const j=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(j,p,P,C,r);else{let B;y&&(B=this.pluralResolver.getSuffix(P,r.count,r));const te=`${this.options.pluralSeparator}zero`,ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(r.ordinal&&B.indexOf(ue)===0&&j.push(p+B.replace(ue,this.options.pluralSeparator)),j.push(p+B),_&&j.push(p+te)),T){const F=`${p}${this.options.contextSeparator||"_"}${r.context}`;j.push(F),y&&(r.ordinal&&B.indexOf(ue)===0&&j.push(F+B.replace(ue,this.options.pluralSeparator)),j.push(F+B),_&&j.push(F+te))}}let R;for(;R=j.pop();)this.isValidLookup(n)||(a=R,n=this.getResource(P,C,R,r))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Rr(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const a of r)delete i[a]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class a5{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Nu.create("languageUtils")}getScriptPartFromCode(e){if(e=W0(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=W0(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Rr(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return r=i;const a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Rr(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Rr(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Rr(e)&&a(this.formatLanguageCode(e)),n.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const s5={zero:0,one:1,two:2,few:3,many:4,other:5},o5={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class tk{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Nu.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=W0(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),o5;if(!e.match(/-|_/))return o5;const c=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(c,r)}return this.pluralRulesCache[a]=s,s}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,a)=>s5[i]-s5[a]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r,n={}){const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const l5=(t,e,r,n=".",i=!0)=>{let a=$M(t,e,r);return!a&&i&&Rr(r)&&(a=n_(t,r,n),a===void 0&&(a=n_(e,r,n))),a},Zv=t=>t.replace(/\$/g,"$$$$");class u5{constructor(e={}){this.logger=Nu.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:l,suffixEscaped:c,formatSeparator:f,unescapeSuffix:p,unescapePrefix:v,nestingPrefix:y,nestingPrefixEscaped:_,nestingSuffix:T,nestingSuffixEscaped:b,nestingOptionsSeparator:C,maxReplaces:P,alwaysFormat:j}=e.interpolation;this.escape=r!==void 0?r:ZM,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Mf(a):s||"{{",this.suffix=l?Mf(l):c||"}}",this.formatSeparator=f||",",this.unescapePrefix=p?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=y?Mf(y):_||Mf("$t("),this.nestingSuffix=T?Mf(T):b||Mf(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=P||1e3,this.alwaysFormat=j!==void 0?j:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let a,s,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=_=>{if(_.indexOf(this.formatSeparator)<0){const P=l5(r,c,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(P,void 0,n,{...i,...r,interpolationkey:_}):P}const T=_.split(this.formatSeparator),b=T.shift().trim(),C=T.join(this.formatSeparator).trim();return this.format(l5(r,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),C,n,{...i,...r,interpolationkey:b})};this.resetRegExp();const p=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>Zv(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?Zv(this.escape(_)):Zv(_)}].forEach(_=>{for(l=0;a=_.regex.exec(e);){const T=a[1].trim();if(s=f(T),s===void 0)if(typeof p=="function"){const C=p(e,a,i);s=Rr(C)?C:""}else if(i&&Object.prototype.hasOwnProperty.call(i,T))s="";else if(v){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${e}`),s="";else!Rr(s)&&!this.useRawValueToEscape&&(s=Qb(s));const b=_.safeValue(s);if(e=e.replace(a[0],b),v?(_.regex.lastIndex+=s.length,_.regex.lastIndex-=a[0].length):_.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r,n={}){let i,a,s;const l=(c,f)=>{const p=this.nestingOptionsSeparator;if(c.indexOf(p)<0)return c;const v=c.split(new RegExp(`${p}[ ]*{`));let y=`{${v[1]}`;c=v[0],y=this.interpolate(y,s);const _=y.match(/'/g),T=y.match(/"/g);((_?.length??0)%2===0&&!T||T.length%2!==0)&&(y=y.replace(/'/g,'"'));try{s=JSON.parse(y),f&&(s={...f,...s})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${p}${y}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];s={...n},s=s.replace&&!Rr(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const f=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(f!==-1&&(c=i[1].slice(f).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),i[1]=i[1].slice(0,f)),a=r(l.call(this,i[1].trim(),s),s),a&&i[0]===e&&!Rr(a))return a;Rr(a)||(a=Qb(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),c.length&&(a=c.reduce((p,v)=>this.format(p,v,n.lng,{...n,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const rk=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(s=>{if(s){const[l,...c]=s.split(":"),f=c.join(":").trim().replace(/^'+|'+$/g,""),p=l.trim();r[p]||(r[p]=f),f==="false"&&(r[p]=!1),f==="true"&&(r[p]=!0),isNaN(f)||(r[p]=parseInt(f,10))}})}return{formatName:e,formatOptions:r}},c5=t=>{const e={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=n+JSON.stringify(a);let l=e[s];return l||(l=t(W0(n),i),e[s]=l),l(r)}},nk=t=>(e,r,n)=>t(W0(r),n)(e);class ik{constructor(e={}){this.logger=Nu.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?c5:nk;this.formats={number:n((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return l=>s.format(l)}),currency:n((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return l=>s.format(l)}),datetime:n((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return l=>s.format(l)}),relativetime:n((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return l=>s.format(l,a.range||"day")}),list:n((i,a)=>{const s=new Intl.ListFormat(i,{...a});return l=>s.format(l)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=c5(r)}format(e,r,n,i={}){const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{const{formatName:f,formatOptions:p}=rk(c);if(this.formats[f]){let v=l;try{const y=i?.formatParams?.[i.interpolationkey]||{},_=y.locale||y.lng||i.locale||i.lng||n;v=this.formats[f](l,_,{...p,...i,...y})}catch(y){this.logger.warn(y)}return v}else this.logger.warn(`there was no format function for ${f}`);return l},e)}}const ak=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class sk extends rg{constructor(e,r,n,i={}){super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Nu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(e,r,n,i){const a={},s={},l={},c={};return e.forEach(f=>{let p=!0;r.forEach(v=>{const y=`${f}|${v}`;!n.reload&&this.store.hasResourceBundle(f,v)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?s[y]===void 0&&(s[y]=!0):(this.state[y]=1,p=!1,s[y]===void 0&&(s[y]=!0),a[y]===void 0&&(a[y]=!0),c[v]===void 0&&(c[v]=!0)))}),p||(l[f]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const i=e.split("|"),a=i[0],s=i[1];r&&this.emit("failedLoading",a,s,r),!r&&n&&this.store.addResourceBundle(a,s,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{VM(c.loaded,[a],s),ak(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(f=>{l[f]||(l[f]={});const p=c.loaded[f];p.length&&p.forEach(v=>{l[f][v]===void 0&&(l[f][v]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n,i=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:a,callback:s});return}this.readingCalls++;const l=(f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(f&&p&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,a*2,s)},a);return}s(f,p)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const f=c(e,r);f&&typeof f.then=="function"?f.then(p=>l(null,p)).catch(l):l(null,f)}catch(f){l(f)}return}return c(e,r,l)}prepareLoading(e,r,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Rr(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Rr(r)&&(r=[r]);const a=this.queueLoad(e,r,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(s,l)=>{s&&this.logger.warn(`${r}loading namespace ${a} for language ${i} failed`,s),!s&&l&&this.logger.log(`${r}loaded namespace ${a} for language ${i}`,l),this.loaded(e,s,l)})}saveMissing(e,r,n,i,a,s={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const c={...s,isUpdate:a},f=this.backend.create.bind(this.backend);if(f.length<6)try{let p;f.length===5?p=f(e,r,n,i,c):p=f(e,r,n,i),p&&typeof p.then=="function"?p.then(v=>l(null,v)).catch(l):l(null,p)}catch(p){l(p)}else f(e,r,n,i,l,c)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const Yv=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Rr(t[1])&&(e.defaultValue=t[1]),Rr(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),h5=t=>(Rr(t.ns)&&(t.ns=[t.ns]),Rr(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Rr(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Tm=()=>{},ok=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class b0 extends rg{constructor(e={},r){if(super(),this.options=h5(e),this.services={},this.logger=Nu,this.modules={external:[]},ok(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(Rr(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=Yv();this.options={...n,...this.options,...h5(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler),this.options.debug===!0&&typeof console<"u"&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Nu.init(i(this.modules.logger),this.options):Nu.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=ik;const p=new a5(this.options);this.store=new n5(this.options.resources,this.options);const v=this.services;v.logger=Nu,v.resourceStore=this.store,v.languageUtils=p,v.pluralResolver=new tk(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(v.formatter=i(f),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new u5(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new sk(i(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...T)=>{this.emit(_,...T)}),this.modules.languageDetector&&(v.languageDetector=i(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=i(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new v1(this.services,this.options),this.translator.on("*",(_,...T)=>{this.emit(_,...T)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Tm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...p)=>this.store[f](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...p)=>(this.store[f](...p),this)});const l=a0(),c=()=>{const f=(p,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(v),r(p,v)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,r=Tm){let n=r;const i=Rr(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],s=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload?.forEach?.(l=>s(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,r,n){const i=a0();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Tm),this.services.backendConnector.reload(e,r,a=>{i.resolve(),n(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&YS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=a0();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...f)=>this.t(...f)),r&&r(l,(...f)=>this.t(...f))},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=Rr(l)?l:l&&l[0],f=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Rr(l)?[l]:l);f&&(this.language||i(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,p=>{a(p,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),n}getFixedT(e,r,n){const i=(a,s,...l)=>{let c;typeof s!="object"?c=this.options.overloadTranslationOptionHandler([a,s].concat(l)):c={...s},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);const f=this.options.keySeparator||".";let p;return c.keyPrefix&&Array.isArray(a)?p=a.map(v=>(typeof v=="function"&&(v=i_(v,{...this.options,...s})),`${c.keyPrefix}${f}${v}`)):(typeof a=="function"&&(a=i_(a,{...this.options,...s})),p=c.keyPrefix?`${c.keyPrefix}${f}${a}`:a),this.t(p,c)};return Rr(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const s=(l,c)=>{const f=this.services.backendConnector.state[`${l}|${c}`];return f===-1||f===0||f===2};if(r.precheck){const l=r.precheck(this,s);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(n,e)&&(!i||s(a,e)))}loadNamespaces(e,r){const n=a0();return this.options.ns?(Rr(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=a0();Rr(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const a=i.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new a5(Yv());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new b0(e,r);return n.createInstance=b0.createInstance,n}cloneInstance(e={},r=Tm){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new b0(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n){const l=Object.keys(this.store.data).reduce((c,f)=>(c[f]={...this.store.data[f]},c[f]=Object.keys(c[f]).reduce((p,v)=>(p[v]={...c[f][v]},p),c[f]),c),{});a.store=new n5(l,i),a.services.resourceStore=a.store}if(e.interpolation){const c={...Yv().interpolation,...this.options.interpolation,...e.interpolation},f={...i,interpolation:c};a.services.interpolator=new u5(f)}return a.translator=new v1(a.services,i),a.translator.on("*",(l,...c)=>{a.emit(l,...c)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qs=b0.createInstance();Qs.createInstance;Qs.dir;Qs.init;Qs.loadResources;Qs.reloadResources;Qs.use;Qs.changeLanguage;Qs.getFixedT;Qs.t;Qs.exists;Qs.setDefaultNamespace;Qs.hasLoadedNamespace;Qs.loadNamespaces;Qs.loadLanguages;const lk=(t,e,r,n)=>{const i=[r,{code:e,...n||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Rh(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},f5={},XS=(t,e,r,n)=>{Rh(r)&&f5[r]||(Rh(r)&&(f5[r]=new Date),lk(t,e,r,n))},JS=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},a_=(t,e,r)=>{t.loadNamespaces(e,JS(t,r))},d5=(t,e,r,n)=>{if(Rh(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return a_(t,r,n);r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,JS(t,n))},uk=(t,e,r={})=>!e.languages||!e.languages.length?(XS(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}),Rh=t=>typeof t=="string",ck=t=>typeof t=="object"&&t!==null,hk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,fk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},dk=t=>fk[t],pk=t=>t.replace(hk,dk);let s_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:pk,transDefaultProps:void 0};const mk=(t={})=>{s_={...s_,...t}},gk=()=>s_;let QS;const vk=t=>{QS=t},_k=()=>QS,yk={type:"3rdParty",init(t){mk(t.options.react),vk(t)}},xk=de.createContext();class wk{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Kv={exports:{}},Xv={};var p5;function bk(){if(p5)return Xv;p5=1;var t=W1();function e(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(v,y){var _=y(),T=n({inst:{value:_,getSnapshot:y}}),b=T[0].inst,C=T[1];return a(function(){b.value=_,b.getSnapshot=y,c(b)&&C({inst:b})},[v,_,y]),i(function(){return c(b)&&C({inst:b}),v(function(){c(b)&&C({inst:b})})},[v]),s(_),_}function c(v){var y=v.getSnapshot;v=v.value;try{var _=y();return!r(v,_)}catch{return!0}}function f(v,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Xv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Xv}var m5;function Sk(){return m5||(m5=1,Kv.exports=bk()),Kv.exports}var Ek=Sk();const Tk=(t,e)=>Rh(e)?e:ck(e)&&Rh(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Ak={t:Tk,ready:!1},Lk=()=>()=>{},dp=(t,e={})=>{const{i18n:r}=e,{i18n:n,defaultNS:i}=de.useContext(xk)||{},a=r||n||_k();a&&!a.reportNamespaces&&(a.reportNamespaces=new wk),a||XS(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=de.useMemo(()=>({...gk(),...a?.options?.react,...e}),[a,e]),{useSuspense:l,keyPrefix:c}=s,f=i||a?.options?.defaultNS,p=Rh(f)?[f]:f||["translation"],v=de.useMemo(()=>p,p);a?.reportNamespaces?.addUsedNamespaces?.(v);const y=de.useRef(0),_=de.useCallback(U=>{if(!a)return Lk;const{bindI18n:X,bindI18nStore:I}=s,W=()=>{y.current+=1,U()};return X&&a.on(X,W),I&&a.store.on(I,W),()=>{X&&X.split(" ").forEach(ce=>a.off(ce,W)),I&&I.split(" ").forEach(ce=>a.store.off(ce,W))}},[a,s]),T=de.useRef(),b=de.useCallback(()=>{if(!a)return Ak;const U=!!(a.isInitialized||a.initializedStoreOnce)&&v.every(xe=>uk(xe,a,s)),X=e.lng||a.language,I=y.current,W=T.current;if(W&&W.ready===U&&W.lng===X&&W.keyPrefix===c&&W.revision===I)return W;const pe={t:a.getFixedT(X,s.nsMode==="fallback"?v:v[0],c),ready:U,lng:X,keyPrefix:c,revision:I};return T.current=pe,pe},[a,v,c,s,e.lng]),[C,P]=de.useState(0),{t:j,ready:R}=Ek.useSyncExternalStore(_,b,b);de.useEffect(()=>{if(a&&!R&&!l){const U=()=>P(X=>X+1);e.lng?d5(a,e.lng,v,U):a_(a,v,U)}},[a,e.lng,v,R,l,C]);const B=a||{},te=de.useRef(null),ue=de.useRef(),F=U=>{const X=Object.getOwnPropertyDescriptors(U);X.__original&&delete X.__original;const I=Object.create(Object.getPrototypeOf(U),X);if(!Object.prototype.hasOwnProperty.call(I,"__original"))try{Object.defineProperty(I,"__original",{value:U,writable:!1,enumerable:!1,configurable:!1})}catch{}return I},K=de.useMemo(()=>{const U=B,X=U?.language;let I=U;U&&(te.current&&te.current.__original===U?ue.current!==X?(I=F(U),te.current=I,ue.current=X):I=te.current:(I=F(U),te.current=I,ue.current=X));const W=[j,I,R];return W.t=j,W.i18n=I,W.ready=R,W},[j,B,R,B.resolvedLanguage,B.language,B.languages]);if(a&&l&&!R)throw new Promise(U=>{const X=()=>U();e.lng?d5(a,e.lng,v,X):a_(a,v,X)});return K},eE=de.createContext(null),pp=()=>{const t=de.useContext(eE);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Nk=({children:t})=>{const[e,r]=de.useState(null),[n,i]=de.useState(null),[a,s]=de.useState(!0),[l,c]=de.useState(null),f=async F=>{try{const{data:K,error:U}=await fn.from("user_profiles").select("*").eq("id",F).single();if(U){if(console.log("Profile fetch error (may be normal for new users):",U.code),U.code==="PGRST116"){const X=(await fn.auth.getUser()).data.user,{data:I,error:W}=await fn.from("user_profiles").insert({id:F,email:X?.email,role:"surveyor"}).select().single();i(!W&&I?I:{id:F,role:"surveyor",email:X?.email});return}i({id:F,role:"surveyor"});return}i(K)}catch(K){console.error("Error in fetchProfile:",K),i({id:F,role:"surveyor"})}};de.useEffect(()=>{fn.auth.getSession().then(({data:{session:K}})=>{r(K?.user??null),K?.user&&f(K.user.id),s(!1)});const{data:{subscription:F}}=fn.auth.onAuthStateChange(async(K,U)=>{r(U?.user??null),U?.user?await f(U.user.id):i(null)});return()=>F.unsubscribe()},[]);const p=()=>n?.role==="admin",v=()=>n?.role==="supervisor",ue={user:e,profile:n,loading:a,error:l,isAdmin:p,isSupervisor:v,isSurveyor:()=>n?.role==="surveyor",hasRole:F=>n?.role===F,hasAnyRole:F=>F.includes(n?.role),canManageUsers:()=>p(),canManageZones:()=>p()||v(),canViewAllSurveys:()=>p()||v(),canApproveSurveys:()=>p()||v(),canExportData:()=>p()||v(),updateProfile:async F=>{if(!e)return{error:"Not authenticated"};const{data:K,error:U}=await fn.from("user_profiles").update({...F,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();return U||i(K),{data:K,error:U}},signOut:async()=>{await fn.auth.signOut(),r(null),i(null)},refreshProfile:()=>e&&f(e.id)};return x.jsx(eE.Provider,{value:ue,children:t})},Am=[{code:"en",name:"English",flag:"",nativeName:"English"},{code:"hi",name:"Hindi",flag:"",nativeName:""},{code:"mr",name:"Marathi",flag:"",nativeName:""}],Ck=({variant:t="dropdown"})=>{const{i18n:e,t:r}=dp(),[n,i]=de.useState(!1),a=de.useRef(null),s=Am.find(c=>c.code===e.language)||Am[0];de.useEffect(()=>{const c=f=>{a.current&&!a.current.contains(f.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const l=c=>{e.changeLanguage(c),localStorage.setItem("preferredLanguage",c),i(!1)};return t==="compact"?x.jsx("div",{className:"flex gap-1",children:Am.map(c=>x.jsx("button",{onClick:()=>l(c.code),className:`px-2 py-1 rounded-lg text-xs font-medium transition-all ${e.language===c.code?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:c.name,children:c.code.toUpperCase()},c.code))}):x.jsxs("div",{className:"relative",ref:a,children:[x.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all",children:[x.jsx("span",{className:"text-lg",children:s.flag}),x.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.nativeName}),x.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&x.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50 animate-fadeIn",children:[x.jsx("p",{className:"px-4 py-1 text-xs font-semibold text-gray-400 uppercase tracking-wide",children:r("language.select")}),Am.map(c=>x.jsxs("button",{onClick:()=>l(c.code),className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${e.language===c.code?"bg-blue-50 text-blue-600":"hover:bg-gray-50 text-gray-700"}`,children:[x.jsx("span",{className:"text-xl",children:c.flag}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium",children:c.nativeName}),x.jsx("p",{className:"text-xs text-gray-400",children:c.name})]}),e.language===c.code&&x.jsx("svg",{className:"w-5 h-5 ml-auto text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},c.code))]})]})},Mk=()=>{const{t}=dp(),e=ah(),r=dc(),[n,i]=de.useState(!1),{profile:a,isAdmin:s,isSupervisor:l,canManageZones:c,signOut:f}=pp(),p=async()=>{await f(),e("/login")},v=()=>{i(!1)};return x.jsxs("div",{className:"flex h-screen bg-gray-50",children:[n&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998] md:hidden",onClick:v}),x.jsx("aside",{className:`fixed md:static inset-y-0 left-0 z-[9999] w-64 bg-gradient-to-b from-slate-900 to-slate-800 text-white transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsxs("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-xl font-bold",children:"INDICES"}),x.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:"Geospatial Survey System"})]}),x.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-slate-700 transition-colors",onClick:v,children:x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[x.jsx(xh,{to:"/dashboard",icon:"",active:r.pathname==="/dashboard",onClick:v,children:t("nav.dashboard")}),x.jsx(xh,{to:"/survey",icon:"",active:r.pathname==="/survey",onClick:v,children:t("nav.surveyMap")}),x.jsx(xh,{to:"/surveyed-buildings",icon:"",active:r.pathname==="/surveyed-buildings",onClick:v,children:t("nav.allBuildings")}),x.jsx(xh,{to:"/my-assignments",icon:"",active:r.pathname==="/my-assignments",onClick:v,children:t("nav.myAssignments")}),c()&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"pt-4 pb-2",children:x.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wider px-4",children:"Management"})}),x.jsx(xh,{to:"/zones",icon:"",active:r.pathname==="/zones",onClick:v,children:t("nav.zones")})]}),s()&&x.jsxs(x.Fragment,{children:[x.jsx(xh,{to:"/users",icon:"",active:r.pathname==="/users",onClick:v,children:t("nav.users")}),x.jsx(xh,{to:"/admin",icon:"",active:r.pathname==="/admin",onClick:v,children:t("nav.admin")})]})]}),x.jsxs("div",{className:"p-4 border-t border-slate-700 space-y-3",children:[a&&x.jsxs("div",{className:"flex items-center gap-3 px-2 py-2",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:a.full_name?.charAt(0)||a.email?.charAt(0)||"?"}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"text-sm font-medium text-white truncate",children:a.full_name||"User"}),x.jsx("p",{className:"text-xs text-slate-400 capitalize",children:t(`roles.${a.role}`)})]})]}),x.jsx("button",{onClick:p,className:"w-full py-3 px-4 bg-red-600 hover:bg-red-700 rounded-lg font-medium transition-colors text-base",children:t("auth.logout")})]})]})}),x.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[x.jsx("button",{className:"md:hidden p-3 -ml-2 rounded-lg hover:bg-gray-100 active:bg-gray-200 transition-colors",onClick:()=>i(!0),"aria-label":"Open menu",children:x.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),x.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:t("common.appName")}),x.jsx(Ck,{variant:"compact"})]}),x.jsx("main",{className:"flex-1 overflow-auto",children:x.jsx(LS,{})})]})]})},xh=({to:t,icon:e,children:r,active:n,onClick:i})=>x.jsxs(U0,{to:t,onClick:i,className:`flex items-center space-x-3 py-4 px-4 rounded-lg transition-colors ${n?"bg-blue-600 text-white":"hover:bg-slate-700 text-white"}`,children:[x.jsx("span",{className:"text-2xl",children:e}),x.jsx("span",{className:"font-medium text-base",children:r})]}),kk=()=>x.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:x.jsx("div",{className:"w-full max-w-md",children:x.jsx(LS,{})})}),Pk=()=>{const t=ah(),[e,r]=de.useState(""),[n,i]=de.useState(""),[a,s]=de.useState(!1),[l,c]=de.useState(!0);de.useEffect(()=>{let p=!0;const v=setTimeout(()=>{p&&c(!1)},3e3);fn.auth.getSession().then(({data:{session:_}})=>{p&&(_&&t("/dashboard",{replace:!0}),c(!1))}).catch(_=>{console.error("Session check failed:",_),p&&c(!1)});const{data:{subscription:y}}=fn.auth.onAuthStateChange((_,T)=>{console.log("Login page - Auth event:",_),_==="SIGNED_IN"&&T&&setTimeout(()=>{t("/dashboard",{replace:!0})},100)});return()=>{p=!1,clearTimeout(v),y.unsubscribe()}},[t]);const f=async p=>{if(!e||!n){alert("Please enter email and password");return}s(!0);try{const{data:v,error:y}=p?await fn.auth.signUp({email:e,password:n,options:{emailRedirectTo:window.location.origin+"/new_with_database/#/dashboard"}}):await fn.auth.signInWithPassword({email:e,password:n});if(y)throw y;p&&(alert("Sign up successful! You can now log in."),s(!1))}catch(v){console.error("Auth error:",v.message),alert(v.message),s(!1)}};return l?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:x.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):x.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[x.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"}),x.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-green-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"})]}),x.jsxs("div",{className:"relative z-10 w-full max-w-md px-6",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-green-500 rounded-2xl shadow-lg mb-4",children:x.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),x.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"INDICES"}),x.jsx("p",{className:"text-blue-300 mt-1 text-sm",children:"Geospatial Survey System"})]}),x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/20",children:[x.jsx("h2",{className:"text-xl font-semibold text-white text-center mb-6",children:"Surveyor Login"}),x.jsxs("form",{className:"space-y-5",onSubmit:p=>{p.preventDefault(),f(!1)},children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"Email"}),x.jsx("input",{type:"email",value:e,onChange:p=>r(p.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"surveyor@example.com",autoComplete:"email"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"Password"}),x.jsx("input",{type:"password",value:n,onChange:p=>i(p.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"",autoComplete:"current-password"})]}),x.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl shadow-lg transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:a?x.jsxs("span",{className:"flex items-center justify-center gap-2",children:[x.jsxs("svg",{className:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Sign In"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-white/20"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 bg-transparent text-gray-400",children:"or"})})]}),x.jsx("button",{type:"button",onClick:()=>f(!0),disabled:a,className:"w-full py-3 px-4 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-xl border border-white/20 transition-all",children:"Create Account"})]})]}),x.jsx("p",{className:"text-center text-gray-500 text-xs mt-6",children:"Powered by INDICES Geospatial Survey System"})]})]})},Ok="modulepreload",Rk=function(t){return"/new_with_database/"+t},g5={},Jv=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=c(r.map(f=>{if(f=Rk(f),f in g5)return;g5[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":Ok,p||(y.as="script"),y.crossOrigin="",y.href=f,l&&y.setAttribute("nonce",l),document.head.appendChild(y),p)return new Promise((_,T)=>{y.addEventListener("load",_),y.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function Gn(t){"@babel/helpers - typeof";return Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gn(t)}var Kl=Uint8Array,Jo=Uint16Array,H_=Int32Array,q_=new Kl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),V_=new Kl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),v5=new Kl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tE=function(t,e){for(var r=new Jo(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new H_(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},rE=tE(q_,2),Dk=rE.b,o_=rE.r;Dk[28]=258,o_[258]=28;var jk=tE(V_,0),_5=jk.r,l_=new Jo(32768);for(var vi=0;vi<32768;++vi){var Uc=(vi&43690)>>1|(vi&21845)<<1;Uc=(Uc&52428)>>2|(Uc&13107)<<2,Uc=(Uc&61680)>>4|(Uc&3855)<<4,l_[vi]=((Uc&65280)>>8|(Uc&255)<<8)>>1}var S0=(function(t,e,r){for(var n=t.length,i=0,a=new Jo(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new Jo(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(r){l=new Jo(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var f=i<<4|t[i],p=e-t[i],v=s[t[i]-1]++<<p,y=v|(1<<p)-1;v<=y;++v)l[l_[v]>>c]=f}else for(l=new Jo(n),i=0;i<n;++i)t[i]&&(l[i]=l_[s[t[i]-1]++]>>15-t[i]);return l}),Dh=new Kl(288);for(var vi=0;vi<144;++vi)Dh[vi]=8;for(var vi=144;vi<256;++vi)Dh[vi]=9;for(var vi=256;vi<280;++vi)Dh[vi]=7;for(var vi=280;vi<288;++vi)Dh[vi]=8;var _1=new Kl(32);for(var vi=0;vi<32;++vi)_1[vi]=5;var Ik=S0(Dh,9,0),Fk=S0(_1,5,0),nE=function(t){return(t+7)/8|0},Bk=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Kl(t.subarray(e,r))},rc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},s0=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Qv=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:aE,l:0};if(i==1){var s=new Kl(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(te,ue){return te.f-ue.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],f=0,p=1,v=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};p!=i-1;)l=r[r[f].f<r[v].f?f++:v++],c=r[f!=p&&r[f].f<r[v].f?f++:v++],r[p++]={s:-1,f:l.f+c.f,l,r:c};for(var y=a[0].s,n=1;n<i;++n)a[n].s>y&&(y=a[n].s);var _=new Jo(y+1),T=u_(r[p-1],_,0);if(T>e){var n=0,b=0,C=T-e,P=1<<C;for(a.sort(function(ue,F){return _[F.s]-_[ue.s]||ue.f-F.f});n<i;++n){var j=a[n].s;if(_[j]>e)b+=P-(1<<T-_[j]),_[j]=e;else break}for(b>>=C;b>0;){var R=a[n].s;_[R]<e?b-=1<<e-_[R]++-1:++n}for(;n>=0&&b;--n){var B=a[n].s;_[B]==e&&(--_[B],++b)}T=e}return{t:new Kl(_),l:T}},u_=function(t,e,r){return t.s==-1?Math.max(u_(t.l,e,r+1),u_(t.r,e,r+1)):e[t.s]=r},y5=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Jo(++e),n=0,i=t[0],a=1,s=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[l]}return{c:r.subarray(0,n),n:e}},o0=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},iE=function(t,e,r){var n=r.length,i=nE(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},x5=function(t,e,r,n,i,a,s,l,c,f,p){rc(e,p++,r),++i[256];for(var v=Qv(i,15),y=v.t,_=v.l,T=Qv(a,15),b=T.t,C=T.l,P=y5(y),j=P.c,R=P.n,B=y5(b),te=B.c,ue=B.n,F=new Jo(19),K=0;K<j.length;++K)++F[j[K]&31];for(var K=0;K<te.length;++K)++F[te[K]&31];for(var U=Qv(F,7),X=U.t,I=U.l,W=19;W>4&&!X[v5[W-1]];--W);var ce=f+5<<3,pe=o0(i,Dh)+o0(a,_1)+s,xe=o0(i,y)+o0(a,b)+s+14+3*W+o0(F,X)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&ce<=pe&&ce<=xe)return iE(e,p,t.subarray(c,c+f));var oe,be,_e,Le;if(rc(e,p,1+(xe<pe)),p+=2,xe<pe){oe=S0(y,_,0),be=y,_e=S0(b,C,0),Le=b;var Ne=S0(X,I,0);rc(e,p,R-257),rc(e,p+5,ue-1),rc(e,p+10,W-4),p+=14;for(var K=0;K<W;++K)rc(e,p+3*K,X[v5[K]]);p+=3*W;for(var Q=[j,te],O=0;O<2;++O)for(var H=Q[O],K=0;K<H.length;++K){var q=H[K]&31;rc(e,p,Ne[q]),p+=X[q],q>15&&(rc(e,p,H[K]>>5&127),p+=H[K]>>12)}}else oe=Ik,be=Dh,_e=Fk,Le=_1;for(var K=0;K<l;++K){var Z=n[K];if(Z>255){var q=Z>>18&31;s0(e,p,oe[q+257]),p+=be[q+257],q>7&&(rc(e,p,Z>>23&31),p+=q_[q]);var se=Z&31;s0(e,p,_e[se]),p+=Le[se],se>3&&(s0(e,p,Z>>5&8191),p+=V_[se])}else s0(e,p,oe[Z]),p+=be[Z]}return s0(e,p,oe[256]),p+be[256]},Uk=new H_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),aE=new Kl(0),zk=function(t,e,r,n,i,a){var s=a.z||t.length,l=new Kl(n+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(n,l.length-i),f=a.l,p=(a.r||0)&7;if(e){p&&(c[0]=a.r>>3);for(var v=Uk[e-1],y=v>>13,_=v&8191,T=(1<<r)-1,b=a.p||new Jo(32768),C=a.h||new Jo(T+1),P=Math.ceil(r/3),j=2*P,R=function(Nt){return(t[Nt]^t[Nt+1]<<P^t[Nt+2]<<j)&T},B=new H_(25e3),te=new Jo(288),ue=new Jo(32),F=0,K=0,U=a.i||0,X=0,I=a.w||0,W=0;U+2<s;++U){var ce=R(U),pe=U&32767,xe=C[ce];if(b[pe]=xe,C[ce]=pe,I<=U){var oe=s-U;if((F>7e3||X>24576)&&(oe>423||!f)){p=x5(t,c,0,B,te,ue,K,X,W,U-W,p),X=F=K=0,W=U;for(var be=0;be<286;++be)te[be]=0;for(var be=0;be<30;++be)ue[be]=0}var _e=2,Le=0,Ne=_,Q=pe-xe&32767;if(oe>2&&ce==R(U-Q))for(var O=Math.min(y,oe)-1,H=Math.min(32767,U),q=Math.min(258,oe);Q<=H&&--Ne&&pe!=xe;){if(t[U+_e]==t[U+_e-Q]){for(var Z=0;Z<q&&t[U+Z]==t[U+Z-Q];++Z);if(Z>_e){if(_e=Z,Le=Q,Z>O)break;for(var se=Math.min(Q,Z-2),Ae=0,be=0;be<se;++be){var Oe=U-Q+be&32767,Re=b[Oe],Ie=Oe-Re&32767;Ie>Ae&&(Ae=Ie,xe=Oe)}}}pe=xe,xe=b[pe],Q+=pe-xe&32767}if(Le){B[X++]=268435456|o_[_e]<<18|_5[Le];var ot=o_[_e]&31,it=_5[Le]&31;K+=q_[ot]+V_[it],++te[257+ot],++ue[it],I=U+_e,++F}else B[X++]=t[U],++te[t[U]]}}for(U=Math.max(U,I);U<s;++U)B[X++]=t[U],++te[t[U]];p=x5(t,c,f,B,te,ue,K,X,W,U-W,p),f||(a.r=p&7|c[p/8|0]<<3,p-=7,a.h=C,a.p=b,a.i=U,a.w=I)}else{for(var U=a.w||0;U<s+f;U+=65535){var Tt=U+65535;Tt>=s&&(c[p/8|0]=f,Tt=s),p=iE(c,p+1,t.subarray(U,Tt))}a.i=s}return Bk(l,0,n+nE(p)+i)},sE=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Gk=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Kl(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return zk(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},oE=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Hk=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=sE();i.p(e.dictionary),oE(t,2,i.d())}};function c_(t,e){e||(e={});var r=sE();r.p(t);var n=Gk(t,e,e.dictionary?6:2,4);return Hk(n,e),oE(n,n.length-4,r.d()),n}var qk=typeof TextDecoder<"u"&&new TextDecoder,Vk=0;try{qk.decode(aE,{stream:!0}),Vk=1}catch{}function $k(t){if(Array.isArray(t))return t}function Wk(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function w5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Zk(t,e){if(t){if(typeof t=="string")return w5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w5(t,e):void 0}}function Yk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b5(t,e){return $k(t)||Wk(t,e)||Zk(t,e)||Yk()}function S5(t,e="utf8"){return new TextDecoder(e).decode(t)}const Kk=new TextEncoder;function Xk(t){return Kk.encode(t)}const Jk=1024*8,Qk=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),e2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class $_{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Jk,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof $_)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=e2[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===Qk&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new e2[r](l.buffer);return this.offset+=n,c.reverse(),c}const s=new e2[r](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return S5(this.readBytes(e))}decodeText(e=1,r="utf8"){return S5(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(Xk(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function _d(t){let e=t.length;for(;--e>=0;)t[e]=0}const eP=3,tP=258,lE=29,rP=256,nP=rP+1+lE,uE=30,iP=512,aP=new Array((nP+2)*2);_d(aP);const sP=new Array(uE*2);_d(sP);const oP=new Array(iP);_d(oP);const lP=new Array(tP-eP+1);_d(lP);const uP=new Array(lE);_d(uP);const cP=new Array(uE);_d(cP);const hP=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var h_=hP;const fP=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},dP=new Uint32Array(fP()),pP=(t,e,r,n)=>{const i=dP,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Su=pP,f_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},cE={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const mP=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var gP=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)mP(r,n)&&(t[n]=r[n])}}return t},vP=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},hE={assign:gP,flattenChunks:vP};let fE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{fE=!1}const Z0=new Uint8Array(256);for(let t=0;t<256;t++)Z0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Z0[254]=Z0[254]=1;var _P=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,l=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const yP=(t,e)=>{if(e<65534&&t.subarray&&fE)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var xP=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let l=Z0[s];if(l>4){a[i++]=65533,n+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&n<r;)s=s<<6|t[n++]&63,l--;if(l>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return yP(a,i)},wP=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Z0[t[r]]>e?r:e},d_={string2buf:_P,buf2string:xP,utf8border:wP};function bP(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var SP=bP;const Lm=16209,EP=16191;var TP=function(e,r){let n,i,a,s,l,c,f,p,v,y,_,T,b,C,P,j,R,B,te,ue,F,K,U,X;const I=e.state;n=e.next_in,U=e.input,i=n+(e.avail_in-5),a=e.next_out,X=e.output,s=a-(r-e.avail_out),l=a+(e.avail_out-257),c=I.dmax,f=I.wsize,p=I.whave,v=I.wnext,y=I.window,_=I.hold,T=I.bits,b=I.lencode,C=I.distcode,P=(1<<I.lenbits)-1,j=(1<<I.distbits)-1;e:do{T<15&&(_+=U[n++]<<T,T+=8,_+=U[n++]<<T,T+=8),R=b[_&P];t:for(;;){if(B=R>>>24,_>>>=B,T-=B,B=R>>>16&255,B===0)X[a++]=R&65535;else if(B&16){te=R&65535,B&=15,B&&(T<B&&(_+=U[n++]<<T,T+=8),te+=_&(1<<B)-1,_>>>=B,T-=B),T<15&&(_+=U[n++]<<T,T+=8,_+=U[n++]<<T,T+=8),R=C[_&j];r:for(;;){if(B=R>>>24,_>>>=B,T-=B,B=R>>>16&255,B&16){if(ue=R&65535,B&=15,T<B&&(_+=U[n++]<<T,T+=8,T<B&&(_+=U[n++]<<T,T+=8)),ue+=_&(1<<B)-1,ue>c){e.msg="invalid distance too far back",I.mode=Lm;break e}if(_>>>=B,T-=B,B=a-s,ue>B){if(B=ue-B,B>p&&I.sane){e.msg="invalid distance too far back",I.mode=Lm;break e}if(F=0,K=y,v===0){if(F+=f-B,B<te){te-=B;do X[a++]=y[F++];while(--B);F=a-ue,K=X}}else if(v<B){if(F+=f+v-B,B-=v,B<te){te-=B;do X[a++]=y[F++];while(--B);if(F=0,v<te){B=v,te-=B;do X[a++]=y[F++];while(--B);F=a-ue,K=X}}}else if(F+=v-B,B<te){te-=B;do X[a++]=y[F++];while(--B);F=a-ue,K=X}for(;te>2;)X[a++]=K[F++],X[a++]=K[F++],X[a++]=K[F++],te-=3;te&&(X[a++]=K[F++],te>1&&(X[a++]=K[F++]))}else{F=a-ue;do X[a++]=X[F++],X[a++]=X[F++],X[a++]=X[F++],te-=3;while(te>2);te&&(X[a++]=X[F++],te>1&&(X[a++]=X[F++]))}}else if((B&64)===0){R=C[(R&65535)+(_&(1<<B)-1)];continue r}else{e.msg="invalid distance code",I.mode=Lm;break e}break}}else if((B&64)===0){R=b[(R&65535)+(_&(1<<B)-1)];continue t}else if(B&32){I.mode=EP;break e}else{e.msg="invalid literal/length code",I.mode=Lm;break e}break}}while(n<i&&a<l);te=T>>3,n-=te,T-=te<<3,_&=(1<<T)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<l?257+(l-a):257-(a-l),I.hold=_,I.bits=T};const kf=15,E5=852,T5=592,A5=0,t2=1,L5=2,AP=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),LP=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),NP=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),CP=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),MP=(t,e,r,n,i,a,s,l)=>{const c=l.bits;let f=0,p=0,v=0,y=0,_=0,T=0,b=0,C=0,P=0,j=0,R,B,te,ue,F,K=null,U;const X=new Uint16Array(kf+1),I=new Uint16Array(kf+1);let W=null,ce,pe,xe;for(f=0;f<=kf;f++)X[f]=0;for(p=0;p<n;p++)X[e[r+p]]++;for(_=c,y=kf;y>=1&&X[y]===0;y--);if(_>y&&(_=y),y===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(v=1;v<y&&X[v]===0;v++);for(_<v&&(_=v),C=1,f=1;f<=kf;f++)if(C<<=1,C-=X[f],C<0)return-1;if(C>0&&(t===A5||y!==1))return-1;for(I[1]=0,f=1;f<kf;f++)I[f+1]=I[f]+X[f];for(p=0;p<n;p++)e[r+p]!==0&&(s[I[e[r+p]]++]=p);if(t===A5?(K=W=s,U=20):t===t2?(K=AP,W=LP,U=257):(K=NP,W=CP,U=0),j=0,p=0,f=v,F=a,T=_,b=0,te=-1,P=1<<_,ue=P-1,t===t2&&P>E5||t===L5&&P>T5)return 1;for(;;){ce=f-b,s[p]+1<U?(pe=0,xe=s[p]):s[p]>=U?(pe=W[s[p]-U],xe=K[s[p]-U]):(pe=96,xe=0),R=1<<f-b,B=1<<T,v=B;do B-=R,i[F+(j>>b)+B]=ce<<24|pe<<16|xe|0;while(B!==0);for(R=1<<f-1;j&R;)R>>=1;if(R!==0?(j&=R-1,j+=R):j=0,p++,--X[f]===0){if(f===y)break;f=e[r+s[p]]}if(f>_&&(j&ue)!==te){for(b===0&&(b=_),F+=v,T=f-b,C=1<<T;T+b<y&&(C-=X[T+b],!(C<=0));)T++,C<<=1;if(P+=1<<T,t===t2&&P>E5||t===L5&&P>T5)return 1;te=j&ue,i[te]=_<<24|T<<16|F-a|0}}return j!==0&&(i[F+j]=f-b<<24|64<<16|0),l.bits=_,0};var E0=MP;const kP=0,dE=1,pE=2,{Z_FINISH:N5,Z_BLOCK:PP,Z_TREES:Nm,Z_OK:jh,Z_STREAM_END:OP,Z_NEED_DICT:RP,Z_STREAM_ERROR:wl,Z_DATA_ERROR:mE,Z_MEM_ERROR:gE,Z_BUF_ERROR:DP,Z_DEFLATED:C5}=cE,ng=16180,M5=16181,k5=16182,P5=16183,O5=16184,R5=16185,D5=16186,j5=16187,I5=16188,F5=16189,y1=16190,nc=16191,r2=16192,B5=16193,n2=16194,U5=16195,z5=16196,G5=16197,H5=16198,Cm=16199,Mm=16200,q5=16201,V5=16202,$5=16203,W5=16204,Z5=16205,i2=16206,Y5=16207,K5=16208,Ai=16209,vE=16210,_E=16211,jP=852,IP=592,FP=15,BP=FP,X5=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function UP(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Hh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<ng||e.mode>_E?1:0},yE=t=>{if(Hh(t))return wl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=ng,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(jP),e.distcode=e.distdyn=new Int32Array(IP),e.sane=1,e.back=-1,jh},xE=t=>{if(Hh(t))return wl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,yE(t)},wE=(t,e)=>{let r;if(Hh(t))return wl;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?wl:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,xE(t))},bE=(t,e)=>{if(!t)return wl;const r=new UP;t.state=r,r.strm=t,r.window=null,r.mode=ng;const n=wE(t,e);return n!==jh&&(t.state=null),n},zP=t=>bE(t,BP);let J5=!0,a2,s2;const GP=t=>{if(J5){a2=new Int32Array(512),s2=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(E0(dE,t.lens,0,288,a2,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;E0(pE,t.lens,0,32,s2,0,t.work,{bits:5}),J5=!1}t.lencode=a2,t.lenbits=9,t.distcode=s2,t.distbits=5},SE=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},HP=(t,e)=>{let r,n,i,a,s,l,c,f,p,v,y,_,T,b,C=0,P,j,R,B,te,ue,F,K;const U=new Uint8Array(4);let X,I;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hh(t)||!t.output||!t.input&&t.avail_in!==0)return wl;r=t.state,r.mode===nc&&(r.mode=r2),s=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,f=r.hold,p=r.bits,v=l,y=c,K=jh;e:for(;;)switch(r.mode){case ng:if(r.wrap===0){r.mode=r2;break}for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,U[0]=f&255,U[1]=f>>>8&255,r.check=Su(r.check,U,2,0),f=0,p=0,r.mode=M5;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",r.mode=Ai;break}if((f&15)!==C5){t.msg="unknown compression method",r.mode=Ai;break}if(f>>>=4,p-=4,F=(f&15)+8,r.wbits===0&&(r.wbits=F),F>15||F>r.wbits){t.msg="invalid window size",r.mode=Ai;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=f&512?F5:nc,f=0,p=0;break;case M5:for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.flags=f,(r.flags&255)!==C5){t.msg="unknown compression method",r.mode=Ai;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Ai;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(U[0]=f&255,U[1]=f>>>8&255,r.check=Su(r.check,U,2,0)),f=0,p=0,r.mode=k5;case k5:for(;p<32;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(U[0]=f&255,U[1]=f>>>8&255,U[2]=f>>>16&255,U[3]=f>>>24&255,r.check=Su(r.check,U,4,0)),f=0,p=0,r.mode=P5;case P5:for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(U[0]=f&255,U[1]=f>>>8&255,r.check=Su(r.check,U,2,0)),f=0,p=0,r.mode=O5;case O5:if(r.flags&1024){for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(U[0]=f&255,U[1]=f>>>8&255,r.check=Su(r.check,U,2,0)),f=0,p=0}else r.head&&(r.head.extra=null);r.mode=R5;case R5:if(r.flags&1024&&(_=r.length,_>l&&(_=l),_&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+_),F)),r.flags&512&&r.wrap&4&&(r.check=Su(r.check,n,_,a)),l-=_,a+=_,r.length-=_),r.length))break e;r.length=0,r.mode=D5;case D5:if(r.flags&2048){if(l===0)break e;_=0;do F=n[a+_++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F));while(F&&_<l);if(r.flags&512&&r.wrap&4&&(r.check=Su(r.check,n,_,a)),l-=_,a+=_,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=j5;case j5:if(r.flags&4096){if(l===0)break e;_=0;do F=n[a+_++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F));while(F&&_<l);if(r.flags&512&&r.wrap&4&&(r.check=Su(r.check,n,_,a)),l-=_,a+=_,F)break e}else r.head&&(r.head.comment=null);r.mode=I5;case I5:if(r.flags&512){for(;p<16;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.wrap&4&&f!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Ai;break}f=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=nc;break;case F5:for(;p<32;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}t.adler=r.check=X5(f),f=0,p=0,r.mode=y1;case y1:if(r.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=f,r.bits=p,RP;t.adler=r.check=1,r.mode=nc;case nc:if(e===PP||e===Nm)break e;case r2:if(r.last){f>>>=p&7,p-=p&7,r.mode=i2;break}for(;p<3;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}switch(r.last=f&1,f>>>=1,p-=1,f&3){case 0:r.mode=B5;break;case 1:if(GP(r),r.mode=Cm,e===Nm){f>>>=2,p-=2;break e}break;case 2:r.mode=z5;break;case 3:t.msg="invalid block type",r.mode=Ai}f>>>=2,p-=2;break;case B5:for(f>>>=p&7,p-=p&7;p<32;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Ai;break}if(r.length=f&65535,f=0,p=0,r.mode=n2,e===Nm)break e;case n2:r.mode=U5;case U5:if(_=r.length,_){if(_>l&&(_=l),_>c&&(_=c),_===0)break e;i.set(n.subarray(a,a+_),s),l-=_,a+=_,c-=_,s+=_,r.length-=_;break}r.mode=nc;break;case z5:for(;p<14;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.nlen=(f&31)+257,f>>>=5,p-=5,r.ndist=(f&31)+1,f>>>=5,p-=5,r.ncode=(f&15)+4,f>>>=4,p-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Ai;break}r.have=0,r.mode=G5;case G5:for(;r.have<r.ncode;){for(;p<3;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.lens[W[r.have++]]=f&7,f>>>=3,p-=3}for(;r.have<19;)r.lens[W[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,X={bits:r.lenbits},K=E0(kP,r.lens,0,19,r.lencode,0,r.work,X),r.lenbits=X.bits,K){t.msg="invalid code lengths set",r.mode=Ai;break}r.have=0,r.mode=H5;case H5:for(;r.have<r.nlen+r.ndist;){for(;C=r.lencode[f&(1<<r.lenbits)-1],P=C>>>24,j=C>>>16&255,R=C&65535,!(P<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(R<16)f>>>=P,p-=P,r.lens[r.have++]=R;else{if(R===16){for(I=P+2;p<I;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(f>>>=P,p-=P,r.have===0){t.msg="invalid bit length repeat",r.mode=Ai;break}F=r.lens[r.have-1],_=3+(f&3),f>>>=2,p-=2}else if(R===17){for(I=P+3;p<I;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}f>>>=P,p-=P,F=0,_=3+(f&7),f>>>=3,p-=3}else{for(I=P+7;p<I;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}f>>>=P,p-=P,F=0,_=11+(f&127),f>>>=7,p-=7}if(r.have+_>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Ai;break}for(;_--;)r.lens[r.have++]=F}}if(r.mode===Ai)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Ai;break}if(r.lenbits=9,X={bits:r.lenbits},K=E0(dE,r.lens,0,r.nlen,r.lencode,0,r.work,X),r.lenbits=X.bits,K){t.msg="invalid literal/lengths set",r.mode=Ai;break}if(r.distbits=6,r.distcode=r.distdyn,X={bits:r.distbits},K=E0(pE,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,X),r.distbits=X.bits,K){t.msg="invalid distances set",r.mode=Ai;break}if(r.mode=Cm,e===Nm)break e;case Cm:r.mode=Mm;case Mm:if(l>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=f,r.bits=p,TP(t,y),s=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,f=r.hold,p=r.bits,r.mode===nc&&(r.back=-1);break}for(r.back=0;C=r.lencode[f&(1<<r.lenbits)-1],P=C>>>24,j=C>>>16&255,R=C&65535,!(P<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(j&&(j&240)===0){for(B=P,te=j,ue=R;C=r.lencode[ue+((f&(1<<B+te)-1)>>B)],P=C>>>24,j=C>>>16&255,R=C&65535,!(B+P<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}f>>>=B,p-=B,r.back+=B}if(f>>>=P,p-=P,r.back+=P,r.length=R,j===0){r.mode=Z5;break}if(j&32){r.back=-1,r.mode=nc;break}if(j&64){t.msg="invalid literal/length code",r.mode=Ai;break}r.extra=j&15,r.mode=q5;case q5:if(r.extra){for(I=r.extra;p<I;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=V5;case V5:for(;C=r.distcode[f&(1<<r.distbits)-1],P=C>>>24,j=C>>>16&255,R=C&65535,!(P<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if((j&240)===0){for(B=P,te=j,ue=R;C=r.distcode[ue+((f&(1<<B+te)-1)>>B)],P=C>>>24,j=C>>>16&255,R=C&65535,!(B+P<=p);){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}f>>>=B,p-=B,r.back+=B}if(f>>>=P,p-=P,r.back+=P,j&64){t.msg="invalid distance code",r.mode=Ai;break}r.offset=R,r.extra=j&15,r.mode=$5;case $5:if(r.extra){for(I=r.extra;p<I;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Ai;break}r.mode=W5;case W5:if(c===0)break e;if(_=y-c,r.offset>_){if(_=r.offset-_,_>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Ai;break}_>r.wnext?(_-=r.wnext,T=r.wsize-_):T=r.wnext-_,_>r.length&&(_=r.length),b=r.window}else b=i,T=s-r.offset,_=r.length;_>c&&(_=c),c-=_,r.length-=_;do i[s++]=b[T++];while(--_);r.length===0&&(r.mode=Mm);break;case Z5:if(c===0)break e;i[s++]=r.length,c--,r.mode=Mm;break;case i2:if(r.wrap){for(;p<32;){if(l===0)break e;l--,f|=n[a++]<<p,p+=8}if(y-=c,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Su(r.check,i,y,s-y):h_(r.check,i,y,s-y)),y=c,r.wrap&4&&(r.flags?f:X5(f))!==r.check){t.msg="incorrect data check",r.mode=Ai;break}f=0,p=0}r.mode=Y5;case Y5:if(r.wrap&&r.flags){for(;p<32;){if(l===0)break e;l--,f+=n[a++]<<p,p+=8}if(r.wrap&4&&f!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Ai;break}f=0,p=0}r.mode=K5;case K5:K=OP;break e;case Ai:K=mE;break e;case vE:return gE;case _E:default:return wl}return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=f,r.bits=p,(r.wsize||y!==t.avail_out&&r.mode<Ai&&(r.mode<i2||e!==N5))&&SE(t,t.output,t.next_out,y-t.avail_out),v-=t.avail_in,y-=t.avail_out,t.total_in+=v,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Su(r.check,i,y,t.next_out-y):h_(r.check,i,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===nc?128:0)+(r.mode===Cm||r.mode===n2?256:0),(v===0&&y===0||e===N5)&&K===jh&&(K=DP),K},qP=t=>{if(Hh(t))return wl;let e=t.state;return e.window&&(e.window=null),t.state=null,jh},VP=(t,e)=>{if(Hh(t))return wl;const r=t.state;return(r.wrap&2)===0?wl:(r.head=e,e.done=!1,jh)},$P=(t,e)=>{const r=e.length;let n,i,a;return Hh(t)||(n=t.state,n.wrap!==0&&n.mode!==y1)?wl:n.mode===y1&&(i=1,i=h_(i,e,r,0),i!==n.check)?mE:(a=SE(t,e,r,r),a?(n.mode=vE,gE):(n.havedict=1,jh))};var WP=xE,ZP=wE,YP=yE,KP=zP,XP=bE,JP=HP,QP=qP,eO=VP,tO=$P,rO="pako inflate (from Nodeca project)",sc={inflateReset:WP,inflateReset2:ZP,inflateResetKeep:YP,inflateInit:KP,inflateInit2:XP,inflate:JP,inflateEnd:QP,inflateGetHeader:eO,inflateSetDictionary:tO,inflateInfo:rO};function nO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var iO=nO;const EE=Object.prototype.toString,{Z_NO_FLUSH:aO,Z_FINISH:sO,Z_OK:Y0,Z_STREAM_END:o2,Z_NEED_DICT:l2,Z_STREAM_ERROR:oO,Z_DATA_ERROR:Q5,Z_MEM_ERROR:lO}=cE;function mp(t){this.options=hE.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new SP,this.strm.avail_out=0;let r=sc.inflateInit2(this.strm,e.windowBits);if(r!==Y0)throw new Error(f_[r]);if(this.header=new iO,sc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=d_.string2buf(e.dictionary):EE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=sc.inflateSetDictionary(this.strm,e.dictionary),r!==Y0)))throw new Error(f_[r])}mp.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?sO:aO,EE.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=sc.inflate(r,s),a===l2&&i&&(a=sc.inflateSetDictionary(r,i),a===Y0?a=sc.inflate(r,s):a===Q5&&(a=l2));r.avail_in>0&&a===o2&&r.state.wrap>0&&t[r.next_in]!==0;)sc.inflateReset(r),a=sc.inflate(r,s);switch(a){case oO:case Q5:case l2:case lO:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===o2))if(this.options.to==="string"){let c=d_.utf8border(r.output,r.next_out),f=r.next_out-c,p=d_.buf2string(r.output,c);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(c,c+f),0),this.onData(p)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Y0&&l===0)){if(a===o2)return a=sc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};mp.prototype.onData=function(t){this.chunks.push(t)};mp.prototype.onEnd=function(t){t===Y0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=hE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function uO(t,e){const r=new mp(e);if(r.push(t),r.err)throw r.msg||f_[r.err];return r.result}var cO=mp,hO=uO,fO={Inflate:cO,inflate:hO};const{Inflate:dO,inflate:pO}=fO;var e4=dO,mO=pO;const TE=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;TE[t]=e}const t4=4294967295;function gO(t,e,r){let n=t;for(let i=0;i<r;i++)n=TE[(n^e[i])&255]^n>>>8;return n}function vO(t,e){return(gO(t4,t,e)^t4)>>>0}function r4(t,e,r){const n=t.readUint32(),i=vO(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function AE(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function LE(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function NE(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function CE(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function ME(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+_O(e[a-i],r[a],r[a-i])&255}}function _O(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function yO(t,e,r,n,i,a){switch(t){case 0:AE(e,r,i);break;case 1:LE(e,r,i,a);break;case 2:NE(e,r,n,i);break;case 3:CE(e,r,n,i,a);break;case 4:ME(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const xO=new Uint16Array([255]),wO=new Uint8Array(xO.buffer),bO=wO[0]===255;function SO(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*r*l);let f=0;for(let p=0;p<7;p++){const v=s[p],y=Math.ceil((r-v.x)/v.xStep),_=Math.ceil((n-v.y)/v.yStep);if(y<=0||_<=0)continue;const T=y*l,b=new Uint8Array(T);for(let C=0;C<_;C++){const P=e[f++],j=e.subarray(f,f+T);f+=T;const R=new Uint8Array(T);yO(P,j,R,b,T,l),b.set(R);for(let B=0;B<y;B++){const te=v.x+B*v.xStep,ue=v.y+C*v.yStep;if(!(te>=r||ue>=n))for(let F=0;F<l;F++)c[(ue*r+te)*l+F]=R[B*l+F]}}}if(a===16){const p=new Uint16Array(c.buffer);if(bO)for(let v=0;v<p.length;v++)p[v]=EO(p[v]);return p}else return c}function EO(t){return(t&255)<<8|t>>8&255}const TO=new Uint16Array([255]),AO=new Uint8Array(TO.buffer),LO=AO[0]===255,NO=new Uint8Array(0);function n4(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),c=new Uint8Array(n*l);let f=NO,p=0,v,y;for(let _=0;_<n;_++){switch(v=e.subarray(p+1,p+1+l),y=c.subarray(_*l,(_+1)*l),e[p]){case 0:AE(v,y,l);break;case 1:LE(v,y,l,s);break;case 2:NE(v,y,f,l);break;case 3:CE(v,y,f,l,s);break;case 4:ME(v,y,f,l,s);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=y,p+=l+1}if(a===16){const _=new Uint16Array(c.buffer);if(LO)for(let T=0;T<_.length;T++)_[T]=CO(_[T]);return _}else return c}function CO(t){return(t&255)<<8|t>>8&255}const t1=Uint8Array.of(137,80,78,71,13,10,26,10);function i4(t){if(!MO(t.readBytes(t1.length)))throw new Error("wrong PNG signature")}function MO(t){if(t.length<t1.length)return!1;for(let e=0;e<t1.length;e++)if(t[e]!==t1[e])return!1;return!0}const kO="tEXt",PO=0,kE=new TextDecoder("latin1");function OO(t){if(DO(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const RO=/^[\u0000-\u00FF]*$/;function DO(t){if(!RO.test(t))throw new Error("invalid latin1 text")}function jO(t,e,r){const n=PE(e);t[n]=IO(e,r-n.length-1)}function PE(t){for(t.mark();t.readByte()!==PO;);const e=t.offset;t.reset();const r=kE.decode(t.readBytes(e-t.offset-1));return t.skip(1),OO(r),r}function IO(t,e){return kE.decode(t.readBytes(e))}const Vo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},u2={UNKNOWN:-1,DEFLATE:0},a4={UNKNOWN:-1,ADAPTIVE:0},c2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},km={NONE:0,BACKGROUND:1,PREVIOUS:2},h2={SOURCE:0,OVER:1};class FO extends $_{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new e4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=u2.UNKNOWN,this._filterMethod=a4.UNKNOWN,this._interlaceMethod=c2.UNKNOWN,this._colorType=Vo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(i4(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(i4(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case kO:jO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?r4(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?r4(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=BO(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Vo.GREYSCALE:n=1;break;case Vo.TRUECOLOUR:n=3;break;case Vo.INDEXED_COLOUR:n=1;break;case Vo.GREYSCALE_ALPHA:n=2;break;case Vo.TRUECOLOUR_ALPHA:n=4;break;case Vo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==u2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Vo.GREYSCALE:case Vo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Vo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Vo.UNKNOWN:case Vo.GREYSCALE_ALPHA:case Vo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=PE(this),n=this.readUint8();if(n!==u2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:mO(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=n4({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case km.NONE:break;case km.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const s=(i*e.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[s+l]=0}break;case km.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(a,s)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,c=(a*r.width+s)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case h2.SOURCE:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:c}=i(a,s);for(let f=0;f<this._png.channels;f++)e.data[l+f]=r.data[c+f]}break;case h2.OVER:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:c}=i(a,s);for(let f=0;f<this._png.channels;f++){const p=r.data[c+this._png.channels-1]/n,v=f%(this._png.channels-1)===0?1:r.data[c+f],y=Math.floor(p*v+(1-p)*e.data[l+f]);e.data[l+f]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==a4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===c2.NO_INTERLACE)this._png.data=n4({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===c2.ADAM7)this._png.data=SO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:km.NONE,blendOp:h2.SOURCE,data:e}),this._inflator=new e4,this._writingDataChunks=!1}}function BO(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var s4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(s4||(s4={}));function UO(t,e){return new FO(t,e).decode()}var Or=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function f2(){Or.console&&typeof Or.console.log=="function"&&Or.console.log.apply(Or.console,arguments)}var ti={log:f2,warn:function(t){Or.console&&(typeof Or.console.warn=="function"?Or.console.warn.apply(Or.console,arguments):f2.call(null,arguments))},error:function(t){Or.console&&(typeof Or.console.error=="function"?Or.console.error.apply(Or.console,arguments):f2(t))}};function d2(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){bh(n.response,e,r)},n.onerror=function(){ti.error("could not download file")},n.send()}function o4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Pm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var bh=Or.saveAs||((typeof window>"u"?"undefined":Gn(window))!=="object"||window!==Or?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Or.URL||Or.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?o4(i.href)?d2(t,e,r):Pm(i,i.target="_blank"):Pm(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Pm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(o4(t))d2(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Pm(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Gn(a)!=="object"&&(ti.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return d2(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Or.HTMLElement)||Or.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Gn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=s?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},l.readAsDataURL(t)}else{var c=Or.URL||Or.webkitURL,f=c.createObjectURL(t);n?n.location=f:location.href=f,n=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});function OE(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+l+c+f}}var r1=Or.atob.bind(Or),l4=Or.btoa.bind(Or);function p2(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=ks(r,n,i,a,e[0],7,-680876936),a=ks(a,r,n,i,e[1],12,-389564586),i=ks(i,a,r,n,e[2],17,606105819),n=ks(n,i,a,r,e[3],22,-1044525330),r=ks(r,n,i,a,e[4],7,-176418897),a=ks(a,r,n,i,e[5],12,1200080426),i=ks(i,a,r,n,e[6],17,-1473231341),n=ks(n,i,a,r,e[7],22,-45705983),r=ks(r,n,i,a,e[8],7,1770035416),a=ks(a,r,n,i,e[9],12,-1958414417),i=ks(i,a,r,n,e[10],17,-42063),n=ks(n,i,a,r,e[11],22,-1990404162),r=ks(r,n,i,a,e[12],7,1804603682),a=ks(a,r,n,i,e[13],12,-40341101),i=ks(i,a,r,n,e[14],17,-1502002290),r=Ps(r,n=ks(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ps(a,r,n,i,e[6],9,-1069501632),i=Ps(i,a,r,n,e[11],14,643717713),n=Ps(n,i,a,r,e[0],20,-373897302),r=Ps(r,n,i,a,e[5],5,-701558691),a=Ps(a,r,n,i,e[10],9,38016083),i=Ps(i,a,r,n,e[15],14,-660478335),n=Ps(n,i,a,r,e[4],20,-405537848),r=Ps(r,n,i,a,e[9],5,568446438),a=Ps(a,r,n,i,e[14],9,-1019803690),i=Ps(i,a,r,n,e[3],14,-187363961),n=Ps(n,i,a,r,e[8],20,1163531501),r=Ps(r,n,i,a,e[13],5,-1444681467),a=Ps(a,r,n,i,e[2],9,-51403784),i=Ps(i,a,r,n,e[7],14,1735328473),r=Os(r,n=Ps(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Os(a,r,n,i,e[8],11,-2022574463),i=Os(i,a,r,n,e[11],16,1839030562),n=Os(n,i,a,r,e[14],23,-35309556),r=Os(r,n,i,a,e[1],4,-1530992060),a=Os(a,r,n,i,e[4],11,1272893353),i=Os(i,a,r,n,e[7],16,-155497632),n=Os(n,i,a,r,e[10],23,-1094730640),r=Os(r,n,i,a,e[13],4,681279174),a=Os(a,r,n,i,e[0],11,-358537222),i=Os(i,a,r,n,e[3],16,-722521979),n=Os(n,i,a,r,e[6],23,76029189),r=Os(r,n,i,a,e[9],4,-640364487),a=Os(a,r,n,i,e[12],11,-421815835),i=Os(i,a,r,n,e[15],16,530742520),r=Rs(r,n=Os(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Rs(a,r,n,i,e[7],10,1126891415),i=Rs(i,a,r,n,e[14],15,-1416354905),n=Rs(n,i,a,r,e[5],21,-57434055),r=Rs(r,n,i,a,e[12],6,1700485571),a=Rs(a,r,n,i,e[3],10,-1894986606),i=Rs(i,a,r,n,e[10],15,-1051523),n=Rs(n,i,a,r,e[1],21,-2054922799),r=Rs(r,n,i,a,e[8],6,1873313359),a=Rs(a,r,n,i,e[15],10,-30611744),i=Rs(i,a,r,n,e[6],15,-1560198380),n=Rs(n,i,a,r,e[13],21,1309151649),r=Rs(r,n,i,a,e[4],6,-145523070),a=Rs(a,r,n,i,e[11],10,-1120210379),i=Rs(i,a,r,n,e[2],15,718787259),n=Rs(n,i,a,r,e[9],21,-343485551),t[0]=Zc(r,t[0]),t[1]=Zc(n,t[1]),t[2]=Zc(i,t[2]),t[3]=Zc(a,t[3])}function ig(t,e,r,n,i,a){return e=Zc(Zc(e,t),Zc(n,a)),Zc(e<<i|e>>>32-i,r)}function ks(t,e,r,n,i,a,s){return ig(e&r|~e&n,t,e,i,a,s)}function Ps(t,e,r,n,i,a,s){return ig(e&n|r&~n,t,e,i,a,s)}function Os(t,e,r,n,i,a,s){return ig(e^r^n,t,e,i,a,s)}function Rs(t,e,r,n,i,a,s){return ig(r^(e|~n),t,e,i,a,s)}function RE(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)p2(n,zO(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(p2(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,p2(n,i),n}function zO(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var u4="0123456789abcdef".split("");function GO(t){for(var e="",r=0;r<4;r++)e+=u4[t>>8*r+4&15]+u4[t>>8*r&15];return e}function HO(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function p_(t){return RE(t).map(HO).join("")}var qO=(function(t){for(var e=0;e<t.length;e++)t[e]=GO(t[e]);return t.join("")})(RE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zc(t,e){if(qO){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}function m_(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var f=0;for(c=0;c<256;c++){var p=l[c];f=(f+p+s.charCodeAt(c))%256,l[c]=l[f],l[f]=p}r=t,n=l}else l=n;var v=e.length,y=0,_=0,T="";for(c=0;c<v;c++)_=(_+(p=l[y=(y+1)%256]))%256,l[y]=l[_],l[_]=p,s=l[(l[y]+l[_])%256],T+=String.fromCharCode(e.charCodeAt(c)^s);return T}var c4={print:4,modify:8,copy:16,"annot-forms":32};function qf(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(c4.perm!==void 0)throw new Error("Invalid permission: "+l);i+=c4[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=p_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=m_(this.encryptionKey,this.padding)}function Vf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function h4(t){if(Gn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(l){Or.console&&ti.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function x1(t){if(!(this instanceof x1))return new x1(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function DE(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Lh(t,e,r,n,i){if(!(this instanceof Lh))return new Lh(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,DE.call(this,n,i)}function Kf(t,e,r,n,i){if(!(this instanceof Kf))return new Kf(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,DE.call(this,n,i)}function fr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,f="S",p=null;Gn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),f=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,y={},_={internal:{},__private__:{}};_.__private__.PubSub=h4;var T="1.3",b=_.__private__.getPdfVersion=function(){return T};_.__private__.setPdfVersion=function(k){T=k};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return C};var P=_.__private__.getPageFormat=function(k){return C[k]};i=i||"a4";var j="compat",R="advanced",B=j;function te(){this.saveGraphicsState(),we(new Qt(_r,0,0,-_r,0,Po()*_r).toString()+" cm"),this.setFontSize(this.getFontSize()/_r),f="n",B=R}function ue(){this.restoreGraphicsState(),f="S",B=j}var F=_.__private__.combineFontStyleAndFontWeight=function(k,J){if(k=="bold"&&J=="normal"||k=="bold"&&J==400||k=="normal"&&J=="italic"||k=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(k=J==400||J==="normal"?k==="italic"?"italic":"normal":J!=700&&J!=="bold"||k!=="normal"?(J==700?"bold":J)+""+k:"bold"),k};_.advancedAPI=function(k){var J=B===j;return J&&te.call(this),typeof k!="function"||(k(this),J&&ue.call(this)),this},_.compatAPI=function(k){var J=B===R;return J&&ue.call(this),typeof k!="function"||(k(this),J&&te.call(this)),this},_.isAdvancedAPI=function(){return B===R};var K,U=function(k){if(B!==R)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=_.roundToPrecision=_.__private__.roundToPrecision=function(k,J){var Se=e||J;if(isNaN(k)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(Se).replace(/0+$/,"")};K=_.hpf=_.__private__.hpf=typeof c=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,c)}:c==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,16)};var I=_.f2=_.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return X(k,2)},W=_.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return X(k,3)},ce=_.scale=_.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return B===j?k*_r:B===R?k:void 0},pe=function(k){return ce((function(J){return B===j?Po()-J:B===R?J:void 0})(k))};_.__private__.setPrecision=_.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(e=parseInt(k,10))};var xe,oe="00000000000000000000000000000000",be=_.__private__.getFileId=function(){return oe},_e=_.__private__.setFileId=function(k){return oe=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(ni=new qf(p.userPermissions,p.userPassword,p.ownerPassword,oe)),oe};_.setFileId=function(k){return _e(k),this},_.getFileId=function(){return be()};var Le=_.__private__.convertDateToPDFDate=function(k){var J=k.getTimezoneOffset(),Se=J<0?"+":"-",De=Math.floor(Math.abs(J/60)),Ve=Math.abs(J%60),at=[Se,q(De),"'",q(Ve),"'"].join("");return["D:",k.getFullYear(),q(k.getMonth()+1),q(k.getDate()),q(k.getHours()),q(k.getMinutes()),q(k.getSeconds()),at].join("")},Ne=_.__private__.convertPDFDateToDate=function(k){var J=parseInt(k.substr(2,4),10),Se=parseInt(k.substr(6,2),10)-1,De=parseInt(k.substr(8,2),10),Ve=parseInt(k.substr(10,2),10),at=parseInt(k.substr(12,2),10),St=parseInt(k.substr(14,2),10);return new Date(J,Se,De,Ve,at,St,0)},Q=_.__private__.setCreationDate=function(k){var J;if(k===void 0&&(k=new Date),k instanceof Date)J=Le(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=k}return xe=J},O=_.__private__.getCreationDate=function(k){var J=xe;return k==="jsDate"&&(J=Ne(xe)),J};_.setCreationDate=function(k){return Q(k),this},_.getCreationDate=function(k){return O(k)};var H,q=_.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},Z=_.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},se=0,Ae=[],Oe=[],Re=0,Ie=[],ot=[],it=!1,Tt=Oe;_.__private__.setCustomOutputDestination=function(k){it=!0,Tt=k};var Nt=function(k){it||(Tt=k)};_.__private__.resetCustomOutputDestination=function(){it=!1,Tt=Oe};var we=_.__private__.out=function(k){return k=k.toString(),Re+=k.length+1,Tt.push(k),Tt},yt=_.__private__.write=function(k){return we(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},xt=_.__private__.getArrayBuffer=function(k){for(var J=k.length,Se=new ArrayBuffer(J),De=new Uint8Array(Se);J--;)De[J]=k.charCodeAt(J);return Se},zt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return zt};var dt=t.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(k){return dt=B===R?k/_r:k,this};var Vt,jt=_.__private__.getFontSize=_.getFontSize=function(){return B===j?dt:dt*_r},sr=t.R2L||!1;_.__private__.setR2L=_.setR2L=function(k){return sr=k,this},_.__private__.getR2L=_.getR2L=function(){return sr};var Xt,Jt=_.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))Vt=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');Vt=k}else Vt=parseInt(k,10)};_.__private__.getZoomMode=function(){return Vt};var Er,dr=_.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');Xt=k};_.__private__.getPageMode=function(){return Xt};var Nr=_.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');Er=k};_.__private__.getLayoutMode=function(){return Er},_.__private__.setDisplayMode=_.setDisplayMode=function(k,J,Se){return Jt(k),Nr(J),dr(Se),this};var or={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(k){if(Object.keys(or).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return or[k]},_.__private__.getDocumentProperties=function(){return or},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(k){for(var J in or)or.hasOwnProperty(J)&&k[J]&&(or[J]=k[J]);return this},_.__private__.setDocumentProperty=function(k,J){if(Object.keys(or).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return or[k]=J};var Ft,_r,Wt,xn,Mr,Gt={},pr={},Dr=[],Yt={},ln={},ur={},cr={},en=null,xr=0,Zt=[],Gr=new h4(_),ba=t.hotfixes||[],li={},Ji={},Ni=[],Qt=function k(J,Se,De,Ve,at,St){if(!(this instanceof k))return new k(J,Se,De,Ve,at,St);isNaN(J)&&(J=1),isNaN(Se)&&(Se=0),isNaN(De)&&(De=0),isNaN(Ve)&&(Ve=1),isNaN(at)&&(at=0),isNaN(St)&&(St=0),this._matrix=[J,Se,De,Ve,at,St]};Object.defineProperty(Qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qt.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(K).join(k)},Qt.prototype.multiply=function(k){var J=k.sx*this.sx+k.shy*this.shx,Se=k.sx*this.shy+k.shy*this.sy,De=k.shx*this.sx+k.sy*this.shx,Ve=k.shx*this.shy+k.sy*this.sy,at=k.tx*this.sx+k.ty*this.shx+this.tx,St=k.tx*this.shy+k.ty*this.sy+this.ty;return new Qt(J,Se,De,Ve,at,St)},Qt.prototype.decompose=function(){var k=this.sx,J=this.shy,Se=this.shx,De=this.sy,Ve=this.tx,at=this.ty,St=Math.sqrt(k*k+J*J),$t=(k/=St)*Se+(J/=St)*De;Se-=k*$t,De-=J*$t;var er=Math.sqrt(Se*Se+De*De);return $t/=er,k*(De/=er)<J*(Se/=er)&&(k=-k,J=-J,$t=-$t,St=-St),{scale:new Qt(St,0,0,er,0,0),translate:new Qt(1,0,0,1,Ve,at),rotate:new Qt(k,J,-J,k,0,0),skew:new Qt(1,0,$t,1,0,0)}},Qt.prototype.toString=function(k){return this.join(" ")},Qt.prototype.inversed=function(){var k=this.sx,J=this.shy,Se=this.shx,De=this.sy,Ve=this.tx,at=this.ty,St=1/(k*De-J*Se),$t=De*St,er=-J*St,br=-Se*St,kr=k*St;return new Qt($t,er,br,kr,-$t*Ve-br*at,-er*Ve-kr*at)},Qt.prototype.applyToPoint=function(k){var J=k.x*this.sx+k.y*this.shx+this.tx,Se=k.x*this.shy+k.y*this.sy+this.ty;return new ws(J,Se)},Qt.prototype.applyToRectangle=function(k){var J=this.applyToPoint(k),Se=this.applyToPoint(new ws(k.x+k.w,k.y+k.h));return new ro(J.x,J.y,Se.x-J.x,Se.y-J.y)},Qt.prototype.clone=function(){var k=this.sx,J=this.shy,Se=this.shx,De=this.sy,Ve=this.tx,at=this.ty;return new Qt(k,J,Se,De,Ve,at)},_.Matrix=Qt;var Ka=_.matrixMult=function(k,J){return J.multiply(k)},Fa=new Qt(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Fa;var Ce=function(k,J){if(!ln[k]){var Se=(J instanceof Lh?"Sh":"P")+(Object.keys(Yt).length+1).toString(10);J.id=Se,ln[k]=Se,Yt[Se]=J,Gr.publish("addPattern",J)}};_.ShadingPattern=Lh,_.TilingPattern=Kf,_.addShadingPattern=function(k,J){return U("addShadingPattern()"),Ce(k,J),this},_.beginTilingPattern=function(k){U("beginTilingPattern()"),Nl(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},_.endTilingPattern=function(k,J){U("endTilingPattern()"),J.stream=ot[H].join(`
`),Ce(k,J),Gr.publish("endTilingPattern",J),Ni.pop().restore()};var Ge,qe=_.__private__.newObject=function(){var k=Ye();return Y(k,!0),k},Ye=_.__private__.newObjectDeferred=function(){return se++,Ae[se]=function(){return Re},se},Y=function(k,J){return J=typeof J=="boolean"&&J,Ae[k]=Re,J&&we(k+" 0 obj"),k},me=_.__private__.newAdditionalObject=function(){var k={objId:Ye(),content:""};return Ie.push(k),k},re=Ye(),ne=Ye(),he=_.__private__.decodeColorString=function(k){var J=k.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var Se=parseFloat(J[0]);J=[Se,Se,Se,"r"]}for(var De="#",Ve=0;Ve<3;Ve++)De+=("0"+Math.floor(255*parseFloat(J[Ve])).toString(16)).slice(-2);return De},ve=_.__private__.encodeColorString=function(k){var J;typeof k=="string"&&(k={ch1:k});var Se=k.ch1,De=k.ch2,Ve=k.ch3,at=k.ch4,St=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var $t=new OE(Se);if($t.ok)Se=$t.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var er=parseInt(Se.substr(1),16);Se=er>>16&255,De=er>>8&255,Ve=255&er}if(De===void 0||at===void 0&&Se===De&&De===Ve)J=typeof Se=="string"?Se+" "+St[0]:k.precision===2?I(Se/255)+" "+St[0]:W(Se/255)+" "+St[0];else if(at===void 0||Gn(at)==="object"){if(at&&!isNaN(at.a)&&at.a===0)return["1.","1.","1.",St[1]].join(" ");J=typeof Se=="string"?[Se,De,Ve,St[1]].join(" "):k.precision===2?[I(Se/255),I(De/255),I(Ve/255),St[1]].join(" "):[W(Se/255),W(De/255),W(Ve/255),St[1]].join(" ")}else J=typeof Se=="string"?[Se,De,Ve,at,St[2]].join(" "):k.precision===2?[I(Se),I(De),I(Ve),I(at),St[2]].join(" "):[W(Se),W(De),W(Ve),W(at),St[2]].join(" ");return J},Pe=_.__private__.getFilters=function(){return s},ze=_.__private__.putStream=function(k){var J=(k=k||{}).data||"",Se=k.filters||Pe(),De=k.alreadyAppliedFilters||[],Ve=k.addLength1||!1,at=J.length,St=k.objectId,$t=function(Oi){return Oi};if(p!==null&&St===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&($t=ni.encryptor(St,0));var er={};Se===!0&&(Se=["FlateEncode"]);var br=k.additionalKeyValues||[],kr=(er=fr.API.processDataByFilters!==void 0?fr.API.processDataByFilters(J,Se):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(er.data.length!==0&&(br.push({key:"Length",value:er.data.length}),Ve===!0&&br.push({key:"Length1",value:at})),kr.length!=0)if(kr.split("/").length-1==1)br.push({key:"Filter",value:kr});else{br.push({key:"Filter",value:"["+kr+"]"});for(var Xr=0;Xr<br.length;Xr+=1)if(br[Xr].key==="DecodeParms"){for(var Jn=[],ui=0;ui<er.reverseChain.split("/").length-1;ui+=1)Jn.push("null");Jn.push(br[Xr].value),br[Xr].value="["+Jn.join(" ")+"]"}}we("<<");for(var wn=0;wn<br.length;wn++)we("/"+br[wn].key+" "+br[wn].value);we(">>"),er.data.length!==0&&(we("stream"),we($t(er.data)),we("endstream"))},Be=_.__private__.putPage=function(k){var J=k.number,Se=k.data,De=k.objId,Ve=k.contentsObjId;Y(De,!0),we("<</Type /Page"),we("/Parent "+k.rootDictionaryObjId+" 0 R"),we("/Resources "+k.resourceDictionaryObjId+" 0 R"),we("/MediaBox ["+parseFloat(K(k.mediaBox.bottomLeftX))+" "+parseFloat(K(k.mediaBox.bottomLeftY))+" "+K(k.mediaBox.topRightX)+" "+K(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&we("/CropBox ["+K(k.cropBox.bottomLeftX)+" "+K(k.cropBox.bottomLeftY)+" "+K(k.cropBox.topRightX)+" "+K(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&we("/BleedBox ["+K(k.bleedBox.bottomLeftX)+" "+K(k.bleedBox.bottomLeftY)+" "+K(k.bleedBox.topRightX)+" "+K(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&we("/TrimBox ["+K(k.trimBox.bottomLeftX)+" "+K(k.trimBox.bottomLeftY)+" "+K(k.trimBox.topRightX)+" "+K(k.trimBox.topRightY)+"]"),k.artBox!==null&&we("/ArtBox ["+K(k.artBox.bottomLeftX)+" "+K(k.artBox.bottomLeftY)+" "+K(k.artBox.topRightX)+" "+K(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&we("/UserUnit "+k.userUnit),Gr.publish("putPage",{objId:De,pageContext:Zt[J],pageNumber:J,page:Se}),we("/Contents "+Ve+" 0 R"),we(">>"),we("endobj");var at=Se.join(`
`);return B===R&&(at+=`
Q`),Y(Ve,!0),ze({data:at,filters:Pe(),objectId:Ve}),we("endobj"),De},Ue=_.__private__.putPages=function(){var k,J,Se=[];for(k=1;k<=xr;k++)Zt[k].objId=Ye(),Zt[k].contentsObjId=Ye();for(k=1;k<=xr;k++)Se.push(Be({number:k,data:ot[k],objId:Zt[k].objId,contentsObjId:Zt[k].contentsObjId,mediaBox:Zt[k].mediaBox,cropBox:Zt[k].cropBox,bleedBox:Zt[k].bleedBox,trimBox:Zt[k].trimBox,artBox:Zt[k].artBox,userUnit:Zt[k].userUnit,rootDictionaryObjId:re,resourceDictionaryObjId:ne}));Y(re,!0),we("<</Type /Pages");var De="/Kids [";for(J=0;J<xr;J++)De+=Se[J]+" 0 R ";we(De+"]"),we("/Count "+xr),we(">>"),we("endobj"),Gr.publish("postPutPages")},$e=function(k){Gr.publish("putFont",{font:k,out:we,newObject:qe,putStream:ze}),k.isAlreadyPutted!==!0&&(k.objectNumber=qe(),we("<<"),we("/Type /Font"),we("/BaseFont /"+Vf(k.postScriptName)),we("/Subtype /Type1"),typeof k.encoding=="string"&&we("/Encoding /"+k.encoding),we("/FirstChar 32"),we("/LastChar 255"),we(">>"),we("endobj"))},ht=function(k){k.objectNumber=qe();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[K(k.x),K(k.y),K(k.x+k.width),K(k.y+k.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var Se=k.pages[1].join(`
`);ze({data:Se,additionalKeyValues:J,objectId:k.objectNumber}),we("endobj")},bt=function(k,J){J||(J=21);var Se=qe(),De=(function(St,$t){var er,br=[],kr=1/($t-1);for(er=0;er<1;er+=kr)br.push(er);if(br.push(1),St[0].offset!=0){var Xr={offset:0,color:St[0].color};St.unshift(Xr)}if(St[St.length-1].offset!=1){var Jn={offset:1,color:St[St.length-1].color};St.push(Jn)}for(var ui="",wn=0,Oi=0;Oi<br.length;Oi++){for(er=br[Oi];er>St[wn+1].offset;)wn++;var ci=St[wn].offset,Ii=(er-ci)/(St[wn+1].offset-ci),bs=St[wn].color,ta=St[wn+1].color;ui+=Z(Math.round((1-Ii)*bs[0]+Ii*ta[0]).toString(16))+Z(Math.round((1-Ii)*bs[1]+Ii*ta[1]).toString(16))+Z(Math.round((1-Ii)*bs[2]+Ii*ta[2]).toString(16))}return ui.trim()})(k.colors,J),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+J+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze({data:De,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),we("endobj"),k.objectNumber=qe(),we("<< /ShadingType "+k.type),we("/ColorSpace /DeviceRGB");var at="/Coords ["+K(parseFloat(k.coords[0]))+" "+K(parseFloat(k.coords[1]))+" ";k.type===2?at+=K(parseFloat(k.coords[2]))+" "+K(parseFloat(k.coords[3])):at+=K(parseFloat(k.coords[2]))+" "+K(parseFloat(k.coords[3]))+" "+K(parseFloat(k.coords[4]))+" "+K(parseFloat(k.coords[5])),we(at+="]"),k.matrix&&we("/Matrix ["+k.matrix.toString()+"]"),we("/Function "+Se+" 0 R"),we("/Extend [true true]"),we(">>"),we("endobj")},wt=function(k,J){var Se=Ye(),De=qe();J.push({resourcesOid:Se,objectOid:De}),k.objectNumber=De;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+k.boundingBox.map(K).join(" ")+"]"}),Ve.push({key:"XStep",value:K(k.xStep)}),Ve.push({key:"YStep",value:K(k.yStep)}),Ve.push({key:"Resources",value:Se+" 0 R"}),k.matrix&&Ve.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),ze({data:k.stream,additionalKeyValues:Ve,objectId:k.objectNumber}),we("endobj")},gt=function(k){for(var J in k.objectNumber=qe(),we("<<"),k)switch(J){case"opacity":we("/ca "+I(k[J]));break;case"stroke-opacity":we("/CA "+I(k[J]))}we(">>"),we("endobj")},Mt=function(k){Y(k.resourcesOid,!0),we("<<"),we("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var J in we("/Font <<"),Gt)Gt.hasOwnProperty(J)&&(v===!1||v===!0&&y.hasOwnProperty(J))&&we("/"+J+" "+Gt[J].objectNumber+" 0 R");we(">>")})(),(function(){if(Object.keys(Yt).length>0){for(var J in we("/Shading <<"),Yt)Yt.hasOwnProperty(J)&&Yt[J]instanceof Lh&&Yt[J].objectNumber>=0&&we("/"+J+" "+Yt[J].objectNumber+" 0 R");Gr.publish("putShadingPatternDict"),we(">>")}})(),(function(J){if(Object.keys(Yt).length>0){for(var Se in we("/Pattern <<"),Yt)Yt.hasOwnProperty(Se)&&Yt[Se]instanceof _.TilingPattern&&Yt[Se].objectNumber>=0&&Yt[Se].objectNumber<J&&we("/"+Se+" "+Yt[Se].objectNumber+" 0 R");Gr.publish("putTilingPatternDict"),we(">>")}})(k.objectOid),(function(){if(Object.keys(ur).length>0){var J;for(J in we("/ExtGState <<"),ur)ur.hasOwnProperty(J)&&ur[J].objectNumber>=0&&we("/"+J+" "+ur[J].objectNumber+" 0 R");Gr.publish("putGStateDict"),we(">>")}})(),(function(){for(var J in we("/XObject <<"),li)li.hasOwnProperty(J)&&li[J].objectNumber>=0&&we("/"+J+" "+li[J].objectNumber+" 0 R");Gr.publish("putXobjectDict"),we(">>")})(),we(">>"),we("endobj")},Bt=function(k){pr[k.fontName]=pr[k.fontName]||{},pr[k.fontName][k.fontStyle]=k.id},Hr=function(k,J,Se,De,Ve){var at={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:k,fontName:J,fontStyle:Se,encoding:De,isStandardFont:Ve||!1,metadata:{}};return Gr.publish("addFont",{font:at,instance:this}),Gt[at.id]=at,Bt(at),at.id},wr=_.__private__.pdfEscape=_.pdfEscape=function(k,J){return(function(Se,De){var Ve,at,St,$t,er,br,kr,Xr,Jn;if(St=(De=De||{}).sourceEncoding||"Unicode",er=De.outputEncoding,(De.autoencode||er)&&Gt[Ft].metadata&&Gt[Ft].metadata[St]&&Gt[Ft].metadata[St].encoding&&($t=Gt[Ft].metadata[St].encoding,!er&&Gt[Ft].encoding&&(er=Gt[Ft].encoding),!er&&$t.codePages&&(er=$t.codePages[0]),typeof er=="string"&&(er=$t[er]),er)){for(kr=!1,br=[],Ve=0,at=Se.length;Ve<at;Ve++)(Xr=er[Se.charCodeAt(Ve)])?br.push(String.fromCharCode(Xr)):br.push(Se[Ve]),br[Ve].charCodeAt(0)>>8&&(kr=!0);Se=br.join("")}for(Ve=Se.length;kr===void 0&&Ve!==0;)Se.charCodeAt(Ve-1)>>8&&(kr=!0),Ve--;if(!kr)return Se;for(br=De.noBOM?[]:[254,255],Ve=0,at=Se.length;Ve<at;Ve++){if((Jn=(Xr=Se.charCodeAt(Ve))>>8)>>8)throw new Error("Character at position "+Ve+" of string '"+Se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");br.push(Jn),br.push(Xr-(Jn<<8))}return String.fromCharCode.apply(void 0,br)})(k,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nn=_.__private__.beginPage=function(k){ot[++xr]=[],Zt[xr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},Qi(xr),Nt(ot[H])},Kn=function(k,J){var Se,De,Ve;switch(r=J||r,typeof k=="string"&&(Se=P(k.toLowerCase()),Array.isArray(Se)&&(De=Se[0],Ve=Se[1])),Array.isArray(k)&&(De=k[0]*_r,Ve=k[1]*_r),isNaN(De)&&(De=i[0],Ve=i[1]),(De>14400||Ve>14400)&&(ti.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),Ve=Math.min(14400,Ve)),i=[De,Ve],r.substr(0,1)){case"l":Ve>De&&(i=[Ve,De]);break;case"p":De>Ve&&(i=[Ve,De])}nn(i),Ct(Mo),we(La),nu!==0&&we(nu+" J"),ki!==0&&we(ki+" j"),Gr.publish("addPage",{pageNumber:xr})},Xn=function(k){k>0&&k<=xr&&(ot.splice(k,1),Zt.splice(k,1),xr--,H>xr&&(H=xr),this.setPage(H))},Qi=function(k){k>0&&k<=xr&&(H=k)},Ci=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return ot.length-1},Ar=function(k,J,Se){var De,Ve=void 0;return Se=Se||{},k=k!==void 0?k:Gt[Ft].fontName,J=J!==void 0?J:Gt[Ft].fontStyle,De=k.toLowerCase(),pr[De]!==void 0&&pr[De][J]!==void 0?Ve=pr[De][J]:pr[k]!==void 0&&pr[k][J]!==void 0?Ve=pr[k][J]:Se.disableWarning===!1&&ti.warn("Unable to look up font label for font '"+k+"', '"+J+"'. Refer to getFontList() for available fonts."),Ve||Se.noFallback||(Ve=pr.times[J])==null&&(Ve=pr.times.normal),Ve},Ut=_.__private__.putInfo=function(){var k=qe(),J=function(De){return De};for(var Se in p!==null&&(J=ni.encryptor(k,0)),we("<<"),we("/Producer ("+wr(J("jsPDF "+fr.version))+")"),or)or.hasOwnProperty(Se)&&or[Se]&&we("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+wr(J(or[Se]))+")");we("/CreationDate ("+wr(J(xe))+")"),we(">>"),we("endobj")},qr=_.__private__.putCatalog=function(k){var J=(k=k||{}).rootDictionaryObjId||re;switch(qe(),we("<<"),we("/Type /Catalog"),we("/Pages "+J+" 0 R"),Vt||(Vt="fullwidth"),Vt){case"fullwidth":we("/OpenAction [3 0 R /FitH null]");break;case"fullheight":we("/OpenAction [3 0 R /FitV null]");break;case"fullpage":we("/OpenAction [3 0 R /Fit]");break;case"original":we("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+Vt;Se.substr(Se.length-1)==="%"&&(Vt=parseInt(Vt)/100),typeof Vt=="number"&&we("/OpenAction [3 0 R /XYZ null null "+I(Vt)+"]")}switch(Er||(Er="continuous"),Er){case"continuous":we("/PageLayout /OneColumn");break;case"single":we("/PageLayout /SinglePage");break;case"two":case"twoleft":we("/PageLayout /TwoColumnLeft");break;case"tworight":we("/PageLayout /TwoColumnRight")}Xt&&we("/PageMode /"+Xt),Gr.publish("putCatalog"),we(">>"),we("endobj")},ri=_.__private__.putTrailer=function(){we("trailer"),we("<<"),we("/Size "+(se+1)),we("/Root "+se+" 0 R"),we("/Info "+(se-1)+" 0 R"),p!==null&&we("/Encrypt "+ni.oid+" 0 R"),we("/ID [ <"+oe+"> <"+oe+"> ]"),we(">>")},ar=_.__private__.putHeader=function(){we("%PDF-"+T),we("%")},Sa=_.__private__.putXRef=function(){var k="0000000000";we("xref"),we("0 "+(se+1)),we("0000000000 65535 f ");for(var J=1;J<=se;J++)typeof Ae[J]=="function"?we((k+Ae[J]()).slice(-10)+" 00000 n "):Ae[J]!==void 0?we((k+Ae[J]).slice(-10)+" 00000 n "):we("0000000000 00000 n ")},Ea=_.__private__.buildDocument=function(){var k;se=0,Re=0,Oe=[],Ae=[],Ie=[],re=Ye(),ne=Ye(),Nt(Oe),Gr.publish("buildDocument"),ar(),Ue(),(function(){Gr.publish("putAdditionalObjects");for(var Se=0;Se<Ie.length;Se++){var De=Ie[Se];Y(De.objId,!0),we(De.content),we("endobj")}Gr.publish("postPutAdditionalObjects")})(),k=[],(function(){for(var Se in Gt)Gt.hasOwnProperty(Se)&&(v===!1||v===!0&&y.hasOwnProperty(Se))&&$e(Gt[Se])})(),(function(){var Se;for(Se in ur)ur.hasOwnProperty(Se)&&gt(ur[Se])})(),(function(){for(var Se in li)li.hasOwnProperty(Se)&&ht(li[Se])})(),(function(Se){var De;for(De in Yt)Yt.hasOwnProperty(De)&&(Yt[De]instanceof Lh?bt(Yt[De]):Yt[De]instanceof Kf&&wt(Yt[De],Se))})(k),Gr.publish("putResources"),k.forEach(Mt),Mt({resourcesOid:ne,objectOid:Number.MAX_SAFE_INTEGER}),Gr.publish("postPutResources"),p!==null&&(ni.oid=qe(),we("<<"),we("/Filter /Standard"),we("/V "+ni.v),we("/R "+ni.r),we("/U <"+ni.toHexString(ni.U)+">"),we("/O <"+ni.toHexString(ni.O)+">"),we("/P "+ni.P),we(">>"),we("endobj")),Ut(),qr();var J=Re;return Sa(),ri(),we("startxref"),we(""+J),we("%%EOF"),Nt(ot[H]),Oe.join(`
`)},yr=_.__private__.getBlob=function(k){return new Blob([xt(k)],{type:"application/pdf"})},Dn=_.output=_.__private__.output=(Ge=function(k,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",k){case void 0:return Ea();case"save":_.save(J.filename);break;case"arraybuffer":return xt(Ea());case"blob":return yr(Ea());case"bloburi":case"bloburl":if(Or.URL!==void 0&&typeof Or.URL.createObjectURL=="function")return Or.URL&&Or.URL.createObjectURL(yr(Ea()))||void 0;ti.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",De=Ea();try{Se=l4(De)}catch{Se=l4(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+J.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",at=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Ve=J.pdfObjectUrl,at="");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+at+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",$t=Or.open();return $t!==null&&$t.document.write(St),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',br=Or.open();if(br!==null){br.document.write(er);var kr=this;br.document.documentElement.querySelector("#pdfViewer").onload=function(){br.document.title=J.filename,br.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kr.output("bloburl"))}}return br}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Or)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',Jn=Or.open();if(Jn!==null&&(Jn.document.write(Xr),Jn.document.title=J.filename),Jn||typeof safari>"u")return Jn;break;case"datauri":case"dataurl":return Or.document.location.href=this.output("datauristring",J);default:return null}},Ge.foo=function(){try{return Ge.apply(this,arguments)}catch(Se){var k=Se.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var J="Error in function "+k.split(`
`)[0].split("<")[0]+": "+Se.message;if(!Or.console)throw new Error(J);Or.console.error(J,Se),Or.alert&&alert(J)}},Ge.foo.bar=Ge,Ge.foo),ea=function(k){return Array.isArray(ba)===!0&&ba.indexOf(k)>-1};switch(n){case"pt":_r=1;break;case"mm":_r=72/25.4;break;case"cm":_r=72/2.54;break;case"in":_r=72;break;case"px":_r=ea("px_scaling")==1?.75:96/72;break;case"pc":case"em":_r=12;break;case"ex":_r=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);_r=n}var ni=null;Q(),_e();var un=_.__private__.getPageInfo=_.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Zt[k].objId,pageNumber:k,pageContext:Zt[k]}},eu=_.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in Zt)if(Zt[J].objId===k)break;return un(J)},El=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Zt[H].objId,pageNumber:H,pageContext:Zt[H]}};_.addPage=function(){return Kn.apply(this,arguments),this},_.setPage=function(){return Qi.apply(this,arguments),Nt.call(this,ot[H]),this},_.insertPage=function(k){return this.addPage(),this.movePage(H,k),this},_.movePage=function(k,J){var Se,De;if(k>J){Se=ot[k],De=Zt[k];for(var Ve=k;Ve>J;Ve--)ot[Ve]=ot[Ve-1],Zt[Ve]=Zt[Ve-1];ot[J]=Se,Zt[J]=De,this.setPage(J)}else if(k<J){Se=ot[k],De=Zt[k];for(var at=k;at<J;at++)ot[at]=ot[at+1],Zt[at]=Zt[at+1];ot[J]=Se,Zt[J]=De,this.setPage(J)}return this},_.deletePage=function(){return Xn.apply(this,arguments),this},_.__private__.text=_.text=function(k,J,Se,De,Ve){var at,St,$t,er,br,kr,Xr,Jn,ui,wn=(De=De||{}).scope||this;if(typeof k=="number"&&typeof J=="number"&&(typeof Se=="string"||Array.isArray(Se))){var Oi=Se;Se=J,J=k,k=Oi}if(arguments[3]instanceof Qt==0?($t=arguments[4],er=arguments[5],Gn(Xr=arguments[3])==="object"&&Xr!==null||(typeof $t=="string"&&(er=$t,$t=null),typeof Xr=="string"&&(er=Xr,Xr=null),typeof Xr=="number"&&($t=Xr,Xr=null),De={flags:Xr,angle:$t,align:er})):(U("The transform parameter of text() with a Matrix value"),ui=Ve),isNaN(J)||isNaN(Se)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return wn;var ci,Ii="",bs=typeof De.lineHeightFactor=="number"?De.lineHeightFactor:eo,ta=wn.internal.scaleFactor;function Oo(cn){return cn=cn.split("	").join(Array(De.TabLen||9).join(" ")),wr(cn,Xr)}function Ro(cn){for(var Jr,kn=cn.concat(),ai=[],uo=kn.length;uo--;)typeof(Jr=kn.shift())=="string"?ai.push(Jr):Array.isArray(cn)&&(Jr.length===1||Jr[1]===void 0&&Jr[2]===void 0)?ai.push(Jr[0]):ai.push([Jr[0],Jr[1],Jr[2]]);return ai}function ra(cn,Jr){var kn;if(typeof cn=="string")kn=Jr(cn)[0];else if(Array.isArray(cn)){for(var ai,uo,wi=cn.concat(),co=[],Bu=wi.length;Bu--;)typeof(ai=wi.shift())=="string"?co.push(Jr(ai)[0]):Array.isArray(ai)&&typeof ai[0]=="string"&&(uo=Jr(ai[0],ai[1],ai[2]),co.push([uo[0],uo[1],uo[2]]));kn=co}return kn}var qs=!1,Ss=!0;if(typeof k=="string")qs=!0;else if(Array.isArray(k)){var Cl=k.concat();St=[];for(var Vs,yi=Cl.length;yi--;)(typeof(Vs=Cl.shift())!="string"||Array.isArray(Vs)&&typeof Vs[0]!="string")&&(Ss=!1);qs=Ss}if(qs===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var al=dt/wn.internal.scaleFactor,sl=al*(bs-1);switch(De.baseline){case"bottom":Se-=sl;break;case"top":Se+=al-sl;break;case"hanging":Se+=al-2*sl;break;case"middle":Se+=al/2-sl}if((kr=De.maxWidth||0)>0&&(typeof k=="string"?k=wn.splitTextToSize(k,kr):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(cn,Jr){return cn.concat(wn.splitTextToSize(Jr,kr))},[]))),at={text:k,x:J,y:Se,options:De,mutex:{pdfEscape:wr,activeFontKey:Ft,fonts:Gt,activeFontSize:dt}},Gr.publish("preProcessText",at),k=at.text,$t=(De=at.options).angle,ui instanceof Qt==0&&$t&&typeof $t=="number"){$t*=Math.PI/180,De.rotationDirection===0&&($t=-$t),B===R&&($t=-$t);var Ml=Math.cos($t),no=Math.sin($t);ui=new Qt(Ml,no,-no,Ml,0,0)}else $t&&$t instanceof Qt&&(ui=$t);B!==R||ui||(ui=Fa),(br=De.charSpace||Qa)!==void 0&&(Ii+=K(ce(br))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jn=De.horizontalScale)!==void 0&&(Ii+=K(100*Jn)+` Tz
`),De.lang;var jn=-1,Ua=De.renderingMode!==void 0?De.renderingMode:De.stroke,iu=wn.internal.getCurrentPageInfo().pageContext;switch(Ua){case 0:case!1:case"fill":jn=0;break;case 1:case!0:case"stroke":jn=1;break;case 2:case"fillThenStroke":jn=2;break;case 3:case"invisible":jn=3;break;case 4:case"fillAndAddForClipping":jn=4;break;case 5:case"strokeAndAddPathForClipping":jn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":jn=6;break;case 7:case"addToPathForClipping":jn=7}var ts=iu.usedRenderingMode!==void 0?iu.usedRenderingMode:-1;jn!==-1?Ii+=jn+` Tr
`:ts!==-1&&(Ii+=`0 Tr
`),jn!==-1&&(iu.usedRenderingMode=jn),er=De.align||"left";var rs,da=dt*bs,Do=wn.internal.pageSize.getWidth(),jo=Gt[Ft];br=De.charSpace||Qa,kr=De.maxWidth||0,Xr=Object.assign({autoencode:!0,noBOM:!0},De.flags);var Es=[],$s=function(cn){return wn.getStringUnitWidth(cn,{font:jo,charSpace:br,fontSize:dt,doKerning:!1})*dt/ta};if(Object.prototype.toString.call(k)==="[object Array]"){var za;St=Ro(k),er!=="left"&&(rs=St.map($s));var ii,ns=0;if(er==="right"){J-=rs[0],k=[],yi=St.length;for(var io=0;io<yi;io++)io===0?(ii=Aa(J),za=Mi(Se)):(ii=ce(ns-rs[io]),za=-da),k.push([St[io],ii,za]),ns=rs[io]}else if(er==="center"){J-=rs[0]/2,k=[],yi=St.length;for(var Ws=0;Ws<yi;Ws++)Ws===0?(ii=Aa(J),za=Mi(Se)):(ii=ce((ns-rs[Ws])/2),za=-da),k.push([St[Ws],ii,za]),ns=rs[Ws]}else if(er==="left"){k=[],yi=St.length;for(var au=0;au<yi;au++)k.push(St[au])}else if(er==="justify"&&jo.encoding==="Identity-H"){k=[],yi=St.length,kr=kr!==0?kr:Do;for(var Ga=0,hi=0;hi<yi;hi++)if(za=hi===0?Mi(Se):-da,ii=hi===0?Aa(J):Ga,hi<yi-1){var Io=ce((kr-rs[hi])/(St[hi].split(" ").length-1)),ao=St[hi].split(" ");k.push([ao[0]+" ",ii,za]),Ga=0;for(var Fi=1;Fi<ao.length;Fi++){var xi=($s(ao[Fi-1]+" "+ao[Fi])-$s(ao[Fi]))*ta+Io;Fi==ao.length-1?k.push([ao[Fi],xi,0]):k.push([ao[Fi]+" ",xi,0]),Ga-=xi}}else k.push([St[hi],ii,za]);k.push(["",Ga,0])}else{if(er!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],yi=St.length,kr=kr!==0?kr:Do,hi=0;hi<yi;hi++){za=hi===0?Mi(Se):-da,ii=hi===0?Aa(J):0;var so=St[hi].split(" ").length-1,ol=so>0?(kr-rs[hi])/so:0;hi<yi-1?Es.push(K(ce(ol))):Es.push(0),k.push([St[hi],ii,za])}}}(typeof De.R2L=="boolean"?De.R2L:sr)===!0&&(k=ra(k,function(cn,Jr,kn){return[cn.split("").reverse().join(""),Jr,kn]})),at={text:k,x:J,y:Se,options:De,mutex:{pdfEscape:wr,activeFontKey:Ft,fonts:Gt,activeFontSize:dt}},Gr.publish("postProcessText",at),k=at.text,ci=at.mutex.isHex||!1;var Fo=Gt[Ft].encoding;Fo!=="WinAnsiEncoding"&&Fo!=="StandardEncoding"||(k=ra(k,function(cn,Jr,kn){return[Oo(cn),Jr,kn]})),St=Ro(k),k=[];for(var Zs,Ts,Na,oo=Array.isArray(St[0])?1:0,Ca="",lo=function(cn,Jr,kn){var ai="";return kn instanceof Qt?(kn=typeof De.angle=="number"?Ka(kn,new Qt(1,0,0,1,cn,Jr)):Ka(new Qt(1,0,0,1,cn,Jr),kn),B===R&&(kn=Ka(new Qt(1,0,0,-1,0,0),kn)),ai=kn.join(" ")+` Tm
`):ai=K(cn)+" "+K(Jr)+` Td
`,ai},pa=0;pa<St.length;pa++){switch(Ca="",oo){case 1:Na=(ci?"<":"(")+St[pa][0]+(ci?">":")"),Zs=parseFloat(St[pa][1]),Ts=parseFloat(St[pa][2]);break;case 0:Na=(ci?"<":"(")+St[pa]+(ci?">":")"),Zs=Aa(J),Ts=Mi(Se)}Es!==void 0&&Es[pa]!==void 0&&(Ca=Es[pa]+` Tw
`),pa===0?k.push(Ca+lo(Zs,Ts,ui)+Na):oo===0?k.push(Ca+Na):oo===1&&k.push(Ca+lo(Zs,Ts,ui)+Na)}k=oo===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var Ma=`BT
/`;return Ma+=Ft+" "+dt+` Tf
`,Ma+=K(dt*bs)+` TL
`,Ma+=Mn+`
`,Ma+=Ii,Ma+=k,we(Ma+="ET"),y[Ft]=!0,wn};var Us=_.__private__.clip=_.clip=function(k){return we(k==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Us("evenodd")},_.__private__.discardPath=_.discardPath=function(){return we("n"),this};var Kr=_.__private__.isValidStyle=function(k){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(J=!0),J};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(k){return Kr(k)&&(f=k),this};var zs=_.__private__.getStyle=_.getStyle=function(k){var J=f;switch(k){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=k}return J},No=_.close=function(){return we("h"),this};_.stroke=function(){return we("S"),this},_.fill=function(k){return Ta("f",k),this},_.fillEvenOdd=function(k){return Ta("f*",k),this},_.fillStroke=function(k){return Ta("B",k),this},_.fillStrokeEvenOdd=function(k){return Ta("B*",k),this};var Ta=function(k,J){Gn(J)==="object"?tu(J,k):we(k)},Co=function(k){k===null||B===R&&k===void 0||(k=zs(k),we(k))};function tl(k,J,Se,De,Ve){var at=new Kf(J||this.boundingBox,Se||this.xStep,De||this.yStep,this.gState,Ve||this.matrix);at.stream=this.stream;var St=k+"$$"+this.cloneIndex+++"$$";return Ce(St,at),at}var tu=function(k,J){var Se=ln[k.key],De=Yt[Se];if(De instanceof Lh)we("q"),we(Tl(J)),De.gState&&_.setGState(De.gState),we(k.matrix.toString()+" cm"),we("/"+Se+" sh"),we("Q");else if(De instanceof Kf){var Ve=new Qt(1,0,0,-1,0,Po());k.matrix&&(Ve=Ve.multiply(k.matrix||Fa),Se=tl.call(De,k.key,k.boundingBox,k.xStep,k.yStep,Ve).id),we("q"),we("/Pattern cs"),we("/"+Se+" scn"),De.gState&&_.setGState(De.gState),we(J),we("Q")}},Tl=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},rl=_.moveTo=function(k,J){return we(K(ce(k))+" "+K(pe(J))+" m"),this},ru=_.lineTo=function(k,J){return we(K(ce(k))+" "+K(pe(J))+" l"),this},fa=_.curveTo=function(k,J,Se,De,Ve,at){return we([K(ce(k)),K(pe(J)),K(ce(Se)),K(pe(De)),K(ce(Ve)),K(pe(at)),"c"].join(" ")),this};_.__private__.line=_.line=function(k,J,Se,De,Ve){if(isNaN(k)||isNaN(J)||isNaN(Se)||isNaN(De)||!Kr(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return B===j?this.lines([[Se-k,De-J]],k,J,[1,1],Ve||"S"):this.lines([[Se-k,De-J]],k,J,[1,1]).stroke()},_.__private__.lines=_.lines=function(k,J,Se,De,Ve,at){var St,$t,er,br,kr,Xr,Jn,ui,wn,Oi,ci,Ii;if(typeof k=="number"&&(Ii=Se,Se=J,J=k,k=Ii),De=De||[1,1],at=at||!1,isNaN(J)||isNaN(Se)||!Array.isArray(k)||!Array.isArray(De)||!Kr(Ve)||typeof at!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rl(J,Se),St=De[0],$t=De[1],br=k.length,Oi=J,ci=Se,er=0;er<br;er++)(kr=k[er]).length===2?(Oi=kr[0]*St+Oi,ci=kr[1]*$t+ci,ru(Oi,ci)):(Xr=kr[0]*St+Oi,Jn=kr[1]*$t+ci,ui=kr[2]*St+Oi,wn=kr[3]*$t+ci,Oi=kr[4]*St+Oi,ci=kr[5]*$t+ci,fa(Xr,Jn,ui,wn,Oi,ci));return at&&No(),Co(Ve),this},_.path=function(k){for(var J=0;J<k.length;J++){var Se=k[J],De=Se.c;switch(Se.op){case"m":rl(De[0],De[1]);break;case"l":ru(De[0],De[1]);break;case"c":fa.apply(this,De);break;case"h":No()}}return this},_.__private__.rect=_.rect=function(k,J,Se,De,Ve){if(isNaN(k)||isNaN(J)||isNaN(Se)||isNaN(De)||!Kr(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return B===j&&(De=-De),we([K(ce(k)),K(pe(J)),K(ce(Se)),K(ce(De)),"re"].join(" ")),Co(Ve),this},_.__private__.triangle=_.triangle=function(k,J,Se,De,Ve,at,St){if(isNaN(k)||isNaN(J)||isNaN(Se)||isNaN(De)||isNaN(Ve)||isNaN(at)||!Kr(St))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-k,De-J],[Ve-Se,at-De],[k-Ve,J-at]],k,J,[1,1],St,!0),this},_.__private__.roundedRect=_.roundedRect=function(k,J,Se,De,Ve,at,St){if(isNaN(k)||isNaN(J)||isNaN(Se)||isNaN(De)||isNaN(Ve)||isNaN(at)||!Kr(St))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Se),at=Math.min(at,.5*De),this.lines([[Se-2*Ve,0],[Ve*$t,0,Ve,at-at*$t,Ve,at],[0,De-2*at],[0,at*$t,-Ve*$t,at,-Ve,at],[2*Ve-Se,0],[-Ve*$t,0,-Ve,-at*$t,-Ve,-at],[0,2*at-De],[0,-at*$t,Ve*$t,-at,Ve,-at]],k+Ve,J,[1,1],St,!0),this},_.__private__.ellipse=_.ellipse=function(k,J,Se,De,Ve){if(isNaN(k)||isNaN(J)||isNaN(Se)||isNaN(De)||!Kr(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var at=4/3*(Math.SQRT2-1)*Se,St=4/3*(Math.SQRT2-1)*De;return rl(k+Se,J),fa(k+Se,J-St,k+at,J-De,k,J-De),fa(k-at,J-De,k-Se,J-St,k-Se,J),fa(k-Se,J+St,k-at,J+De,k,J+De),fa(k+at,J+De,k+Se,J+St,k+Se,J),Co(Ve),this},_.__private__.circle=_.circle=function(k,J,Se,De){if(isNaN(k)||isNaN(J)||isNaN(Se)||!Kr(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,J,Se,Se,De)},_.setFont=function(k,J,Se){return Se&&(J=F(J,Se)),Ft=Ar(k,J,{disableWarning:!1}),this};var Ba=_.__private__.getFont=_.getFont=function(){return Gt[Ar.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var k,J,Se={};for(k in pr)if(pr.hasOwnProperty(k))for(J in Se[k]=[],pr[k])pr[k].hasOwnProperty(J)&&Se[k].push(J);return Se},_.addFont=function(k,J,Se,De,Ve){var at=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&at.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&at.indexOf(arguments[3])==-1&&(Se=F(Se,De)),Hr.call(this,k,J,Se,Ve=Ve||"Identity-H")};var eo,Mo=t.lineWidth||.200025,nl=_.__private__.getLineWidth=_.getLineWidth=function(){return Mo},Ct=_.__private__.setLineWidth=_.setLineWidth=function(k){return Mo=k,we(K(ce(k))+" w"),this};_.__private__.setLineDash=fr.API.setLineDash=fr.API.setLineDashPattern=function(k,J){if(k=k||[],J=J||0,isNaN(J)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(Se){return K(ce(Se))}).join(" "),J=K(ce(J)),we("["+k+"] "+J+" d"),this};var Xa=_.__private__.getLineHeight=_.getLineHeight=function(){return dt*eo};_.__private__.getLineHeight=_.getLineHeight=function(){return dt*eo};var dn=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(eo=k),this},ju=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return eo};dn(t.lineHeight);var Aa=_.__private__.getHorizontalCoordinate=function(k){return ce(k)},Mi=_.__private__.getVerticalCoordinate=function(k){return B===R?k:Zt[H].mediaBox.topRightY-Zt[H].mediaBox.bottomLeftY-ce(k)},Al=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(k){return K(Aa(k))},Ja=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(k){return K(Mi(k))},La=t.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return he(La)},_.__private__.setStrokeColor=_.setDrawColor=function(k,J,Se,De){return La=ve({ch1:k,ch2:J,ch3:Se,ch4:De,pdfColorType:"draw",precision:2}),we(La),this};var Gs=t.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return he(Gs)},_.__private__.setFillColor=_.setFillColor=function(k,J,Se,De){return Gs=ve({ch1:k,ch2:J,ch3:Se,ch4:De,pdfColorType:"fill",precision:2}),we(Gs),this};var Mn=t.textColor||"0 g",to=_.__private__.getTextColor=_.getTextColor=function(){return he(Mn)};_.__private__.setTextColor=_.setTextColor=function(k,J,Se,De){return Mn=ve({ch1:k,ch2:J,ch3:Se,ch4:De,pdfColorType:"text",precision:3}),this};var Qa=t.charSpace,Ll=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Qa||0)};_.__private__.setCharSpace=_.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qa=k,this};var nu=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(k){var J=_.CapJoinStyles[k];if(J===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nu=J,we(J+" J"),this};var ki=0;_.__private__.setLineJoin=_.setLineJoin=function(k){var J=_.CapJoinStyles[k];if(J===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ki=J,we(J+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return we(K(ce(k))+" M"),this},_.GState=x1,_.setGState=function(k){(k=typeof k=="string"?ur[cr[k]]:xs(null,k)).equals(en)||(we("/"+k.id+" gs"),en=k)};var xs=function(k,J){if(!k||!cr[k]){var Se=!1;for(var De in ur)if(ur.hasOwnProperty(De)&&ur[De].equals(J)){Se=!0;break}if(Se)J=ur[De];else{var Ve="GS"+(Object.keys(ur).length+1).toString(10);ur[Ve]=J,J.id=Ve}return k&&(cr[k]=J.id),Gr.publish("addGState",J),J}};_.addGState=function(k,J){return xs(k,J),this},_.saveGraphicsState=function(){return we("q"),Dr.push({key:Ft,size:dt,color:Mn}),this},_.restoreGraphicsState=function(){we("Q");var k=Dr.pop();return Ft=k.key,dt=k.size,Mn=k.color,en=null,this},_.setCurrentTransformationMatrix=function(k){return we(k.toString()+" cm"),this},_.comment=function(k){return we("#"+k),this};var ws=function(k,J){var Se=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(at){isNaN(at)||(Se=parseFloat(at))}});var De=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(at){isNaN(at)||(De=parseFloat(at))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(at){Ve=at.toString()}}),this},ro=function(k,J,Se,De){ws.call(this,k,J),this.type="rect";var Ve=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(St){isNaN(St)||(Ve=parseFloat(St))}});var at=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return at},set:function(St){isNaN(St)||(at=parseFloat(St))}}),this},Br=function(){this.page=xr,this.currentPage=H,this.pages=ot.slice(0),this.pagesContext=Zt.slice(0),this.x=Wt,this.y=xn,this.matrix=Mr,this.width=es(H),this.height=Iu(H),this.outputDestination=Tt,this.id="",this.objectNumber=-1};Br.prototype.restore=function(){xr=this.page,H=this.currentPage,Zt=this.pagesContext,ot=this.pages,Wt=this.x,xn=this.y,Mr=this.matrix,il(H,this.width),Hs(H,this.height),Tt=this.outputDestination};var Nl=function(k,J,Se,De,Ve){Ni.push(new Br),xr=H=0,ot=[],Wt=k,xn=J,Mr=Ve,nn([Se,De])};for(var Pi in _.beginFormObject=function(k,J,Se,De,Ve){return Nl(k,J,Se,De,Ve),this},_.endFormObject=function(k){return(function(J){if(Ji[J])Ni.pop().restore();else{var Se=new Br,De="Xo"+(Object.keys(li).length+1).toString(10);Se.id=De,Ji[J]=De,li[De]=Se,Gr.publish("addFormObject",Se),Ni.pop().restore()}})(k),this},_.doFormObject=function(k,J){var Se=li[Ji[k]];return we("q"),we(J.toString()+" cm"),we("/"+Se.id+" Do"),we("Q"),this},_.getFormObject=function(k){var J=li[Ji[k]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},_.save=function(k,J){return k=k||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(bh(yr(Ea()),k),typeof bh.unload=="function"&&Or.setTimeout&&setTimeout(bh.unload,911),this):new Promise(function(Se,De){try{var Ve=bh(yr(Ea()),k);typeof bh.unload=="function"&&Or.setTimeout&&setTimeout(bh.unload,911),Se(Ve)}catch(at){De(at.message)}})},fr.API)fr.API.hasOwnProperty(Pi)&&(Pi==="events"&&fr.API.events.length?(function(k,J){var Se,De,Ve;for(Ve=J.length-1;Ve!==-1;Ve--)Se=J[Ve][0],De=J[Ve][1],k.subscribe.apply(k,[Se].concat(typeof De=="function"?[De]:De))})(Gr,fr.API.events):_[Pi]=fr.API[Pi]);function es(k){return Zt[k].mediaBox.topRightX-Zt[k].mediaBox.bottomLeftX}function il(k,J){Zt[k].mediaBox.topRightX=J+Zt[k].mediaBox.bottomLeftX}function Iu(k){return Zt[k].mediaBox.topRightY-Zt[k].mediaBox.bottomLeftY}function Hs(k,J){Zt[k].mediaBox.topRightY=J+Zt[k].mediaBox.bottomLeftY}var ko=_.getPageWidth=function(k){return es(k=k||H)/_r},Fu=_.setPageWidth=function(k,J){il(k,J*_r)},Po=_.getPageHeight=function(k){return Iu(k=k||H)/_r},vc=_.setPageHeight=function(k,J){Hs(k,J*_r)};return _.internal={pdfEscape:wr,getStyle:zs,getFont:Ba,getFontSize:jt,getCharSpace:Ll,getTextColor:to,getLineHeight:Xa,getLineHeightFactor:ju,getLineWidth:nl,write:yt,getHorizontalCoordinate:Aa,getVerticalCoordinate:Mi,getCoordinateString:Al,getVerticalCoordinateString:Ja,collections:{},newObject:qe,newAdditionalObject:me,newObjectDeferred:Ye,newObjectDeferredBegin:Y,getFilters:Pe,putStream:ze,events:Gr,scaleFactor:_r,pageSize:{getWidth:function(){return ko(H)},setWidth:function(k){Fu(H,k)},getHeight:function(){return Po(H)},setHeight:function(k){vc(H,k)}},encryptionOptions:p,encryption:ni,getEncryptor:function(k){return p!==null?ni.encryptor(k,0):function(J){return J}},output:Dn,getNumberOfPages:Ci,get pages(){return ot},out:we,f2:I,f3:W,getPageInfo:un,getPageInfoByObjId:eu,getCurrentPageInfo:El,getPDFVersion:b,Point:ws,Rectangle:ro,Matrix:Qt,hasHotfix:ea},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return ko(H)},set:function(k){Fu(H,k)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Po(H)},set:function(k){vc(H,k)},enumerable:!0,configurable:!0}),(function(k){for(var J=0,Se=zt.length;J<Se;J++){var De=Hr.call(this,k[J][0],k[J][1],k[J][2],zt[J][3],!0);v===!1&&(y[De]=!0);var Ve=k[J][0].split("-");Bt({id:De,fontName:Ve[0],fontStyle:Ve[1]||""})}Gr.publish("addFonts",{fonts:Gt,dictionary:pr})}).call(_,zt),Ft="F1",Kn(i,r),Gr.publish("initialized"),_}qf.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},qf.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qf.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},qf.prototype.processOwnerPassword=function(t,e){return m_(p_(e).substr(0,5),t)},qf.prototype.encryptor=function(t,e){var r=p_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return m_(r,n)}},x1.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Gn(t)!==Gn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},fr.API={events:[]},fr.version="4.0.0";var $i=fr.API,W_=1,qh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fr=function(t){return t.toFixed(2)},zc=function(t){return t.toFixed(5)};$i.__acroform__={};var Ao=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},f4=function(t){return t*W_},Tu=function(t){var e=new IE,r=ir.internal.getHeight(t)||0,n=ir.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Fr(n)),Number(Fr(r))],e},VO=$i.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},$O=$i.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},WO=$i.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ua=$i.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return WO(t,e-1)},ca=$i.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return VO(t,e-1)},ha=$i.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $O(t,e-1)},ZO=$i.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+s)||0,c.upperRight_Y=n(a)||0,[Number(Fr(c.lowerLeft_X)),Number(Fr(c.lowerLeft_Y)),Number(Fr(c.upperRight_X)),Number(Fr(c.upperRight_Y))]},YO=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=g_(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Fr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Tu(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},g_=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var a=r,s=ir.internal.getHeight(t)||0;s=s<0?-s:s;var l=ir.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(I,W,ce){if(I+1<i.length){var pe=W+" "+i[I+1][0];return Om(pe,t,ce).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var f,p,v=Om("3",t,a).height,y=t.multiline?s-a:(s-v)/2,_=y+=2,T=0,b=0,C=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Om(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var P="",j=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var B=!1;if(i[R].length!==1&&C!==i[R].length-1){if((v+2)*(j+2)+2>s)continue e;P+=i[R][C],B=!0,b=R,R--}else{P=(P+=i[R][C]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var te=parseInt(R),ue=c(te,P,a),F=R>=i.length-1;if(ue&&!F){P+=" ",C=0;continue}if(ue||F){if(F)b=te;else if(t.multiline&&(v+2)*(j+2)+2>s)continue e}else{if(!t.multiline||(v+2)*(j+2)+2>s)continue e;b=te}}for(var K="",U=T;U<=b;U++){var X=i[U];if(t.multiline){if(U===b){K+=X[C]+" ",C=(C+1)%X.length;continue}if(U===T){K+=X[X.length-1]+" ";continue}}K+=X[0]+" "}switch(K=K.substr(K.length-1)==" "?K.substr(0,K.length-1):K,p=Om(K,t,a).width,t.textAlign){case"right":f=l-p-2;break;case"center":f=(l-p)/2;break;default:f=2}e+=Fr(f)+" "+Fr(_)+` Td
`,e+="("+qh(K)+`) Tj
`,e+=-Fr(f)+` 0 Td
`,_=-(a+2),p=0,T=B?b:b+1,j++,P=""}break}return n.text=e,n.fontSize=a,n},Om=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},KO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XO=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},JO=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Xl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(KO)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");W_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new FE,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&XO(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],c=[],f=l.Rect;if(l.Rect&&(l.Rect=ZO(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ir.createDefaultAppearanceStream(l),Gn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=YO(l);c.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var v="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var _=l.appearanceStreamContent[y];if(v+="/"+y+" ",v+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var s in _)if(_.hasOwnProperty(s)){var T=_[s];typeof T=="function"&&(T=T.call(i,l)),v+="/"+s+" "+T+" ",i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T)}}else typeof(T=_)=="function"&&(T=T.call(i,l)),v+="/"+s+" "+T,i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T);v+=">>"}c.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&(function(b,C){for(var P in b)if(b.hasOwnProperty(P)){var j=P,R=b[P];C.internal.newObjectDeferredBegin(R.objId,!0),Gn(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete b[j]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},jE=$i.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Gn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+qh(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},m2=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+qh(n(t))+")"},Cu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Cu.prototype.toString=function(){return this.objId+" 0 R"},Cu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Cu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:jE(i,this.objId,this.scope)}):i instanceof Cu?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var IE=function(){Cu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ao(IE,Cu);var FE=function(){Cu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+qh(r(t))+")"}},set:function(r){t=r}})};Ao(FE,Cu);var Xl=function t(){Cu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');e=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ua(e,3)},set:function(P){P?this.F=ca(e,3):this.F=ha(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');r=P}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(P){n=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(P){n[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(P){n[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(P){n[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(P){n[3]=P}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof w1)return;a="FieldObject"+t.FieldNum++}var P=function(j){return j};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+qh(P(a))+")"},set:function(P){a=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(P){a=P}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(P){s=P}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(P){l=P}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(P){c=P}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/W_:f},set:function(P){f=P}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(P){p=P}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof w1||this instanceof Ph))return m2(v,this.objId,this.scope)},set:function(P){P=P.toString(),v=P}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof $a==0?m2(y,this.objId,this.scope):y},set:function(P){P=P.toString(),y=this instanceof $a==0?P.substr(0,1)==="("?Pf(P.substr(1,P.length-2)):Pf(P):P}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $a==1?Pf(y.substr(1,y.length-1)):y},set:function(P){P=P.toString(),y=this instanceof $a==1?"/"+P:P}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof $a==0?m2(_,this.objId,this.scope):_},set:function(P){P=P.toString(),_=this instanceof $a==0?P.substr(0,1)==="("?Pf(P.substr(1,P.length-2)):Pf(P):P}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $a==1?Pf(_.substr(1,_.length-1)):_},set:function(P){P=P.toString(),_=this instanceof $a==1?"/"+P:P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(P){P=!!P,b=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(P){T=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,1)},set:function(P){P?this.Ff=ca(this.Ff,1):this.Ff=ha(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,2)},set:function(P){P?this.Ff=ca(this.Ff,2):this.Ff=ha(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,3)},set:function(P){P?this.Ff=ca(this.Ff,3):this.Ff=ha(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');C=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(C){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};Ao(Xl,Cu);var id=function(){Xl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jE(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(a,s,l){l||(l=1);for(var c,f=[];c=s.exec(a);)f.push(c[l]);return f})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,18)},set:function(r){r?this.Ff=ca(this.Ff,18):this.Ff=ha(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ca(this.Ff,19):this.Ff=ha(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,20)},set:function(r){r?(this.Ff=ca(this.Ff,20),e.sort()):this.Ff=ha(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,22)},set:function(r){r?this.Ff=ca(this.Ff,22):this.Ff=ha(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(r){r?this.Ff=ca(this.Ff,23):this.Ff=ha(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,27)},set:function(r){r?this.Ff=ca(this.Ff,27):this.Ff=ha(this.Ff,27)}}),this.hasAppearanceStream=!1};Ao(id,Xl);var ad=function(){id.call(this),this.fontName="helvetica",this.combo=!1};Ao(ad,id);var sd=function(){ad.call(this),this.combo=!0};Ao(sd,ad);var n1=function(){sd.call(this),this.edit=!0};Ao(n1,sd);var $a=function(){Xl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,15)},set:function(r){r?this.Ff=ca(this.Ff,15):this.Ff=ha(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,16)},set:function(r){r?this.Ff=ca(this.Ff,16):this.Ff=ha(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,17)},set:function(r){r?this.Ff=ca(this.Ff,17):this.Ff=ha(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(r){r?this.Ff=ca(this.Ff,26):this.Ff=ha(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+qh(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Gn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ao($a,Xl);var i1=function(){$a.call(this),this.pushButton=!0};Ao(i1,$a);var od=function(){$a.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ao(od,$a);var w1=function(){var t,e;Xl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+qh(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Gn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ir.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ao(w1,Xl),od.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},od.prototype.createOption=function(t){var e=new w1;return e.Parent=this,e.optionName=t,this.Kids.push(e),QO.call(this.scope,e),e};var a1=function(){$a.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ir.CheckBox.createAppearanceStream()};Ao(a1,$a);var Ph=function(){Xl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,13)},set:function(e){e?this.Ff=ca(this.Ff,13):this.Ff=ha(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,21)},set:function(e){e?this.Ff=ca(this.Ff,21):this.Ff=ha(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(e){e?this.Ff=ca(this.Ff,23):this.Ff=ha(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,24)},set:function(e){e?this.Ff=ca(this.Ff,24):this.Ff=ha(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,25)},set:function(e){e?this.Ff=ca(this.Ff,25):this.Ff=ha(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(e){e?this.Ff=ca(this.Ff,26):this.Ff=ha(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ao(Ph,Xl);var s1=function(){Ph.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,14)},set:function(t){t?this.Ff=ca(this.Ff,14):this.Ff=ha(this.Ff,14)}}),this.password=!0};Ao(s1,Ph);var ir={CheckBox:{createAppearanceStream:function(){return{N:{On:ir.CheckBox.YesNormal},D:{On:ir.CheckBox.YesPushDown,Off:ir.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Tu(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=g_(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Fr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Tu(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=ir.internal.getHeight(t),s=ir.internal.getWidth(t),l=g_(t,t.caption);return i.push("1 g"),i.push("0 0 "+Fr(s)+" "+Fr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Fr(s-1)+" "+Fr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Fr(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Tu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ir.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ir.RadioButton.Circle.YesNormal,e.D[t]=ir.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Tu(t);e.scope=t.scope;var r=[],n=ir.internal.getWidth(t)<=ir.internal.getHeight(t)?ir.internal.getWidth(t)/4:ir.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=ir.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+zc(ir.internal.getWidth(t)/2)+" "+zc(ir.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Tu(t);e.scope=t.scope;var r=[],n=ir.internal.getWidth(t)<=ir.internal.getHeight(t)?ir.internal.getWidth(t)/4:ir.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ir.internal.Bezier_C).toFixed(5)),s=Number((n*ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+zc(ir.internal.getWidth(t)/2)+" "+zc(ir.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+zc(ir.internal.getWidth(t)/2)+" "+zc(ir.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Tu(t);e.scope=t.scope;var r=[],n=ir.internal.getWidth(t)<=ir.internal.getHeight(t)?ir.internal.getWidth(t)/4:ir.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+zc(ir.internal.getWidth(t)/2)+" "+zc(ir.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ir.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ir.RadioButton.Cross.YesNormal,e.D[t]=ir.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Tu(t);e.scope=t.scope;var r=[],n=ir.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Fr(ir.internal.getWidth(t)-2)+" "+Fr(ir.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Fr(n.x1.x)+" "+Fr(n.x1.y)+" m"),r.push(Fr(n.x2.x)+" "+Fr(n.x2.y)+" l"),r.push(Fr(n.x4.x)+" "+Fr(n.x4.y)+" m"),r.push(Fr(n.x3.x)+" "+Fr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Tu(t);e.scope=t.scope;var r=ir.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Fr(ir.internal.getWidth(t)-2)+" "+Fr(ir.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Fr(r.x1.x)+" "+Fr(r.x1.y)+" m"),n.push(Fr(r.x2.x)+" "+Fr(r.x2.y)+" l"),n.push(Fr(r.x4.x)+" "+Fr(r.x4.y)+" m"),n.push(Fr(r.x3.x)+" "+Fr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Tu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(ir.internal.getWidth(t))+" "+Fr(ir.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ir.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ir.internal.getWidth(t),r=ir.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ir.internal.getWidth=function(t){var e=0;return Gn(t)==="object"&&(e=f4(t.Rect[2])),e},ir.internal.getHeight=function(t){var e=0;return Gn(t)==="object"&&(e=f4(t.Rect[3])),e};var QO=$i.addField=function(t){if(JO(this,t),!(t instanceof Xl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};$i.AcroFormChoiceField=id,$i.AcroFormListBox=ad,$i.AcroFormComboBox=sd,$i.AcroFormEditBox=n1,$i.AcroFormButton=$a,$i.AcroFormPushButton=i1,$i.AcroFormRadioButton=od,$i.AcroFormCheckBox=a1,$i.AcroFormTextField=Ph,$i.AcroFormPasswordField=s1,$i.AcroFormAppearance=ir,$i.AcroForm={ChoiceField:id,ListBox:ad,ComboBox:sd,EditBox:n1,Button:$a,PushButton:i1,RadioButton:od,CheckBox:a1,TextField:Ph,PasswordField:s1,Appearance:ir},fr.AcroForm={ChoiceField:id,ListBox:ad,ComboBox:sd,EditBox:n1,Button:$a,PushButton:i1,RadioButton:od,CheckBox:a1,TextField:Ph,PasswordField:s1,Appearance:ir};fr.AcroForm;function BE(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(I,W){var ce,pe,xe,oe,be,_e=r;if((W=W||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(ue(I))for(be in n)for(xe=n[be],ce=0;ce<xe.length;ce+=1){for(oe=!0,pe=0;pe<xe[ce].length;pe+=1)if(xe[ce][pe]!==void 0&&xe[ce][pe]!==I[pe]){oe=!1;break}if(oe===!0){_e=be;break}}else for(be in n)for(xe=n[be],ce=0;ce<xe.length;ce+=1){for(oe=!0,pe=0;pe<xe[ce].length;pe+=1)if(xe[ce][pe]!==void 0&&xe[ce][pe]!==I.charCodeAt(pe)){oe=!1;break}if(oe===!0){_e=be;break}}return _e===r&&W!==r&&(_e=W),_e},a=function I(W){for(var ce=this.internal.write,pe=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:W.width}),oe.push({key:"Height",value:W.height}),W.colorSpace===P.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===P.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)&&W.transparency.length>0){for(var be="",_e=0,Le=W.transparency.length;_e<Le;_e++)be+=W.transparency[_e]+" "+W.transparency[_e]+" ";oe.push({key:"Mask",value:"["+be+"]"})}W.sMask!==void 0&&oe.push({key:"SMask",value:W.objectId+1+" 0 R"});var Ne=W.filter!==void 0?["/"+W.filter]:void 0;if(pe({data:W.data,additionalKeyValues:oe,alreadyAppliedFilters:Ne,objectId:W.objectId}),ce("endobj"),"sMask"in W&&W.sMask!==void 0){var Q,O=(Q=W.sMaskBitsPerComponent)!==null&&Q!==void 0?Q:W.bitsPerComponent,H={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:W.sMask};"filter"in W&&(H.decodeParameters="/Predictor ".concat(W.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(W.width),H.filter=W.filter),I.call(this,H)}if(W.colorSpace===P.INDEXED){var q=this.internal.newObject();pe({data:K(new Uint8Array(W.palette)),objectId:q}),ce("endobj")}},s=function(){var I=this.internal.collections[e+"images"];for(var W in I)a.call(this,I[W])},l=function(){var I,W=this.internal.collections[e+"images"],ce=this.internal.write;for(var pe in W)ce("/I"+(I=W[pe]).index,I.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},f=function(){var I=this.internal.collections[e+"images"];return c.call(this),I},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},v=function(I){return typeof t["process"+I.toUpperCase()]=="function"},y=function(I){return Gn(I)==="object"&&I.nodeType===1},_=function(I,W){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var ce=""+I.getAttribute("src");if(ce.indexOf("data:image/")===0)return r1(unescape(ce).split("base64,").pop());var pe=t.loadFile(ce,!0);if(pe!==void 0)return pe}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var xe;switch(W){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return r1(I.toDataURL(xe,1).split("base64,").pop())}},T=function(I){var W=this.internal.collections[e+"images"];if(W){for(var ce in W)if(I===W[ce].alias)return W[ce]}},b=function(I,W,ce){return I||W||(I=-96,W=-96),I<0&&(I=-1*ce.width*72/I/this.internal.scaleFactor),W<0&&(W=-1*ce.height*72/W/this.internal.scaleFactor),I===0&&(I=W*ce.width/ce.height),W===0&&(W=I*ce.height/ce.width),[I,W]},C=function(I,W,ce,pe,xe,oe){var be=b.call(this,ce,pe,xe),_e=this.internal.getCoordinateString,Le=this.internal.getVerticalCoordinateString,Ne=f.call(this);if(ce=be[0],pe=be[1],Ne[xe.index]=xe,oe){oe*=Math.PI/180;var Q=Math.cos(oe),O=Math.sin(oe),H=function(Z){return Z.toFixed(4)},q=[H(Q),H(O),H(-1*O),H(Q),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,_e(I),Le(W+pe),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([_e(ce),"0","0",_e(pe),"0","0","cm"].join(" "))):this.internal.write([_e(ce),"0","0",_e(pe),_e(I),Le(W+pe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},P=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=t.__addimage__.sHashCode=function(I){var W,ce,pe=0;if(typeof I=="string")for(ce=I.length,W=0;W<ce;W++)pe=(pe<<5)-pe+I.charCodeAt(W),pe|=0;else if(ue(I))for(ce=I.byteLength/2,W=0;W<ce;W++)pe=(pe<<5)-pe+I[W],pe|=0;return pe},B=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var W=!0;return I.length===0&&(W=!1),I.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(W=!1),W},te=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var W=I.indexOf(",");return W<0?null:I.substring(0,W).trim().endsWith("base64")?I.substring(W+1):null};t.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var ue=t.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},F=t.__addimage__.binaryStringToUint8Array=function(I){for(var W=I.length,ce=new Uint8Array(W),pe=0;pe<W;pe++)ce[pe]=I.charCodeAt(pe);return ce},K=t.__addimage__.arrayBufferToBinaryString=function(I){for(var W="",ce=ue(I)?I:new Uint8Array(I),pe=0;pe<ce.length;pe+=8192)W+=String.fromCharCode.apply(null,ce.subarray(pe,pe+8192));return W};t.addImage=function(){var I,W,ce,pe,xe,oe,be,_e,Le;if(typeof arguments[1]=="number"?(W=r,ce=arguments[1],pe=arguments[2],xe=arguments[3],oe=arguments[4],be=arguments[5],_e=arguments[6],Le=arguments[7]):(W=arguments[1],ce=arguments[2],pe=arguments[3],xe=arguments[4],oe=arguments[5],be=arguments[6],_e=arguments[7],Le=arguments[8]),Gn(I=arguments[0])==="object"&&!y(I)&&"imageData"in I){var Ne=I;I=Ne.imageData,W=Ne.format||W||r,ce=Ne.x||ce||0,pe=Ne.y||pe||0,xe=Ne.w||Ne.width||xe,oe=Ne.h||Ne.height||oe,be=Ne.alias||be,_e=Ne.compression||_e,Le=Ne.rotation||Ne.angle||Le}var Q=this.internal.getFilters();if(_e===void 0&&Q.indexOf("FlateEncode")!==-1&&(_e="SLOW"),isNaN(ce)||isNaN(pe))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var O=U.call(this,I,W,be,_e);return C.call(this,ce,pe,xe,oe,O,Le),this};var U=function(I,W,ce,pe){var xe,oe,be;if(typeof I=="string"&&i(I)===r){I=unescape(I);var _e=X(I,!1);(_e!==""||(_e=t.loadFile(I,!0))!==void 0)&&(I=_e)}if(y(I)&&(I=_(I,W)),W=i(I,W),!v(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((be=ce)==null||be.length===0)&&(ce=(function(Le){return typeof Le=="string"||ue(Le)?R(Le):ue(Le.data)?R(Le.data):null})(I)),(xe=T.call(this,ce))||(I instanceof Uint8Array||W==="RGBA"||(oe=I,I=F(I)),xe=this["process"+W.toUpperCase()](I,p.call(this),ce,(function(Le){return Le&&typeof Le=="string"&&(Le=Le.toUpperCase()),Le in t.image_compression?Le:j.NONE})(pe),oe)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},X=t.__addimage__.convertBase64ToBinaryString=function(I,W){W=typeof W!="boolean"||W;var ce,pe="";if(typeof I=="string"){var xe;ce=(xe=te(I))!==null&&xe!==void 0?xe:I;try{pe=r1(ce)}catch(oe){if(W)throw B(ce)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return pe};t.getImageProperties=function(I){var W,ce,pe="";if(y(I)&&(I=_(I)),typeof I=="string"&&i(I)===r&&((pe=X(I,!1))===""&&(pe=t.loadFile(I)||""),I=pe),ce=i(I),!v(ce))throw new Error("addImage does not support files of type '"+ce+"', please ensure that a plugin for '"+ce+"' support is added.");if(I instanceof Uint8Array||(I=F(I)),!(W=this["process"+ce.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=ce,W}})(fr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};fr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,p=!1,v=0;v<f.length&&!p;v++)switch((n=f[v]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){n=f[y];var _=this.internal.pdfEscape,T=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(b.objId),j=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+_(P(n.contents))+")",a+=" /Popup "+C.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+_(P(j))+") >>",b.content=a;var R=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+R,n.open&&(a+=" /Open true"),a+=" >>",C.content=a,this.internal.write(b.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var B=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+_(T(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var te=this.annotations._nameMap[n.options.name];n.options.pageNumber=te.page,n.options.top=te.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+_(T(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var ue=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+ue+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:f(n),w:c(r+i),h:f(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,l,c=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var p=this.splitTextToSize(r,l).length;s=Math.ceil(f*p)}else l=c,s=f;return this.text(r,n,i,a),i+=.2*f,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-f,l,s,a),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(fr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},l=t.__arabicParser__.isArabicEndLetter=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(b){return s(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return s(b)&&a(b)&&e[b.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(b){var C=0,P=r,j="",R=0;for(C=0;C<b.length;C+=1)P[b.charCodeAt(C)]!==void 0?(R++,typeof(P=P[b.charCodeAt(C)])=="number"&&(j+=String.fromCharCode(P),P=r,R=0),C===b.length-1&&(P=r,j+=b.charAt(C-(R-1)),C-=R-1,R=0)):(P=r,j+=b.charAt(C-R),C-=R,R=0);return j};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(b,C,P){return s(b)?a(b)===!1?-1:!f(b)||!s(C)&&!s(P)||!s(P)&&l(C)||l(b)&&!s(C)||l(b)&&c(C)||l(b)&&l(C)?0:p(b)&&s(C)&&!l(C)&&s(P)&&f(P)?3:l(b)||!s(P)?1:2:-1},_=function(b){var C=0,P=0,j=0,R="",B="",te="",ue=(b=b||"").split("\\s+"),F=[];for(C=0;C<ue.length;C+=1){for(F.push(""),P=0;P<ue[C].length;P+=1)R=ue[C][P],B=ue[C][P-1],te=ue[C][P+1],s(R)?(j=y(R,B,te),F[C]+=j!==-1?String.fromCharCode(e[R.charCodeAt(0)][j]):R):F[C]+=R;F[C]=v(F[C])}return F.join(" ")},T=t.__arabicParser__.processArabic=t.processArabic=function(){var b,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(C)){var j=0;for(P=[],j=0;j<C.length;j+=1)Array.isArray(C[j])?P.push([_(C[j][0]),C[j][1],C[j][2]]):P.push([_(C[j])]);b=P}else b=_(C);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",T])})(fr.API),fr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(fr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(b){v=b}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(b){y=b}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(b){_=b}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(b){T=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,f){n.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,_=0,T=0,b=0,C=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var P=f.maxWidth;P>0?typeof c=="string"?c=this.splitTextToSize(c,P):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(R,B){return R.concat(C.splitTextToSize(B,P))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)_<(b=this.getStringUnitWidth(c[j],{font:v})*p)&&(_=b);return _!==0&&(T=c.length),{w:_/=y,h:Math.max((T*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=v.top,_&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};t.table=function(c,f,p,v,y){if(n.call(this),!p)throw new Error("No data for PDF table.");var _,T,b,C,P=[],j=[],R=[],B={},te={},ue=[],F=[],K=(y=y||{}).autoSize||!1,U=y.printHeaders!==!1,X=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,I=y.margins||Object.assign({width:this.getPageWidth()},e),W=typeof y.padding=="number"?y.padding:3,ce=y.headerBackgroundColor||"#c8c8c8",pe=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=ce,this.internal.__cell__.headerTextColor=pe,this.setFontSize(X),v==null)j=P=Object.keys(p[0]),R=P.map(function(){return"left"});else if(Array.isArray(v)&&Gn(v[0])==="object")for(P=v.map(function(Ne){return Ne.name}),j=v.map(function(Ne){return Ne.prompt||Ne.name||""}),R=v.map(function(Ne){return Ne.align||"left"}),_=0;_<v.length;_+=1)te[v[_].name]=.7499990551181103*v[_].width;else Array.isArray(v)&&typeof v[0]=="string"&&(j=P=v,R=P.map(function(){return"left"}));if(K||Array.isArray(v)&&typeof v[0]=="string")for(_=0;_<P.length;_+=1){for(B[C=P[_]]=p.map(function(Ne){return Ne[C]}),this.setFont(void 0,"bold"),ue.push(this.getTextDimensions(j[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=B[C],this.setFont(void 0,"normal"),b=0;b<T.length;b+=1)ue.push(this.getTextDimensions(T[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);te[C]=Math.max.apply(null,ue)+W+W,ue=[]}if(U){var xe={};for(_=0;_<P.length;_+=1)xe[P[_]]={},xe[P[_]].text=j[_],xe[P[_]].align=R[_];var oe=l.call(this,xe,te);F=P.map(function(Ne){return new a(c,f,te[Ne],oe,xe[Ne].text,void 0,xe[Ne].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var be=v.reduce(function(Ne,Q){return Ne[Q.name]=Q.align,Ne},{});for(_=0;_<p.length;_+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:_,data:p[_]},this);var _e=l.call(this,p[_],te);for(b=0;b<P.length;b+=1){var Le=p[_][P[b]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:_,col:b,data:Le},this),s.call(this,new a(c,f,te[P[b]],_e,Le,_+2,be[P[b]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var l=function(c,f){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(_){var T=c[_];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,f[_]-p-p)},this).map(function(_){return this.getLineHeightFactor()*_.length*v/y+p+p},this).reduce(function(_,T){return Math.max(_,T)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){p=this.internal.__cell__.tableHeaderRow[_].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=c;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,p),this.setTextColor(T)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}})(fr.API);var UE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],v_=BE(zE),GE=[100,200,300,400,500,600,700,800,900],eR=BE(GE);function g2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(a){return UE[a=a||"normal"]?a:"normal"})(t.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof v_[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function d4(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var tR={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},p4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function m4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function g4(t){return t.trimLeft()}function rR(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function nR(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Rm,v4,_4,Of,Dm,y4,x4,w4,v2=["times"];function b4(t,e,r,n,i){var a=4,s=E4;switch(i){case fr.API.image_compression.FAST:a=1,s=S4;break;case fr.API.image_compression.MEDIUM:a=6,s=T4;break;case fr.API.image_compression.SLOW:a=9,s=A4}t=(function(c,f,p,v){for(var y,_=c.length/f,T=new Uint8Array(c.length+_),b=[iR,S4,E4,T4,A4],C=0;C<_;C+=1){var P=C*f,j=c.subarray(P,P+f);if(v)T.set(v(j,p,y),P+C);else{for(var R=b.length,B=[],te=0;te<R;te+=1)B[te]=b[te](j,p,y);var ue=sR(B.concat());T.set(B[ue],P+C)}y=j}return T})(t,e,Math.ceil(r*n/8),s);var l=c_(t,{level:a});return fr.API.__addimage__.arrayBufferToBinaryString(l)}function iR(t){var e=Array.apply([],t);return e.unshift(0),e}function S4(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function E4(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=t[a]-s+256&255}return i}function T4(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,l=r&&r[a]||0;i[a+1]=t[a]+256-(s+l>>>1)&255}return i}function A4(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=aR(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function aR(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function sR(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function _2(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return HE(t,i)>>a&s}function L4(t,e,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),l=(1<<n)-1,c=(e&l)<<s;(function(f,p,v){if(p+1<f.byteLength)f.setUint16(p,v,!1);else{var y=v>>8&255;f.setUint8(p,y)}})(t,a,HE(t,a)&~(l<<s)&65535|c)}function HE(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function oR(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var l=null,c=null;a&&(l=e,c=s,e+=3*s);var f=!0,p=[],v=0,y=null,_=0,T=null;for(this.width=r,this.height=n;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,T=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];v=t[e++]|t[e++]<<8,y=t[e++],1&b||(y=null),_=b>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var C=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,B=t[e++],te=B>>6&1,ue=1<<1+(7&B),F=l,K=c,U=!1;B>>7&&(U=!0,F=e,K=ue,e+=3*ue);var X=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}p.push({x:C,y:P,width:j,height:R,has_local_palette:U,palette_offset:F,palette_size:K,data_offset:X,data_length:e-X,transparent_index:y,interlaced:!!te,delay:v,disposal:_});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return T},this.frameInfo=function(W){if(W<0||W>=p.length)throw new Error("Frame index out of range.");return p[W]},this.decodeAndBlitFrameBGRA=function(W,ce){var pe=this.frameInfo(W),xe=pe.width*pe.height,oe=new Uint8Array(xe);N4(t,pe.data_offset,oe,xe);var be=pe.palette_offset,_e=pe.transparent_index;_e===null&&(_e=256);var Le=pe.width,Ne=r-Le,Q=Le,O=4*(pe.y*r+pe.x),H=4*((pe.y+pe.height)*r+pe.x),q=O,Z=4*Ne;pe.interlaced===!0&&(Z+=4*r*7);for(var se=8,Ae=0,Oe=oe.length;Ae<Oe;++Ae){var Re=oe[Ae];if(Q===0&&(Q=Le,(q+=Z)>=H&&(Z=4*Ne+4*r*(se-1),q=O+(Le+Ne)*(se<<1),se>>=1)),Re===_e)q+=4;else{var Ie=t[be+3*Re],ot=t[be+3*Re+1],it=t[be+3*Re+2];ce[q++]=it,ce[q++]=ot,ce[q++]=Ie,ce[q++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(W,ce){var pe=this.frameInfo(W),xe=pe.width*pe.height,oe=new Uint8Array(xe);N4(t,pe.data_offset,oe,xe);var be=pe.palette_offset,_e=pe.transparent_index;_e===null&&(_e=256);var Le=pe.width,Ne=r-Le,Q=Le,O=4*(pe.y*r+pe.x),H=4*((pe.y+pe.height)*r+pe.x),q=O,Z=4*Ne;pe.interlaced===!0&&(Z+=4*r*7);for(var se=8,Ae=0,Oe=oe.length;Ae<Oe;++Ae){var Re=oe[Ae];if(Q===0&&(Q=Le,(q+=Z)>=H&&(Z=4*Ne+4*r*(se-1),q=O+(Le+Ne)*(se<<1),se>>=1)),Re===_e)q+=4;else{var Ie=t[be+3*Re],ot=t[be+3*Re+1],it=t[be+3*Re+2];ce[q++]=Ie,ce[q++]=ot,ce[q++]=it,ce[q++]=255}--Q}}}function N4(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,l=s+1,c=i+1,f=(1<<c)-1,p=0,v=0,y=0,_=t[e++],T=new Int32Array(4096),b=null;;){for(;p<16&&_!==0;)v|=t[e++]<<p,p+=8,_===1?_=t[e++]:--_;if(p<c)break;var C=v&f;if(v>>=c,p-=c,C!==a){if(C===s)break;for(var P=C<l?C:b,j=0,R=P;R>a;)R=T[R]>>8,++j;var B=R;if(y+j+(P!==C?1:0)>n)return void ti.log("Warning, gif stream longer than expected.");r[y++]=B;var te=y+=j;for(P!==C&&(r[y++]=B),R=P;j--;)R=T[R],r[--te]=255&R,R>>=8;b!==null&&l<4096&&(T[l++]=b<<8|B,l>=f+1&&c<12&&(++c,f=f<<1|1)),b=C}else l=s+1,f=(1<<(c=i+1))-1,b=null}return y!==n&&ti.log("Warning, gif stream shorter than expected."),r}function y2(t){var e,r,n,i,a,s=Math.floor,l=new Array(64),c=new Array(64),f=new Array(64),p=new Array(64),v=new Array(65535),y=new Array(65535),_=new Array(64),T=new Array(64),b=[],C=0,P=7,j=new Array(64),R=new Array(64),B=new Array(64),te=new Array(256),ue=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],K=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ce=[0,1,2,3,4,5,6,7,8,9,10,11],pe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(O,H){for(var q=0,Z=0,se=new Array,Ae=1;Ae<=16;Ae++){for(var Oe=1;Oe<=O[Ae];Oe++)se[H[Z]]=[],se[H[Z]][0]=q,se[H[Z]][1]=Ae,Z++,q++;q*=2}return se}function be(O){for(var H=O[0],q=O[1]-1;q>=0;)H&1<<q&&(C|=1<<P),q--,--P<0&&(C==255?(_e(255),_e(0)):_e(C),P=7,C=0)}function _e(O){b.push(O)}function Le(O){_e(O>>8&255),_e(255&O)}function Ne(O,H,q,Z,se){for(var Ae,Oe=se[0],Re=se[240],Ie=(function(dt,Vt){var jt,sr,Xt,Jt,Er,dr,Nr,or,Ft,_r,Wt=0;for(Ft=0;Ft<8;++Ft){jt=dt[Wt],sr=dt[Wt+1],Xt=dt[Wt+2],Jt=dt[Wt+3],Er=dt[Wt+4],dr=dt[Wt+5],Nr=dt[Wt+6];var xn=jt+(or=dt[Wt+7]),Mr=jt-or,Gt=sr+Nr,pr=sr-Nr,Dr=Xt+dr,Yt=Xt-dr,ln=Jt+Er,ur=Jt-Er,cr=xn+ln,en=xn-ln,xr=Gt+Dr,Zt=Gt-Dr;dt[Wt]=cr+xr,dt[Wt+4]=cr-xr;var Gr=.707106781*(Zt+en);dt[Wt+2]=en+Gr,dt[Wt+6]=en-Gr;var ba=.382683433*((cr=ur+Yt)-(Zt=pr+Mr)),li=.5411961*cr+ba,Ji=1.306562965*Zt+ba,Ni=.707106781*(xr=Yt+pr),Qt=Mr+Ni,Ka=Mr-Ni;dt[Wt+5]=Ka+li,dt[Wt+3]=Ka-li,dt[Wt+1]=Qt+Ji,dt[Wt+7]=Qt-Ji,Wt+=8}for(Wt=0,Ft=0;Ft<8;++Ft){jt=dt[Wt],sr=dt[Wt+8],Xt=dt[Wt+16],Jt=dt[Wt+24],Er=dt[Wt+32],dr=dt[Wt+40],Nr=dt[Wt+48];var Fa=jt+(or=dt[Wt+56]),Ce=jt-or,Ge=sr+Nr,qe=sr-Nr,Ye=Xt+dr,Y=Xt-dr,me=Jt+Er,re=Jt-Er,ne=Fa+me,he=Fa-me,ve=Ge+Ye,Pe=Ge-Ye;dt[Wt]=ne+ve,dt[Wt+32]=ne-ve;var ze=.707106781*(Pe+he);dt[Wt+16]=he+ze,dt[Wt+48]=he-ze;var Be=.382683433*((ne=re+Y)-(Pe=qe+Ce)),Ue=.5411961*ne+Be,$e=1.306562965*Pe+Be,ht=.707106781*(ve=Y+qe),bt=Ce+ht,wt=Ce-ht;dt[Wt+40]=wt+Ue,dt[Wt+24]=wt-Ue,dt[Wt+8]=bt+$e,dt[Wt+56]=bt-$e,Wt++}for(Ft=0;Ft<64;++Ft)_r=dt[Ft]*Vt[Ft],_[Ft]=_r>0?_r+.5|0:_r-.5|0;return _})(O,H),ot=0;ot<64;++ot)T[F[ot]]=Ie[ot];var it=T[0]-q;q=T[0],it==0?be(Z[0]):(be(Z[y[Ae=32767+it]]),be(v[Ae]));for(var Tt=63;Tt>0&&T[Tt]==0;)Tt--;if(Tt==0)return be(Oe),q;for(var Nt,we=1;we<=Tt;){for(var yt=we;T[we]==0&&we<=Tt;)++we;var xt=we-yt;if(xt>=16){Nt=xt>>4;for(var zt=1;zt<=Nt;++zt)be(Re);xt&=15}Ae=32767+T[we],be(se[(xt<<4)+y[Ae]]),be(v[Ae]),we++}return Tt!=63&&be(Oe),q}function Q(O){O=Math.min(Math.max(O,1),100),a!=O&&((function(H){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var se=s((q[Z]*H+50)/100);se=Math.min(Math.max(se,1),255),l[F[Z]]=se}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Oe=0;Oe<64;Oe++){var Re=s((Ae[Oe]*H+50)/100);Re=Math.min(Math.max(Re,1),255),c[F[Oe]]=Re}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ot=0,it=0;it<8;it++)for(var Tt=0;Tt<8;Tt++)f[ot]=1/(l[F[ot]]*Ie[it]*Ie[Tt]*8),p[ot]=1/(c[F[ot]]*Ie[it]*Ie[Tt]*8),ot++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),a=O)}this.encode=function(O,H){H&&Q(H),b=new Array,C=0,P=7,Le(65496),Le(65504),Le(16),_e(74),_e(70),_e(73),_e(70),_e(0),_e(1),_e(1),_e(0),Le(1),Le(1),_e(0),_e(0),(function(){Le(65499),Le(132),_e(0);for(var sr=0;sr<64;sr++)_e(l[sr]);_e(1);for(var Xt=0;Xt<64;Xt++)_e(c[Xt])})(),(function(sr,Xt){Le(65472),Le(17),_e(8),Le(Xt),Le(sr),_e(3),_e(1),_e(17),_e(0),_e(2),_e(17),_e(1),_e(3),_e(17),_e(1)})(O.width,O.height),(function(){Le(65476),Le(418),_e(0);for(var sr=0;sr<16;sr++)_e(K[sr+1]);for(var Xt=0;Xt<=11;Xt++)_e(U[Xt]);_e(16);for(var Jt=0;Jt<16;Jt++)_e(X[Jt+1]);for(var Er=0;Er<=161;Er++)_e(I[Er]);_e(1);for(var dr=0;dr<16;dr++)_e(W[dr+1]);for(var Nr=0;Nr<=11;Nr++)_e(ce[Nr]);_e(17);for(var or=0;or<16;or++)_e(pe[or+1]);for(var Ft=0;Ft<=161;Ft++)_e(xe[Ft])})(),Le(65498),Le(12),_e(3),_e(1),_e(0),_e(2),_e(17),_e(3),_e(17),_e(0),_e(63),_e(0);var q=0,Z=0,se=0;C=0,P=7,this.encode.displayName="_encode_";for(var Ae,Oe,Re,Ie,ot,it,Tt,Nt,we,yt=O.data,xt=O.width,zt=O.height,dt=4*xt,Vt=0;Vt<zt;){for(Ae=0;Ae<dt;){for(ot=dt*Vt+Ae,Tt=-1,Nt=0,we=0;we<64;we++)it=ot+(Nt=we>>3)*dt+(Tt=4*(7&we)),Vt+Nt>=zt&&(it-=dt*(Vt+1+Nt-zt)),Ae+Tt>=dt&&(it-=Ae+Tt-dt+4),Oe=yt[it++],Re=yt[it++],Ie=yt[it++],j[we]=(ue[Oe]+ue[Re+256|0]+ue[Ie+512|0]>>16)-128,R[we]=(ue[Oe+768|0]+ue[Re+1024|0]+ue[Ie+1280|0]>>16)-128,B[we]=(ue[Oe+1280|0]+ue[Re+1536|0]+ue[Ie+1792|0]>>16)-128;q=Ne(j,f,q,e,n),Z=Ne(R,p,Z,r,i),se=Ne(B,p,se,r,i),Ae+=32}Vt+=8}if(P>=0){var jt=[];jt[1]=P+1,jt[0]=(1<<P+1)-1,be(jt)}return Le(65497),new Uint8Array(b)},t=t||50,(function(){for(var O=String.fromCharCode,H=0;H<256;H++)te[H]=O(H)})(),e=oe(K,U),r=oe(W,ce),n=oe(X,I),i=oe(pe,xe),(function(){for(var O=1,H=2,q=1;q<=15;q++){for(var Z=O;Z<H;Z++)y[32767+Z]=q,v[32767+Z]=[],v[32767+Z][1]=q,v[32767+Z][0]=Z;for(var se=-(H-1);se<=-O;se++)y[32767+se]=q,v[32767+se]=[],v[32767+se][1]=q,v[32767+se][0]=H-1+se;O<<=1,H<<=1}})(),(function(){for(var O=0;O<256;O++)ue[O]=19595*O,ue[O+256|0]=38470*O,ue[O+512|0]=7471*O+32768,ue[O+768|0]=-11059*O,ue[O+1024|0]=-21709*O,ue[O+1280|0]=32768*O+8421375,ue[O+1536|0]=-27439*O,ue[O+1792|0]=-5329*O})(),Q(t)}function Ul(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function C4(t){function e(U){if(!U)throw Error("assert :P")}function r(U,X,I){for(var W=0;4>W;W++)if(U[X+W]!=I.charCodeAt(W))return!0;return!1}function n(U,X,I,W,ce){for(var pe=0;pe<ce;pe++)U[X+pe]=I[W+pe]}function i(U,X,I,W){for(var ce=0;ce<W;ce++)U[X+ce]=I}function a(U){return new Int32Array(U)}function s(U,X){for(var I=[],W=0;W<U;W++)I.push(new X);return I}function l(U,X){var I=[];return(function W(ce,pe,xe){for(var oe=xe[pe],be=0;be<oe&&(ce.push(xe.length>pe+1?[]:new X),!(xe.length<pe+1));be++)W(ce[be],pe+1,xe)})(I,0,U),I}var c=function(){var U=this;function X(w,A){for(var D=1<<A-1>>>0;w&D;)D>>>=1;return D?(w&D-1)+D:w}function I(w,A,D,z,ee){e(!(z%D));do w[A+(z-=D)]=ee;while(0<z)}function W(w,A,D,z,ee){if(e(2328>=ee),512>=ee)var ie=a(512);else if((ie=a(ee))==null)return 0;return(function(le,ge,ye,Te,je,Je){var Ee,He,Ke=ge,lt=1<<ye,Xe=a(16),st=a(16);for(e(je!=0),e(Te!=null),e(le!=null),e(0<ye),He=0;He<je;++He){if(15<Te[He])return 0;++Xe[Te[He]]}if(Xe[0]==je)return 0;for(st[1]=0,Ee=1;15>Ee;++Ee){if(Xe[Ee]>1<<Ee)return 0;st[Ee+1]=st[Ee]+Xe[Ee]}for(He=0;He<je;++He)Ee=Te[He],0<Te[He]&&(Je[st[Ee]++]=He);if(st[15]==1)return(Te=new ce).g=0,Te.value=Je[0],I(le,Ke,1,lt,Te),lt;var ft,Lt=-1,_t=lt-1,nr=0,Ht=1,Pr=1,Kt=1<<ye;for(He=0,Ee=1,je=2;Ee<=ye;++Ee,je<<=1){if(Ht+=Pr<<=1,0>(Pr-=Xe[Ee]))return 0;for(;0<Xe[Ee];--Xe[Ee])(Te=new ce).g=Ee,Te.value=Je[He++],I(le,Ke+nr,je,Kt,Te),nr=X(nr,Ee)}for(Ee=ye+1,je=2;15>=Ee;++Ee,je<<=1){if(Ht+=Pr<<=1,0>(Pr-=Xe[Ee]))return 0;for(;0<Xe[Ee];--Xe[Ee]){if(Te=new ce,(nr&_t)!=Lt){for(Ke+=Kt,ft=1<<(Lt=Ee)-ye;15>Lt&&!(0>=(ft-=Xe[Lt]));)++Lt,ft<<=1;lt+=Kt=1<<(ft=Lt-ye),le[ge+(Lt=nr&_t)].g=ft+ye,le[ge+Lt].value=Ke-ge-Lt}Te.g=Ee-ye,Te.value=Je[He++],I(le,Ke+(nr>>ye),je,Kt,Te),nr=X(nr,Ee)}}return Ht!=2*st[15]-1?0:lt})(w,A,D,z,ee,ie)}function ce(){this.value=this.g=0}function pe(){this.value=this.g=0}function xe(){this.G=s(5,ce),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s($s,pe)}function oe(w,A,D,z){e(w!=null),e(A!=null),e(2147483648>z),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=A,w.pa=D,w.Jd=A,w.Yc=D+z,w.Zc=4<=z?D+z-4+1:D,Oe(w)}function be(w,A){for(var D=0;0<A--;)D|=Ie(w,128)<<A;return D}function _e(w,A){var D=be(w,A);return Re(w)?-D:D}function Le(w,A,D,z){var ee,ie=0;for(e(w!=null),e(A!=null),e(4294967288>z),w.Sb=z,w.Ra=0,w.u=0,w.h=0,4<z&&(z=4),ee=0;ee<z;++ee)ie+=A[D+ee]<<8*ee;w.Ra=ie,w.bb=z,w.oa=A,w.pa=D}function Ne(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<ns-8>>>0,++w.bb,w.u-=8;Z(w)&&(w.h=1,w.u=0)}function Q(w,A){if(e(0<=A),!w.h&&A<=ii){var D=q(w)&za[A];return w.u+=A,Ne(w),D}return w.h=1,w.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(w){return w.Ra>>>(w.u&ns-1)>>>0}function Z(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>ns}function se(w,A){w.u=A,w.h=Z(w)}function Ae(w){w.u>=io&&(e(w.u>=io),Ne(w))}function Oe(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function Re(w){return be(w,1)}function Ie(w,A){var D=w.Ca;0>w.b&&Oe(w);var z=w.b,ee=D*A>>>8,ie=(w.I>>>z>ee)+0;for(ie?(D-=ee,w.I-=ee+1<<z>>>0):D=ee+1,z=D,ee=0;256<=z;)ee+=8,z>>=8;return z=7^ee+Ws[z],w.b-=z,w.Ca=(D<<z)-1,ie}function ot(w,A,D){w[A+0]=D>>24&255,w[A+1]=D>>16&255,w[A+2]=D>>8&255,w[A+3]=255&D}function it(w,A){return w[A+0]|w[A+1]<<8}function Tt(w,A){return it(w,A)|w[A+2]<<16}function Nt(w,A){return it(w,A)|it(w,A+2)<<16}function we(w,A){var D=1<<A;return e(w!=null),e(0<A),w.X=a(D),w.X==null?0:(w.Mb=32-A,w.Xa=A,1)}function yt(w,A){e(w!=null),e(A!=null),e(w.Xa==A.Xa),n(A.X,0,w.X,0,1<<A.Xa)}function xt(){this.X=[],this.Xa=this.Mb=0}function zt(w,A,D,z){e(D!=null),e(z!=null);var ee=D[0],ie=z[0];return ee==0&&(ee=(w*ie+A/2)/A),ie==0&&(ie=(A*ee+w/2)/w),0>=ee||0>=ie?0:(D[0]=ee,z[0]=ie,1)}function dt(w,A){return w+(1<<A)-1>>>A}function Vt(w,A){return((4278255360&w)+(4278255360&A)>>>0&4278255360)+((16711935&w)+(16711935&A)>>>0&16711935)>>>0}function jt(w,A){U[A]=function(D,z,ee,ie,le,ge,ye){var Te;for(Te=0;Te<le;++Te){var je=U[w](ge[ye+Te-1],ee,ie+Te);ge[ye+Te]=Vt(D[z+Te],je)}}}function sr(){this.ud=this.hd=this.jd=0}function Xt(w,A){return((4278124286&(w^A))>>>1)+(w&A)>>>0}function Jt(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Er(w,A){return Jt(w+(w-A+.5>>1))}function dr(w,A,D){return Math.abs(A-D)-Math.abs(w-D)}function Nr(w,A,D,z,ee,ie,le){for(z=ie[le-1],D=0;D<ee;++D)ie[le+D]=z=Vt(w[A+D],z)}function or(w,A,D,z,ee){var ie;for(ie=0;ie<D;++ie){var le=w[A+ie],ge=le>>8&255,ye=16711935&(ye=(ye=16711935&le)+((ge<<16)+ge));z[ee+ie]=(4278255360&le)+ye>>>0}}function Ft(w,A){A.jd=255&w,A.hd=w>>8&255,A.ud=w>>16&255}function _r(w,A,D,z,ee,ie){var le;for(le=0;le<z;++le){var ge=A[D+le],ye=ge>>>8,Te=ge,je=255&(je=(je=ge>>>16)+((w.jd<<24>>24)*(ye<<24>>24)>>>5));Te=255&(Te=(Te+=(w.hd<<24>>24)*(ye<<24>>24)>>>5)+((w.ud<<24>>24)*(je<<24>>24)>>>5)),ee[ie+le]=(4278255360&ge)+(je<<16)+Te}}function Wt(w,A,D,z,ee){U[A]=function(ie,le,ge,ye,Te,je,Je,Ee,He){for(ye=Je;ye<Ee;++ye)for(Je=0;Je<He;++Je)Te[je++]=ee(ge[z(ie[le++])])},U[w]=function(ie,le,ge,ye,Te,je,Je){var Ee=8>>ie.b,He=ie.Ea,Ke=ie.K[0],lt=ie.w;if(8>Ee)for(ie=(1<<ie.b)-1,lt=(1<<Ee)-1;le<ge;++le){var Xe,st=0;for(Xe=0;Xe<He;++Xe)Xe&ie||(st=z(ye[Te++])),je[Je++]=ee(Ke[st&lt]),st>>=Ee}else U["VP8LMapColor"+D](ye,Te,Ke,lt,je,Je,le,ge,He)}}function xn(w,A,D,z,ee){for(D=A+D;A<D;){var ie=w[A++];z[ee++]=ie>>16&255,z[ee++]=ie>>8&255,z[ee++]=255&ie}}function Mr(w,A,D,z,ee){for(D=A+D;A<D;){var ie=w[A++];z[ee++]=ie>>16&255,z[ee++]=ie>>8&255,z[ee++]=255&ie,z[ee++]=ie>>24&255}}function Gt(w,A,D,z,ee){for(D=A+D;A<D;){var ie=(le=w[A++])>>16&240|le>>12&15,le=240&le|le>>28&15;z[ee++]=ie,z[ee++]=le}}function pr(w,A,D,z,ee){for(D=A+D;A<D;){var ie=(le=w[A++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;z[ee++]=ie,z[ee++]=le}}function Dr(w,A,D,z,ee){for(D=A+D;A<D;){var ie=w[A++];z[ee++]=255&ie,z[ee++]=ie>>8&255,z[ee++]=ie>>16&255}}function Yt(w,A,D,z,ee,ie){if(ie==0)for(D=A+D;A<D;)ot(z,((ie=w[A++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),ee+=32;else n(z,ee,w,A,D)}function ln(w,A){U[A][0]=U[w+"0"],U[A][1]=U[w+"1"],U[A][2]=U[w+"2"],U[A][3]=U[w+"3"],U[A][4]=U[w+"4"],U[A][5]=U[w+"5"],U[A][6]=U[w+"6"],U[A][7]=U[w+"7"],U[A][8]=U[w+"8"],U[A][9]=U[w+"9"],U[A][10]=U[w+"10"],U[A][11]=U[w+"11"],U[A][12]=U[w+"12"],U[A][13]=U[w+"13"],U[A][14]=U[w+"0"],U[A][15]=U[w+"0"]}function ur(w){return w==cu||w==Gu||w==hu||w==h}function cr(){this.eb=[],this.size=this.A=this.fb=0}function en(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new cr,this.f.kb=new en,this.sd=null}function Zt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ba(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function li(w,A){var D=w.T,z=A.ba.f.RGBA,ee=z.eb,ie=z.fb+w.ka*z.A,le=bi[A.ba.S],ge=w.y,ye=w.O,Te=w.f,je=w.N,Je=w.ea,Ee=w.W,He=A.cc,Ke=A.dc,lt=A.Mc,Xe=A.Nc,st=w.ka,ft=w.ka+w.T,Lt=w.U,_t=Lt+1>>1;for(st==0?le(ge,ye,null,null,Te,je,Je,Ee,Te,je,Je,Ee,ee,ie,null,null,Lt):(le(A.ec,A.fc,ge,ye,He,Ke,lt,Xe,Te,je,Je,Ee,ee,ie-z.A,ee,ie,Lt),++D);st+2<ft;st+=2)He=Te,Ke=je,lt=Je,Xe=Ee,je+=w.Rc,Ee+=w.Rc,ie+=2*z.A,le(ge,(ye+=2*w.fa)-w.fa,ge,ye,He,Ke,lt,Xe,Te,je,Je,Ee,ee,ie-z.A,ee,ie,Lt);return ye+=w.fa,w.j+ft<w.o?(n(A.ec,A.fc,ge,ye,Lt),n(A.cc,A.dc,Te,je,_t),n(A.Mc,A.Nc,Je,Ee,_t),D--):1&ft||le(ge,ye,null,null,Te,je,Je,Ee,Te,je,Je,Ee,ee,ie+z.A,null,null,Lt),D}function Ji(w,A,D){var z=w.F,ee=[w.J];if(z!=null){var ie=w.U,le=A.ba.S,ge=le==uu||le==hu;A=A.ba.f.RGBA;var ye=[0],Te=w.ka;ye[0]=w.T,w.Kb&&(Te==0?--ye[0]:(--Te,ee[0]-=w.width),w.j+w.ka+w.T==w.o&&(ye[0]=w.o-w.j-Te));var je=A.eb;Te=A.fb+Te*A.A,w=ou(z,ee[0],w.width,ie,ye,je,Te+(ge?0:3),A.A),e(D==ye),w&&ur(le)&&As(je,Te,ge,ie,ye,A.A)}return 0}function Ni(w){var A=w.ma,D=A.ba.S,z=11>D,ee=D==ia||D==ss||D==uu||D==Pl||D==12||ur(D);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Do(A.Oa,w,ee?11:12))return 0;if(ee&&ur(D)&&Ro(),w.da)alert("todo:use_scaling");else{if(z){if(A.Ib=ba,w.Kb){if(D=w.U+1>>1,A.memory=a(w.U+2*D),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+w.U,A.Mc=A.cc,A.Nc=A.dc+D,A.Ib=li,Ro()}}else alert("todo:EmitYUV");ee&&(A.Jb=Ji,z&&ta())}if(z&&!gu){for(w=0;256>w;++w)Oa[w]=89858*(w-128)+wc>>fo,vg[w]=-22014*(w-128)+wc,Cp[w]=-45773*(w-128),ef[w]=113618*(w-128)+wc>>fo;for(w=Hu;w<mu;++w)A=76283*(w-16)+wc>>fo,_g[w-Hu]=Ut(A,255),yg[w-Hu]=Ut(A+8>>4,15);gu=1}return 1}function Qt(w){var A=w.ma,D=w.U,z=w.T;return e(!(1&w.ka)),0>=D||0>=z?0:(D=A.Ib(w,A),A.Jb!=null&&A.Jb(w,A,D),A.Dc+=D,1)}function Ka(w){w.ma.memory=null}function Fa(w,A,D,z){return Q(w,8)!=47?0:(A[0]=Q(w,14)+1,D[0]=Q(w,14)+1,z[0]=Q(w,1),Q(w,3)!=0?0:!w.h)}function Ce(w,A){if(4>w)return w+1;var D=w-2>>1;return(2+(1&w)<<D)+Q(A,D)+1}function Ge(w,A){return 120<A?A-120:1<=(D=((D=Me[A-1])>>4)*w+(8-(15&D)))?D:1;var D}function qe(w,A,D){var z=q(D),ee=w[A+=255&z].g-8;return 0<ee&&(se(D,D.u+8),z=q(D),A+=w[A].value,A+=z&(1<<ee)-1),se(D,D.u+w[A].g),w[A].value}function Ye(w,A,D){return D.g+=w.g,D.value+=w.value<<A>>>0,e(8>=D.g),w.g}function Y(w,A,D){var z=w.xc;return e((A=z==0?0:w.vc[w.md*(D>>z)+(A>>z)])<w.Wb),w.Ya[A]}function me(w,A,D,z){var ee=w.ab,ie=w.c*A,le=w.C;A=le+A;var ge=D,ye=z;for(z=w.Ta,D=w.Ua;0<ee--;){var Te=w.gc[ee],je=le,Je=A,Ee=ge,He=ye,Ke=(ye=z,ge=D,Te.Ea);switch(e(je<Je),e(Je<=Te.nc),Te.hc){case 2:hi(Ee,He,(Je-je)*Ke,ye,ge);break;case 0:var lt=je,Xe=Je,st=ye,ft=ge,Lt=(Kt=Te).Ea;lt==0&&(au(Ee,He,null,null,1,st,ft),Nr(Ee,He+1,0,0,Lt-1,st,ft+1),He+=Lt,ft+=Lt,++lt);for(var _t=1<<Kt.b,nr=_t-1,Ht=dt(Lt,Kt.b),Pr=Kt.K,Kt=Kt.w+(lt>>Kt.b)*Ht;lt<Xe;){var Qr=Pr,Qn=Kt,jr=1;for(Ga(Ee,He,st,ft-Lt,1,st,ft);jr<Lt;){var qt=(jr&~nr)+_t;qt>Lt&&(qt=Lt),(0,so[Qr[Qn++]>>8&15])(Ee,He+ +jr,st,ft+jr-Lt,qt-jr,st,ft+jr),jr=qt}He+=Lt,ft+=Lt,++lt&nr||(Kt+=Ht)}Je!=Te.nc&&n(ye,ge-Ke,ye,ge+(Je-je-1)*Ke,Ke);break;case 1:for(Ke=Ee,Xe=He,Lt=(Ee=Te.Ea)-(ft=Ee&~(st=(He=1<<Te.b)-1)),lt=dt(Ee,Te.b),_t=Te.K,Te=Te.w+(je>>Te.b)*lt;je<Je;){for(nr=_t,Ht=Te,Pr=new sr,Kt=Xe+ft,Qr=Xe+Ee;Xe<Kt;)Ft(nr[Ht++],Pr),ol(Pr,Ke,Xe,He,ye,ge),Xe+=He,ge+=He;Xe<Qr&&(Ft(nr[Ht++],Pr),ol(Pr,Ke,Xe,Lt,ye,ge),Xe+=Lt,ge+=Lt),++je&st||(Te+=lt)}break;case 3:if(Ee==ye&&He==ge&&0<Te.b){for(Xe=ye,Ee=Ke=ge+(Je-je)*Ke-(ft=(Je-je)*dt(Te.Ea,Te.b)),He=ye,st=ge,lt=[],ft=(Lt=ft)-1;0<=ft;--ft)lt[ft]=He[st+ft];for(ft=Lt-1;0<=ft;--ft)Xe[Ee+ft]=lt[ft];Io(Te,je,Je,ye,Ke,ye,ge)}else Io(Te,je,Je,Ee,He,ye,ge)}ge=z,ye=D}ye!=D&&n(z,D,ge,ye,ie)}function re(w,A){var D=w.V,z=w.Ba+w.c*w.C,ee=A-w.C;if(e(A<=w.l.o),e(16>=ee),0<ee){var ie=w.l,le=w.Ta,ge=w.Ua,ye=ie.width;if(me(w,ee,D,z),ee=ge=[ge],e((D=w.C)<(z=A)),e(ie.v<ie.va),z>ie.o&&(z=ie.o),D<ie.j){var Te=ie.j-D;D=ie.j,ee[0]+=Te*ye}if(D>=z?D=0:(ee[0]+=4*ie.v,ie.ka=D-ie.j,ie.U=ie.va-ie.v,ie.T=z-D,D=1),D){if(ge=ge[0],11>(D=w.ca).S){var je=D.f.RGBA,Je=(z=D.S,ee=ie.U,ie=ie.T,Te=je.eb,je.A),Ee=ie;for(je=je.fb+w.Ma*je.A;0<Ee--;){var He=le,Ke=ge,lt=ee,Xe=Te,st=je;switch(z){case yc:Fo(He,Ke,lt,Xe,st);break;case ia:Zs(He,Ke,lt,Xe,st);break;case cu:Zs(He,Ke,lt,Xe,st),As(Xe,st,0,lt,1,0);break;case zu:oo(He,Ke,lt,Xe,st);break;case ss:Yt(He,Ke,lt,Xe,st,1);break;case Gu:Yt(He,Ke,lt,Xe,st,1),As(Xe,st,0,lt,1,0);break;case uu:Yt(He,Ke,lt,Xe,st,0);break;case hu:Yt(He,Ke,lt,Xe,st,0),As(Xe,st,1,lt,1,0);break;case Pl:Ts(He,Ke,lt,Xe,st);break;case h:Ts(He,Ke,lt,Xe,st),is(Xe,st,lt,1,0);break;case ll:Na(He,Ke,lt,Xe,st);break;default:e(0)}ge+=ye,je+=Je}w.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=D.height)}}w.C=A,e(w.C<=w.i)}function ne(w){var A;if(0<w.ua)return 0;for(A=0;A<w.Wb;++A){var D=w.Ya[A].G,z=w.Ya[A].H;if(0<D[1][z[1]+0].g||0<D[2][z[2]+0].g||0<D[3][z[3]+0].g)return 0}return 1}function he(w,A,D,z,ee,ie){if(w.Z!=0){var le=w.qd,ge=w.rd;for(e(bn[w.Z]!=null);A<D;++A)bn[w.Z](le,ge,z,ee,z,ee,ie),le=z,ge=ee,ee+=ie;w.qd=le,w.rd=ge}}function ve(w,A){var D=w.l.ma,z=D.Z==0||D.Z==1?w.l.j:w.C;if(z=w.C<z?z:w.C,e(A<=w.l.o),A>z){var ee=w.l.width,ie=D.ca,le=D.tb+ee*z,ge=w.V,ye=w.Ba+w.c*z,Te=w.gc;e(w.ab==1),e(Te[0].hc==3),Fi(Te[0],z,A,ge,ye,ie,le),he(D,z,A,ie,le,ee)}w.C=w.Ma=A}function Pe(w,A,D,z,ee,ie,le){var ge=w.$/z,ye=w.$%z,Te=w.m,je=w.s,Je=D+w.$,Ee=Je;ee=D+z*ee;var He=D+z*ie,Ke=280+je.ua,lt=w.Pb?ge:16777216,Xe=0<je.ua?je.Wa:null,st=je.wc,ft=Je<He?Y(je,ye,ge):null;e(w.C<ie),e(He<=ee);var Lt=!1;e:for(;;){for(;Lt||Je<He;){var _t=0;if(ge>=lt){var nr=Je-D;e((lt=w).Pb),lt.wd=lt.m,lt.xd=nr,0<lt.s.ua&&yt(lt.s.Wa,lt.s.vb),lt=ge+tt}if(ye&st||(ft=Y(je,ye,ge)),e(ft!=null),ft.Qb&&(A[Je]=ft.qb,Lt=!0),!Lt)if(Ae(Te),ft.jc){_t=Te,nr=A;var Ht=Je,Pr=ft.pd[q(_t)&$s-1];e(ft.jc),256>Pr.g?(se(_t,_t.u+Pr.g),nr[Ht]=Pr.value,_t=0):(se(_t,_t.u+Pr.g-256),e(256<=Pr.value),_t=Pr.value),_t==0&&(Lt=!0)}else _t=qe(ft.G[0],ft.H[0],Te);if(Te.h)break;if(Lt||256>_t){if(!Lt)if(ft.nd)A[Je]=(ft.qb|_t<<8)>>>0;else{if(Ae(Te),Lt=qe(ft.G[1],ft.H[1],Te),Ae(Te),nr=qe(ft.G[2],ft.H[2],Te),Ht=qe(ft.G[3],ft.H[3],Te),Te.h)break;A[Je]=(Ht<<24|Lt<<16|_t<<8|nr)>>>0}if(Lt=!1,++Je,++ye>=z&&(ye=0,++ge,le!=null&&ge<=ie&&!(ge%16)&&le(w,ge),Xe!=null))for(;Ee<Je;)_t=A[Ee++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t}else if(280>_t){if(_t=Ce(_t-256,Te),nr=qe(ft.G[4],ft.H[4],Te),Ae(Te),nr=Ge(z,nr=Ce(nr,Te)),Te.h)break;if(Je-D<nr||ee-Je<_t)break e;for(Ht=0;Ht<_t;++Ht)A[Je+Ht]=A[Je+Ht-nr];for(Je+=_t,ye+=_t;ye>=z;)ye-=z,++ge,le!=null&&ge<=ie&&!(ge%16)&&le(w,ge);if(e(Je<=ee),ye&st&&(ft=Y(je,ye,ge)),Xe!=null)for(;Ee<Je;)_t=A[Ee++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t}else{if(!(_t<Ke))break e;for(Lt=_t-280,e(Xe!=null);Ee<Je;)_t=A[Ee++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t;_t=Je,e(!(Lt>>>(nr=Xe).Xa)),A[_t]=nr.X[Lt],Lt=!0}Lt||e(Te.h==Z(Te))}if(w.Pb&&Te.h&&Je<ee)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&yt(w.s.vb,w.s.Wa);else{if(Te.h)break e;le?.(w,ge>ie?ie:ge),w.a=0,w.$=Je-D}return 1}return w.a=3,0}function ze(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var A=w.Wa;A!=null&&(A.X=null),w.vb=null,e(w!=null)}function Be(){var w=new br;return w==null?null:(w.a=0,w.xb=xc,ln("Predictor","VP8LPredictors"),ln("Predictor","VP8LPredictors_C"),ln("PredictorAdd","VP8LPredictorsAdd"),ln("PredictorAdd","VP8LPredictorsAdd_C"),hi=or,ol=_r,Fo=xn,Zs=Mr,Ts=Gt,Na=pr,oo=Dr,U.VP8LMapColor32b=ao,U.VP8LMapColor8b=xi,w)}function Ue(w,A,D,z,ee){var ie=1,le=[w],ge=[A],ye=z.m,Te=z.s,je=null,Je=0;e:for(;;){if(D)for(;ie&&Q(ye,1);){var Ee=le,He=ge,Ke=z,lt=1,Xe=Ke.m,st=Ke.gc[Ke.ab],ft=Q(Xe,2);if(Ke.Oc&1<<ft)ie=0;else{switch(Ke.Oc|=1<<ft,st.hc=ft,st.Ea=Ee[0],st.nc=He[0],st.K=[null],++Ke.ab,e(4>=Ke.ab),ft){case 0:case 1:st.b=Q(Xe,3)+2,lt=Ue(dt(st.Ea,st.b),dt(st.nc,st.b),0,Ke,st.K),st.K=st.K[0];break;case 3:var Lt,_t=Q(Xe,8)+1,nr=16<_t?0:4<_t?1:2<_t?2:3;if(Ee[0]=dt(st.Ea,nr),st.b=nr,Lt=lt=Ue(_t,1,0,Ke,st.K)){var Ht,Pr=_t,Kt=st,Qr=1<<(8>>Kt.b),Qn=a(Qr);if(Qn==null)Lt=0;else{var jr=Kt.K[0],qt=Kt.w;for(Qn[0]=Kt.K[0][0],Ht=1;Ht<1*Pr;++Ht)Qn[Ht]=Vt(jr[qt+Ht],Qn[Ht-1]);for(;Ht<4*Qr;++Ht)Qn[Ht]=0;Kt.K[0]=null,Kt.K[0]=Qn,Lt=1}}lt=Lt;break;case 2:break;default:e(0)}ie=lt}}if(le=le[0],ge=ge[0],ie&&Q(ye,1)&&!(ie=1<=(Je=Q(ye,4))&&11>=Je)){z.a=3;break e}var Rt;if(Rt=ie)t:{var di,Sr,zr,An=z,sa=le,Ra=ge,Vn=Je,Ui=D,Ha=An.m,zi=An.s,$r=[null],gn=1,pi=0,yn=We[Vn];r:for(;;){if(Ui&&Q(Ha,1)){var oa=Q(Ha,3)+2,mi=dt(sa,oa),vn=dt(Ra,oa),Di=mi*vn;if(!Ue(mi,vn,0,An,$r))break r;for($r=$r[0],zi.xc=oa,di=0;di<Di;++di){var Ln=$r[di]>>8&65535;$r[di]=Ln,Ln>=gn&&(gn=Ln+1)}}if(Ha.h)break r;for(Sr=0;5>Sr;++Sr){var Gi=M[Sr];!Sr&&0<Vn&&(Gi+=1<<Vn),pi<Gi&&(pi=Gi)}var Hi=s(gn*yn,ce),In=gn,hn=s(In,xe);if(hn==null)var qa=null;else e(65536>=In),qa=hn;var Si=a(pi);if(qa==null||Si==null||Hi==null){An.a=1;break r}var mr=Hi;for(di=zr=0;di<gn;++di){var gr=qa[di],_n=gr.G,Cs=gr.H,po=0,ls=1,qi=0;for(Sr=0;5>Sr;++Sr){Gi=M[Sr],_n[Sr]=mr,Cs[Sr]=zr,!Sr&&0<Vn&&(Gi+=1<<Vn);i:{var vu,_u=Gi,rf=An,$n=Si,Ed=mr,Td=zr,nf=0,Rl=rf.m,xg=Q(Rl,1);if(i($n,0,0,_u),xg){var Ad=Q(Rl,1)+1,Ld=Q(Rl,1),af=Q(Rl,Ld==0?1:8);$n[af]=1,Ad==2&&($n[af=Q(Rl,8)]=1);var ma=1}else{var Ei=a(19),dh=Q(Rl,4)+4;if(19<dh){rf.a=3;var yu=0;break i}for(vu=0;vu<dh;++vu)Ei[ae[vu]]=Q(Rl,3);var Sc=void 0,qu=void 0,cl=rf,sf=Ei,Ec=_u,of=$n,lf=0,Dl=cl.m,Nd=8,Cd=s(128,ce);n:for(;W(Cd,0,7,sf,19);){if(Q(Dl,1)){var Mp=2+2*Q(Dl,3);if((Sc=2+Q(Dl,Mp))>Ec)break n}else Sc=Ec;for(qu=0;qu<Ec&&Sc--;){Ae(Dl);var Md=Cd[0+(127&q(Dl))];se(Dl,Dl.u+Md.g);var xu=Md.value;if(16>xu)of[qu++]=xu,xu!=0&&(Nd=xu);else{var kp=xu==16,Pp=xu-16,Op=S[Pp],kd=Q(Dl,m[Pp])+Op;if(qu+kd>Ec)break n;for(var Rp=kp?Nd:0;0<kd--;)of[qu++]=Rp}}lf=1;break n}lf||(cl.a=3),ma=lf}(ma=ma&&!Rl.h)&&(nf=W(Ed,Td,8,$n,_u)),ma&&nf!=0?yu=nf:(rf.a=3,yu=0)}if(yu==0)break r;if(ls&&G[Sr]==1&&(ls=mr[zr].g==0),po+=mr[zr].g,zr+=yu,3>=Sr){var Vu,uf=Si[0];for(Vu=1;Vu<Gi;++Vu)Si[Vu]>uf&&(uf=Si[Vu]);qi+=uf}}if(gr.nd=ls,gr.Qb=0,ls&&(gr.qb=(_n[3][Cs[3]+0].value<<24|_n[1][Cs[1]+0].value<<16|_n[2][Cs[2]+0].value)>>>0,po==0&&256>_n[0][Cs[0]+0].value&&(gr.Qb=1,gr.qb+=_n[0][Cs[0]+0].value<<8)),gr.jc=!gr.Qb&&6>qi,gr.jc){var ph,hl=gr;for(ph=0;ph<$s;++ph){var jl=ph,Il=hl.pd[jl],cf=hl.G[0][hl.H[0]+jl];256<=cf.value?(Il.g=cf.g+256,Il.value=cf.value):(Il.g=0,Il.value=0,jl>>=Ye(cf,8,Il),jl>>=Ye(hl.G[1][hl.H[1]+jl],16,Il),jl>>=Ye(hl.G[2][hl.H[2]+jl],0,Il),Ye(hl.G[3][hl.H[3]+jl],24,Il))}}}zi.vc=$r,zi.Wb=gn,zi.Ya=qa,zi.yc=Hi,Rt=1;break t}Rt=0}if(!(ie=Rt)){z.a=3;break e}if(0<Je){if(Te.ua=1<<Je,!we(Te.Wa,Je)){z.a=1,ie=0;break e}}else Te.ua=0;var hf=z,$u=le,Dp=ge,Tc=hf.s,Ac=Tc.xc;if(hf.c=$u,hf.i=Dp,Tc.md=dt($u,Ac),Tc.wc=Ac==0?-1:(1<<Ac)-1,D){z.xb=ul;break e}if((je=a(le*ge))==null){z.a=1,ie=0;break e}ie=(ie=Pe(z,je,0,le,ge,ge,null))&&!ye.h;break e}return ie?(ee!=null?ee[0]=je:(e(je==null),e(D)),z.$=0,D||ze(Te)):ze(Te),ie}function $e(w,A){var D=w.c*w.i,z=D+A+16*A;return e(w.c<=A),w.V=a(z),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+D+A,1)}function ht(w,A){var D=w.C,z=A-D,ee=w.V,ie=w.Ba+w.c*D;for(e(A<=w.l.o);0<z;){var le=16<z?16:z,ge=w.l.ma,ye=w.l.width,Te=ye*le,je=ge.ca,Je=ge.tb+ye*D,Ee=w.Ta,He=w.Ua;me(w,le,ee,ie),as(Ee,He,je,Je,Te),he(ge,D,D+le,je,Je,ye),z-=le,ee+=le*w.c,D+=le}e(D==A),w.C=w.Ma=A}function bt(){this.ub=this.yd=this.td=this.Rb=0}function wt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Mt(){this.Yb=(function(){var w=[];return(function A(D,z,ee){for(var ie=ee[z],le=0;le<ie&&(D.push(ee.length>z+1?[]:0),!(ee.length<z+1));le++)A(D[le],z+1,ee)})(w,0,[3,11]),w})()}function Bt(){this.jb=a(3),this.Wc=l([4,8],Mt),this.Xc=l([4,17],Mt)}function Hr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function wr(){this.ld=this.La=this.dd=this.tc=0}function nn(){this.Na=this.la=0}function Kn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xn(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qi(){this.uc=this.M=this.Nb=0,this.wa=Array(new wr),this.Y=0,this.ya=Array(new Xn),this.aa=0,this.l=new qr}function Ci(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ar(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new bt,this.Kc=new wt,this.ed=new Hr,this.Qa=new gt,this.Ic=this.$c=this.Aa=0,this.D=new Qi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,O),this.ia=0,this.pb=s(4,Kn),this.Pa=new Bt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ci),this.Hd=0,this.rb=Array(new nn),this.sb=0,this.wa=Array(new wr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xn),this.L=this.aa=0,this.gd=l([4,2],wr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ut(w,A){return 0>w?0:w>A?A:w}function qr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ri(){var w=new Ar;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,tr||(tr=yr)),w}function ar(w,A,D){return w.a==0&&(w.a=A,w.sc=D,w.cb=0),0}function Sa(w,A,D){return 3<=D&&w[A+0]==157&&w[A+1]==1&&w[A+2]==42}function Ea(w,A){if(w==null)return 0;if(w.a=0,w.sc="OK",A==null)return ar(w,2,"null VP8Io passed to VP8GetHeaders()");var D=A.data,z=A.w,ee=A.ha;if(4>ee)return ar(w,7,"Truncated header.");var ie=D[z+0]|D[z+1]<<8|D[z+2]<<16,le=w.Od;if(le.Rb=!(1&ie),le.td=ie>>1&7,le.yd=ie>>4&1,le.ub=ie>>5,3<le.td)return ar(w,3,"Incorrect keyframe parameters.");if(!le.yd)return ar(w,4,"Frame not displayable.");z+=3,ee-=3;var ge=w.Kc;if(le.Rb){if(7>ee)return ar(w,7,"cannot parse picture header");if(!Sa(D,z,ee))return ar(w,3,"Bad code word");ge.c=16383&(D[z+4]<<8|D[z+3]),ge.Td=D[z+4]>>6,ge.i=16383&(D[z+6]<<8|D[z+5]),ge.Ud=D[z+6]>>6,z+=7,ee-=7,w.za=ge.c+15>>4,w.Ub=ge.i+15>>4,A.width=ge.c,A.height=ge.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,i((ie=w.Pa).jb,0,255,ie.jb.length),e((ie=w.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,i(ie.Zb,0,0,ie.Zb.length),i(ie.Lb,0,0,ie.Lb)}if(le.ub>ee)return ar(w,7,"bad partition length");oe(ie=w.m,D,z,le.ub),z+=le.ub,ee-=le.ub,le.Rb&&(ge.Ld=Re(ie),ge.Kd=Re(ie)),ge=w.Qa;var ye,Te=w.Pa;if(e(ie!=null),e(ge!=null),ge.Cb=Re(ie),ge.Cb){if(ge.Bb=Re(ie),Re(ie)){for(ge.Fb=Re(ie),ye=0;4>ye;++ye)ge.Zb[ye]=Re(ie)?_e(ie,7):0;for(ye=0;4>ye;++ye)ge.Lb[ye]=Re(ie)?_e(ie,6):0}if(ge.Bb)for(ye=0;3>ye;++ye)Te.jb[ye]=Re(ie)?be(ie,8):255}else ge.Bb=0;if(ie.Ka)return ar(w,3,"cannot parse segment header");if((ge=w.ed).zd=Re(ie),ge.Tb=be(ie,6),ge.wb=be(ie,3),ge.Pc=Re(ie),ge.Pc&&Re(ie)){for(Te=0;4>Te;++Te)Re(ie)&&(ge.vd[Te]=_e(ie,6));for(Te=0;4>Te;++Te)Re(ie)&&(ge.od[Te]=_e(ie,6))}if(w.L=ge.Tb==0?0:ge.zd?1:2,ie.Ka)return ar(w,3,"cannot parse filter header");var je=ee;if(ee=ye=z,z=ye+je,ge=je,w.Xb=(1<<be(w.m,2))-1,je<3*(Te=w.Xb))D=7;else{for(ye+=3*Te,ge-=3*Te,je=0;je<Te;++je){var Je=D[ee+0]|D[ee+1]<<8|D[ee+2]<<16;Je>ge&&(Je=ge),oe(w.Jc[+je],D,ye,Je),ye+=Je,ge-=Je,ee+=3}oe(w.Jc[+Te],D,ye,ge),D=ye<z?0:5}if(D!=0)return ar(w,D,"cannot parse partitions");for(D=be(ye=w.m,7),ee=Re(ye)?_e(ye,4):0,z=Re(ye)?_e(ye,4):0,ge=Re(ye)?_e(ye,4):0,Te=Re(ye)?_e(ye,4):0,ye=Re(ye)?_e(ye,4):0,je=w.Qa,Je=0;4>Je;++Je){if(je.Cb){var Ee=je.Zb[Je];je.Fb||(Ee+=D)}else{if(0<Je){w.pb[Je]=w.pb[0];continue}Ee=D}var He=w.pb[Je];He.Sc[0]=pt[Ut(Ee+ee,127)],He.Sc[1]=kt[Ut(Ee+0,127)],He.Eb[0]=2*pt[Ut(Ee+z,127)],He.Eb[1]=101581*kt[Ut(Ee+ge,127)]>>16,8>He.Eb[1]&&(He.Eb[1]=8),He.Qc[0]=pt[Ut(Ee+Te,117)],He.Qc[1]=kt[Ut(Ee+ye,127)],He.lc=Ee+ye}if(!le.Rb)return ar(w,4,"Not a key frame.");for(Re(ie),le=w.Pa,D=0;4>D;++D){for(ee=0;8>ee;++ee)for(z=0;3>z;++z)for(ge=0;11>ge;++ge)Te=Ie(ie,mn[D][ee][z][ge])?be(ie,8):os[D][ee][z][ge],le.Wc[D][ee].Yb[z][ge]=Te;for(ee=0;17>ee;++ee)le.Xc[D][ee]=le.Wc[D][Zr[ee]]}return w.kc=Re(ie),w.kc&&(w.Bd=be(ie,8)),w.cb=1}function yr(w,A,D,z,ee,ie,le){var ge=A[ee].Yb[D];for(D=0;16>ee;++ee){if(!Ie(w,ge[D+0]))return ee;for(;!Ie(w,ge[D+1]);)if(ge=A[++ee].Yb[0],D=0,ee==16)return 16;var ye=A[ee+1].Yb;if(Ie(w,ge[D+2])){var Te=w,je=0;if(Ie(Te,(Ee=ge)[(Je=D)+3]))if(Ie(Te,Ee[Je+6])){for(ge=0,Je=2*(je=Ie(Te,Ee[Je+8]))+(Ee=Ie(Te,Ee[Je+9+je])),je=0,Ee=Ur[Je];Ee[ge];++ge)je+=je+Ie(Te,Ee[ge]);je+=3+(8<<Je)}else Ie(Te,Ee[Je+7])?(je=7+2*Ie(Te,165),je+=Ie(Te,145)):je=5+Ie(Te,159);else je=Ie(Te,Ee[Je+4])?3+Ie(Te,Ee[Je+5]):2;ge=ye[2]}else je=1,ge=ye[1];ye=le+aa[ee],0>(Te=w).b&&Oe(Te);var Je,Ee=Te.b,He=(Je=Te.Ca>>1)-(Te.I>>Ee)>>31;--Te.b,Te.Ca+=He,Te.Ca|=1,Te.I-=(Je+1&He)<<Ee,ie[ye]=((je^He)-He)*z[(0<ee)+0]}return 16}function Dn(w){var A=w.rb[w.sb-1];A.la=0,A.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function ea(w,A,D,z,ee){ee=w[A+D+32*z]+(ee>>3),w[A+D+32*z]=-256&ee?0>ee?0:255:ee}function ni(w,A,D,z,ee,ie){ea(w,A,0,D,z+ee),ea(w,A,1,D,z+ie),ea(w,A,2,D,z-ie),ea(w,A,3,D,z-ee)}function un(w){return(20091*w>>16)+w}function eu(w,A,D,z){var ee,ie=0,le=a(16);for(ee=0;4>ee;++ee){var ge=w[A+0]+w[A+8],ye=w[A+0]-w[A+8],Te=(35468*w[A+4]>>16)-un(w[A+12]),je=un(w[A+4])+(35468*w[A+12]>>16);le[ie+0]=ge+je,le[ie+1]=ye+Te,le[ie+2]=ye-Te,le[ie+3]=ge-je,ie+=4,A++}for(ee=ie=0;4>ee;++ee)ge=(w=le[ie+0]+4)+le[ie+8],ye=w-le[ie+8],Te=(35468*le[ie+4]>>16)-un(le[ie+12]),ea(D,z,0,0,ge+(je=un(le[ie+4])+(35468*le[ie+12]>>16))),ea(D,z,1,0,ye+Te),ea(D,z,2,0,ye-Te),ea(D,z,3,0,ge-je),ie++,z+=32}function El(w,A,D,z){var ee=w[A+0]+4,ie=35468*w[A+4]>>16,le=un(w[A+4]),ge=35468*w[A+1]>>16;ni(D,z,0,ee+le,w=un(w[A+1]),ge),ni(D,z,1,ee+ie,w,ge),ni(D,z,2,ee-ie,w,ge),ni(D,z,3,ee-le,w,ge)}function Us(w,A,D,z,ee){eu(w,A,D,z),ee&&eu(w,A+16,D,z+4)}function Kr(w,A,D,z){lo(w,A+0,D,z,1),lo(w,A+32,D,z+128,1)}function zs(w,A,D,z){var ee;for(w=w[A+0]+4,ee=0;4>ee;++ee)for(A=0;4>A;++A)ea(D,z,A,ee,w)}function No(w,A,D,z){w[A+0]&&cn(w,A+0,D,z),w[A+16]&&cn(w,A+16,D,z+4),w[A+32]&&cn(w,A+32,D,z+128),w[A+48]&&cn(w,A+48,D,z+128+4)}function Ta(w,A,D,z){var ee,ie=a(16);for(ee=0;4>ee;++ee){var le=w[A+0+ee]+w[A+12+ee],ge=w[A+4+ee]+w[A+8+ee],ye=w[A+4+ee]-w[A+8+ee],Te=w[A+0+ee]-w[A+12+ee];ie[0+ee]=le+ge,ie[8+ee]=le-ge,ie[4+ee]=Te+ye,ie[12+ee]=Te-ye}for(ee=0;4>ee;++ee)le=(w=ie[0+4*ee]+3)+ie[3+4*ee],ge=ie[1+4*ee]+ie[2+4*ee],ye=ie[1+4*ee]-ie[2+4*ee],Te=w-ie[3+4*ee],D[z+0]=le+ge>>3,D[z+16]=Te+ye>>3,D[z+32]=le-ge>>3,D[z+48]=Te-ye>>3,z+=64}function Co(w,A,D){var z,ee=A-32,ie=na,le=255-w[ee-1];for(z=0;z<D;++z){var ge,ye=ie,Te=le+w[A-1];for(ge=0;ge<D;++ge)w[A+ge]=ye[Te+w[ee+ge]];A+=32}}function tl(w,A){Co(w,A,4)}function tu(w,A){Co(w,A,8)}function Tl(w,A){Co(w,A,16)}function rl(w,A){var D;for(D=0;16>D;++D)n(w,A+32*D,w,A-32,16)}function ru(w,A){var D;for(D=16;0<D;--D)i(w,A,w[A-1],16),A+=32}function fa(w,A,D){var z;for(z=0;16>z;++z)i(A,D+32*z,w,16)}function Ba(w,A){var D,z=16;for(D=0;16>D;++D)z+=w[A-1+32*D]+w[A+D-32];fa(z>>5,w,A)}function eo(w,A){var D,z=8;for(D=0;16>D;++D)z+=w[A-1+32*D];fa(z>>4,w,A)}function Mo(w,A){var D,z=8;for(D=0;16>D;++D)z+=w[A+D-32];fa(z>>4,w,A)}function nl(w,A){fa(128,w,A)}function Ct(w,A,D){return w+2*A+D+2>>2}function Xa(w,A){var D,z=A-32;for(z=new Uint8Array([Ct(w[z-1],w[z+0],w[z+1]),Ct(w[z+0],w[z+1],w[z+2]),Ct(w[z+1],w[z+2],w[z+3]),Ct(w[z+2],w[z+3],w[z+4])]),D=0;4>D;++D)n(w,A+32*D,z,0,z.length)}function dn(w,A){var D=w[A-1],z=w[A-1+32],ee=w[A-1+64],ie=w[A-1+96];ot(w,A+0,16843009*Ct(w[A-1-32],D,z)),ot(w,A+32,16843009*Ct(D,z,ee)),ot(w,A+64,16843009*Ct(z,ee,ie)),ot(w,A+96,16843009*Ct(ee,ie,ie))}function ju(w,A){var D,z=4;for(D=0;4>D;++D)z+=w[A+D-32]+w[A-1+32*D];for(z>>=3,D=0;4>D;++D)i(w,A+32*D,z,4)}function Aa(w,A){var D=w[A-1+0],z=w[A-1+32],ee=w[A-1+64],ie=w[A-1-32],le=w[A+0-32],ge=w[A+1-32],ye=w[A+2-32],Te=w[A+3-32];w[A+0+96]=Ct(z,ee,w[A-1+96]),w[A+1+96]=w[A+0+64]=Ct(D,z,ee),w[A+2+96]=w[A+1+64]=w[A+0+32]=Ct(ie,D,z),w[A+3+96]=w[A+2+64]=w[A+1+32]=w[A+0+0]=Ct(le,ie,D),w[A+3+64]=w[A+2+32]=w[A+1+0]=Ct(ge,le,ie),w[A+3+32]=w[A+2+0]=Ct(ye,ge,le),w[A+3+0]=Ct(Te,ye,ge)}function Mi(w,A){var D=w[A+1-32],z=w[A+2-32],ee=w[A+3-32],ie=w[A+4-32],le=w[A+5-32],ge=w[A+6-32],ye=w[A+7-32];w[A+0+0]=Ct(w[A+0-32],D,z),w[A+1+0]=w[A+0+32]=Ct(D,z,ee),w[A+2+0]=w[A+1+32]=w[A+0+64]=Ct(z,ee,ie),w[A+3+0]=w[A+2+32]=w[A+1+64]=w[A+0+96]=Ct(ee,ie,le),w[A+3+32]=w[A+2+64]=w[A+1+96]=Ct(ie,le,ge),w[A+3+64]=w[A+2+96]=Ct(le,ge,ye),w[A+3+96]=Ct(ge,ye,ye)}function Al(w,A){var D=w[A-1+0],z=w[A-1+32],ee=w[A-1+64],ie=w[A-1-32],le=w[A+0-32],ge=w[A+1-32],ye=w[A+2-32],Te=w[A+3-32];w[A+0+0]=w[A+1+64]=ie+le+1>>1,w[A+1+0]=w[A+2+64]=le+ge+1>>1,w[A+2+0]=w[A+3+64]=ge+ye+1>>1,w[A+3+0]=ye+Te+1>>1,w[A+0+96]=Ct(ee,z,D),w[A+0+64]=Ct(z,D,ie),w[A+0+32]=w[A+1+96]=Ct(D,ie,le),w[A+1+32]=w[A+2+96]=Ct(ie,le,ge),w[A+2+32]=w[A+3+96]=Ct(le,ge,ye),w[A+3+32]=Ct(ge,ye,Te)}function Ja(w,A){var D=w[A+0-32],z=w[A+1-32],ee=w[A+2-32],ie=w[A+3-32],le=w[A+4-32],ge=w[A+5-32],ye=w[A+6-32],Te=w[A+7-32];w[A+0+0]=D+z+1>>1,w[A+1+0]=w[A+0+64]=z+ee+1>>1,w[A+2+0]=w[A+1+64]=ee+ie+1>>1,w[A+3+0]=w[A+2+64]=ie+le+1>>1,w[A+0+32]=Ct(D,z,ee),w[A+1+32]=w[A+0+96]=Ct(z,ee,ie),w[A+2+32]=w[A+1+96]=Ct(ee,ie,le),w[A+3+32]=w[A+2+96]=Ct(ie,le,ge),w[A+3+64]=Ct(le,ge,ye),w[A+3+96]=Ct(ge,ye,Te)}function La(w,A){var D=w[A-1+0],z=w[A-1+32],ee=w[A-1+64],ie=w[A-1+96];w[A+0+0]=D+z+1>>1,w[A+2+0]=w[A+0+32]=z+ee+1>>1,w[A+2+32]=w[A+0+64]=ee+ie+1>>1,w[A+1+0]=Ct(D,z,ee),w[A+3+0]=w[A+1+32]=Ct(z,ee,ie),w[A+3+32]=w[A+1+64]=Ct(ee,ie,ie),w[A+3+64]=w[A+2+64]=w[A+0+96]=w[A+1+96]=w[A+2+96]=w[A+3+96]=ie}function Gs(w,A){var D=w[A-1+0],z=w[A-1+32],ee=w[A-1+64],ie=w[A-1+96],le=w[A-1-32],ge=w[A+0-32],ye=w[A+1-32],Te=w[A+2-32];w[A+0+0]=w[A+2+32]=D+le+1>>1,w[A+0+32]=w[A+2+64]=z+D+1>>1,w[A+0+64]=w[A+2+96]=ee+z+1>>1,w[A+0+96]=ie+ee+1>>1,w[A+3+0]=Ct(ge,ye,Te),w[A+2+0]=Ct(le,ge,ye),w[A+1+0]=w[A+3+32]=Ct(D,le,ge),w[A+1+32]=w[A+3+64]=Ct(z,D,le),w[A+1+64]=w[A+3+96]=Ct(ee,z,D),w[A+1+96]=Ct(ie,ee,z)}function Mn(w,A){var D;for(D=0;8>D;++D)n(w,A+32*D,w,A-32,8)}function to(w,A){var D;for(D=0;8>D;++D)i(w,A,w[A-1],8),A+=32}function Qa(w,A,D){var z;for(z=0;8>z;++z)i(A,D+32*z,w,8)}function Ll(w,A){var D,z=8;for(D=0;8>D;++D)z+=w[A+D-32]+w[A-1+32*D];Qa(z>>4,w,A)}function nu(w,A){var D,z=4;for(D=0;8>D;++D)z+=w[A+D-32];Qa(z>>3,w,A)}function ki(w,A){var D,z=4;for(D=0;8>D;++D)z+=w[A-1+32*D];Qa(z>>3,w,A)}function xs(w,A){Qa(128,w,A)}function ws(w,A,D){var z=w[A-D],ee=w[A+0],ie=3*(ee-z)+Ls[1020+w[A-2*D]-w[A+D]],le=Uo[112+(ie+4>>3)];w[A-D]=na[255+z+Uo[112+(ie+3>>3)]],w[A+0]=na[255+ee-le]}function ro(w,A,D,z){var ee=w[A+0],ie=w[A+D];return Bi[255+w[A-2*D]-w[A-D]]>z||Bi[255+ie-ee]>z}function Br(w,A,D,z){return 4*Bi[255+w[A-D]-w[A+0]]+Bi[255+w[A-2*D]-w[A+D]]<=z}function Nl(w,A,D,z,ee){var ie=w[A-3*D],le=w[A-2*D],ge=w[A-D],ye=w[A+0],Te=w[A+D],je=w[A+2*D],Je=w[A+3*D];return 4*Bi[255+ge-ye]+Bi[255+le-Te]>z?0:Bi[255+w[A-4*D]-ie]<=ee&&Bi[255+ie-le]<=ee&&Bi[255+le-ge]<=ee&&Bi[255+Je-je]<=ee&&Bi[255+je-Te]<=ee&&Bi[255+Te-ye]<=ee}function Pi(w,A,D,z){var ee=2*z+1;for(z=0;16>z;++z)Br(w,A+z,D,ee)&&ws(w,A+z,D)}function es(w,A,D,z){var ee=2*z+1;for(z=0;16>z;++z)Br(w,A+z*D,1,ee)&&ws(w,A+z*D,1)}function il(w,A,D,z){var ee;for(ee=3;0<ee;--ee)Pi(w,A+=4*D,D,z)}function Iu(w,A,D,z){var ee;for(ee=3;0<ee;--ee)es(w,A+=4,D,z)}function Hs(w,A,D,z,ee,ie,le,ge){for(ie=2*ie+1;0<ee--;){if(Nl(w,A,D,ie,le))if(ro(w,A,D,ge))ws(w,A,D);else{var ye=w,Te=A,je=D,Je=ye[Te-2*je],Ee=ye[Te-je],He=ye[Te+0],Ke=ye[Te+je],lt=ye[Te+2*je],Xe=27*(ft=Ls[1020+3*(He-Ee)+Ls[1020+Je-Ke]])+63>>7,st=18*ft+63>>7,ft=9*ft+63>>7;ye[Te-3*je]=na[255+ye[Te-3*je]+ft],ye[Te-2*je]=na[255+Je+st],ye[Te-je]=na[255+Ee+Xe],ye[Te+0]=na[255+He-Xe],ye[Te+je]=na[255+Ke-st],ye[Te+2*je]=na[255+lt-ft]}A+=z}}function ko(w,A,D,z,ee,ie,le,ge){for(ie=2*ie+1;0<ee--;){if(Nl(w,A,D,ie,le))if(ro(w,A,D,ge))ws(w,A,D);else{var ye=w,Te=A,je=D,Je=ye[Te-je],Ee=ye[Te+0],He=ye[Te+je],Ke=Uo[112+(4+(lt=3*(Ee-Je))>>3)],lt=Uo[112+(lt+3>>3)],Xe=Ke+1>>1;ye[Te-2*je]=na[255+ye[Te-2*je]+Xe],ye[Te-je]=na[255+Je+lt],ye[Te+0]=na[255+Ee-Ke],ye[Te+je]=na[255+He-Xe]}A+=z}}function Fu(w,A,D,z,ee,ie){Hs(w,A,D,1,16,z,ee,ie)}function Po(w,A,D,z,ee,ie){Hs(w,A,1,D,16,z,ee,ie)}function vc(w,A,D,z,ee,ie){var le;for(le=3;0<le;--le)ko(w,A+=4*D,D,1,16,z,ee,ie)}function k(w,A,D,z,ee,ie){var le;for(le=3;0<le;--le)ko(w,A+=4,1,D,16,z,ee,ie)}function J(w,A,D,z,ee,ie,le,ge){Hs(w,A,ee,1,8,ie,le,ge),Hs(D,z,ee,1,8,ie,le,ge)}function Se(w,A,D,z,ee,ie,le,ge){Hs(w,A,1,ee,8,ie,le,ge),Hs(D,z,1,ee,8,ie,le,ge)}function De(w,A,D,z,ee,ie,le,ge){ko(w,A+4*ee,ee,1,8,ie,le,ge),ko(D,z+4*ee,ee,1,8,ie,le,ge)}function Ve(w,A,D,z,ee,ie,le,ge){ko(w,A+4,1,ee,8,ie,le,ge),ko(D,z+4,1,ee,8,ie,le,ge)}function at(){this.ba=new xr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function St(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function er(){this.ua=0,this.Wa=new xt,this.vb=new xt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new ce}function br(){this.xb=this.a=0,this.l=new qr,this.ca=new xr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new er,this.ab=0,this.gc=s(4,$t),this.Oc=0}function kr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xr(w,A,D,z,ee,ie,le){for(w=w==null?0:w[A+0],A=0;A<le;++A)ee[ie+A]=w+D[z+A]&255,w=ee[ie+A]}function Jn(w,A,D,z,ee,ie,le){var ge;if(w==null)Xr(null,null,D,z,ee,ie,le);else for(ge=0;ge<le;++ge)ee[ie+ge]=w[A+ge]+D[z+ge]&255}function ui(w,A,D,z,ee,ie,le){if(w==null)Xr(null,null,D,z,ee,ie,le);else{var ge,ye=w[A+0],Te=ye,je=ye;for(ge=0;ge<le;++ge)Te=je+(ye=w[A+ge])-Te,je=D[z+ge]+(-256&Te?0>Te?0:255:Te)&255,Te=ye,ee[ie+ge]=je}}function wn(w,A,D,z){var ee=A.width,ie=A.o;if(e(w!=null&&A!=null),0>D||0>=z||D+z>ie)return null;if(!w.Cc){if(w.ga==null){var le;if(w.ga=new kr,(le=w.ga==null)||(le=A.width*A.o,e(w.Gb.length==0),w.Gb=a(le),w.Uc=0,w.Gb==null?le=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,le=1),le=!le),!le){le=w.ga;var ge=w.Fa,ye=w.P,Te=w.qc,je=w.mb,Je=w.nb,Ee=ye+1,He=Te-1,Ke=le.l;if(e(ge!=null&&je!=null&&A!=null),bn[0]=null,bn[1]=Xr,bn[2]=Jn,bn[3]=ui,le.ca=je,le.tb=Je,le.c=A.width,le.i=A.height,e(0<le.c&&0<le.i),1>=Te)A=0;else if(le.$a=3&ge[ye+0],le.Z=ge[ye+0]>>2&3,le.Lc=ge[ye+0]>>4&3,ye=ge[ye+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||ye)A=0;else if(Ke.put=Qt,Ke.ac=Ni,Ke.bc=Ka,Ke.ma=le,Ke.width=A.width,Ke.height=A.height,Ke.Da=A.Da,Ke.v=A.v,Ke.va=A.va,Ke.j=A.j,Ke.o=A.o,le.$a)e:{e(le.$a==1),A=Be();t:for(;;){if(A==null){A=0;break e}if(e(le!=null),le.mc=A,A.c=le.c,A.i=le.i,A.l=le.l,A.l.ma=le,A.l.width=le.c,A.l.height=le.i,A.a=0,Le(A.m,ge,Ee,He),!Ue(le.c,le.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&ne(A.s)?(le.ic=1,ge=A.c*A.i,A.Ta=null,A.Ua=0,A.V=a(ge),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(le.ic=0,A=$e(A,le.c)),!A))break t;A=1;break e}le.mc=null,A=0}else A=He>=le.c*le.i;le=!A}if(le)return null;w.ga.Lc!=1?w.Ga=0:z=ie-D}e(w.ga!=null),e(D+z<=ie);e:{if(A=(ge=w.ga).c,ie=ge.l.o,ge.$a==0){if(Ee=w.rc,He=w.Vc,Ke=w.Fa,ye=w.P+1+D*A,Te=w.mb,je=w.nb+D*A,e(ye<=w.P+w.qc),ge.Z!=0)for(e(bn[ge.Z]!=null),le=0;le<z;++le)bn[ge.Z](Ee,He,Ke,ye,Te,je,A),Ee=Te,He=je,je+=A,ye+=A;else for(le=0;le<z;++le)n(Te,je,Ke,ye,A),Ee=Te,He=je,je+=A,ye+=A;w.rc=Ee,w.Vc=He}else{if(e(ge.mc!=null),A=D+z,e((le=ge.mc)!=null),e(A<=le.i),le.C>=A)A=1;else if(ge.ic||ta(),ge.ic){ge=le.V,Ee=le.Ba,He=le.c;var lt=le.i,Xe=(Ke=1,ye=le.$/He,Te=le.$%He,je=le.m,Je=le.s,le.$),st=He*lt,ft=He*A,Lt=Je.wc,_t=Xe<ft?Y(Je,Te,ye):null;e(Xe<=st),e(A<=lt),e(ne(Je));t:for(;;){for(;!je.h&&Xe<ft;){if(Te&Lt||(_t=Y(Je,Te,ye)),e(_t!=null),Ae(je),256>(lt=qe(_t.G[0],_t.H[0],je)))ge[Ee+Xe]=lt,++Xe,++Te>=He&&(Te=0,++ye<=A&&!(ye%16)&&ve(le,ye));else{if(!(280>lt)){Ke=0;break t}lt=Ce(lt-256,je);var nr,Ht=qe(_t.G[4],_t.H[4],je);if(Ae(je),!(Xe>=(Ht=Ge(He,Ht=Ce(Ht,je)))&&st-Xe>=lt)){Ke=0;break t}for(nr=0;nr<lt;++nr)ge[Ee+Xe+nr]=ge[Ee+Xe+nr-Ht];for(Xe+=lt,Te+=lt;Te>=He;)Te-=He,++ye<=A&&!(ye%16)&&ve(le,ye);Xe<ft&&Te&Lt&&(_t=Y(Je,Te,ye))}e(je.h==Z(je))}ve(le,ye>A?A:ye);break t}!Ke||je.h&&Xe<st?(Ke=0,le.a=je.h?5:3):le.$=Xe,A=Ke}else A=Pe(le,le.V,le.Ba,le.c,le.i,A,ht);if(!A){z=0;break e}}D+z>=ie&&(w.Cc=1),z=1}if(!z)return null;if(w.Cc&&((z=w.ga)!=null&&(z.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+D*ee}function Oi(w,A,D,z,ee,ie){for(;0<ee--;){var le,ge=w,ye=A+(D?1:0),Te=w,je=A+(D?0:3);for(le=0;le<z;++le){var Je=Te[je+4*le];Je!=255&&(Je*=32897,ge[ye+4*le+0]=ge[ye+4*le+0]*Je>>23,ge[ye+4*le+1]=ge[ye+4*le+1]*Je>>23,ge[ye+4*le+2]=ge[ye+4*le+2]*Je>>23)}A+=ie}}function ci(w,A,D,z,ee){for(;0<z--;){var ie;for(ie=0;ie<D;++ie){var le=w[A+2*ie+0],ge=15&(Te=w[A+2*ie+1]),ye=4369*ge,Te=(240&Te|Te>>4)*ye>>16;w[A+2*ie+0]=(240&le|le>>4)*ye>>16&240|(15&le|le<<4)*ye>>16>>4&15,w[A+2*ie+1]=240&Te|ge}A+=ee}}function Ii(w,A,D,z,ee,ie,le,ge){var ye,Te,je=255;for(Te=0;Te<ee;++Te){for(ye=0;ye<z;++ye){var Je=w[A+ye];ie[le+4*ye]=Je,je&=Je}A+=D,le+=ge}return je!=255}function bs(w,A,D,z,ee){var ie;for(ie=0;ie<ee;++ie)D[z+ie]=w[A+ie]>>8}function ta(){As=Oi,is=ci,ou=Ii,as=bs}function Oo(w,A,D){U[w]=function(z,ee,ie,le,ge,ye,Te,je,Je,Ee,He,Ke,lt,Xe,st,ft,Lt){var _t,nr=Lt-1>>1,Ht=ge[ye+0]|Te[je+0]<<16,Pr=Je[Ee+0]|He[Ke+0]<<16;e(z!=null);var Kt=3*Ht+Pr+131074>>2;for(A(z[ee+0],255&Kt,Kt>>16,lt,Xe),ie!=null&&(Kt=3*Pr+Ht+131074>>2,A(ie[le+0],255&Kt,Kt>>16,st,ft)),_t=1;_t<=nr;++_t){var Qr=ge[ye+_t]|Te[je+_t]<<16,Qn=Je[Ee+_t]|He[Ke+_t]<<16,jr=Ht+Qr+Pr+Qn+524296,qt=jr+2*(Qr+Pr)>>3;Kt=qt+Ht>>1,Ht=(jr=jr+2*(Ht+Qn)>>3)+Qr>>1,A(z[ee+2*_t-1],255&Kt,Kt>>16,lt,Xe+(2*_t-1)*D),A(z[ee+2*_t-0],255&Ht,Ht>>16,lt,Xe+(2*_t-0)*D),ie!=null&&(Kt=jr+Pr>>1,Ht=qt+Qn>>1,A(ie[le+2*_t-1],255&Kt,Kt>>16,st,ft+(2*_t-1)*D),A(ie[le+2*_t+0],255&Ht,Ht>>16,st,ft+(2*_t+0)*D)),Ht=Qr,Pr=Qn}1&Lt||(Kt=3*Ht+Pr+131074>>2,A(z[ee+Lt-1],255&Kt,Kt>>16,lt,Xe+(Lt-1)*D),ie!=null&&(Kt=3*Pr+Ht+131074>>2,A(ie[le+Lt-1],255&Kt,Kt>>16,st,ft+(Lt-1)*D)))}}function Ro(){bi[yc]=Ol,bi[ia]=fu,bi[zu]=ch,bi[ss]=du,bi[uu]=zo,bi[Pl]=ho,bi[ll]=pu,bi[cu]=fu,bi[Gu]=du,bi[hu]=zo,bi[h]=ho}function ra(w){return w&-16384?0>w?0:255:w>>Qh}function qs(w,A){return ra((19077*w>>8)+(26149*A>>8)-14234)}function Ss(w,A,D){return ra((19077*w>>8)-(6419*A>>8)-(13320*D>>8)+8708)}function Cl(w,A){return ra((19077*w>>8)+(33050*A>>8)-17685)}function Vs(w,A,D,z,ee){z[ee+0]=qs(w,D),z[ee+1]=Ss(w,A,D),z[ee+2]=Cl(w,A)}function yi(w,A,D,z,ee){z[ee+0]=Cl(w,A),z[ee+1]=Ss(w,A,D),z[ee+2]=qs(w,D)}function al(w,A,D,z,ee){var ie=Ss(w,A,D);A=ie<<3&224|Cl(w,A)>>3,z[ee+0]=248&qs(w,D)|ie>>5,z[ee+1]=A}function sl(w,A,D,z,ee){var ie=240&Cl(w,A)|15;z[ee+0]=240&qs(w,D)|Ss(w,A,D)>>4,z[ee+1]=ie}function Ml(w,A,D,z,ee){z[ee+0]=255,Vs(w,A,D,z,ee+1)}function no(w,A,D,z,ee){yi(w,A,D,z,ee),z[ee+3]=255}function jn(w,A,D,z,ee){Vs(w,A,D,z,ee),z[ee+3]=255}function Ua(w,A,D){U[w]=function(z,ee,ie,le,ge,ye,Te,je,Je){for(var Ee=je+(-2&Je)*D;je!=Ee;)A(z[ee+0],ie[le+0],ge[ye+0],Te,je),A(z[ee+1],ie[le+0],ge[ye+0],Te,je+D),ee+=2,++le,++ye,je+=2*D;1&Je&&A(z[ee+0],ie[le+0],ge[ye+0],Te,je)}}function iu(w,A,D){return D==0?w==0?A==0?6:5:A==0?4:0:D}function ts(w,A,D,z,ee){switch(w>>>30){case 3:lo(A,D,z,ee,0);break;case 2:pa(A,D,z,ee);break;case 1:cn(A,D,z,ee)}}function rs(w,A){var D,z,ee=A.M,ie=A.Nb,le=w.oc,ge=w.pc+40,ye=w.oc,Te=w.pc+584,je=w.oc,Je=w.pc+600;for(D=0;16>D;++D)le[ge+32*D-1]=129;for(D=0;8>D;++D)ye[Te+32*D-1]=129,je[Je+32*D-1]=129;for(0<ee?le[ge-1-32]=ye[Te-1-32]=je[Je-1-32]=129:(i(le,ge-32-1,127,21),i(ye,Te-32-1,127,9),i(je,Je-32-1,127,9)),z=0;z<w.za;++z){var Ee=A.ya[A.aa+z];if(0<z){for(D=-1;16>D;++D)n(le,ge+32*D-4,le,ge+32*D+12,4);for(D=-1;8>D;++D)n(ye,Te+32*D-4,ye,Te+32*D+4,4),n(je,Je+32*D-4,je,Je+32*D+4,4)}var He=w.Gd,Ke=w.Hd+z,lt=Ee.ad,Xe=Ee.Hc;if(0<ee&&(n(le,ge-32,He[Ke].y,0,16),n(ye,Te-32,He[Ke].f,0,8),n(je,Je-32,He[Ke].ea,0,8)),Ee.Za){var st=le,ft=ge-32+16;for(0<ee&&(z>=w.za-1?i(st,ft,He[Ke].y[15],4):n(st,ft,He[Ke+1].y,0,4)),D=0;4>D;D++)st[ft+128+D]=st[ft+256+D]=st[ft+384+D]=st[ft+0+D];for(D=0;16>D;++D,Xe<<=2)st=le,ft=ge+Ri[D],si[Ee.Ob[D]](st,ft),ts(Xe,lt,16*+D,st,ft)}else if(st=iu(z,ee,Ee.Ob[0]),Pa[st](le,ge),Xe!=0)for(D=0;16>D;++D,Xe<<=2)ts(Xe,lt,16*+D,le,ge+Ri[D]);for(D=Ee.Gc,st=iu(z,ee,Ee.Dd),Ns[st](ye,Te),Ns[st](je,Je),Xe=lt,st=ye,ft=Te,255&(Ee=0|D)&&(170&Ee?Ma(Xe,256,st,ft):Jr(Xe,256,st,ft)),Ee=je,Xe=Je,255&(D>>=8)&&(170&D?Ma(lt,320,Ee,Xe):Jr(lt,320,Ee,Xe)),ee<w.Ub-1&&(n(He[Ke].y,0,le,ge+480,16),n(He[Ke].f,0,ye,Te+224,8),n(He[Ke].ea,0,je,Je+224,8)),D=8*ie*w.B,He=w.sa,Ke=w.ta+16*z+16*ie*w.R,lt=w.qa,Ee=w.ra+8*z+D,Xe=w.Ha,st=w.Ia+8*z+D,D=0;16>D;++D)n(He,Ke+D*w.R,le,ge+32*D,16);for(D=0;8>D;++D)n(lt,Ee+D*w.B,ye,Te+32*D,8),n(Xe,st+D*w.B,je,Je+32*D,8)}}function da(w,A,D,z,ee,ie,le,ge,ye){var Te=[0],je=[0],Je=0,Ee=ye!=null?ye.kd:0,He=ye??new St;if(w==null||12>D)return 7;He.data=w,He.w=A,He.ha=D,A=[A],D=[D],He.gb=[He.gb];e:{var Ke=A,lt=D,Xe=He.gb;if(e(w!=null),e(lt!=null),e(Xe!=null),Xe[0]=0,12<=lt[0]&&!r(w,Ke[0],"RIFF")){if(r(w,Ke[0]+8,"WEBP")){Xe=3;break e}var st=Nt(w,Ke[0]+4);if(12>st||4294967286<st){Xe=3;break e}if(Ee&&st>lt[0]-8){Xe=7;break e}Xe[0]=st,Ke[0]+=12,lt[0]-=12}Xe=0}if(Xe!=0)return Xe;for(st=0<He.gb[0],D=D[0];;){e:{var ft=w;lt=A,Xe=D;var Lt=Te,_t=je,nr=Ke=[0];if((Kt=Je=[Je])[0]=0,8>Xe[0])Xe=7;else{if(!r(ft,lt[0],"VP8X")){if(Nt(ft,lt[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var Ht=Nt(ft,lt[0]+8),Pr=1+Tt(ft,lt[0]+12);if(2147483648<=Pr*(ft=1+Tt(ft,lt[0]+15))){Xe=3;break e}nr!=null&&(nr[0]=Ht),Lt!=null&&(Lt[0]=Pr),_t!=null&&(_t[0]=ft),lt[0]+=18,Xe[0]-=18,Kt[0]=1}Xe=0}}if(Je=Je[0],Ke=Ke[0],Xe!=0)return Xe;if(lt=!!(2&Ke),!st&&Je)return 3;if(ie!=null&&(ie[0]=!!(16&Ke)),le!=null&&(le[0]=lt),ge!=null&&(ge[0]=0),le=Te[0],Ke=je[0],Je&&lt&&ye==null){Xe=0;break}if(4>D){Xe=7;break}if(st&&Je||!st&&!Je&&!r(w,A[0],"ALPH")){D=[D],He.na=[He.na],He.P=[He.P],He.Sa=[He.Sa];e:{Ht=w,Xe=A,st=D;var Kt=He.gb;Lt=He.na,_t=He.P,nr=He.Sa,Pr=22,e(Ht!=null),e(st!=null),ft=Xe[0];var Qr=st[0];for(e(Lt!=null),e(nr!=null),Lt[0]=null,_t[0]=null,nr[0]=0;;){if(Xe[0]=ft,st[0]=Qr,8>Qr){Xe=7;break e}var Qn=Nt(Ht,ft+4);if(4294967286<Qn){Xe=3;break e}var jr=8+Qn+1&-2;if(Pr+=jr,0<Kt&&Pr>Kt){Xe=3;break e}if(!r(Ht,ft,"VP8 ")||!r(Ht,ft,"VP8L")){Xe=0;break e}if(Qr[0]<jr){Xe=7;break e}r(Ht,ft,"ALPH")||(Lt[0]=Ht,_t[0]=ft+8,nr[0]=Qn),ft+=jr,Qr-=jr}}if(D=D[0],He.na=He.na[0],He.P=He.P[0],He.Sa=He.Sa[0],Xe!=0)break}D=[D],He.Ja=[He.Ja],He.xa=[He.xa];e:if(Kt=w,Xe=A,st=D,Lt=He.gb[0],_t=He.Ja,nr=He.xa,Ht=Xe[0],ft=!r(Kt,Ht,"VP8 "),Pr=!r(Kt,Ht,"VP8L"),e(Kt!=null),e(st!=null),e(_t!=null),e(nr!=null),8>st[0])Xe=7;else{if(ft||Pr){if(Kt=Nt(Kt,Ht+4),12<=Lt&&Kt>Lt-12){Xe=3;break e}if(Ee&&Kt>st[0]-8){Xe=7;break e}_t[0]=Kt,Xe[0]+=8,st[0]-=8,nr[0]=Pr}else nr[0]=5<=st[0]&&Kt[Ht+0]==47&&!(Kt[Ht+4]>>5),_t[0]=st[0];Xe=0}if(D=D[0],He.Ja=He.Ja[0],He.xa=He.xa[0],A=A[0],Xe!=0)break;if(4294967286<He.Ja)return 3;if(ge==null||lt||(ge[0]=He.xa?2:1),le=[le],Ke=[Ke],He.xa){if(5>D){Xe=7;break}ge=le,Ee=Ke,lt=ie,w==null||5>D?w=0:5<=D&&w[A+0]==47&&!(w[A+4]>>5)?(st=[0],Kt=[0],Lt=[0],Le(_t=new H,w,A,D),Fa(_t,st,Kt,Lt)?(ge!=null&&(ge[0]=st[0]),Ee!=null&&(Ee[0]=Kt[0]),lt!=null&&(lt[0]=Lt[0]),w=1):w=0):w=0}else{if(10>D){Xe=7;break}ge=Ke,w==null||10>D||!Sa(w,A+3,D-3)?w=0:(Ee=w[A+0]|w[A+1]<<8|w[A+2]<<16,lt=16383&(w[A+7]<<8|w[A+6]),w=16383&(w[A+9]<<8|w[A+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=He.Ja||!lt||!w?w=0:(le&&(le[0]=lt),ge&&(ge[0]=w),w=1))}if(!w||(le=le[0],Ke=Ke[0],Je&&(Te[0]!=le||je[0]!=Ke)))return 3;ye!=null&&(ye[0]=He,ye.offset=A-ye.w,e(4294967286>A-ye.w),e(ye.offset==ye.ha-D));break}return Xe==0||Xe==7&&Je&&ye==null?(ie!=null&&(ie[0]|=He.na!=null&&0<He.na.length),z!=null&&(z[0]=le),ee!=null&&(ee[0]=Ke),0):Xe}function Do(w,A,D){var z=A.width,ee=A.height,ie=0,le=0,ge=z,ye=ee;if(A.Da=w!=null&&0<w.Da,A.Da&&(ge=w.cd,ye=w.bd,ie=w.v,le=w.j,11>D||(ie&=-2,le&=-2),0>ie||0>le||0>=ge||0>=ye||ie+ge>z||le+ye>ee))return 0;if(A.v=ie,A.j=le,A.va=ie+ge,A.o=le+ye,A.U=ge,A.T=ye,A.da=w!=null&&0<w.da,A.da){if(!zt(ge,ye,D=[w.ib],ie=[w.hb]))return 0;A.ib=D[0],A.hb=ie[0]}return A.ob=w!=null&&w.ob,A.Kb=w==null||!w.Sd,A.da&&(A.ob=A.ib<3*z/4&&A.hb<3*ee/4,A.Kb=0),1}function jo(w){if(w==null)return 2;if(11>w.S){var A=w.f.RGBA;A.fb+=(w.height-1)*A.A,A.A=-A.A}else A=w.f.kb,w=w.height,A.O+=(w-1)*A.fa,A.fa=-A.fa,A.N+=(w-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(w-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(w-1)*A.lb,A.lb=-A.lb);return 0}function Es(w,A,D,z){if(z==null||0>=w||0>=A)return 2;if(D!=null){if(D.Da){var ee=D.cd,ie=D.bd,le=-2&D.v,ge=-2&D.j;if(0>le||0>ge||0>=ee||0>=ie||le+ee>w||ge+ie>A)return 2;w=ee,A=ie}if(D.da){if(!zt(w,A,ee=[D.ib],ie=[D.hb]))return 2;w=ee[0],A=ie[0]}}z.width=w,z.height=A;e:{var ye=z.width,Te=z.height;if(w=z.S,0>=ye||0>=Te||!(w>=yc&&13>w))w=2;else{if(0>=z.Rd&&z.sd==null){le=ie=ee=A=0;var je=(ge=ye*tf[w])*Te;if(11>w||(ie=(Te+1)/2*(A=(ye+1)/2),w==12&&(le=(ee=ye)*Te)),(Te=a(je+2*ie+le))==null){w=1;break e}z.sd=Te,11>w?((ye=z.f.RGBA).eb=Te,ye.fb=0,ye.A=ge,ye.size=je):((ye=z.f.kb).y=Te,ye.O=0,ye.fa=ge,ye.Fd=je,ye.f=Te,ye.N=0+je,ye.Ab=A,ye.Cd=ie,ye.ea=Te,ye.W=0+je+ie,ye.Db=A,ye.Ed=ie,w==12&&(ye.F=Te,ye.J=0+je+2*ie),ye.Tc=le,ye.lb=ee)}if(A=1,ee=z.S,ie=z.width,le=z.height,ee>=yc&&13>ee)if(11>ee)w=z.f.RGBA,A&=(ge=Math.abs(w.A))*(le-1)+ie<=w.size,A&=ge>=ie*tf[ee],A&=w.eb!=null;else{w=z.f.kb,ge=(ie+1)/2,je=(le+1)/2,ye=Math.abs(w.fa),Te=Math.abs(w.Ab);var Je=Math.abs(w.Db),Ee=Math.abs(w.lb),He=Ee*(le-1)+ie;A&=ye*(le-1)+ie<=w.Fd,A&=Te*(je-1)+ge<=w.Cd,A=(A&=Je*(je-1)+ge<=w.Ed)&ye>=ie&Te>=ge&Je>=ge,A&=w.y!=null,A&=w.f!=null,A&=w.ea!=null,ee==12&&(A&=Ee>=ie,A&=He<=w.Tc,A&=w.F!=null)}else A=0;w=A?0:2}}return w!=0||D!=null&&D.fd&&(w=jo(z)),w}var $s=64,za=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ii=24,ns=32,io=8,Ws=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];jt("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(w){return w},U.Predictor2=function(w,A,D){return A[D+0]},U.Predictor3=function(w,A,D){return A[D+1]},U.Predictor4=function(w,A,D){return A[D-1]},U.Predictor5=function(w,A,D){return Xt(Xt(w,A[D+1]),A[D+0])},U.Predictor6=function(w,A,D){return Xt(w,A[D-1])},U.Predictor7=function(w,A,D){return Xt(w,A[D+0])},U.Predictor8=function(w,A,D){return Xt(A[D-1],A[D+0])},U.Predictor9=function(w,A,D){return Xt(A[D+0],A[D+1])},U.Predictor10=function(w,A,D){return Xt(Xt(w,A[D-1]),Xt(A[D+0],A[D+1]))},U.Predictor11=function(w,A,D){var z=A[D+0];return 0>=dr(z>>24&255,w>>24&255,(A=A[D-1])>>24&255)+dr(z>>16&255,w>>16&255,A>>16&255)+dr(z>>8&255,w>>8&255,A>>8&255)+dr(255&z,255&w,255&A)?z:w},U.Predictor12=function(w,A,D){var z=A[D+0];return(Jt((w>>24&255)+(z>>24&255)-((A=A[D-1])>>24&255))<<24|Jt((w>>16&255)+(z>>16&255)-(A>>16&255))<<16|Jt((w>>8&255)+(z>>8&255)-(A>>8&255))<<8|Jt((255&w)+(255&z)-(255&A)))>>>0},U.Predictor13=function(w,A,D){var z=A[D-1];return(Er((w=Xt(w,A[D+0]))>>24&255,z>>24&255)<<24|Er(w>>16&255,z>>16&255)<<16|Er(w>>8&255,z>>8&255)<<8|Er(255&w,255&z))>>>0};var au=U.PredictorAdd0;U.PredictorAdd1=Nr,jt("Predictor2","PredictorAdd2"),jt("Predictor3","PredictorAdd3"),jt("Predictor4","PredictorAdd4"),jt("Predictor5","PredictorAdd5"),jt("Predictor6","PredictorAdd6"),jt("Predictor7","PredictorAdd7"),jt("Predictor8","PredictorAdd8"),jt("Predictor9","PredictorAdd9"),jt("Predictor10","PredictorAdd10"),jt("Predictor11","PredictorAdd11"),jt("Predictor12","PredictorAdd12"),jt("Predictor13","PredictorAdd13");var Ga=U.PredictorAdd2;Wt("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),Wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var hi,Io=U.ColorIndexInverseTransform,ao=U.MapARGB,Fi=U.VP8LColorIndexInverseTransformAlpha,xi=U.MapAlpha,so=U.VP8LPredictorsAdd=[];so.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var ol,Fo,Zs,Ts,Na,oo,Ca,lo,pa,Ma,cn,Jr,kn,ai,uo,wi,co,Bu,su,Xh,lh,Jh,kl,uh,As,is,ou,as,ka=a(511),Uu=a(2041),lu=a(225),Bo=a(767),_c=0,Ls=Uu,Uo=lu,na=Bo,Bi=ka,yc=0,ia=1,zu=2,ss=3,uu=4,Pl=5,ll=6,cu=7,Gu=8,hu=9,h=10,m=[2,3,7],S=[3,3,11],M=[280,256,256,256,40],G=[0,1,1,1,0],ae=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Me=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],We=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tt=8,pt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],kt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tr=null,Ur=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],os=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pn=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Zr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Pa=[],si=[],Ns=[],ul=1,xc=2,bn=[],bi=[];Oo("UpsampleRgbLinePair",Vs,3),Oo("UpsampleBgrLinePair",yi,3),Oo("UpsampleRgbaLinePair",jn,4),Oo("UpsampleBgraLinePair",no,4),Oo("UpsampleArgbLinePair",Ml,4),Oo("UpsampleRgba4444LinePair",sl,2),Oo("UpsampleRgb565LinePair",al,2);var Ol=U.UpsampleRgbLinePair,ch=U.UpsampleBgrLinePair,fu=U.UpsampleRgbaLinePair,du=U.UpsampleBgraLinePair,zo=U.UpsampleArgbLinePair,ho=U.UpsampleRgba4444LinePair,pu=U.UpsampleRgb565LinePair,fo=16,wc=1<<fo-1,Hu=-227,mu=482,Qh=6,gu=0,Oa=a(256),ef=a(256),Cp=a(256),vg=a(256),_g=a(mu-Hu),yg=a(mu-Hu);Ua("YuvToRgbRow",Vs,3),Ua("YuvToBgrRow",yi,3),Ua("YuvToRgbaRow",jn,4),Ua("YuvToBgraRow",no,4),Ua("YuvToArgbRow",Ml,4),Ua("YuvToRgba4444Row",sl,2),Ua("YuvToRgb565Row",al,2);var Ri=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],bc=[0,2,8],hh=[8,7,6,4,4,2,2,2,1,1,1,1],fh=1;this.WebPDecodeRGBA=function(w,A,D,z,ee){var ie=ia,le=new at,ge=new xr;le.ba=ge,ge.S=ie,ge.width=[ge.width],ge.height=[ge.height];var ye=ge.width,Te=ge.height,je=new Zt;if(je==null||w==null)var Je=2;else e(je!=null),Je=da(w,A,D,je.width,je.height,je.Pd,je.Qd,je.format,null);if(Je!=0?ye=0:(ye!=null&&(ye[0]=je.width[0]),Te!=null&&(Te[0]=je.height[0]),ye=1),ye){ge.width=ge.width[0],ge.height=ge.height[0],z!=null&&(z[0]=ge.width),ee!=null&&(ee[0]=ge.height);e:{if(z=new qr,(ee=new St).data=w,ee.w=A,ee.ha=D,ee.kd=1,A=[0],e(ee!=null),((w=da(ee.data,ee.w,ee.ha,null,null,null,A,null,ee))==0||w==7)&&A[0]&&(w=4),(A=w)==0){if(e(le!=null),z.data=ee.data,z.w=ee.w+ee.offset,z.ha=ee.ha-ee.offset,z.put=Qt,z.ac=Ni,z.bc=Ka,z.ma=le,ee.xa){if((w=Be())==null){le=1;break e}if((function(Ee,He){var Ke=[0],lt=[0],Xe=[0];t:for(;;){if(Ee==null)return 0;if(He==null)return Ee.a=2,0;if(Ee.l=He,Ee.a=0,Le(Ee.m,He.data,He.w,He.ha),!Fa(Ee.m,Ke,lt,Xe)){Ee.a=3;break t}if(Ee.xb=xc,He.width=Ke[0],He.height=lt[0],!Ue(Ke[0],lt[0],1,Ee,null))break t;return 1}return e(Ee.a!=0),0})(w,z)){if(z=(A=Es(z.width,z.height,le.Oa,le.ba))==0){t:{z=w;r:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((D=z.l)!=null),e((ee=D.ma)!=null),z.xb!=0){if(z.ca=ee.ba,z.tb=ee.tb,e(z.ca!=null),!Do(ee.Oa,D,ss)){z.a=2;break r}if(!$e(z,D.width)||D.da)break r;if((D.da||ur(z.ca.S))&&ta(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&ta()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!we(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!Pe(z,z.V,z.Ba,z.c,z.i,D.o,re))break r;ee.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(A=w.a)}else A=w.a}else{if((w=new ri)==null){le=1;break e}if(w.Fa=ee.na,w.P=ee.P,w.qc=ee.Sa,Ea(w,z)){if((A=Es(z.width,z.height,le.Oa,le.ba))==0){if(w.Aa=0,D=le.Oa,e((ee=w)!=null),D!=null){if(0<(ye=0>(ye=D.Md)?0:100<ye?255:255*ye/100)){for(Te=je=0;4>Te;++Te)12>(Je=ee.pb[Te]).lc&&(Je.ia=ye*hh[0>Je.lc?0:Je.lc]>>3),je|=Je.ia;je&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=D.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(Ee,He){if(Ee==null)return 0;if(He==null)return ar(Ee,2,"NULL VP8Io parameter in VP8Decode().");if(!Ee.cb&&!Ea(Ee,He))return 0;if(e(Ee.cb),He.ac==null||He.ac(He)){He.ob&&(Ee.L=0);var Ke=bc[Ee.L];if(Ee.L==2?(Ee.yb=0,Ee.zb=0):(Ee.yb=He.v-Ke>>4,Ee.zb=He.j-Ke>>4,0>Ee.yb&&(Ee.yb=0),0>Ee.zb&&(Ee.zb=0)),Ee.Va=He.o+15+Ke>>4,Ee.Hb=He.va+15+Ke>>4,Ee.Hb>Ee.za&&(Ee.Hb=Ee.za),Ee.Va>Ee.Ub&&(Ee.Va=Ee.Ub),0<Ee.L){var lt=Ee.ed;for(Ke=0;4>Ke;++Ke){var Xe;if(Ee.Qa.Cb){var st=Ee.Qa.Lb[Ke];Ee.Qa.Fb||(st+=lt.Tb)}else st=lt.Tb;for(Xe=0;1>=Xe;++Xe){var ft=Ee.gd[Ke][Xe],Lt=st;if(lt.Pc&&(Lt+=lt.vd[0],Xe&&(Lt+=lt.od[0])),0<(Lt=0>Lt?0:63<Lt?63:Lt)){var _t=Lt;0<lt.wb&&(_t=4<lt.wb?_t>>2:_t>>1)>9-lt.wb&&(_t=9-lt.wb),1>_t&&(_t=1),ft.dd=_t,ft.tc=2*Lt+_t,ft.ld=40<=Lt?2:15<=Lt?1:0}else ft.tc=0;ft.La=Xe}}}Ke=0}else ar(Ee,6,"Frame setup failed"),Ke=Ee.a;if(Ke=Ke==0){if(Ke){Ee.$c=0,0<Ee.Aa||(Ee.Ic=fh);t:{Ke=Ee.Ic,lt=4*(_t=Ee.za);var nr=32*_t,Ht=_t+1,Pr=0<Ee.L?_t*(0<Ee.Aa?2:1):0,Kt=(Ee.Aa==2?2:1)*_t;if((ft=lt+832+(Xe=3*(16*Ke+bc[Ee.L])/2*nr)+(st=Ee.Fa!=null&&0<Ee.Fa.length?Ee.Kc.c*Ee.Kc.i:0))!=ft)Ke=0;else{if(ft>Ee.Vb){if(Ee.Vb=0,Ee.Ec=a(ft),Ee.Fc=0,Ee.Ec==null){Ke=ar(Ee,1,"no memory during frame initialization.");break t}Ee.Vb=ft}ft=Ee.Ec,Lt=Ee.Fc,Ee.Ac=ft,Ee.Bc=Lt,Lt+=lt,Ee.Gd=s(nr,Ci),Ee.Hd=0,Ee.rb=s(Ht+1,nn),Ee.sb=1,Ee.wa=Pr?s(Pr,wr):null,Ee.Y=0,Ee.D.Nb=0,Ee.D.wa=Ee.wa,Ee.D.Y=Ee.Y,0<Ee.Aa&&(Ee.D.Y+=_t),e(!0),Ee.oc=ft,Ee.pc=Lt,Lt+=832,Ee.ya=s(Kt,Xn),Ee.aa=0,Ee.D.ya=Ee.ya,Ee.D.aa=Ee.aa,Ee.Aa==2&&(Ee.D.aa+=_t),Ee.R=16*_t,Ee.B=8*_t,_t=(nr=bc[Ee.L])*Ee.R,nr=nr/2*Ee.B,Ee.sa=ft,Ee.ta=Lt+_t,Ee.qa=Ee.sa,Ee.ra=Ee.ta+16*Ke*Ee.R+nr,Ee.Ha=Ee.qa,Ee.Ia=Ee.ra+8*Ke*Ee.B+nr,Ee.$c=0,Lt+=Xe,Ee.mb=st?ft:null,Ee.nb=st?Lt:null,e(Lt+st<=Ee.Fc+Ee.Vb),Dn(Ee),i(Ee.Ac,Ee.Bc,0,lt),Ke=1}}if(Ke){if(He.ka=0,He.y=Ee.sa,He.O=Ee.ta,He.f=Ee.qa,He.N=Ee.ra,He.ea=Ee.Ha,He.Vd=Ee.Ia,He.fa=Ee.R,He.Rc=Ee.B,He.F=null,He.J=0,!_c){for(Ke=-255;255>=Ke;++Ke)ka[255+Ke]=0>Ke?-Ke:Ke;for(Ke=-1020;1020>=Ke;++Ke)Uu[1020+Ke]=-128>Ke?-128:127<Ke?127:Ke;for(Ke=-112;112>=Ke;++Ke)lu[112+Ke]=-16>Ke?-16:15<Ke?15:Ke;for(Ke=-255;510>=Ke;++Ke)Bo[255+Ke]=0>Ke?0:255<Ke?255:Ke;_c=1}Ca=Ta,lo=Us,Ma=Kr,cn=zs,Jr=No,pa=El,kn=Fu,ai=Po,uo=J,wi=Se,co=vc,Bu=k,su=De,Xh=Ve,lh=Pi,Jh=es,kl=il,uh=Iu,si[0]=ju,si[1]=tl,si[2]=Xa,si[3]=dn,si[4]=Aa,si[5]=Al,si[6]=Mi,si[7]=Ja,si[8]=Gs,si[9]=La,Pa[0]=Ba,Pa[1]=Tl,Pa[2]=rl,Pa[3]=ru,Pa[4]=eo,Pa[5]=Mo,Pa[6]=nl,Ns[0]=Ll,Ns[1]=tu,Ns[2]=Mn,Ns[3]=to,Ns[4]=ki,Ns[5]=nu,Ns[6]=xs,Ke=1}else Ke=0}Ke&&(Ke=(function(Qr,Qn){for(Qr.M=0;Qr.M<Qr.Va;++Qr.M){var jr,qt=Qr.Jc[Qr.M&Qr.Xb],Rt=Qr.m,di=Qr;for(jr=0;jr<di.za;++jr){var Sr=Rt,zr=di,An=zr.Ac,sa=zr.Bc+4*jr,Ra=zr.zc,Vn=zr.ya[zr.aa+jr];if(zr.Qa.Bb?Vn.$b=Ie(Sr,zr.Pa.jb[0])?2+Ie(Sr,zr.Pa.jb[2]):Ie(Sr,zr.Pa.jb[1]):Vn.$b=0,zr.kc&&(Vn.Ad=Ie(Sr,zr.Bd)),Vn.Za=!Ie(Sr,145)+0,Vn.Za){var Ui=Vn.Ob,Ha=0;for(zr=0;4>zr;++zr){var zi,$r=Ra[0+zr];for(zi=0;4>zi;++zi){$r=pn[An[sa+zi]][$r];for(var gn=fi[Ie(Sr,$r[0])];0<gn;)gn=fi[2*gn+Ie(Sr,$r[gn])];$r=-gn,An[sa+zi]=$r}n(Ui,Ha,An,sa,4),Ha+=4,Ra[0+zr]=$r}}else $r=Ie(Sr,156)?Ie(Sr,128)?1:3:Ie(Sr,163)?2:0,Vn.Ob[0]=$r,i(An,sa,$r,4),i(Ra,0,$r,4);Vn.Dd=Ie(Sr,142)?Ie(Sr,114)?Ie(Sr,183)?1:3:2:0}if(di.m.Ka)return ar(Qr,7,"Premature end-of-partition0 encountered.");for(;Qr.ja<Qr.za;++Qr.ja){if(di=qt,Sr=(Rt=Qr).rb[Rt.sb-1],An=Rt.rb[Rt.sb+Rt.ja],jr=Rt.ya[Rt.aa+Rt.ja],sa=Rt.kc?jr.Ad:0)Sr.la=An.la=0,jr.Za||(Sr.Na=An.Na=0),jr.Hc=0,jr.Gc=0,jr.ia=0;else{var pi,yn;if(Sr=An,An=di,sa=Rt.Pa.Xc,Ra=Rt.ya[Rt.aa+Rt.ja],Vn=Rt.pb[Ra.$b],zr=Ra.ad,Ui=0,Ha=Rt.rb[Rt.sb-1],$r=zi=0,i(zr,Ui,0,384),Ra.Za)var oa=0,mi=sa[3];else{gn=a(16);var vn=Sr.Na+Ha.Na;if(vn=tr(An,sa[1],vn,Vn.Eb,0,gn,0),Sr.Na=Ha.Na=(0<vn)+0,1<vn)Ca(gn,0,zr,Ui);else{var Di=gn[0]+3>>3;for(gn=0;256>gn;gn+=16)zr[Ui+gn]=Di}oa=1,mi=sa[0]}var Ln=15&Sr.la,Gi=15&Ha.la;for(gn=0;4>gn;++gn){var Hi=1&Gi;for(Di=yn=0;4>Di;++Di)Ln=Ln>>1|(Hi=(vn=tr(An,mi,vn=Hi+(1&Ln),Vn.Sc,oa,zr,Ui))>oa)<<7,yn=yn<<2|(3<vn?3:1<vn?2:zr[Ui+0]!=0),Ui+=16;Ln>>=4,Gi=Gi>>1|Hi<<7,zi=(zi<<8|yn)>>>0}for(mi=Ln,oa=Gi>>4,pi=0;4>pi;pi+=2){for(yn=0,Ln=Sr.la>>4+pi,Gi=Ha.la>>4+pi,gn=0;2>gn;++gn){for(Hi=1&Gi,Di=0;2>Di;++Di)vn=Hi+(1&Ln),Ln=Ln>>1|(Hi=0<(vn=tr(An,sa[2],vn,Vn.Qc,0,zr,Ui)))<<3,yn=yn<<2|(3<vn?3:1<vn?2:zr[Ui+0]!=0),Ui+=16;Ln>>=2,Gi=Gi>>1|Hi<<5}$r|=yn<<4*pi,mi|=Ln<<4<<pi,oa|=(240&Gi)<<pi}Sr.la=mi,Ha.la=oa,Ra.Hc=zi,Ra.Gc=$r,Ra.ia=43690&$r?0:Vn.ia,sa=!(zi|$r)}if(0<Rt.L&&(Rt.wa[Rt.Y+Rt.ja]=Rt.gd[jr.$b][jr.Za],Rt.wa[Rt.Y+Rt.ja].La|=!sa),di.Ka)return ar(Qr,7,"Premature end-of-file encountered.")}if(Dn(Qr),Rt=Qn,di=1,jr=(qt=Qr).D,Sr=0<qt.L&&qt.M>=qt.zb&&qt.M<=qt.Va,qt.Aa==0)t:{if(jr.M=qt.M,jr.uc=Sr,rs(qt,jr),di=1,jr=(yn=qt.D).Nb,Sr=($r=bc[qt.L])*qt.R,An=$r/2*qt.B,gn=16*jr*qt.R,Di=8*jr*qt.B,sa=qt.sa,Ra=qt.ta-Sr+gn,Vn=qt.qa,zr=qt.ra-An+Di,Ui=qt.Ha,Ha=qt.Ia-An+Di,Gi=(Ln=yn.M)==0,zi=Ln>=qt.Va-1,qt.Aa==2&&rs(qt,yn),yn.uc)for(Hi=(vn=qt).D.M,e(vn.D.uc),yn=vn.yb;yn<vn.Hb;++yn){oa=yn,mi=Hi;var In=(hn=(qi=vn).D).Nb;pi=qi.R;var hn=hn.wa[hn.Y+oa],qa=qi.sa,Si=qi.ta+16*In*pi+16*oa,mr=hn.dd,gr=hn.tc;if(gr!=0)if(e(3<=gr),qi.L==1)0<oa&&Jh(qa,Si,pi,gr+4),hn.La&&uh(qa,Si,pi,gr),0<mi&&lh(qa,Si,pi,gr+4),hn.La&&kl(qa,Si,pi,gr);else{var _n=qi.B,Cs=qi.qa,po=qi.ra+8*In*_n+8*oa,ls=qi.Ha,qi=qi.Ia+8*In*_n+8*oa;In=hn.ld,0<oa&&(ai(qa,Si,pi,gr+4,mr,In),wi(Cs,po,ls,qi,_n,gr+4,mr,In)),hn.La&&(Bu(qa,Si,pi,gr,mr,In),Xh(Cs,po,ls,qi,_n,gr,mr,In)),0<mi&&(kn(qa,Si,pi,gr+4,mr,In),uo(Cs,po,ls,qi,_n,gr+4,mr,In)),hn.La&&(co(qa,Si,pi,gr,mr,In),su(Cs,po,ls,qi,_n,gr,mr,In))}}if(qt.ia&&alert("todo:DitherRow"),Rt.put!=null){if(yn=16*Ln,Ln=16*(Ln+1),Gi?(Rt.y=qt.sa,Rt.O=qt.ta+gn,Rt.f=qt.qa,Rt.N=qt.ra+Di,Rt.ea=qt.Ha,Rt.W=qt.Ia+Di):(yn-=$r,Rt.y=sa,Rt.O=Ra,Rt.f=Vn,Rt.N=zr,Rt.ea=Ui,Rt.W=Ha),zi||(Ln-=$r),Ln>Rt.o&&(Ln=Rt.o),Rt.F=null,Rt.J=null,qt.Fa!=null&&0<qt.Fa.length&&yn<Ln&&(Rt.J=wn(qt,Rt,yn,Ln-yn),Rt.F=qt.mb,Rt.F==null&&Rt.F.length==0)){di=ar(qt,3,"Could not decode alpha data.");break t}yn<Rt.j&&($r=Rt.j-yn,yn=Rt.j,e(!(1&$r)),Rt.O+=qt.R*$r,Rt.N+=qt.B*($r>>1),Rt.W+=qt.B*($r>>1),Rt.F!=null&&(Rt.J+=Rt.width*$r)),yn<Ln&&(Rt.O+=Rt.v,Rt.N+=Rt.v>>1,Rt.W+=Rt.v>>1,Rt.F!=null&&(Rt.J+=Rt.v),Rt.ka=yn-Rt.j,Rt.U=Rt.va-Rt.v,Rt.T=Ln-yn,di=Rt.put(Rt))}jr+1!=qt.Ic||zi||(n(qt.sa,qt.ta-Sr,sa,Ra+16*qt.R,Sr),n(qt.qa,qt.ra-An,Vn,zr+8*qt.B,An),n(qt.Ha,qt.Ia-An,Ui,Ha+8*qt.B,An))}if(!di)return ar(Qr,6,"Output aborted.")}return 1})(Ee,He)),He.bc!=null&&He.bc(He),Ke&=1}return Ke?(Ee.cb=0,Ke):0})(w,z)||(A=w.a)}}else A=w.a}A==0&&le.Oa!=null&&le.Oa.fd&&(A=jo(le.ba))}le=A}ie=le!=0?null:11>ie?ge.f.RGBA.eb:ge.f.kb.y}else ie=null;return ie};var tf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(U,X){for(var I="",W=0;W<4;W++)I+=String.fromCharCode(U[X++]);return I}function p(U,X){return U[X+0]|U[X+1]<<8}function v(U,X){return(U[X+0]|U[X+1]<<8|U[X+2]<<16)>>>0}function y(U,X){return(U[X+0]|U[X+1]<<8|U[X+2]<<16|U[X+3]<<24)>>>0}new c;var _=[0],T=[0],b=[],C=new c,P=t,j=(function(U,X){var I={},W=0,ce=!1,pe=0,xe=0;if(I.frames=[],!(function(O,H){for(var q=0;q<4;q++)if(O[H+q]!="RIFF".charCodeAt(q))return!0;return!1})(U,X)){for(y(U,X+=4),X+=8;X<U.length;){var oe=f(U,X),be=y(U,X+=4);X+=4;var _e=be+(1&be);switch(oe){case"VP8 ":case"VP8L":I.frames[W]===void 0&&(I.frames[W]={}),(Q=I.frames[W]).src_off=ce?xe:X-8,Q.src_size=pe+be+8,W++,ce&&(ce=!1,pe=0,xe=0);break;case"VP8X":(Q=I.header={}).feature_flags=U[X];var Le=X+4;Q.canvas_width=1+v(U,Le),Le+=3,Q.canvas_height=1+v(U,Le),Le+=3;break;case"ALPH":ce=!0,pe=_e+8,xe=X-8;break;case"ANIM":(Q=I.header).bgcolor=y(U,X),Le=X+4,Q.loop_count=p(U,Le),Le+=2;break;case"ANMF":var Ne,Q;(Q=I.frames[W]={}).offset_x=2*v(U,X),X+=3,Q.offset_y=2*v(U,X),X+=3,Q.width=1+v(U,X),X+=3,Q.height=1+v(U,X),X+=3,Q.duration=v(U,X),X+=3,Ne=U[X++],Q.dispose=1&Ne,Q.blend=Ne>>1&1}oe!="ANMF"&&(X+=_e)}return I}})(P,0);j.response=P,j.rgbaoutput=!0,j.dataurl=!1;var R=j.header?j.header:null,B=j.frames?j.frames:null;if(R){R.loop_counter=R.loop_count,_=[R.canvas_height],T=[R.canvas_width];for(var te=0;te<B.length&&B[te].blend!=0;te++);}var ue=B[0],F=C.WebPDecodeRGBA(P,ue.src_off,ue.src_size,T,_);ue.rgba=F,ue.imgwidth=T[0],ue.imgheight=_[0];for(var K=0;K<T[0]*_[0]*4;K++)b[K]=F[K];return this.width=T,this.height=_,this.data=b,this}(function(t){var e,r,n,i,a,s,l,c,f,p=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new s,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new s,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,f=new p}]);var v=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=O;Object.defineProperty(this,"pdf",{get:function(){return H}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(we){q=!!we}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(we){Z=!!we}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(we){isNaN(we)||(se=we)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(we){isNaN(we)||(Ae=we)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(we){var yt;typeof we=="number"?yt=[we,we,we,we]:((yt=new Array(4))[0]=we[0],yt[1]=we.length>=2?we[1]:yt[0],yt[2]=we.length>=3?we[2]:yt[0],yt[3]=we.length>=4?we[3]:yt[1]),f.margin=yt}});var Oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Oe},set:function(we){Oe=we}});var Re=0;Object.defineProperty(this,"lastBreak",{get:function(){return Re},set:function(we){Re=we}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(we){Ie=we}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(we){we instanceof p&&(f=we)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(we){f.path=we}});var ot=[];Object.defineProperty(this,"ctxStack",{get:function(){return ot},set:function(we){ot=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var yt;yt=y(we),this.ctx.fillStyle=yt.style,this.ctx.isFillTransparent=yt.a===0,this.ctx.fillOpacity=yt.a,this.pdf.setFillColor(yt.r,yt.g,yt.b,{a:yt.a}),this.pdf.setTextColor(yt.r,yt.g,yt.b,{a:yt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var yt=y(we);this.ctx.strokeStyle=yt.style,this.ctx.isStrokeTransparent=yt.a===0,this.ctx.strokeOpacity=yt.a,yt.a===0?this.pdf.setDrawColor(255,255,255):(yt.a,this.pdf.setDrawColor(yt.r,yt.g,yt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var it=null,Tt=null,Nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Nt},set:function(we){it=null,Tt=null,Nt=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var yt;if(this.ctx.font=we,(yt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(we))!==null){var xt=yt[1];yt[2];var zt=yt[3],dt=yt[4];yt[5];var Vt=yt[6],jt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(dt)[2];dt=Math.floor(jt==="px"?parseFloat(dt)*this.pdf.internal.scaleFactor:jt==="em"?parseFloat(dt)*this.pdf.getFontSize():parseFloat(dt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(dt);var sr=(function(Wt){var xn,Mr,Gt=[],pr=Wt.trim();if(pr==="")return v2;if(pr in p4)return[p4[pr]];for(;pr!=="";){switch(Mr=null,xn=(pr=g4(pr)).charAt(0)){case'"':case"'":Mr=rR(pr.substring(1),xn);break;default:Mr=nR(pr)}if(Mr===null||(Gt.push(Mr[0]),(pr=g4(Mr[1]))!==""&&pr.charAt(0)!==","))return v2;pr=pr.replace(/^,/,"")}return Gt})(Vt);if(this.fontFaces){var Xt=(function(Wt,xn){var Mr=Wt.getFontList(),Gt=JSON.stringify(Mr);if(it===null||Tt!==Gt){var pr=(function(Dr){var Yt=[];return Object.keys(Dr).forEach(function(ln){Dr[ln].forEach(function(ur){var cr=null;switch(ur){case"bold":cr={family:ln,weight:"bold"};break;case"italic":cr={family:ln,style:"italic"};break;case"bolditalic":cr={family:ln,weight:"bold",style:"italic"};break;case"":case"normal":cr={family:ln}}cr!==null&&(cr.ref={name:ln,style:ur},Yt.push(cr))})}),Yt})(Mr);it=(function(Dr){for(var Yt={},ln=0;ln<Dr.length;++ln){var ur=g2(Dr[ln]),cr=ur.family,en=ur.stretch,xr=ur.style,Zt=ur.weight;Yt[cr]=Yt[cr]||{},Yt[cr][en]=Yt[cr][en]||{},Yt[cr][en][xr]=Yt[cr][en][xr]||{},Yt[cr][en][xr][Zt]=ur}return Yt})(pr.concat(xn)),Tt=Gt}return it})(this.pdf,this.fontFaces),Jt=sr.map(function(Wt){return{family:Wt,stretch:"normal",weight:zt,style:xt}}),Er=(function(Wt,xn,Mr){for(var Gt=(Mr=Mr||{}).defaultFontFamily||"times",pr=Object.assign({},tR,Mr.genericFontFamilies||{}),Dr=null,Yt=null,ln=0;ln<xn.length;++ln)if(pr[(Dr=g2(xn[ln])).family]&&(Dr.family=pr[Dr.family]),Wt.hasOwnProperty(Dr.family)){Yt=Wt[Dr.family];break}if(!(Yt=Yt||Wt[Gt]))throw new Error("Could not find a font-family for the rule '"+m4(Dr)+"' and default family '"+Gt+"'.");if(Yt=(function(ur,cr){if(cr[ur])return cr[ur];var en=v_[ur],xr=en<=v_.normal?-1:1,Zt=d4(cr,zE,en,xr);if(!Zt)throw new Error("Could not find a matching font-stretch value for "+ur);return Zt})(Dr.stretch,Yt),Yt=(function(ur,cr){if(cr[ur])return cr[ur];for(var en=UE[ur],xr=0;xr<en.length;++xr)if(cr[en[xr]])return cr[en[xr]];throw new Error("Could not find a matching font-style for "+ur)})(Dr.style,Yt),!(Yt=(function(ur,cr){if(cr[ur])return cr[ur];if(ur===400&&cr[500])return cr[500];if(ur===500&&cr[400])return cr[400];var en=eR[ur],xr=d4(cr,GE,en,ur<400?-1:1);if(!xr)throw new Error("Could not find a matching font-weight for value "+ur);return xr})(Dr.weight,Yt)))throw new Error("Failed to resolve a font for the rule '"+m4(Dr)+"'.");return Yt})(Xt,Jt);this.pdf.setFont(Er.ref.name,Er.ref.style)}else{var dr="";(zt==="bold"||parseInt(zt,10)>=700||xt==="bold")&&(dr="bold"),xt==="italic"&&(dr+="italic"),dr.length===0&&(dr="normal");for(var Nr="",or={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ft=0;Ft<sr.length;Ft++){if(this.pdf.internal.getFont(sr[Ft],dr,{noFallback:!0,disableWarning:!0})!==void 0){Nr=sr[Ft];break}if(dr==="bolditalic"&&this.pdf.internal.getFont(sr[Ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nr=sr[Ft],dr="bold";else if(this.pdf.internal.getFont(sr[Ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nr=sr[Ft],dr="normal";break}}if(Nr===""){for(var _r=0;_r<sr.length;_r++)if(or[sr[_r]]){Nr=or[sr[_r]];break}}Nr=Nr===""?"Times":Nr,this.pdf.setFont(Nr,dr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};v.prototype.setLineDash=function(O){this.lineDash=O},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){B.call(this,"fill",!1)},v.prototype.stroke=function(){B.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(O,H){if(isNaN(O)||isNaN(H))throw ti.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(O,H));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(O,H)},v.prototype.closePath=function(){var O=new s(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Gn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){O=new s(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(O.x,O.y)},v.prototype.lineTo=function(O,H){if(isNaN(O)||isNaN(H))throw ti.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(O,H));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},v.prototype.quadraticCurveTo=function(O,H,q,Z){if(isNaN(q)||isNaN(Z)||isNaN(O)||isNaN(H))throw ti.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new s(q,Z)),Ae=this.ctx.transform.applyToPoint(new s(O,H));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:se.x,y:se.y}),this.ctx.lastPoint=new s(se.x,se.y)},v.prototype.bezierCurveTo=function(O,H,q,Z,se,Ae){if(isNaN(se)||isNaN(Ae)||isNaN(O)||isNaN(H)||isNaN(q)||isNaN(Z))throw ti.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Oe=this.ctx.transform.applyToPoint(new s(se,Ae)),Re=this.ctx.transform.applyToPoint(new s(O,H)),Ie=this.ctx.transform.applyToPoint(new s(q,Z));this.path.push({type:"bct",x1:Re.x,y1:Re.y,x2:Ie.x,y2:Ie.y,x:Oe.x,y:Oe.y}),this.ctx.lastPoint=new s(Oe.x,Oe.y)},v.prototype.arc=function(O,H,q,Z,se,Ae){if(isNaN(O)||isNaN(H)||isNaN(q)||isNaN(Z)||isNaN(se))throw ti.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var Oe=this.ctx.transform.applyToPoint(new s(O,H));O=Oe.x,H=Oe.y;var Re=this.ctx.transform.applyToPoint(new s(0,q)),Ie=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(Re.x-Ie.x,2)+Math.pow(Re.y-Ie.y,2))}Math.abs(se-Z)>=2*Math.PI&&(Z=0,se=2*Math.PI),this.path.push({type:"arc",x:O,y:H,radius:q,startAngle:Z,endAngle:se,counterclockwise:Ae})},v.prototype.arcTo=function(O,H,q,Z,se){throw new Error("arcTo not implemented.")},v.prototype.rect=function(O,H,q,Z){if(isNaN(O)||isNaN(H)||isNaN(q)||isNaN(Z))throw ti.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,H),this.lineTo(O+q,H),this.lineTo(O+q,H+Z),this.lineTo(O,H+Z),this.lineTo(O,H),this.lineTo(O+q,H),this.lineTo(O,H)},v.prototype.fillRect=function(O,H,q,Z){if(isNaN(O)||isNaN(H)||isNaN(q)||isNaN(Z))throw ti.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,H,q,Z),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},v.prototype.strokeRect=function(O,H,q,Z){if(isNaN(O)||isNaN(H)||isNaN(q)||isNaN(Z))throw ti.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(O,H,q,Z),this.stroke())},v.prototype.clearRect=function(O,H,q,Z){if(isNaN(O)||isNaN(H)||isNaN(q)||isNaN(Z))throw ti.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,H,q,Z))},v.prototype.save=function(O){O=typeof O!="boolean"||O;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},v.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(H),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(O){var H,q,Z,se;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))H=0,q=0,Z=0,se=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(Ae!==null)H=parseInt(Ae[1]),q=parseInt(Ae[2]),Z=parseInt(Ae[3]),se=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)H=parseInt(Ae[1]),q=parseInt(Ae[2]),Z=parseInt(Ae[3]),se=parseFloat(Ae[4]);else{if(se=1,typeof O=="string"&&O.charAt(0)!=="#"){var Oe=new OE(O);O=Oe.ok?Oe.toHex():"#000000"}O.length===4?(H=O.substring(1,2),H+=H,q=O.substring(2,3),q+=q,Z=O.substring(3,4),Z+=Z):(H=O.substring(1,3),q=O.substring(3,5),Z=O.substring(5,7)),H=parseInt(H,16),q=parseInt(q,16),Z=parseInt(Z,16)}}return{r:H,g:q,b:Z,a:se,style:O}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(O,H,q,Z){if(isNaN(H)||isNaN(q)||typeof O!="string")throw ti.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!_.call(this)){var se=_e(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;W.call(this,{text:O,x:H,y:q,scale:Ae,angle:se,align:this.textAlign,maxWidth:Z})}},v.prototype.strokeText=function(O,H,q,Z){if(isNaN(H)||isNaN(q)||typeof O!="string")throw ti.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){Z=isNaN(Z)?void 0:Z;var se=_e(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;W.call(this,{text:O,x:H,y:q,scale:Ae,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:Z})}},v.prototype.measureText=function(O){if(typeof O!="string")throw ti.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,q=this.pdf.internal.scaleFactor,Z=H.internal.getFontSize(),se=H.getStringUnitWidth(O)*Z/H.internal.scaleFactor;return new function(Ae){var Oe=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Oe}}),this}({width:se*=Math.round(96*q/72*1e4)/1e4})},v.prototype.scale=function(O,H){if(isNaN(O)||isNaN(H))throw ti.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new c(O,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.rotate=function(O){if(isNaN(O))throw ti.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},v.prototype.translate=function(O,H){if(isNaN(O)||isNaN(H))throw ti.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new c(1,0,0,1,O,H);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.transform=function(O,H,q,Z,se,Ae){if(isNaN(O)||isNaN(H)||isNaN(q)||isNaN(Z)||isNaN(se)||isNaN(Ae))throw ti.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Oe=new c(O,H,q,Z,se,Ae);this.ctx.transform=this.ctx.transform.multiply(Oe)},v.prototype.setTransform=function(O,H,q,Z,se,Ae){O=isNaN(O)?1:O,H=isNaN(H)?0:H,q=isNaN(q)?0:q,Z=isNaN(Z)?1:Z,se=isNaN(se)?0:se,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new c(O,H,q,Z,se,Ae)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(O,H,q,Z,se,Ae,Oe,Re,Ie){var ot=this.pdf.getImageProperties(O),it=1,Tt=1,Nt=1,we=1;Z!==void 0&&Re!==void 0&&(Nt=Re/Z,we=Ie/se,it=ot.width/Z*Re/Z,Tt=ot.height/se*Ie/se),Ae===void 0&&(Ae=H,Oe=q,H=0,q=0),Z!==void 0&&Re===void 0&&(Re=Z,Ie=se),Z===void 0&&Re===void 0&&(Re=ot.width,Ie=ot.height);var yt=this.ctx.transform.decompose(),xt=_e(yt.rotate.shx),zt=new c,dt=(zt=(zt=(zt=zt.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale)).applyToRectangle(new l(Ae-H*Nt,Oe-q*we,Z*it,se*Tt));if(this.autoPaging){for(var Vt,jt=C.call(this,dt),sr=[],Xt=0;Xt<jt.length;Xt+=1)sr.indexOf(jt[Xt])===-1&&sr.push(jt[Xt]);R(sr);for(var Jt=sr[0],Er=sr[sr.length-1],dr=Jt;dr<Er+1;dr++){this.pdf.setPage(dr);var Nr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],or=dr===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_r=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=dr===1?0:Ft+(dr-2)*_r;if(this.ctx.clip_path.length!==0){var xn=this.path;Vt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Vt,this.posX+this.margin[3],-Wt+or+this.ctx.prevPageLastElemOffset),te.call(this,"fill",!0),this.path=xn}var Mr=JSON.parse(JSON.stringify(dt));Mr=j([Mr],this.posX+this.margin[3],-Wt+or+this.ctx.prevPageLastElemOffset)[0];var Gt=(dr>Jt||dr<Er)&&b.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nr,_r,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Mr.x,Mr.y,Mr.w,Mr.h,null,null,xt),Gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,xt)};var C=function(O,H,q){var Z=[];H=H||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":Z.push(Math.floor((O.y+se)/q)+1);break;case"arc":Z.push(Math.floor((O.y+se-O.radius)/q)+1),Z.push(Math.floor((O.y+se+O.radius)/q)+1);break;case"qct":var Ae=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);Z.push(Math.floor((Ae.y+se)/q)+1),Z.push(Math.floor((Ae.y+Ae.h+se)/q)+1);break;case"bct":var Oe=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);Z.push(Math.floor((Oe.y+se)/q)+1),Z.push(Math.floor((Oe.y+Oe.h+se)/q)+1);break;case"rect":Z.push(Math.floor((O.y+se)/q)+1),Z.push(Math.floor((O.y+O.h+se)/q)+1)}for(var Re=0;Re<Z.length;Re+=1)for(;this.pdf.internal.getNumberOfPages()<Z[Re];)P.call(this);return Z},P=function(){var O=this.fillStyle,H=this.strokeStyle,q=this.font,Z=this.lineCap,se=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=H,this.font=q,this.lineCap=Z,this.lineWidth=se,this.lineJoin=Ae},j=function(O,H,q){for(var Z=0;Z<O.length;Z++)switch(O[Z].type){case"bct":O[Z].x2+=H,O[Z].y2+=q;case"qct":O[Z].x1+=H,O[Z].y1+=q;default:O[Z].x+=H,O[Z].y+=q}return O},R=function(O){return O.sort(function(H,q){return H-q})},B=function(O,H){var q=this.fillStyle,Z=this.strokeStyle,se=this.lineCap,Ae=this.lineWidth,Oe=Math.abs(Ae*this.ctx.transform.scaleX),Re=this.lineJoin;if(this.autoPaging){for(var Ie,ot,it=JSON.parse(JSON.stringify(this.path)),Tt=JSON.parse(JSON.stringify(this.path)),Nt=[],we=0;we<Tt.length;we++)if(Tt[we].x!==void 0)for(var yt=C.call(this,Tt[we]),xt=0;xt<yt.length;xt+=1)Nt.indexOf(yt[xt])===-1&&Nt.push(yt[xt]);for(var zt=0;zt<Nt.length;zt++)for(;this.pdf.internal.getNumberOfPages()<Nt[zt];)P.call(this);R(Nt);for(var dt=Nt[0],Vt=Nt[Nt.length-1],jt=dt;jt<Vt+1;jt++){this.pdf.setPage(jt),this.fillStyle=q,this.strokeStyle=Z,this.lineCap=se,this.lineWidth=Oe,this.lineJoin=Re;var sr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xt=jt===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Er=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dr=jt===1?0:Jt+(jt-2)*Er;if(this.ctx.clip_path.length!==0){var Nr=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ie,this.posX+this.margin[3],-dr+Xt+this.ctx.prevPageLastElemOffset),te.call(this,O,!0),this.path=Nr}if(ot=JSON.parse(JSON.stringify(it)),this.path=j(ot,this.posX+this.margin[3],-dr+Xt+this.ctx.prevPageLastElemOffset),H===!1||jt===0){var or=(jt>dt||jt<Vt)&&b.call(this);or&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sr,Er,null).clip().discardPath()),te.call(this,O,H),or&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}this.path=it}else this.lineWidth=Oe,te.call(this,O,H),this.lineWidth=Ae},te=function(O,H){if((O!=="stroke"||H||!T.call(this))&&(O==="stroke"||H||!_.call(this))){for(var q,Z,se=[],Ae=this.path,Oe=0;Oe<Ae.length;Oe++){var Re=Ae[Oe];switch(Re.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:Re,deltas:[],abs:[]});break;case"lt":var Ie=se.length;if(Ae[Oe-1]&&!isNaN(Ae[Oe-1].x)&&(q=[Re.x-Ae[Oe-1].x,Re.y-Ae[Oe-1].y],Ie>0)){for(;Ie>=0;Ie--)if(se[Ie-1].close!==!0&&se[Ie-1].begin!==!0){se[Ie-1].deltas.push(q),se[Ie-1].abs.push(Re);break}}break;case"bct":q=[Re.x1-Ae[Oe-1].x,Re.y1-Ae[Oe-1].y,Re.x2-Ae[Oe-1].x,Re.y2-Ae[Oe-1].y,Re.x-Ae[Oe-1].x,Re.y-Ae[Oe-1].y],se[se.length-1].deltas.push(q);break;case"qct":var ot=Ae[Oe-1].x+2/3*(Re.x1-Ae[Oe-1].x),it=Ae[Oe-1].y+2/3*(Re.y1-Ae[Oe-1].y),Tt=Re.x+2/3*(Re.x1-Re.x),Nt=Re.y+2/3*(Re.y1-Re.y),we=Re.x,yt=Re.y;q=[ot-Ae[Oe-1].x,it-Ae[Oe-1].y,Tt-Ae[Oe-1].x,Nt-Ae[Oe-1].y,we-Ae[Oe-1].x,yt-Ae[Oe-1].y],se[se.length-1].deltas.push(q);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(Re)}}Z=H?null:O==="stroke"?"stroke":"fill";for(var xt=!1,zt=0;zt<se.length;zt++)if(se[zt].arc)for(var dt=se[zt].abs,Vt=0;Vt<dt.length;Vt++){var jt=dt[Vt];jt.type==="arc"?K.call(this,jt.x,jt.y,jt.radius,jt.startAngle,jt.endAngle,jt.counterclockwise,void 0,H,!xt):ce.call(this,jt.x,jt.y),xt=!0}else if(se[zt].close===!0)this.pdf.internal.out("h"),xt=!1;else if(se[zt].begin!==!0){var sr=se[zt].start.x,Xt=se[zt].start.y;pe.call(this,se[zt].deltas,sr,Xt),xt=!0}Z&&U.call(this,Z),H&&X.call(this)}},ue=function(O){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-q;case"top":return O+H-q;case"hanging":return O+H-2*q;case"middle":return O+H/2-q;default:return O}},F=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(H,q){this.colorStops.push([H,q])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var K=function(O,H,q,Z,se,Ae,Oe,Re,Ie){for(var ot=oe.call(this,q,Z,se,Ae),it=0;it<ot.length;it++){var Tt=ot[it];it===0&&(Ie?I.call(this,Tt.x1+O,Tt.y1+H):ce.call(this,Tt.x1+O,Tt.y1+H)),xe.call(this,O,H,Tt.x2,Tt.y2,Tt.x3,Tt.y3,Tt.x4,Tt.y4)}Re?X.call(this):U.call(this,Oe)},U=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(O,H){this.pdf.internal.out(r(O)+" "+n(H)+" m")},W=function(O){var H;switch(O.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var q,Z,se,Ae=this.pdf.getTextDimensions(O.text),Oe=ue.call(this,O.y),Re=F.call(this,Oe)-Ae.h,Ie=this.ctx.transform.applyToPoint(new s(O.x,Oe));if(this.autoPaging){var ot=this.ctx.transform.decompose(),it=new c;it=(it=(it=it.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale);for(var Tt=this.ctx.transform.applyToRectangle(new l(O.x,Oe,Ae.w,Ae.h)),Nt=it.applyToRectangle(new l(O.x,Re,Ae.w,Ae.h)),we=C.call(this,Nt),yt=[],xt=0;xt<we.length;xt+=1)yt.indexOf(we[xt])===-1&&yt.push(we[xt]);R(yt);for(var zt=yt[0],dt=yt[yt.length-1],Vt=zt;Vt<dt+1;Vt++){this.pdf.setPage(Vt);var jt=Vt===1?this.posY+this.margin[0]:this.margin[0],sr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[2],Jt=Xt-this.margin[0],Er=this.pdf.internal.pageSize.width-this.margin[1],dr=Er-this.margin[3],Nr=Vt===1?0:sr+(Vt-2)*Jt;if(this.ctx.clip_path.length!==0){var or=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(q,this.posX+this.margin[3],-1*Nr+jt),te.call(this,"fill",!0),this.path=or}var Ft=j([JSON.parse(JSON.stringify(Nt))],this.posX+this.margin[3],-Nr+jt+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*O.scale),se=this.lineWidth,this.lineWidth=se*O.scale);var _r=this.autoPaging!=="text";if(_r||Ft.y+Ft.h<=Xt){if(_r||Ft.y>=jt&&Ft.x<=Er){var Wt=_r?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Er-Ft.x)[0],xn=j([JSON.parse(JSON.stringify(Tt))],this.posX+this.margin[3],-Nr+jt+this.ctx.prevPageLastElemOffset)[0],Mr=_r&&(Vt>zt||Vt<dt)&&b.call(this);Mr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dr,Jt,null).clip().discardPath()),this.pdf.text(Wt,xn.x,xn.y,{angle:O.angle,align:H,renderingMode:O.renderingMode}),Mr&&this.pdf.restoreGraphicsState()}}else Ft.y<Xt&&(this.ctx.prevPageLastElemOffset+=Xt-Ft.y);O.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=se)}}else O.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*O.scale),se=this.lineWidth,this.lineWidth=se*O.scale),this.pdf.text(O.text,Ie.x+this.posX,Ie.y+this.posY,{angle:O.angle,align:H,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=se)},ce=function(O,H,q,Z){q=q||0,Z=Z||0,this.pdf.internal.out(r(O+q)+" "+n(H+Z)+" l")},pe=function(O,H,q){return this.pdf.lines(O,H,q,null,null)},xe=function(O,H,q,Z,se,Ae,Oe,Re){this.pdf.internal.out([e(i(q+O)),e(a(Z+H)),e(i(se+O)),e(a(Ae+H)),e(i(Oe+O)),e(a(Re+H)),"c"].join(" "))},oe=function(O,H,q,Z){for(var se=2*Math.PI,Ae=Math.PI/2;H>q;)H-=se;var Oe=Math.abs(q-H);Oe<se&&Z&&(Oe=se-Oe);for(var Re=[],Ie=Z?-1:1,ot=H;Oe>1e-5;){var it=ot+Ie*Math.min(Oe,Ae);Re.push(be.call(this,O,ot,it)),Oe-=Math.abs(it-ot),ot=it}return Re},be=function(O,H,q){var Z=(q-H)/2,se=O*Math.cos(Z),Ae=O*Math.sin(Z),Oe=se,Re=-Ae,Ie=Oe*Oe+Re*Re,ot=Ie+Oe*se+Re*Ae,it=4/3*(Math.sqrt(2*Ie*ot)-ot)/(Oe*Ae-Re*se),Tt=Oe-it*Re,Nt=Re+it*Oe,we=Tt,yt=-Nt,xt=Z+H,zt=Math.cos(xt),dt=Math.sin(xt);return{x1:O*Math.cos(H),y1:O*Math.sin(H),x2:Tt*zt-Nt*dt,y2:Tt*dt+Nt*zt,x3:we*zt-yt*dt,y3:we*dt+yt*zt,x4:O*Math.cos(q),y4:O*Math.sin(q)}},_e=function(O){return 180*O/Math.PI},Le=function(O,H,q,Z,se,Ae){var Oe=O+.5*(q-O),Re=H+.5*(Z-H),Ie=se+.5*(q-se),ot=Ae+.5*(Z-Ae),it=Math.min(O,se,Oe,Ie),Tt=Math.max(O,se,Oe,Ie),Nt=Math.min(H,Ae,Re,ot),we=Math.max(H,Ae,Re,ot);return new l(it,Nt,Tt-it,we-Nt)},Ne=function(O,H,q,Z,se,Ae,Oe,Re){var Ie,ot,it,Tt,Nt,we,yt,xt,zt,dt,Vt,jt,sr,Xt,Jt=q-O,Er=Z-H,dr=se-q,Nr=Ae-Z,or=Oe-se,Ft=Re-Ae;for(ot=0;ot<41;ot++)zt=(yt=(it=O+(Ie=ot/40)*Jt)+Ie*((Nt=q+Ie*dr)-it))+Ie*(Nt+Ie*(se+Ie*or-Nt)-yt),dt=(xt=(Tt=H+Ie*Er)+Ie*((we=Z+Ie*Nr)-Tt))+Ie*(we+Ie*(Ae+Ie*Ft-we)-xt),ot==0?(Vt=zt,jt=dt,sr=zt,Xt=dt):(Vt=Math.min(Vt,zt),jt=Math.min(jt,dt),sr=Math.max(sr,zt),Xt=Math.max(Xt,dt));return new l(Math.round(Vt),Math.round(jt),Math.round(sr-Vt),Math.round(Xt-jt))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,H,q=(O=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:H}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(fr.API),(function(t){var e=function(s){var l,c,f,p,v,y,_,T,b,C;for(c=[],f=0,p=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;p>f;f+=4)(v=(s.charCodeAt(f)<<24)+(s.charCodeAt(f+1)<<16)+(s.charCodeAt(f+2)<<8)+s.charCodeAt(f+3))!==0?(y=(v=((v=((v=((v=(v-(C=v%85))/85)-(b=v%85))/85)-(T=v%85))/85)-(_=v%85))/85)%85,c.push(y+33,_+33,T+33,b+33,C+33)):c.push(122);return(function(P,j){for(var R=j;R>0;R--)P.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var l,c,f,p,v,y=String,_="length",T=255,b="charCodeAt",C="slice",P="replace";for(s[C](-2),s=s[C](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),f=[],p=0,v=(s+=l="uuuuu"[C](s[_]%5||5))[_];v>p;p+=5)c=52200625*(s[b](p)-33)+614125*(s[b](p+1)-33)+7225*(s[b](p+2)-33)+85*(s[b](p+3)-33)+(s[b](p+4)-33),f.push(T&c>>24,T&c>>16,T&c>>8,T&c);return(function(j,R){for(var B=R;B>0;B--)j.pop()})(f,l[_]),y.fromCharCode.apply(y,f)},n=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",f=0;f<s.length;f+=2)c+=String.fromCharCode("0x"+(s[f]+s[f+1]));return c},a=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return(l=c_(l)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};t.processDataByFilters=function(s,l){var c=0,f=s||"",p=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(fr.API),(function(t){t.loadFile=function(e,r,n){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,f,p){var v=new XMLHttpRequest,y=0,_=function(T){var b=T.length,C=[],P=String.fromCharCode;for(y=0;y<b;y+=1)C.push(P(255&T.charCodeAt(y)));return C.join("")};if(v.open("GET",c,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?p(_(this.responseText)):p(void 0)}),v.send(null),f&&v.status===200)return _(v.responseText)})(i,a,s)}catch{}return l})(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(fr.API),(function(t){function e(){return(Or.html2canvas?Promise.resolve(Or.html2canvas):Jv(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Or.DOMPurify?Promise.resolve(Or.DOMPurify):Jv(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Gn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var f=document.createElement(l);for(var p in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[p]=c.style[p];return f},a=function l(c,f){for(var p=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),v=c.firstChild;v;v=v.nextSibling)f!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||p.appendChild(l(v,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(p.width=c.width,p.height=c.height,p.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(p.value=c.value),p.addEventListener("load",function(){p.scrollTop=c.scrollTop,p.scrollLeft=c.scrollLeft},!0)),p},s=function l(c){var f=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),p=l.convert(Promise.resolve(),f);return(p=p.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(f){return this.set({src:i("div",{innerHTML:l,dompurify:f})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var f=this.opt.jsPDF,p=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var _=0;_<p.length;++_){var T=p[_],b=T.src.find(function(C){return C.format==="truetype"});b&&f.addFont(b.url,T.ref.name,T.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,f.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(f){if(f in s.template.prop)return function(){this.prop[f]=l[f]};switch(f){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[f]=l[f]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var f=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(f):f})},s.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(l=l||fr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,f,p){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,f,p){return this.setProgress(l?this.progress.val+l:null,c||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},s.prototype.then=function(l,c){var f=this;return this.thenCore(l,c,function(p,v){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return f.updateProgress(null,p),y}).then(p,v).then(function(y){return f.updateProgress(1),y})})},s.prototype.thenCore=function(l,c,f){f=f||Promise.prototype.then;var p=this;l&&(l=l.bind(p)),c&&(c=c.bind(p));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:s.convert(Object.assign({},p),Promise.prototype),y=f.call(v,l,c);return s.convert(y,p.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(f){c=c.thenCore(f)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,fr.getPageSize=function(l,c,f){if(Gn(l)==="object"){var p=l;l=p.orientation,c=p.unit||c,f=p.format||f}c=c||"mm",f=f||"a4",l=(""+(l||"P")).toLowerCase();var v,y=(""+f).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+c}var T,b=0,C=0;if(_.hasOwnProperty(y))b=_[y][1]/v,C=_[y][0]/v;else try{b=f[1],C=f[0]}catch{throw new Error("Invalid format: "+f)}if(l==="p"||l==="portrait")l="p",C>b&&(T=C,C=b,b=T);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",b>C&&(T=C,C=b,b=T)}return{width:C,height:b,unit:c,k:v,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(g2):null;var f=new s(c);return c.worker?f:f.from(l).doCallback()}})(fr.API),fr.API.addJS=function(t){return _4=t,this.internal.events.subscribe("postPutResources",function(){Rm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Rm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),v4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Rm!==void 0&&v4!==void 0&&this.internal.out("/Names <</JavaScript "+Rm+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=n.exec(s);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var v=r.internal.newObject();p.push(v);var y=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var _=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<p.length;a++)r.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+_+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(fr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,l){var c,f=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(v){for(var y,_=256*v.charCodeAt(4)+v.charCodeAt(5),T=v.length,b={width:0,height:0,numcomponents:1},C=4;C<T;C+=2){if(C+=_,e.indexOf(v.charCodeAt(C+1))!==-1){y=256*v.charCodeAt(C+5)+v.charCodeAt(C+6),b={width:256*v.charCodeAt(C+7)+v.charCodeAt(C+8),height:y,numcomponents:v.charCodeAt(C+9)};break}_=256*v.charCodeAt(C+2)+v.charCodeAt(C+3)}return b})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:f,index:n,alias:i}}return p}})(fr.API),fr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=UO(t,{checkCrc:!0}),s=a.width,l=a.height,c=a.channels,f=a.palette,p=a.depth;i=f&&c===1?(function(K){for(var U=K.width,X=K.height,I=K.data,W=K.palette,ce=K.depth,pe=!1,xe=[],oe=[],be=void 0,_e=!1,Le=0,Ne=0;Ne<W.length;Ne++){var Q=b5(W[Ne],4),O=Q[0],H=Q[1],q=Q[2],Z=Q[3];xe.push(O,H,q),Z!=null&&(Z===0?(Le++,oe.length<1&&oe.push(Ne)):Z<255&&(_e=!0))}if(_e||Le>1){pe=!0,oe=void 0;var se=U*X;be=new Uint8Array(se);for(var Ae=new DataView(I.buffer),Oe=0;Oe<se;Oe++){var Re=_2(Ae,Oe,ce),Ie=b5(W[Re],4)[3];be[Oe]=Ie}}else Le===0&&(oe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:pe?8:void 0,colorBytes:I,alphaBytes:be,needSMask:pe,palette:xe,mask:oe}})(a):c===2||c===4?(function(K){for(var U=K.data,X=K.width,I=K.height,W=K.channels,ce=K.depth,pe=W===2?"DeviceGray":"DeviceRGB",xe=W-1,oe=X*I,be=xe,_e=oe*be,Le=1*oe,Ne=Math.ceil(_e*ce/8),Q=Math.ceil(Le*ce/8),O=new Uint8Array(Ne),H=new Uint8Array(Q),q=new DataView(U.buffer),Z=new DataView(O.buffer),se=new DataView(H.buffer),Ae=!1,Oe=0;Oe<oe;Oe++){for(var Re=Oe*W,Ie=0;Ie<be;Ie++)L4(Z,_2(q,Re+Ie,ce),Oe*be+Ie,ce);var ot=_2(q,Re+be,ce);ot<(1<<ce)-1&&(Ae=!0),L4(se,ot,1*Oe,ce)}return{colorSpace:pe,colorsPerPixel:xe,sMaskBitsPerComponent:Ae?ce:void 0,colorBytes:O,alphaBytes:H,needSMask:Ae}})(a):(function(K){var U=K.data,X=K.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:X,colorsPerPixel:X==="DeviceGray"?1:3,colorBytes:U instanceof Uint16Array?(function(I){for(var W=I.length,ce=new Uint8Array(2*W),pe=new DataView(ce.buffer,ce.byteOffset,ce.byteLength),xe=0;xe<W;xe++)pe.setUint16(2*xe,I[xe],!1);return ce})(U):U,needSMask:!1}})(a);var v,y,_,T=i,b=T.colorSpace,C=T.colorsPerPixel,P=T.sMaskBitsPerComponent,j=T.colorBytes,R=T.alphaBytes,B=T.needSMask,te=T.palette,ue=T.mask,F=null;return n!==fr.API.image_compression.NONE&&typeof c_=="function"?(F=(function(K){var U;switch(K){case fr.API.image_compression.FAST:U=11;break;case fr.API.image_compression.MEDIUM:U=13;break;case fr.API.image_compression.SLOW:U=14;break;default:U=12}return U})(n),v=this.decode.FLATE_DECODE,y="/Predictor ".concat(F," /Colors ").concat(C," /BitsPerComponent ").concat(p," /Columns ").concat(s),t=b4(j,Math.ceil(s*C*p/8),C,p,n),B&&(_=b4(R,Math.ceil(s*P/8),1,P,n))):(v=void 0,y=void 0,t=j,B&&(_=R)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:r,data:t,index:e,filter:v,decodeParameters:y,transparency:ue,palette:te,sMask:_,predictor:F,width:s,height:l,bitsPerComponent:p,sMaskBitsPerComponent:P,colorSpace:b}}},(function(t){t.processGIF89A=function(e,r,n,i){var a=new oR(e),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:s,height:l},p=new y2(100).encode(f,100);return t.processJPEG.call(this,p,r,n,i)},t.processGIF87A=t.processGIF89A})(fr.API),Ul.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ul.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){ti.log("bit decode error:"+r)}},Ul.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Ul.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,l=a>>4,c=15&a,f=this.palette[l];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Ul.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Ul.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,f=a>>15?255:0,p=n*this.width*4+4*i;this.data[p]=c,this.data[p+1]=l,this.data[p+2]=s,this.data[p+3]=f}this.pos+=t}},Ul.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,f=(s>>11)/e*255|0,p=i*this.width*4+4*a;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=255}this.pos+=t}},Ul.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ul.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=s}},Ul.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var a=new Ul(e,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},f=new y2(100).encode(c,100);return t.processJPEG.call(this,f,r,n,i)}})(fr.API),C4.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var a=new C4(e),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},f=new y2(100).encode(c,100);return t.processJPEG.call(this,f,r,n,i)}})(fr.API),fr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,f=0;f<i;f+=4){var p=n[f],v=n[f+1],y=n[f+2],_=n[f+3];a[l++]=p,a[l++]=v,a[l++]=y,s[c++]=_}var T=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:T,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},fr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Of=fr.API,Dm=Of.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,v=e.doKerning!==!1,y=0,_=t.length,T=0,b=l[0]||c,C=[];for(r=0;r<_;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(y=v&&Gn(f[n])==="object"&&!isNaN(parseInt(f[n][T],10))?f[n][T]/p:0,C.push((l[n]||b)/c+y)),T=n;return C},y4=Of.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Of.processArabic&&(t=Of.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Dm.apply(this,arguments).reduce(function(a,s){return a+s},0)},x4=function(t,e,r,n){for(var i=[],a=0,s=t.length,l=0;a!==s&&l+e[a]<r;)l+=e[a],a++;i.push(t.slice(0,a));var c=a;for(l=0;a!==s;)l+e[a]>n&&(i.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(t.slice(c,a)),i},w4=function(t,e,r){r||(r={});var n,i,a,s,l,c,f,p=[],v=[p],y=r.textIndent||0,_=0,T=0,b=t.split(" "),C=Dm.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var P=Array(c).join(" "),j=[];b.map(function(B){(B=B.split(/\s*\n/)).length>1?j=j.concat(B.map(function(te,ue){return(ue&&te.length?`
`:"")+te})):j.push(B[0])}),b=j,c=y4.apply(this,[P,r])}for(a=0,s=b.length;a<s;a++){var R=0;if(n=b[a],c&&n[0]==`
`&&(n=n.substr(1),R=1),y+_+(T=(i=Dm.apply(this,[n,r])).reduce(function(B,te){return B+te},0))>e||R){if(T>e){for(l=x4.apply(this,[n,i,e-(y+_),e]),p.push(l.shift()),p=[l.pop()];l.length;)v.push([l.shift()]);T=i.slice(n.length-(p[0]?p[0].length:0)).reduce(function(B,te){return B+te},0)}else p=[n];v.push(p),y=T+c,_=C}else p.push(n),y+=_+T,_=C}return f=c?function(B,te){return(te?P:"")+B.join(" ")}:function(B){return B.join(" ")},v.map(f)},Of.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle),y="Unicode";return v.metadata[y]?{widths:v.metadata[y].widths||{0:1},kerning:v.metadata[y].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,f=[];for(l=0,c=n.length;l<c;l++)f=f.concat(w4.apply(this,[n[l],s,a]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var s=function(y){return"0x"+parseInt(y,10).toString(16)},l=t.__fontmetrics__.compress=function(y){var _,T,b,C,P=["{"];for(var j in y){if(_=y[j],isNaN(parseInt(j,10))?T="'"+j+"'":(j=parseInt(j,10),T=(T=s(j).slice(2)).slice(0,-1)+i[T.slice(-1)]),typeof _=="number")_<0?(b=s(_).slice(3),C="-"):(b=s(_).slice(2),C=""),b=C+b.slice(0,-1)+i[b.slice(-1)];else{if(Gn(_)!=="object")throw new Error("Don't know what to do with value type "+Gn(_)+".");b=l(_)}P.push(T+b)}return P.push("}"),P.join("")},c=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,T,b,C,P={},j=1,R=P,B=[],te="",ue="",F=y.length-1,K=1;K<F;K+=1)(C=y[K])=="'"?_?(b=_.join(""),_=void 0):_=[]:_?_.push(C):C=="{"?(B.push([R,b]),R={},b=void 0):C=="}"?((T=B.pop())[0][T[1]]=R,b=void 0,R=T[0]):C=="-"?j=-1:b===void 0?n.hasOwnProperty(C)?(te+=n[C],b=parseInt(te,16)*j,j=1,te=""):te+=C:n.hasOwnProperty(C)?(ue+=n[C],R[b]=parseInt(ue,16)*j,j=1,b=void 0,ue=""):ue+=C;return P},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},v={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var _=y.font,T=v.Unicode[_.postScriptName];T&&(_.metadata.Unicode={},_.metadata.Unicode.widths=T.widths,_.metadata.Unicode.kerning=T.kerning);var b=p.Unicode[_.postScriptName];b&&(_.metadata.Unicode.encoding=b,_.encoding=b.codePages[0])}])})(fr.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(r1(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])})(fr),fr.API.addSvgAsImage=function(t,e,r,n,i,a,s,l){if(isNaN(e)||isNaN(r))throw ti.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw ti.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(Or.canvg?Promise.resolve(Or.canvg):Jv(()=>import("./index.es-07nGUAho.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(f,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){v.addImage(c.toDataURL("image/jpeg",1),e,r,n,i,s,l)})},fr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},fr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],f=0,p=0,v=0;function y(T,b){var C,P=!1;for(C=0;C<T.length;C+=1)T[C]===b&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var _=l.length;for(v=0;v<_;v+=1)r[l[v]].value=r[l[v]].defaultValue,r[l[v]].explicitSet=!1}if(Gn(t)==="object"){for(i in t)if(a=t[i],y(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&y(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(f=0;f<a.length;f+=1)if(n=!0,a[f].length===1&&typeof a[f][0]=="number")c.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(n=!1);n===!0&&c.push([a[f][0]-1,a[f][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,b=[];for(T in r)r[T].explicitSet===!0&&(r[T].type==="name"?b.push("/"+T+" /"+r[T].value):b.push("/"+T+" "+r[T].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+s.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(fr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],v=0,y=a.length;v<y;++v){if(l=s.metadata.characterToGlyph(a.charCodeAt(v)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(v),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(f[4-l.length],l)}return p.join("")},n=function(a){var s,l,c,f,p,v,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],v=0,y=(l=Object.keys(a).sort(function(_,T){return _-T})).length;v<y;v++)s=l[v],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(f=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+f+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,f=s.newObject,p=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var v=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),_="",T=0;T<y.length;T++)_+=String.fromCharCode(y[T]);var b=f();p({data:_,addLength1:!0,objectId:b}),c("endobj");var C=f();p({data:n(l.metadata.toUnicode),addLength1:!0,objectId:C}),c("endobj");var P=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Vf(l.fontName)),c("/FontFile2 "+b+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+Vf(l.fontName)),c("/FontDescriptor "+P+" 0 R"),c("/W "+t.API.PDFObject.convert(v)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+C+" 0 R"),c("/BaseFont /"+Vf(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,f=s.newObject,p=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var v=l.metadata.rawData,y="",_=0;_<v.length;_++)y+=String.fromCharCode(v[_]);var T=f();p({data:y,addLength1:!0,objectId:T}),c("endobj");var b=f();p({data:n(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var C=f();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+T+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Vf(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=f();for(var P=0;P<l.metadata.hmtx.widths.length;P++)l.metadata.hmtx.widths[P]=parseInt(l.metadata.hmtx.widths[P]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Vf(l.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,f=a.y,p=a.options||{},v=a.mutex||{},y=v.pdfEscape,_=v.activeFontKey,T=v.fonts,b=_,C="",P=0,j="",R=T[b].encoding;if(T[b].encoding!=="Identity-H")return{text:l,x:c,y:f,options:p,mutex:v};for(j=l,b=_,Array.isArray(l)&&(j=l[0]),P=0;P<j.length;P+=1)T[b].metadata.hasOwnProperty("cmap")&&(s=T[b].metadata.cmap.unicode.codeMap[j[P].charCodeAt(0)]),s||j[P].charCodeAt(0)<256&&T[b].metadata.hasOwnProperty("Unicode")?C+=j[P]:C+="";var B="";return parseInt(b.slice(1))<14||R==="WinAnsiEncoding"?B=y(C,b).split("").map(function(te){return te.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(B=r(C,T[b])),v.isHex=!0,{text:B,x:c,y:f,options:p,mutex:v}};e.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?l.push([i(Object.assign({},c,{text:s[f][0]})).text,s[f][1],s[f][2]]):l.push(i(Object.assign({},c,{text:s[f]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])})(fr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(fr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,l,c,f,p,v=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,R=0;this.__bidiEngine__={};var B=function(I){var W=I.charCodeAt(),ce=W>>8,pe=b[ce];return pe!==void 0?v[256*pe+(255&W)]:ce===252||ce===253?"AL":P.test(ce)?"L":ce===8?"R":"N"},te=function(I){for(var W,ce=0;ce<I.length;ce++){if((W=B(I.charAt(ce)))==="L")return!1;if(W==="R")return!0}return!1},ue=function(I,W,ce,pe){var xe,oe,be,_e,Le=W[pe];switch(Le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(Le="AN");break;case"AL":j=!0,Le="R";break;case"WS":case"BN":Le="N";break;case"CS":pe<1||pe+1>=W.length||(xe=ce[pe-1])!=="EN"&&xe!=="AN"||(oe=W[pe+1])!=="EN"&&oe!=="AN"?Le="N":j&&(oe="AN"),Le=oe===xe?oe:"N";break;case"ES":Le=(xe=pe>0?ce[pe-1]:"B")==="EN"&&pe+1<W.length&&W[pe+1]==="EN"?"EN":"N";break;case"ET":if(pe>0&&ce[pe-1]==="EN"){Le="EN";break}if(j){Le="N";break}for(be=pe+1,_e=W.length;be<_e&&W[be]==="ET";)be++;Le=be<_e&&W[be]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(_e=W.length,be=pe+1;be<_e&&W[be]==="NSM";)be++;if(be<_e){var Ne=I[pe],Q=Ne>=1425&&Ne<=2303||Ne===64286;if(xe=W[be],Q&&(xe==="R"||xe==="AL")){Le="R";break}}}Le=pe<1||(xe=W[pe-1])==="B"?"N":ce[pe-1];break;case"B":j=!1,i=!0,Le=R;break;case"S":a=!0,Le="N"}return Le},F=function(I,W,ce){var pe=I.split("");return ce&&K(pe,ce,{hiLevel:R}),pe.reverse(),W&&W.reverse(),pe.join("")},K=function(I,W,ce){var pe,xe,oe,be,_e,Le=-1,Ne=I.length,Q=0,O=[],H=R?_:y,q=[];for(j=!1,i=!1,a=!1,xe=0;xe<Ne;xe++)q[xe]=B(I[xe]);for(oe=0;oe<Ne;oe++){if(_e=Q,O[oe]=ue(I,q,O,oe),pe=240&(Q=H[_e][T[O[oe]]]),Q&=15,W[oe]=be=H[Q][5],pe>0)if(pe===16){for(xe=Le;xe<oe;xe++)W[xe]=1;Le=-1}else Le=-1;if(H[Q][6])Le===-1&&(Le=oe);else if(Le>-1){for(xe=Le;xe<oe;xe++)W[xe]=be;Le=-1}q[oe]==="B"&&(W[oe]=0),ce.hiLevel|=be}a&&(function(Z,se,Ae){for(var Oe=0;Oe<Ae;Oe++)if(Z[Oe]==="S"){se[Oe]=R;for(var Re=Oe-1;Re>=0&&Z[Re]==="WS";Re--)se[Re]=R}})(q,W,Ne)},U=function(I,W,ce,pe,xe){if(!(xe.hiLevel<I)){if(I===1&&R===1&&!i)return W.reverse(),void(ce&&ce.reverse());for(var oe,be,_e,Le,Ne=W.length,Q=0;Q<Ne;){if(pe[Q]>=I){for(_e=Q+1;_e<Ne&&pe[_e]>=I;)_e++;for(Le=Q,be=_e-1;Le<be;Le++,be--)oe=W[Le],W[Le]=W[be],W[be]=oe,ce&&(oe=ce[Le],ce[Le]=ce[be],ce[be]=oe);Q=_e}Q++}}},X=function(I,W,ce){var pe=I.split(""),xe={hiLevel:R};return ce||(ce=[]),K(pe,ce,xe),(function(oe,be,_e){if(_e.hiLevel!==0&&p)for(var Le,Ne=0;Ne<oe.length;Ne++)be[Ne]===1&&(Le=C.indexOf(oe[Ne]))>=0&&(oe[Ne]=C[Le+1])})(pe,ce,xe),U(2,pe,W,ce,xe),U(1,pe,W,ce,xe),pe.join("")};return this.__bidiEngine__.doBidiReorder=function(I,W,ce){if((function(xe,oe){if(oe)for(var be=0;be<xe.length;be++)oe[be]=be;l===void 0&&(l=te(xe)),f===void 0&&(f=te(xe))})(I,W),s||!c||f)if(s&&c&&l^f)R=l?1:0,I=F(I,W,ce);else if(!s&&c&&f)R=l?1:0,I=X(I,W,ce),I=F(I,W);else if(!s||l||c||f){if(s&&!c&&l^f)I=F(I,W),l?(R=0,I=X(I,W,ce)):(R=1,I=X(I,W,ce),I=F(I,W));else if(s&&l&&!c&&f)R=1,I=X(I,W,ce),I=F(I,W);else if(!s&&!c&&l^f){var pe=p;l?(R=1,I=X(I,W,ce),R=0,p=!1,I=X(I,W,ce),p=pe):(R=0,I=X(I,W,ce),I=F(I,W),R=1,p=!1,I=X(I,W,ce),p=pe,I=F(I,W))}}else R=0,I=X(I,W,ce);else R=l?1:0,I=X(I,W,ce);return I},this.__bidiEngine__.setOptions=function(I){I&&(s=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,f=I.isOutputRtl,p=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([r.doBidiReorder(i[l])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(fr),fr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Qc(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new bR(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new lR(this.contents),this.head=new cR(this),this.name=new mR(this),this.cmap=new qE(this),this.toUnicode={},this.hhea=new hR(this),this.maxp=new gR(this),this.hmtx=new vR(this),this.post=new dR(this),this.os2=new fR(this),this.loca=new wR(this),this.glyf=new _R(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,f;for(f=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,l;for(s=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Jl,Qc=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t})(),lR=(function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,l,c,f,p,v,y,_,T,b;for(b in _=Object.keys(r).length,c=Math.log(2),v=16*Math.floor(Math.log(_)/c),s=Math.floor(v/c),p=16*_-v,(i=new Qc).writeInt(this.scalarType),i.writeShort(_),i.writeShort(v),i.writeShort(s),i.writeShort(p),a=16*_,f=i.pos+a,l=null,T=[],r)for(y=r[b],i.writeString(b),i.writeInt(t(y)),i.writeInt(f),i.writeInt(y.length),T=T.concat(y),b==="head"&&(l=f),f+=y.length;f%4;)T.push(0),f++;return i.write(T),n=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=VE.call(r);r.length%4;)r.push(0);for(a=new Qc(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),uR={}.hasOwnProperty,Du=function(t,e){for(var r in e)uR.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Jl=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var cR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Jl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Qc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),M4=(function(){function t(e,r){var n,i,a,s,l,c,f,p,v,y,_,T,b,C,P,j,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(_=e.readUInt16(),y=_/2,e.pos+=6,a=(function(){var B,te;for(te=[],c=B=0;0<=y?B<y:B>y;c=0<=y?++B:--B)te.push(e.readUInt16());return te})(),e.pos+=2,b=(function(){var B,te;for(te=[],c=B=0;0<=y?B<y:B>y;c=0<=y?++B:--B)te.push(e.readUInt16());return te})(),f=(function(){var B,te;for(te=[],c=B=0;0<=y?B<y:B>y;c=0<=y?++B:--B)te.push(e.readUInt16());return te})(),p=(function(){var B,te;for(te=[],c=B=0;0<=y?B<y:B>y;c=0<=y?++B:--B)te.push(e.readUInt16());return te})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var B,te;for(te=[],c=B=0;0<=i?B<i:B>i;c=0<=i?++B:--B)te.push(e.readUInt16());return te})(),c=P=0,R=a.length;P<R;c=++P)for(C=a[c],n=j=T=b[c];T<=C?j<=C:j>=C;n=T<=C?++j:--j)p[c]===0?s=n+f[c]:(s=l[p[c]/2+(n-T)-(y-c)]||0)!==0&&(s+=f[c]),this.codeMap[n]=65535&s}e.pos=v}return t.encode=function(e,r){var n,i,a,s,l,c,f,p,v,y,_,T,b,C,P,j,R,B,te,ue,F,K,U,X,I,W,ce,pe,xe,oe,be,_e,Le,Ne,Q,O,H,q,Z,se,Ae,Oe,Re,Ie,ot,it;switch(pe=new Qc,s=Object.keys(e).sort(function(Tt,Nt){return Tt-Nt}),r){case"macroman":for(b=0,C=(function(){var Tt=[];for(T=0;T<256;++T)Tt.push(0);return Tt})(),j={0:0},a={},xe=0,Le=s.length;xe<Le;xe++)j[Re=e[i=s[xe]]]==null&&(j[Re]=++b),a[i]={old:e[i],new:j[e[i]]},C[i]=j[e[i]];return pe.writeUInt16(1),pe.writeUInt16(0),pe.writeUInt32(12),pe.writeUInt16(0),pe.writeUInt16(262),pe.writeUInt16(0),pe.write(C),{charMap:a,subtable:pe.data,maxGlyphID:b+1};case"unicode":for(W=[],v=[],R=0,j={},n={},P=f=null,oe=0,Ne=s.length;oe<Ne;oe++)j[te=e[i=s[oe]]]==null&&(j[te]=++R),n[i]={old:te,new:j[te]},l=j[te]-i,P!=null&&l===f||(P&&v.push(P),W.push(i),f=l),P=i;for(P&&v.push(P),v.push(65535),W.push(65535),X=2*(U=W.length),K=2*Math.pow(Math.log(U)/Math.LN2,2),y=Math.log(K/2)/Math.LN2,F=2*U-K,c=[],ue=[],_=[],T=be=0,Q=W.length;be<Q;T=++be){if(I=W[T],p=v[T],I===65535){c.push(0),ue.push(0);break}if(I-(ce=n[I].new)>=32768)for(c.push(0),ue.push(2*(_.length+U-T)),i=_e=I;I<=p?_e<=p:_e>=p;i=I<=p?++_e:--_e)_.push(n[i].new);else c.push(ce-I),ue.push(0)}for(pe.writeUInt16(3),pe.writeUInt16(1),pe.writeUInt32(12),pe.writeUInt16(4),pe.writeUInt16(16+8*U+2*_.length),pe.writeUInt16(0),pe.writeUInt16(X),pe.writeUInt16(K),pe.writeUInt16(y),pe.writeUInt16(F),Ae=0,O=v.length;Ae<O;Ae++)i=v[Ae],pe.writeUInt16(i);for(pe.writeUInt16(0),Oe=0,H=W.length;Oe<H;Oe++)i=W[Oe],pe.writeUInt16(i);for(Ie=0,q=c.length;Ie<q;Ie++)l=c[Ie],pe.writeUInt16(l);for(ot=0,Z=ue.length;ot<Z;ot++)B=ue[ot],pe.writeUInt16(B);for(it=0,se=_.length;it<se;it++)b=_[it],pe.writeUInt16(b);return{charMap:n,subtable:pe.data,maxGlyphID:R+1}}},t})(),qE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Jl),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new M4(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=M4.encode(e,r),(i=new Qc).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),hR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Jl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),fR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Jl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),dR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Jl),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,l,c;for(c=[],a=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;a=0<=l?++s:--s)c.push(e.readUInt32());return c}).call(this)}},t})(),pR=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},mR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Jl),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,s,l,c,f,p,v,y;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=p=0,v=n.length;p<v;a=++p)i=n[a],e.pos=i.offset,f=e.readString(i.length),s=new pR(f,i),c[y=i.nameID]==null&&(c[y]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),gR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Jl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),vR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Jl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,s,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],r=f=0;0<=i?f<i:f>i;r=0<=i?++f:--f)p.push(e.readInt16());return p})(),this.widths=(function(){var f,p,v,y;for(y=[],f=0,p=(v=this.metrics).length;f<p;f++)a=v[f],y.push(a.advance);return y}).call(this),n=this.widths[this.widths.length-1],c=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),VE=[].slice,_R=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Jl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,s,l,c,f,p,v;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(l=new Qc(r.read(i))).readShort(),f=l.readShort(),v=l.readShort(),c=l.readShort(),p=l.readShort(),this.cache[e]=s===-1?new xR(l,f,v,c,p):new yR(l,s,f,v,c,p),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,s,l,c;for(s=[],a=[],l=0,c=r.length;l<c;l++)i=e[r[l]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},t})(),yR=(function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),xR=(function(){function t(e,r,n,i,a){var s,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Qc(VE.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),wR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Du(t,Jl),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(i+=c)}for(var f=new Array(4*n.length),p=0;p<n.length;++p)f[4*p+3]=255&n[p],f[4*p+2]=(65280&n[p])>>8,f[4*p+1]=(16711680&n[p])>>16,f[4*p]=(4278190080&n[p])>>24;return f},t})(),bR=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,l,c;for(i={},s=0,l=e.length;s<l;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,l,c,f,p,v,y,_,T,b,C,P;for(i in n=qE.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),_={0:0},P=n.charMap)_[(c=P[i]).old]=c.new;for(T in y=n.maxGlyphID,s)T in _||(_[T]=y++);return p=(function(j){var R,B;for(R in B={},j)B[j[R]]=R;return B})(_),v=Object.keys(p).sort(function(j,R){return j-R}),b=(function(){var j,R,B;for(B=[],j=0,R=v.length;j<R;j++)l=v[j],B.push(p[l]);return B})(),a=this.font.glyf.encode(s,b,_),f=this.font.loca.encode(a.offsets,b),C={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},t})();fr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+(function(){var l,c,f;for(f=[],l=0,c=r.length;l<c;l++)n=r[l],f.push(e.convert(n));return f})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e})();const x2=async t=>{try{const r=await(await fetch(t)).blob();return new Promise((n,i)=>{const a=new FileReader;a.onloadend=()=>n(a.result),a.onerror=i,a.readAsDataURL(r)})}catch(e){return console.error("Error loading image:",e),null}},SR=(t,e)=>new Promise(r=>{const n=document.createElement("canvas");n.width=600,n.height=450;const i=n.getContext("2d"),a=i.createLinearGradient(0,0,n.width,n.height);a.addColorStop(0,"#f8fafc"),a.addColorStop(1,"#e2e8f0"),i.fillStyle=a,i.fillRect(0,0,n.width,n.height),i.strokeStyle="#cbd5e1",i.lineWidth=.3;for(let c=0;c<=n.width;c+=25)i.beginPath(),i.moveTo(c,0),i.lineTo(c,n.height),i.stroke();for(let c=0;c<=n.height;c+=25)i.beginPath(),i.moveTo(0,c),i.lineTo(n.width,c),i.stroke();if(i.shadowColor="rgba(0, 0, 0, 0.1)",i.shadowBlur=10,i.strokeStyle="#64748b",i.lineWidth=3,i.strokeRect(5,5,n.width-10,n.height-10),i.shadowBlur=0,t&&t.type==="Polygon"){const c=t.coordinates[0],f=c.map(F=>F[0]),p=c.map(F=>F[1]),v=Math.min(...f),y=Math.max(...f),_=Math.min(...p),T=Math.max(...p),b=60,C=(n.width-2*b)/(y-v),P=(n.height-2*b)/(T-_),j=Math.min(C,P),R=F=>b+(F-v)*j,B=F=>n.height-(b+(F-_)*j);i.shadowColor="rgba(37, 99, 235, 0.3)",i.shadowBlur=15,i.shadowOffsetX=5,i.shadowOffsetY=5;const te=i.createLinearGradient(0,0,n.width,n.height);te.addColorStop(0,"rgba(59, 130, 246, 0.2)"),te.addColorStop(1,"rgba(37, 99, 235, 0.3)"),i.fillStyle=te,i.beginPath(),c.forEach((F,K)=>{const U=R(F[0]),X=B(F[1]);K===0?i.moveTo(U,X):i.lineTo(U,X)}),i.closePath(),i.fill(),i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0,i.strokeStyle="#1d4ed8",i.lineWidth=3,i.stroke(),c.forEach((F,K)=>{if(K<c.length-1){const U=R(F[0]),X=B(F[1]);i.beginPath(),i.arc(U,X,8,0,2*Math.PI),i.fillStyle="rgba(37, 99, 235, 0.3)",i.fill(),i.beginPath(),i.arc(U,X,5,0,2*Math.PI),i.fillStyle="#1e40af",i.fill(),i.beginPath(),i.arc(U,X,2,0,2*Math.PI),i.fillStyle="#ffffff",i.fill(),i.fillStyle="#1e293b",i.font="bold 10px Arial",i.fillText(`P${K+1}`,U+10,X-10)}}),i.font="bold 11px Arial",i.textAlign="center";for(let F=0;F<c.length-1;F++){const K=c[F],U=c[(F+1)%(c.length-1)]||c[F+1],X=R(K[0]),I=B(K[1]),W=R(U[0]),ce=B(U[1]),pe=6371e3,xe=K[1]*Math.PI/180,oe=U[1]*Math.PI/180,be=(U[1]-K[1])*Math.PI/180,_e=(U[0]-K[0])*Math.PI/180,Le=Math.sin(be/2)*Math.sin(be/2)+Math.cos(xe)*Math.cos(oe)*Math.sin(_e/2)*Math.sin(_e/2),Ne=2*Math.atan2(Math.sqrt(Le),Math.sqrt(1-Le)),Q=pe*Ne,O=(X+W)/2,H=(I+ce)/2;i.fillStyle="#1e40af";const q=55,Z=18;i.beginPath(),i.roundRect(O-q/2,H-Z/2,q,Z,4),i.fill(),i.fillStyle="#ffffff",i.fillText(`${Q.toFixed(1)}m`,O,H+4)}const ue=n.width/2;i.fillStyle="#059669",i.beginPath(),i.roundRect(ue-60,20,120,30,6),i.fill(),i.fillStyle="#ffffff",i.font="bold 14px Arial",i.fillText(`Area: ${e||0} m`,ue,40)}const s=n.width-50,l=50;i.beginPath(),i.arc(s,l,20,0,2*Math.PI),i.fillStyle="#ffffff",i.fill(),i.strokeStyle="#64748b",i.lineWidth=2,i.stroke(),i.fillStyle="#dc2626",i.beginPath(),i.moveTo(s,l-12),i.lineTo(s-6,l+5),i.lineTo(s,l),i.lineTo(s+6,l+5),i.closePath(),i.fill(),i.fillStyle="#1e293b",i.font="bold 10px Arial",i.textAlign="center",i.fillText("N",s,l+15),i.fillStyle="#64748b",i.font="9px Arial",i.textAlign="left",i.fillText("Scale: Approximate",15,n.height-15),r(n.toDataURL("image/png"))}),Pn={primary:[37,99,235],primaryDark:[30,64,175],success:[5,150,105],warning:[245,158,11],danger:[220,38,38],gray:[100,116,139],grayLight:[241,245,249],white:[255,255,255],black:[15,23,42]},Z_=async t=>{const e=new fr("p","mm","a4"),r=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),i=12,a=r-2*i;let s=0;const l=X=>e.setTextColor(X[0],X[1],X[2]),c=X=>e.setFillColor(X[0],X[1],X[2]),f=X=>e.setDrawColor(X[0],X[1],X[2]),p=(X=50)=>s>n-X?(e.addPage(),s=i+10,!0):!1,v=(X,I,W)=>(c(Pn.primary),e.roundedRect(i,W,a,10,2,2,"F"),c(Pn.primaryDark),e.rect(i,W,4,10,"F"),e.setFontSize(11),e.setFont("helvetica","bold"),l(Pn.white),e.text(`${I}  ${X}`,i+8,W+7),W+14),y=(X,I,W,ce,pe=80)=>{e.setFontSize(8),e.setFont("helvetica","normal"),l(Pn.gray),e.text(X,W,ce),e.setFontSize(9),e.setFont("helvetica","bold"),l(Pn.black);const xe=I!=null&&I!==""?String(I):"";e.text(xe.substring(0,40),W,ce+4)},_=(X,I,W,ce)=>{f(Pn.gray),e.setLineWidth(.3),e.rect(W,ce-3,3.5,3.5),I&&(c(Pn.success),e.rect(W+.5,ce-2.5,2.5,2.5,"F")),e.setFontSize(8),e.setFont("helvetica","normal"),l(Pn.black),e.text(X,W+5,ce)},T=(X,I,W,ce,pe,xe,oe)=>{c(oe),e.roundedRect(X,I,W,ce,2,2,"F"),e.setFontSize(8),e.setFont("helvetica","normal"),l(Pn.white),e.text(pe,X+W/2,I+6,{align:"center"}),e.setFontSize(14),e.setFont("helvetica","bold"),e.text(String(xe||""),X+W/2,I+14,{align:"center"})};c(Pn.primary),e.rect(0,0,r,45,"F"),c(Pn.primaryDark),e.rect(0,40,r,5,"F"),c(Pn.white),e.circle(20,20,10,"F"),e.setFontSize(6),l(Pn.primary),e.text("LOGO",20,21,{align:"center"}),e.setFontSize(20),e.setFont("helvetica","bold"),l(Pn.white),e.text("Property Tax Assessment Report",35,18),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Annexure-A Form | Official Survey Document",35,26),e.setFontSize(8),e.text(`Generated: ${new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,r-i,18,{align:"right"}),e.text(`Document ID: ${t.id?.substring(0,8)||"N/A"}`,r-i,24,{align:"right"}),s=52;const b=(a-9)/4;if(T(i,s,b,18,"Building ID",t.building_id||"N/A",Pn.primary),T(i+b+3,s,b,18,"Total Area",`${t.area_sqm||0} m`,Pn.success),T(i+(b+3)*2,s,b,18,"Floor",`${t.floor_number||1}/${t.total_floors||1}`,Pn.warning),T(i+(b+3)*3,s,b,18,"Status",t.status||"Pending",Pn.gray),s+=25,t.geometry)try{c(Pn.grayLight),e.roundedRect(i,s,a,75,3,3,"F"),f([203,213,225]),e.setLineWidth(.5),e.roundedRect(i,s,a,75,3,3);const X=await SR(t.geometry,t.area_sqm);e.addImage(X,"PNG",i+5,s+3,a-10,69),s+=80}catch(X){console.error("Error adding CAD diagram:",X),s+=10}p(60),s=v("Owner Information","",s);const C=i+3,P=i+a/3+3,j=i+a/3*2+3;if(y("Owner Name",t.owner_name,C,s),y("Phone Number",t.phone_number,P,s),y("Aadhaar Number",t.aadhaar_number,j,s),s+=12,y("Email Address",t.email_address,C,s),y("Family Members",t.family_members_count,P,s),y("Ownership Type",t.ownership_type,j,s),s+=12,y("Occupier Name",t.occupier_name,C,s),s+=15,p(50),s=v("Location Details","",s),y("7/12 Survey/Gat No",t.survey_gat_no,C,s),y("City Survey No",t.city_survey_no,P,s),y("Layout/Plot No",t.layout_name_plot_no,j,s),s+=12,y("Building Name",t.building_name,C,s),y("Nearest Road Type",t.nearest_road_type,P,s),y("Pin Code",t.pin_code,j,s),s+=12,y("Property Type",t.property_type,C,s),y("Usage Type",t.usage_type,P,s),y("Usage Sub-Type",t.usage_sub_type,j,s),s+=12,y("Full Address with Floor",t.address_with_floor,C,s,a-6),s+=15,p(50),s=v("Construction Details","",s),y("Construction Type",t.construction_type,C,s),y("Year of Construction",t.year_of_construction,P,s),t.year_of_construction){const X=new Date().getFullYear()-t.year_of_construction;y("Building Age",`${X} years`,j,s)}s+=12,y("Permission No",t.permission_no,C,s),y("Permission Date",t.permission_date,P,s),s+=10,_("Building Permission",t.building_permission,C,s),_("Occupancy Certificate",t.occupancy_certificate,P,s),s+=12,p(50),s=v("Water Supply Details","",s),_("Water Connection Available",t.water_connection,C,s),s+=8,t.water_connection&&(y("Connection Type",t.water_connection_type,C,s),y("Authorization",t.water_authorized,P,s),y("Pipe Size",t.pipe_size,j,s),s+=12,y("Meter No",t.water_meter_no,C,s),y("Consumer No",t.water_consumer_no,P,s),y("Connection Date",t.water_connection_date,j,s),s+=12),s+=5,p(50),s=v("Sanitation & Utilities","",s);const R=C,B=i+a/2;_("Has Toilet",t.has_toilet,R,s),_("Electricity Connection",t.electricity_connection,B,s),s+=7,_("Septic Tank",t.has_septic_tank,R,s),_("Solar Panels",t.has_solar,B,s),s+=7,_("Sewerage Connection",t.has_sewerage,R,s),_("Rain Water Harvesting",t.has_rainwater_harvesting,B,s),s+=7,_("Property Tax Paid",t.tax_paid,R,s),t.has_toilet&&t.toilet_count&&y("Toilet Count",t.toilet_count,B,s-2),s+=12,p(60),s=v("Assessment Details","",s),y("ULB Name",t.ulb_name,C,s),y("District",t.district,P,s),y("Town",t.town,j,s),s+=12,y("Zone No",t.zone_no,C,s),y("New Ward No",t.new_ward_no,P,s),y("Old Ward No",t.old_ward_no,j,s),s+=12,y("Old Property No",t.old_property_no,C,s),y("New Property No",t.new_property_no,P,s),s+=12,c([240,253,244]),e.roundedRect(i,s,a,16,2,2,"F"),s+=4,y("Total Carpet Area (m)",t.total_carpet_area,C,s),y("Exempted Area (m)",t.exempted_area,P,s),y("Assessable Area (m)",t.assessable_area,j,s),s+=18,p(80),s=v("Photo Documentation","",s);let te=i+5;const ue=45,F=55;if(t.owner_photo_url)try{const X=await x2(t.owner_photo_url);X&&(c(Pn.grayLight),e.roundedRect(te-2,s,ue+4,F+12,2,2,"F"),e.addImage(X,"JPEG",te,s+2,ue,F),e.setFontSize(7),e.setFont("helvetica","bold"),l(Pn.gray),e.text("Owner Photo",te+ue/2,s+F+8,{align:"center"}),te+=ue+15)}catch(X){console.error("Error adding owner photo:",X)}if(t.building_photo_url)try{const X=await x2(t.building_photo_url);X&&(c(Pn.grayLight),e.roundedRect(te-2,s,ue+4,F+12,2,2,"F"),e.addImage(X,"JPEG",te,s+2,ue,F),e.setFontSize(7),e.setFont("helvetica","bold"),l(Pn.gray),e.text("Building Front",te+ue/2,s+F+8,{align:"center"}),te+=ue+15)}catch(X){console.error("Error adding building photo 1:",X)}if(t.building_photo_url_2)try{const X=await x2(t.building_photo_url_2);X&&(c(Pn.grayLight),e.roundedRect(te-2,s,ue+4,F+12,2,2,"F"),e.addImage(X,"JPEG",te,s+2,ue,F),e.setFontSize(7),e.setFont("helvetica","bold"),l(Pn.gray),e.text("Building Side",te+ue/2,s+F+8,{align:"center"}))}catch(X){console.error("Error adding building photo 2:",X)}s+=F+20,p(30),c(Pn.grayLight),e.roundedRect(i,s,a,20,2,2,"F"),s+=6,e.setFontSize(8),e.setFont("helvetica","bold"),l(Pn.gray),e.text("Survey Metadata",i+5,s),s+=6,e.setFont("helvetica","normal"),e.setFontSize(7),e.text(`Survey ID: ${t.id||"N/A"}`,i+5,s),e.text(`Created: ${t.created_at?new Date(t.created_at).toLocaleString("en-IN"):"N/A"}`,i+70,s),e.text(`Surveyor ID: ${t.surveyor_id?.substring(0,12)||"N/A"}...`,i+140,s);const K=e.internal.getNumberOfPages();for(let X=1;X<=K;X++)e.setPage(X),f(Pn.primary),e.setLineWidth(.5),e.line(i,n-12,r-i,n-12),e.setFontSize(7),l(Pn.gray),e.text("Property Tax Assessment System | Annexure-A Form | Official Document | Confidential",r/2,n-8,{align:"center"}),e.setFont("helvetica","bold"),l(Pn.primary),e.text(`Page ${X} of ${K}`,r-i,n-8,{align:"right"});const U=`Annexure_A_${t.building_id||t.id?.substring(0,8)||"Survey"}_${new Date().toISOString().split("T")[0]}.pdf`;e.save(U)},$E=de.createContext(),WE=()=>{const t=de.useContext($E);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},ER=({children:t})=>{const[e,r]=de.useState([]),n=de.useCallback((f,p="info",v=4e3)=>{const y=Date.now();return r(_=>[..._,{id:y,message:f,type:p,duration:v}]),y},[]),i=de.useCallback(f=>{r(p=>p.filter(v=>v.id!==f))},[]),a=de.useCallback((f,p)=>n(f,"success",p),[n]),s=de.useCallback((f,p)=>n(f,"error",p),[n]),l=de.useCallback((f,p)=>n(f,"info",p),[n]),c=de.useCallback((f,p)=>n(f,"warning",p),[n]);return x.jsxs($E.Provider,{value:{success:a,error:s,info:l,warning:c,removeToast:i},children:[t,x.jsx(TR,{toasts:e,removeToast:i})]})},TR=({toasts:t,removeToast:e})=>x.jsx("div",{className:"fixed bottom-4 right-4 z-[10000] flex flex-col gap-2 max-w-sm w-full px-4 sm:px-0",children:t.map(r=>x.jsx(AR,{...r,onClose:()=>e(r.id)},r.id))}),AR=({id:t,message:e,type:r,duration:n,onClose:i})=>{const[a,s]=de.useState(!1),[l,c]=de.useState(100);de.useEffect(()=>{setTimeout(()=>s(!0),10);const y=Date.now(),_=setInterval(()=>{const b=Date.now()-y,C=Math.max(0,100-b/n*100);c(C)},50),T=setTimeout(()=>{s(!1),setTimeout(i,300)},n);return()=>{clearInterval(_),clearTimeout(T)}},[n,i]);const f={success:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),error:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),warning:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),info:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},p={success:"bg-green-500 text-white",error:"bg-red-500 text-white",warning:"bg-yellow-500 text-white",info:"bg-blue-500 text-white"},v={success:"bg-green-300",error:"bg-red-300",warning:"bg-yellow-300",info:"bg-blue-300"};return x.jsx("div",{className:`transform transition-all duration-300 ease-out ${a?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:x.jsxs("div",{className:`${p[r]} rounded-xl shadow-lg overflow-hidden`,children:[x.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[x.jsx("div",{className:"flex-shrink-0",children:f[r]}),x.jsx("p",{className:"flex-1 text-sm font-medium",children:e}),x.jsx("button",{onClick:()=>{s(!1),setTimeout(i,300)},className:"flex-shrink-0 p-1 rounded-full hover:bg-white/20 transition-colors",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"h-1 bg-black/10",children:x.jsx("div",{className:`h-full ${v[r]} transition-all duration-100 ease-linear`,style:{width:`${l}%`}})})]})})},LR="indicesSurveyDB",NR=1,_l={PENDING_SURVEYS:"pendingSurveys",CACHED_DATA:"cachedData"};let jm=null;const ag=()=>new Promise((t,e)=>{if(jm){t(jm);return}const r=indexedDB.open(LR,NR);r.onerror=()=>{console.error("Error opening IndexedDB:",r.error),e(r.error)},r.onsuccess=()=>{jm=r.result,console.log("IndexedDB initialized successfully"),t(jm)},r.onupgradeneeded=n=>{const i=n.target.result;if(!i.objectStoreNames.contains(_l.PENDING_SURVEYS)){const a=i.createObjectStore(_l.PENDING_SURVEYS,{keyPath:"id",autoIncrement:!0});a.createIndex("timestamp","timestamp",{unique:!1}),a.createIndex("status","status",{unique:!1})}i.objectStoreNames.contains(_l.CACHED_DATA)||i.createObjectStore(_l.CACHED_DATA,{keyPath:"key"})}}),k4=async t=>{const e=await ag();return new Promise((r,n)=>{const a=e.transaction([_l.PENDING_SURVEYS],"readwrite").objectStore(_l.PENDING_SURVEYS),s={...t,timestamp:Date.now(),status:"pending",attempts:0,lastAttempt:null},l=a.add(s);l.onsuccess=()=>{console.log("Survey added to pending queue, ID:",l.result),r(l.result)},l.onerror=()=>{console.error("Error adding survey to queue:",l.error),n(l.error)}})},ZE=async()=>{const t=await ag();return new Promise((e,r)=>{const a=t.transaction([_l.PENDING_SURVEYS],"readonly").objectStore(_l.PENDING_SURVEYS).getAll();a.onsuccess=()=>{e(a.result||[])},a.onerror=()=>{r(a.error)}})},CR=async()=>(await ZE()).filter(e=>e.status==="pending"||e.status==="failed").length,P4=async(t,e,r=null)=>{const n=await ag();return new Promise((i,a)=>{const l=n.transaction([_l.PENDING_SURVEYS],"readwrite").objectStore(_l.PENDING_SURVEYS),c=l.get(t);c.onsuccess=()=>{const f=c.result;if(!f){a(new Error("Survey not found"));return}f.status=e,f.lastAttempt=Date.now(),f.attempts+=1,r&&(f.lastError=r);const p=l.put(f);p.onsuccess=()=>i(f),p.onerror=()=>a(p.error)},c.onerror=()=>a(c.error)})},MR=async t=>{const e=await ag();return new Promise((r,n)=>{const s=e.transaction([_l.PENDING_SURVEYS],"readwrite").objectStore(_l.PENDING_SURVEYS).delete(t);s.onsuccess=()=>r(!0),s.onerror=()=>n(s.error)})},__=()=>navigator.onLine,kR=t=>{const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}},PR=({onSyncComplete:t})=>{const[e,r]=de.useState(__()),[n,i]=de.useState(0),[a,s]=de.useState(!1),[l,c]=de.useState(!1),[f,p]=de.useState(null);de.useEffect(()=>{v();const _=kR(b=>{r(b),b&&y()}),T=setInterval(v,5e3);return()=>{_(),clearInterval(T)}},[]);const v=async()=>{try{const _=await CR();i(_)}catch(_){console.error("Error getting pending count:",_)}},y=async()=>{if(!(!e||a)){s(!0),p(null);try{const T=(await ZE()).filter(j=>j.status==="pending"||j.status==="failed");if(T.length===0){p({success:!0,synced:0,message:"Nothing to sync"}),s(!1);return}let b=0,C=0;for(const j of T)try{await P4(j.id,"syncing");const{id:R,timestamp:B,status:te,attempts:ue,lastAttempt:F,lastError:K,...U}=j,{error:X}=await fn.from("surveys").insert([U]);if(X)throw X;await MR(j.id),b++}catch(R){console.error("Error syncing survey:",R),await P4(j.id,"failed",R.message),C++}const P=C>0?`Synced ${b}, failed ${C}`:`Successfully synced ${b} surveys`;p({success:C===0,synced:b,failed:C,message:P}),await v(),t&&t({synced:b,failed:C})}catch(_){console.error("Sync error:",_),p({success:!1,message:"Sync failed: "+_.message})}finally{s(!1),setTimeout(()=>p(null),5e3)}}};return e&&n===0&&!f?null:x.jsxs("div",{className:"fixed bottom-4 left-4 z-[1500]",children:[x.jsxs("div",{onClick:()=>c(!l),className:`flex items-center gap-3 px-4 py-3 rounded-full shadow-lg cursor-pointer transition-all ${e?n>0?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white":"bg-green-500 text-white":"bg-gradient-to-r from-amber-500 to-orange-500 text-white"}`,children:[x.jsxs("div",{className:"relative",children:[e?a?x.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}):x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})}),n>0&&x.jsx("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:n})]}),x.jsx("span",{className:"text-sm font-medium",children:e?a?"Syncing...":n>0?`${n} Pending`:"Online":"Offline Mode"})]}),l&&x.jsxs("div",{className:"mt-2 bg-white rounded-2xl shadow-xl p-4 min-w-[280px] border border-gray-100",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h4",{className:"font-semibold text-gray-800",children:"Sync Status"}),x.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[x.jsx("div",{className:`w-3 h-3 rounded-full ${e?"bg-green-500":"bg-amber-500"}`}),x.jsx("span",{className:"text-sm text-gray-600",children:e?"Connected to internet":"No internet connection"})]}),n>0&&x.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 mb-3",children:[x.jsxs("p",{className:"text-sm text-blue-800",children:[x.jsx("span",{className:"font-semibold",children:n})," surveys waiting to sync"]}),x.jsx("p",{className:"text-xs text-blue-600 mt-1",children:e?"Ready to sync when you tap the button":"Will sync automatically when online"})]}),f&&x.jsx("div",{className:`rounded-lg p-3 mb-3 ${f.success?"bg-green-50":"bg-red-50"}`,children:x.jsxs("p",{className:`text-sm font-medium ${f.success?"text-green-800":"text-red-800"}`,children:[f.success?"":""," ",f.message]})}),e&&n>0&&x.jsx("button",{onClick:y,disabled:a,className:"w-full py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-medium hover:from-blue-600 hover:to-indigo-700 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:a?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"animate-spin",children:""}),"Syncing..."]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{children:""}),"Sync Now"]})}),!e&&x.jsx("div",{className:"text-center py-2",children:x.jsx("p",{className:"text-sm text-gray-500",children:"Your surveys are saved locally and will sync when you're back online."})})]})]})};var b1={};b1.version="0.18.5";var YE=1252,OR=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],KE=function(t){OR.indexOf(t)!=-1&&(YE=t)};function RR(){KE(1252)}var K0=function(t){KE(t)};function DR(){K0(1200),RR()}var Im=function(e){return String.fromCharCode(e)},O4=function(e){return String.fromCharCode(e)},S1,Yc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function X0(t){for(var e="",r=0,n=0,i=0,a=0,s=0,l=0,c=0,f=0;f<t.length;)r=t.charCodeAt(f++),a=r>>2,n=t.charCodeAt(f++),s=(r&3)<<4|n>>4,i=t.charCodeAt(f++),l=(n&15)<<2|i>>6,c=i&63,isNaN(n)?l=c=64:isNaN(i)&&(c=64),e+=Yc.charAt(a)+Yc.charAt(s)+Yc.charAt(l)+Yc.charAt(c);return e}function cc(t){var e="",r=0,n=0,i=0,a=0,s=0,l=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)a=Yc.indexOf(t.charAt(f++)),s=Yc.indexOf(t.charAt(f++)),r=a<<2|s>>4,e+=String.fromCharCode(r),l=Yc.indexOf(t.charAt(f++)),n=(s&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(n)),c=Yc.indexOf(t.charAt(f++)),i=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var Cn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),mc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Ih(t){return Cn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function R4(t){return Cn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var $l=function(e){return Cn?mc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function sg(t){if(typeof ArrayBuffer>"u")return $l(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function gp(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function jR(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var gs=Cn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:mc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function IR(t){for(var e=[],r=0,n=t.length+250,i=Ih(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var l=t.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|l>>6&15|(s&3)<<4,i[r++]=128|l&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(e.push(i.slice(0,r)),r=0,i=Ih(65535),n=65530)}return e.push(i.slice(0,r)),gs(e)}var T0=/\u0000/g,Fm=/[\u0001-\u0006]/g;function ld(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Wl(t,e){var r=""+t;return r.length>=e?r:Yi("0",e-r.length)+r}function Y_(t,e){var r=""+t;return r.length>=e?r:Yi(" ",e-r.length)+r}function E1(t,e){var r=""+t;return r.length>=e?r:r+Yi(" ",e-r.length)}function FR(t,e){var r=""+Math.round(t);return r.length>=e?r:Yi("0",e-r.length)+r}function BR(t,e){var r=""+t;return r.length>=e?r:Yi("0",e-r.length)+r}var D4=Math.pow(2,32);function Rf(t,e){if(t>D4||t<-D4)return FR(t,e);var r=Math.round(t);return BR(r,e)}function T1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var j4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],w2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function UR(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Xi={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},I4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},zR={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function A1(t,e,r){for(var n=t<0?-1:1,i=t*n,a=0,s=1,l=0,c=1,f=0,p=0,v=Math.floor(i);f<e&&(v=Math.floor(i),l=v*s+a,p=v*f+c,!(i-v<5e-8));)i=1/(i-v),a=s,s=l,c=f,f=p;if(p>e&&(f>e?(p=c,l=a):(p=f,l=s)),!r)return[0,n*l,p];var y=Math.floor(n*l/p);return[y,n*l-y*p,p]}function Bm(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),a=0,s=[],l={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++n,++l.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=ZR(c,s))}return l.y=s[0],l.m=s[1],l.d=s[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=a,l}var XE=new Date(1899,11,31,0,0,0),GR=XE.getTime(),HR=new Date(1900,2,1,0,0,0);function JE(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=HR&&(r+=1440*60*1e3),(r-(GR+(t.getTimezoneOffset()-XE.getTimezoneOffset())*6e4))/(1440*60*1e3)}function K_(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function qR(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function VR(t){var e=t<0?12:11,r=K_(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function $R(t){var e=K_(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function WR(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=VR(t):e===10?r=t.toFixed(10).substr(0,12):r=$R(t),K_(qR(r.toUpperCase()))}function y_(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):WR(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return eh(14,JE(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function ZR(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function YR(t,e,r,n){var i="",a=0,s=0,l=r.y,c,f=0;switch(t){case 98:l=r.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,f=2;break;default:c=l%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:c=r.m,f=e.length;break;case 3:return w2[r.m-1][1];case 5:return w2[r.m-1][0];default:return w2[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=r.d,f=e.length;break;case 3:return j4[r.q][0];default:return j4[r.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(r.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=r.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=r.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Wl(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=Wl(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:c=l,f=1;break}var p=f>0?Wl(c,f):"";return p}function Kc(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var QE=/%/g;function KR(t,e,r){var n=e.replace(QE,""),i=e.length-n.length;return oc(t,n,r*Math.pow(10,2*i))+Yi("%",i)}function XR(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return oc(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function e6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+e6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,f,p){return c+f+p.substr(0,(i+a)%i)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var t6=/# (\?+)( ?)\/( ?)(\d+)/;function JR(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,l=n;return r+(a===0?"":""+a)+" "+(s===0?Yi(" ",t[1].length+1+t[4].length):Y_(s,t[1].length)+t[2]+"/"+t[3]+Wl(l,t[4].length))}function QR(t,e,r){return r+(e===0?"":""+e)+Yi(" ",t[1].length+2+t[4].length)}var r6=/^#*0*\.([0#]+)/,n6=/\).*[0#]/,i6=/\(###\) ###\\?-####/;function Ys(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function F4(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function B4(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function e9(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function t9(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function pl(t,e,r){if(t.charCodeAt(0)===40&&!e.match(n6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?pl("n",n,r):"("+pl("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return XR(t,e,r);if(e.indexOf("%")!==-1)return KR(t,e,r);if(e.indexOf("E")!==-1)return e6(e,r);if(e.charCodeAt(0)===36)return"$"+pl(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,l,c=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+Rf(c,e.length);if(e.match(/^[#?]+$/))return i=Rf(r,0),i==="0"&&(i=""),i.length>e.length?i:Ys(e.substr(0,e.length-i.length))+i;if(a=e.match(t6))return JR(a,c,f);if(e.match(/^#+0+$/))return f+Rf(c,e.length-e.indexOf("0"));if(a=e.match(r6))return i=F4(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Ys(a[1])).replace(/\.$/,"."+Ys(a[1])).replace(/\.(\d*)$/,function(T,b){return"."+b+Yi("0",Ys(a[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+F4(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+Kc(Rf(c,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+pl(t,e,-r):Kc(""+(Math.floor(r)+e9(r,a[1].length)))+"."+Wl(B4(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return pl(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ld(pl(t,e.replace(/[\\-]/g,""),r)),s=0,ld(ld(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return s<i.length?i.charAt(s++):T==="0"?"0":""}));if(e.match(i6))return i=pl(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=A1(c,Math.pow(10,s)-1,!1),i=""+f,p=oc("n",a[1],l[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+a[2]+"/"+a[3],p=E1(l[2],s),p.length<a[4].length&&(p=Ys(a[4].substr(a[4].length-p.length))+p),i+=p,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=A1(c,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Y_(l[1],s)+a[2]+"/"+a[3]+E1(l[2],s):Yi(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=Rf(r,0),e.length<=i.length?i:Ys(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var v=e.indexOf(".")-s,y=e.length-i.length-v;return Ys(e.substr(0,v)+i+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=B4(r,a[1].length),r<0?"-"+pl(t,e,-r):Kc(t9(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Wl(0,3-T.length):"")+T})+"."+Wl(s,a[1].length);switch(e){case"###,##0.00":return pl(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var _=Kc(Rf(c,0));return _!=="0"?f+_:"";case"###,###.00":return pl(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return pl(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function r9(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return oc(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function n9(t,e,r){var n=e.replace(QE,""),i=e.length-n.length;return oc(t,n,r*Math.pow(10,2*i))+Yi("%",i)}function a6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+a6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,f,p){return c+f+p.substr(0,(i+a)%i)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Au(t,e,r){if(t.charCodeAt(0)===40&&!e.match(n6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Au("n",n,r):"("+Au("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return r9(t,e,r);if(e.indexOf("%")!==-1)return n9(t,e,r);if(e.indexOf("E")!==-1)return a6(e,r);if(e.charCodeAt(0)===36)return"$"+Au(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,l,c=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+Wl(c,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Ys(e.substr(0,e.length-i.length))+i;if(a=e.match(t6))return QR(a,c,f);if(e.match(/^#+0+$/))return f+Wl(c,e.length-e.indexOf("0"));if(a=e.match(r6))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Ys(a[1])).replace(/\.$/,"."+Ys(a[1])),i=i.replace(/\.(\d*)$/,function(T,b){return"."+b+Yi("0",Ys(a[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+Kc(""+c);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Au(t,e,-r):Kc(""+r)+"."+Yi("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Au(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ld(Au(t,e.replace(/[\\-]/g,""),r)),s=0,ld(ld(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return s<i.length?i.charAt(s++):T==="0"?"0":""}));if(e.match(i6))return i=Au(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=A1(c,Math.pow(10,s)-1,!1),i=""+f,p=oc("n",a[1],l[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+a[2]+"/"+a[3],p=E1(l[2],s),p.length<a[4].length&&(p=Ys(a[4].substr(a[4].length-p.length))+p),i+=p,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=A1(c,Math.pow(10,s)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Y_(l[1],s)+a[2]+"/"+a[3]+E1(l[2],s):Yi(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Ys(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var v=e.indexOf(".")-s,y=e.length-i.length-v;return Ys(e.substr(0,v)+i+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Au(t,e,-r):Kc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Wl(0,3-T.length):"")+T})+"."+Wl(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var _=Kc(""+c);return _!=="0"?f+_:"";default:if(e.match(/\.[0#?]*$/))return Au(t,e.slice(0,e.lastIndexOf(".")),r)+Ys(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function oc(t,e,r){return(r|0)===r?Au(t,e,r):pl(t,e,r)}function i9(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var s6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function o6(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":T1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(s6))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function a9(t,e,r,n){for(var i=[],a="",s=0,l="",c="t",f,p,v,y="H";s<t.length;)switch(l=t.charAt(s)){case"G":if(!T1(t,s))throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(v=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(v);i[i.length]={t:"t",v:a},++s;break;case"\\":var _=t.charAt(++s),T=_==="("||_===")"?_:"t";i[i.length]={t:T,v:_},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(f==null&&(f=Bm(e,r,t.charAt(s+1)==="2"),f==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},c=l,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=Bm(e,r),f==null))return"";for(a=l;++s<t.length&&t.charAt(s).toLowerCase()===l;)a+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=y),i[i.length]={t:l,v:a},c=l;break;case"A":case"a":case"":var b={t:l,v:l};if(f==null&&(f=Bm(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(f!=null&&(b.v=f.H>=12?"P":"A"),b.t="T",y="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(f!=null&&(b.v=f.H>=12?"PM":"AM"),b.t="T",s+=5,y="h"):t.substr(s,5).toUpperCase()==="/"?(f!=null&&(b.v=f.H>=12?"":""),b.t="T",s+=5,y="h"):(b.t="t",++s),f==null&&b.t==="T")return"";i[i.length]=b,c=l;break;case"[":for(a=l;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(s6)){if(f==null&&(f=Bm(e,r),f==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",o6(t)||(i[i.length]={t:"t",v:a}));break;case".":if(f!=null){for(a=l;++s<t.length&&(l=t.charAt(s))==="0";)a+=l;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++s<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(s))>-1;)a+=l;i[i.length]={t:"n",v:a};break;case"?":for(a=l;t.charAt(++s)===l;)a+=l;i[i.length]={t:l,v:a},c=l;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":l,v:l},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:l,v:l},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"t",v:l},++s;break}var C=0,P=0,j;for(s=i.length-1,c="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=y,c="h",C<1&&(C=1);break;case"s":(j=i[s].v.match(/\.0+$/))&&(P=Math.max(P,j[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":c=i[s].t;break;case"m":c==="s"&&(i[s].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&i[s].v.match(/[Hh]/)&&(C=1),C<2&&i[s].v.match(/[Mm]/)&&(C=2),C<3&&i[s].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var R="",B;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=YR(i[s].t.charCodeAt(0),i[s].v,f,P),i[s].t="t";break;case"n":case"?":for(B=s+1;i[B]!=null&&((l=i[B].t)==="?"||l==="D"||(l===" "||l==="t")&&i[B+1]!=null&&(i[B+1].t==="?"||i[B+1].t==="t"&&i[B+1].v==="/")||i[s].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[B].v==="/"||i[B].v===" "&&i[B+1]!=null&&i[B+1].t=="?"));)i[s].v+=i[B].v,i[B]={v:"",t:";"},++B;R+=i[s].v,s=B-1;break;case"G":i[s].t="t",i[s].v=y_(e,r);break}var te="",ue,F;if(R.length>0){R.charCodeAt(0)==40?(ue=e<0&&R.charCodeAt(0)===45?-e:e,F=oc("n",R,ue)):(ue=e<0&&n>1?-e:e,F=oc("n",R,ue),ue<0&&i[0]&&i[0].t=="t"&&(F=F.substr(1),i[0].v="-"+i[0].v)),B=F.length-1;var K=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){K=s;break}var U=i.length;if(K===i.length&&F.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(B>=i[s].v.length-1?(B-=i[s].v.length,i[s].v=F.substr(B+1,i[s].v.length)):B<0?i[s].v="":(i[s].v=F.substr(0,B+1),B=-1),i[s].t="t",U=s);B>=0&&U<i.length&&(i[U].v=F.substr(0,B+1)+i[U].v)}else if(K!==i.length&&F.indexOf("E")===-1){for(B=F.indexOf(".")-1,s=K;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(p=i[s].v.indexOf(".")>-1&&s===K?i[s].v.indexOf(".")-1:i[s].v.length-1,te=i[s].v.substr(p+1);p>=0;--p)B>=0&&(i[s].v.charAt(p)==="0"||i[s].v.charAt(p)==="#")&&(te=F.charAt(B--)+te);i[s].v=te,i[s].t="t",U=s}for(B>=0&&U<i.length&&(i[U].v=F.substr(0,B+1)+i[U].v),B=F.indexOf(".")+1,s=K;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==K)){for(p=i[s].v.indexOf(".")>-1&&s===K?i[s].v.indexOf(".")+1:0,te=i[s].v.substr(0,p);p<i[s].v.length;++p)B<F.length&&(te+=F.charAt(B++));i[s].v=te,i[s].t="t",U=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(ue=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=oc(i[s].t,i[s].v,ue),i[s].t="t");var X="";for(s=0;s!==i.length;++s)i[s]!=null&&(X+=i[s].v);return X}var U4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function z4(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function s9(t,e){var r=i9(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(U4),l=r[1].match(U4);return z4(e,s)?[n,r[0]]:z4(e,l)?[n,r[1]]:[n,r[s!=null&&l!=null?2:1]]}return[n,a]}function eh(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Xi)[t],n==null&&(n=r.table&&r.table[I4[t]]||Xi[I4[t]]),n==null&&(n=zR[t]||"General");break}if(T1(n,0))return y_(e,r);e instanceof Date&&(e=JE(e,r.date1904));var i=s9(n,e);if(T1(i[1]))return y_(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return a9(i[1],e,r,i[0])}function l6(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Xi[r]==null){e<0&&(e=r);continue}if(Xi[r]==t){e=r;break}}e<0&&(e=391)}return Xi[e]=t,e}function og(t){for(var e=0;e!=392;++e)t[e]!==void 0&&l6(t[e],e)}function lg(){Xi=UR()}var u6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function o9(t){var e=typeof t=="number"?Xi[t]:t;return e=e.replace(u6,"(\\d+)"),new RegExp("^"+e+"$")}function l9(t,e,r){var n=-1,i=-1,a=-1,s=-1,l=-1,c=-1;(e.match(u6)||[]).forEach(function(v,y){var _=parseInt(r[y+1],10);switch(v.toLowerCase().charAt(0)){case"y":n=_;break;case"d":a=_;break;case"h":s=_;break;case"s":c=_;break;case"m":s>=0?l=_:i=_;break}}),c>=0&&l==-1&&i>=0&&(l=i,i=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var p=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&l==-1&&c==-1?f:n==-1&&i==-1&&a==-1?p:f+"T"+p}var u9=(function(){var t={};t.version="1.2.0";function e(){for(var F=0,K=new Array(256),U=0;U!=256;++U)F=U,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,K[U]=F;return typeof Int32Array<"u"?new Int32Array(K):K}var r=e();function n(F){var K=0,U=0,X=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(X=0;X!=256;++X)I[X]=F[X];for(X=0;X!=256;++X)for(U=F[X],K=256+X;K<4096;K+=256)U=I[K]=U>>>8^F[U&255];var W=[];for(X=1;X!=16;++X)W[X-1]=typeof Int32Array<"u"?I.subarray(X*256,X*256+256):I.slice(X*256,X*256+256);return W}var i=n(r),a=i[0],s=i[1],l=i[2],c=i[3],f=i[4],p=i[5],v=i[6],y=i[7],_=i[8],T=i[9],b=i[10],C=i[11],P=i[12],j=i[13],R=i[14];function B(F,K){for(var U=K^-1,X=0,I=F.length;X<I;)U=U>>>8^r[(U^F.charCodeAt(X++))&255];return~U}function te(F,K){for(var U=K^-1,X=F.length-15,I=0;I<X;)U=R[F[I++]^U&255]^j[F[I++]^U>>8&255]^P[F[I++]^U>>16&255]^C[F[I++]^U>>>24]^b[F[I++]]^T[F[I++]]^_[F[I++]]^y[F[I++]]^v[F[I++]]^p[F[I++]]^f[F[I++]]^c[F[I++]]^l[F[I++]]^s[F[I++]]^a[F[I++]]^r[F[I++]];for(X+=15;I<X;)U=U>>>8^r[(U^F[I++])&255];return~U}function ue(F,K){for(var U=K^-1,X=0,I=F.length,W=0,ce=0;X<I;)W=F.charCodeAt(X++),W<128?U=U>>>8^r[(U^W)&255]:W<2048?(U=U>>>8^r[(U^(192|W>>6&31))&255],U=U>>>8^r[(U^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,ce=F.charCodeAt(X++)&1023,U=U>>>8^r[(U^(240|W>>8&7))&255],U=U>>>8^r[(U^(128|W>>2&63))&255],U=U>>>8^r[(U^(128|ce>>6&15|(W&3)<<4))&255],U=U>>>8^r[(U^(128|ce&63))&255]):(U=U>>>8^r[(U^(224|W>>12&15))&255],U=U>>>8^r[(U^(128|W>>6&63))&255],U=U>>>8^r[(U^(128|W&63))&255]);return~U}return t.table=r,t.bstr=B,t.buf=te,t.str=ue,t})(),Yn=(function(){var e={};e.version="1.2.1";function r(Y,me){for(var re=Y.split("/"),ne=me.split("/"),he=0,ve=0,Pe=Math.min(re.length,ne.length);he<Pe;++he){if(ve=re[he].length-ne[he].length)return ve;if(re[he]!=ne[he])return re[he]<ne[he]?-1:1}return re.length-ne.length}function n(Y){if(Y.charAt(Y.length-1)=="/")return Y.slice(0,-1).indexOf("/")===-1?Y:n(Y.slice(0,-1));var me=Y.lastIndexOf("/");return me===-1?Y:Y.slice(0,me+1)}function i(Y){if(Y.charAt(Y.length-1)=="/")return i(Y.slice(0,-1));var me=Y.lastIndexOf("/");return me===-1?Y:Y.slice(me+1)}function a(Y,me){typeof me=="string"&&(me=new Date(me));var re=me.getHours();re=re<<6|me.getMinutes(),re=re<<5|me.getSeconds()>>>1,Y.write_shift(2,re);var ne=me.getFullYear()-1980;ne=ne<<4|me.getMonth()+1,ne=ne<<5|me.getDate(),Y.write_shift(2,ne)}function s(Y){var me=Y.read_shift(2)&65535,re=Y.read_shift(2)&65535,ne=new Date,he=re&31;re>>>=5;var ve=re&15;re>>>=4,ne.setMilliseconds(0),ne.setFullYear(re+1980),ne.setMonth(ve-1),ne.setDate(he);var Pe=me&31;me>>>=5;var ze=me&63;return me>>>=6,ne.setHours(me),ne.setMinutes(ze),ne.setSeconds(Pe<<1),ne}function l(Y){Yo(Y,0);for(var me={},re=0;Y.l<=Y.length-4;){var ne=Y.read_shift(2),he=Y.read_shift(2),ve=Y.l+he,Pe={};ne===21589&&(re=Y.read_shift(1),re&1&&(Pe.mtime=Y.read_shift(4)),he>5&&(re&2&&(Pe.atime=Y.read_shift(4)),re&4&&(Pe.ctime=Y.read_shift(4))),Pe.mtime&&(Pe.mt=new Date(Pe.mtime*1e3))),Y.l=ve,me[ne]=Pe}return me}var c;function f(){return c||(c={})}function p(Y,me){if(Y[0]==80&&Y[1]==75)return cr(Y,me);if((Y[0]|32)==109&&(Y[1]|32)==105)return Qt(Y,me);if(Y.length<512)throw new Error("CFB file size "+Y.length+" < 512");var re=3,ne=512,he=0,ve=0,Pe=0,ze=0,Be=0,Ue=[],$e=Y.slice(0,512);Yo($e,0);var ht=v($e);switch(re=ht[0],re){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(ht[1]==0)return cr(Y,me);default:throw new Error("Major Version: Expected 3 or 4 saw "+re)}ne!==512&&($e=Y.slice(0,ne),Yo($e,28));var bt=Y.slice(0,ne);y($e,re);var wt=$e.read_shift(4,"i");if(re===3&&wt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+wt);$e.l+=4,Pe=$e.read_shift(4,"i"),$e.l+=4,$e.chk("00100000","Mini Stream Cutoff Size: "),ze=$e.read_shift(4,"i"),he=$e.read_shift(4,"i"),Be=$e.read_shift(4,"i"),ve=$e.read_shift(4,"i");for(var gt=-1,Mt=0;Mt<109&&(gt=$e.read_shift(4,"i"),!(gt<0));++Mt)Ue[Mt]=gt;var Bt=_(Y,ne);C(Be,ve,Bt,ne,Ue);var Hr=j(Bt,Pe,Ue,ne);Hr[Pe].name="!Directory",he>0&&ze!==ce&&(Hr[ze].name="!MiniFAT"),Hr[Ue[0]].name="!FAT",Hr.fat_addrs=Ue,Hr.ssz=ne;var wr={},nn=[],Kn=[],Xn=[];R(Pe,Hr,Bt,nn,he,wr,Kn,ze),T(Kn,Xn,nn),nn.shift();var Qi={FileIndex:Kn,FullPaths:Xn};return me&&me.raw&&(Qi.raw={header:bt,sectors:Bt}),Qi}function v(Y){if(Y[Y.l]==80&&Y[Y.l+1]==75)return[0,0];Y.chk(pe,"Header Signature: "),Y.l+=16;var me=Y.read_shift(2,"u");return[Y.read_shift(2,"u"),me]}function y(Y,me){var re=9;switch(Y.l+=2,re=Y.read_shift(2)){case 9:if(me!=3)throw new Error("Sector Shift: Expected 9 saw "+re);break;case 12:if(me!=4)throw new Error("Sector Shift: Expected 12 saw "+re);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+re)}Y.chk("0600","Mini Sector Shift: "),Y.chk("000000000000","Reserved: ")}function _(Y,me){for(var re=Math.ceil(Y.length/me)-1,ne=[],he=1;he<re;++he)ne[he-1]=Y.slice(he*me,(he+1)*me);return ne[re-1]=Y.slice(re*me),ne}function T(Y,me,re){for(var ne=0,he=0,ve=0,Pe=0,ze=0,Be=re.length,Ue=[],$e=[];ne<Be;++ne)Ue[ne]=$e[ne]=ne,me[ne]=re[ne];for(;ze<$e.length;++ze)ne=$e[ze],he=Y[ne].L,ve=Y[ne].R,Pe=Y[ne].C,Ue[ne]===ne&&(he!==-1&&Ue[he]!==he&&(Ue[ne]=Ue[he]),ve!==-1&&Ue[ve]!==ve&&(Ue[ne]=Ue[ve])),Pe!==-1&&(Ue[Pe]=ne),he!==-1&&ne!=Ue[ne]&&(Ue[he]=Ue[ne],$e.lastIndexOf(he)<ze&&$e.push(he)),ve!==-1&&ne!=Ue[ne]&&(Ue[ve]=Ue[ne],$e.lastIndexOf(ve)<ze&&$e.push(ve));for(ne=1;ne<Be;++ne)Ue[ne]===ne&&(ve!==-1&&Ue[ve]!==ve?Ue[ne]=Ue[ve]:he!==-1&&Ue[he]!==he&&(Ue[ne]=Ue[he]));for(ne=1;ne<Be;++ne)if(Y[ne].type!==0){if(ze=ne,ze!=Ue[ze])do ze=Ue[ze],me[ne]=me[ze]+"/"+me[ne];while(ze!==0&&Ue[ze]!==-1&&ze!=Ue[ze]);Ue[ne]=-1}for(me[0]+="/",ne=1;ne<Be;++ne)Y[ne].type!==2&&(me[ne]+="/")}function b(Y,me,re){for(var ne=Y.start,he=Y.size,ve=[],Pe=ne;re&&he>0&&Pe>=0;)ve.push(me.slice(Pe*W,Pe*W+W)),he-=W,Pe=Nh(re,Pe*4);return ve.length===0?ut(0):gs(ve).slice(0,Y.size)}function C(Y,me,re,ne,he){var ve=ce;if(Y===ce){if(me!==0)throw new Error("DIFAT chain shorter than expected")}else if(Y!==-1){var Pe=re[Y],ze=(ne>>>2)-1;if(!Pe)return;for(var Be=0;Be<ze&&(ve=Nh(Pe,Be*4))!==ce;++Be)he.push(ve);C(Nh(Pe,ne-4),me-1,re,ne,he)}}function P(Y,me,re,ne,he){var ve=[],Pe=[];he||(he=[]);var ze=ne-1,Be=0,Ue=0;for(Be=me;Be>=0;){he[Be]=!0,ve[ve.length]=Be,Pe.push(Y[Be]);var $e=re[Math.floor(Be*4/ne)];if(Ue=Be*4&ze,ne<4+Ue)throw new Error("FAT boundary crossed: "+Be+" 4 "+ne);if(!Y[$e])break;Be=Nh(Y[$e],Ue)}return{nodes:ve,data:Y4([Pe])}}function j(Y,me,re,ne){var he=Y.length,ve=[],Pe=[],ze=[],Be=[],Ue=ne-1,$e=0,ht=0,bt=0,wt=0;for($e=0;$e<he;++$e)if(ze=[],bt=$e+me,bt>=he&&(bt-=he),!Pe[bt]){Be=[];var gt=[];for(ht=bt;ht>=0;){gt[ht]=!0,Pe[ht]=!0,ze[ze.length]=ht,Be.push(Y[ht]);var Mt=re[Math.floor(ht*4/ne)];if(wt=ht*4&Ue,ne<4+wt)throw new Error("FAT boundary crossed: "+ht+" 4 "+ne);if(!Y[Mt]||(ht=Nh(Y[Mt],wt),gt[ht]))break}ve[bt]={nodes:ze,data:Y4([Be])}}return ve}function R(Y,me,re,ne,he,ve,Pe,ze){for(var Be=0,Ue=ne.length?2:0,$e=me[Y].data,ht=0,bt=0,wt;ht<$e.length;ht+=128){var gt=$e.slice(ht,ht+128);Yo(gt,64),bt=gt.read_shift(2),wt=ty(gt,0,bt-Ue),ne.push(wt);var Mt={name:wt,type:gt.read_shift(1),color:gt.read_shift(1),L:gt.read_shift(4,"i"),R:gt.read_shift(4,"i"),C:gt.read_shift(4,"i"),clsid:gt.read_shift(16),state:gt.read_shift(4,"i"),start:0,size:0},Bt=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Bt!==0&&(Mt.ct=B(gt,gt.l-8));var Hr=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Hr!==0&&(Mt.mt=B(gt,gt.l-8)),Mt.start=gt.read_shift(4,"i"),Mt.size=gt.read_shift(4,"i"),Mt.size<0&&Mt.start<0&&(Mt.size=Mt.type=0,Mt.start=ce,Mt.name=""),Mt.type===5?(Be=Mt.start,he>0&&Be!==ce&&(me[Be].name="!StreamData")):Mt.size>=4096?(Mt.storage="fat",me[Mt.start]===void 0&&(me[Mt.start]=P(re,Mt.start,me.fat_addrs,me.ssz)),me[Mt.start].name=Mt.name,Mt.content=me[Mt.start].data.slice(0,Mt.size)):(Mt.storage="minifat",Mt.size<0?Mt.size=0:Be!==ce&&Mt.start!==ce&&me[Be]&&(Mt.content=b(Mt,me[Be].data,(me[ze]||{}).data))),Mt.content&&Yo(Mt.content,0),ve[wt]=Mt,Pe.push(Mt)}}function B(Y,me){return new Date((Xo(Y,me+4)/1e7*Math.pow(2,32)+Xo(Y,me)/1e7-11644473600)*1e3)}function te(Y,me){return f(),p(c.readFileSync(Y),me)}function ue(Y,me){var re=me&&me.type;switch(re||Cn&&Buffer.isBuffer(Y)&&(re="buffer"),re||"base64"){case"file":return te(Y,me);case"base64":return p($l(cc(Y)),me);case"binary":return p($l(Y),me)}return p(Y,me)}function F(Y,me){var re=me||{},ne=re.root||"Root Entry";if(Y.FullPaths||(Y.FullPaths=[]),Y.FileIndex||(Y.FileIndex=[]),Y.FullPaths.length!==Y.FileIndex.length)throw new Error("inconsistent CFB structure");Y.FullPaths.length===0&&(Y.FullPaths[0]=ne+"/",Y.FileIndex[0]={name:ne,type:5}),re.CLSID&&(Y.FileIndex[0].clsid=re.CLSID),K(Y)}function K(Y){var me="Sh33tJ5";if(!Yn.find(Y,"/"+me)){var re=ut(4);re[0]=55,re[1]=re[3]=50,re[2]=54,Y.FileIndex.push({name:me,type:2,content:re,size:4,L:69,R:69,C:69}),Y.FullPaths.push(Y.FullPaths[0]+me),U(Y)}}function U(Y,me){F(Y);for(var re=!1,ne=!1,he=Y.FullPaths.length-1;he>=0;--he){var ve=Y.FileIndex[he];switch(ve.type){case 0:ne?re=!0:(Y.FileIndex.pop(),Y.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(ve.R*ve.L*ve.C)&&(re=!0),ve.R>-1&&ve.L>-1&&ve.R==ve.L&&(re=!0);break;default:re=!0;break}}if(!(!re&&!me)){var Pe=new Date(1987,1,19),ze=0,Be=Object.create?Object.create(null):{},Ue=[];for(he=0;he<Y.FullPaths.length;++he)Be[Y.FullPaths[he]]=!0,Y.FileIndex[he].type!==0&&Ue.push([Y.FullPaths[he],Y.FileIndex[he]]);for(he=0;he<Ue.length;++he){var $e=n(Ue[he][0]);ne=Be[$e],ne||(Ue.push([$e,{name:i($e).replace("/",""),type:1,clsid:oe,ct:Pe,mt:Pe,content:null}]),Be[$e]=!0)}for(Ue.sort(function(wt,gt){return r(wt[0],gt[0])}),Y.FullPaths=[],Y.FileIndex=[],he=0;he<Ue.length;++he)Y.FullPaths[he]=Ue[he][0],Y.FileIndex[he]=Ue[he][1];for(he=0;he<Ue.length;++he){var ht=Y.FileIndex[he],bt=Y.FullPaths[he];if(ht.name=i(bt).replace("/",""),ht.L=ht.R=ht.C=-(ht.color=1),ht.size=ht.content?ht.content.length:0,ht.start=0,ht.clsid=ht.clsid||oe,he===0)ht.C=Ue.length>1?1:-1,ht.size=0,ht.type=5;else if(bt.slice(-1)=="/"){for(ze=he+1;ze<Ue.length&&n(Y.FullPaths[ze])!=bt;++ze);for(ht.C=ze>=Ue.length?-1:ze,ze=he+1;ze<Ue.length&&n(Y.FullPaths[ze])!=n(bt);++ze);ht.R=ze>=Ue.length?-1:ze,ht.type=1}else n(Y.FullPaths[he+1]||"")==n(bt)&&(ht.R=he+1),ht.type=2}}}function X(Y,me){var re=me||{};if(re.fileType=="mad")return Ka(Y,re);if(U(Y),re.fileType==="zip")return xr(Y,re);var ne=(function(wt){for(var gt=0,Mt=0,Bt=0;Bt<wt.FileIndex.length;++Bt){var Hr=wt.FileIndex[Bt];if(Hr.content){var wr=Hr.content.length;wr>0&&(wr<4096?gt+=wr+63>>6:Mt+=wr+511>>9)}}for(var nn=wt.FullPaths.length+3>>2,Kn=gt+7>>3,Xn=gt+127>>7,Qi=Kn+Mt+nn+Xn,Ci=Qi+127>>7,Ar=Ci<=109?0:Math.ceil((Ci-109)/127);Qi+Ci+Ar+127>>7>Ci;)Ar=++Ci<=109?0:Math.ceil((Ci-109)/127);var Ut=[1,Ar,Ci,Xn,nn,Mt,gt,0];return wt.FileIndex[0].size=gt<<6,Ut[7]=(wt.FileIndex[0].start=Ut[0]+Ut[1]+Ut[2]+Ut[3]+Ut[4]+Ut[5])+(Ut[6]+7>>3),Ut})(Y),he=ut(ne[7]<<9),ve=0,Pe=0;{for(ve=0;ve<8;++ve)he.write_shift(1,xe[ve]);for(ve=0;ve<8;++ve)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),ve=0;ve<3;++ve)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,ne[2]),he.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:ce),he.write_shift(4,ne[3]),he.write_shift(-4,ne[1]?ne[0]-1:ce),he.write_shift(4,ne[1]),ve=0;ve<109;++ve)he.write_shift(-4,ve<ne[2]?ne[1]+ve:-1)}if(ne[1])for(Pe=0;Pe<ne[1];++Pe){for(;ve<236+Pe*127;++ve)he.write_shift(-4,ve<ne[2]?ne[1]+ve:-1);he.write_shift(-4,Pe===ne[1]-1?ce:Pe+1)}var ze=function(wt){for(Pe+=wt;ve<Pe-1;++ve)he.write_shift(-4,ve+1);wt&&(++ve,he.write_shift(-4,ce))};for(Pe=ve=0,Pe+=ne[1];ve<Pe;++ve)he.write_shift(-4,be.DIFSECT);for(Pe+=ne[2];ve<Pe;++ve)he.write_shift(-4,be.FATSECT);ze(ne[3]),ze(ne[4]);for(var Be=0,Ue=0,$e=Y.FileIndex[0];Be<Y.FileIndex.length;++Be)$e=Y.FileIndex[Be],$e.content&&(Ue=$e.content.length,!(Ue<4096)&&($e.start=Pe,ze(Ue+511>>9)));for(ze(ne[6]+7>>3);he.l&511;)he.write_shift(-4,be.ENDOFCHAIN);for(Pe=ve=0,Be=0;Be<Y.FileIndex.length;++Be)$e=Y.FileIndex[Be],$e.content&&(Ue=$e.content.length,!(!Ue||Ue>=4096)&&($e.start=Pe,ze(Ue+63>>6)));for(;he.l&511;)he.write_shift(-4,be.ENDOFCHAIN);for(ve=0;ve<ne[4]<<2;++ve){var ht=Y.FullPaths[ve];if(!ht||ht.length===0){for(Be=0;Be<17;++Be)he.write_shift(4,0);for(Be=0;Be<3;++Be)he.write_shift(4,-1);for(Be=0;Be<12;++Be)he.write_shift(4,0);continue}$e=Y.FileIndex[ve],ve===0&&($e.start=$e.size?$e.start-1:ce);var bt=ve===0&&re.root||$e.name;if(Ue=2*(bt.length+1),he.write_shift(64,bt,"utf16le"),he.write_shift(2,Ue),he.write_shift(1,$e.type),he.write_shift(1,$e.color),he.write_shift(-4,$e.L),he.write_shift(-4,$e.R),he.write_shift(-4,$e.C),$e.clsid)he.write_shift(16,$e.clsid,"hex");else for(Be=0;Be<4;++Be)he.write_shift(4,0);he.write_shift(4,$e.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,$e.start),he.write_shift(4,$e.size),he.write_shift(4,0)}for(ve=1;ve<Y.FileIndex.length;++ve)if($e=Y.FileIndex[ve],$e.size>=4096)if(he.l=$e.start+1<<9,Cn&&Buffer.isBuffer($e.content))$e.content.copy(he,he.l,0,$e.size),he.l+=$e.size+511&-512;else{for(Be=0;Be<$e.size;++Be)he.write_shift(1,$e.content[Be]);for(;Be&511;++Be)he.write_shift(1,0)}for(ve=1;ve<Y.FileIndex.length;++ve)if($e=Y.FileIndex[ve],$e.size>0&&$e.size<4096)if(Cn&&Buffer.isBuffer($e.content))$e.content.copy(he,he.l,0,$e.size),he.l+=$e.size+63&-64;else{for(Be=0;Be<$e.size;++Be)he.write_shift(1,$e.content[Be]);for(;Be&63;++Be)he.write_shift(1,0)}if(Cn)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function I(Y,me){var re=Y.FullPaths.map(function(Be){return Be.toUpperCase()}),ne=re.map(function(Be){var Ue=Be.split("/");return Ue[Ue.length-(Be.slice(-1)=="/"?2:1)]}),he=!1;me.charCodeAt(0)===47?(he=!0,me=re[0].slice(0,-1)+me):he=me.indexOf("/")!==-1;var ve=me.toUpperCase(),Pe=he===!0?re.indexOf(ve):ne.indexOf(ve);if(Pe!==-1)return Y.FileIndex[Pe];var ze=!ve.match(Fm);for(ve=ve.replace(T0,""),ze&&(ve=ve.replace(Fm,"!")),Pe=0;Pe<re.length;++Pe)if((ze?re[Pe].replace(Fm,"!"):re[Pe]).replace(T0,"")==ve||(ze?ne[Pe].replace(Fm,"!"):ne[Pe]).replace(T0,"")==ve)return Y.FileIndex[Pe];return null}var W=64,ce=-2,pe="d0cf11e0a1b11ae1",xe=[208,207,17,224,161,177,26,225],oe="00000000000000000000000000000000",be={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ce,FREESECT:-1,HEADER_SIGNATURE:pe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:oe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _e(Y,me,re){f();var ne=X(Y,re);c.writeFileSync(me,ne)}function Le(Y){for(var me=new Array(Y.length),re=0;re<Y.length;++re)me[re]=String.fromCharCode(Y[re]);return me.join("")}function Ne(Y,me){var re=X(Y,me);switch(me&&me.type||"buffer"){case"file":return f(),c.writeFileSync(me.filename,re),re;case"binary":return typeof re=="string"?re:Le(re);case"base64":return X0(typeof re=="string"?re:Le(re));case"buffer":if(Cn)return Buffer.isBuffer(re)?re:mc(re);case"array":return typeof re=="string"?$l(re):re}return re}var Q;function O(Y){try{var me=Y.InflateRaw,re=new me;if(re._processChunk(new Uint8Array([3,0]),re._finishFlushFlag),re.bytesRead)Q=Y;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function H(Y,me){if(!Q)return ln(Y,me);var re=Q.InflateRaw,ne=new re,he=ne._processChunk(Y.slice(Y.l),ne._finishFlushFlag);return Y.l+=ne.bytesRead,he}function q(Y){return Q?Q.deflateRawSync(Y):_r(Y)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Oe(Y){var me=(Y<<1|Y<<11)&139536|(Y<<5|Y<<15)&558144;return(me>>16|me>>8|me)&255}for(var Re=typeof Uint8Array<"u",Ie=Re?new Uint8Array(256):[],ot=0;ot<256;++ot)Ie[ot]=Oe(ot);function it(Y,me){var re=Ie[Y&255];return me<=8?re>>>8-me:(re=re<<8|Ie[Y>>8&255],me<=16?re>>>16-me:(re=re<<8|Ie[Y>>16&255],re>>>24-me))}function Tt(Y,me){var re=me&7,ne=me>>>3;return(Y[ne]|(re<=6?0:Y[ne+1]<<8))>>>re&3}function Nt(Y,me){var re=me&7,ne=me>>>3;return(Y[ne]|(re<=5?0:Y[ne+1]<<8))>>>re&7}function we(Y,me){var re=me&7,ne=me>>>3;return(Y[ne]|(re<=4?0:Y[ne+1]<<8))>>>re&15}function yt(Y,me){var re=me&7,ne=me>>>3;return(Y[ne]|(re<=3?0:Y[ne+1]<<8))>>>re&31}function xt(Y,me){var re=me&7,ne=me>>>3;return(Y[ne]|(re<=1?0:Y[ne+1]<<8))>>>re&127}function zt(Y,me,re){var ne=me&7,he=me>>>3,ve=(1<<re)-1,Pe=Y[he]>>>ne;return re<8-ne||(Pe|=Y[he+1]<<8-ne,re<16-ne)||(Pe|=Y[he+2]<<16-ne,re<24-ne)||(Pe|=Y[he+3]<<24-ne),Pe&ve}function dt(Y,me,re){var ne=me&7,he=me>>>3;return ne<=5?Y[he]|=(re&7)<<ne:(Y[he]|=re<<ne&255,Y[he+1]=(re&7)>>8-ne),me+3}function Vt(Y,me,re){var ne=me&7,he=me>>>3;return re=(re&1)<<ne,Y[he]|=re,me+1}function jt(Y,me,re){var ne=me&7,he=me>>>3;return re<<=ne,Y[he]|=re&255,re>>>=8,Y[he+1]=re,me+8}function sr(Y,me,re){var ne=me&7,he=me>>>3;return re<<=ne,Y[he]|=re&255,re>>>=8,Y[he+1]=re&255,Y[he+2]=re>>>8,me+16}function Xt(Y,me){var re=Y.length,ne=2*re>me?2*re:me+5,he=0;if(re>=me)return Y;if(Cn){var ve=R4(ne);if(Y.copy)Y.copy(ve);else for(;he<Y.length;++he)ve[he]=Y[he];return ve}else if(Re){var Pe=new Uint8Array(ne);if(Pe.set)Pe.set(Y);else for(;he<re;++he)Pe[he]=Y[he];return Pe}return Y.length=ne,Y}function Jt(Y){for(var me=new Array(Y),re=0;re<Y;++re)me[re]=0;return me}function Er(Y,me,re){var ne=1,he=0,ve=0,Pe=0,ze=0,Be=Y.length,Ue=Re?new Uint16Array(32):Jt(32);for(ve=0;ve<32;++ve)Ue[ve]=0;for(ve=Be;ve<re;++ve)Y[ve]=0;Be=Y.length;var $e=Re?new Uint16Array(Be):Jt(Be);for(ve=0;ve<Be;++ve)Ue[he=Y[ve]]++,ne<he&&(ne=he),$e[ve]=0;for(Ue[0]=0,ve=1;ve<=ne;++ve)Ue[ve+16]=ze=ze+Ue[ve-1]<<1;for(ve=0;ve<Be;++ve)ze=Y[ve],ze!=0&&($e[ve]=Ue[ze+16]++);var ht=0;for(ve=0;ve<Be;++ve)if(ht=Y[ve],ht!=0)for(ze=it($e[ve],ne)>>ne-ht,Pe=(1<<ne+4-ht)-1;Pe>=0;--Pe)me[ze|Pe<<ht]=ht&15|ve<<4;return ne}var dr=Re?new Uint16Array(512):Jt(512),Nr=Re?new Uint16Array(32):Jt(32);if(!Re){for(var or=0;or<512;++or)dr[or]=0;for(or=0;or<32;++or)Nr[or]=0}(function(){for(var Y=[],me=0;me<32;me++)Y.push(5);Er(Y,Nr,32);var re=[];for(me=0;me<=143;me++)re.push(8);for(;me<=255;me++)re.push(9);for(;me<=279;me++)re.push(7);for(;me<=287;me++)re.push(8);Er(re,dr,288)})();var Ft=(function(){for(var me=Re?new Uint8Array(32768):[],re=0,ne=0;re<Ae.length-1;++re)for(;ne<Ae[re+1];++ne)me[ne]=re;for(;ne<32768;++ne)me[ne]=29;var he=Re?new Uint8Array(259):[];for(re=0,ne=0;re<se.length-1;++re)for(;ne<se[re+1];++ne)he[ne]=re;function ve(ze,Be){for(var Ue=0;Ue<ze.length;){var $e=Math.min(65535,ze.length-Ue),ht=Ue+$e==ze.length;for(Be.write_shift(1,+ht),Be.write_shift(2,$e),Be.write_shift(2,~$e&65535);$e-- >0;)Be[Be.l++]=ze[Ue++]}return Be.l}function Pe(ze,Be){for(var Ue=0,$e=0,ht=Re?new Uint16Array(32768):[];$e<ze.length;){var bt=Math.min(65535,ze.length-$e);if(bt<10){for(Ue=dt(Be,Ue,+($e+bt==ze.length)),Ue&7&&(Ue+=8-(Ue&7)),Be.l=Ue/8|0,Be.write_shift(2,bt),Be.write_shift(2,~bt&65535);bt-- >0;)Be[Be.l++]=ze[$e++];Ue=Be.l*8;continue}Ue=dt(Be,Ue,+($e+bt==ze.length)+2);for(var wt=0;bt-- >0;){var gt=ze[$e];wt=(wt<<5^gt)&32767;var Mt=-1,Bt=0;if((Mt=ht[wt])&&(Mt|=$e&-32768,Mt>$e&&(Mt-=32768),Mt<$e))for(;ze[Mt+Bt]==ze[$e+Bt]&&Bt<250;)++Bt;if(Bt>2){gt=he[Bt],gt<=22?Ue=jt(Be,Ue,Ie[gt+1]>>1)-1:(jt(Be,Ue,3),Ue+=5,jt(Be,Ue,Ie[gt-23]>>5),Ue+=3);var Hr=gt<8?0:gt-4>>2;Hr>0&&(sr(Be,Ue,Bt-se[gt]),Ue+=Hr),gt=me[$e-Mt],Ue=jt(Be,Ue,Ie[gt]>>3),Ue-=3;var wr=gt<4?0:gt-2>>1;wr>0&&(sr(Be,Ue,$e-Mt-Ae[gt]),Ue+=wr);for(var nn=0;nn<Bt;++nn)ht[wt]=$e&32767,wt=(wt<<5^ze[$e])&32767,++$e;bt-=Bt-1}else gt<=143?gt=gt+48:Ue=Vt(Be,Ue,1),Ue=jt(Be,Ue,Ie[gt]),ht[wt]=$e&32767,++$e}Ue=jt(Be,Ue,0)-1}return Be.l=(Ue+7)/8|0,Be.l}return function(Be,Ue){return Be.length<8?ve(Be,Ue):Pe(Be,Ue)}})();function _r(Y){var me=ut(50+Math.floor(Y.length*1.1)),re=Ft(Y,me);return me.slice(0,re)}var Wt=Re?new Uint16Array(32768):Jt(32768),xn=Re?new Uint16Array(32768):Jt(32768),Mr=Re?new Uint16Array(128):Jt(128),Gt=1,pr=1;function Dr(Y,me){var re=yt(Y,me)+257;me+=5;var ne=yt(Y,me)+1;me+=5;var he=we(Y,me)+4;me+=4;for(var ve=0,Pe=Re?new Uint8Array(19):Jt(19),ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Be=1,Ue=Re?new Uint8Array(8):Jt(8),$e=Re?new Uint8Array(8):Jt(8),ht=Pe.length,bt=0;bt<he;++bt)Pe[Z[bt]]=ve=Nt(Y,me),Be<ve&&(Be=ve),Ue[ve]++,me+=3;var wt=0;for(Ue[0]=0,bt=1;bt<=Be;++bt)$e[bt]=wt=wt+Ue[bt-1]<<1;for(bt=0;bt<ht;++bt)(wt=Pe[bt])!=0&&(ze[bt]=$e[wt]++);var gt=0;for(bt=0;bt<ht;++bt)if(gt=Pe[bt],gt!=0){wt=Ie[ze[bt]]>>8-gt;for(var Mt=(1<<7-gt)-1;Mt>=0;--Mt)Mr[wt|Mt<<gt]=gt&7|bt<<3}var Bt=[];for(Be=1;Bt.length<re+ne;)switch(wt=Mr[xt(Y,me)],me+=wt&7,wt>>>=3){case 16:for(ve=3+Tt(Y,me),me+=2,wt=Bt[Bt.length-1];ve-- >0;)Bt.push(wt);break;case 17:for(ve=3+Nt(Y,me),me+=3;ve-- >0;)Bt.push(0);break;case 18:for(ve=11+xt(Y,me),me+=7;ve-- >0;)Bt.push(0);break;default:Bt.push(wt),Be<wt&&(Be=wt);break}var Hr=Bt.slice(0,re),wr=Bt.slice(re);for(bt=re;bt<286;++bt)Hr[bt]=0;for(bt=ne;bt<30;++bt)wr[bt]=0;return Gt=Er(Hr,Wt,286),pr=Er(wr,xn,30),me}function Yt(Y,me){if(Y[0]==3&&!(Y[1]&3))return[Ih(me),2];for(var re=0,ne=0,he=R4(me||1<<18),ve=0,Pe=he.length>>>0,ze=0,Be=0;(ne&1)==0;){if(ne=Nt(Y,re),re+=3,ne>>>1)ne>>1==1?(ze=9,Be=5):(re=Dr(Y,re),ze=Gt,Be=pr);else{re&7&&(re+=8-(re&7));var Ue=Y[re>>>3]|Y[(re>>>3)+1]<<8;if(re+=32,Ue>0)for(!me&&Pe<ve+Ue&&(he=Xt(he,ve+Ue),Pe=he.length);Ue-- >0;)he[ve++]=Y[re>>>3],re+=8;continue}for(;;){!me&&Pe<ve+32767&&(he=Xt(he,ve+32767),Pe=he.length);var $e=zt(Y,re,ze),ht=ne>>>1==1?dr[$e]:Wt[$e];if(re+=ht&15,ht>>>=4,(ht>>>8&255)===0)he[ve++]=ht;else{if(ht==256)break;ht-=257;var bt=ht<8?0:ht-4>>2;bt>5&&(bt=0);var wt=ve+se[ht];bt>0&&(wt+=zt(Y,re,bt),re+=bt),$e=zt(Y,re,Be),ht=ne>>>1==1?Nr[$e]:xn[$e],re+=ht&15,ht>>>=4;var gt=ht<4?0:ht-2>>1,Mt=Ae[ht];for(gt>0&&(Mt+=zt(Y,re,gt),re+=gt),!me&&Pe<wt&&(he=Xt(he,wt+100),Pe=he.length);ve<wt;)he[ve]=he[ve-Mt],++ve}}}return me?[he,re+7>>>3]:[he.slice(0,ve),re+7>>>3]}function ln(Y,me){var re=Y.slice(Y.l||0),ne=Yt(re,me);return Y.l+=ne[1],ne[0]}function ur(Y,me){if(Y)typeof console<"u"&&console.error(me);else throw new Error(me)}function cr(Y,me){var re=Y;Yo(re,0);var ne=[],he=[],ve={FileIndex:ne,FullPaths:he};F(ve,{root:me.root});for(var Pe=re.length-4;(re[Pe]!=80||re[Pe+1]!=75||re[Pe+2]!=5||re[Pe+3]!=6)&&Pe>=0;)--Pe;re.l=Pe+4,re.l+=4;var ze=re.read_shift(2);re.l+=6;var Be=re.read_shift(4);for(re.l=Be,Pe=0;Pe<ze;++Pe){re.l+=20;var Ue=re.read_shift(4),$e=re.read_shift(4),ht=re.read_shift(2),bt=re.read_shift(2),wt=re.read_shift(2);re.l+=8;var gt=re.read_shift(4),Mt=l(re.slice(re.l+ht,re.l+ht+bt));re.l+=ht+bt+wt;var Bt=re.l;re.l=gt+4,en(re,Ue,$e,ve,Mt),re.l=Bt}return ve}function en(Y,me,re,ne,he){Y.l+=2;var ve=Y.read_shift(2),Pe=Y.read_shift(2),ze=s(Y);if(ve&8257)throw new Error("Unsupported ZIP encryption");for(var Be=Y.read_shift(4),Ue=Y.read_shift(4),$e=Y.read_shift(4),ht=Y.read_shift(2),bt=Y.read_shift(2),wt="",gt=0;gt<ht;++gt)wt+=String.fromCharCode(Y[Y.l++]);if(bt){var Mt=l(Y.slice(Y.l,Y.l+bt));(Mt[21589]||{}).mt&&(ze=Mt[21589].mt),((he||{})[21589]||{}).mt&&(ze=he[21589].mt)}Y.l+=bt;var Bt=Y.slice(Y.l,Y.l+Ue);switch(Pe){case 8:Bt=H(Y,$e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Pe)}var Hr=!1;ve&8&&(Be=Y.read_shift(4),Be==134695760&&(Be=Y.read_shift(4),Hr=!0),Ue=Y.read_shift(4),$e=Y.read_shift(4)),Ue!=me&&ur(Hr,"Bad compressed size: "+me+" != "+Ue),$e!=re&&ur(Hr,"Bad uncompressed size: "+re+" != "+$e),Ce(ne,wt,Bt,{unsafe:!0,mt:ze})}function xr(Y,me){var re=me||{},ne=[],he=[],ve=ut(1),Pe=re.compression?8:0,ze=0,Be=0,Ue=0,$e=0,ht=0,bt=Y.FullPaths[0],wt=bt,gt=Y.FileIndex[0],Mt=[],Bt=0;for(Be=1;Be<Y.FullPaths.length;++Be)if(wt=Y.FullPaths[Be].slice(bt.length),gt=Y.FileIndex[Be],!(!gt.size||!gt.content||wt=="Sh33tJ5")){var Hr=$e,wr=ut(wt.length);for(Ue=0;Ue<wt.length;++Ue)wr.write_shift(1,wt.charCodeAt(Ue)&127);wr=wr.slice(0,wr.l),Mt[ht]=u9.buf(gt.content,0);var nn=gt.content;Pe==8&&(nn=q(nn)),ve=ut(30),ve.write_shift(4,67324752),ve.write_shift(2,20),ve.write_shift(2,ze),ve.write_shift(2,Pe),gt.mt?a(ve,gt.mt):ve.write_shift(4,0),ve.write_shift(-4,Mt[ht]),ve.write_shift(4,nn.length),ve.write_shift(4,gt.content.length),ve.write_shift(2,wr.length),ve.write_shift(2,0),$e+=ve.length,ne.push(ve),$e+=wr.length,ne.push(wr),$e+=nn.length,ne.push(nn),ve=ut(46),ve.write_shift(4,33639248),ve.write_shift(2,0),ve.write_shift(2,20),ve.write_shift(2,ze),ve.write_shift(2,Pe),ve.write_shift(4,0),ve.write_shift(-4,Mt[ht]),ve.write_shift(4,nn.length),ve.write_shift(4,gt.content.length),ve.write_shift(2,wr.length),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(4,0),ve.write_shift(4,Hr),Bt+=ve.l,he.push(ve),Bt+=wr.length,he.push(wr),++ht}return ve=ut(22),ve.write_shift(4,101010256),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,ht),ve.write_shift(2,ht),ve.write_shift(4,Bt),ve.write_shift(4,$e),ve.write_shift(2,0),gs([gs(ne),gs(he),ve])}var Zt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Gr(Y,me){if(Y.ctype)return Y.ctype;var re=Y.name||"",ne=re.match(/\.([^\.]+)$/);return ne&&Zt[ne[1]]||me&&(ne=(re=me).match(/[\.\\]([^\.\\])+$/),ne&&Zt[ne[1]])?Zt[ne[1]]:"application/octet-stream"}function ba(Y){for(var me=X0(Y),re=[],ne=0;ne<me.length;ne+=76)re.push(me.slice(ne,ne+76));return re.join(`\r
`)+`\r
`}function li(Y){var me=Y.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var $e=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+($e.length==1?"0"+$e:$e)});me=me.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),me.charAt(0)==`
`&&(me="=0D"+me.slice(1)),me=me.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var re=[],ne=me.split(`\r
`),he=0;he<ne.length;++he){var ve=ne[he];if(ve.length==0){re.push("");continue}for(var Pe=0;Pe<ve.length;){var ze=76,Be=ve.slice(Pe,Pe+ze);Be.charAt(ze-1)=="="?ze--:Be.charAt(ze-2)=="="?ze-=2:Be.charAt(ze-3)=="="&&(ze-=3),Be=ve.slice(Pe,Pe+ze),Pe+=ze,Pe<ve.length&&(Be+="="),re.push(Be)}}return re.join(`\r
`)}function Ji(Y){for(var me=[],re=0;re<Y.length;++re){for(var ne=Y[re];re<=Y.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+Y[++re];me.push(ne)}for(var he=0;he<me.length;++he)me[he]=me[he].replace(/[=][0-9A-Fa-f]{2}/g,function(ve){return String.fromCharCode(parseInt(ve.slice(1),16))});return $l(me.join(`\r
`))}function Ni(Y,me,re){for(var ne="",he="",ve="",Pe,ze=0;ze<10;++ze){var Be=me[ze];if(!Be||Be.match(/^\s*$/))break;var Ue=Be.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":ne=Ue[2].trim();break;case"content-type":ve=Ue[2].trim();break;case"content-transfer-encoding":he=Ue[2].trim();break}}switch(++ze,he.toLowerCase()){case"base64":Pe=$l(cc(me.slice(ze).join("")));break;case"quoted-printable":Pe=Ji(me.slice(ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var $e=Ce(Y,ne.slice(re.length),Pe,{unsafe:!0});ve&&($e.ctype=ve)}function Qt(Y,me){if(Le(Y.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var re=me&&me.root||"",ne=(Cn&&Buffer.isBuffer(Y)?Y.toString("binary"):Le(Y)).split(`\r
`),he=0,ve="";for(he=0;he<ne.length;++he)if(ve=ne[he],!!/^Content-Location:/i.test(ve)&&(ve=ve.slice(ve.indexOf("file")),re||(re=ve.slice(0,ve.lastIndexOf("/")+1)),ve.slice(0,re.length)!=re))for(;re.length>0&&(re=re.slice(0,re.length-1),re=re.slice(0,re.lastIndexOf("/")+1),ve.slice(0,re.length)!=re););var Pe=(ne[1]||"").match(/boundary="(.*?)"/);if(!Pe)throw new Error("MAD cannot find boundary");var ze="--"+(Pe[1]||""),Be=[],Ue=[],$e={FileIndex:Be,FullPaths:Ue};F($e);var ht,bt=0;for(he=0;he<ne.length;++he){var wt=ne[he];wt!==ze&&wt!==ze+"--"||(bt++&&Ni($e,ne.slice(ht,he),re),ht=he)}return $e}function Ka(Y,me){var re=me||{},ne=re.boundary||"SheetJS";ne="------="+ne;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],ve=Y.FullPaths[0],Pe=ve,ze=Y.FileIndex[0],Be=1;Be<Y.FullPaths.length;++Be)if(Pe=Y.FullPaths[Be].slice(ve.length),ze=Y.FileIndex[Be],!(!ze.size||!ze.content||Pe=="Sh33tJ5")){Pe=Pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Bt){return"_x"+Bt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Bt){return"_u"+Bt.charCodeAt(0).toString(16)+"_"});for(var Ue=ze.content,$e=Cn&&Buffer.isBuffer(Ue)?Ue.toString("binary"):Le(Ue),ht=0,bt=Math.min(1024,$e.length),wt=0,gt=0;gt<=bt;++gt)(wt=$e.charCodeAt(gt))>=32&&wt<128&&++ht;var Mt=ht>=bt*4/5;he.push(ne),he.push("Content-Location: "+(re.root||"file:///C:/SheetJS/")+Pe),he.push("Content-Transfer-Encoding: "+(Mt?"quoted-printable":"base64")),he.push("Content-Type: "+Gr(ze,Pe)),he.push(""),he.push(Mt?li($e):ba($e))}return he.push(ne+`--\r
`),he.join(`\r
`)}function Fa(Y){var me={};return F(me,Y),me}function Ce(Y,me,re,ne){var he=ne&&ne.unsafe;he||F(Y);var ve=!he&&Yn.find(Y,me);if(!ve){var Pe=Y.FullPaths[0];me.slice(0,Pe.length)==Pe?Pe=me:(Pe.slice(-1)!="/"&&(Pe+="/"),Pe=(Pe+me).replace("//","/")),ve={name:i(me),type:2},Y.FileIndex.push(ve),Y.FullPaths.push(Pe),he||Yn.utils.cfb_gc(Y)}return ve.content=re,ve.size=re?re.length:0,ne&&(ne.CLSID&&(ve.clsid=ne.CLSID),ne.mt&&(ve.mt=ne.mt),ne.ct&&(ve.ct=ne.ct)),ve}function Ge(Y,me){F(Y);var re=Yn.find(Y,me);if(re){for(var ne=0;ne<Y.FileIndex.length;++ne)if(Y.FileIndex[ne]==re)return Y.FileIndex.splice(ne,1),Y.FullPaths.splice(ne,1),!0}return!1}function qe(Y,me,re){F(Y);var ne=Yn.find(Y,me);if(ne){for(var he=0;he<Y.FileIndex.length;++he)if(Y.FileIndex[he]==ne)return Y.FileIndex[he].name=i(re),Y.FullPaths[he]=re,!0}return!1}function Ye(Y){U(Y,!0)}return e.find=I,e.read=ue,e.parse=p,e.write=Ne,e.writeFile=_e,e.utils={cfb_new:Fa,cfb_add:Ce,cfb_del:Ge,cfb_mov:qe,cfb_gc:Ye,ReadShift:L0,CheckField:L6,prep_blob:Yo,bconcat:gs,use_zlib:O,_deflateRaw:_r,_inflateRaw:ln,consts:be},e})();function c9(t){return typeof t=="string"?sg(t):Array.isArray(t)?jR(t):t}function vp(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=sg(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Q0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([c9(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(t);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=gp(e)),l.write(e),l.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+t)}function ys(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function G4(t,e){for(var r=[],n=ys(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function X_(t){for(var e=[],r=ys(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function ug(t){for(var e=[],r=ys(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function h9(t){for(var e=[],r=ys(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var L1=new Date(1899,11,30,0,0,0);function Eo(t,e){var r=t.getTime(),n=L1.getTime()+(t.getTimezoneOffset()-L1.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var c6=new Date,f9=L1.getTime()+(c6.getTimezoneOffset()-L1.getTimezoneOffset())*6e4,H4=c6.getTimezoneOffset();function h6(t){var e=new Date;return e.setTime(t*24*60*60*1e3+f9),e.getTimezoneOffset()!==H4&&e.setTime(e.getTime()+(e.getTimezoneOffset()-H4)*6e4),e}var q4=new Date("2017-02-19T19:06:09.000Z"),f6=isNaN(q4.getFullYear())?new Date("2/19/17"):q4,d9=f6.getFullYear()==2017;function Js(t,e){var r=new Date(t);if(d9)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(f6.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function cg(t,e){if(Cn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function To(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=To(t[r]));return e}function Yi(t,e){for(var r="";r.length<e;)r+=t;return r}function lc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var p9=["january","february","march","april","may","june","july","august","september","october","november","december"];function J0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&p9.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Wr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Cn?n=mc(r):n=IR(r),Yn.utils.cfb_add(t,e,n)}Yn.utils.cfb_add(t,e,r)}else t.file(e,r)}function J_(){return Yn.utils.cfb_new()}var wa=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,m9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Q_=X_(m9),ey=/[&<>'"]/g,g9=/[\u0000-\u0008\u000b-\u001f]/g;function Hn(t){var e=t+"";return e.replace(ey,function(r){return Q_[r]}).replace(g9,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function V4(t){return Hn(t).replace(/ /g,"_x0020_")}var d6=/[\u0000-\u001f]/g;function v9(t){var e=t+"";return e.replace(ey,function(r){return Q_[r]}).replace(/\n/g,"<br/>").replace(d6,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function _9(t){var e=t+"";return e.replace(ey,function(r){return Q_[r]}).replace(d6,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function y9(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function x9(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function b2(t){for(var e="",r=0,n=0,i=0,a=0,s=0,l=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(r++),l=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function $4(t){var e=Ih(2*t.length),r,n,i=1,a=0,s=0,l;for(n=0;n<t.length;n+=i)i=1,(l=t.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(t.charCodeAt(n+1)&63),i=2):l<240?(r=(l&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(l&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function W4(t){return mc(t,"binary").toString("utf8")}var Um="foo bar baz",A0=Cn&&(W4(Um)==b2(Um)&&W4||$4(Um)==b2(Um)&&$4)||b2,Q0=Cn?function(t){return mc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},w9=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),p6=/(^\s|\s$|\n)/;function vs(t,e){return"<"+t+(e.match(p6)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function ep(t){return ys(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Pt(t,e,r){return"<"+t+(r!=null?ep(r):"")+(e!=null?(e.match(p6)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function x_(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function b9(t,e){switch(typeof t){case"string":var r=Pt("vt:lpwstr",Hn(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Pt((t|0)==t?"vt:i4":"vt:r8",Hn(String(t)));case"boolean":return Pt("vt:bool",t?"true":"false")}if(t instanceof Date)return Pt("vt:filetime",x_(t));throw new Error("Unable to serialize "+t)}var Wa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},yd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ko={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function S9(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function E9(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var l=0;l<=5;++l,a/=256)t[r+l]=a&255;t[r+6]=(i&15)<<4|a&15,t[r+7]=i>>4|n}var Z4=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,a=t[0][n].length;i<a;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},Y4=Cn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:mc(e)})):Z4(t)}:Z4,K4=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(d0(t,i)));return n.join("").replace(T0,"")},ty=Cn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(T0,""):K4(t,e,r)}:K4,X4=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},m6=Cn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):X4(t,e,r)}:X4,J4=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode($f(t,i)));return n.join("")},_p=Cn?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):J4(e,r,n)}:J4,g6=function(t,e){var r=Xo(t,e);return r>0?_p(t,e+4,e+4+r-1):""},v6=g6,_6=function(t,e){var r=Xo(t,e);return r>0?_p(t,e+4,e+4+r-1):""},y6=_6,x6=function(t,e){var r=2*Xo(t,e);return r>0?_p(t,e+4,e+4+r-1):""},w6=x6,b6=function(e,r){var n=Xo(e,r);return n>0?ty(e,r+4,r+4+n):""},S6=b6,E6=function(t,e){var r=Xo(t,e);return r>0?_p(t,e+4,e+4+r):""},T6=E6,A6=function(t,e){return S9(t,e)},N1=A6,ry=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Cn&&(v6=function(e,r){if(!Buffer.isBuffer(e))return g6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},y6=function(e,r){if(!Buffer.isBuffer(e))return _6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},w6=function(e,r){if(!Buffer.isBuffer(e))return x6(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},S6=function(e,r){if(!Buffer.isBuffer(e))return b6(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},T6=function(e,r){if(!Buffer.isBuffer(e))return E6(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},N1=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):A6(e,r)},ry=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var $f=function(t,e){return t[e]},d0=function(t,e){return t[e+1]*256+t[e]},T9=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Xo=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Nh=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},A9=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function L0(t,e){var r="",n,i,a=[],s,l,c,f;switch(e){case"dbcs":if(f=this.l,Cn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)r+=String.fromCharCode(d0(this,f)),f+=2;t*=2;break;case"utf8":r=_p(this,this.l,this.l+t);break;case"utf16le":t*=2,r=ty(this,this.l,this.l+t);break;case"wstr":return L0.call(this,t,"dbcs");case"lpstr-ansi":r=v6(this,this.l),t=4+Xo(this,this.l);break;case"lpstr-cp":r=y6(this,this.l),t=4+Xo(this,this.l);break;case"lpwstr":r=w6(this,this.l),t=4+2*Xo(this,this.l);break;case"lpp4":t=4+Xo(this,this.l),r=S6(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Xo(this,this.l),r=T6(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=$f(this,this.l+t++))!==0;)a.push(Im(s));r=a.join("");break;case"_wstr":for(t=0,r="";(s=d0(this,this.l+t))!==0;)a.push(Im(s)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",f=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return s=$f(this,f),this.l=f+1,l=L0.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Im(d0(this,f))),f+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return s=$f(this,f),this.l=f+1,l=L0.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Im($f(this,f))),f+=1}r=a.join("");break;default:switch(t){case 1:return n=$f(this,this.l),this.l++,n;case 2:return n=(e==="i"?T9:d0)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?Nh:A9)(this,this.l),this.l+=4,n):(i=Xo(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=N1(this,this.l):i=N1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=m6(this,this.l,t);break}}return this.l+=t,r}var L9=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},N9=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},C9=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function M9(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)C9(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,L9(this,e,this.l);break;case 8:if(n=8,r==="f"){E9(this,e,this.l);break}case 16:break;case-4:n=4,N9(this,e,this.l);break}return this.l+=n,this}function L6(t,e){var r=m6(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Yo(t,e){t.l=e,t.read_shift=L0,t.chk=L6,t.write_shift=M9}function Ou(t,e){t.l+=e}function ut(t){var e=Ih(t);return Yo(e,0),e}function So(){var t=[],e=Cn?256:2048,r=function(f){var p=ut(f);return Yo(p,0),p},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(f){return n&&f<n.length-n.l?n:(i(),n=r(Math.max(f+1,e)))},s=function(){return i(),gs(t)},l=function(f){i(),n=f,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:l,end:s,_bufs:t}}function Et(t,e,r,n){var i=+e,a;if(!isNaN(i)){n||(n=SU[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=t.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var l=0;l!=4;++l)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&ry(r)&&t.push(r)}}function N0(t,e,r){var n=To(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Q4(t,e,r){var n=To(t);return n.s=N0(n.s,e.s,r),n.e=N0(n.e,e.s,r),n}function C0(t,e){if(t.cRel&&t.c<0)for(t=To(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=To(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=qn(t);return!t.cRel&&t.cRel!=null&&(r=O9(r)),!t.rRel&&t.rRel!=null&&(r=k9(r)),r}function S2(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Fs(t.s.c)+":"+(t.e.cRel?"":"$")+Fs(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+_s(t.s.r)+":"+(t.e.rRel?"":"$")+_s(t.e.r):C0(t.s,e.biff)+":"+C0(t.e,e.biff)}function ny(t){return parseInt(P9(t),10)-1}function _s(t){return""+(t+1)}function k9(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function P9(t){return t.replace(/\$(\d+)$/,"$1")}function iy(t){for(var e=R9(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Fs(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function O9(t){return t.replace(/^([A-Z])/,"$$$1")}function R9(t){return t.replace(/^\$([A-Z])/,"$1")}function D9(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Za(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function qn(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Qo(t){var e=t.indexOf(":");return e==-1?{s:Za(t),e:Za(t)}:{s:Za(t.slice(0,e)),e:Za(t.slice(e+1))}}function xa(t,e){return typeof e>"u"||typeof e=="number"?xa(t.s,t.e):(typeof t!="string"&&(t=qn(t)),typeof e!="string"&&(e=qn(e)),t==e?t:t+":"+e)}function _i(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=t.length;for(r=0;n<a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function e3(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=eh(t.z,r?Eo(e):e)}catch{}try{return t.w=eh((t.XF||{}).numFmtId||(r?14:0),r?Eo(e):e)}catch{return""+e}}function hc(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?yp[t.v]||t.v:e==null?e3(t,t.v):e3(t,e))}function Vh(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function N6(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,a=t||(i?[]:{}),s=0,l=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Za(n.origin):n.origin;s=c.r,l=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var p=_i(a["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),s==-1&&(f.e.r=s=p.e.r+1)}for(var v=0;v!=e.length;++v)if(e[v]){if(!Array.isArray(e[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[v].length;++y)if(!(typeof e[v][y]>"u")){var _={v:e[v][y]},T=s+v,b=l+y;if(f.s.r>T&&(f.s.r=T),f.s.c>b&&(f.s.c=b),f.e.r<T&&(f.e.r=T),f.e.c<b&&(f.e.c=b),e[v][y]&&typeof e[v][y]=="object"&&!Array.isArray(e[v][y])&&!(e[v][y]instanceof Date))_=e[v][y];else if(Array.isArray(_.v)&&(_.f=e[v][y][1],_.v=_.v[0]),_.v===null)if(_.f)_.t="n";else if(n.nullError)_.t="e",_.v=0;else if(n.sheetStubs)_.t="z";else continue;else typeof _.v=="number"?_.t="n":typeof _.v=="boolean"?_.t="b":_.v instanceof Date?(_.z=n.dateNF||Xi[14],n.cellDates?(_.t="d",_.w=eh(_.z,Eo(_.v))):(_.t="n",_.v=Eo(_.v),_.w=eh(_.z,_.v))):_.t="s";if(i)a[T]||(a[T]=[]),a[T][b]&&a[T][b].z&&(_.z=a[T][b].z),a[T][b]=_;else{var C=qn({c:b,r:T});a[C]&&a[C].z&&(_.z=a[C].z),a[C]=_}}}return f.s.c<1e7&&(a["!ref"]=xa(f)),a}function xd(t,e){return N6(null,t,e)}function j9(t){return t.read_shift(4,"i")}function Zl(t,e){return e||(e=ut(4)),e.write_shift(4,t),e}function Bs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ya(t,e){var r=!1;return e==null&&(r=!0,e=ut(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function I9(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function F9(t,e){return e||(e=ut(4)),e.write_shift(2,0),e.write_shift(2,0),e}function ay(t,e){var r=t.l,n=t.read_shift(1),i=Bs(t),a=[],s={t:i,h:i};if((n&1)!==0){for(var l=t.read_shift(4),c=0;c!=l;++c)a.push(I9(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function B9(t,e){var r=!1;return e==null&&(r=!0,e=ut(15+4*t.t.length)),e.write_shift(1,0),Ya(t.t,e),r?e.slice(0,e.l):e}var U9=ay;function z9(t,e){var r=!1;return e==null&&(r=!0,e=ut(23+4*t.t.length)),e.write_shift(1,1),Ya(t.t,e),e.write_shift(4,1),F9({},e),r?e.slice(0,e.l):e}function Sl(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function $h(t,e){return e==null&&(e=ut(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Wh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Zh(t,e){return e==null&&(e=ut(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var G9=Bs,C6=Ya;function sy(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function C1(t,e){var r=!1;return e==null&&(r=!0,e=ut(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var H9=Bs,w_=sy,oy=C1;function M6(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?N1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Nh(e,0)>>2;return r?i/100:i}function k6(t,e){e==null&&(e=ut(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function P6(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function q9(t,e){return e||(e=ut(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Yh=P6,wd=q9;function bd(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Fh(t,e){return(e||ut(8)).write_shift(8,t,"f")}function V9(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var f=eD[i];f&&(e.rgb=h3(f));break;case 2:e.rgb=h3([s,l,c]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function M1(t,e){if(e||(e=ut(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function $9(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function W9(t,e){e||(e=ut(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var O6=2,Wo=3,zm=11,k1=19,Gm=64,Z9=65,Y9=71,K9=4108,X9=4126,ms=80,t3={1:{n:"CodePage",t:O6},2:{n:"Category",t:ms},3:{n:"PresentationFormat",t:ms},4:{n:"ByteCount",t:Wo},5:{n:"LineCount",t:Wo},6:{n:"ParagraphCount",t:Wo},7:{n:"SlideCount",t:Wo},8:{n:"NoteCount",t:Wo},9:{n:"HiddenCount",t:Wo},10:{n:"MultimediaClipCount",t:Wo},11:{n:"ScaleCrop",t:zm},12:{n:"HeadingPairs",t:K9},13:{n:"TitlesOfParts",t:X9},14:{n:"Manager",t:ms},15:{n:"Company",t:ms},16:{n:"LinksUpToDate",t:zm},17:{n:"CharacterCount",t:Wo},19:{n:"SharedDoc",t:zm},22:{n:"HyperlinksChanged",t:zm},23:{n:"AppVersion",t:Wo,p:"version"},24:{n:"DigSig",t:Z9},26:{n:"ContentType",t:ms},27:{n:"ContentStatus",t:ms},28:{n:"Language",t:ms},29:{n:"Version",t:ms},255:{},2147483648:{n:"Locale",t:k1},2147483651:{n:"Behavior",t:k1},1919054434:{}},r3={1:{n:"CodePage",t:O6},2:{n:"Title",t:ms},3:{n:"Subject",t:ms},4:{n:"Author",t:ms},5:{n:"Keywords",t:ms},6:{n:"Comments",t:ms},7:{n:"Template",t:ms},8:{n:"LastAuthor",t:ms},9:{n:"RevNumber",t:ms},10:{n:"EditTime",t:Gm},11:{n:"LastPrinted",t:Gm},12:{n:"CreatedDate",t:Gm},13:{n:"ModifiedDate",t:Gm},14:{n:"PageCount",t:Wo},15:{n:"WordCount",t:Wo},16:{n:"CharCount",t:Wo},17:{n:"Thumbnail",t:Y9},18:{n:"Application",t:ms},19:{n:"DocSecurity",t:Wo},255:{},2147483648:{n:"Locale",t:k1},2147483651:{n:"Behavior",t:k1},1919054434:{}};function J9(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Q9=J9([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),eD=To(Q9),yp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},tD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Hm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function R6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function D6(t,e){var r=h9(tD),n=[],i;n[n.length]=wa,n[n.length]=Pt("Types",null,{xmlns:Wa.CT,"xmlns:xsd":Wa.xsd,"xmlns:xsi":Wa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Pt("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){t[c]&&t[c].length>0&&(i=t[c][0],n[n.length]=Pt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Hm[c][e.bookType]||Hm[c].xlsx}))},s=function(c){(t[c]||[]).forEach(function(f){n[n.length]=Pt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:Hm[c][e.bookType]||Hm[c].xlsx})})},l=function(c){(t[c]||[]).forEach(function(f){n[n.length]=Pt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[c][0]})})};return a("workbooks"),s("sheets"),s("charts"),l("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),s("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Tn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function j6(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function ud(t){var e=[wa,Pt("Relationships",null,{xmlns:Wa.RELS})];return ys(t["!id"]).forEach(function(r){e[e.length]=Pt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function zn(t,e,r,n,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[Tn.HLINK,Tn.XPATH,Tn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function rD(t){var e=[wa];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function n3(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function nD(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function iD(t){var e=[wa];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(n3(t[r][0],t[r][1])),e.push(nD("",t[r][0]));return e.push(n3("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function I6(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+b1.version+"</meta:generator></office:meta></office:document-meta>"}var Oh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function E2(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Hn(e),n[n.length]=r?Pt(t,e,r):vs(t,e))}function F6(t,e){var r=e||{},n=[wa,Pt("cp:coreProperties",null,{"xmlns:cp":Wa.CORE_PROPS,"xmlns:dc":Wa.dc,"xmlns:dcterms":Wa.dcterms,"xmlns:dcmitype":Wa.dcmitype,"xmlns:xsi":Wa.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&E2("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:x_(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&E2("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:x_(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Oh.length;++a){var s=Oh[a],l=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&E2(s[0],l,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var cd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],B6=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function U6(t){var e=[],r=Pt;return t||(t={}),t.Application="SheetJS",e[e.length]=wa,e[e.length]=Pt("Properties",null,{xmlns:Wa.EXT_PROPS,"xmlns:vt":Wa.vt}),cd.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Hn(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Hn(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function z6(t){var e=[wa,Pt("Properties",null,{xmlns:Wa.CUST_PROPS,"xmlns:vt":Wa.vt})];if(!t)return e.join("");var r=1;return ys(t).forEach(function(i){++r,e[e.length]=Pt("property",b9(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Hn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var i3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function aD(t,e){var r=[];return ys(i3).map(function(n){for(var i=0;i<Oh.length;++i)if(Oh[i][1]==n)return Oh[i];for(i=0;i<cd.length;++i)if(cd[i][1]==n)return cd[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];n[2]==="date"&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(vs(i3[n[1]]||n[1],i))}}),Pt("DocumentProperties",r.join(""),{xmlns:Ko.o})}function sD(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&ys(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<Oh.length;++s)if(a==Oh[s][1])return;for(s=0;s<cd.length;++s)if(a==cd[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var l=t[a],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),i.push(Pt(V4(a),l,{"dt:dt":c}))}}),e&&ys(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=e[a],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s instanceof Date?(l="dateTime.tz",s=s.toISOString()):s=String(s),i.push(Pt(V4(a),s,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Ko.o+'">'+i.join("")+"</"+n+">"}function oD(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=ut(8);return s.write_shift(4,n),s.write_shift(4,i),s}function a3(t,e){var r=ut(4),n=ut(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=ut(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=oD(e);break;case 31:case 80:for(n=ut(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return gs([r,n])}var G6=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function lD(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function s3(t,e,r){var n=ut(8),i=[],a=[],s=8,l=0,c=ut(8),f=ut(8);if(c.write_shift(4,2),c.write_shift(4,1200),f.write_shift(4,1),a.push(c),i.push(f),s+=8+c.length,!e){f=ut(8),f.write_shift(4,0),i.unshift(f);var p=[ut(4)];for(p[0].write_shift(4,t.length),l=0;l<t.length;++l){var v=t[l][0];for(c=ut(8+2*(v.length+1)+(v.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,v.length+1),c.write_shift(0,v,"dbcs");c.l!=c.length;)c.write_shift(1,0);p.push(c)}c=gs(p),a.unshift(c),s+=8+c.length}for(l=0;l<t.length;++l)if(!(e&&!e[t[l][0]])&&!(G6.indexOf(t[l][0])>-1||B6.indexOf(t[l][0])>-1)&&t[l][1]!=null){var y=t[l][1],_=0;if(e){_=+e[t[l][0]];var T=r[_];if(T.p=="version"&&typeof y=="string"){var b=y.split(".");y=(+b[0]<<16)+(+b[1]||0)}c=a3(T.t,y)}else{var C=lD(y);C==-1&&(C=31,y=String(y)),c=a3(C,y)}a.push(c),f=ut(8),f.write_shift(4,e?_:2+l),i.push(f),s+=8+c.length}var P=8*(a.length+1);for(l=0;l<a.length;++l)i[l].write_shift(4,P),P+=a[l].length;return n.write_shift(4,s),n.write_shift(4,a.length),gs([n].concat(i).concat(a))}function o3(t,e,r,n,i,a){var s=ut(i?68:48),l=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Yn.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var c=s3(t,r,n);if(l.push(c),i){var f=s3(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+c.length),l.push(f)}return gs(l)}function uD(t,e){e||(e=ut(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function cD(t,e){return t.read_shift(e)===1}function Ks(t,e){return e||(e=ut(2)),e.write_shift(2,+!!t),e}function H6(t){return t.read_shift(2,"u")}function vl(t,e){return e||(e=ut(2)),e.write_shift(2,t),e}function q6(t,e,r){return r||(r=ut(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function V6(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?t.read_shift(n,i):"";return s}function hD(t){var e=t.t||"",r=ut(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=ut(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return gs(i)}function fD(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function dD(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):fD(t,n,r)}function pD(t,e,r){if(r.biff>5)return dD(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function $6(t,e,r){return r||(r=ut(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function l3(t,e){e||(e=ut(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function mD(t){var e=ut(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(a==28)n=n.slice(1),l3(n,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var l=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)e.write_shift(2,l.charCodeAt(r));e.write_shift(2,0),a&8&&l3(i>-1?n.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)e.write_shift(1,n.charCodeAt(r+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Bh(t,e,r,n){return n||(n=ut(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function gD(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),a=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[i,a,s]}function vD(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function W6(t,e){return e||(e=ut(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function ly(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=ut(i);return a.write_shift(2,n),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function _D(t,e){var r=!e||e.biff==8,n=ut(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function yD(t,e){var r=!e||e.biff>=8?2:1,n=ut(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function xD(t,e){var r=ut(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=hD(t[i]);var a=gs([r].concat(n));return a.parts=[r.length].concat(n.map(function(s){return s.length})),a}function wD(){var t=ut(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function bD(t){var e=ut(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function SD(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,a=ut(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function ED(t,e,r,n){var i=ut(10);return Bh(t,e,n,i),i.write_shift(4,r),i}function TD(t,e,r,n,i){var a=!i||i.biff==8,s=ut(8+ +a+(1+a)*r.length);return Bh(t,e,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function AD(t,e,r,n){var i=r&&r.biff==5;n||(n=ut(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function LD(t,e){var r=e.biff==8||!e.biff?4:2,n=ut(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function u3(t,e,r,n){var i=r&&r.biff==5;n||(n=ut(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function ND(t){var e=ut(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function CD(t,e,r,n,i,a){var s=ut(8);return Bh(t,e,n,s),q6(r,a,s),s}function MD(t,e,r,n){var i=ut(14);return Bh(t,e,n,i),Fh(r,i),i}function kD(t,e,r){if(r.biff<8)return PD(t,e,r);for(var n=[],i=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(gD(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function PD(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=V6(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function OD(t){var e=ut(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)W6(t[r],e);return e}function RD(t){var e=ut(24),r=Za(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return gs([e,mD(t[1])])}function DD(t){var e=t[1].Tooltip,r=ut(10+2*(e.length+1));r.write_shift(2,2048);var n=Za(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function jD(t){return t||(t=ut(4)),t.write_shift(2,1),t.write_shift(2,1),t}function ID(t,e,r){if(!r.cellStyles)return Ou(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),a=t.read_shift(n),s=t.read_shift(n),l=t.read_shift(n),c=t.read_shift(2);n==2&&(t.l+=2);var f={s:i,e:a,w:s,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(f.level=c>>8&7),f}function FD(t,e){var r=ut(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function BD(t){for(var e=ut(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function UD(t,e,r){var n=ut(15);return wp(n,t,e),n.write_shift(8,r,"f"),n}function zD(t,e,r){var n=ut(9);return wp(n,t,e),n.write_shift(2,r),n}var GD=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=X_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var f=[],p=Ih(1);switch(c.type){case"base64":p=$l(cc(l));break;case"binary":p=$l(l);break;case"buffer":case"array":p=l;break}Yo(p,0);var v=p.read_shift(1),y=!!(v&136),_=!1,T=!1;switch(v){case 2:break;case 3:break;case 48:_=!0,y=!0;break;case 49:_=!0,y=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var b=0,C=521;v==2&&(b=p.read_shift(2)),p.l+=3,v!=2&&(b=p.read_shift(4)),b>1048576&&(b=1e6),v!=2&&(C=p.read_shift(2));var P=p.read_shift(2),j=c.codepage||1252;v!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(j=t[p[p.l]]),p.l+=1,p.l+=2),T&&(p.l+=36);for(var R=[],B={},te=Math.min(p.length,v==2?521:C-10-(_?264:0)),ue=T?32:11;p.l<te&&p[p.l]!=13;)switch(B={},B.name=S1.utils.decode(j,p.slice(p.l,p.l+ue)).replace(/[\u0000\r\n].*$/g,""),p.l+=ue,B.type=String.fromCharCode(p.read_shift(1)),v!=2&&!T&&(B.offset=p.read_shift(4)),B.len=p.read_shift(1),v==2&&(B.offset=p.read_shift(2)),B.dec=p.read_shift(1),B.name.length&&R.push(B),v!=2&&(p.l+=T?13:14),B.type){case"B":(!_||B.len!=8)&&c.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+B.type)}if(p[p.l]!==13&&(p.l=C-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=C;var F=0,K=0;for(f[0]=[],K=0;K!=R.length;++K)f[0][K]=R[K].name;for(;b-- >0;){if(p[p.l]===42){p.l+=P;continue}for(++p.l,f[++F]=[],K=0,K=0;K!=R.length;++K){var U=p.slice(p.l,p.l+R[K].len);p.l+=R[K].len,Yo(U,0);var X=S1.utils.decode(j,U);switch(R[K].type){case"C":X.trim().length&&(f[F][K]=X.replace(/\s+$/,""));break;case"D":X.length===8?f[F][K]=new Date(+X.slice(0,4),+X.slice(4,6)-1,+X.slice(6,8)):f[F][K]=X;break;case"F":f[F][K]=parseFloat(X.trim());break;case"+":case"I":f[F][K]=T?U.read_shift(-4,"i")^2147483648:U.read_shift(4,"i");break;case"L":switch(X.trim().toUpperCase()){case"Y":case"T":f[F][K]=!0;break;case"N":case"F":f[F][K]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+X+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));f[F][K]="##MEMO##"+(T?parseInt(X.trim(),10):U.read_shift(4));break;case"N":X=X.replace(/\u0000/g,"").trim(),X&&X!="."&&(f[F][K]=+X||0);break;case"@":f[F][K]=new Date(U.read_shift(-8,"f")-621356832e5);break;case"T":f[F][K]=new Date((U.read_shift(4)-2440588)*864e5+U.read_shift(4));break;case"Y":f[F][K]=U.read_shift(4,"i")/1e4+U.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[F][K]=-U.read_shift(-8,"f");break;case"B":if(_&&R[K].len==8){f[F][K]=U.read_shift(8,"f");break}case"G":case"P":U.l+=R[K].len;break;case"0":if(R[K].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+R[K].type)}}}if(v!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return c&&c.sheetRows&&(f=f.slice(0,c.sheetRows)),c.DBF=R,f}function n(l,c){var f=c||{};f.dateNF||(f.dateNF="yyyymmdd");var p=xd(r(l,f),f);return p["!cols"]=f.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete f.DBF,p}function i(l,c){try{return Vh(n(l,c),c)}catch(f){if(c&&c.WTF)throw f}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(l,c){var f=c||{};if(+f.codepage>=0&&K0(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var p=So(),v=j1(l,{header:1,raw:!0,cellDates:!0}),y=v[0],_=v.slice(1),T=l["!cols"]||[],b=0,C=0,P=0,j=1;for(b=0;b<y.length;++b){if(((T[b]||{}).DBF||{}).name){y[b]=T[b].DBF.name,++P;continue}if(y[b]!=null){if(++P,typeof y[b]=="number"&&(y[b]=y[b].toString(10)),typeof y[b]!="string")throw new Error("DBF Invalid column name "+y[b]+" |"+typeof y[b]+"|");if(y.indexOf(y[b])!==b){for(C=0;C<1024;++C)if(y.indexOf(y[b]+"_"+C)==-1){y[b]+="_"+C;break}}}}var R=_i(l["!ref"]),B=[],te=[],ue=[];for(b=0;b<=R.e.c-R.s.c;++b){var F="",K="",U=0,X=[];for(C=0;C<_.length;++C)_[C][b]!=null&&X.push(_[C][b]);if(X.length==0||y[b]==null){B[b]="?";continue}for(C=0;C<X.length;++C){switch(typeof X[C]){case"number":K="B";break;case"string":K="C";break;case"boolean":K="L";break;case"object":K=X[C]instanceof Date?"D":"C";break;default:K="C"}U=Math.max(U,String(X[C]).length),F=F&&F!=K?"C":K}U>250&&(U=250),K=((T[b]||{}).DBF||{}).type,K=="C"&&T[b].DBF.len>U&&(U=T[b].DBF.len),F=="B"&&K=="N"&&(F="N",ue[b]=T[b].DBF.dec,U=T[b].DBF.len),te[b]=F=="C"||K=="N"?U:a[F]||0,j+=te[b],B[b]=F}var I=p.next(32);for(I.write_shift(4,318902576),I.write_shift(4,_.length),I.write_shift(2,296+32*P),I.write_shift(2,j),b=0;b<4;++b)I.write_shift(4,0);for(I.write_shift(4,0|(+e[YE]||3)<<8),b=0,C=0;b<y.length;++b)if(y[b]!=null){var W=p.next(32),ce=(y[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,ce,"sbcs"),W.write_shift(1,B[b]=="?"?"C":B[b],"sbcs"),W.write_shift(4,C),W.write_shift(1,te[b]||a[B[b]]||0),W.write_shift(1,ue[b]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),C+=te[b]||a[B[b]]||0}var pe=p.next(264);for(pe.write_shift(4,13),b=0;b<65;++b)pe.write_shift(4,0);for(b=0;b<_.length;++b){var xe=p.next(j);for(xe.write_shift(1,0),C=0;C<y.length;++C)if(y[C]!=null)switch(B[C]){case"L":xe.write_shift(1,_[b][C]==null?63:_[b][C]?84:70);break;case"B":xe.write_shift(8,_[b][C]||0,"f");break;case"N":var oe="0";for(typeof _[b][C]=="number"&&(oe=_[b][C].toFixed(ue[C]||0)),P=0;P<te[C]-oe.length;++P)xe.write_shift(1,32);xe.write_shift(1,oe,"sbcs");break;case"D":_[b][C]?(xe.write_shift(4,("0000"+_[b][C].getFullYear()).slice(-4),"sbcs"),xe.write_shift(2,("00"+(_[b][C].getMonth()+1)).slice(-2),"sbcs"),xe.write_shift(2,("00"+_[b][C].getDate()).slice(-2),"sbcs")):xe.write_shift(8,"00000000","sbcs");break;case"C":var be=String(_[b][C]!=null?_[b][C]:"").slice(0,te[C]);for(xe.write_shift(1,be,"sbcs"),P=0;P<te[C]-be.length;++P)xe.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}})(),HD=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ys(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,_){var T=t[_];return typeof T=="number"?O4(T):T},n=function(y,_,T){var b=_.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return b==59?y:O4(b)};t["|"]=254;function i(y,_){switch(_.type){case"base64":return a(cc(y),_);case"binary":return a(y,_);case"buffer":return a(Cn&&Buffer.isBuffer(y)?y.toString("binary"):gp(y),_);case"array":return a(cg(y),_)}throw new Error("Unrecognized type "+_.type)}function a(y,_){var T=y.split(/[\n\r]+/),b=-1,C=-1,P=0,j=0,R=[],B=[],te=null,ue={},F=[],K=[],U=[],X=0,I;for(+_.codepage>=0&&K0(+_.codepage);P!==T.length;++P){X=0;var W=T[P].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),ce=W.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),pe=ce[0],xe;if(W.length>0)switch(pe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ce[1].charAt(0)=="P"&&B.push(W.slice(3).replace(/;;/g,";"));break;case"C":var oe=!1,be=!1,_e=!1,Le=!1,Ne=-1,Q=-1;for(j=1;j<ce.length;++j)switch(ce[j].charAt(0)){case"A":break;case"X":C=parseInt(ce[j].slice(1))-1,be=!0;break;case"Y":for(b=parseInt(ce[j].slice(1))-1,be||(C=0),I=R.length;I<=b;++I)R[I]=[];break;case"K":xe=ce[j].slice(1),xe.charAt(0)==='"'?xe=xe.slice(1,xe.length-1):xe==="TRUE"?xe=!0:xe==="FALSE"?xe=!1:isNaN(lc(xe))?isNaN(J0(xe).getDate())||(xe=Js(xe)):(xe=lc(xe),te!==null&&o6(te)&&(xe=h6(xe))),oe=!0;break;case"E":Le=!0;var O=zj(ce[j].slice(1),{r:b,c:C});R[b][C]=[R[b][C],O];break;case"S":_e=!0,R[b][C]=[R[b][C],"S5S"];break;case"G":break;case"R":Ne=parseInt(ce[j].slice(1))-1;break;case"C":Q=parseInt(ce[j].slice(1))-1;break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+W)}if(oe&&(R[b][C]&&R[b][C].length==2?R[b][C][0]=xe:R[b][C]=xe,te=null),_e){if(Le)throw new Error("SYLK shared formula cannot have own formula");var H=Ne>-1&&R[Ne][Q];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");R[b][C][1]=Gj(H[1],{r:b-Ne,c:C-Q})}break;case"F":var q=0;for(j=1;j<ce.length;++j)switch(ce[j].charAt(0)){case"X":C=parseInt(ce[j].slice(1))-1,++q;break;case"Y":for(b=parseInt(ce[j].slice(1))-1,I=R.length;I<=b;++I)R[I]=[];break;case"M":X=parseInt(ce[j].slice(1))/20;break;case"F":break;case"G":break;case"P":te=B[parseInt(ce[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(U=ce[j].slice(1).split(" "),I=parseInt(U[0],10);I<=parseInt(U[1],10);++I)X=parseInt(U[2],10),K[I-1]=X===0?{hidden:!0}:{wch:X},uy(K[I-1]);break;case"C":C=parseInt(ce[j].slice(1))-1,K[C]||(K[C]={});break;case"R":b=parseInt(ce[j].slice(1))-1,F[b]||(F[b]={}),X>0?(F[b].hpt=X,F[b].hpx=J6(X)):X===0&&(F[b].hidden=!0);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+W)}q<1&&(te=null);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+W)}}return F.length>0&&(ue["!rows"]=F),K.length>0&&(ue["!cols"]=K),_&&_.sheetRows&&(R=R.slice(0,_.sheetRows)),[R,ue]}function s(y,_){var T=i(y,_),b=T[0],C=T[1],P=xd(b,_);return ys(C).forEach(function(j){P[j]=C[j]}),P}function l(y,_){return Vh(s(y,_),_)}function c(y,_,T,b){var C="C;Y"+(T+1)+";X"+(b+1)+";K";switch(y.t){case"n":C+=y.v||0,y.f&&!y.F&&(C+=";E"+hy(y.f,{r:T,c:b}));break;case"b":C+=y.v?"TRUE":"FALSE";break;case"e":C+=y.w||y.v;break;case"d":C+='"'+(y.w||y.v)+'"';break;case"s":C+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function f(y,_){_.forEach(function(T,b){var C="F;W"+(b+1)+" "+(b+1)+" ";T.hidden?C+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=P1(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=O1(T.wpx)),typeof T.wch=="number"&&(C+=Math.round(T.wch))),C.charAt(C.length-1)!=" "&&y.push(C)})}function p(y,_){_.forEach(function(T,b){var C="F;";T.hidden?C+="M0;":T.hpt?C+="M"+20*T.hpt+";":T.hpx&&(C+="M"+20*R1(T.hpx)+";"),C.length>2&&y.push(C+"R"+(b+1))})}function v(y,_){var T=["ID;PWXL;N;E"],b=[],C=_i(y["!ref"]),P,j=Array.isArray(y),R=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),y["!cols"]&&f(T,y["!cols"]),y["!rows"]&&p(T,y["!rows"]),T.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var B=C.s.r;B<=C.e.r;++B)for(var te=C.s.c;te<=C.e.c;++te){var ue=qn({r:B,c:te});P=j?(y[B]||[])[te]:y[ue],!(!P||P.v==null&&(!P.f||P.F))&&b.push(c(P,y,B,te))}return T.join(R)+R+b.join(R)+R+"E"+R}return{to_workbook:l,to_sheet:s,from_sheet:v}})(),qD=(function(){function t(a,s){switch(s.type){case"base64":return e(cc(a),s);case"binary":return e(a,s);case"buffer":return e(Cn&&Buffer.isBuffer(a)?a.toString("binary"):gp(a),s);case"array":return e(cg(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var l=a.split(`
`),c=-1,f=-1,p=0,v=[];p!==l.length;++p){if(l[p].trim()==="BOT"){v[++c]=[],f=0;continue}if(!(c<0)){var y=l[p].trim().split(","),_=y[0],T=y[1];++p;for(var b=l[p]||"";(b.match(/["]/g)||[]).length&1&&p<l.length-1;)b+=`
`+l[++p];switch(b=b.trim(),+_){case-1:if(b==="BOT"){v[++c]=[],f=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?v[c][f]=!0:b==="FALSE"?v[c][f]=!1:isNaN(lc(T))?isNaN(J0(T).getDate())?v[c][f]=T:v[c][f]=Js(T):v[c][f]=lc(T),++f;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),v[c][f++]=b!==""?b:null;break}if(b==="EOD")break}}return s&&s.sheetRows&&(v=v.slice(0,s.sheetRows)),v}function r(a,s){return xd(t(a,s),s)}function n(a,s){return Vh(r(a,s),s)}var i=(function(){var a=function(c,f,p,v,y){c.push(f),c.push(p+","+v),c.push('"'+y.replace(/"/g,'""')+'"')},s=function(c,f,p,v){c.push(f+","+p),c.push(f==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(c){var f=[],p=_i(c["!ref"]),v,y=Array.isArray(c);a(f,"TABLE",0,1,"sheetjs"),a(f,"VECTORS",0,p.e.r-p.s.r+1,""),a(f,"TUPLES",0,p.e.c-p.s.c+1,""),a(f,"DATA",0,0,"");for(var _=p.s.r;_<=p.e.r;++_){s(f,-1,0,"BOT");for(var T=p.s.c;T<=p.e.c;++T){var b=qn({r:_,c:T});if(v=y?(c[_]||[])[T]:c[b],!v){s(f,1,0,"");continue}switch(v.t){case"n":var C=v.w;!C&&v.v!=null&&(C=v.v),C==null?v.f&&!v.F?s(f,1,0,"="+v.f):s(f,1,0,""):s(f,0,C,"V");break;case"b":s(f,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":s(f,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=eh(v.z||Xi[14],Eo(Js(v.v)))),s(f,0,v.w,"V");break;default:s(f,1,0,"")}}}s(f,-1,0,"EOD");var P=`\r
`,j=f.join(P);return j}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),Z6=(function(){function t(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(v,y){for(var _=v.split(`
`),T=-1,b=-1,C=0,P=[];C!==_.length;++C){var j=_[C].trim().split(":");if(j[0]==="cell"){var R=Za(j[1]);if(P.length<=R.r)for(T=P.length;T<=R.r;++T)P[T]||(P[T]=[]);switch(T=R.r,b=R.c,j[2]){case"t":P[T][b]=t(j[3]);break;case"v":P[T][b]=+j[3];break;case"vtf":var B=j[j.length-1];case"vtc":j[3]==="nl"?P[T][b]=!!+j[4]:P[T][b]=+j[4],j[2]=="vtf"&&(P[T][b]=[P[T][b],B])}}}return y&&y.sheetRows&&(P=P.slice(0,y.sheetRows)),P}function n(v,y){return xd(r(v,y),y)}function i(v,y){return Vh(n(v,y),y)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function f(v){if(!v||!v["!ref"])return"";for(var y=[],_=[],T,b="",C=Qo(v["!ref"]),P=Array.isArray(v),j=C.s.r;j<=C.e.r;++j)for(var R=C.s.c;R<=C.e.c;++R)if(b=qn({r:j,c:R}),T=P?(v[j]||[])[R]:v[b],!(!T||T.v==null||T.t==="z")){switch(_=["cell",b,"t"],T.t){case"s":case"str":_.push(e(T.v));break;case"n":T.f?(_[2]="vtf",_[3]="n",_[4]=T.v,_[5]=e(T.f)):(_[2]="v",_[3]=T.v);break;case"b":_[2]="vt"+(T.f?"f":"c"),_[3]="nl",_[4]=T.v?"1":"0",_[5]=e(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var B=Eo(Js(T.v));_[2]="vtc",_[3]="nd",_[4]=""+B,_[5]=T.w||eh(T.z||Xi[14],B);break;case"e":continue}y.push(_.join(":"))}return y.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(v){return[a,s,l,s,f(v),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:p}})(),VD=(function(){function t(p,v,y,_,T){T.raw?v[y][_]=p:p===""||(p==="TRUE"?v[y][_]=!0:p==="FALSE"?v[y][_]=!1:isNaN(lc(p))?isNaN(J0(p).getDate())?v[y][_]=p:v[y][_]=Js(p):v[y][_]=lc(p))}function e(p,v){var y=v||{},_=[];if(!p||p.length===0)return _;for(var T=p.split(/[\r\n]/),b=T.length-1;b>=0&&T[b].length===0;)--b;for(var C=10,P=0,j=0;j<=b;++j)P=T[j].indexOf(" "),P==-1?P=T[j].length:P++,C=Math.max(C,P);for(j=0;j<=b;++j){_[j]=[];var R=0;for(t(T[j].slice(0,C).trim(),_,j,R,y),R=1;R<=(T[j].length-C)/10+1;++R)t(T[j].slice(C+(R-1)*10,C+R*10).trim(),_,j,R,y)}return y.sheetRows&&(_=_.slice(0,y.sheetRows)),_}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(p){for(var v={},y=!1,_=0,T=0;_<p.length;++_)(T=p.charCodeAt(_))==34?y=!y:!y&&T in r&&(v[T]=(v[T]||0)+1);T=[];for(_ in v)Object.prototype.hasOwnProperty.call(v,_)&&T.push([v[_],_]);if(!T.length){v=n;for(_ in v)Object.prototype.hasOwnProperty.call(v,_)&&T.push([v[_],_])}return T.sort(function(b,C){return b[0]-C[0]||n[b[1]]-n[C[1]]}),r[T.pop()[1]]||44}function a(p,v){var y=v||{},_="",T=y.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(_=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(_=p.charAt(4),p=p.slice(6)):_=i(p.slice(0,1024)):y&&y.FS?_=y.FS:_=i(p.slice(0,1024));var C=0,P=0,j=0,R=0,B=0,te=_.charCodeAt(0),ue=!1,F=0,K=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var U=y.dateNF!=null?o9(y.dateNF):null;function X(){var I=p.slice(R,B),W={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)W.t="z";else if(y.raw)W.t="s",W.v=I;else if(I.trim().length===0)W.t="s",W.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(W.t="s",W.v=I.slice(2,-1).replace(/""/g,'"')):Hj(I)?(W.t="n",W.f=I.slice(1)):(W.t="s",W.v=I);else if(I=="TRUE")W.t="b",W.v=!0;else if(I=="FALSE")W.t="b",W.v=!1;else if(!isNaN(j=lc(I)))W.t="n",y.cellText!==!1&&(W.w=I),W.v=j;else if(!isNaN(J0(I).getDate())||U&&I.match(U)){W.z=y.dateNF||Xi[14];var ce=0;U&&I.match(U)&&(I=l9(I,y.dateNF,I.match(U)||[]),ce=1),y.cellDates?(W.t="d",W.v=Js(I,ce)):(W.t="n",W.v=Eo(Js(I,ce))),y.cellText!==!1&&(W.w=eh(W.z,W.v instanceof Date?Eo(W.v):W.v)),y.cellNF||delete W.z}else W.t="s",W.v=I;if(W.t=="z"||(y.dense?(T[C]||(T[C]=[]),T[C][P]=W):T[qn({c:P,r:C})]=W),R=B+1,K=p.charCodeAt(R),b.e.c<P&&(b.e.c=P),b.e.r<C&&(b.e.r=C),F==te)++P;else if(P=0,++C,y.sheetRows&&y.sheetRows<=C)return!0}e:for(;B<p.length;++B)switch(F=p.charCodeAt(B)){case 34:K===34&&(ue=!ue);break;case te:case 10:case 13:if(!ue&&X())break e;break}return B-R>0&&X(),T["!ref"]=xa(b),T}function s(p,v){return!(v&&v.PRN)||v.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?a(p,v):xd(e(p,v),v)}function l(p,v){var y="",_=v.type=="string"?[0,0,0,0]:nz(p,v);switch(v.type){case"base64":y=cc(p);break;case"binary":y=p;break;case"buffer":v.codepage==65001?y=p.toString("utf8"):v.codepage&&typeof S1<"u"||(y=Cn&&Buffer.isBuffer(p)?p.toString("binary"):gp(p));break;case"array":y=cg(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+v.type)}return _[0]==239&&_[1]==187&&_[2]==191?y=A0(y.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?y=A0(y):v.type=="binary"&&typeof S1<"u",y.slice(0,19)=="socialcalc:version:"?Z6.to_sheet(v.type=="string"?y:A0(y),v):s(y,v)}function c(p,v){return Vh(l(p,v),v)}function f(p){for(var v=[],y=_i(p["!ref"]),_,T=Array.isArray(p),b=y.s.r;b<=y.e.r;++b){for(var C=[],P=y.s.c;P<=y.e.c;++P){var j=qn({r:b,c:P});if(_=T?(p[b]||[])[P]:p[j],!_||_.v==null){C.push("          ");continue}for(var R=(_.w||(hc(_),_.w)||"").slice(0,10);R.length<10;)R+=" ";C.push(R+(P===0?" ":""))}v.push(C.join(""))}return v.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:f}})(),c3=(function(){function t(O,H,q){if(O){Yo(O,O.l||0);for(var Z=q.Enum||Ne;O.l<O.length;){var se=O.read_shift(2),Ae=Z[se]||Z[65535],Oe=O.read_shift(2),Re=O.l+Oe,Ie=Ae.f&&Ae.f(O,Oe,q);if(O.l=Re,H(Ie,Ae,se))return}}}function e(O,H){switch(H.type){case"base64":return r($l(cc(O)),H);case"binary":return r($l(O),H);case"buffer":case"array":return r(O,H)}throw"Unsupported type "+H.type}function r(O,H){if(!O)return O;var q=H||{},Z=q.dense?[]:{},se="Sheet1",Ae="",Oe=0,Re={},Ie=[],ot=[],it={s:{r:0,c:0},e:{r:0,c:0}},Tt=q.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)q.Enum=Ne,t(O,function(xt,zt,dt){switch(dt){case 0:q.vers=xt,xt>=4096&&(q.qpro=!0);break;case 6:it=xt;break;case 204:xt&&(Ae=xt);break;case 222:Ae=xt;break;case 15:case 51:q.qpro||(xt[1].v=xt[1].v.slice(1));case 13:case 14:case 16:dt==14&&(xt[2]&112)==112&&(xt[2]&15)>1&&(xt[2]&15)<15&&(xt[1].z=q.dateNF||Xi[14],q.cellDates&&(xt[1].t="d",xt[1].v=h6(xt[1].v))),q.qpro&&xt[3]>Oe&&(Z["!ref"]=xa(it),Re[se]=Z,Ie.push(se),Z=q.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},Oe=xt[3],se=Ae||"Sheet"+(Oe+1),Ae="");var Vt=q.dense?(Z[xt[0].r]||[])[xt[0].c]:Z[qn(xt[0])];if(Vt){Vt.t=xt[1].t,Vt.v=xt[1].v,xt[1].z!=null&&(Vt.z=xt[1].z),xt[1].f!=null&&(Vt.f=xt[1].f);break}q.dense?(Z[xt[0].r]||(Z[xt[0].r]=[]),Z[xt[0].r][xt[0].c]=xt[1]):Z[qn(xt[0])]=xt[1];break}},q);else if(O[2]==26||O[2]==14)q.Enum=Q,O[2]==14&&(q.qpro=!0,O.l=0),t(O,function(xt,zt,dt){switch(dt){case 204:se=xt;break;case 22:xt[1].v=xt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(xt[3]>Oe&&(Z["!ref"]=xa(it),Re[se]=Z,Ie.push(se),Z=q.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},Oe=xt[3],se="Sheet"+(Oe+1)),Tt>0&&xt[0].r>=Tt)break;q.dense?(Z[xt[0].r]||(Z[xt[0].r]=[]),Z[xt[0].r][xt[0].c]=xt[1]):Z[qn(xt[0])]=xt[1],it.e.c<xt[0].c&&(it.e.c=xt[0].c),it.e.r<xt[0].r&&(it.e.r=xt[0].r);break;case 27:xt[14e3]&&(ot[xt[14e3][0]]=xt[14e3][1]);break;case 1537:ot[xt[0]]=xt[1],xt[0]==Oe&&(se=xt[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(Z["!ref"]=xa(it),Re[Ae||se]=Z,Ie.push(Ae||se),!ot.length)return{SheetNames:Ie,Sheets:Re};for(var Nt={},we=[],yt=0;yt<ot.length;++yt)Re[Ie[yt]]?(we.push(ot[yt]||Ie[yt]),Nt[ot[yt]]=Re[ot[yt]]||Re[Ie[yt]]):(we.push(ot[yt]),Nt[ot[yt]]={"!ref":"A1"});return{SheetNames:we,Sheets:Nt}}function n(O,H){var q=H||{};if(+q.codepage>=0&&K0(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=So(),se=_i(O["!ref"]),Ae=Array.isArray(O),Oe=[];Ot(Z,0,a(1030)),Ot(Z,6,c(se));for(var Re=Math.min(se.e.r,8191),Ie=se.s.r;Ie<=Re;++Ie)for(var ot=_s(Ie),it=se.s.c;it<=se.e.c;++it){Ie===se.s.r&&(Oe[it]=Fs(it));var Tt=Oe[it]+ot,Nt=Ae?(O[Ie]||[])[it]:O[Tt];if(!(!Nt||Nt.t=="z"))if(Nt.t=="n")(Nt.v|0)==Nt.v&&Nt.v>=-32768&&Nt.v<=32767?Ot(Z,13,_(Ie,it,Nt.v)):Ot(Z,14,b(Ie,it,Nt.v));else{var we=hc(Nt);Ot(Z,15,v(Ie,it,we.slice(0,239)))}}return Ot(Z,1),Z.end()}function i(O,H){var q=H||{};if(+q.codepage>=0&&K0(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=So();Ot(Z,0,s(O));for(var se=0,Ae=0;se<O.SheetNames.length;++se)(O.Sheets[O.SheetNames[se]]||{})["!ref"]&&Ot(Z,27,Le(O.SheetNames[se],Ae++));var Oe=0;for(se=0;se<O.SheetNames.length;++se){var Re=O.Sheets[O.SheetNames[se]];if(!(!Re||!Re["!ref"])){for(var Ie=_i(Re["!ref"]),ot=Array.isArray(Re),it=[],Tt=Math.min(Ie.e.r,8191),Nt=Ie.s.r;Nt<=Tt;++Nt)for(var we=_s(Nt),yt=Ie.s.c;yt<=Ie.e.c;++yt){Nt===Ie.s.r&&(it[yt]=Fs(yt));var xt=it[yt]+we,zt=ot?(Re[Nt]||[])[yt]:Re[xt];if(!(!zt||zt.t=="z"))if(zt.t=="n")Ot(Z,23,X(Nt,yt,Oe,zt.v));else{var dt=hc(zt);Ot(Z,22,F(Nt,yt,Oe,dt.slice(0,239)))}}++Oe}}return Ot(Z,1),Z.end()}function a(O){var H=ut(2);return H.write_shift(2,O),H}function s(O){var H=ut(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var q=0,Z=0,se=0,Ae=0;Ae<O.SheetNames.length;++Ae){var Oe=O.SheetNames[Ae],Re=O.Sheets[Oe];if(!(!Re||!Re["!ref"])){++se;var Ie=Qo(Re["!ref"]);q<Ie.e.r&&(q=Ie.e.r),Z<Ie.e.c&&(Z=Ie.e.c)}}return q>8191&&(q=8191),H.write_shift(2,q),H.write_shift(1,se),H.write_shift(1,Z),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function l(O,H,q){var Z={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&q.qpro?(Z.s.c=O.read_shift(1),O.l++,Z.s.r=O.read_shift(2),Z.e.c=O.read_shift(1),O.l++,Z.e.r=O.read_shift(2),Z):(Z.s.c=O.read_shift(2),Z.s.r=O.read_shift(2),H==12&&q.qpro&&(O.l+=2),Z.e.c=O.read_shift(2),Z.e.r=O.read_shift(2),H==12&&q.qpro&&(O.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function c(O){var H=ut(8);return H.write_shift(2,O.s.c),H.write_shift(2,O.s.r),H.write_shift(2,O.e.c),H.write_shift(2,O.e.r),H}function f(O,H,q){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(Z[0].c=O.read_shift(1),Z[3]=O.read_shift(1),Z[0].r=O.read_shift(2),O.l+=2):(Z[2]=O.read_shift(1),Z[0].c=O.read_shift(2),Z[0].r=O.read_shift(2)),Z}function p(O,H,q){var Z=O.l+H,se=f(O,H,q);if(se[1].t="s",q.vers==20768){O.l++;var Ae=O.read_shift(1);return se[1].v=O.read_shift(Ae,"utf8"),se}return q.qpro&&O.l++,se[1].v=O.read_shift(Z-O.l,"cstr"),se}function v(O,H,q){var Z=ut(7+q.length);Z.write_shift(1,255),Z.write_shift(2,H),Z.write_shift(2,O),Z.write_shift(1,39);for(var se=0;se<Z.length;++se){var Ae=q.charCodeAt(se);Z.write_shift(1,Ae>=128?95:Ae)}return Z.write_shift(1,0),Z}function y(O,H,q){var Z=f(O,H,q);return Z[1].v=O.read_shift(2,"i"),Z}function _(O,H,q){var Z=ut(7);return Z.write_shift(1,255),Z.write_shift(2,H),Z.write_shift(2,O),Z.write_shift(2,q,"i"),Z}function T(O,H,q){var Z=f(O,H,q);return Z[1].v=O.read_shift(8,"f"),Z}function b(O,H,q){var Z=ut(13);return Z.write_shift(1,255),Z.write_shift(2,H),Z.write_shift(2,O),Z.write_shift(8,q,"f"),Z}function C(O,H,q){var Z=O.l+H,se=f(O,H,q);if(se[1].v=O.read_shift(8,"f"),q.qpro)O.l=Z;else{var Ae=O.read_shift(2);B(O.slice(O.l,O.l+Ae),se),O.l+=Ae}return se}function P(O,H,q){var Z=H&32768;return H&=-32769,H=(Z?O:0)+(H>=8192?H-16384:H),(Z?"":"$")+(q?Fs(H):_s(H))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},R=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function B(O,H){Yo(O,0);for(var q=[],Z=0,se="",Ae="",Oe="",Re="";O.l<O.length;){var Ie=O[O.l++];switch(Ie){case 0:q.push(O.read_shift(8,"f"));break;case 1:Ae=P(H[0].c,O.read_shift(2),!0),se=P(H[0].r,O.read_shift(2),!1),q.push(Ae+se);break;case 2:{var ot=P(H[0].c,O.read_shift(2),!0),it=P(H[0].r,O.read_shift(2),!1);Ae=P(H[0].c,O.read_shift(2),!0),se=P(H[0].r,O.read_shift(2),!1),q.push(ot+it+":"+Ae+se)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(O.read_shift(2));break;case 6:{for(var Tt="";Ie=O[O.l++];)Tt+=String.fromCharCode(Ie);q.push('"'+Tt.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:Re=q.pop(),Oe=q.pop(),q.push(["AND","OR"][Ie-20]+"("+Oe+","+Re+")");break;default:if(Ie<32&&R[Ie])Re=q.pop(),Oe=q.pop(),q.push(Oe+R[Ie]+Re);else if(j[Ie]){if(Z=j[Ie][1],Z==69&&(Z=O[O.l++]),Z>q.length){console.error("WK1 bad formula parse 0x"+Ie.toString(16)+":|"+q.join("|")+"|");return}var Nt=q.slice(-Z);q.length-=Z,q.push(j[Ie][0]+"("+Nt.join(",")+")")}else return Ie<=7?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=24?console.error("WK1 unsupported op "+Ie.toString(16)):Ie<=30?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=115?console.error("WK1 unsupported function opcode "+Ie.toString(16)):console.error("WK1 unrecognized opcode "+Ie.toString(16))}}q.length==1?H[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function te(O){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=O.read_shift(2),H[3]=O[O.l++],H[0].c=O[O.l++],H}function ue(O,H){var q=te(O);return q[1].t="s",q[1].v=O.read_shift(H-4,"cstr"),q}function F(O,H,q,Z){var se=ut(6+Z.length);se.write_shift(2,O),se.write_shift(1,q),se.write_shift(1,H),se.write_shift(1,39);for(var Ae=0;Ae<Z.length;++Ae){var Oe=Z.charCodeAt(Ae);se.write_shift(1,Oe>=128?95:Oe)}return se.write_shift(1,0),se}function K(O,H){var q=te(O);q[1].v=O.read_shift(2);var Z=q[1].v>>1;if(q[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return q[1].v=Z,q}function U(O,H){var q=te(O),Z=O.read_shift(4),se=O.read_shift(4),Ae=O.read_shift(2);if(Ae==65535)return Z===0&&se===3221225472?(q[1].t="e",q[1].v=15):Z===0&&se===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var Oe=Ae&32768;return Ae=(Ae&32767)-16446,q[1].v=(1-Oe*2)*(se*Math.pow(2,Ae+32)+Z*Math.pow(2,Ae)),q}function X(O,H,q,Z){var se=ut(14);if(se.write_shift(2,O),se.write_shift(1,q),se.write_shift(1,H),Z==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var Ae=0,Oe=0,Re=0,Ie=0;return Z<0&&(Ae=1,Z=-Z),Oe=Math.log2(Z)|0,Z/=Math.pow(2,Oe-31),Ie=Z>>>0,(Ie&2147483648)==0&&(Z/=2,++Oe,Ie=Z>>>0),Z-=Ie,Ie|=2147483648,Ie>>>=0,Z*=Math.pow(2,32),Re=Z>>>0,se.write_shift(4,Re),se.write_shift(4,Ie),Oe+=16383+(Ae?32768:0),se.write_shift(2,Oe),se}function I(O,H){var q=U(O);return O.l+=H-14,q}function W(O,H){var q=te(O),Z=O.read_shift(4);return q[1].v=Z>>6,q}function ce(O,H){var q=te(O),Z=O.read_shift(8,"f");return q[1].v=Z,q}function pe(O,H){var q=ce(O);return O.l+=H-10,q}function xe(O,H){return O[O.l+H-1]==0?O.read_shift(H,"cstr"):""}function oe(O,H){var q=O[O.l++];q>H-1&&(q=H-1);for(var Z="";Z.length<q;)Z+=String.fromCharCode(O[O.l++]);return Z}function be(O,H,q){if(!(!q.qpro||H<21)){var Z=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var se=O.read_shift(H-21,"cstr");return[Z,se]}}function _e(O,H){for(var q={},Z=O.l+H;O.l<Z;){var se=O.read_shift(2);if(se==14e3){for(q[se]=[0,""],q[se][0]=O.read_shift(2);O[O.l];)q[se][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return q}function Le(O,H){var q=ut(5+O.length);q.write_shift(2,14e3),q.write_shift(2,H);for(var Z=0;Z<O.length;++Z){var se=O.charCodeAt(Z);q[q.l++]=se>127?95:se}return q[q.l++]=0,q}var Ne={0:{n:"BOF",f:H6},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:xe},222:{n:"SHEETNAMELP",f:oe},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ue},23:{n:"NUMBER17",f:U},24:{n:"NUMBER18",f:K},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:_e},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:ce},40:{n:"FORMULA28",f:pe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:xe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:be},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})(),$D=/^\s|\s$|[\t\n\r]/;function Y6(t,e){if(!e.bookSST)return"";var r=[wa];r[r.length]=Pt("sst",null,{xmlns:yd[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match($D)&&(a+=' xml:space="preserve"'),a+=">"+Hn(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function WD(t){return[t.read_shift(4),t.read_shift(4)]}function ZD(t,e){return e||(e=ut(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var YD=B9;function KD(t){var e=So();Et(e,159,ZD(t));for(var r=0;r<t.length;++r)Et(e,19,YD(t[r]));return Et(e,160),e.end()}function XD(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function K6(t){var e=0,r,n=XD(t),i=n.length+1,a,s,l,c,f;for(r=Ih(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],l=(e&16384)===0?0:1,c=e<<1&32767,f=l|c,e=f^s;return e^52811}var JD=(function(){function t(i,a){switch(a.type){case"base64":return e(cc(i),a);case"binary":return e(i,a);case"buffer":return e(Cn&&Buffer.isBuffer(i)?i.toString("binary"):gp(i),a);case"array":return e(cg(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},l=s.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(p,v){Array.isArray(l)&&(l[v]=[]);for(var y=/\\\w+\b/g,_=0,T,b=-1;T=y.exec(p);){switch(T[0]){case"\\cell":var C=p.slice(_,y.lastIndex-T[0].length);if(C[0]==" "&&(C=C.slice(1)),++b,C.length){var P={v:C,t:"s"};Array.isArray(l)?l[v][b]=P:l[qn({r:v,c:b})]=P}break}_=y.lastIndex}b>f.e.c&&(f.e.c=b)}),l["!ref"]=xa(f),l}function r(i,a){return Vh(t(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=_i(i["!ref"]),l,c=Array.isArray(i),f=s.s.r;f<=s.e.r;++f){a.push("\\trowd\\trautofit1");for(var p=s.s.c;p<=s.e.c;++p)a.push("\\cellx"+(p+1));for(a.push("\\pard\\intbl"),p=s.s.c;p<=s.e.c;++p){var v=qn({r:f,c:p});l=c?(i[f]||[])[p]:i[v],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(hc(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function h3(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var QD=6,uc=QD;function P1(t){return Math.floor((t+Math.round(128/uc)/256)*uc)}function O1(t){return Math.floor((t-5)/uc*100+.5)/100}function b_(t){return Math.round((t*uc+5)/uc*256)/256}function uy(t){t.width?(t.wpx=P1(t.width),t.wch=O1(t.wpx),t.MDW=uc):t.wpx?(t.wch=O1(t.wpx),t.width=b_(t.wch),t.MDW=uc):typeof t.wch=="number"&&(t.width=b_(t.wch),t.wpx=P1(t.width),t.MDW=uc),t.customWidth&&delete t.customWidth}var ej=96,X6=ej;function R1(t){return t*96/X6}function J6(t){return t*X6/96}function tj(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Pt("numFmt",null,{numFmtId:n,formatCode:Hn(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Pt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function rj(t){var e=[];return e[e.length]=Pt("cellXfs",null),t.forEach(function(r){e[e.length]=Pt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Pt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Q6(t,e){var r=[wa,Pt("styleSheet",null,{xmlns:yd[0],"xmlns:vt":Wa.vt})],n;return t.SSF&&(n=tj(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=rj(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function nj(t,e){var r=t.read_shift(2),n=Bs(t);return[r,n]}function ij(t,e,r){r||(r=ut(6+4*e.length)),r.write_shift(2,t),Ya(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function aj(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=$9(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var l=t.read_shift(1);l>0&&(n.family=l);var c=t.read_shift(1);switch(c>0&&(n.charset=c),t.l++,n.color=V9(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Bs(t),n}function sj(t,e){e||(e=ut(153)),e.write_shift(2,t.sz*20),W9(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),M1(t.color,e);var n=0;return n=2,e.write_shift(1,n),Ya(t.name,e),e.length>e.l?e.slice(0,e.l):e}var oj=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],T2,lj=Ou;function f3(t,e){e||(e=ut(84)),T2||(T2=X_(oj));var r=T2[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(M1({auto:1},e),M1({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function uj(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function e8(t,e,r){r||(r=ut(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function l0(t,e){return e||(e=ut(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var cj=Ou;function hj(t,e){return e||(e=ut(51)),e.write_shift(1,0),l0(null,e),l0(null,e),l0(null,e),l0(null,e),l0(null,e),e.length>e.l?e.slice(0,e.l):e}function fj(t,e){return e||(e=ut(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),C1(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function dj(t,e,r){var n=ut(2052);return n.write_shift(4,t),C1(e,n),C1(r,n),n.length>n.l?n.slice(0,n.l):n}function pj(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(Et(t,615,Zl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Et(t,44,ij(i,e[i]))}),Et(t,616))}}function mj(t){var e=1;Et(t,611,Zl(e)),Et(t,43,sj({sz:12,color:{theme:1},name:"Calibri",family:2})),Et(t,612)}function gj(t){var e=2;Et(t,603,Zl(e)),Et(t,45,f3({patternType:"none"})),Et(t,45,f3({patternType:"gray125"})),Et(t,604)}function vj(t){var e=1;Et(t,613,Zl(e)),Et(t,46,hj()),Et(t,614)}function _j(t){var e=1;Et(t,626,Zl(e)),Et(t,47,e8({numFmtId:0},65535)),Et(t,627)}function yj(t,e){Et(t,617,Zl(e.length)),e.forEach(function(r){Et(t,47,e8(r,0))}),Et(t,618)}function xj(t){var e=1;Et(t,619,Zl(e)),Et(t,48,fj({xfId:0,name:"Normal"})),Et(t,620)}function wj(t){var e=0;Et(t,505,Zl(e)),Et(t,506)}function bj(t){var e=0;Et(t,508,dj(e,"TableStyleMedium9","PivotStyleMedium4")),Et(t,509)}function Sj(t,e){var r=So();return Et(r,278),pj(r,t.SSF),mj(r),gj(r),vj(r),_j(r),yj(r,e.cellXfs),xj(r),wj(r),bj(r),Et(r,279),r.end()}function t8(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[wa];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Ej(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Bs(t)}}function Tj(t){var e=ut(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ya(t.name,e),e.slice(0,e.l)}function Aj(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Lj(t){var e=ut(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function Nj(t,e){var r=ut(8+2*e.length);return r.write_shift(4,t),Ya(e,r),r.slice(0,r.l)}function Cj(t){return t.l+=4,t.read_shift(4)!=0}function Mj(t,e){var r=ut(8);return r.write_shift(4,t),r.write_shift(4,1),r}function kj(){var t=So();return Et(t,332),Et(t,334,Zl(1)),Et(t,335,Tj({name:"XLDAPR",version:12e4,flags:3496657072})),Et(t,336),Et(t,339,Nj(1,"XLDAPR")),Et(t,52),Et(t,35,Zl(514)),Et(t,4096,Zl(0)),Et(t,4097,vl(1)),Et(t,36),Et(t,53),Et(t,340),Et(t,337,Mj(1)),Et(t,51,Lj([[1,0]])),Et(t,338),Et(t,333),t.end()}function r8(){var t=[wa];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Pj(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=qn(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Xf=1024;function n8(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Pt("xml",null,{"xmlns:v":Ko.v,"xmlns:o":Ko.o,"xmlns:x":Ko.x,"xmlns:mv":Ko.mv}).replace(/\/>/,">"),Pt("o:shapelayout",Pt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Pt("v:shapetype",[Pt("v:stroke",null,{joinstyle:"miter"}),Pt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Xf<t*1e3;)Xf+=1e3;return e.forEach(function(a){var s=Za(a[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Pt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Pt("v:fill",c,l),p={on:"t",obscured:"t"};++Xf,i=i.concat(["<v:shape"+ep({id:"_x0000_s"+Xf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Pt("v:shadow",null,p),Pt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",vs("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),vs("x:AutoFill","False"),vs("x:Row",String(s.r)),vs("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function i8(t){var e=[wa,Pt("comments",null,{xmlns:yd[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var a=Hn(i.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=r.indexOf(Hn(c.a))),a.push(c.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(vs("t",Hn(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,l=1;l<a.length;++l)s+=`Reply:
    `+a[l]+`
`;e.push(vs("t",Hn(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Oj(t,e,r){var n=[wa,Pt("ThreadedComments",null,{xmlns:Wa.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,l){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?a=c.id:c.parentId=a,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(Pt("threadedComment",vs("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function Rj(t){var e=[wa,Pt("personList",null,{xmlns:Wa.TCMNT,"xmlns:x":yd[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Pt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Dj(t){var e={};e.iauthor=t.read_shift(4);var r=Yh(t);return e.rfx=r.s,e.ref=qn(r.s),t.l+=16,e}function jj(t,e){return e==null&&(e=ut(36)),e.write_shift(4,t[1].iauthor),wd(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Ij=Bs;function Fj(t){return Ya(t.slice(0,54))}function Bj(t){var e=So(),r=[];return Et(e,628),Et(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Et(e,632,Fj(i.a)))})}),Et(e,631),Et(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Za(n[0]),e:Za(n[0])};Et(e,635,jj([a,i])),i.t&&i.t.length>0&&Et(e,637,z9(i)),Et(e,636),delete i.iauthor})}),Et(e,634),Et(e,629),e.end()}function Uj(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Yn.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var a8=["xlsb","xlsm","xlam","biff8","xla"],zj=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,a,s){var l=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1));var f=a.length>0?parseInt(a,10)|0:0,p=s.length>0?parseInt(s,10)|0:0;return l?p+=e.c:--p,c?f+=e.r:--f,i+(l?"":"$")+Fs(p)+(c?"":"$")+_s(f)}return function(i,a){return e=a,i.replace(t,r)}})(),cy=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,hy=(function(){return function(e,r){return e.replace(cy,function(n,i,a,s,l,c){var f=iy(s)-(a?0:r.c),p=ny(c)-(l?0:r.r),v=p==0?"":l?p+1:"["+p+"]",y=f==0?"":a?f+1:"["+f+"]";return i+"R"+v+"C"+y})}})();function Gj(t,e){return t.replace(cy,function(r,n,i,a,s,l){return n+(i=="$"?i+a:Fs(iy(a)+e.c))+(s=="$"?s+l:_s(ny(l)+e.r))})}function Hj(t){return t.length!=1}function _a(t){t.l+=1}function th(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function s8(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return o8(t);r.biff==12&&(n=4)}var i=t.read_shift(n),a=t.read_shift(n),s=th(t),l=th(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function o8(t){var e=th(t),r=th(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function qj(t,e,r){if(r.biff<8)return o8(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),a=th(t),s=th(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function l8(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return Vj(t);var n=t.read_shift(r&&r.biff==12?4:2),i=th(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function Vj(t){var e=th(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function $j(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Wj(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Zj(t);var i=t.read_shift(n>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:l}}function Zj(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function Yj(t,e,r){var n=(t[t.l++]&96)>>5,i=s8(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function Kj(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=s8(t,a,r);return[n,i,s]}function Xj(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Jj(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,i]}function Qj(t,e,r){var n=(t[t.l++]&96)>>5,i=qj(t,e-1,r);return[n,i]}function eI(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function d3(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function tI(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function rI(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function nI(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function iI(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function aI(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function u8(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function sI(t){return t.read_shift(2),u8(t)}function oI(t){return t.read_shift(2),u8(t)}function lI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=l8(t,0,r);return[n,i]}function uI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=Wj(t,0,r);return[n,i]}function cI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=l8(t,0,r);return[n,i,a]}function hI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[hF[i],f8[i],n]}function fI(t,e,r){var n=t[t.l++],i=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:dI(t);return[i,(a[0]===0?f8:cF)[a[1]]]}function dI(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function pI(t,e,r){t.l+=r&&r.biff==2?3:4}function mI(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function gI(t){return t.l++,yp[t.read_shift(1)]}function vI(t){return t.l++,t.read_shift(2)}function _I(t){return t.l++,t.read_shift(1)!==0}function yI(t){return t.l++,bd(t)}function xI(t,e,r){return t.l++,V6(t,e-1,r)}function wI(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=cD(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=yp[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=bd(t);break;case 2:r[1]=pD(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function bI(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Yh:vD)(t));return i}function SI(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var l=0;l!=i;++l)s[a][l]=wI(t,r.biff);return s}function EI(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function TI(t,e,r){if(r.biff==5)return AI(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[n,i,a]}function AI(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function LI(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function NI(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function CI(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function MI(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,i]}var kI=Ou,PI=Ou,OI=Ou;function xp(t,e,r){return t.l+=2,[$j(t)]}function fy(t){return t.l+=6,[]}var RI=xp,DI=fy,jI=fy,II=xp;function c8(t){return t.l+=2,[H6(t),t.read_shift(2)&1]}var FI=xp,BI=c8,UI=fy,zI=xp,GI=xp,HI=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function qI(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=HI[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:i,C:a}}function VI(t){return t.l+=2,[t.read_shift(4)]}function $I(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function WI(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ZI(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function YI(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function KI(t){return t.l+=4,[0,0]}var p3={1:{n:"PtgExp",f:mI},2:{n:"PtgTbl",f:OI},3:{n:"PtgAdd",f:_a},4:{n:"PtgSub",f:_a},5:{n:"PtgMul",f:_a},6:{n:"PtgDiv",f:_a},7:{n:"PtgPower",f:_a},8:{n:"PtgConcat",f:_a},9:{n:"PtgLt",f:_a},10:{n:"PtgLe",f:_a},11:{n:"PtgEq",f:_a},12:{n:"PtgGe",f:_a},13:{n:"PtgGt",f:_a},14:{n:"PtgNe",f:_a},15:{n:"PtgIsect",f:_a},16:{n:"PtgUnion",f:_a},17:{n:"PtgRange",f:_a},18:{n:"PtgUplus",f:_a},19:{n:"PtgUminus",f:_a},20:{n:"PtgPercent",f:_a},21:{n:"PtgParen",f:_a},22:{n:"PtgMissArg",f:_a},23:{n:"PtgStr",f:xI},26:{n:"PtgSheet",f:$I},27:{n:"PtgEndSheet",f:WI},28:{n:"PtgErr",f:gI},29:{n:"PtgBool",f:_I},30:{n:"PtgInt",f:vI},31:{n:"PtgNum",f:yI},32:{n:"PtgArray",f:eI},33:{n:"PtgFunc",f:hI},34:{n:"PtgFuncVar",f:fI},35:{n:"PtgName",f:EI},36:{n:"PtgRef",f:lI},37:{n:"PtgArea",f:Yj},38:{n:"PtgMemArea",f:LI},39:{n:"PtgMemErr",f:kI},40:{n:"PtgMemNoMem",f:PI},41:{n:"PtgMemFunc",f:NI},42:{n:"PtgRefErr",f:CI},43:{n:"PtgAreaErr",f:Xj},44:{n:"PtgRefN",f:uI},45:{n:"PtgAreaN",f:Qj},46:{n:"PtgMemAreaN",f:ZI},47:{n:"PtgMemNoMemN",f:YI},57:{n:"PtgNameX",f:TI},58:{n:"PtgRef3d",f:cI},59:{n:"PtgArea3d",f:Kj},60:{n:"PtgRefErr3d",f:MI},61:{n:"PtgAreaErr3d",f:Jj},255:{}},XI={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},JI={1:{n:"PtgElfLel",f:c8},2:{n:"PtgElfRw",f:zI},3:{n:"PtgElfCol",f:RI},6:{n:"PtgElfRwV",f:GI},7:{n:"PtgElfColV",f:II},10:{n:"PtgElfRadical",f:FI},11:{n:"PtgElfRadicalS",f:UI},13:{n:"PtgElfColS",f:DI},15:{n:"PtgElfColSV",f:jI},16:{n:"PtgElfRadicalLel",f:BI},25:{n:"PtgList",f:qI},29:{n:"PtgSxName",f:VI},255:{}},QI={0:{n:"PtgAttrNoop",f:KI},1:{n:"PtgAttrSemi",f:aI},2:{n:"PtgAttrIf",f:nI},4:{n:"PtgAttrChoose",f:tI},8:{n:"PtgAttrGoto",f:rI},16:{n:"PtgAttrSum",f:pI},32:{n:"PtgAttrBaxcel",f:d3},33:{n:"PtgAttrBaxcel",f:d3},64:{n:"PtgAttrSpace",f:sI},65:{n:"PtgAttrSpaceSemi",f:oI},128:{n:"PtgAttrIfError",f:iI},255:{}};function eF(t,e,r,n){if(n.biff<8)return Ou(t,e);for(var i=t.l+e,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=SI(t,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=bI(t,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=i-t.l,e!==0&&a.push(Ou(t,e)),a}function tF(t,e,r){for(var n=t.l+e,i,a,s=[];n!=t.l;)e=n-t.l,a=t[t.l],i=p3[a]||p3[XI[a]],(a===24||a===25)&&(i=(a===24?JI:QI)[t[t.l+1]]),!i||!i.f?Ou(t,e):s.push([i.n,i.f(t,e,r)]);return s}function rF(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],a=0;a<n.length;++a){var s=n[a];s?s[0]===2?i.push('"'+s[1].replace(/"/g,'""')+'"'):i.push(s[1]):i.push("")}e.push(i.join(","))}return e.join(";")}var nF={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function iF(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function h8(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function m3(t,e,r){var n=h8(t,e,r);return n=="#REF"?n:iF(n,r)}function pd(t,e,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},l=[],c,f,p,v=0,y=0,_,T="";if(!t[0]||!t[0][0])return"";for(var b=-1,C="",P=0,j=t[0].length;P<j;++P){var R=t[0][P];switch(R[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),f=l.pop(),b>=0){switch(t[0][b][1][0]){case 0:C=Yi(" ",t[0][b][1][1]);break;case 1:C=Yi("\r",t[0][b][1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}f=f+C,b=-1}l.push(f+nF[R[0]]+c);break;case"PtgIsect":c=l.pop(),f=l.pop(),l.push(f+" "+c);break;case"PtgUnion":c=l.pop(),f=l.pop(),l.push(f+","+c);break;case"PtgRange":c=l.pop(),f=l.pop(),l.push(f+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=N0(R[1][1],s,i),l.push(C0(p,a));break;case"PtgRefN":p=r?N0(R[1][1],r,i):R[1][1],l.push(C0(p,a));break;case"PtgRef3d":v=R[1][1],p=N0(R[1][2],s,i),T=m3(n,v,i),l.push(T+"!"+C0(p,a));break;case"PtgFunc":case"PtgFuncVar":var B=R[1][0],te=R[1][1];B||(B=0),B&=127;var ue=B==0?[]:l.slice(-B);l.length-=B,te==="User"&&(te=ue.shift()),l.push(te+"("+ue.join(",")+")");break;case"PtgBool":l.push(R[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(R[1]);break;case"PtgNum":l.push(String(R[1]));break;case"PtgStr":l.push('"'+R[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(R[1]);break;case"PtgAreaN":_=Q4(R[1][1],r?{s:r}:s,i),l.push(S2(_,i));break;case"PtgArea":_=Q4(R[1][1],s,i),l.push(S2(_,i));break;case"PtgArea3d":v=R[1][1],_=R[1][2],T=m3(n,v,i),l.push(T+"!"+S2(_,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=R[1][2];var F=(n.names||[])[y-1]||(n[0]||[])[y],K=F?F.Name:"SH33TJSNAME"+String(y);K&&K.slice(0,6)=="_xlfn."&&!i.xlfn&&(K=K.slice(6)),l.push(K);break;case"PtgNameX":var U=R[1][1];y=R[1][2];var X;if(i.biff<=5)U<0&&(U=-U),n[U]&&(X=n[U][y]);else{var I="";if(((n[U]||[])[0]||[])[0]==14849||(((n[U]||[])[0]||[])[0]==1025?n[U][y]&&n[U][y].itab>0&&(I=n.SheetNames[n[U][y].itab-1]+"!"):I=n.SheetNames[y-1]+"!"),n[U]&&n[U][y])I+=n[U][y].Name;else if(n[0]&&n[0][y])I+=n[0][y].Name;else{var W=(h8(n,U,i)||"").split(";;");W[y-1]?I=W[y-1]:I+="SH33TJSERRX"}l.push(I);break}X||(X={Name:"SH33TJSERRY"}),l.push(X.Name);break;case"PtgParen":var ce="(",pe=")";if(b>=0){switch(C="",t[0][b][1][0]){case 2:ce=Yi(" ",t[0][b][1][1])+ce;break;case 3:ce=Yi("\r",t[0][b][1][1])+ce;break;case 4:pe=Yi(" ",t[0][b][1][1])+pe;break;case 5:pe=Yi("\r",t[0][b][1][1])+pe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}l.push(ce+l.pop()+pe);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":p={c:R[1][1],r:R[1][0]};var xe={c:r.c,r:r.r};if(n.sharedf[qn(p)]){var oe=n.sharedf[qn(p)];l.push(pd(oe,s,xe,n,i))}else{var be=!1;for(c=0;c!=n.arrayf.length;++c)if(f=n.arrayf[c],!(p.c<f[0].s.c||p.c>f[0].e.c)&&!(p.r<f[0].s.r||p.r>f[0].e.r)){l.push(pd(f[1],s,xe,n,i)),be=!0;break}be||l.push(R[1])}break;case"PtgArray":l.push("{"+rF(R[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=P;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+R[1].idx+"[#"+R[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(R));default:throw new Error("Unrecognized Formula Token: "+String(R))}var _e=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&_e.indexOf(t[0][P][0])==-1){R=t[0][b];var Le=!0;switch(R[1][0]){case 4:Le=!1;case 0:C=Yi(" ",R[1][1]);break;case 5:Le=!1;case 1:C=Yi("\r",R[1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+R[1][0])}l.push((Le?C:"")+l.pop()+(Le?"":C)),b=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function aF(t){if(t==null){var e=ut(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Fh(t);return Fh(0)}function sF(t,e,r,n,i){var a=Bh(e,r,i),s=aF(t.v),l=ut(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var f=ut(t.bf.length),p=0;p<t.bf.length;++p)f[p]=t.bf[p];var v=gs([a,s,l,f]);return v}function hg(t,e,r){var n=t.read_shift(4),i=tF(t,n,r),a=t.read_shift(4),s=a>0?eF(t,a,i,r):null;return[i,s]}var oF=hg,fg=hg,lF=hg,uF=hg,cF={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},f8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},hF={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function fF(t){var e="of:="+t.replace(cy,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function dF(t){return t.replace(/\./,"!")}var M0=typeof Map<"u";function dy(t,e,r){var n=0,i=t.length;if(r){if(M0?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=M0?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(M0?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function dg(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(uc=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=O1(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=b_(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function d8(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function sh(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){l6(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===n)return i;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function pF(t,e,r){if(t&&t["!ref"]){var n=_i(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function mF(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+xa(t[r])+'"/>';return e+"</mergeCells>"}function gF(t,e,r,n,i){var a=!1,s={},l=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[r];try{e.Workbook&&(c=e.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,s.codeName=Q0(Hn(c))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),l=(l||"")+Pt("outlinePr",null,f)}!a&&!l||(i[i.length]=Pt("sheetPr",l,s))}var vF=["objects","scenarios","selectLockedCells","selectUnlockedCells"],_F=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function yF(t){var e={sheet:1};return vF.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),_F.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=K6(t.password).toString(16).toUpperCase()),Pt("sheetProtection",null,e)}function xF(t){return d8(t),Pt("pageMargins",null,t)}function wF(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=Pt("col",null,dg(i,n)));return r[r.length]="</cols>",r.join("")}function bF(t,e,r,n){var i=typeof t.ref=="string"?t.ref:xa(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=Qo(i);s.s.r==s.e.r&&(s.e.r=Qo(e["!ref"]).e.r,i=xa(s));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Pt("autoFilter",null,{ref:i})}function SF(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Pt("sheetViews",Pt("sheetView",null,i),{})}function EF(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=yp[t.v];break;case"d":n&&n.cellDates?i=Js(t.v,-1).toISOString():(t=To(t),t.t="n",i=""+(t.v=Eo(Js(t.v)))),typeof t.z>"u"&&(t.z=Xi[14]);break;default:i=t.v;break}var l=vs("v",Hn(i)),c={r:e},f=sh(n.cellXfs,t,n);switch(f!==0&&(c.s=f),t.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=vs("v",""+dy(n.Strings,t.v,n.revStrings)),c.t="s";break}c.t="str";break}if(t.t!=a&&(t.t=a,t.v=s),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;l=Pt("f",Hn(t.f),p)+(t.v!=null?l:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(c.cm=1),Pt("c",l,c)}function TF(t,e,r,n){var i=[],a=[],s=_i(t["!ref"]),l="",c,f="",p=[],v=0,y=0,_=t["!rows"],T=Array.isArray(t),b={r:f},C,P=-1;for(y=s.s.c;y<=s.e.c;++y)p[y]=Fs(y);for(v=s.s.r;v<=s.e.r;++v){for(a=[],f=_s(v),y=s.s.c;y<=s.e.c;++y){c=p[y]+f;var j=T?(t[v]||[])[y]:t[c];j!==void 0&&(l=EF(j,c,t,e))!=null&&a.push(l)}(a.length>0||_&&_[v])&&(b={r:f},_&&_[v]&&(C=_[v],C.hidden&&(b.hidden=1),P=-1,C.hpx?P=R1(C.hpx):C.hpt&&(P=C.hpt),P>-1&&(b.ht=P,b.customHeight=1),C.level&&(b.outlineLevel=C.level)),i[i.length]=Pt("row",a.join(""),b))}if(_)for(;v<_.length;++v)_&&_[v]&&(b={r:v+1},C=_[v],C.hidden&&(b.hidden=1),P=-1,C.hpx?P=R1(C.hpx):C.hpt&&(P=C.hpt),P>-1&&(b.ht=P,b.customHeight=1),C.level&&(b.outlineLevel=C.level),i[i.length]=Pt("row","",b));return i.join("")}function p8(t,e,r,n){var i=[wa,Pt("worksheet",null,{xmlns:yd[0],"xmlns:r":Wa.r})],a=r.SheetNames[t],s=0,l="",c=r.Sheets[a];c==null&&(c={});var f=c["!ref"]||"A1",p=_i(f);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),f=xa(p)}n||(n={}),c["!comments"]=[];var v=[];gF(c,r,t,e,i),i[i.length]=Pt("dimension",null,{ref:f}),i[i.length]=SF(c,e,t,r),e.sheetFormat&&(i[i.length]=Pt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=wF(c,c["!cols"])),i[s=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=TF(c,e),l.length>0&&(i[i.length]=l)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),c["!protect"]&&(i[i.length]=yF(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=bF(c["!autofilter"],c,r,t)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=mF(c["!merges"]));var y=-1,_,T=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(b){b[1].Target&&(_={ref:b[0]},b[1].Target.charAt(0)!="#"&&(T=zn(n,-1,Hn(b[1].Target).replace(/#.*$/,""),Tn.HLINK),_["r:id"]="rId"+T),(y=b[1].Target.indexOf("#"))>-1&&(_.location=Hn(b[1].Target.slice(y+1))),b[1].Tooltip&&(_.tooltip=Hn(b[1].Tooltip)),i[i.length]=Pt("hyperlink",null,_))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=xF(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=vs("ignoredErrors",Pt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),v.length>0&&(T=zn(n,-1,"../drawings/drawing"+(t+1)+".xml",Tn.DRAW),i[i.length]=Pt("drawing",null,{"r:id":"rId"+T}),c["!drawing"]=v),c["!comments"].length>0&&(T=zn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Tn.VML),i[i.length]=Pt("legacyDrawing",null,{"r:id":"rId"+T}),c["!legacy"]=T),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function AF(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function LF(t,e,r){var n=ut(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;i.hpx?a=R1(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var f={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var v=-1,y=-1,_=p<<10;_<p+1<<10;++_){f.c=_;var T=Array.isArray(r)?(r[f.r]||[])[f.c]:r[qn(f)];T&&(v<0&&(v=_),y=_)}v<0||(++l,n.write_shift(4,v),n.write_shift(4,y))}var b=n.l;return n.l=c,n.write_shift(4,l),n.l=b,n.length>n.l?n.slice(0,n.l):n}function NF(t,e,r,n){var i=LF(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&Et(t,0,i)}var CF=Yh,MF=wd;function kF(){}function PF(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=G9(t),r}function OF(t,e,r){r==null&&(r=ut(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return M1({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),C6(t,r),r.slice(0,r.l)}function RF(t){var e=Sl(t);return[e]}function DF(t,e,r){return r==null&&(r=ut(8)),$h(e,r)}function jF(t){var e=Wh(t);return[e]}function IF(t,e,r){return r==null&&(r=ut(4)),Zh(e,r)}function FF(t){var e=Sl(t),r=t.read_shift(1);return[e,r,"b"]}function BF(t,e,r){return r==null&&(r=ut(9)),$h(e,r),r.write_shift(1,t.v?1:0),r}function UF(t){var e=Wh(t),r=t.read_shift(1);return[e,r,"b"]}function zF(t,e,r){return r==null&&(r=ut(5)),Zh(e,r),r.write_shift(1,t.v?1:0),r}function GF(t){var e=Sl(t),r=t.read_shift(1);return[e,r,"e"]}function HF(t,e,r){return r==null&&(r=ut(9)),$h(e,r),r.write_shift(1,t.v),r}function qF(t){var e=Wh(t),r=t.read_shift(1);return[e,r,"e"]}function VF(t,e,r){return r==null&&(r=ut(8)),Zh(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function $F(t){var e=Sl(t),r=t.read_shift(4);return[e,r,"s"]}function WF(t,e,r){return r==null&&(r=ut(12)),$h(e,r),r.write_shift(4,e.v),r}function ZF(t){var e=Wh(t),r=t.read_shift(4);return[e,r,"s"]}function YF(t,e,r){return r==null&&(r=ut(8)),Zh(e,r),r.write_shift(4,e.v),r}function KF(t){var e=Sl(t),r=bd(t);return[e,r,"n"]}function XF(t,e,r){return r==null&&(r=ut(16)),$h(e,r),Fh(t.v,r),r}function JF(t){var e=Wh(t),r=bd(t);return[e,r,"n"]}function QF(t,e,r){return r==null&&(r=ut(12)),Zh(e,r),Fh(t.v,r),r}function eB(t){var e=Sl(t),r=M6(t);return[e,r,"n"]}function tB(t,e,r){return r==null&&(r=ut(12)),$h(e,r),k6(t.v,r),r}function rB(t){var e=Wh(t),r=M6(t);return[e,r,"n"]}function nB(t,e,r){return r==null&&(r=ut(8)),Zh(e,r),k6(t.v,r),r}function iB(t){var e=Sl(t),r=ay(t);return[e,r,"is"]}function aB(t){var e=Sl(t),r=Bs(t);return[e,r,"str"]}function sB(t,e,r){return r==null&&(r=ut(12+4*t.v.length)),$h(e,r),Ya(t.v,r),r.length>r.l?r.slice(0,r.l):r}function oB(t){var e=Wh(t),r=Bs(t);return[e,r,"str"]}function lB(t,e,r){return r==null&&(r=ut(8+4*t.v.length)),Zh(e,r),Ya(t.v,r),r.length>r.l?r.slice(0,r.l):r}function uB(t,e,r){var n=t.l+e,i=Sl(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(r.cellFormula){t.l+=2;var l=fg(t,n-t.l,r);s[3]=pd(l,null,i,r.supbooks,r)}else t.l=n;return s}function cB(t,e,r){var n=t.l+e,i=Sl(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(r.cellFormula){t.l+=2;var l=fg(t,n-t.l,r);s[3]=pd(l,null,i,r.supbooks,r)}else t.l=n;return s}function hB(t,e,r){var n=t.l+e,i=Sl(t);i.r=r["!row"];var a=bd(t),s=[i,a,"n"];if(r.cellFormula){t.l+=2;var l=fg(t,n-t.l,r);s[3]=pd(l,null,i,r.supbooks,r)}else t.l=n;return s}function fB(t,e,r){var n=t.l+e,i=Sl(t);i.r=r["!row"];var a=Bs(t),s=[i,a,"str"];if(r.cellFormula){t.l+=2;var l=fg(t,n-t.l,r);s[3]=pd(l,null,i,r.supbooks,r)}else t.l=n;return s}var dB=Yh,pB=wd;function mB(t,e){return e==null&&(e=ut(4)),e.write_shift(4,t),e}function gB(t,e){var r=t.l+e,n=Yh(t),i=sy(t),a=Bs(t),s=Bs(t),l=Bs(t);t.l=r;var c={rfx:n,relId:i,loc:a,display:l};return s&&(c.Tooltip=s),c}function vB(t,e){var r=ut(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));wd({s:Za(t[0]),e:Za(t[0])},r),oy("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Ya(i||"",r),Ya(t[1].Tooltip||"",r),Ya("",r),r.slice(0,r.l)}function _B(){}function yB(t,e,r){var n=t.l+e,i=P6(t),a=t.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var l=oF(t,n-t.l,r);s[1]=l}else t.l=n;return s}function xB(t,e,r){var n=t.l+e,i=Yh(t),a=[i];if(r.cellFormula){var s=uF(t,n-t.l,r);a[1]=s,t.l=n}else t.l=n;return a}function wB(t,e,r){r==null&&(r=ut(18));var n=dg(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var m8=["left","right","top","bottom","header","footer"];function bB(t){var e={};return m8.forEach(function(r){e[r]=bd(t)}),e}function SB(t,e){return e==null&&(e=ut(48)),d8(t),m8.forEach(function(r){Fh(t[r],e)}),e}function EB(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function TB(t,e,r){r==null&&(r=ut(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function AB(t){var e=ut(24);return e.write_shift(4,4),e.write_shift(4,1),wd(t,e),e}function LB(t,e){return e==null&&(e=ut(66)),e.write_shift(2,t.password?K6(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function NB(){}function CB(){}function MB(t,e,r,n,i,a,s){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=To(e),e.z=e.z||Xi[14],e.v=Eo(Js(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var c={r,c:n};switch(c.s=sh(i.cellXfs,e,i),e.l&&a["!links"].push([qn(c),e.l]),e.c&&a["!comments"].push([qn(c),e.c]),e.t){case"s":case"str":return i.bookSST?(l=dy(i.Strings,e.v,i.revStrings),c.t="s",c.v=l,s?Et(t,18,YF(e,c)):Et(t,7,WF(e,c))):(c.t="str",s?Et(t,17,lB(e,c)):Et(t,6,sB(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?Et(t,13,nB(e,c)):Et(t,2,tB(e,c)):s?Et(t,16,QF(e,c)):Et(t,5,XF(e,c)),!0;case"b":return c.t="b",s?Et(t,15,zF(e,c)):Et(t,4,BF(e,c)),!0;case"e":return c.t="e",s?Et(t,14,VF(e,c)):Et(t,3,HF(e,c)),!0}return s?Et(t,12,IF(e,c)):Et(t,1,DF(e,c)),!0}function kB(t,e,r,n){var i=_i(e["!ref"]||"A1"),a,s="",l=[];Et(t,145);var c=Array.isArray(e),f=i.e.r;e["!rows"]&&(f=Math.max(i.e.r,e["!rows"].length-1));for(var p=i.s.r;p<=f;++p){s=_s(p),NF(t,e,i,p);var v=!1;if(p<=i.e.r)for(var y=i.s.c;y<=i.e.c;++y){p===i.s.r&&(l[y]=Fs(y)),a=l[y]+s;var _=c?(e[p]||[])[y]:e[a];if(!_){v=!1;continue}v=MB(t,_,p,y,n,e,v)}}Et(t,146)}function PB(t,e){!e||!e["!merges"]||(Et(t,177,mB(e["!merges"].length)),e["!merges"].forEach(function(r){Et(t,176,pB(r))}),Et(t,178))}function OB(t,e){!e||!e["!cols"]||(Et(t,390),e["!cols"].forEach(function(r,n){r&&Et(t,60,wB(n,r))}),Et(t,391))}function RB(t,e){!e||!e["!ref"]||(Et(t,648),Et(t,649,AB(_i(e["!ref"]))),Et(t,650))}function DB(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=zn(r,-1,n[1].Target.replace(/#.*$/,""),Tn.HLINK);Et(t,494,vB(n,i))}}),delete e["!links"]}function jB(t,e,r,n){if(e["!comments"].length>0){var i=zn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Tn.VML);Et(t,551,oy("rId"+i)),e["!legacy"]=i}}function IB(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:xa(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,l=Qo(a);l.s.r==l.e.r&&(l.e.r=Qo(e["!ref"]).e.r,a=xa(l));for(var c=0;c<s.length;++c){var f=s[c];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Et(t,161,wd(_i(a))),Et(t,162)}}function FB(t,e,r){Et(t,133),Et(t,137,TB(e,r)),Et(t,138),Et(t,134)}function BB(t,e){e["!protect"]&&Et(t,535,LB(e["!protect"]))}function UB(t,e,r,n){var i=So(),a=r.SheetNames[t],s=r.Sheets[a]||{},l=a;try{r&&r.Workbook&&(l=r.Workbook.Sheets[t].CodeName||l)}catch{}var c=_i(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Et(i,129),(r.vbaraw||s["!outline"])&&Et(i,147,OF(l,s["!outline"])),Et(i,148,MF(c)),FB(i,s,r.Workbook),OB(i,s),kB(i,s,t,e),BB(i,s),IB(i,s,r,t),PB(i,s),DB(i,s,n),s["!margins"]&&Et(i,476,SB(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&RB(i,s),jB(i,s,t,n),Et(i,130),i.end()}function zB(t,e){t.l+=10;var r=Bs(t);return{name:r}}var GB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function HB(t){return!t.Workbook||!t.Workbook.WBProps?"false":x9(t.Workbook.WBProps.date1904)?"true":"false"}var qB="][*?/\\".split("");function g8(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return qB.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function VB(t,e,r){t.forEach(function(n,i){g8(n);for(var a=0;a<i;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=e&&e[i]&&e[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function $B(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];VB(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)pF(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function v8(t){var e=[wa];e[e.length]=Pt("workbook",null,{xmlns:yd[0],"xmlns:r":Wa.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(GB.forEach(function(l){t.Workbook.WBProps[l[0]]!=null&&t.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=t.Workbook.WBProps[l[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Pt("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:Hn(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=Pt("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(e[e.length]=Pt("definedName",Hn(l.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function WB(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=w_(t),r.name=Bs(t),r}function ZB(t,e){return e||(e=ut(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),oy(t.strRelID,e),Ya(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function YB(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Bs(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function KB(t,e){e||(e=ut(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),C6(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function XB(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=H9(t),s=lF(t,0,r),l=sy(t);t.l=n;var c={Name:a,Ptg:s};return i<268435455&&(c.Sheet=i),l&&(c.Comment=l),c}function JB(t,e){Et(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Et(t,156,ZB(i))}Et(t,144)}function QB(t,e){e||(e=ut(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Ya("SheetJS",e),Ya(b1.version,e),Ya(b1.version,e),Ya("7262",e),e.length>e.l?e.slice(0,e.l):e}function eU(t,e){e||(e=ut(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function tU(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(Et(t,135),Et(t,158,eU(i)),Et(t,136))}}function rU(t,e){var r=So();return Et(r,131),Et(r,128,QB()),Et(r,153,KB(t.Workbook&&t.Workbook.WBProps||null)),tU(r,t),JB(r,t),Et(r,132),r.end()}function nU(t,e,r){return(e.slice(-4)===".bin"?rU:v8)(t)}function iU(t,e,r,n,i){return(e.slice(-4)===".bin"?UB:p8)(t,r,n,i)}function aU(t,e,r){return(e.slice(-4)===".bin"?Sj:Q6)(t,r)}function sU(t,e,r){return(e.slice(-4)===".bin"?KD:Y6)(t,r)}function oU(t,e,r){return(e.slice(-4)===".bin"?Bj:i8)(t)}function lU(t){return(t.slice(-4)===".bin"?kj:r8)()}function uU(t,e){var r=[];return t.Props&&r.push(aD(t.Props,e)),t.Custprops&&r.push(sD(t.Props,t.Custprops)),r.join("")}function cU(){return""}function hU(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var a=[];a.push(Pt("NumberFormat",null,{"ss:Format":Hn(Xi[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};r.push(Pt("Style",a.join(""),s))}),Pt("Styles",r.join(""))}function _8(t){return Pt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+hy(t.Ref,{r:0,c:0})})}function fU(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(_8(i)))}return Pt("Names",r.join(""))}function dU(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var l=i[s];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||a.push(_8(l)))}return a.join("")}function pU(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Pt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Pt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Pt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Pt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(vs("ProtectContents","True")),t["!protect"].objects&&i.push(vs("ProtectObjects","True")),t["!protect"].scenarios&&i.push(vs("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(vs("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(vs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":Pt("WorksheetOptions",i.join(""),{xmlns:Ko.x})}function mU(t){return t.map(function(e){var r=y9(e.t||""),n=Pt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Pt("Comment",n,{"ss:Author":e.a})}).join("")}function gU(t,e,r,n,i,a,s){if(!t||t.v==null&&t.f==null)return"";var l={};if(t.f&&(l["ss:Formula"]="="+Hn(hy(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var c=Za(t.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(t.l&&t.l.Target&&(l["ss:HRef"]=Hn(t.l.Target),t.l.Tooltip&&(l["x:HRefScreenTip"]=Hn(t.l.Tooltip))),r["!merges"])for(var f=r["!merges"],p=0;p!=f.length;++p)f[p].s.c!=s.c||f[p].s.r!=s.r||(f[p].e.c>f[p].s.c&&(l["ss:MergeAcross"]=f[p].e.c-f[p].s.c),f[p].e.r>f[p].s.r&&(l["ss:MergeDown"]=f[p].e.r-f[p].s.r));var v="",y="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":v="Number",y=String(t.v);break;case"b":v="Boolean",y=t.v?"1":"0";break;case"e":v="Error",y=yp[t.v];break;case"d":v="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Xi[14]);break;case"s":v="String",y=_9(t.v||"");break}var _=sh(n.cellXfs,t,n);l["ss:StyleID"]="s"+(21+_),l["ss:Index"]=s.c+1;var T=t.v!=null?y:"",b=t.t=="z"?"":'<Data ss:Type="'+v+'">'+T+"</Data>";return(t.c||[]).length>0&&(b+=mU(t.c)),Pt("Cell",b,l)}function vU(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=J6(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function _U(t,e,r,n){if(!t["!ref"])return"";var i=_i(t["!ref"]),a=t["!merges"]||[],s=0,l=[];t["!cols"]&&t["!cols"].forEach(function(C,P){uy(C);var j=!!C.width,R=dg(P,C),B={"ss:Index":P+1};j&&(B["ss:Width"]=P1(R.width)),C.hidden&&(B["ss:Hidden"]="1"),l.push(Pt("Column",null,B))});for(var c=Array.isArray(t),f=i.s.r;f<=i.e.r;++f){for(var p=[vU(f,(t["!rows"]||[])[f])],v=i.s.c;v<=i.e.c;++v){var y=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>v)&&!(a[s].s.r>f)&&!(a[s].e.c<v)&&!(a[s].e.r<f)){(a[s].s.c!=v||a[s].s.r!=f)&&(y=!0);break}if(!y){var _={r:f,c:v},T=qn(_),b=c?(t[f]||[])[v]:t[T];p.push(gU(b,T,t,e,r,n,_))}}p.push("</Row>"),p.length>2&&l.push(p.join(""))}return l.join("")}function yU(t,e,r){var n=[],i=r.SheetNames[t],a=r.Sheets[i],s=a?dU(a,e,t,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?_U(a,e,t,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(pU(a,e,t,r)),n.join("")}function xU(t,e){e||(e={}),t.SSF||(t.SSF=To(Xi)),t.SSF&&(lg(),og(t.SSF),e.revssf=ug(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],sh(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(uU(t,e)),r.push(cU()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Pt("Worksheet",yU(n,e,t),{"ss:Name":Hn(t.SheetNames[n])}));return r[2]=hU(t,e),r[3]=fU(t),wa+Pt("Workbook",r.join(""),{xmlns:Ko.ss,"xmlns:o":Ko.o,"xmlns:x":Ko.x,"xmlns:ss":Ko.ss,"xmlns:dt":Ko.dt,"xmlns:html":Ko.html})}var A2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function wU(t,e){var r=[],n=[],i=[],a=0,s,l=G4(t3,"n"),c=G4(r3,"n");if(t.Props)for(s=ys(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(l,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=ys(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(l,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],t.Custprops[s[a]]]);var f=[];for(a=0;a<i.length;++a)G6.indexOf(i[a][0])>-1||B6.indexOf(i[a][0])>-1||i[a][1]!=null&&f.push(i[a]);n.length&&Yn.utils.cfb_add(e,"/SummaryInformation",o3(n,A2.SI,c,r3)),(r.length||f.length)&&Yn.utils.cfb_add(e,"/DocumentSummaryInformation",o3(r,A2.DSI,l,t3,f.length?f:null,A2.UDI))}function bU(t,e){var r=e||{},n=Yn.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Yn.utils.cfb_add(n,i,y8(t,r)),r.biff==8&&(t.Props||t.Custprops)&&wU(t,n),r.biff==8&&t.vbaraw&&Uj(n,Yn.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var SU={0:{f:AF},1:{f:RF},2:{f:eB},3:{f:GF},4:{f:FF},5:{f:KF},6:{f:aB},7:{f:$F},8:{f:fB},9:{f:hB},10:{f:uB},11:{f:cB},12:{f:jF},13:{f:rB},14:{f:qF},15:{f:UF},16:{f:JF},17:{f:oB},18:{f:ZF},19:{f:ay},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:XB},40:{},42:{},43:{f:aj},44:{f:nj},45:{f:lj},46:{f:cj},47:{f:uj},48:{},49:{f:j9},50:{},51:{f:Aj},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:ID},62:{f:iB},63:{f:Pj},64:{f:NB},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ou,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:EB},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:PF},148:{f:CF,p:16},151:{f:_B},152:{},153:{f:YB},154:{},155:{},156:{f:WB},157:{},158:{},159:{T:1,f:WD},160:{T:-1},161:{T:1,f:Yh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:dB},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Ej},336:{T:-1},337:{f:Cj,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:w_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:kD},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:yB},427:{f:xB},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:bB},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:kF},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:gB},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:w_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Ij},633:{T:1},634:{T:-1},635:{T:1,f:Dj},636:{T:-1},637:{f:U9},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:zB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:CB},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ot(t,e,r,n){var i=e;if(!isNaN(i)){var a=n||(r||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&ry(r)&&t.push(r)}}function EU(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return Ot(t,e,r,i);var a=e;if(!isNaN(a)){for(var s=r.parts||[],l=0,c=0,f=0;f+(s[l]||8224)<=8224;)f+=s[l]||8224,l++;var p=t.next(4);for(p.write_shift(2,a),p.write_shift(2,f),t.push(r.slice(c,c+f)),c+=f;c<i;){for(p=t.next(4),p.write_shift(2,60),f=0;f+(s[l]||8224)<=8224;)f+=s[l]||8224,l++;p.write_shift(2,f),t.push(r.slice(c,c+f)),c+=f}}}function wp(t,e,r){return t||(t=ut(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function TU(t,e,r,n){var i=ut(9);return wp(i,t,e),q6(r,n||"b",i),i}function AU(t,e,r){var n=ut(8+2*r.length);return wp(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function LU(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Eo(Js(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Ot(t,2,zD(r,n,i)):Ot(t,3,UD(r,n,i));return;case"b":case"e":Ot(t,5,TU(r,n,e.v,e.t));return;case"s":case"str":Ot(t,4,AU(r,n,(e.v||"").slice(0,255)));return}Ot(t,1,wp(null,r,n))}function NU(t,e,r,n){var i=Array.isArray(e),a=_i(e["!ref"]||"A1"),s,l="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=xa(a)}for(var f=a.s.r;f<=a.e.r;++f){l=_s(f);for(var p=a.s.c;p<=a.e.c;++p){f===a.s.r&&(c[p]=Fs(p)),s=c[p]+l;var v=i?(e[f]||[])[p]:e[s];v&&LU(t,v,f,p)}}}function CU(t,e){for(var r=e||{},n=So(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ot(n,r.biff==4?1033:r.biff==3?521:9,ly(t,16,r)),NU(n,t.Sheets[t.SheetNames[i]],i,r),Ot(n,10),n.end()}function MU(t,e,r){Ot(t,49,SD({sz:12,name:"Arial"},r))}function kU(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Ot(t,1054,AD(i,e[i],r))})}function PU(t,e){var r=ut(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ot(t,2151,r),r=ut(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),W6(_i(e["!ref"]||"A1"),r),r.write_shift(4,4),Ot(t,2152,r)}function OU(t,e){for(var r=0;r<16;++r)Ot(t,224,u3({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Ot(t,224,u3(n,0,e))})}function RU(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Ot(t,440,RD(n)),n[1].Tooltip&&Ot(t,2048,DD(n))}delete e["!links"]}function DU(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&Ot(t,125,FD(dg(i,n),i))})}}function jU(t,e,r,n,i){var a=16+sh(i.cellXfs,e,i);if(e.v==null&&!e.bf){Ot(t,513,Bh(r,n,a));return}if(e.bf)Ot(t,6,sF(e,r,n,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?Eo(Js(e.v)):e.v;Ot(t,515,MD(r,n,s,a));break;case"b":case"e":Ot(t,517,CD(r,n,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var l=dy(i.Strings,e.v,i.revStrings);Ot(t,253,ED(r,n,l,a))}else Ot(t,516,TD(r,n,(e.v||"").slice(0,255),a,i));break;default:Ot(t,513,Bh(r,n,a))}}function IU(t,e,r){var n=So(),i=r.SheetNames[t],a=r.Sheets[i]||{},s=(r||{}).Workbook||{},l=(s.Sheets||[])[t]||{},c=Array.isArray(a),f=e.biff==8,p,v="",y=[],_=_i(a["!ref"]||"A1"),T=f?65536:16384;if(_.e.c>255||_.e.r>=T){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");_.e.c=Math.min(_.e.c,255),_.e.r=Math.min(_.e.c,T-1)}Ot(n,2057,ly(r,16,e)),Ot(n,13,vl(1)),Ot(n,12,vl(100)),Ot(n,15,Ks(!0)),Ot(n,17,Ks(!1)),Ot(n,16,Fh(.001)),Ot(n,95,Ks(!0)),Ot(n,42,Ks(!1)),Ot(n,43,Ks(!1)),Ot(n,130,vl(1)),Ot(n,128,ND()),Ot(n,131,Ks(!1)),Ot(n,132,Ks(!1)),f&&DU(n,a["!cols"]),Ot(n,512,LD(_,e)),f&&(a["!links"]=[]);for(var b=_.s.r;b<=_.e.r;++b){v=_s(b);for(var C=_.s.c;C<=_.e.c;++C){b===_.s.r&&(y[C]=Fs(C)),p=y[C]+v;var P=c?(a[b]||[])[C]:a[p];P&&(jU(n,P,b,C,e),f&&P.l&&a["!links"].push([p,P.l]))}}var j=l.CodeName||l.name||i;return f&&Ot(n,574,bD((s.Views||[])[0])),f&&(a["!merges"]||[]).length&&Ot(n,229,OD(a["!merges"])),f&&RU(n,a),Ot(n,442,$6(j)),f&&PU(n,a),Ot(n,10),n.end()}function FU(t,e,r){var n=So(),i=(t||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},l=r.biff==8,c=r.biff==5;if(Ot(n,2057,ly(t,5,r)),r.bookType=="xla"&&Ot(n,135),Ot(n,225,l?vl(1200):null),Ot(n,193,uD(2)),c&&Ot(n,191),c&&Ot(n,192),Ot(n,226),Ot(n,92,_D("SheetJS",r)),Ot(n,66,vl(l?1200:1252)),l&&Ot(n,353,vl(0)),l&&Ot(n,448),Ot(n,317,BD(t.SheetNames.length)),l&&t.vbaraw&&Ot(n,211),l&&t.vbaraw){var f=s.CodeName||"ThisWorkbook";Ot(n,442,$6(f))}Ot(n,156,vl(17)),Ot(n,25,Ks(!1)),Ot(n,18,Ks(!1)),Ot(n,19,vl(0)),l&&Ot(n,431,Ks(!1)),l&&Ot(n,444,vl(0)),Ot(n,61,wD()),Ot(n,64,Ks(!1)),Ot(n,141,vl(0)),Ot(n,34,Ks(HB(t)=="true")),Ot(n,14,Ks(!0)),l&&Ot(n,439,Ks(!1)),Ot(n,218,vl(0)),MU(n,t,r),kU(n,t.SSF,r),OU(n,r),l&&Ot(n,352,Ks(!1));var p=n.end(),v=So();l&&Ot(v,140,jD()),l&&r.Strings&&EU(v,252,xD(r.Strings)),Ot(v,10);var y=v.end(),_=So(),T=0,b=0;for(b=0;b<t.SheetNames.length;++b)T+=(l?12:11)+(l?2:1)*t.SheetNames[b].length;var C=p.length+T+y.length;for(b=0;b<t.SheetNames.length;++b){var P=a[b]||{};Ot(_,133,yD({pos:C,hs:P.Hidden||0,dt:0,name:t.SheetNames[b]},r)),C+=e[b].length}var j=_.end();if(T!=j.length)throw new Error("BS8 "+T+" != "+j.length);var R=[];return p.length&&R.push(p),j.length&&R.push(j),y.length&&R.push(y),gs(R)}function BU(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=To(Xi)),t&&t.SSF&&(lg(),og(t.SSF),r.revssf=ug(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,py(r),r.cellXfs=[],sh(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=IU(i,r,t);return n.unshift(FU(t,n,r)),gs(n)}function y8(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Qo(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return BU(t,e);case 4:case 3:case 2:return CU(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function UU(t,e,r,n){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var l=0,c=0,f=0;f<i.length;++f)if(!(i[f].s.r>r||i[f].s.c>s)&&!(i[f].e.r<r||i[f].e.c<s)){if(i[f].s.r<r||i[f].s.c<s){l=-1;break}l=i[f].e.r-i[f].s.r+1,c=i[f].e.c-i[f].s.c+1;break}if(!(l<0)){var p=qn({r,c:s}),v=n.dense?(t[r]||[])[s]:t[p],y=v&&v.v!=null&&(v.h||v9(v.w||(hc(v),v.w)||""))||"",_={};l>1&&(_.rowspan=l),c>1&&(_.colspan=c),n.editable?y='<span contenteditable="true">'+y+"</span>":v&&(_["data-t"]=v&&v.t||"z",v.v!=null&&(_["data-v"]=v.v),v.z!=null&&(_["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+v.l.Target+'">'+y+"</a>")),_.id=(n.id||"sjs")+"-"+p,a.push(Pt("td",y,_))}}var T="<tr>";return T+a.join("")+"</tr>"}var zU='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',GU="</body></html>";function HU(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function x8(t,e){var r=e||{},n=r.header!=null?r.header:zU,i=r.footer!=null?r.footer:GU,a=[n],s=Qo(t["!ref"]);r.dense=Array.isArray(t),a.push(HU(t,s,r));for(var l=s.s.r;l<=s.e.r;++l)a.push(UU(t,s,l,r));return a.push("</table>"+i),a.join("")}function w8(t,e,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Za(n.origin):n.origin;i=s.r,a=s.c}var l=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),f={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var p=Qo(t["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),i==-1&&(f.e.r=i=p.e.r+1)}var v=[],y=0,_=t["!rows"]||(t["!rows"]=[]),T=0,b=0,C=0,P=0,j=0,R=0;for(t["!cols"]||(t["!cols"]=[]);T<l.length&&b<c;++T){var B=l[T];if(g3(B)){if(n.display)continue;_[b]={hidden:!0}}var te=B.children;for(C=P=0;C<te.length;++C){var ue=te[C];if(!(n.display&&g3(ue))){var F=ue.hasAttribute("data-v")?ue.getAttribute("data-v"):ue.hasAttribute("v")?ue.getAttribute("v"):w9(ue.innerHTML),K=ue.getAttribute("data-z")||ue.getAttribute("z");for(y=0;y<v.length;++y){var U=v[y];U.s.c==P+a&&U.s.r<b+i&&b+i<=U.e.r&&(P=U.e.c+1-a,y=-1)}R=+ue.getAttribute("colspan")||1,((j=+ue.getAttribute("rowspan")||1)>1||R>1)&&v.push({s:{r:b+i,c:P+a},e:{r:b+i+(j||1)-1,c:P+a+(R||1)-1}});var X={t:"s",v:F},I=ue.getAttribute("data-t")||ue.getAttribute("t")||"";F!=null&&(F.length==0?X.t=I||"z":n.raw||F.trim().length==0||I=="s"||(F==="TRUE"?X={t:"b",v:!0}:F==="FALSE"?X={t:"b",v:!1}:isNaN(lc(F))?isNaN(J0(F).getDate())||(X={t:"d",v:Js(F)},n.cellDates||(X={t:"n",v:Eo(X.v)}),X.z=n.dateNF||Xi[14]):X={t:"n",v:lc(F)})),X.z===void 0&&K!=null&&(X.z=K);var W="",ce=ue.getElementsByTagName("A");if(ce&&ce.length)for(var pe=0;pe<ce.length&&!(ce[pe].hasAttribute("href")&&(W=ce[pe].getAttribute("href"),W.charAt(0)!="#"));++pe);W&&W.charAt(0)!="#"&&(X.l={Target:W}),n.dense?(t[b+i]||(t[b+i]=[]),t[b+i][P+a]=X):t[qn({c:P+a,r:b+i})]=X,f.e.c<P+a&&(f.e.c=P+a),P+=R}}++b}return v.length&&(t["!merges"]=(t["!merges"]||[]).concat(v)),f.e.r=Math.max(f.e.r,b-1+i),t["!ref"]=xa(f),b>=c&&(t["!fullref"]=xa((f.e.r=l.length-T+b-1+i,f))),t}function b8(t,e){var r=e||{},n=r.dense?[]:{};return w8(n,t,e)}function qU(t,e){return Vh(b8(t,e),e)}function g3(t){var e="",r=VU(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function VU(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var $U=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+ep({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return wa+e}})(),v3=(function(){var t=function(a){return Hn(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,s,l){var c=[];c.push('      <table:table table:name="'+Hn(s.SheetNames[l])+`" table:style-name="ta1">
`);var f=0,p=0,v=Qo(a["!ref"]||"A1"),y=a["!merges"]||[],_=0,T=Array.isArray(a);if(a["!cols"])for(p=0;p<=v.e.c;++p)c.push("        <table:table-column"+(a["!cols"][p]?' table:style-name="co'+a["!cols"][p].ods+'"':"")+`></table:table-column>
`);var b="",C=a["!rows"]||[];for(f=0;f<v.s.r;++f)b=C[f]?' table:style-name="ro'+C[f].ods+'"':"",c.push("        <table:table-row"+b+`></table:table-row>
`);for(;f<=v.e.r;++f){for(b=C[f]?' table:style-name="ro'+C[f].ods+'"':"",c.push("        <table:table-row"+b+`>
`),p=0;p<v.s.c;++p)c.push(e);for(;p<=v.e.c;++p){var P=!1,j={},R="";for(_=0;_!=y.length;++_)if(!(y[_].s.c>p)&&!(y[_].s.r>f)&&!(y[_].e.c<p)&&!(y[_].e.r<f)){(y[_].s.c!=p||y[_].s.r!=f)&&(P=!0),j["table:number-columns-spanned"]=y[_].e.c-y[_].s.c+1,j["table:number-rows-spanned"]=y[_].e.r-y[_].s.r+1;break}if(P){c.push(r);continue}var B=qn({r:f,c:p}),te=T?(a[f]||[])[p]:a[B];if(te&&te.f&&(j["table:formula"]=Hn(fF(te.f)),te.F&&te.F.slice(0,B.length)==B)){var ue=Qo(te.F);j["table:number-matrix-columns-spanned"]=ue.e.c-ue.s.c+1,j["table:number-matrix-rows-spanned"]=ue.e.r-ue.s.r+1}if(!te){c.push(e);continue}switch(te.t){case"b":R=te.v?"TRUE":"FALSE",j["office:value-type"]="boolean",j["office:boolean-value"]=te.v?"true":"false";break;case"n":R=te.w||String(te.v||0),j["office:value-type"]="float",j["office:value"]=te.v||0;break;case"s":case"str":R=te.v==null?"":te.v,j["office:value-type"]="string";break;case"d":R=te.w||Js(te.v).toISOString(),j["office:value-type"]="date",j["office:date-value"]=Js(te.v).toISOString(),j["table:style-name"]="ce1";break;default:c.push(e);continue}var F=t(R);if(te.l&&te.l.Target){var K=te.l.Target;K=K.charAt(0)=="#"?"#"+dF(K.slice(1)):K,K.charAt(0)!="#"&&!K.match(/^\w+:/)&&(K="../"+K),F=Pt("text:a",F,{"xlink:href":K.replace(/&/g,"&amp;")})}c.push("          "+Pt("table:table-cell",Pt("text:p",F,{}),j)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var l=0;s.SheetNames.map(function(f){return s.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var p=0;p<f["!cols"].length;++p)if(f["!cols"][p]){var v=f["!cols"][p];if(v.width==null&&v.wpx==null&&v.wch==null)continue;uy(v),v.ods=l;var y=f["!cols"][p].wpx+"px";a.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),a.push(`  </style:style>
`),++l}}});var c=0;s.SheetNames.map(function(f){return s.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var p=0;p<f["!rows"].length;++p)if(f["!rows"][p]){f["!rows"][p].ods=c;var v=f["!rows"][p].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+v+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,l){var c=[wa],f=ep({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=ep({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+f+p+`>
`),c.push(I6().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+f+`>
`),i(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var v=0;v!=s.SheetNames.length;++v)c.push(n(s.Sheets[s.SheetNames[v]],s,v));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function S8(t,e){if(e.bookType=="fods")return v3(t,e);var r=J_(),n="",i=[],a=[];return n="mimetype",Wr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Wr(r,n,v3(t,e)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Wr(r,n,$U(t,e)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Wr(r,n,wa+I6()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Wr(r,n,iD(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Wr(r,n,rD(i)),r}function D1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function WU(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):$l(Q0(t))}function ZU(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function rh(t){var e=t.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function YU(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=r>=0?0:128}function tp(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Un(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function hd(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Ia(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=tp(t,r),a=i&7;i=Math.floor(i/8);var s=0,l;if(i==0)break;switch(a){case 0:{for(var c=r[0];t[r[0]++]>=128;);l=t.slice(c,r[0])}break;case 5:s=4,l=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,l=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=tp(t,r),l=t.slice(r[0],r[0]+s),r[0]+=s;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var f={data:l,type:a};e[i]==null?e[i]=[f]:e[i].push(f)}return e}function ds(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Un(n*8+i.type)),i.type==2&&e.push(Un(i.data.length)),e.push(i.data))})}),rh(e)}function zl(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=tp(t,n),a=Ia(t.slice(n[0],n[0]+i));n[0]+=i;var s={id:hd(a[1][0].data),messages:[]};a[2].forEach(function(l){var c=Ia(l.data),f=hd(c[3][0].data);s.messages.push({meta:c,data:t.slice(n[0],n[0]+f)}),n[0]+=f}),(e=a[3])!=null&&e[0]&&(s.merge=hd(a[3][0].data)>>>0>0),r.push(s)}return r}function Df(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Un(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Un(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:Un(s.data.length)}],n[2].push({data:ds(s.meta),type:2})});var a=ds(n);e.push(Un(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),rh(e)}function KU(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=tp(e,r),i=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var l=s-59;s=e[r[0]],l>1&&(s|=e[r[0]+1]<<8),l>2&&(s|=e[r[0]+2]<<16),l>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=l}i.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,f=0;if(a==1?(f=(e[r[0]]>>2&7)+4,c=(e[r[0]++]&224)<<3,c|=e[r[0]++]):(f=(e[r[0]++]>>2)+1,a==2?(c=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(c=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[rh(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(f>=c)for(i.push(i[0].slice(-c)),f-=c;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-c,-c+f))}}var p=rh(i);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function Gl(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(KU(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return rh(e)}function jf(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var a=Un(n),s=a.length;e.push(a),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return rh(e)}function L2(t,e){var r=new Uint8Array(32),n=D1(r),i=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,YU(r,i,t.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,i)}function N2(t,e){var r=new Uint8Array(32),n=D1(r),i=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,i)}function Gc(t){var e=Ia(t);return tp(e[1][0].data)}function XU(t,e,r){var n,i,a,s;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var l=((s=(a=t[8])==null?void 0:a[0])==null?void 0:s.data)&&hd(t[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,f=D1(t[7][0].data),p=0,v=[],y=D1(t[4][0].data),_=0,T=[],b=0;b<e.length;++b){if(e[b]==null){f.setUint16(b*2,65535,!0),y.setUint16(b*2,65535);continue}f.setUint16(b*2,p,!0),y.setUint16(b*2,_,!0);var C,P;switch(typeof e[b]){case"string":C=L2({t:"s",v:e[b]},r),P=N2({t:"s",v:e[b]},r);break;case"number":C=L2({t:"n",v:e[b]},r),P=N2({t:"n",v:e[b]},r);break;case"boolean":C=L2({t:"b",v:e[b]},r),P=N2({t:"b",v:e[b]},r);break;default:throw new Error("Unsupported value "+e[b])}v.push(C),p+=C.length,T.push(P),_+=P.length,++c}for(t[2][0].data=Un(c);b<t[7][0].data.length/2;++b)f.setUint16(b*2,65535,!0),y.setUint16(b*2,65535,!0);return t[6][0].data=rh(v),t[3][0].data=rh(T),c}function JU(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Qo(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(xa(n)));var a=j1(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(H){return H.forEach(function(q){typeof q=="string"&&s.push(q)})});var l={},c=[],f=Yn.read(e.numbers,{type:"base64"});f.FileIndex.map(function(H,q){return[H,f.FullPaths[q]]}).forEach(function(H){var q=H[0],Z=H[1];if(q.type==2&&q.name.match(/\.iwa/)){var se=q.content,Ae=Gl(se),Oe=zl(Ae);Oe.forEach(function(Re){c.push(Re.id),l[Re.id]={deps:[],location:Z,type:hd(Re.messages[0].meta[1][0].data)}})}}),c.sort(function(H,q){return H-q});var p=c.filter(function(H){return H>1}).map(function(H){return[H,Un(H)]});f.FileIndex.map(function(H,q){return[H,f.FullPaths[q]]}).forEach(function(H){var q=H[0];if(H[1],!!q.name.match(/\.iwa/)){var Z=zl(Gl(q.content));Z.forEach(function(se){se.messages.forEach(function(Ae){p.forEach(function(Oe){se.messages.some(function(Re){return hd(Re.meta[1][0].data)!=11006&&ZU(Re.data,Oe[1])})&&l[Oe[0]].deps.push(se.id)})})})}});for(var v=Yn.find(f,l[1].location),y=zl(Gl(v.content)),_,T=0;T<y.length;++T){var b=y[T];b.id==1&&(_=b)}var C=Gc(Ia(_.messages[0].data)[1][0].data);for(v=Yn.find(f,l[C].location),y=zl(Gl(v.content)),T=0;T<y.length;++T)b=y[T],b.id==C&&(_=b);for(C=Gc(Ia(_.messages[0].data)[2][0].data),v=Yn.find(f,l[C].location),y=zl(Gl(v.content)),T=0;T<y.length;++T)b=y[T],b.id==C&&(_=b);for(C=Gc(Ia(_.messages[0].data)[2][0].data),v=Yn.find(f,l[C].location),y=zl(Gl(v.content)),T=0;T<y.length;++T)b=y[T],b.id==C&&(_=b);var P=Ia(_.messages[0].data);{P[6][0].data=Un(n.e.r+1),P[7][0].data=Un(n.e.c+1);var j=Gc(P[46][0].data),R=Yn.find(f,l[j].location),B=zl(Gl(R.content));{for(var te=0;te<B.length&&B[te].id!=j;++te);if(B[te].id!=j)throw"Bad ColumnRowUIDMapArchive";var ue=Ia(B[te].messages[0].data);ue[1]=[],ue[2]=[],ue[3]=[];for(var F=0;F<=n.e.c;++F){var K=[];K[1]=K[2]=[{type:0,data:Un(F+420690)}],ue[1].push({type:2,data:ds(K)}),ue[2].push({type:0,data:Un(F)}),ue[3].push({type:0,data:Un(F)})}ue[4]=[],ue[5]=[],ue[6]=[];for(var U=0;U<=n.e.r;++U)K=[],K[1]=K[2]=[{type:0,data:Un(U+726270)}],ue[4].push({type:2,data:ds(K)}),ue[5].push({type:0,data:Un(U)}),ue[6].push({type:0,data:Un(U)});B[te].messages[0].data=ds(ue)}R.content=jf(Df(B)),R.size=R.content.length,delete P[46];var X=Ia(P[4][0].data);{X[7][0].data=Un(n.e.r+1);var I=Ia(X[1][0].data),W=Gc(I[2][0].data);R=Yn.find(f,l[W].location),B=zl(Gl(R.content));{if(B[0].id!=W)throw"Bad HeaderStorageBucket";var ce=Ia(B[0].messages[0].data);for(U=0;U<a.length;++U){var pe=Ia(ce[2][0].data);pe[1][0].data=Un(U),pe[4][0].data=Un(a[U].length),ce[2][U]={type:ce[2][0].type,data:ds(pe)}}B[0].messages[0].data=ds(ce)}R.content=jf(Df(B)),R.size=R.content.length;var xe=Gc(X[2][0].data);R=Yn.find(f,l[xe].location),B=zl(Gl(R.content));{if(B[0].id!=xe)throw"Bad HeaderStorageBucket";for(ce=Ia(B[0].messages[0].data),F=0;F<=n.e.c;++F)pe=Ia(ce[2][0].data),pe[1][0].data=Un(F),pe[4][0].data=Un(n.e.r+1),ce[2][F]={type:ce[2][0].type,data:ds(pe)};B[0].messages[0].data=ds(ce)}R.content=jf(Df(B)),R.size=R.content.length;var oe=Gc(X[4][0].data);(function(){for(var H=Yn.find(f,l[oe].location),q=zl(Gl(H.content)),Z,se=0;se<q.length;++se){var Ae=q[se];Ae.id==oe&&(Z=Ae)}var Oe=Ia(Z.messages[0].data);{Oe[3]=[];var Re=[];s.forEach(function(it,Tt){Re[1]=[{type:0,data:Un(Tt)}],Re[2]=[{type:0,data:Un(1)}],Re[3]=[{type:2,data:WU(it)}],Oe[3].push({type:2,data:ds(Re)})})}Z.messages[0].data=ds(Oe);var Ie=Df(q),ot=jf(Ie);H.content=ot,H.size=H.content.length})();var be=Ia(X[3][0].data);{var _e=be[1][0];delete be[2];var Le=Ia(_e.data);{var Ne=Gc(Le[2][0].data);(function(){for(var H=Yn.find(f,l[Ne].location),q=zl(Gl(H.content)),Z,se=0;se<q.length;++se){var Ae=q[se];Ae.id==Ne&&(Z=Ae)}var Oe=Ia(Z.messages[0].data);{delete Oe[6],delete be[7];var Re=new Uint8Array(Oe[5][0].data);Oe[5]=[];for(var Ie=0,ot=0;ot<=n.e.r;++ot){var it=Ia(Re);Ie+=XU(it,a[ot],s),it[1][0].data=Un(ot),Oe[5].push({data:ds(it),type:2})}Oe[1]=[{type:0,data:Un(n.e.c+1)}],Oe[2]=[{type:0,data:Un(n.e.r+1)}],Oe[3]=[{type:0,data:Un(Ie)}],Oe[4]=[{type:0,data:Un(n.e.r+1)}]}Z.messages[0].data=ds(Oe);var Tt=Df(q),Nt=jf(Tt);H.content=Nt,H.size=H.content.length})()}_e.data=ds(Le)}X[3][0].data=ds(be)}P[4][0].data=ds(X)}_.messages[0].data=ds(P);var Q=Df(y),O=jf(Q);return v.content=O,v.size=v.content.length,f}function QU(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function py(t){QU([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function ez(t,e){return e.bookType=="ods"?S8(t,e):e.bookType=="numbers"?JU(t,e):e.bookType=="xlsb"?tz(t,e):rz(t,e)}function tz(t,e){Xf=1024,t&&!t.SSF&&(t.SSF=To(Xi)),t&&t.SSF&&(lg(),og(t.SSF),e.revssf=ug(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,M0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=a8.indexOf(e.bookType)>-1,i=R6();py(e=e||{});var a=J_(),s="",l=0;if(e.cellXfs=[],sh(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Wr(a,s,F6(t.Props,e)),i.coreprops.push(s),zn(e.rels,2,s,Tn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&c.push(t.SheetNames[f]);t.Props.SheetNames=c}for(t.Props.Worksheets=t.Props.SheetNames.length,Wr(a,s,U6(t.Props)),i.extprops.push(s),zn(e.rels,3,s,Tn.EXT_PROPS),t.Custprops!==t.Props&&ys(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Wr(a,s,z6(t.Custprops)),i.custprops.push(s),zn(e.rels,4,s,Tn.CUST_PROPS)),l=1;l<=t.SheetNames.length;++l){var p={"!id":{}},v=t.Sheets[t.SheetNames[l-1]],y=(v||{})["!type"]||"sheet";if(s="xl/worksheets/sheet"+l+"."+r,Wr(a,s,iU(l-1,s,e,t,p)),i.sheets.push(s),zn(e.wbrels,-1,"worksheets/sheet"+l+"."+r,Tn.WS[0]),v){var _=v["!comments"],T=!1,b="";_&&_.length>0&&(b="xl/comments"+l+"."+r,Wr(a,b,oU(_,b)),i.comments.push(b),zn(p,-1,"../comments"+l+"."+r,Tn.CMNT),T=!0),v["!legacy"]&&T&&Wr(a,"xl/drawings/vmlDrawing"+l+".vml",n8(l,v["!comments"])),delete v["!comments"],delete v["!legacy"]}p["!id"].rId1&&Wr(a,j6(s),ud(p))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,Wr(a,s,sU(e.Strings,s,e)),i.strs.push(s),zn(e.wbrels,-1,"sharedStrings."+r,Tn.SST)),s="xl/workbook."+r,Wr(a,s,nU(t,s)),i.workbooks.push(s),zn(e.rels,1,s,Tn.WB),s="xl/theme/theme1.xml",Wr(a,s,t8(t.Themes,e)),i.themes.push(s),zn(e.wbrels,-1,"theme/theme1.xml",Tn.THEME),s="xl/styles."+r,Wr(a,s,aU(t,s,e)),i.styles.push(s),zn(e.wbrels,-1,"styles."+r,Tn.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",Wr(a,s,t.vbaraw),i.vba.push(s),zn(e.wbrels,-1,"vbaProject.bin",Tn.VBA)),s="xl/metadata."+r,Wr(a,s,lU(s)),i.metadata.push(s),zn(e.wbrels,-1,"metadata."+r,Tn.XLMETA),Wr(a,"[Content_Types].xml",D6(i,e)),Wr(a,"_rels/.rels",ud(e.rels)),Wr(a,"xl/_rels/workbook."+r+".rels",ud(e.wbrels)),delete e.revssf,delete e.ssf,a}function rz(t,e){Xf=1024,t&&!t.SSF&&(t.SSF=To(Xi)),t&&t.SSF&&(lg(),og(t.SSF),e.revssf=ug(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,M0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=a8.indexOf(e.bookType)>-1,i=R6();py(e=e||{});var a=J_(),s="",l=0;if(e.cellXfs=[],sh(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Wr(a,s,F6(t.Props,e)),i.coreprops.push(s),zn(e.rels,2,s,Tn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&c.push(t.SheetNames[f]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,Wr(a,s,U6(t.Props)),i.extprops.push(s),zn(e.rels,3,s,Tn.EXT_PROPS),t.Custprops!==t.Props&&ys(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Wr(a,s,z6(t.Custprops)),i.custprops.push(s),zn(e.rels,4,s,Tn.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,l=1;l<=t.SheetNames.length;++l){var v={"!id":{}},y=t.Sheets[t.SheetNames[l-1]],_=(y||{})["!type"]||"sheet";if(s="xl/worksheets/sheet"+l+"."+r,Wr(a,s,p8(l-1,e,t,v)),i.sheets.push(s),zn(e.wbrels,-1,"worksheets/sheet"+l+"."+r,Tn.WS[0]),y){var T=y["!comments"],b=!1,C="";if(T&&T.length>0){var P=!1;T.forEach(function(j){j[1].forEach(function(R){R.T==!0&&(P=!0)})}),P&&(C="xl/threadedComments/threadedComment"+l+"."+r,Wr(a,C,Oj(T,p,e)),i.threadedcomments.push(C),zn(v,-1,"../threadedComments/threadedComment"+l+"."+r,Tn.TCMNT)),C="xl/comments"+l+"."+r,Wr(a,C,i8(T)),i.comments.push(C),zn(v,-1,"../comments"+l+"."+r,Tn.CMNT),b=!0}y["!legacy"]&&b&&Wr(a,"xl/drawings/vmlDrawing"+l+".vml",n8(l,y["!comments"])),delete y["!comments"],delete y["!legacy"]}v["!id"].rId1&&Wr(a,j6(s),ud(v))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,Wr(a,s,Y6(e.Strings,e)),i.strs.push(s),zn(e.wbrels,-1,"sharedStrings."+r,Tn.SST)),s="xl/workbook."+r,Wr(a,s,v8(t)),i.workbooks.push(s),zn(e.rels,1,s,Tn.WB),s="xl/theme/theme1.xml",Wr(a,s,t8(t.Themes,e)),i.themes.push(s),zn(e.wbrels,-1,"theme/theme1.xml",Tn.THEME),s="xl/styles."+r,Wr(a,s,Q6(t,e)),i.styles.push(s),zn(e.wbrels,-1,"styles."+r,Tn.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",Wr(a,s,t.vbaraw),i.vba.push(s),zn(e.wbrels,-1,"vbaProject.bin",Tn.VBA)),s="xl/metadata."+r,Wr(a,s,r8()),i.metadata.push(s),zn(e.wbrels,-1,"metadata."+r,Tn.XLMETA),p.length>1&&(s="xl/persons/person.xml",Wr(a,s,Rj(p)),i.people.push(s),zn(e.wbrels,-1,"persons/person.xml",Tn.PEOPLE)),Wr(a,"[Content_Types].xml",D6(i,e)),Wr(a,"_rels/.rels",ud(e.rels)),Wr(a,"xl/_rels/workbook."+r+".rels",ud(e.wbrels)),delete e.revssf,delete e.ssf,a}function nz(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=cc(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function E8(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return vp(e.file,Yn.write(t,{type:Cn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Yn.write(t,e)}function iz(t,e){var r=To(e||{}),n=ez(t,r);return az(n,r)}function az(t,e){var r={},n=Cn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Yn.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(sg(i))}return e.password&&typeof encrypt_agile<"u"?E8(encrypt_agile(i,e.password),e):e.type==="file"?vp(e.file,i):e.type=="string"?A0(i):i}function sz(t,e){var r=e||{},n=bU(t,r);return E8(n,r)}function Lu(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return X0(Q0(n));case"binary":return Q0(n);case"string":return t;case"file":return vp(e.file,n,"utf8");case"buffer":return Cn?mc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Lu(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function oz(t,e){switch(e.type){case"base64":return X0(t);case"binary":return t;case"string":return t;case"file":return vp(e.file,t,"binary");case"buffer":return Cn?mc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function qm(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?X0(r):e.type=="string"?A0(r):r;case"file":return vp(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function T8(t,e){DR(),$B(t);var r=To(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=T8(t,r);return r.type="array",sg(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Lu(xU(t,r),r);case"slk":case"sylk":return Lu(HD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Lu(x8(t.Sheets[t.SheetNames[i]],r),r);case"txt":return oz(A8(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Lu(my(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Lu(qD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return qm(GD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Lu(VD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Lu(JD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Lu(Z6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Lu(S8(t,r),r);case"wk1":return qm(c3.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return qm(c3.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),qm(y8(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),sz(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return iz(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function lz(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function uz(t,e,r){var n={};return n.type="file",n.file=e,lz(n),T8(t,n)}function cz(t,e,r,n,i,a,s,l){var c=_s(r),f=l.defval,p=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),v=!0,y=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!s||t[r])for(var _=e.s.c;_<=e.e.c;++_){var T=s?t[r][_]:t[n[_]+c];if(T===void 0||T.t===void 0){if(f===void 0)continue;a[_]!=null&&(y[a[_]]=f);continue}var b=T.v;switch(T.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(a[_]!=null){if(b==null)if(T.t=="e"&&b===null)y[a[_]]=null;else if(f!==void 0)y[a[_]]=f;else if(p&&b===null)y[a[_]]=null;else continue;else y[a[_]]=p&&(T.t!=="n"||T.t==="n"&&l.rawNumbers!==!1)?b:hc(T,b,l);b!=null&&(v=!1)}}return{row:y,isempty:v}}function j1(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},p=f.range!=null?f.range:t["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof p){case"string":c=_i(p);break;case"number":c=_i(t["!ref"]),c.s.r=p;break;default:c=p}n>0&&(i=0);var v=_s(c.s.r),y=[],_=[],T=0,b=0,C=Array.isArray(t),P=c.s.r,j=0,R={};C&&!t[P]&&(t[P]=[]);var B=f.skipHidden&&t["!cols"]||[],te=f.skipHidden&&t["!rows"]||[];for(j=c.s.c;j<=c.e.c;++j)if(!(B[j]||{}).hidden)switch(y[j]=Fs(j),r=C?t[P][j]:t[y[j]+v],n){case 1:a[j]=j-c.s.c;break;case 2:a[j]=y[j];break;case 3:a[j]=f.header[j-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=s=hc(r,null,f),b=R[s]||0,!b)R[s]=1;else{do l=s+"_"+b++;while(R[l]);R[s]=b,R[l]=1}a[j]=l}for(P=c.s.r+i;P<=c.e.r;++P)if(!(te[P]||{}).hidden){var ue=cz(t,c,P,y,n,a,C,f);(ue.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(_[T++]=ue.row)}return _.length=T,_}var _3=/"/g;function hz(t,e,r,n,i,a,s,l){for(var c=!0,f=[],p="",v=_s(r),y=e.s.c;y<=e.e.c;++y)if(n[y]){var _=l.dense?(t[r]||[])[y]:t[n[y]+v];if(_==null)p="";else if(_.v!=null){c=!1,p=""+(l.rawNumbers&&_.t=="n"?_.v:hc(_,null,l));for(var T=0,b=0;T!==p.length;++T)if((b=p.charCodeAt(T))===i||b===a||b===34||l.forceQuotes){p='"'+p.replace(_3,'""')+'"';break}p=="ID"&&(p='"ID"')}else _.f!=null&&!_.F?(c=!1,p="="+_.f,p.indexOf(",")>=0&&(p='"'+p.replace(_3,'""')+'"')):p="";f.push(p)}return l.blankrows===!1&&c?null:f.join(s)}function my(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=_i(t["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),f=new RegExp((a=="|"?"\\|":a)+"+$"),p="",v=[];n.dense=Array.isArray(t);for(var y=n.skipHidden&&t["!cols"]||[],_=n.skipHidden&&t["!rows"]||[],T=i.s.c;T<=i.e.c;++T)(y[T]||{}).hidden||(v[T]=Fs(T));for(var b=0,C=i.s.r;C<=i.e.r;++C)(_[C]||{}).hidden||(p=hz(t,i,C,v,s,c,a,n),p!=null&&(n.strip&&(p=p.replace(f,"")),(p||n.blankrows!==!1)&&r.push((b++?l:"")+p)));return delete n.dense,r.join("")}function A8(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=my(t,e);return r}function fz(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=_i(t["!ref"]),a="",s=[],l,c=[],f=Array.isArray(t);for(l=i.s.c;l<=i.e.c;++l)s[l]=Fs(l);for(var p=i.s.r;p<=i.e.r;++p)for(a=_s(p),l=i.s.c;l<=i.e.c;++l)if(e=s[l]+a,r=f?(t[p]||[])[l]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=e+"="+n}return c}function L8(t,e,r){var n=r||{},i=+!n.skipHeader,a=t||{},s=0,l=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Za(n.origin):n.origin;s=c.r,l=c.c}var f,p={s:{c:0,r:0},e:{c:l,r:s+e.length-1+i}};if(a["!ref"]){var v=_i(a["!ref"]);p.e.c=Math.max(p.e.c,v.e.c),p.e.r=Math.max(p.e.r,v.e.r),s==-1&&(s=v.e.r+1,p.e.r=s+e.length-1+i)}else s==-1&&(s=0,p.e.r=e.length-1+i);var y=n.header||[],_=0;e.forEach(function(b,C){ys(b).forEach(function(P){(_=y.indexOf(P))==-1&&(y[_=y.length]=P);var j=b[P],R="z",B="",te=qn({c:l+_,r:s+C+i});f=rp(a,te),j&&typeof j=="object"&&!(j instanceof Date)?a[te]=j:(typeof j=="number"?R="n":typeof j=="boolean"?R="b":typeof j=="string"?R="s":j instanceof Date?(R="d",n.cellDates||(R="n",j=Eo(j)),B=n.dateNF||Xi[14]):j===null&&n.nullError&&(R="e",j=0),f?(f.t=R,f.v=j,delete f.w,delete f.R,B&&(f.z=B)):a[te]=f={t:R,v:j},B&&(f.z=B))})}),p.e.c=Math.max(p.e.c,l+y.length-1);var T=_s(s);if(i)for(_=0;_<y.length;++_)a[Fs(_+l)+T]={t:"s",v:y[_]};return a["!ref"]=xa(p),a}function dz(t,e){return L8(null,t,e)}function rp(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Za(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?rp(t,qn(e)):rp(t,qn({r:e,c:r||0}))}function pz(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function mz(){return{SheetNames:[],Sheets:{}}}function gz(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=s+i)!=-1;++i);}if(g8(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function vz(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=pz(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function _z(t,e){return t.z=e,t}function N8(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function yz(t,e,r){return N8(t,"#"+e,r)}function xz(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function wz(t,e,r,n){for(var i=typeof e!="string"?e:_i(e),a=typeof e=="string"?e:xa(e),s=i.s.r;s<=i.e.r;++s)for(var l=i.s.c;l<=i.e.c;++l){var c=rp(t,s,l);c.t="n",c.F=a,delete c.v,s==i.s.r&&l==i.s.c&&(c.f=r,n&&(c.D=!0))}return t}var Ch={encode_col:Fs,encode_row:_s,encode_cell:qn,encode_range:xa,decode_col:iy,decode_row:ny,split_cell:D9,decode_cell:Za,decode_range:Qo,format_cell:hc,sheet_add_aoa:N6,sheet_add_json:L8,sheet_add_dom:w8,aoa_to_sheet:xd,json_to_sheet:dz,table_to_sheet:b8,table_to_book:qU,sheet_to_csv:my,sheet_to_txt:A8,sheet_to_json:j1,sheet_to_html:x8,sheet_to_formulae:fz,sheet_to_row_object_array:j1,sheet_get_cell:rp,book_new:mz,book_append_sheet:gz,book_set_sheet_visibility:vz,cell_set_number_format:_z,cell_set_hyperlink:N8,cell_set_internal_link:yz,cell_add_comment:xz,sheet_set_array_formula:wz,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const bz=(t,e=`Survey_Export_${Date.now()}`)=>{if(!t||t.length===0){alert("No data to export");return}const r=t.map(c=>({"Building ID":c.building_id||"","Survey ID":c.id||"","Floor Number":c.floor_number||"","Total Floors":c.total_floors||"","Unit Identifier":c.unit_identifier||"","Total Area (m)":c.area_sqm||"",Status:c.status||"","Owner Name":c.owner_name||"","Phone Number":c.phone_number||"","Aadhaar Number":c.aadhaar_number||"","Email Address":c.email_address||"","Family Members Count":c.family_members_count||"","Occupier Name":c.occupier_name||"","Ownership Type":c.ownership_type||"","7/12 Survey/Gat No":c.survey_gat_no||"","City Survey No":c.city_survey_no||"","Layout Name/Plot No":c.layout_name_plot_no||"","Building Name":c.building_name||"","Address with Floor":c.address_with_floor||"","Nearest Road Type":c.nearest_road_type||"","Pin Code":c.pin_code||"","Property Type":c.property_type||"","Usage Type":c.usage_type||"","Usage Sub-Type":c.usage_sub_type||"","Building Permission":c.building_permission?"Yes":"No","Permission No":c.permission_no||"","Permission Date":c.permission_date||"","Occupancy Certificate":c.occupancy_certificate?"Yes":"No","Construction Type":c.construction_type||"","Year of Construction":c.year_of_construction||"","Construction Age (years)":c.year_of_construction?new Date().getFullYear()-c.year_of_construction:"","Water Connection":c.water_connection?"Yes":"No","Water Connection Type":c.water_connection_type||"","Water Authorization":c.water_authorized||"","Water Meter No":c.water_meter_no||"","Water Consumer No":c.water_consumer_no||"","Water Connection Date":c.water_connection_date||"","Pipe Size":c.pipe_size||"","Has Toilet":c.has_toilet?"Yes":"No","Toilet Count":c.toilet_count||"","Septic Tank":c.has_septic_tank?"Yes":"No","Sewerage Connection":c.has_sewerage?"Yes":"No","Electricity Connection":c.electricity_connection?"Yes":"No","Solar Panels":c.has_solar?"Yes":"No","Rain Water Harvesting":c.has_rainwater_harvesting?"Yes":"No","Property Tax Paid":c.tax_paid?"Yes":"No","ULB Name":c.ulb_name||"",District:c.district||"",Town:c.town||"","Zone No":c.zone_no||"","New Ward No":c.new_ward_no||"","Old Ward No":c.old_ward_no||"","Old Property No":c.old_property_no||"","New Property No":c.new_property_no||"","Total Carpet Area (m)":c.total_carpet_area||"","Exempted Area (m)":c.exempted_area||"","Assessable Area (m)":c.assessable_area||"","Current Tax Details":c.current_tax_details||"","Owner Photo URL":c.owner_photo_url||"","Building Photo 1 URL":c.building_photo_url||"","Building Photo 2 URL":c.building_photo_url_2||"","Created At":new Date(c.created_at).toLocaleString(),"Updated At":new Date(c.updated_at).toLocaleString(),"Surveyor ID":c.user_id||""})),n=Ch.json_to_sheet(r),i=[{wch:15},{wch:12},{wch:10},{wch:12},{wch:15},{wch:12},{wch:10},{wch:25},{wch:15},{wch:15},{wch:25},{wch:15},{wch:25},{wch:15}];n["!cols"]=i;const a=Ch.book_new();Ch.book_append_sheet(a,n,"Survey Data");const s=[{Metric:"Total Surveys",Value:t.length},{Metric:"Export Date",Value:new Date().toLocaleString()},{Metric:"Total Area (m)",Value:t.reduce((c,f)=>c+(parseFloat(f.area_sqm)||0),0).toFixed(2)},{Metric:"Properties with Water Connection",Value:t.filter(c=>c.water_connection).length},{Metric:"Properties with Electricity",Value:t.filter(c=>c.electricity_connection).length},{Metric:"Properties with Tax Paid",Value:t.filter(c=>c.tax_paid).length}],l=Ch.json_to_sheet(s);return l["!cols"]=[{wch:40},{wch:20}],Ch.book_append_sheet(a,l,"Summary"),uz(a,`${e}.xlsx`),!0},Sz=(t,e=`Survey_Export_${Date.now()}`)=>{if(!t||t.length===0){alert("No data to export");return}const r=t.map(c=>({"Building ID":c.building_id||"","Survey ID":c.id||"","Floor Number":c.floor_number||"","Total Floors":c.total_floors||"","Owner Name":c.owner_name||"","Phone Number":c.phone_number||"","Aadhaar Number":c.aadhaar_number||"","Email Address":c.email_address||"","Property Type":c.property_type||"","Construction Type":c.construction_type||"","Year of Construction":c.year_of_construction||"","Total Area (m)":c.area_sqm||"","Water Connection":c.water_connection?"Yes":"No","Electricity Connection":c.electricity_connection?"Yes":"No","Tax Paid":c.tax_paid?"Yes":"No",District:c.district||"",Town:c.town||"","Ward No":c.new_ward_no||"","Property No":c.new_property_no||"","Created At":new Date(c.created_at).toLocaleString()})),n=Ch.json_to_sheet(r),i=Ch.sheet_to_csv(n),a=new Blob([i],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),l=URL.createObjectURL(a);return s.setAttribute("href",l),s.setAttribute("download",`${e}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),!0},Ez=()=>{const t=ah(),e=WE(),[r,n]=de.useState({total:0,today:0,thisWeek:0,thisMonth:0}),[i,a]=de.useState([]),[s,l]=de.useState(!0),[c,f]=de.useState(""),[p,v]=de.useState("all");de.useEffect(()=>{y(),_();const R=()=>{document.visibilityState==="visible"&&(y(),_())};return document.addEventListener("visibilitychange",R),()=>document.removeEventListener("visibilitychange",R)},[]);const y=async()=>{try{const R=new Date,B=new Date(R.getFullYear(),R.getMonth(),R.getDate()).toISOString(),te=new Date(R.setDate(R.getDate()-R.getDay())).toISOString(),ue=new Date(R.getFullYear(),R.getMonth(),1).toISOString(),{data:F,error:K}=await fn.from("surveys").select("created_at, status");K&&console.error("Error fetching stats:",K),F&&n({total:F.length,today:F.filter(U=>new Date(U.created_at)>=new Date(B)).length,thisWeek:F.filter(U=>new Date(U.created_at)>=new Date(te)).length,thisMonth:F.filter(U=>new Date(U.created_at)>=new Date(ue)).length})}catch(R){console.error("fetchStats error:",R)}finally{l(!1)}},_=async()=>{try{const{data:R,error:B}=await fn.from("surveys").select("*").order("created_at",{ascending:!1}).limit(20);B&&console.error("Error fetching recent surveys:",B),a(R||[])}catch(R){console.error("fetchRecentSurveys error:",R)}},T=async R=>{if(!confirm("Are you sure you want to delete this survey?"))return;const{error:B}=await fn.from("surveys").delete().eq("id",R);B?e.error("Failed to delete survey"):(e.success("Survey deleted successfully"),_(),y())},b=async R=>{e.info("Generating PDF...");try{await Z_(R),e.success("PDF downloaded successfully!")}catch{e.error("Failed to generate PDF")}},C=()=>{if(j.length===0){e.error("No surveys to export");return}e.info("Generating Excel file...");try{bz(j,`Property_Survey_${new Date().toISOString().split("T")[0]}`),e.success(`Exported ${j.length} surveys to Excel`)}catch{e.error("Failed to export to Excel")}},P=()=>{if(j.length===0){e.error("No surveys to export");return}e.info("Generating CSV file...");try{Sz(j,`Property_Survey_${new Date().toISOString().split("T")[0]}`),e.success(`Exported ${j.length} surveys to CSV`)}catch{e.error("Failed to export to CSV")}},j=i.filter(R=>{const B=R.building_id?.toLowerCase().includes(c.toLowerCase())||R.owner_name?.toLowerCase().includes(c.toLowerCase()),te=p==="all"||R.status===p;return B&&te});return x.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[x.jsx(PR,{onSyncComplete:_}),x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Dashboard"}),x.jsx("p",{className:"text-gray-600 mt-1",children:"Overview of your survey activities"})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[x.jsxs("button",{onClick:C,className:"flex-1 sm:flex-none px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold shadow transition-all hover:scale-105 flex items-center justify-center gap-2 text-sm",title:"Export all visible surveys to Excel",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Excel"]}),x.jsxs("button",{onClick:P,className:"flex-1 sm:flex-none px-4 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-semibold shadow transition-all hover:scale-105 flex items-center justify-center gap-2 text-sm",title:"Export all visible surveys to CSV",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"CSV"]}),x.jsxs("button",{onClick:()=>t("/survey"),className:"flex-1 sm:flex-none px-6 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105 flex items-center justify-center gap-2 text-sm",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Survey"]})]})]}),x.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:s?x.jsxs(x.Fragment,{children:[x.jsx($m,{}),x.jsx($m,{}),x.jsx($m,{}),x.jsx($m,{})]}):x.jsxs(x.Fragment,{children:[x.jsx(Vm,{title:"Total Surveys",value:r.total,icon:"",color:"blue"}),x.jsx(Vm,{title:"Today",value:r.today,icon:"",color:"green"}),x.jsx(Vm,{title:"This Week",value:r.thisWeek,icon:"",color:"purple"}),x.jsx(Vm,{title:"This Month",value:r.thisMonth,icon:"",color:"orange"})]})}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[x.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),x.jsx("input",{type:"text",placeholder:"Search by Building ID or Owner...",value:c,onChange:R=>f(R.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"})]}),x.jsxs("select",{value:p,onChange:R=>v(R.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"all",children:"All Status"}),x.jsx("option",{value:"draft",children:"Draft"}),x.jsx("option",{value:"submitted",children:"Submitted"}),x.jsx("option",{value:"verified",children:"Verified"})]})]})}),x.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-100 hidden sm:block",children:x.jsxs("div",{className:"grid grid-cols-5 gap-4 text-sm font-semibold text-gray-600",children:[x.jsx("span",{children:"Building"}),x.jsx("span",{children:"Owner"}),x.jsx("span",{children:"Status"}),x.jsx("span",{children:"Date"}),x.jsx("span",{children:"Actions"})]})}),x.jsx("div",{className:"divide-y divide-gray-100",children:s?x.jsxs(x.Fragment,{children:[x.jsx(C2,{}),x.jsx(C2,{}),x.jsx(C2,{})]}):j.length===0?x.jsxs("div",{className:"p-12 text-center",children:[x.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),x.jsx("p",{className:"text-gray-500 text-lg",children:"No surveys found"}),x.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Start your first survey to see it here!"})]}):j.map(R=>x.jsx(Tz,{survey:R,onView:()=>t(`/survey/${R.id}`),onPDF:()=>b(R),onDelete:()=>T(R.id)},R.id))})]})]})},Tz=({survey:t,onView:e,onPDF:r,onDelete:n})=>x.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[x.jsxs("div",{className:"sm:hidden space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold text-gray-900",children:t.building_id||"No ID"}),x.jsx("p",{className:"text-sm text-gray-500",children:t.owner_name||"Unknown Owner"})]}),x.jsx(y3,{status:t.status})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-xs text-gray-400",children:new Date(t.created_at).toLocaleDateString()}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(If,{onClick:e,icon:"",label:"View",color:"blue"}),x.jsx(If,{onClick:r,icon:"",label:"PDF",color:"green"}),x.jsx(If,{onClick:n,icon:"",label:"Delete",color:"red"})]})]})]}),x.jsxs("div",{className:"hidden sm:grid grid-cols-5 gap-4 items-center",children:[x.jsx("span",{className:"font-medium text-gray-900",children:t.building_id||"No ID"}),x.jsx("span",{className:"text-gray-600",children:t.owner_name||"Unknown"}),x.jsx(y3,{status:t.status}),x.jsx("span",{className:"text-gray-500 text-sm",children:new Date(t.created_at).toLocaleDateString()}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(If,{onClick:e,icon:"",label:"View",color:"blue"}),x.jsx(If,{onClick:r,icon:"",label:"PDF",color:"green"}),x.jsx(If,{onClick:n,icon:"",label:"Delete",color:"red"})]})]})]}),y3=({status:t})=>{const e={draft:"bg-yellow-100 text-yellow-800 border-yellow-200",submitted:"bg-green-100 text-green-800 border-green-200",verified:"bg-purple-100 text-purple-800 border-purple-200"};return x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${e[t]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:t})},If=({onClick:t,icon:e,label:r,color:n})=>{const i={blue:"hover:bg-blue-100 text-blue-600",green:"hover:bg-green-100 text-green-600",red:"hover:bg-red-100 text-red-600"};return x.jsx("button",{onClick:t,className:`p-2 rounded-lg transition-colors ${i[n]}`,title:r,children:x.jsx("span",{className:"text-sm",children:e})})},Vm=({title:t,value:e,icon:r,color:n})=>{const i={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600"};return x.jsx("div",{className:`bg-gradient-to-br ${i[n]} text-white rounded-2xl p-4 sm:p-6 shadow-lg transform transition-all hover:scale-105`,children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs sm:text-sm opacity-90",children:t}),x.jsx("p",{className:"text-2xl sm:text-4xl font-bold mt-1",children:e})]}),x.jsx("span",{className:"text-3xl sm:text-5xl opacity-80",children:r})]})})},$m=()=>x.jsxs("div",{className:"bg-gray-200 rounded-2xl p-6 animate-pulse",children:[x.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-3"}),x.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"})]}),C2=()=>x.jsx("div",{className:"p-4 animate-pulse",children:x.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[x.jsx("div",{className:"h-4 bg-gray-200 rounded"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]})});function C8(t,e){const r=de.useRef(e);de.useEffect(function(){e!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),e!=null&&t.attributionControl.addAttribution(e)),r.current=e},[t,e])}function Az(t,e,r){e.center!==r.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==r.radius&&t.setRadius(e.radius)}const Lz=1;function Nz(t){return Object.freeze({__version:Lz,map:t})}function pg(t,e){return Object.freeze({...t,...e})}const gy=de.createContext(null);function bp(){const t=de.use(gy);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function M8(t){function e(r,n){const{instance:i,context:a}=t(r).current;de.useImperativeHandle(n,()=>i);const{children:s}=r;return s==null?null:Mu.createElement(gy,{value:a},s)}return de.forwardRef(e)}function Cz(t){function e(r,n){const[i,a]=de.useState(!1),{instance:s}=t(r,a).current;de.useImperativeHandle(n,()=>s),de.useEffect(function(){i&&s.update()},[s,i,r.children]);const l=s._contentNode;return l?PS.createPortal(r.children,l):null}return de.forwardRef(e)}function Mz(t){function e(r,n){const{instance:i}=t(r).current;return de.useImperativeHandle(n,()=>i),null}return de.forwardRef(e)}function vy(t,e){const r=de.useRef(void 0);de.useEffect(function(){return e!=null&&t.instance.on(e),r.current=e,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,e])}function Sp(t,e){const r=t.pane??e.pane;return r?{...t,pane:r}:t}function kz(t,e){return function(n,i){const a=bp(),s=t(Sp(n,a),a);return C8(a.map,n.attribution),vy(s.current,n.eventHandlers),e(s.current,a,n,i),s}}var p0={exports:{}};var Pz=p0.exports,x3;function Oz(){return x3||(x3=1,(function(t,e){(function(r,n){n(e)})(Pz,(function(r){var n="1.9.4";function i(h){var m,S,M,G;for(S=1,M=arguments.length;S<M;S++){G=arguments[S];for(m in G)h[m]=G[m]}return h}var a=Object.create||(function(){function h(){}return function(m){return h.prototype=m,new h}})();function s(h,m){var S=Array.prototype.slice;if(h.bind)return h.bind.apply(h,S.call(arguments,1));var M=S.call(arguments,2);return function(){return h.apply(m,M.length?M.concat(S.call(arguments)):arguments)}}var l=0;function c(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function f(h,m,S){var M,G,ae,Me;return Me=function(){M=!1,G&&(ae.apply(S,G),G=!1)},ae=function(){M?G=arguments:(h.apply(S,arguments),setTimeout(Me,m),M=!0)},ae}function p(h,m,S){var M=m[1],G=m[0],ae=M-G;return h===M&&S?h:((h-G)%ae+ae)%ae+G}function v(){return!1}function y(h,m){if(m===!1)return h;var S=Math.pow(10,m===void 0?6:m);return Math.round(h*S)/S}function _(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function T(h){return _(h).split(/\s+/)}function b(h,m){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?a(h.options):{});for(var S in m)h.options[S]=m[S];return h.options}function C(h,m,S){var M=[];for(var G in h)M.push(encodeURIComponent(S?G.toUpperCase():G)+"="+encodeURIComponent(h[G]));return(!m||m.indexOf("?")===-1?"?":"&")+M.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function j(h,m){return h.replace(P,function(S,M){var G=m[M];if(G===void 0)throw new Error("No value provided for variable "+S);return typeof G=="function"&&(G=G(m)),G})}var R=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function B(h,m){for(var S=0;S<h.length;S++)if(h[S]===m)return S;return-1}var te="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ue(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var F=0;function K(h){var m=+new Date,S=Math.max(0,16-(m-F));return F=m+S,window.setTimeout(h,S)}var U=window.requestAnimationFrame||ue("RequestAnimationFrame")||K,X=window.cancelAnimationFrame||ue("CancelAnimationFrame")||ue("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function I(h,m,S){if(S&&U===K)h.call(m);else return U.call(window,s(h,m))}function W(h){h&&X.call(window,h)}var ce={__proto__:null,extend:i,create:a,bind:s,get lastId(){return l},stamp:c,throttle:f,wrapNum:p,falseFn:v,formatNum:y,trim:_,splitWords:T,setOptions:b,getParamString:C,template:j,isArray:R,indexOf:B,emptyImageUrl:te,requestFn:U,cancelFn:X,requestAnimFrame:I,cancelAnimFrame:W};function pe(){}pe.extend=function(h){var m=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=m.__super__=this.prototype,M=a(S);M.constructor=m,m.prototype=M;for(var G in this)Object.prototype.hasOwnProperty.call(this,G)&&G!=="prototype"&&G!=="__super__"&&(m[G]=this[G]);return h.statics&&i(m,h.statics),h.includes&&(xe(h.includes),i.apply(null,[M].concat(h.includes))),i(M,h),delete M.statics,delete M.includes,M.options&&(M.options=S.options?a(S.options):{},i(M.options,h.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var ae=0,Me=M._initHooks.length;ae<Me;ae++)M._initHooks[ae].call(this)}},m},pe.include=function(h){var m=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=m,this.mergeOptions(h.options)),this},pe.mergeOptions=function(h){return i(this.prototype.options,h),this},pe.addInitHook=function(h){var m=Array.prototype.slice.call(arguments,1),S=typeof h=="function"?h:function(){this[h].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function xe(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=R(h)?h:[h];for(var m=0;m<h.length;m++)h[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(h,m,S){if(typeof h=="object")for(var M in h)this._on(M,h[M],m);else{h=T(h);for(var G=0,ae=h.length;G<ae;G++)this._on(h[G],m,S)}return this},off:function(h,m,S){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var M in h)this._off(M,h[M],m);else{h=T(h);for(var G=arguments.length===1,ae=0,Me=h.length;ae<Me;ae++)G?this._off(h[ae]):this._off(h[ae],m,S)}return this},_on:function(h,m,S,M){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(h,m,S)===!1){S===this&&(S=void 0);var G={fn:m,ctx:S};M&&(G.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(G)}},_off:function(h,m,S){var M,G,ae;if(this._events&&(M=this._events[h],!!M)){if(arguments.length===1){if(this._firingCount)for(G=0,ae=M.length;G<ae;G++)M[G].fn=v;delete this._events[h];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var Me=this._listens(h,m,S);if(Me!==!1){var We=M[Me];this._firingCount&&(We.fn=v,this._events[h]=M=M.slice()),M.splice(Me,1)}}},fire:function(h,m,S){if(!this.listens(h,S))return this;var M=i({},m,{type:h,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var G=this._events[h];if(G){this._firingCount=this._firingCount+1||1;for(var ae=0,Me=G.length;ae<Me;ae++){var We=G[ae],tt=We.fn;We.once&&this.off(h,tt,We.ctx),tt.call(We.ctx||this,M)}this._firingCount--}}return S&&this._propagateEvent(M),this},listens:function(h,m,S,M){typeof h!="string"&&console.warn('"string" type argument expected');var G=m;typeof m!="function"&&(M=!!m,G=void 0,S=void 0);var ae=this._events&&this._events[h];if(ae&&ae.length&&this._listens(h,G,S)!==!1)return!0;if(M){for(var Me in this._eventParents)if(this._eventParents[Me].listens(h,m,S,M))return!0}return!1},_listens:function(h,m,S){if(!this._events)return!1;var M=this._events[h]||[];if(!m)return!!M.length;S===this&&(S=void 0);for(var G=0,ae=M.length;G<ae;G++)if(M[G].fn===m&&M[G].ctx===S)return G;return!1},once:function(h,m,S){if(typeof h=="object")for(var M in h)this._on(M,h[M],m,!0);else{h=T(h);for(var G=0,ae=h.length;G<ae;G++)this._on(h[G],m,S,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[c(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[c(h)],this},_propagateEvent:function(h){for(var m in this._eventParents)this._eventParents[m].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var be=pe.extend(oe);function _e(h,m,S){this.x=S?Math.round(h):h,this.y=S?Math.round(m):m}var Le=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};_e.prototype={clone:function(){return new _e(this.x,this.y)},add:function(h){return this.clone()._add(Ne(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(Ne(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new _e(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new _e(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Le(this.x),this.y=Le(this.y),this},distanceTo:function(h){h=Ne(h);var m=h.x-this.x,S=h.y-this.y;return Math.sqrt(m*m+S*S)},equals:function(h){return h=Ne(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=Ne(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function Ne(h,m,S){return h instanceof _e?h:R(h)?new _e(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new _e(h.x,h.y):new _e(h,m,S)}function Q(h,m){if(h)for(var S=m?[h,m]:h,M=0,G=S.length;M<G;M++)this.extend(S[M])}Q.prototype={extend:function(h){var m,S;if(!h)return this;if(h instanceof _e||typeof h[0]=="number"||"x"in h)m=S=Ne(h);else if(h=O(h),m=h.min,S=h.max,!m||!S)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=S.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(h){return Ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return Ne(this.min.x,this.max.y)},getTopRight:function(){return Ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var m,S;return typeof h[0]=="number"||h instanceof _e?h=Ne(h):h=O(h),h instanceof Q?(m=h.min,S=h.max):m=S=h,m.x>=this.min.x&&S.x<=this.max.x&&m.y>=this.min.y&&S.y<=this.max.y},intersects:function(h){h=O(h);var m=this.min,S=this.max,M=h.min,G=h.max,ae=G.x>=m.x&&M.x<=S.x,Me=G.y>=m.y&&M.y<=S.y;return ae&&Me},overlaps:function(h){h=O(h);var m=this.min,S=this.max,M=h.min,G=h.max,ae=G.x>m.x&&M.x<S.x,Me=G.y>m.y&&M.y<S.y;return ae&&Me},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var m=this.min,S=this.max,M=Math.abs(m.x-S.x)*h,G=Math.abs(m.y-S.y)*h;return O(Ne(m.x-M,m.y-G),Ne(S.x+M,S.y+G))},equals:function(h){return h?(h=O(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function O(h,m){return!h||h instanceof Q?h:new Q(h,m)}function H(h,m){if(h)for(var S=m?[h,m]:h,M=0,G=S.length;M<G;M++)this.extend(S[M])}H.prototype={extend:function(h){var m=this._southWest,S=this._northEast,M,G;if(h instanceof Z)M=h,G=h;else if(h instanceof H){if(M=h._southWest,G=h._northEast,!M||!G)return this}else return h?this.extend(se(h)||q(h)):this;return!m&&!S?(this._southWest=new Z(M.lat,M.lng),this._northEast=new Z(G.lat,G.lng)):(m.lat=Math.min(M.lat,m.lat),m.lng=Math.min(M.lng,m.lng),S.lat=Math.max(G.lat,S.lat),S.lng=Math.max(G.lng,S.lng)),this},pad:function(h){var m=this._southWest,S=this._northEast,M=Math.abs(m.lat-S.lat)*h,G=Math.abs(m.lng-S.lng)*h;return new H(new Z(m.lat-M,m.lng-G),new Z(S.lat+M,S.lng+G))},getCenter:function(){return new Z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Z(this.getNorth(),this.getWest())},getSouthEast:function(){return new Z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof Z||"lat"in h?h=se(h):h=q(h);var m=this._southWest,S=this._northEast,M,G;return h instanceof H?(M=h.getSouthWest(),G=h.getNorthEast()):M=G=h,M.lat>=m.lat&&G.lat<=S.lat&&M.lng>=m.lng&&G.lng<=S.lng},intersects:function(h){h=q(h);var m=this._southWest,S=this._northEast,M=h.getSouthWest(),G=h.getNorthEast(),ae=G.lat>=m.lat&&M.lat<=S.lat,Me=G.lng>=m.lng&&M.lng<=S.lng;return ae&&Me},overlaps:function(h){h=q(h);var m=this._southWest,S=this._northEast,M=h.getSouthWest(),G=h.getNorthEast(),ae=G.lat>m.lat&&M.lat<S.lat,Me=G.lng>m.lng&&M.lng<S.lng;return ae&&Me},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,m){return h?(h=q(h),this._southWest.equals(h.getSouthWest(),m)&&this._northEast.equals(h.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function q(h,m){return h instanceof H?h:new H(h,m)}function Z(h,m,S){if(isNaN(h)||isNaN(m))throw new Error("Invalid LatLng object: ("+h+", "+m+")");this.lat=+h,this.lng=+m,S!==void 0&&(this.alt=+S)}Z.prototype={equals:function(h,m){if(!h)return!1;h=se(h);var S=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return S<=(m===void 0?1e-9:m)},toString:function(h){return"LatLng("+y(this.lat,h)+", "+y(this.lng,h)+")"},distanceTo:function(h){return Oe.distance(this,se(h))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(h){var m=180*h/40075017,S=m/Math.cos(Math.PI/180*this.lat);return q([this.lat-m,this.lng-S],[this.lat+m,this.lng+S])},clone:function(){return new Z(this.lat,this.lng,this.alt)}};function se(h,m,S){return h instanceof Z?h:R(h)&&typeof h[0]!="object"?h.length===3?new Z(h[0],h[1],h[2]):h.length===2?new Z(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new Z(h.lat,"lng"in h?h.lng:h.lon,h.alt):m===void 0?null:new Z(h,m,S)}var Ae={latLngToPoint:function(h,m){var S=this.projection.project(h),M=this.scale(m);return this.transformation._transform(S,M)},pointToLatLng:function(h,m){var S=this.scale(m),M=this.transformation.untransform(h,S);return this.projection.unproject(M)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var m=this.projection.bounds,S=this.scale(h),M=this.transformation.transform(m.min,S),G=this.transformation.transform(m.max,S);return new Q(M,G)},infinite:!1,wrapLatLng:function(h){var m=this.wrapLng?p(h.lng,this.wrapLng,!0):h.lng,S=this.wrapLat?p(h.lat,this.wrapLat,!0):h.lat,M=h.alt;return new Z(S,m,M)},wrapLatLngBounds:function(h){var m=h.getCenter(),S=this.wrapLatLng(m),M=m.lat-S.lat,G=m.lng-S.lng;if(M===0&&G===0)return h;var ae=h.getSouthWest(),Me=h.getNorthEast(),We=new Z(ae.lat-M,ae.lng-G),tt=new Z(Me.lat-M,Me.lng-G);return new H(We,tt)}},Oe=i({},Ae,{wrapLng:[-180,180],R:6371e3,distance:function(h,m){var S=Math.PI/180,M=h.lat*S,G=m.lat*S,ae=Math.sin((m.lat-h.lat)*S/2),Me=Math.sin((m.lng-h.lng)*S/2),We=ae*ae+Math.cos(M)*Math.cos(G)*Me*Me,tt=2*Math.atan2(Math.sqrt(We),Math.sqrt(1-We));return this.R*tt}}),Re=6378137,Ie={R:Re,MAX_LATITUDE:85.0511287798,project:function(h){var m=Math.PI/180,S=this.MAX_LATITUDE,M=Math.max(Math.min(S,h.lat),-S),G=Math.sin(M*m);return new _e(this.R*h.lng*m,this.R*Math.log((1+G)/(1-G))/2)},unproject:function(h){var m=180/Math.PI;return new Z((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*m,h.x*m/this.R)},bounds:(function(){var h=Re*Math.PI;return new Q([-h,-h],[h,h])})()};function ot(h,m,S,M){if(R(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=m,this._c=S,this._d=M}ot.prototype={transform:function(h,m){return this._transform(h.clone(),m)},_transform:function(h,m){return m=m||1,h.x=m*(this._a*h.x+this._b),h.y=m*(this._c*h.y+this._d),h},untransform:function(h,m){return m=m||1,new _e((h.x/m-this._b)/this._a,(h.y/m-this._d)/this._c)}};function it(h,m,S,M){return new ot(h,m,S,M)}var Tt=i({},Oe,{code:"EPSG:3857",projection:Ie,transformation:(function(){var h=.5/(Math.PI*Ie.R);return it(h,.5,-h,.5)})()}),Nt=i({},Tt,{code:"EPSG:900913"});function we(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function yt(h,m){var S="",M,G,ae,Me,We,tt;for(M=0,ae=h.length;M<ae;M++){for(We=h[M],G=0,Me=We.length;G<Me;G++)tt=We[G],S+=(G?"L":"M")+tt.x+" "+tt.y;S+=m?Ye.svg?"z":"x":""}return S||"M0 0"}var xt=document.documentElement.style,zt="ActiveXObject"in window,dt=zt&&!document.addEventListener,Vt="msLaunchUri"in navigator&&!("documentMode"in document),jt=qe("webkit"),sr=qe("android"),Xt=qe("android 2")||qe("android 3"),Jt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Er=sr&&qe("Google")&&Jt<537&&!("AudioNode"in window),dr=!!window.opera,Nr=!Vt&&qe("chrome"),or=qe("gecko")&&!jt&&!dr&&!zt,Ft=!Nr&&qe("safari"),_r=qe("phantom"),Wt="OTransition"in xt,xn=navigator.platform.indexOf("Win")===0,Mr=zt&&"transition"in xt,Gt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Xt,pr="MozPerspective"in xt,Dr=!window.L_DISABLE_3D&&(Mr||Gt||pr)&&!Wt&&!_r,Yt=typeof orientation<"u"||qe("mobile"),ln=Yt&&jt,ur=Yt&&Gt,cr=!window.PointerEvent&&window.MSPointerEvent,en=!!(window.PointerEvent||cr),xr="ontouchstart"in window||!!window.TouchEvent,Zt=!window.L_NO_TOUCH&&(xr||en),Gr=Yt&&dr,ba=Yt&&or,li=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ji=(function(){var h=!1;try{var m=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",v,m),window.removeEventListener("testPassiveEventSupport",v,m)}catch{}return h})(),Ni=(function(){return!!document.createElement("canvas").getContext})(),Qt=!!(document.createElementNS&&we("svg").createSVGRect),Ka=!!Qt&&(function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Fa=!Qt&&(function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var m=h.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}})(),Ce=navigator.platform.indexOf("Mac")===0,Ge=navigator.platform.indexOf("Linux")===0;function qe(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var Ye={ie:zt,ielt9:dt,edge:Vt,webkit:jt,android:sr,android23:Xt,androidStock:Er,opera:dr,chrome:Nr,gecko:or,safari:Ft,phantom:_r,opera12:Wt,win:xn,ie3d:Mr,webkit3d:Gt,gecko3d:pr,any3d:Dr,mobile:Yt,mobileWebkit:ln,mobileWebkit3d:ur,msPointer:cr,pointer:en,touch:Zt,touchNative:xr,mobileOpera:Gr,mobileGecko:ba,retina:li,passiveEvents:Ji,canvas:Ni,svg:Qt,vml:Fa,inlineSvg:Ka,mac:Ce,linux:Ge},Y=Ye.msPointer?"MSPointerDown":"pointerdown",me=Ye.msPointer?"MSPointerMove":"pointermove",re=Ye.msPointer?"MSPointerUp":"pointerup",ne=Ye.msPointer?"MSPointerCancel":"pointercancel",he={touchstart:Y,touchmove:me,touchend:re,touchcancel:ne},ve={touchstart:Mt,touchmove:gt,touchend:gt,touchcancel:gt},Pe={},ze=!1;function Be(h,m,S){return m==="touchstart"&&wt(),ve[m]?(S=ve[m].bind(this,S),h.addEventListener(he[m],S,!1),S):(console.warn("wrong event specified:",m),v)}function Ue(h,m,S){if(!he[m]){console.warn("wrong event specified:",m);return}h.removeEventListener(he[m],S,!1)}function $e(h){Pe[h.pointerId]=h}function ht(h){Pe[h.pointerId]&&(Pe[h.pointerId]=h)}function bt(h){delete Pe[h.pointerId]}function wt(){ze||(document.addEventListener(Y,$e,!0),document.addEventListener(me,ht,!0),document.addEventListener(re,bt,!0),document.addEventListener(ne,bt,!0),ze=!0)}function gt(h,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var S in Pe)m.touches.push(Pe[S]);m.changedTouches=[m],h(m)}}function Mt(h,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&Mn(m),gt(h,m)}function Bt(h){var m={},S,M;for(M in h)S=h[M],m[M]=S&&S.bind?S.bind(h):S;return h=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Hr=200;function wr(h,m){h.addEventListener("dblclick",m);var S=0,M;function G(ae){if(ae.detail!==1){M=ae.detail;return}if(!(ae.pointerType==="mouse"||ae.sourceCapabilities&&!ae.sourceCapabilities.firesTouchEvents)){var Me=Qa(ae);if(!(Me.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!Me.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var We=Date.now();We-S<=Hr?(M++,M===2&&m(Bt(ae))):M=1,S=We}}}return h.addEventListener("click",G),{dblclick:m,simDblclick:G}}function nn(h,m){h.removeEventListener("dblclick",m.dblclick),h.removeEventListener("click",m.simDblclick)}var Kn=El(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xn=El(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qi=Xn==="webkitTransition"||Xn==="OTransition"?Xn+"End":"transitionend";function Ci(h){return typeof h=="string"?document.getElementById(h):h}function Ar(h,m){var S=h.style[m]||h.currentStyle&&h.currentStyle[m];if((!S||S==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(h,null);S=M?M[m]:null}return S==="auto"?null:S}function Ut(h,m,S){var M=document.createElement(h);return M.className=m||"",S&&S.appendChild(M),M}function qr(h){var m=h.parentNode;m&&m.removeChild(h)}function ri(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function ar(h){var m=h.parentNode;m&&m.lastChild!==h&&m.appendChild(h)}function Sa(h){var m=h.parentNode;m&&m.firstChild!==h&&m.insertBefore(h,m.firstChild)}function Ea(h,m){if(h.classList!==void 0)return h.classList.contains(m);var S=ni(h);return S.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(S)}function yr(h,m){if(h.classList!==void 0)for(var S=T(m),M=0,G=S.length;M<G;M++)h.classList.add(S[M]);else if(!Ea(h,m)){var ae=ni(h);ea(h,(ae?ae+" ":"")+m)}}function Dn(h,m){h.classList!==void 0?h.classList.remove(m):ea(h,_((" "+ni(h)+" ").replace(" "+m+" "," ")))}function ea(h,m){h.className.baseVal===void 0?h.className=m:h.className.baseVal=m}function ni(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function un(h,m){"opacity"in h.style?h.style.opacity=m:"filter"in h.style&&eu(h,m)}function eu(h,m){var S=!1,M="DXImageTransform.Microsoft.Alpha";try{S=h.filters.item(M)}catch{if(m===1)return}m=Math.round(m*100),S?(S.Enabled=m!==100,S.Opacity=m):h.style.filter+=" progid:"+M+"(opacity="+m+")"}function El(h){for(var m=document.documentElement.style,S=0;S<h.length;S++)if(h[S]in m)return h[S];return!1}function Us(h,m,S){var M=m||new _e(0,0);h.style[Kn]=(Ye.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(S?" scale("+S+")":"")}function Kr(h,m){h._leaflet_pos=m,Ye.any3d?Us(h,m):(h.style.left=m.x+"px",h.style.top=m.y+"px")}function zs(h){return h._leaflet_pos||new _e(0,0)}var No,Ta,Co;if("onselectstart"in document)No=function(){Ct(window,"selectstart",Mn)},Ta=function(){dn(window,"selectstart",Mn)};else{var tl=El(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);No=function(){if(tl){var h=document.documentElement.style;Co=h[tl],h[tl]="none"}},Ta=function(){tl&&(document.documentElement.style[tl]=Co,Co=void 0)}}function tu(){Ct(window,"dragstart",Mn)}function Tl(){dn(window,"dragstart",Mn)}var rl,ru;function fa(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(Ba(),rl=h,ru=h.style.outlineStyle,h.style.outlineStyle="none",Ct(window,"keydown",Ba))}function Ba(){rl&&(rl.style.outlineStyle=ru,rl=void 0,ru=void 0,dn(window,"keydown",Ba))}function eo(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Mo(h){var m=h.getBoundingClientRect();return{x:m.width/h.offsetWidth||1,y:m.height/h.offsetHeight||1,boundingClientRect:m}}var nl={__proto__:null,TRANSFORM:Kn,TRANSITION:Xn,TRANSITION_END:Qi,get:Ci,getStyle:Ar,create:Ut,remove:qr,empty:ri,toFront:ar,toBack:Sa,hasClass:Ea,addClass:yr,removeClass:Dn,setClass:ea,getClass:ni,setOpacity:un,testProp:El,setTransform:Us,setPosition:Kr,getPosition:zs,get disableTextSelection(){return No},get enableTextSelection(){return Ta},disableImageDrag:tu,enableImageDrag:Tl,preventOutline:fa,restoreOutline:Ba,getSizedParentNode:eo,getScale:Mo};function Ct(h,m,S,M){if(m&&typeof m=="object")for(var G in m)Mi(h,G,m[G],S);else{m=T(m);for(var ae=0,Me=m.length;ae<Me;ae++)Mi(h,m[ae],S,M)}return this}var Xa="_leaflet_events";function dn(h,m,S,M){if(arguments.length===1)ju(h),delete h[Xa];else if(m&&typeof m=="object")for(var G in m)Al(h,G,m[G],S);else if(m=T(m),arguments.length===2)ju(h,function(We){return B(m,We)!==-1});else for(var ae=0,Me=m.length;ae<Me;ae++)Al(h,m[ae],S,M);return this}function ju(h,m){for(var S in h[Xa]){var M=S.split(/\d/)[0];(!m||m(M))&&Al(h,M,null,null,S)}}var Aa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mi(h,m,S,M){var G=m+c(S)+(M?"_"+c(M):"");if(h[Xa]&&h[Xa][G])return this;var ae=function(We){return S.call(M||h,We||window.event)},Me=ae;!Ye.touchNative&&Ye.pointer&&m.indexOf("touch")===0?ae=Be(h,m,ae):Ye.touch&&m==="dblclick"?ae=wr(h,ae):"addEventListener"in h?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?h.addEventListener(Aa[m]||m,ae,Ye.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(ae=function(We){We=We||window.event,xs(h,We)&&Me(We)},h.addEventListener(Aa[m],ae,!1)):h.addEventListener(m,Me,!1):h.attachEvent("on"+m,ae),h[Xa]=h[Xa]||{},h[Xa][G]=ae}function Al(h,m,S,M,G){G=G||m+c(S)+(M?"_"+c(M):"");var ae=h[Xa]&&h[Xa][G];if(!ae)return this;!Ye.touchNative&&Ye.pointer&&m.indexOf("touch")===0?Ue(h,m,ae):Ye.touch&&m==="dblclick"?nn(h,ae):"removeEventListener"in h?h.removeEventListener(Aa[m]||m,ae,!1):h.detachEvent("on"+m,ae),h[Xa][G]=null}function Ja(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function La(h){return Mi(h,"wheel",Ja),this}function Gs(h){return Ct(h,"mousedown touchstart dblclick contextmenu",Ja),h._leaflet_disable_click=!0,this}function Mn(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function to(h){return Mn(h),Ja(h),this}function Qa(h){if(h.composedPath)return h.composedPath();for(var m=[],S=h.target;S;)m.push(S),S=S.parentNode;return m}function Ll(h,m){if(!m)return new _e(h.clientX,h.clientY);var S=Mo(m),M=S.boundingClientRect;return new _e((h.clientX-M.left)/S.x-m.clientLeft,(h.clientY-M.top)/S.y-m.clientTop)}var nu=Ye.linux&&Ye.chrome?window.devicePixelRatio:Ye.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ki(h){return Ye.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/nu:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function xs(h,m){var S=m.relatedTarget;if(!S)return!0;try{for(;S&&S!==h;)S=S.parentNode}catch{return!1}return S!==h}var ws={__proto__:null,on:Ct,off:dn,stopPropagation:Ja,disableScrollPropagation:La,disableClickPropagation:Gs,preventDefault:Mn,stop:to,getPropagationPath:Qa,getMousePosition:Ll,getWheelDelta:ki,isExternalTarget:xs,addListener:Ct,removeListener:dn},ro=be.extend({run:function(h,m,S,M){this.stop(),this._el=h,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=zs(h),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=I(this._animate,this),this._step()},_step:function(h){var m=+new Date-this._startTime,S=this._duration*1e3;m<S?this._runFrame(this._easeOut(m/S),h):(this._runFrame(1),this._complete())},_runFrame:function(h,m){var S=this._startPos.add(this._offset.multiplyBy(h));m&&S._round(),Kr(this._el,S),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Br=be.extend({options:{crs:Tt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,m){m=b(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(se(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xn&&Ye.any3d&&!Ye.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ct(this._proxy,Qi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,m,S){if(m=m===void 0?this._zoom:this._limitZoom(m),h=this._limitCenter(se(h),m,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=i({animate:S.animate},S.zoom),S.pan=i({animate:S.animate,duration:S.duration},S.pan));var M=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,m,S.zoom):this._tryAnimatedPan(h,S.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(h,m,S.pan&&S.pan.noMoveStart),this},setZoom:function(h,m){return this._loaded?this.setView(this.getCenter(),h,{zoom:m}):(this._zoom=h,this)},zoomIn:function(h,m){return h=h||(Ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,m)},zoomOut:function(h,m){return h=h||(Ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,m)},setZoomAround:function(h,m,S){var M=this.getZoomScale(m),G=this.getSize().divideBy(2),ae=h instanceof _e?h:this.latLngToContainerPoint(h),Me=ae.subtract(G).multiplyBy(1-1/M),We=this.containerPointToLatLng(G.add(Me));return this.setView(We,m,{zoom:S})},_getBoundsCenterZoom:function(h,m){m=m||{},h=h.getBounds?h.getBounds():q(h);var S=Ne(m.paddingTopLeft||m.padding||[0,0]),M=Ne(m.paddingBottomRight||m.padding||[0,0]),G=this.getBoundsZoom(h,!1,S.add(M));if(G=typeof m.maxZoom=="number"?Math.min(m.maxZoom,G):G,G===1/0)return{center:h.getCenter(),zoom:G};var ae=M.subtract(S).divideBy(2),Me=this.project(h.getSouthWest(),G),We=this.project(h.getNorthEast(),G),tt=this.unproject(Me.add(We).divideBy(2).add(ae),G);return{center:tt,zoom:G}},fitBounds:function(h,m){if(h=q(h),!h.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(h,m);return this.setView(S.center,S.zoom,m)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,m){return this.setView(h,this._zoom,{pan:m})},panBy:function(h,m){if(h=Ne(h).round(),m=m||{},!h.x&&!h.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ro,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){yr(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,S,m.duration||.25,m.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,m,S){if(S=S||{},S.animate===!1||!Ye.any3d)return this.setView(h,m,S);this._stop();var M=this.project(this.getCenter()),G=this.project(h),ae=this.getSize(),Me=this._zoom;h=se(h),m=m===void 0?Me:m;var We=Math.max(ae.x,ae.y),tt=We*this.getZoomScale(Me,m),pt=G.distanceTo(M)||1,kt=1.42,tr=kt*kt;function Ur(bn){var bi=bn?-1:1,Ol=bn?tt:We,ch=tt*tt-We*We+bi*tr*tr*pt*pt,fu=2*Ol*tr*pt,du=ch/fu,zo=Math.sqrt(du*du+1)-du,ho=zo<1e-9?-18:Math.log(zo);return ho}function aa(bn){return(Math.exp(bn)-Math.exp(-bn))/2}function fi(bn){return(Math.exp(bn)+Math.exp(-bn))/2}function os(bn){return aa(bn)/fi(bn)}var pn=Ur(0);function mn(bn){return We*(fi(pn)/fi(pn+kt*bn))}function Zr(bn){return We*(fi(pn)*os(pn+kt*bn)-aa(pn))/tr}function Pa(bn){return 1-Math.pow(1-bn,1.5)}var si=Date.now(),Ns=(Ur(1)-pn)/kt,ul=S.duration?1e3*S.duration:1e3*Ns*.8;function xc(){var bn=(Date.now()-si)/ul,bi=Pa(bn)*Ns;bn<=1?(this._flyToFrame=I(xc,this),this._move(this.unproject(M.add(G.subtract(M).multiplyBy(Zr(bi)/pt)),Me),this.getScaleZoom(We/mn(bi),Me),{flyTo:!0})):this._move(h,m)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),xc.call(this),this},flyToBounds:function(h,m){var S=this._getBoundsCenterZoom(h,m);return this.flyTo(S.center,S.zoom,m)},setMaxBounds:function(h){return h=q(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var m=this.options.minZoom;return this.options.minZoom=h,this._loaded&&m!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var m=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&m!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,m){this._enforcingBounds=!0;var S=this.getCenter(),M=this._limitCenter(S,this._zoom,q(h));return S.equals(M)||this.panTo(M,m),this._enforcingBounds=!1,this},panInside:function(h,m){m=m||{};var S=Ne(m.paddingTopLeft||m.padding||[0,0]),M=Ne(m.paddingBottomRight||m.padding||[0,0]),G=this.project(this.getCenter()),ae=this.project(h),Me=this.getPixelBounds(),We=O([Me.min.add(S),Me.max.subtract(M)]),tt=We.getSize();if(!We.contains(ae)){this._enforcingBounds=!0;var pt=ae.subtract(We.getCenter()),kt=We.extend(ae).getSize().subtract(tt);G.x+=pt.x<0?-kt.x:kt.x,G.y+=pt.y<0?-kt.y:kt.y,this.panTo(this.unproject(G),m),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),M=m.divideBy(2).round(),G=S.divideBy(2).round(),ae=M.subtract(G);return!ae.x&&!ae.y?this:(h.animate&&h.pan?this.panBy(ae):(h.pan&&this._rawPanBy(ae),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=s(this._handleGeolocationResponse,this),S=s(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,S,h):navigator.geolocation.getCurrentPosition(m,S,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var m=h.code,S=h.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var m=h.coords.latitude,S=h.coords.longitude,M=new Z(m,S),G=M.toBounds(h.coords.accuracy*2),ae=this._locateOptions;if(ae.setView){var Me=this.getBoundsZoom(G);this.setView(M,ae.maxZoom?Math.min(Me,ae.maxZoom):Me)}var We={latlng:M,bounds:G,timestamp:h.timestamp};for(var tt in h.coords)typeof h.coords[tt]=="number"&&(We[tt]=h.coords[tt]);this.fire("locationfound",We)}},addHandler:function(h,m){if(!m)return this;var S=this[h]=new m(this);return this._handlers.push(S),this.options[h]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)qr(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,m){var S="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),M=Ut("div",S,m||this._mapPane);return h&&(this._panes[h]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),m=this.unproject(h.getBottomLeft()),S=this.unproject(h.getTopRight());return new H(m,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,m,S){h=q(h),S=Ne(S||[0,0]);var M=this.getZoom()||0,G=this.getMinZoom(),ae=this.getMaxZoom(),Me=h.getNorthWest(),We=h.getSouthEast(),tt=this.getSize().subtract(S),pt=O(this.project(We,M),this.project(Me,M)).getSize(),kt=Ye.any3d?this.options.zoomSnap:1,tr=tt.x/pt.x,Ur=tt.y/pt.y,aa=m?Math.max(tr,Ur):Math.min(tr,Ur);return M=this.getScaleZoom(aa,M),kt&&(M=Math.round(M/(kt/100))*(kt/100),M=m?Math.ceil(M/kt)*kt:Math.floor(M/kt)*kt),Math.max(G,Math.min(ae,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new _e(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,m){var S=this._getTopLeftPoint(h,m);return new Q(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,m){var S=this.options.crs;return m=m===void 0?this._zoom:m,S.scale(h)/S.scale(m)},getScaleZoom:function(h,m){var S=this.options.crs;m=m===void 0?this._zoom:m;var M=S.zoom(h*S.scale(m));return isNaN(M)?1/0:M},project:function(h,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(se(h),m)},unproject:function(h,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(Ne(h),m)},layerPointToLatLng:function(h){var m=Ne(h).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(h){var m=this.project(se(h))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(se(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(q(h))},distance:function(h,m){return this.options.crs.distance(se(h),se(m))},containerPointToLayerPoint:function(h){return Ne(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return Ne(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var m=this.containerPointToLayerPoint(Ne(h));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(h)))},mouseEventToContainerPoint:function(h){return Ll(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var m=this._container=Ci(h);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ct(m,"scroll",this._onScroll,this),this._containerId=c(m)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ye.any3d,yr(h,"leaflet-container"+(Ye.touch?" leaflet-touch":"")+(Ye.retina?" leaflet-retina":"")+(Ye.ielt9?" leaflet-oldie":"")+(Ye.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=Ar(h,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Kr(this._mapPane,new _e(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yr(h.markerPane,"leaflet-zoom-hide"),yr(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,m,S){Kr(this._mapPane,new _e(0,0));var M=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var G=this._zoom!==m;this._moveStart(G,S)._move(h,m)._moveEnd(G),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(h,m){return h&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(h,m,S,M){m===void 0&&(m=this._zoom);var G=this._zoom!==m;return this._zoom=m,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),M?S&&S.pinch&&this.fire("zoom",S):((G||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){Kr(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[c(this._container)]=this;var m=h?dn:Ct;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),Ye.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=I(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,m){for(var S=[],M,G=m==="mouseout"||m==="mouseover",ae=h.target||h.srcElement,Me=!1;ae;){if(M=this._targets[c(ae)],M&&(m==="click"||m==="preclick")&&this._draggableMoved(M)){Me=!0;break}if(M&&M.listens(m,!0)&&(G&&!xs(ae,h)||(S.push(M),G))||ae===this._container)break;ae=ae.parentNode}return!S.length&&!Me&&!G&&this.listens(m,!0)&&(S=[this]),S},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var m=h.target||h.srcElement;if(!(!this._loaded||m._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(m))){var S=h.type;S==="mousedown"&&fa(m),this._fireDOMEvent(h,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,m,S){if(h.type==="click"){var M=i({},h);M.type="preclick",this._fireDOMEvent(M,M.type,S)}var G=this._findEventTargets(h,m);if(S){for(var ae=[],Me=0;Me<S.length;Me++)S[Me].listens(m,!0)&&ae.push(S[Me]);G=ae.concat(G)}if(G.length){m==="contextmenu"&&Mn(h);var We=G[0],tt={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var pt=We.getLatLng&&(!We._radius||We._radius<=10);tt.containerPoint=pt?this.latLngToContainerPoint(We.getLatLng()):this.mouseEventToContainerPoint(h),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=pt?We.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(Me=0;Me<G.length;Me++)if(G[Me].fire(m,tt,!0),tt.originalEvent._stopped||G[Me].options.bubblingMouseEvents===!1&&B(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,m=this._handlers.length;h<m;h++)this._handlers[h].disable()},whenReady:function(h,m){return this._loaded?h.call(m||this,{target:this}):this.on("load",h,m),this},_getMapPanePos:function(){return zs(this._mapPane)||new _e(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,m){var S=h&&m!==void 0?this._getNewPixelOrigin(h,m):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,m){var S=this.getSize()._divideBy(2);return this.project(h,m)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,m,S){var M=this._getNewPixelOrigin(S,m);return this.project(h,m)._subtract(M)},_latLngBoundsToNewLayerBounds:function(h,m,S){var M=this._getNewPixelOrigin(S,m);return O([this.project(h.getSouthWest(),m)._subtract(M),this.project(h.getNorthWest(),m)._subtract(M),this.project(h.getSouthEast(),m)._subtract(M),this.project(h.getNorthEast(),m)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,m,S){if(!S)return h;var M=this.project(h,m),G=this.getSize().divideBy(2),ae=new Q(M.subtract(G),M.add(G)),Me=this._getBoundsOffset(ae,S,m);return Math.abs(Me.x)<=1&&Math.abs(Me.y)<=1?h:this.unproject(M.add(Me),m)},_limitOffset:function(h,m){if(!m)return h;var S=this.getPixelBounds(),M=new Q(S.min.add(h),S.max.add(h));return h.add(this._getBoundsOffset(M,m))},_getBoundsOffset:function(h,m,S){var M=O(this.project(m.getNorthEast(),S),this.project(m.getSouthWest(),S)),G=M.min.subtract(h.min),ae=M.max.subtract(h.max),Me=this._rebound(G.x,-ae.x),We=this._rebound(G.y,-ae.y);return new _e(Me,We)},_rebound:function(h,m){return h+m>0?Math.round(h-m)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(m))},_limitZoom:function(h){var m=this.getMinZoom(),S=this.getMaxZoom(),M=Ye.any3d?this.options.zoomSnap:1;return M&&(h=Math.round(h/M)*M),Math.max(m,Math.min(S,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Dn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,m){var S=this._getCenterOffset(h)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,m),!0)},_createAnimProxy:function(){var h=this._proxy=Ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(m){var S=Kn,M=this._proxy.style[S];Us(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),M===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),m=this.getZoom();Us(this._proxy,this.project(h,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,m,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(m),G=this._getCenterOffset(h)._divideBy(1-1/M);return S.animate!==!0&&!this.getSize().contains(G)?!1:(I(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(h,m,!0)},this),!0)},_animateZoom:function(h,m,S,M){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=m,yr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:m,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Dn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Nl(h,m){return new Br(h,m)}var Pi=pe.extend({options:{position:"topright"},initialize:function(h){b(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var m=this._map;return m&&m.removeControl(this),this.options.position=h,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var m=this._container=this.onAdd(h),S=this.getPosition(),M=h._controlCorners[S];return yr(m,"leaflet-control"),S.indexOf("bottom")!==-1?M.insertBefore(m,M.firstChild):M.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),es=function(h){return new Pi(h)};Br.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},m="leaflet-",S=this._controlContainer=Ut("div",m+"control-container",this._container);function M(G,ae){var Me=m+G+" "+m+ae;h[G+ae]=Ut("div",Me,S)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)qr(this._controlCorners[h]);qr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var il=Pi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,m,S,M){return S<M?-1:M<S?1:0}},initialize:function(h,m,S){b(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in h)this._addLayer(h[M],M);for(M in m)this._addLayer(m[M],M,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Pi.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,m){return this._addLayer(h,m),this._map?this._update():this},addOverlay:function(h,m){return this._addLayer(h,m,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var m=this._getLayer(c(h));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){yr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(yr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Dn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Dn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",m=this._container=Ut("div",h),S=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Gs(m),La(m);var M=this._section=Ut("section",h+"-list");S&&(this._map.on("click",this.collapse,this),Ct(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var G=this._layersLink=Ut("a",h+"-toggle",m);G.href="#",G.title="Layers",G.setAttribute("role","button"),Ct(G,{keydown:function(ae){ae.keyCode===13&&this._expandSafely()},click:function(ae){Mn(ae),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=Ut("div",h+"-base",M),this._separator=Ut("div",h+"-separator",M),this._overlaysList=Ut("div",h+"-overlays",M),m.appendChild(M)},_getLayer:function(h){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&c(this._layers[m].layer)===h)return this._layers[m]},_addLayer:function(h,m,S){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:m,overlay:S}),this.options.sortLayers&&this._layers.sort(s(function(M,G){return this.options.sortFunction(M.layer,G.layer,M.name,G.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ri(this._baseLayersList),ri(this._overlaysList),this._layerControlInputs=[];var h,m,S,M,G=0;for(S=0;S<this._layers.length;S++)M=this._layers[S],this._addItem(M),m=m||M.overlay,h=h||!M.overlay,G+=M.overlay?0:1;return this.options.hideSingleBase&&(h=h&&G>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=m&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var m=this._getLayer(c(h.target)),S=m.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;S&&this._map.fire(S,m)},_createRadioElement:function(h,m){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(m?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=S,M.firstChild},_addItem:function(h){var m=document.createElement("label"),S=this._map.hasLayer(h.layer),M;h.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=S):M=this._createRadioElement("leaflet-base-layers_"+c(this),S),this._layerControlInputs.push(M),M.layerId=c(h.layer),Ct(M,"click",this._onInputClick,this);var G=document.createElement("span");G.innerHTML=" "+h.name;var ae=document.createElement("span");m.appendChild(ae),ae.appendChild(M),ae.appendChild(G);var Me=h.overlay?this._overlaysList:this._baseLayersList;return Me.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,m,S,M=[],G=[];this._handlingClick=!0;for(var ae=h.length-1;ae>=0;ae--)m=h[ae],S=this._getLayer(m.layerId).layer,m.checked?M.push(S):m.checked||G.push(S);for(ae=0;ae<G.length;ae++)this._map.hasLayer(G[ae])&&this._map.removeLayer(G[ae]);for(ae=0;ae<M.length;ae++)this._map.hasLayer(M[ae])||this._map.addLayer(M[ae]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,m,S,M=this._map.getZoom(),G=h.length-1;G>=0;G--)m=h[G],S=this._getLayer(m.layerId).layer,m.disabled=S.options.minZoom!==void 0&&M<S.options.minZoom||S.options.maxZoom!==void 0&&M>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Ct(h,"click",Mn),this.expand();var m=this;setTimeout(function(){dn(h,"click",Mn),m._preventClick=!1})}}),Iu=function(h,m,S){return new il(h,m,S)},Hs=Pi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var m="leaflet-control-zoom",S=Ut("div",m+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,m+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,m+"-out",S,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,m,S,M,G){var ae=Ut("a",S,M);return ae.innerHTML=h,ae.href="#",ae.title=m,ae.setAttribute("role","button"),ae.setAttribute("aria-label",m),Gs(ae),Ct(ae,"click",to),Ct(ae,"click",G,this),Ct(ae,"click",this._refocusOnMap,this),ae},_updateDisabled:function(){var h=this._map,m="leaflet-disabled";Dn(this._zoomInButton,m),Dn(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(yr(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(yr(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});Br.mergeOptions({zoomControl:!0}),Br.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hs,this.addControl(this.zoomControl))});var ko=function(h){return new Hs(h)},Fu=Pi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var m="leaflet-control-scale",S=Ut("div",m),M=this.options;return this._addScales(M,m+"-line",S),h.on(M.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),S},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,m,S){h.metric&&(this._mScale=Ut("div",m,S)),h.imperial&&(this._iScale=Ut("div",m,S))},_update:function(){var h=this._map,m=h.getSize().y/2,S=h.distance(h.containerPointToLatLng([0,m]),h.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(S)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var m=this._getRoundNum(h),S=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,S,m/h)},_updateImperial:function(h){var m=h*3.2808399,S,M,G;m>5280?(S=m/5280,M=this._getRoundNum(S),this._updateScale(this._iScale,M+" mi",M/S)):(G=this._getRoundNum(m),this._updateScale(this._iScale,G+" ft",G/m))},_updateScale:function(h,m,S){h.style.width=Math.round(this.options.maxWidth*S)+"px",h.innerHTML=m},_getRoundNum:function(h){var m=Math.pow(10,(Math.floor(h)+"").length-1),S=h/m;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,m*S}}),Po=function(h){return new Fu(h)},vc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',k=Pi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ye.inlineSvg?vc+" ":"")+"Leaflet</a>"},initialize:function(h){b(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Ut("div","leaflet-control-attribution"),Gs(this._container);for(var m in h._layers)h._layers[m].getAttribution&&this.addAttribution(h._layers[m].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var m in this._attributions)this._attributions[m]&&h.push(m);var S=[];this.options.prefix&&S.push(this.options.prefix),h.length&&S.push(h.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Br.mergeOptions({attributionControl:!0}),Br.addInitHook(function(){this.options.attributionControl&&new k().addTo(this)});var J=function(h){return new k(h)};Pi.Layers=il,Pi.Zoom=Hs,Pi.Scale=Fu,Pi.Attribution=k,es.layers=Iu,es.zoom=ko,es.scale=Po,es.attribution=J;var Se=pe.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Se.addTo=function(h,m){return h.addHandler(m,this),this};var De={Events:oe},Ve=Ye.touch?"touchstart mousedown":"mousedown",at=be.extend({options:{clickTolerance:3},initialize:function(h,m,S,M){b(this,M),this._element=h,this._dragStartTarget=m||h,this._preventOutline=S},enable:function(){this._enabled||(Ct(this._dragStartTarget,Ve,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(at._dragging===this&&this.finishDrag(!0),dn(this._dragStartTarget,Ve,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Ea(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){at._dragging===this&&this.finishDrag();return}if(!(at._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(at._dragging=this,this._preventOutline&&fa(this._element),tu(),No(),!this._moving)){this.fire("down");var m=h.touches?h.touches[0]:h,S=eo(this._element);this._startPoint=new _e(m.clientX,m.clientY),this._startPos=zs(this._element),this._parentScale=Mo(S);var M=h.type==="mousedown";Ct(document,M?"mousemove":"touchmove",this._onMove,this),Ct(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var m=h.touches&&h.touches.length===1?h.touches[0]:h,S=new _e(m.clientX,m.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,Mn(h),this._moved||(this.fire("dragstart"),this._moved=!0,yr(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),Kr(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Dn(document.body,"leaflet-dragging"),this._lastTarget&&(Dn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dn(document,"mousemove touchmove",this._onMove,this),dn(document,"mouseup touchend touchcancel",this._onUp,this),Tl(),Ta();var m=this._moved&&this._moving;this._moving=!1,at._dragging=!1,m&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function St(h,m,S){var M,G=[1,4,2,8],ae,Me,We,tt,pt,kt,tr,Ur;for(ae=0,kt=h.length;ae<kt;ae++)h[ae]._code=ta(h[ae],m);for(We=0;We<4;We++){for(tr=G[We],M=[],ae=0,kt=h.length,Me=kt-1;ae<kt;Me=ae++)tt=h[ae],pt=h[Me],tt._code&tr?pt._code&tr||(Ur=bs(pt,tt,tr,m,S),Ur._code=ta(Ur,m),M.push(Ur)):(pt._code&tr&&(Ur=bs(pt,tt,tr,m,S),Ur._code=ta(Ur,m),M.push(Ur)),M.push(tt));h=M}return h}function $t(h,m){var S,M,G,ae,Me,We,tt,pt,kt;if(!h||h.length===0)throw new Error("latlngs not passed");ra(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var tr=se([0,0]),Ur=q(h),aa=Ur.getNorthWest().distanceTo(Ur.getSouthWest())*Ur.getNorthEast().distanceTo(Ur.getNorthWest());aa<1700&&(tr=er(h));var fi=h.length,os=[];for(S=0;S<fi;S++){var pn=se(h[S]);os.push(m.project(se([pn.lat-tr.lat,pn.lng-tr.lng])))}for(We=tt=pt=0,S=0,M=fi-1;S<fi;M=S++)G=os[S],ae=os[M],Me=G.y*ae.x-ae.y*G.x,tt+=(G.x+ae.x)*Me,pt+=(G.y+ae.y)*Me,We+=Me*3;We===0?kt=os[0]:kt=[tt/We,pt/We];var mn=m.unproject(Ne(kt));return se([mn.lat+tr.lat,mn.lng+tr.lng])}function er(h){for(var m=0,S=0,M=0,G=0;G<h.length;G++){var ae=se(h[G]);m+=ae.lat,S+=ae.lng,M++}return se([m/M,S/M])}var br={__proto__:null,clipPolygon:St,polygonCenter:$t,centroid:er};function kr(h,m){if(!m||!h.length)return h.slice();var S=m*m;return h=Oi(h,S),h=ui(h,S),h}function Xr(h,m,S){return Math.sqrt(Ro(h,m,S,!0))}function Jn(h,m,S){return Ro(h,m,S)}function ui(h,m){var S=h.length,M=typeof Uint8Array<"u"?Uint8Array:Array,G=new M(S);G[0]=G[S-1]=1,wn(h,G,m,0,S-1);var ae,Me=[];for(ae=0;ae<S;ae++)G[ae]&&Me.push(h[ae]);return Me}function wn(h,m,S,M,G){var ae=0,Me,We,tt;for(We=M+1;We<=G-1;We++)tt=Ro(h[We],h[M],h[G],!0),tt>ae&&(Me=We,ae=tt);ae>S&&(m[Me]=1,wn(h,m,S,M,Me),wn(h,m,S,Me,G))}function Oi(h,m){for(var S=[h[0]],M=1,G=0,ae=h.length;M<ae;M++)Oo(h[M],h[G])>m&&(S.push(h[M]),G=M);return G<ae-1&&S.push(h[ae-1]),S}var ci;function Ii(h,m,S,M,G){var ae=M?ci:ta(h,S),Me=ta(m,S),We,tt,pt;for(ci=Me;;){if(!(ae|Me))return[h,m];if(ae&Me)return!1;We=ae||Me,tt=bs(h,m,We,S,G),pt=ta(tt,S),We===ae?(h=tt,ae=pt):(m=tt,Me=pt)}}function bs(h,m,S,M,G){var ae=m.x-h.x,Me=m.y-h.y,We=M.min,tt=M.max,pt,kt;return S&8?(pt=h.x+ae*(tt.y-h.y)/Me,kt=tt.y):S&4?(pt=h.x+ae*(We.y-h.y)/Me,kt=We.y):S&2?(pt=tt.x,kt=h.y+Me*(tt.x-h.x)/ae):S&1&&(pt=We.x,kt=h.y+Me*(We.x-h.x)/ae),new _e(pt,kt,G)}function ta(h,m){var S=0;return h.x<m.min.x?S|=1:h.x>m.max.x&&(S|=2),h.y<m.min.y?S|=4:h.y>m.max.y&&(S|=8),S}function Oo(h,m){var S=m.x-h.x,M=m.y-h.y;return S*S+M*M}function Ro(h,m,S,M){var G=m.x,ae=m.y,Me=S.x-G,We=S.y-ae,tt=Me*Me+We*We,pt;return tt>0&&(pt=((h.x-G)*Me+(h.y-ae)*We)/tt,pt>1?(G=S.x,ae=S.y):pt>0&&(G+=Me*pt,ae+=We*pt)),Me=h.x-G,We=h.y-ae,M?Me*Me+We*We:new _e(G,ae)}function ra(h){return!R(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function qs(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ra(h)}function Ss(h,m){var S,M,G,ae,Me,We,tt,pt;if(!h||h.length===0)throw new Error("latlngs not passed");ra(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var kt=se([0,0]),tr=q(h),Ur=tr.getNorthWest().distanceTo(tr.getSouthWest())*tr.getNorthEast().distanceTo(tr.getNorthWest());Ur<1700&&(kt=er(h));var aa=h.length,fi=[];for(S=0;S<aa;S++){var os=se(h[S]);fi.push(m.project(se([os.lat-kt.lat,os.lng-kt.lng])))}for(S=0,M=0;S<aa-1;S++)M+=fi[S].distanceTo(fi[S+1])/2;if(M===0)pt=fi[0];else for(S=0,ae=0;S<aa-1;S++)if(Me=fi[S],We=fi[S+1],G=Me.distanceTo(We),ae+=G,ae>M){tt=(ae-M)/G,pt=[We.x-tt*(We.x-Me.x),We.y-tt*(We.y-Me.y)];break}var pn=m.unproject(Ne(pt));return se([pn.lat+kt.lat,pn.lng+kt.lng])}var Cl={__proto__:null,simplify:kr,pointToSegmentDistance:Xr,closestPointOnSegment:Jn,clipSegment:Ii,_getEdgeIntersection:bs,_getBitCode:ta,_sqClosestPointOnSegment:Ro,isFlat:ra,_flat:qs,polylineCenter:Ss},Vs={project:function(h){return new _e(h.lng,h.lat)},unproject:function(h){return new Z(h.y,h.x)},bounds:new Q([-180,-90],[180,90])},yi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var m=Math.PI/180,S=this.R,M=h.lat*m,G=this.R_MINOR/S,ae=Math.sqrt(1-G*G),Me=ae*Math.sin(M),We=Math.tan(Math.PI/4-M/2)/Math.pow((1-Me)/(1+Me),ae/2);return M=-S*Math.log(Math.max(We,1e-10)),new _e(h.lng*m*S,M)},unproject:function(h){for(var m=180/Math.PI,S=this.R,M=this.R_MINOR/S,G=Math.sqrt(1-M*M),ae=Math.exp(-h.y/S),Me=Math.PI/2-2*Math.atan(ae),We=0,tt=.1,pt;We<15&&Math.abs(tt)>1e-7;We++)pt=G*Math.sin(Me),pt=Math.pow((1-pt)/(1+pt),G/2),tt=Math.PI/2-2*Math.atan(ae*pt)-Me,Me+=tt;return new Z(Me*m,h.x*m/S)}},al={__proto__:null,LonLat:Vs,Mercator:yi,SphericalMercator:Ie},sl=i({},Oe,{code:"EPSG:3395",projection:yi,transformation:(function(){var h=.5/(Math.PI*yi.R);return it(h,.5,-h,.5)})()}),Ml=i({},Oe,{code:"EPSG:4326",projection:Vs,transformation:it(1/180,1,-1/180,.5)}),no=i({},Ae,{projection:Vs,transformation:it(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,m){var S=m.lng-h.lng,M=m.lat-h.lat;return Math.sqrt(S*S+M*M)},infinite:!0});Ae.Earth=Oe,Ae.EPSG3395=sl,Ae.EPSG3857=Tt,Ae.EPSG900913=Nt,Ae.EPSG4326=Ml,Ae.Simple=no;var jn=be.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[c(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[c(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var m=h.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var S=this.getEvents();m.on(S,this),this.once("remove",function(){m.off(S,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});Br.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var m=c(h);return this._layers[m]?this:(this._layers[m]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var m=c(h);return this._layers[m]?(this._loaded&&h.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return c(h)in this._layers},eachLayer:function(h,m){for(var S in this._layers)h.call(m,this._layers[S]);return this},_addLayers:function(h){h=h?R(h)?h:[h]:[];for(var m=0,S=h.length;m<S;m++)this.addLayer(h[m])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[c(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var m=c(h);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,m=-1/0,S=this._getZoomSpan();for(var M in this._zoomBoundLayers){var G=this._zoomBoundLayers[M].options;h=G.minZoom===void 0?h:Math.min(h,G.minZoom),m=G.maxZoom===void 0?m:Math.max(m,G.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=h===1/0?void 0:h,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ua=jn.extend({initialize:function(h,m){b(this,m),this._layers={};var S,M;if(h)for(S=0,M=h.length;S<M;S++)this.addLayer(h[S])},addLayer:function(h){var m=this.getLayerId(h);return this._layers[m]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var m=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(h){var m=typeof h=="number"?h:this.getLayerId(h);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var m=Array.prototype.slice.call(arguments,1),S,M;for(S in this._layers)M=this._layers[S],M[h]&&M[h].apply(M,m);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,m){for(var S in this._layers)h.call(m,this._layers[S]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return c(h)}}),iu=function(h,m){return new Ua(h,m)},ts=Ua.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),Ua.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),Ua.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new H;for(var m in this._layers){var S=this._layers[m];h.extend(S.getBounds?S.getBounds():S.getLatLng())}return h}}),rs=function(h,m){return new ts(h,m)},da=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){b(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,m){var S=this._getIconUrl(h);if(!S){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(S,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(M,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(h,m){var S=this.options,M=S[m+"Size"];typeof M=="number"&&(M=[M,M]);var G=Ne(M),ae=Ne(m==="shadow"&&S.shadowAnchor||S.iconAnchor||G&&G.divideBy(2,!0));h.className="leaflet-marker-"+m+" "+(S.className||""),ae&&(h.style.marginLeft=-ae.x+"px",h.style.marginTop=-ae.y+"px"),G&&(h.style.width=G.x+"px",h.style.height=G.y+"px")},_createImg:function(h,m){return m=m||document.createElement("img"),m.src=h,m},_getIconUrl:function(h){return Ye.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function Do(h){return new da(h)}var jo=da.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof jo.imagePath!="string"&&(jo.imagePath=this._detectIconPath()),(this.options.imagePath||jo.imagePath)+da.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var m=function(S,M,G){var ae=M.exec(S);return ae&&ae[G]};return h=m(h,/^url\((['"])?(.+)\1\)$/,2),h&&m(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Ut("div","leaflet-default-icon-path",document.body),m=Ar(h,"background-image")||Ar(h,"backgroundImage");if(document.body.removeChild(h),m=this._stripUrl(m),m)return m;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),Es=Se.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new at(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yr(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Dn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var m=this._marker,S=m._map,M=this._marker.options.autoPanSpeed,G=this._marker.options.autoPanPadding,ae=zs(m._icon),Me=S.getPixelBounds(),We=S.getPixelOrigin(),tt=O(Me.min._subtract(We).add(G),Me.max._subtract(We).subtract(G));if(!tt.contains(ae)){var pt=Ne((Math.max(tt.max.x,ae.x)-tt.max.x)/(Me.max.x-tt.max.x)-(Math.min(tt.min.x,ae.x)-tt.min.x)/(Me.min.x-tt.min.x),(Math.max(tt.max.y,ae.y)-tt.max.y)/(Me.max.y-tt.max.y)-(Math.min(tt.min.y,ae.y)-tt.min.y)/(Me.min.y-tt.min.y)).multiplyBy(M);S.panBy(pt,{animate:!1}),this._draggable._newPos._add(pt),this._draggable._startPos._add(pt),Kr(m._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=I(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=I(this._adjustPan.bind(this,h)))},_onDrag:function(h){var m=this._marker,S=m._shadow,M=zs(m._icon),G=m._map.layerPointToLatLng(M);S&&Kr(S,M),m._latlng=G,h.latlng=G,h.oldLatLng=this._oldLatLng,m.fire("move",h).fire("drag",h)},_onDragEnd:function(h){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),$s=jn.extend({options:{icon:new jo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,m){b(this,m),this._latlng=se(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var m=this._latlng;return this._latlng=se(h),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=h.icon.createIcon(this._icon),M=!1;S!==this._icon&&(this._icon&&this._removeIcon(),M=!0,h.title&&(S.title=h.title),S.tagName==="IMG"&&(S.alt=h.alt||"")),yr(S,m),h.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(S,"focus",this._panOnFocus,this);var G=h.icon.createShadow(this._shadow),ae=!1;G!==this._shadow&&(this._removeShadow(),ae=!0),G&&(yr(G,m),G.alt=""),this._shadow=G,h.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),G&&ae&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dn(this._icon,"focus",this._panOnFocus,this),qr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qr(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&Kr(this._icon,h),this._shadow&&Kr(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var m=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(yr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Es)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Es(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&un(this._icon,h),this._shadow&&un(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var m=this.options.icon.options,S=m.iconSize?Ne(m.iconSize):Ne(0,0),M=m.iconAnchor?Ne(m.iconAnchor):Ne(0,0);h.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:S.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function za(h,m){return new $s(h,m)}var ii=jn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return b(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ns=ii.extend({options:{fill:!0,radius:10},initialize:function(h,m){b(this,m),this._latlng=se(h),this._radius=this.options.radius},setLatLng:function(h){var m=this._latlng;return this._latlng=se(h),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var m=h&&h.radius||this._radius;return ii.prototype.setStyle.call(this,h),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,m=this._radiusY||h,S=this._clickTolerance(),M=[h+S,m+S];this._pxBounds=new Q(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function io(h,m){return new ns(h,m)}var Ws=ns.extend({initialize:function(h,m,S){if(typeof m=="number"&&(m=i({},S,{radius:m})),b(this,m),this._latlng=se(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new H(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:ii.prototype.setStyle,_project:function(){var h=this._latlng.lng,m=this._latlng.lat,S=this._map,M=S.options.crs;if(M.distance===Oe.distance){var G=Math.PI/180,ae=this._mRadius/Oe.R/G,Me=S.project([m+ae,h]),We=S.project([m-ae,h]),tt=Me.add(We).divideBy(2),pt=S.unproject(tt).lat,kt=Math.acos((Math.cos(ae*G)-Math.sin(m*G)*Math.sin(pt*G))/(Math.cos(m*G)*Math.cos(pt*G)))/G;(isNaN(kt)||kt===0)&&(kt=ae/Math.cos(Math.PI/180*m)),this._point=tt.subtract(S.getPixelOrigin()),this._radius=isNaN(kt)?0:tt.x-S.project([pt,h-kt]).x,this._radiusY=tt.y-Me.y}else{var tr=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(tr).x}this._updateBounds()}});function au(h,m,S){return new Ws(h,m,S)}var Ga=ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,m){b(this,m),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var m=1/0,S=null,M=Ro,G,ae,Me=0,We=this._parts.length;Me<We;Me++)for(var tt=this._parts[Me],pt=1,kt=tt.length;pt<kt;pt++){G=tt[pt-1],ae=tt[pt];var tr=M(h,G,ae,!0);tr<m&&(m=tr,S=M(h,G,ae))}return S&&(S.distance=Math.sqrt(m)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ss(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,m){return m=m||this._defaultShape(),h=se(h),m.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new H,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return ra(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var m=[],S=ra(h),M=0,G=h.length;M<G;M++)S?(m[M]=se(h[M]),this._bounds.extend(m[M])):m[M]=this._convertLatLngs(h[M]);return m},_project:function(){var h=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),m=new _e(h,h);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(h,m,S){var M=h[0]instanceof Z,G=h.length,ae,Me;if(M){for(Me=[],ae=0;ae<G;ae++)Me[ae]=this._map.latLngToLayerPoint(h[ae]),S.extend(Me[ae]);m.push(Me)}else for(ae=0;ae<G;ae++)this._projectLatlngs(h[ae],m,S)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,S,M,G,ae,Me,We,tt;for(S=0,G=0,ae=this._rings.length;S<ae;S++)for(tt=this._rings[S],M=0,Me=tt.length;M<Me-1;M++)We=Ii(tt[M],tt[M+1],h,M,!0),We&&(m[G]=m[G]||[],m[G].push(We[0]),(We[1]!==tt[M+1]||M===Me-2)&&(m[G].push(We[1]),G++))}},_simplifyPoints:function(){for(var h=this._parts,m=this.options.smoothFactor,S=0,M=h.length;S<M;S++)h[S]=kr(h[S],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,m){var S,M,G,ae,Me,We,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(S=0,ae=this._parts.length;S<ae;S++)for(We=this._parts[S],M=0,Me=We.length,G=Me-1;M<Me;G=M++)if(!(!m&&M===0)&&Xr(h,We[G],We[M])<=tt)return!0;return!1}});function hi(h,m){return new Ga(h,m)}Ga._flat=qs;var Io=Ga.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $t(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var m=Ga.prototype._convertLatLngs.call(this,h),S=m.length;return S>=2&&m[0]instanceof Z&&m[0].equals(m[S-1])&&m.pop(),m},_setLatLngs:function(h){Ga.prototype._setLatLngs.call(this,h),ra(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ra(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,m=this.options.weight,S=new _e(m,m);if(h=new Q(h.min.subtract(S),h.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,G=this._rings.length,ae;M<G;M++)ae=St(this._rings[M],h,!0),ae.length&&this._parts.push(ae)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var m=!1,S,M,G,ae,Me,We,tt,pt;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(ae=0,tt=this._parts.length;ae<tt;ae++)for(S=this._parts[ae],Me=0,pt=S.length,We=pt-1;Me<pt;We=Me++)M=S[Me],G=S[We],M.y>h.y!=G.y>h.y&&h.x<(G.x-M.x)*(h.y-M.y)/(G.y-M.y)+M.x&&(m=!m);return m||Ga.prototype._containsPoint.call(this,h,!0)}});function ao(h,m){return new Io(h,m)}var Fi=ts.extend({initialize:function(h,m){b(this,m),this._layers={},h&&this.addData(h)},addData:function(h){var m=R(h)?h:h.features,S,M,G;if(m){for(S=0,M=m.length;S<M;S++)G=m[S],(G.geometries||G.geometry||G.features||G.coordinates)&&this.addData(G);return this}var ae=this.options;if(ae.filter&&!ae.filter(h))return this;var Me=xi(h,ae);return Me?(Me.feature=oo(h),Me.defaultOptions=Me.options,this.resetStyle(Me),ae.onEachFeature&&ae.onEachFeature(h,Me),this.addLayer(Me)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(m){this._setLayerStyle(m,h)},this)},_setLayerStyle:function(h,m){h.setStyle&&(typeof m=="function"&&(m=m(h.feature)),h.setStyle(m))}});function xi(h,m){var S=h.type==="Feature"?h.geometry:h,M=S?S.coordinates:null,G=[],ae=m&&m.pointToLayer,Me=m&&m.coordsToLatLng||ol,We,tt,pt,kt;if(!M&&!S)return null;switch(S.type){case"Point":return We=Me(M),so(ae,h,We,m);case"MultiPoint":for(pt=0,kt=M.length;pt<kt;pt++)We=Me(M[pt]),G.push(so(ae,h,We,m));return new ts(G);case"LineString":case"MultiLineString":return tt=Fo(M,S.type==="LineString"?0:1,Me),new Ga(tt,m);case"Polygon":case"MultiPolygon":return tt=Fo(M,S.type==="Polygon"?1:2,Me),new Io(tt,m);case"GeometryCollection":for(pt=0,kt=S.geometries.length;pt<kt;pt++){var tr=xi({geometry:S.geometries[pt],type:"Feature",properties:h.properties},m);tr&&G.push(tr)}return new ts(G);case"FeatureCollection":for(pt=0,kt=S.features.length;pt<kt;pt++){var Ur=xi(S.features[pt],m);Ur&&G.push(Ur)}return new ts(G);default:throw new Error("Invalid GeoJSON object.")}}function so(h,m,S,M){return h?h(m,S):new $s(S,M&&M.markersInheritOptions&&M)}function ol(h){return new Z(h[1],h[0],h[2])}function Fo(h,m,S){for(var M=[],G=0,ae=h.length,Me;G<ae;G++)Me=m?Fo(h[G],m-1,S):(S||ol)(h[G]),M.push(Me);return M}function Zs(h,m){return h=se(h),h.alt!==void 0?[y(h.lng,m),y(h.lat,m),y(h.alt,m)]:[y(h.lng,m),y(h.lat,m)]}function Ts(h,m,S,M){for(var G=[],ae=0,Me=h.length;ae<Me;ae++)G.push(m?Ts(h[ae],ra(h[ae])?0:m-1,S,M):Zs(h[ae],M));return!m&&S&&G.length>0&&G.push(G[0].slice()),G}function Na(h,m){return h.feature?i({},h.feature,{geometry:m}):oo(m)}function oo(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var Ca={toGeoJSON:function(h){return Na(this,{type:"Point",coordinates:Zs(this.getLatLng(),h)})}};$s.include(Ca),Ws.include(Ca),ns.include(Ca),Ga.include({toGeoJSON:function(h){var m=!ra(this._latlngs),S=Ts(this._latlngs,m?1:0,!1,h);return Na(this,{type:(m?"Multi":"")+"LineString",coordinates:S})}}),Io.include({toGeoJSON:function(h){var m=!ra(this._latlngs),S=m&&!ra(this._latlngs[0]),M=Ts(this._latlngs,S?2:m?1:0,!0,h);return m||(M=[M]),Na(this,{type:(S?"Multi":"")+"Polygon",coordinates:M})}}),Ua.include({toMultiPoint:function(h){var m=[];return this.eachLayer(function(S){m.push(S.toGeoJSON(h).geometry.coordinates)}),Na(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(h){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(h);var S=m==="GeometryCollection",M=[];return this.eachLayer(function(G){if(G.toGeoJSON){var ae=G.toGeoJSON(h);if(S)M.push(ae.geometry);else{var Me=oo(ae);Me.type==="FeatureCollection"?M.push.apply(M,Me.features):M.push(Me)}}}),S?Na(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function lo(h,m){return new Fi(h,m)}var pa=lo,Ma=jn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,m,S){this._url=h,this._bounds=q(m),b(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&ar(this._image),this},bringToBack:function(){return this._map&&Sa(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=q(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",m=this._image=h?this._url:Ut("img");if(yr(m,"leaflet-image-layer"),this._zoomAnimated&&yr(m,"leaflet-zoom-animated"),this.options.className&&yr(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onload=s(this.fire,this,"load"),m.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(h){var m=this._map.getZoomScale(h.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;Us(this._image,S,m)},_reset:function(){var h=this._image,m=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=m.getSize();Kr(h,m.min),h.style.width=S.x+"px",h.style.height=S.y+"px"},_updateOpacity:function(){un(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),cn=function(h,m,S){return new Ma(h,m,S)},Jr=Ma.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",m=this._image=h?this._url:Ut("video");if(yr(m,"leaflet-image-layer"),this._zoomAnimated&&yr(m,"leaflet-zoom-animated"),this.options.className&&yr(m,this.options.className),m.onselectstart=v,m.onmousemove=v,m.onloadeddata=s(this.fire,this,"load"),h){for(var S=m.getElementsByTagName("source"),M=[],G=0;G<S.length;G++)M.push(S[G].src);this._url=S.length>0?M:[m.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var ae=0;ae<this._url.length;ae++){var Me=Ut("source");Me.src=this._url[ae],m.appendChild(Me)}}});function kn(h,m,S){return new Jr(h,m,S)}var ai=Ma.extend({_initImage:function(){var h=this._image=this._url;yr(h,"leaflet-image-layer"),this._zoomAnimated&&yr(h,"leaflet-zoom-animated"),this.options.className&&yr(h,this.options.className),h.onselectstart=v,h.onmousemove=v}});function uo(h,m,S){return new ai(h,m,S)}var wi=jn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,m){h&&(h instanceof Z||R(h))?(this._latlng=se(h),b(this,m)):(b(this,h),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&un(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&un(this._container,1),this.bringToFront(),this.options.interactive&&(yr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(un(this._container,0),this._removeTimeout=setTimeout(s(qr,void 0,this._container),200)):qr(this._container),this.options.interactive&&(Dn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=se(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ar(this._container),this},bringToBack:function(){return this._map&&Sa(this._container),this},_prepareOpen:function(h){var m=this._source;if(!m._map)return!1;if(m instanceof ts){m=null;var S=this._source._layers;for(var M in S)if(S[M]._map){m=S[M];break}if(!m)return!1;this._source=m}if(!h)if(m.getCenter)h=m.getCenter();else if(m.getLatLng)h=m.getLatLng();else if(m.getBounds)h=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")h.innerHTML=m;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),m=Ne(this.options.offset),S=this._getAnchor();this._zoomAnimated?Kr(this._container,h.add(S)):m=m.add(h).add(S);var M=this._containerBottom=-m.y,G=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=M+"px",this._container.style.left=G+"px"}},_getAnchor:function(){return[0,0]}});Br.include({_initOverlay:function(h,m,S,M){var G=m;return G instanceof h||(G=new h(M).setContent(m)),S&&G.setLatLng(S),G}}),jn.include({_initOverlay:function(h,m,S,M){var G=S;return G instanceof h?(b(G,M),G._source=this):(G=m&&!M?m:new h(M,this),G.setContent(S)),G}});var co=wi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,wi.prototype.openOn.call(this,h)},onAdd:function(h){wi.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ii||this._source.on("preclick",Ja))},onRemove:function(h){wi.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ii||this._source.off("preclick",Ja))},getEvents:function(){var h=wi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",m=this._container=Ut("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=Ut("div",h+"-content-wrapper",m);if(this._contentNode=Ut("div",h+"-content",S),Gs(m),La(this._contentNode),Ct(m,"contextmenu",Ja),this._tipContainer=Ut("div",h+"-tip-container",m),this._tip=Ut("div",h+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=Ut("a",h+"-close-button",m);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',Ct(M,"click",function(G){Mn(G),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,m=h.style;m.width="",m.whiteSpace="nowrap";var S=h.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),m.width=S+1+"px",m.whiteSpace="",m.height="";var M=h.offsetHeight,G=this.options.maxHeight,ae="leaflet-popup-scrolled";G&&M>G?(m.height=G+"px",yr(h,ae)):Dn(h,ae),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var m=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),S=this._getAnchor();Kr(this._container,m.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,m=parseInt(Ar(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+m,M=this._containerWidth,G=new _e(this._containerLeft,-S-this._containerBottom);G._add(zs(this._container));var ae=h.layerPointToContainerPoint(G),Me=Ne(this.options.autoPanPadding),We=Ne(this.options.autoPanPaddingTopLeft||Me),tt=Ne(this.options.autoPanPaddingBottomRight||Me),pt=h.getSize(),kt=0,tr=0;ae.x+M+tt.x>pt.x&&(kt=ae.x+M-pt.x+tt.x),ae.x-kt-We.x<0&&(kt=ae.x-We.x),ae.y+S+tt.y>pt.y&&(tr=ae.y+S-pt.y+tt.y),ae.y-tr-We.y<0&&(tr=ae.y-We.y),(kt||tr)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([kt,tr]))}},_getAnchor:function(){return Ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Bu=function(h,m){return new co(h,m)};Br.mergeOptions({closePopupOnClick:!0}),Br.include({openPopup:function(h,m,S){return this._initOverlay(co,h,m,S).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),jn.include({bindPopup:function(h,m){return this._popup=this._initOverlay(co,this._popup,h,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof ts||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){to(h);var m=h.layer||h.target;if(this._popup._source===m&&!(m instanceof ii)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=m,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var su=wi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){wi.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){wi.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=wi.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",m=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ut("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var m,S,M=this._map,G=this._container,ae=M.latLngToContainerPoint(M.getCenter()),Me=M.layerPointToContainerPoint(h),We=this.options.direction,tt=G.offsetWidth,pt=G.offsetHeight,kt=Ne(this.options.offset),tr=this._getAnchor();We==="top"?(m=tt/2,S=pt):We==="bottom"?(m=tt/2,S=0):We==="center"?(m=tt/2,S=pt/2):We==="right"?(m=0,S=pt/2):We==="left"?(m=tt,S=pt/2):Me.x<ae.x?(We="right",m=0,S=pt/2):(We="left",m=tt+(kt.x+tr.x)*2,S=pt/2),h=h.subtract(Ne(m,S,!0)).add(kt).add(tr),Dn(G,"leaflet-tooltip-right"),Dn(G,"leaflet-tooltip-left"),Dn(G,"leaflet-tooltip-top"),Dn(G,"leaflet-tooltip-bottom"),yr(G,"leaflet-tooltip-"+We),Kr(G,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&un(this._container,h)},_animateZoom:function(h){var m=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(m)},_getAnchor:function(){return Ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Xh=function(h,m){return new su(h,m)};Br.include({openTooltip:function(h,m,S){return this._initOverlay(su,h,m,S).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),jn.include({bindTooltip:function(h,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(su,this._tooltip,h,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var m=h?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[m](S),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof ts||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var m=typeof h.getElement=="function"&&h.getElement();m&&(Ct(m,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Ct(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var m=typeof h.getElement=="function"&&h.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var m=h.latlng,S,M;this._tooltip.options.sticky&&h.originalEvent&&(S=this._map.mouseEventToContainerPoint(h.originalEvent),M=this._map.containerPointToLayerPoint(S),m=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(m)}});var lh=da.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var m=h&&h.tagName==="DIV"?h:document.createElement("div"),S=this.options;if(S.html instanceof Element?(ri(m),m.appendChild(S.html)):m.innerHTML=S.html!==!1?S.html:"",S.bgPos){var M=Ne(S.bgPos);m.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Jh(h){return new lh(h)}da.Default=jo;var kl=jn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ye.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){b(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),qr(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ar(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Sa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof _e?h:new _e(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var m=this.getPane().children,S=-h(-1/0,1/0),M=0,G=m.length,ae;M<G;M++)ae=m[M].style.zIndex,m[M]!==this._container&&ae&&(S=h(S,+ae));isFinite(S)&&(this.options.zIndex=S+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ye.ielt9){un(this._container,this.options.opacity);var h=+new Date,m=!1,S=!1;for(var M in this._tiles){var G=this._tiles[M];if(!(!G.current||!G.loaded)){var ae=Math.min(1,(h-G.loaded)/200);un(G.el,ae),ae<1?m=!0:(G.active?S=!0:this._onOpaqueTile(G),G.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),m&&(W(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=Ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,m=this.options.maxZoom;if(h!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===h?(this._levels[S].el.style.zIndex=m-Math.abs(h-S),this._onUpdateLevel(S)):(qr(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var M=this._levels[h],G=this._map;return M||(M=this._levels[h]={},M.el=Ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=m,M.origin=G.project(G.unproject(G.getPixelOrigin()),h).round(),M.zoom=h,this._setZoomTransform(M,G.getCenter(),G.getZoom()),v(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var h,m,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)m=this._tiles[h],m.retain=m.current;for(h in this._tiles)if(m=this._tiles[h],m.current&&!m.active){var M=m.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var m in this._tiles)this._tiles[m].coords.z===h&&this._removeTile(m)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)qr(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,m,S,M){var G=Math.floor(h/2),ae=Math.floor(m/2),Me=S-1,We=new _e(+G,+ae);We.z=+Me;var tt=this._tileCoordsToKey(We),pt=this._tiles[tt];return pt&&pt.active?(pt.retain=!0,!0):(pt&&pt.loaded&&(pt.retain=!0),Me>M?this._retainParent(G,ae,Me,M):!1)},_retainChildren:function(h,m,S,M){for(var G=2*h;G<2*h+2;G++)for(var ae=2*m;ae<2*m+2;ae++){var Me=new _e(G,ae);Me.z=S+1;var We=this._tileCoordsToKey(Me),tt=this._tiles[We];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);S+1<M&&this._retainChildren(G,ae,S+1,M)}},_resetView:function(h){var m=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var m=this.options;return m.minNativeZoom!==void 0&&h<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<h?m.maxNativeZoom:h},_setView:function(h,m,S,M){var G=Math.round(m);this.options.maxZoom!==void 0&&G>this.options.maxZoom||this.options.minZoom!==void 0&&G<this.options.minZoom?G=void 0:G=this._clampZoom(G);var ae=this.options.updateWhenZooming&&G!==this._tileZoom;(!M||ae)&&(this._tileZoom=G,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),G!==void 0&&this._update(h),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(h,m)},_setZoomTransforms:function(h,m){for(var S in this._levels)this._setZoomTransform(this._levels[S],h,m)},_setZoomTransform:function(h,m,S){var M=this._map.getZoomScale(S,h.zoom),G=h.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(m,S)).round();Ye.any3d?Us(h.el,G,M):Kr(h.el,G)},_resetGrid:function(){var h=this._map,m=h.options.crs,S=this._tileSize=this.getTileSize(),M=this._tileZoom,G=this._map.getPixelWorldBounds(this._tileZoom);G&&(this._globalTileRange=this._pxBoundsToTileRange(G)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,m.wrapLng[0]],M).x/S.x),Math.ceil(h.project([0,m.wrapLng[1]],M).x/S.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([m.wrapLat[0],0],M).y/S.x),Math.ceil(h.project([m.wrapLat[1],0],M).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var m=this._map,S=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),M=m.getZoomScale(S,this._tileZoom),G=m.project(h,this._tileZoom).floor(),ae=m.getSize().divideBy(M*2);return new Q(G.subtract(ae),G.add(ae))},_update:function(h){var m=this._map;if(m){var S=this._clampZoom(m.getZoom());if(h===void 0&&(h=m.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(h),G=this._pxBoundsToTileRange(M),ae=G.getCenter(),Me=[],We=this.options.keepBuffer,tt=new Q(G.getBottomLeft().subtract([We,-We]),G.getTopRight().add([We,-We]));if(!(isFinite(G.min.x)&&isFinite(G.min.y)&&isFinite(G.max.x)&&isFinite(G.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var pt in this._tiles){var kt=this._tiles[pt].coords;(kt.z!==this._tileZoom||!tt.contains(new _e(kt.x,kt.y)))&&(this._tiles[pt].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(h,S);return}for(var tr=G.min.y;tr<=G.max.y;tr++)for(var Ur=G.min.x;Ur<=G.max.x;Ur++){var aa=new _e(Ur,tr);if(aa.z=this._tileZoom,!!this._isValidTile(aa)){var fi=this._tiles[this._tileCoordsToKey(aa)];fi?fi.current=!0:Me.push(aa)}}if(Me.sort(function(pn,mn){return pn.distanceTo(ae)-mn.distanceTo(ae)}),Me.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var os=document.createDocumentFragment();for(Ur=0;Ur<Me.length;Ur++)this._addTile(Me[Ur],os);this._level.el.appendChild(os)}}}},_isValidTile:function(h){var m=this._map.options.crs;if(!m.infinite){var S=this._globalTileRange;if(!m.wrapLng&&(h.x<S.min.x||h.x>S.max.x)||!m.wrapLat&&(h.y<S.min.y||h.y>S.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(h);return q(this.options.bounds).overlaps(M)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var m=this._map,S=this.getTileSize(),M=h.scaleBy(S),G=M.add(S),ae=m.unproject(M,h.z),Me=m.unproject(G,h.z);return[ae,Me]},_tileCoordsToBounds:function(h){var m=this._tileCoordsToNwSe(h),S=new H(m[0],m[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var m=h.split(":"),S=new _e(+m[0],+m[1]);return S.z=+m[2],S},_removeTile:function(h){var m=this._tiles[h];m&&(qr(m.el),delete this._tiles[h],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){yr(h,"leaflet-tile");var m=this.getTileSize();h.style.width=m.x+"px",h.style.height=m.y+"px",h.onselectstart=v,h.onmousemove=v,Ye.ielt9&&this.options.opacity<1&&un(h,this.options.opacity)},_addTile:function(h,m){var S=this._getTilePos(h),M=this._tileCoordsToKey(h),G=this.createTile(this._wrapCoords(h),s(this._tileReady,this,h));this._initTile(G),this.createTile.length<2&&I(s(this._tileReady,this,h,null,G)),Kr(G,S),this._tiles[M]={el:G,coords:h,current:!0},m.appendChild(G),this.fire("tileloadstart",{tile:G,coords:h})},_tileReady:function(h,m,S){m&&this.fire("tileerror",{error:m,tile:S,coords:h});var M=this._tileCoordsToKey(h);S=this._tiles[M],S&&(S.loaded=+new Date,this._map._fadeAnimated?(un(S.el,0),W(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),m||(yr(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ye.ielt9||!this._map._fadeAnimated?I(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var m=new _e(this._wrapX?p(h.x,this._wrapX):h.x,this._wrapY?p(h.y,this._wrapY):h.y);return m.z=h.z,m},_pxBoundsToTileRange:function(h){var m=this.getTileSize();return new Q(h.min.unscaleBy(m).floor(),h.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function uh(h){return new kl(h)}var As=kl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,m){this._url=h,m=b(this,m),m.detectRetina&&Ye.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,m){return this._url===h&&m===void 0&&(m=!0),this._url=h,m||this.redraw(),this},createTile:function(h,m){var S=document.createElement("img");return Ct(S,"load",s(this._tileOnLoad,this,m,S)),Ct(S,"error",s(this._tileOnError,this,m,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(h),S},getTileUrl:function(h){var m={r:Ye.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-h.y;this.options.tms&&(m.y=S),m["-y"]=S}return j(this._url,i(m,this.options))},_tileOnLoad:function(h,m){Ye.ielt9?setTimeout(s(h,this,null,m),0):h(null,m)},_tileOnError:function(h,m,S){var M=this.options.errorTileUrl;M&&m.getAttribute("src")!==M&&(m.src=M),h(S,m)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,m=this.options.maxZoom,S=this.options.zoomReverse,M=this.options.zoomOffset;return S&&(h=m-h),h+M},_getSubdomain:function(h){var m=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var h,m;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(m=this._tiles[h].el,m.onload=v,m.onerror=v,!m.complete)){m.src=te;var S=this._tiles[h].coords;qr(m),delete this._tiles[h],this.fire("tileabort",{tile:m,coords:S})}},_removeTile:function(h){var m=this._tiles[h];if(m)return m.el.setAttribute("src",te),kl.prototype._removeTile.call(this,h)},_tileReady:function(h,m,S){if(!(!this._map||S&&S.getAttribute("src")===te))return kl.prototype._tileReady.call(this,h,m,S)}});function is(h,m){return new As(h,m)}var ou=As.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,m){this._url=h;var S=i({},this.defaultWmsParams);for(var M in m)M in this.options||(S[M]=m[M]);m=b(this,m);var G=m.detectRetina&&Ye.retina?2:1,ae=this.getTileSize();S.width=ae.x*G,S.height=ae.y*G,this.wmsParams=S},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,As.prototype.onAdd.call(this,h)},getTileUrl:function(h){var m=this._tileCoordsToNwSe(h),S=this._crs,M=O(S.project(m[0]),S.project(m[1])),G=M.min,ae=M.max,Me=(this._wmsVersion>=1.3&&this._crs===Ml?[G.y,G.x,ae.y,ae.x]:[G.x,G.y,ae.x,ae.y]).join(","),We=As.prototype.getTileUrl.call(this,h);return We+C(this.wmsParams,We,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Me},setParams:function(h,m){return i(this.wmsParams,h),m||this.redraw(),this}});function as(h,m){return new ou(h,m)}As.WMS=ou,is.wms=as;var ka=jn.extend({options:{padding:.1},initialize:function(h){b(this,h),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,m){var S=this._map.getZoomScale(m,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),G=this._map.project(this._center,m),ae=M.multiplyBy(-S).add(G).subtract(this._map._getNewPixelOrigin(h,m));Ye.any3d?Us(this._container,ae,S):Kr(this._container,ae)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,m=this._map.getSize(),S=this._map.containerPointToLayerPoint(m.multiplyBy(-h)).round();this._bounds=new Q(S,S.add(m.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Uu=ka.extend({options:{tolerance:0},getEvents:function(){var h=ka.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ka.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Ct(h,"mousemove",this._onMouseMove,this),Ct(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ct(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,qr(this._container),dn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var m in this._layers)h=this._layers[m],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ka.prototype._update.call(this);var h=this._bounds,m=this._container,S=h.getSize(),M=Ye.retina?2:1;Kr(m,h.min),m.width=M*S.x,m.height=M*S.y,m.style.width=S.x+"px",m.style.height=S.y+"px",Ye.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){ka.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[c(h)]=h;var m=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var m=h._order,S=m.next,M=m.prev;S?S.prev=M:this._drawLast=M,M?M.next=S:this._drawFirst=S,delete h._order,delete this._layers[c(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var m=h.options.dashArray.split(/[, ]+/),S=[],M,G;for(G=0;G<m.length;G++){if(M=Number(m[G]),isNaN(M))return;S.push(M)}h.options._dashArray=S}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||I(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var m=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(h._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(h._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var m=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,m=this._redrawBounds;if(this._ctx.save(),m){var S=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)h=M.layer,(!m||h._pxBounds&&h._pxBounds.intersects(m))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,m){if(this._drawing){var S,M,G,ae,Me=h._parts,We=Me.length,tt=this._ctx;if(We){for(tt.beginPath(),S=0;S<We;S++){for(M=0,G=Me[S].length;M<G;M++)ae=Me[S][M],tt[M?"lineTo":"moveTo"](ae.x,ae.y);m&&tt.closePath()}this._fillStroke(tt,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var m=h._point,S=this._ctx,M=Math.max(Math.round(h._radius),1),G=(Math.max(Math.round(h._radiusY),1)||M)/M;G!==1&&(S.save(),S.scale(1,G)),S.beginPath(),S.arc(m.x,m.y/G,M,0,Math.PI*2,!1),G!==1&&S.restore(),this._fillStroke(S,h)}},_fillStroke:function(h,m){var S=m.options;S.fill&&(h.globalAlpha=S.fillOpacity,h.fillStyle=S.fillColor||S.color,h.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(h.setLineDash&&h.setLineDash(m.options&&m.options._dashArray||[]),h.globalAlpha=S.opacity,h.lineWidth=S.weight,h.strokeStyle=S.color,h.lineCap=S.lineCap,h.lineJoin=S.lineJoin,h.stroke())},_onClick:function(h){for(var m=this._map.mouseEventToLayerPoint(h),S,M,G=this._drawFirst;G;G=G.next)S=G.layer,S.options.interactive&&S._containsPoint(m)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(S))&&(M=S);this._fireEvent(M?[M]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,m)}},_handleMouseOut:function(h){var m=this._hoveredLayer;m&&(Dn(this._container,"leaflet-interactive"),this._fireEvent([m],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,m){if(!this._mouseHoverThrottled){for(var S,M,G=this._drawFirst;G;G=G.next)S=G.layer,S.options.interactive&&S._containsPoint(m)&&(M=S);M!==this._hoveredLayer&&(this._handleMouseOut(h),M&&(yr(this._container,"leaflet-interactive"),this._fireEvent([M],h,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,m,S){this._map._fireDOMEvent(m,S||m.type,h)},_bringToFront:function(h){var m=h._order;if(m){var S=m.next,M=m.prev;if(S)S.prev=M;else return;M?M.next=S:S&&(this._drawFirst=S),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(h)}},_bringToBack:function(h){var m=h._order;if(m){var S=m.next,M=m.prev;if(M)M.next=S;else return;S?S.prev=M:M&&(this._drawLast=M),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(h)}}});function lu(h){return Ye.canvas?new Uu(h):null}var Bo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),_c={_initContainer:function(){this._container=Ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ka.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var m=h._container=Bo("shape");yr(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",h._path=Bo("path"),m.appendChild(h._path),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){var m=h._container;this._container.appendChild(m),h.options.interactive&&h.addInteractiveTarget(m)},_removePath:function(h){var m=h._container;qr(m),h.removeInteractiveTarget(m),delete this._layers[c(h)]},_updateStyle:function(h){var m=h._stroke,S=h._fill,M=h.options,G=h._container;G.stroked=!!M.stroke,G.filled=!!M.fill,M.stroke?(m||(m=h._stroke=Bo("stroke")),G.appendChild(m),m.weight=M.weight+"px",m.color=M.color,m.opacity=M.opacity,M.dashArray?m.dashStyle=R(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=M.lineCap.replace("butt","flat"),m.joinstyle=M.lineJoin):m&&(G.removeChild(m),h._stroke=null),M.fill?(S||(S=h._fill=Bo("fill")),G.appendChild(S),S.color=M.fillColor||M.color,S.opacity=M.fillOpacity):S&&(G.removeChild(S),h._fill=null)},_updateCircle:function(h){var m=h._point.round(),S=Math.round(h._radius),M=Math.round(h._radiusY||S);this._setPath(h,h._empty()?"M0 0":"AL "+m.x+","+m.y+" "+S+","+M+" 0,"+65535*360)},_setPath:function(h,m){h._path.v=m},_bringToFront:function(h){ar(h._container)},_bringToBack:function(h){Sa(h._container)}},Ls=Ye.vml?Bo:we,Uo=ka.extend({_initContainer:function(){this._container=Ls("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ls("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qr(this._container),dn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ka.prototype._update.call(this);var h=this._bounds,m=h.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,S.setAttribute("width",m.x),S.setAttribute("height",m.y)),Kr(S,h.min),S.setAttribute("viewBox",[h.min.x,h.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(h){var m=h._path=Ls("path");h.options.className&&yr(m,h.options.className),h.options.interactive&&yr(m,"leaflet-interactive"),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){qr(h._path),h.removeInteractiveTarget(h._path),delete this._layers[c(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var m=h._path,S=h.options;m&&(S.stroke?(m.setAttribute("stroke",S.color),m.setAttribute("stroke-opacity",S.opacity),m.setAttribute("stroke-width",S.weight),m.setAttribute("stroke-linecap",S.lineCap),m.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?m.setAttribute("stroke-dasharray",S.dashArray):m.removeAttribute("stroke-dasharray"),S.dashOffset?m.setAttribute("stroke-dashoffset",S.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),S.fill?(m.setAttribute("fill",S.fillColor||S.color),m.setAttribute("fill-opacity",S.fillOpacity),m.setAttribute("fill-rule",S.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(h,m){this._setPath(h,yt(h._parts,m))},_updateCircle:function(h){var m=h._point,S=Math.max(Math.round(h._radius),1),M=Math.max(Math.round(h._radiusY),1)||S,G="a"+S+","+M+" 0 1,0 ",ae=h._empty()?"M0 0":"M"+(m.x-S)+","+m.y+G+S*2+",0 "+G+-S*2+",0 ";this._setPath(h,ae)},_setPath:function(h,m){h._path.setAttribute("d",m)},_bringToFront:function(h){ar(h._path)},_bringToBack:function(h){Sa(h._path)}});Ye.vml&&Uo.include(_c);function na(h){return Ye.svg||Ye.vml?new Uo(h):null}Br.include({getRenderer:function(h){var m=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var m=this._paneRenderers[h];return m===void 0&&(m=this._createRenderer({pane:h}),this._paneRenderers[h]=m),m},_createRenderer:function(h){return this.options.preferCanvas&&lu(h)||na(h)}});var Bi=Io.extend({initialize:function(h,m){Io.prototype.initialize.call(this,this._boundsToLatLngs(h),m)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=q(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function yc(h,m){return new Bi(h,m)}Uo.create=Ls,Uo.pointsToPath=yt,Fi.geometryToLayer=xi,Fi.coordsToLatLng=ol,Fi.coordsToLatLngs=Fo,Fi.latLngToCoords=Zs,Fi.latLngsToCoords=Ts,Fi.getFeature=Na,Fi.asFeature=oo,Br.mergeOptions({boxZoom:!0});var ia=Se.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),No(),tu(),this._startPoint=this._map.mouseEventToContainerPoint(h),Ct(document,{contextmenu:to,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Ut("div","leaflet-zoom-box",this._container),yr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var m=new Q(this._point,this._startPoint),S=m.getSize();Kr(this._box,m.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(qr(this._box),Dn(this._container,"leaflet-crosshair")),Ta(),Tl(),dn(document,{contextmenu:to,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var m=new H(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Br.addInitHook("addHandler","boxZoom",ia),Br.mergeOptions({doubleClickZoom:!0});var zu=Se.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var m=this._map,S=m.getZoom(),M=m.options.zoomDelta,G=h.originalEvent.shiftKey?S-M:S+M;m.options.doubleClickZoom==="center"?m.setZoom(G):m.setZoomAround(h.containerPoint,G)}});Br.addInitHook("addHandler","doubleClickZoom",zu),Br.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ss=Se.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new at(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}yr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Dn(this._map._container,"leaflet-grab"),Dn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=q(this._map.options.maxBounds);this._offsetLimit=O(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var m=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(m),this._prunePositions(m)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,m){return h-(h-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;h.x<m.min.x&&(h.x=this._viscousLimit(h.x,m.min.x)),h.y<m.min.y&&(h.y=this._viscousLimit(h.y,m.min.y)),h.x>m.max.x&&(h.x=this._viscousLimit(h.x,m.max.x)),h.y>m.max.y&&(h.y=this._viscousLimit(h.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,m=Math.round(h/2),S=this._initialWorldOffset,M=this._draggable._newPos.x,G=(M-m+S)%h+m-S,ae=(M+m+S)%h-m-S,Me=Math.abs(G+S)<Math.abs(ae+S)?G:ae;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Me},_onDragEnd:function(h){var m=this._map,S=m.options,M=!S.inertia||h.noInertia||this._times.length<2;if(m.fire("dragend",h),M)m.fire("moveend");else{this._prunePositions(+new Date);var G=this._lastPos.subtract(this._positions[0]),ae=(this._lastTime-this._times[0])/1e3,Me=S.easeLinearity,We=G.multiplyBy(Me/ae),tt=We.distanceTo([0,0]),pt=Math.min(S.inertiaMaxSpeed,tt),kt=We.multiplyBy(pt/tt),tr=pt/(S.inertiaDeceleration*Me),Ur=kt.multiplyBy(-tr/2).round();!Ur.x&&!Ur.y?m.fire("moveend"):(Ur=m._limitOffset(Ur,m.options.maxBounds),I(function(){m.panBy(Ur,{duration:tr,easeLinearity:Me,noMoveStart:!0,animate:!0})}))}}});Br.addInitHook("addHandler","dragging",ss),Br.mergeOptions({keyboard:!0,keyboardPanDelta:80});var uu=Se.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Ct(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,m=document.documentElement,S=h.scrollTop||m.scrollTop,M=h.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(M,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var m=this._panKeys={},S=this.keyCodes,M,G;for(M=0,G=S.left.length;M<G;M++)m[S.left[M]]=[-1*h,0];for(M=0,G=S.right.length;M<G;M++)m[S.right[M]]=[h,0];for(M=0,G=S.down.length;M<G;M++)m[S.down[M]]=[0,h];for(M=0,G=S.up.length;M<G;M++)m[S.up[M]]=[0,-1*h]},_setZoomDelta:function(h){var m=this._zoomKeys={},S=this.keyCodes,M,G;for(M=0,G=S.zoomIn.length;M<G;M++)m[S.zoomIn[M]]=h;for(M=0,G=S.zoomOut.length;M<G;M++)m[S.zoomOut[M]]=-h},_addHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var m=h.keyCode,S=this._map,M;if(m in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(M=this._panKeys[m],h.shiftKey&&(M=Ne(M).multiplyBy(3)),S.options.maxBounds&&(M=S._limitOffset(Ne(M),S.options.maxBounds)),S.options.worldCopyJump){var G=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(M)));S.panTo(G)}else S.panBy(M)}else if(m in this._zoomKeys)S.setZoom(S.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;to(h)}}});Br.addInitHook("addHandler","keyboard",uu),Br.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pl=Se.extend({addHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var m=ki(h),S=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var M=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),M),to(h)},_performZoom:function(){var h=this._map,m=h.getZoom(),S=this._map.options.zoomSnap||0;h._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),G=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,ae=S?Math.ceil(G/S)*S:G,Me=h._limitZoom(m+(this._delta>0?ae:-ae))-m;this._delta=0,this._startTime=null,Me&&(h.options.scrollWheelZoom==="center"?h.setZoom(m+Me):h.setZoomAround(this._lastMousePos,m+Me))}});Br.addInitHook("addHandler","scrollWheelZoom",Pl);var ll=600;Br.mergeOptions({tapHold:Ye.touchNative&&Ye.safari&&Ye.mobile,tapTolerance:15});var cu=Se.extend({addHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var m=h.touches[0];this._startPos=this._newPos=new _e(m.clientX,m.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(Ct(document,"touchend",Mn),Ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),ll),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){dn(document,"touchend",Mn),dn(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),dn(document,"touchend touchcancel contextmenu",this._cancel,this),dn(document,"touchmove",this._onMove,this)},_onMove:function(h){var m=h.touches[0];this._newPos=new _e(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,m){var S=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});S._simulated=!0,m.target.dispatchEvent(S)}});Br.addInitHook("addHandler","tapHold",cu),Br.mergeOptions({touchZoom:Ye.touch,bounceAtZoomLimits:!0});var Gu=Se.extend({addHooks:function(){yr(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Dn(this._map._container,"leaflet-touch-zoom"),dn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var m=this._map;if(!(!h.touches||h.touches.length!==2||m._animatingZoom||this._zooming)){var S=m.mouseEventToContainerPoint(h.touches[0]),M=m.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(S.add(M)._divideBy(2))),this._startDist=S.distanceTo(M),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),Mn(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var m=this._map,S=m.mouseEventToContainerPoint(h.touches[0]),M=m.mouseEventToContainerPoint(h.touches[1]),G=S.distanceTo(M)/this._startDist;if(this._zoom=m.getScaleZoom(G,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&G<1||this._zoom>m.getMaxZoom()&&G>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,G===1)return}else{var ae=S._add(M)._divideBy(2)._subtract(this._centerPoint);if(G===1&&ae.x===0&&ae.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(ae),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var Me=s(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=I(Me,this,!0),Mn(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),dn(document,"touchmove",this._onTouchMove,this),dn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Br.addInitHook("addHandler","touchZoom",Gu),Br.BoxZoom=ia,Br.DoubleClickZoom=zu,Br.Drag=ss,Br.Keyboard=uu,Br.ScrollWheelZoom=Pl,Br.TapHold=cu,Br.TouchZoom=Gu,r.Bounds=Q,r.Browser=Ye,r.CRS=Ae,r.Canvas=Uu,r.Circle=Ws,r.CircleMarker=ns,r.Class=pe,r.Control=Pi,r.DivIcon=lh,r.DivOverlay=wi,r.DomEvent=ws,r.DomUtil=nl,r.Draggable=at,r.Evented=be,r.FeatureGroup=ts,r.GeoJSON=Fi,r.GridLayer=kl,r.Handler=Se,r.Icon=da,r.ImageOverlay=Ma,r.LatLng=Z,r.LatLngBounds=H,r.Layer=jn,r.LayerGroup=Ua,r.LineUtil=Cl,r.Map=Br,r.Marker=$s,r.Mixin=De,r.Path=ii,r.Point=_e,r.PolyUtil=br,r.Polygon=Io,r.Polyline=Ga,r.Popup=co,r.PosAnimation=ro,r.Projection=al,r.Rectangle=Bi,r.Renderer=ka,r.SVG=Uo,r.SVGOverlay=ai,r.TileLayer=As,r.Tooltip=su,r.Transformation=ot,r.Util=ce,r.VideoOverlay=Jr,r.bind=s,r.bounds=O,r.canvas=lu,r.circle=au,r.circleMarker=io,r.control=es,r.divIcon=Jh,r.extend=i,r.featureGroup=rs,r.geoJSON=lo,r.geoJson=pa,r.gridLayer=uh,r.icon=Do,r.imageOverlay=cn,r.latLng=se,r.latLngBounds=q,r.layerGroup=iu,r.map=Nl,r.marker=za,r.point=Ne,r.polygon=ao,r.polyline=hi,r.popup=Bu,r.rectangle=yc,r.setOptions=b,r.stamp=c,r.svg=na,r.svgOverlay=uo,r.tileLayer=is,r.tooltip=Xh,r.transformation=it,r.version=n,r.videoOverlay=kn;var hu=window.L;r.noConflict=function(){return window.L=hu,this},window.L=r}))})(p0,p0.exports)),p0.exports}var Ql=Oz();const Ds=$1(Ql);function Kh(t,e,r){return Object.freeze({instance:t,context:e,container:r})}function mg(t,e){return e==null?function(n,i){const a=de.useRef(void 0);return a.current||(a.current=t(n,i)),a}:function(n,i){const a=de.useRef(void 0);a.current||(a.current=t(n,i));const s=de.useRef(n),{instance:l}=a.current;return de.useEffect(function(){s.current!==n&&(e(l,n,s.current),s.current=n)},[l,n,e]),a}}function k8(t,e){de.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function P8(t){return function(r){const n=bp(),i=t(Sp(r,n),n);return C8(n.map,r.attribution),vy(i.current,r.eventHandlers),k8(i.current,n),i}}function Rz(t,e){const r=de.useRef(void 0);de.useEffect(function(){if(e.pathOptions!==r.current){const i=e.pathOptions??{};t.instance.setStyle(i),r.current=i}},[t,e])}function Dz(t){return function(r){const n=bp(),i=t(Sp(r,n),n);return vy(i.current,r.eventHandlers),k8(i.current,n),Rz(i.current,r),i}}function jz(t,e){const r=mg(t,e),n=P8(r);return M8(n)}function Iz(t,e){const r=mg(t),n=kz(r,e);return Cz(n)}function _y(t,e){const r=mg(t,e),n=Dz(r);return M8(n)}function O8(t,e){const r=mg(t,e),n=P8(r);return Mz(n)}function R8(t,e,r){const{opacity:n,zIndex:i}=e;n!=null&&n!==r.opacity&&t.setOpacity(n),i!=null&&i!==r.zIndex&&t.setZIndex(i)}function D8(){return bp().map}const Fz=_y(function({center:e,children:r,...n},i){const a=new Ql.Circle(e,n);return Kh(a,pg(i,{overlayContainer:a}))},Az),Bz=_y(function({children:e,...r},n){const i=new Ql.FeatureGroup([],r);return Kh(i,pg(n,{layerContainer:i,overlayContainer:i}))}),j8=_y(function({data:e,...r},n){const i=new Ql.GeoJSON(e,r);return Kh(i,pg(n,{overlayContainer:i}))},function(e,r,n){r.style!==n.style&&(r.style==null?e.resetStyle():e.setStyle(r.style))});function Uz({bounds:t,boundsOptions:e,center:r,children:n,className:i,id:a,placeholder:s,style:l,whenReady:c,zoom:f,...p},v){const[y]=de.useState({className:i,id:a,style:l}),[_,T]=de.useState(null),b=de.useRef(void 0);de.useImperativeHandle(v,()=>_?.map??null,[_]);const C=de.useCallback(j=>{if(j!==null&&!b.current){const R=new Ql.Map(j,p);b.current=R,r!=null&&f!=null?R.setView(r,f):t!=null&&R.fitBounds(t,e),c!=null&&R.whenReady(c),T(Nz(R))}},[]);de.useEffect(()=>()=>{_?.map.remove()},[_]);const P=_?Mu.createElement(gy,{value:_},n):s??null;return Mu.createElement("div",{...y,ref:C},P)}const yy=de.forwardRef(Uz),zz=jz(function({position:e,...r},n){const i=new Ql.Marker(e,r);return Kh(i,pg(n,{overlayContainer:i}))},function(e,r,n){r.position!==n.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),I8=Iz(function(e,r){const n=new Ql.Popup(e,r.overlayContainer);return Kh(n,r)},function(e,r,{position:n},i){de.useEffect(function(){const{instance:s}=e;function l(f){f.popup===s&&(s.update(),i(!0))}function c(f){f.popup===s&&i(!1)}return r.map.on({popupopen:l,popupclose:c}),r.overlayContainer==null?(n!=null&&s.setLatLng(n),s.openOn(r.map)):r.overlayContainer.bindPopup(s),function(){r.map.off({popupopen:l,popupclose:c}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(s)}},[e,r,i,n])}),I1=O8(function({url:e,...r},n){const i=new Ql.TileLayer(e,Sp(r,n));return Kh(i,n)},function(e,r,n){R8(e,r,n);const{url:i}=r;i!=null&&i!==n.url&&e.setUrl(i)}),F8=O8(function({eventHandlers:e,params:r={},url:n,...i},a){const s=new Ql.TileLayer.WMS(n,{...r,...Sp(i,a)});return Kh(s,a)},function(e,r,n){R8(e,r,n),r.params!=null&&r.params!==n.params&&e.setParams(r.params)});var M2={exports:{}},k2,w3;function Gz(){if(w3)return k2;w3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return k2=t,k2}var P2,b3;function Hz(){if(b3)return P2;b3=1;var t=Gz();function e(){}function r(){}return r.resetWarningCache=e,P2=function(){function n(s,l,c,f,p,v){if(v!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},P2}var S3;function qz(){return S3||(S3=1,M2.exports=Hz()()),M2.exports}var on=qz();(function(t,e,r){function n(i,a){for(;(i=i.parentElement)&&!i.classList.contains(a););return i}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(i,a){this._map=i,this._container=i._container,this._overlayPane=i._panes.overlayPane,this._popupPane=i._panes.popupPane,a&&a.shapeOptions&&(a.shapeOptions=L.Util.extend({},this.options.shapeOptions,a.shapeOptions)),L.setOptions(this,a);var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(L.DomUtil.disableTextSelection(),i.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(i){L.setOptions(this,i)},_fireCreatedEvent:function(i){this._map.fire(L.Draw.Event.CREATED,{layer:i,layerType:this.type})},_cancelDrawing:function(i){i.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(i,a){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,a&&a.drawError&&(a.drawError=L.Util.extend({},this.options.drawError,a.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,i,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var i=this._markers.pop(),a=this._poly,s=a.getLatLngs(),l=s.splice(-1,1)[0];this._poly.setLatLngs(s),this._markerGroup.removeLayer(i),a.getLatLngs().length<2&&this._map.removeLayer(a),this._vertexChanged(l,!1)}},addVertex:function(i){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(i))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(i)),this._poly.addLatLng(i),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(i,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var i=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),a=this._poly.newLatLngIntersects(i[i.length-1]);if(!this.options.allowIntersection&&a||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(i){var a=this._map.mouseEventToLayerPoint(i.originalEvent),s=this._map.layerPointToLatLng(a);this._currentLatLng=s,this._updateTooltip(s),this._updateGuide(a),this._mouseMarker.setLatLng(s),L.DomEvent.preventDefault(i.originalEvent)},_vertexChanged:function(i,a){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(i,a),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(i){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(i),this._clickHandled=!0,this._disableNewMarkers();var a=i.originalEvent,s=a.clientX,l=a.clientY;this._startPoint.call(this,s,l)}},_startPoint:function(i,a){this._mouseDownOrigin=L.point(i,a)},_onMouseUp:function(i){var a=i.originalEvent,s=a.clientX,l=a.clientY;this._endPoint.call(this,s,l,i),this._clickHandled=null},_endPoint:function(i,a,s){if(this._mouseDownOrigin){var l=L.point(i,a).distanceTo(this._mouseDownOrigin),c=this._calculateFinishDistance(s.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(s.latlng),this._finishShape()):c<10&&L.Browser.touch?this._finishShape():Math.abs(l)<9*(t.devicePixelRatio||1)&&this.addVertex(s.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(i){var a,s,l=i.originalEvent;!l.touches||!l.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(a=l.touches[0].clientX,s=l.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,a,s),this._endPoint.call(this,a,s,i),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(i){var a;if(this._markers.length>0){var s;if(this.type===L.Draw.Polyline.TYPE)s=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;s=this._markers[0]}var l=this._map.latLngToContainerPoint(s.getLatLng()),c=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),f=this._map.latLngToContainerPoint(c.getLatLng());a=l.distanceTo(f)}else a=1/0;return a},_updateFinishHandler:function(){var i=this._markers.length;i>1&&this._markers[i-1].on("click",this._finishShape,this),i>2&&this._markers[i-2].off("click",this._finishShape,this)},_createMarker:function(i){var a=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(a),a},_updateGuide:function(i){var a=this._markers?this._markers.length:0;a>0&&(i=i||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[a-1].getLatLng()),i))},_updateTooltip:function(i){var a=this._getTooltipText();i&&this._tooltip.updatePosition(i),this._errorShown||this._tooltip.updateContent(a)},_drawGuide:function(i,a){var s,l,c,f=Math.floor(Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2))),p=this.options.guidelineDistance,v=this.options.maxGuideLineLength,y=f>v?f-v:p;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));y<f;y+=this.options.guidelineDistance)s=y/f,l={x:Math.floor(i.x*(1-s)+s*a.x),y:Math.floor(i.y*(1-s)+s*a.y)},c=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),c.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(c,l)},_updateGuideColor:function(i){if(this._guidesContainer)for(var a=0,s=this._guidesContainer.childNodes.length;a<s;a++)this._guidesContainer.childNodes[a].style.backgroundColor=i},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var i,a,s=this.options.showLength;return this._markers.length===0?i={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(a=s?this._getMeasurementString():"",i=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:a}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:a}),i},_updateRunningMeasure:function(i,a){var s,l,c=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(s=c-(a?2:1),l=L.GeometryUtil.isVersion07x()?i.distanceTo(this._markers[s].getLatLng())*(this.options.factor||1):this._map.distance(i,this._markers[s].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=l*(a?1:-1))},_getMeasurementString:function(){var i,a=this._currentLatLng,s=this._markers[this._markers.length-1].getLatLng();return i=L.GeometryUtil.isVersion07x()?s&&a&&a.distanceTo?this._measurementRunningTotal+a.distanceTo(s)*(this.options.factor||1):this._measurementRunningTotal||0:s&&a?this._measurementRunningTotal+this._map.distance(a,s)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(i,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var i=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(i,a){L.Draw.Polyline.prototype.initialize.call(this,i,a),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var i=this._markers.length;i===1&&this._markers[0].on("click",this._finishShape,this),i>2&&(this._markers[i-1].on("dblclick",this._finishShape,this),i>3&&this._markers[i-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var i,a;return this._markers.length===0?i=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(i=L.drawLocal.draw.handlers.polygon.tooltip.cont,a=this._getMeasurementString()):(i=L.drawLocal.draw.handlers.polygon.tooltip.end,a=this._getMeasurementString()),{text:i,subtext:a}},_getMeasurementString:function(){var i=this._area,a="";return i||this.options.showLength?(this.options.showLength&&(a=L.Draw.Polyline.prototype._getMeasurementString.call(this)),i&&(a+="<br>"+L.GeometryUtil.readableArea(i,this.options.metric,this.options.precision)),a):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(i,a){var s;!this.options.allowIntersection&&this.options.showArea&&(s=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(s)),L.Draw.Polyline.prototype._vertexChanged.call(this,i,a)},_cleanUpShape:function(){var i=this._markers.length;i>0&&(this._markers[0].off("click",this._finishShape,this),i>2&&this._markers[i-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(i,a){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,i,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(i){this._isDrawing=!0,this._startLatLng=i.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(i.originalEvent)},_onMouseMove:function(i){var a=i.latlng;this._tooltip.updatePosition(a),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(a))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(i,a){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,a)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(i){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!n(i.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(i){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,i)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,i),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_getTooltipText:function(){var i,a,s,l=L.Draw.SimpleShape.prototype._getTooltipText.call(this),c=this._shape,f=this.options.showArea;return c&&(i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),a=L.GeometryUtil.geodesicArea(i),s=f?L.GeometryUtil.readableArea(a,this.options.metric):""),{text:l.text,subtext:s}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(i,a){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(i){var a=i.latlng;this._tooltip.updatePosition(a),this._mouseMarker.setLatLng(a),this._marker?(a=this._mouseMarker.getLatLng(),this._marker.setLatLng(a)):(this._marker=this._createMarker(a),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(i){return new L.Marker(i,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(i){this._onMouseMove(i),this._onClick()},_fireCreatedEvent:function(){var i=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(i,a){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,a)},_fireCreatedEvent:function(){var i=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)},_createMarker:function(i){return new L.CircleMarker(i,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(i,a){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,a)},_drawShape:function(i){if(L.GeometryUtil.isVersion07x())var a=this._startLatLng.distanceTo(i);else var a=this._map.distance(this._startLatLng,i);this._shape?this._shape.setRadius(a):(this._shape=new L.Circle(this._startLatLng,a,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_onMouseMove:function(i){var a,s=i.latlng,l=this.options.showRadius,c=this.options.metric;if(this._tooltip.updatePosition(s),this._isDrawing){this._drawShape(s),a=this._shape.getRadius().toFixed(1);var f="";l&&(f=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(a,c,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:f})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(i,a){this._marker=i,L.setOptions(this,a)},addHooks:function(){var i=this._marker;i.dragging.enable(),i.on("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},removeHooks:function(){var i=this._marker;i.dragging.disable(),i.off("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},_onDragEnd:function(i){var a=i.target;a.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_toggleMarkerHighlight:function(){var i=this._marker._icon;i&&(i.style.display="none",L.DomUtil.hasClass(i,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,-4)):(L.DomUtil.addClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,4)),i.style.display="")},_offsetMarker:function(i,a){var s=parseInt(i.style.marginTop,10)-a,l=parseInt(i.style.marginLeft,10)-a;i.style.marginTop=s+"px",i.style.marginLeft=l+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(i){this.latlngs=[i._latlngs],i._holes&&(this.latlngs=this.latlngs.concat(i._holes)),this._poly=i,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(i){for(var a=0;a<this._verticesHandlers.length;a++)i(this._verticesHandlers[a])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(i){i.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(i){i.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(i){i.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var i=0;i<this.latlngs.length;i++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[i],this._poly.options.poly))},_updateLatLngs:function(i){this.latlngs=[i.layer._latlngs],i.layer._holes&&(this.latlngs=this.latlngs.concat(i.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(i,a,s){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=i,s&&s.drawError&&(s.drawError=L.Util.extend({},this.options.drawError,s.drawError)),this._latlngs=a,L.setOptions(this,s)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var i=this._poly,a=i._path;i instanceof L.Polygon||(i.options.fill=!1,i.options.editing&&(i.options.editing.fill=!1)),a&&i.options.editing&&i.options.editing.className&&(i.options.original.className&&i.options.original.className.split(" ").forEach(function(s){L.DomUtil.removeClass(a,s)}),i.options.editing.className.split(" ").forEach(function(s){L.DomUtil.addClass(a,s)})),i.setStyle(i.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var i=this._poly,a=i._path;a&&i.options.editing&&i.options.editing.className&&(i.options.editing.className.split(" ").forEach(function(s){L.DomUtil.removeClass(a,s)}),i.options.original.className&&i.options.original.className.split(" ").forEach(function(s){L.DomUtil.addClass(a,s)})),i.setStyle(i.options.original),i._map&&(i._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var i,a,s,l,c=this._defaultShape();for(i=0,s=c.length;i<s;i++)l=this._createMarker(c[i],i),l.on("click",this._onMarkerClick,this),l.on("contextmenu",this._onContextMenu,this),this._markers.push(l);var f,p;for(i=0,a=s-1;i<s;a=i++)(i!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(f=this._markers[a],p=this._markers[i],this._createMiddleMarker(f,p),this._updatePrevNext(f,p))},_createMarker:function(i,a){var s=new L.Marker.Touch(i,{draggable:!0,icon:this.options.icon});return s._origLatLng=i,s._index=a,s.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(s),s},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var i=this._defaultShape(),a=[].splice.apply(i,arguments);return this._poly._convertLatLngs(i,!0),this._poly.redraw(),a},_removeMarker:function(i){var a=i._index;this._markerGroup.removeLayer(i),this._markers.splice(a,1),this._spliceLatLngs(a,1),this._updateIndexes(a,-1),i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(i){var a=i.target,s=this._poly,l=L.LatLngUtil.cloneLatLng(a._origLatLng);if(L.extend(a._origLatLng,a._latlng),s.options.poly){var c=s._map._editTooltip;if(!s.options.poly.allowIntersection&&s.intersects()){L.extend(a._origLatLng,l),a.setLatLng(l);var f=s.options.color;s.setStyle({color:this.options.drawError.color}),c&&c.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){s.setStyle({color:f}),c&&c.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}a._middleLeft&&a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev,a)),a._middleRight&&a._middleRight.setLatLng(this._getMiddleLatLng(a,a._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var p=this._poly.getLatLngs();this._poly._convertLatLngs(p,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(i){var a=L.Polygon&&this._poly instanceof L.Polygon?4:3,s=i.target;this._defaultShape().length<a||(this._removeMarker(s),this._updatePrevNext(s._prev,s._next),s._middleLeft&&this._markerGroup.removeLayer(s._middleLeft),s._middleRight&&this._markerGroup.removeLayer(s._middleRight),s._prev&&s._next?this._createMiddleMarker(s._prev,s._next):s._prev?s._next||(s._prev._middleRight=null):s._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(i){var a=i.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:a,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(i){var a=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),s=this._map.layerPointToLatLng(a),l=i.target;L.extend(l._origLatLng,s),l._middleLeft&&l._middleLeft.setLatLng(this._getMiddleLatLng(l._prev,l)),l._middleRight&&l._middleRight.setLatLng(this._getMiddleLatLng(l,l._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(i,a){this._markerGroup.eachLayer(function(s){s._index>i&&(s._index+=a)})},_createMiddleMarker:function(i,a){var s,l,c,f=this._getMiddleLatLng(i,a),p=this._createMarker(f);p.setOpacity(.6),i._middleRight=a._middleLeft=p,l=function(){p.off("touchmove",l,this);var v=a._index;p._index=v,p.off("click",s,this).on("click",this._onMarkerClick,this),f.lat=p.getLatLng().lat,f.lng=p.getLatLng().lng,this._spliceLatLngs(v,0,f),this._markers.splice(v,0,p),p.setOpacity(1),this._updateIndexes(v,1),a._index++,this._updatePrevNext(i,p),this._updatePrevNext(p,a),this._poly.fire("editstart")},c=function(){p.off("dragstart",l,this),p.off("dragend",c,this),p.off("touchmove",l,this),this._createMiddleMarker(i,p),this._createMiddleMarker(p,a)},s=function(){l.call(this),c.call(this),this._fireEdit()},p.on("click",s,this).on("dragstart",l,this).on("dragend",c,this).on("touchmove",l,this),this._markerGroup.addLayer(p)},_updatePrevNext:function(i,a){i&&(i._next=a),a&&(a._prev=i)},_getMiddleLatLng:function(i,a){var s=this._poly._map,l=s.project(i.getLatLng()),c=s.project(a.getLatLng());return s.unproject(l._add(c)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(i,a){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=i,L.Util.setOptions(this,a)},addHooks:function(){var i=this._shape;this._shape._map&&(this._map=this._shape._map,i.setStyle(i.options.editing),i._map&&(this._map=i._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var i=this._shape;if(i.setStyle(i.options.original),i._map){this._unbindMarker(this._moveMarker);for(var a=0,s=this._resizeMarkers.length;a<s;a++)this._unbindMarker(this._resizeMarkers[a]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(i,a){var s=new L.Marker.Touch(i,{draggable:!0,icon:a,zIndexOffset:10});return this._bindMarker(s),this._markerGroup.addLayer(s),s},_bindMarker:function(i){i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(i){i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(i){i.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(i){var a=i.target,s=a.getLatLng();a===this._moveMarker?this._move(s):this._resize(s),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(i){i.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(i){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i),typeof this._getCorners=="function"){var a=this._getCorners(),s=i.target,l=s._cornerIndex;s.setOpacity(0),this._oppositeCorner=a[(l+2)%4],this._toggleCornerMarkers(0,l)}this._shape.fire("editstart")},_onTouchMove:function(i){var a=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),s=this._map.layerPointToLatLng(a);return i.target===this._moveMarker?this._move(s):this._resize(s),this._shape.redraw(),!1},_onTouchEnd:function(i){i.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getBounds(),a=i.getCenter();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){var i=this._getCorners();this._resizeMarkers=[];for(var a=0,s=i.length;a<s;a++)this._resizeMarkers.push(this._createMarker(i[a],this.options.resizeIcon)),this._resizeMarkers[a]._cornerIndex=a},_onMarkerDragStart:function(i){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i);var a=this._getCorners(),s=i.target,l=s._cornerIndex;this._oppositeCorner=a[(l+2)%4],this._toggleCornerMarkers(0,l)},_onMarkerDragEnd:function(i){var a,s,l=i.target;l===this._moveMarker&&(a=this._shape.getBounds(),s=a.getCenter(),l.setLatLng(s)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,i)},_move:function(i){for(var a,s=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),l=this._shape.getBounds(),c=l.getCenter(),f=[],p=0,v=s.length;p<v;p++)a=[s[p].lat-c.lat,s[p].lng-c.lng],f.push([i.lat+a[0],i.lng+a[1]]);this._shape.setLatLngs(f),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(i){var a;this._shape.setBounds(L.latLngBounds(i,this._oppositeCorner)),a=this._shape.getBounds(),this._moveMarker.setLatLng(a.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var i=this._shape.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_toggleCornerMarkers:function(i){for(var a=0,s=this._resizeMarkers.length;a<s;a++)this._resizeMarkers[a].setOpacity(i)},_repositionCornerMarkers:function(){for(var i=this._getCorners(),a=0,s=this._resizeMarkers.length;a<s;a++)this._resizeMarkers[a].setLatLng(i[a])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getLatLng();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(i){if(this._resizeMarkers.length){var a=this._getResizeMarkerPoint(i);this._resizeMarkers[0].setLatLng(a)}this._shape.setLatLng(i),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var i=this._shape.getLatLng(),a=this._getResizeMarkerPoint(i);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(a,this.options.resizeIcon))},_getResizeMarkerPoint:function(i){var a=this._shape._radius*Math.cos(Math.PI/4),s=this._map.project(i);return this._map.unproject([s.x+a,s.y-a])},_resize:function(i){var a=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=a.distanceTo(i):radius=this._map.distance(a,i),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(i,a){var s={};if(i.touches!==void 0){if(!i.touches.length)return;s=i.touches[0]}else if(i.pointerType!=="touch"||(s=i,!this._filterClick(i)))return;var l=this._map.mouseEventToContainerPoint(s),c=this._map.mouseEventToLayerPoint(s),f=this._map.layerPointToLatLng(c);this._map.fire(a,{latlng:f,layerPoint:c,containerPoint:l,pageX:s.pageX,pageY:s.pageY,originalEvent:i})},_filterClick:function(i){var a=i.timeStamp||i.originalEvent.timeStamp,s=L.DomEvent._lastClick&&a-L.DomEvent._lastClick;return s&&s>100&&s<500||i.target._simulatedClick&&!i._simulated?(L.DomEvent.stop(i),!1):(L.DomEvent._lastClick=a,!0)},_onTouchStart:function(i){this._map._loaded&&this._touchEvent(i,"touchstart")},_onTouchEnd:function(i){this._map._loaded&&this._touchEvent(i,"touchend")},_onTouchCancel:function(i){if(this._map._loaded){var a="touchcancel";this._detectIE()&&(a="pointercancel"),this._touchEvent(i,a)}},_onTouchLeave:function(i){this._map._loaded&&this._touchEvent(i,"touchleave")},_onTouchMove:function(i){this._map._loaded&&this._touchEvent(i,"touchmove")},_detectIE:function(){var i=t.navigator.userAgent,a=i.indexOf("MSIE ");if(a>0)return parseInt(i.substring(a+5,i.indexOf(".",a)),10);if(i.indexOf("Trident/")>0){var s=i.indexOf("rv:");return parseInt(i.substring(s+3,i.indexOf(".",s)),10)}var l=i.indexOf("Edge/");return l>0&&parseInt(i.substring(l+5,i.indexOf(".",l)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var i=this._icon,a=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?a.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):a.concat(["touchcancel"]),L.DomUtil.addClass(i,"leaflet-clickable"),L.DomEvent.on(i,"click",this._onMouseClick,this),L.DomEvent.on(i,"keypress",this._onKeyPress,this);for(var s=0;s<a.length;s++)L.DomEvent.on(i,a[s],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var i=t.navigator.userAgent,a=i.indexOf("MSIE ");if(a>0)return parseInt(i.substring(a+5,i.indexOf(".",a)),10);if(i.indexOf("Trident/")>0){var s=i.indexOf("rv:");return parseInt(i.substring(s+3,i.indexOf(".",s)),10)}var l=i.indexOf("Edge/");return l>0&&parseInt(i.substring(l+5,i.indexOf(".",l)),10)}}),L.LatLngUtil={cloneLatLngs:function(i){for(var a=[],s=0,l=i.length;s<l;s++)Array.isArray(i[s])?a.push(L.LatLngUtil.cloneLatLngs(i[s])):a.push(this.cloneLatLng(i[s]));return a},cloneLatLng:function(i){return L.latLng(i.lat,i.lng)}},(function(){var i={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(a){var s,l,c=a.length,f=0,p=Math.PI/180;if(c>2){for(var v=0;v<c;v++)s=a[v],l=a[(v+1)%c],f+=(l.lng-s.lng)*p*(2+Math.sin(s.lat*p)+Math.sin(l.lat*p));f=6378137*f*6378137/2}return Math.abs(f)},formattedNumber:function(a,s){var l=parseFloat(a).toFixed(s),c=L.drawLocal.format&&L.drawLocal.format.numeric,f=c&&c.delimiters,p=f&&f.thousands,v=f&&f.decimal;if(p||v){var y=l.split(".");l=p?y[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p):y[0],v=v||".",y.length>1&&(l=l+v+y[1])}return l},readableArea:function(a,s,p){var c,f,p=L.Util.extend({},i,p);return s?(f=["ha","m"],type=typeof s,type==="string"?f=[s]:type!=="boolean"&&(f=s),c=a>=1e6&&f.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*a,p.km)+" km":a>=1e4&&f.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*a,p.ha)+" ha":L.GeometryUtil.formattedNumber(a,p.m)+" m"):(a/=.836127,c=a>=3097600?L.GeometryUtil.formattedNumber(a/3097600,p.mi)+" mi":a>=4840?L.GeometryUtil.formattedNumber(a/4840,p.ac)+" acres":L.GeometryUtil.formattedNumber(a,p.yd)+" yd"),c},readableDistance:function(a,s,l,c,v){var p,v=L.Util.extend({},i,v);switch(s?typeof s=="string"?s:"metric":l?"feet":c?"nauticalMile":"yards"){case"metric":p=a>1e3?L.GeometryUtil.formattedNumber(a/1e3,v.km)+" km":L.GeometryUtil.formattedNumber(a,v.m)+" m";break;case"feet":a*=3.28083,p=L.GeometryUtil.formattedNumber(a,v.ft)+" ft";break;case"nauticalMile":a*=.53996,p=L.GeometryUtil.formattedNumber(a/1e3,v.nm)+" nm";break;default:a*=1.09361,p=a>1760?L.GeometryUtil.formattedNumber(a/1760,v.mi)+" miles":L.GeometryUtil.formattedNumber(a,v.yd)+" yd"}return p},isVersion07x:function(){var a=L.version.split(".");return parseInt(a[0],10)===0&&parseInt(a[1],10)===7}})})(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(i,a,s,l){return this._checkCounterclockwise(i,s,l)!==this._checkCounterclockwise(a,s,l)&&this._checkCounterclockwise(i,a,s)!==this._checkCounterclockwise(i,a,l)},_checkCounterclockwise:function(i,a,s){return(s.y-i.y)*(a.x-i.x)>(a.y-i.y)*(s.x-i.x)}}),L.Polyline.include({intersects:function(){var i,a,s,l=this._getProjectedPoints(),c=l?l.length:0;if(this._tooFewPointsForIntersection())return!1;for(i=c-1;i>=3;i--)if(a=l[i-1],s=l[i],this._lineSegmentsIntersectsRange(a,s,i-2))return!0;return!1},newLatLngIntersects:function(i,a){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(i),a)},newPointIntersects:function(i,a){var s=this._getProjectedPoints(),l=s?s.length:0,c=s?s[l-1]:null,f=l-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(c,i,f,a?1:0)},_tooFewPointsForIntersection:function(i){var a=this._getProjectedPoints(),s=a?a.length:0;return s+=i||0,!a||s<=3},_lineSegmentsIntersectsRange:function(i,a,s,l){var c,f,p=this._getProjectedPoints();l=l||0;for(var v=s;v>l;v--)if(c=p[v-1],f=p[v],L.LineUtil.segmentsIntersect(i,a,c,f))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var i=[],a=this._defaultShape(),s=0;s<a.length;s++)i.push(this._map.latLngToLayerPoint(a[s]));return i}}),L.Polygon.include({intersects:function(){var i,a,s,l,c=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(i=c.length,a=c[0],s=c[i-1],l=i-2,this._lineSegmentsIntersectsRange(s,a,l,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(i){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,i);var a;this._toolbars={},L.DrawToolbar&&this.options.draw&&(a=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=a,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(a=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=a,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(i){var a,s=L.DomUtil.create("div","leaflet-draw"),l=!1;for(var c in this._toolbars)this._toolbars.hasOwnProperty(c)&&(a=this._toolbars[c].addToolbar(i))&&(l||(L.DomUtil.hasClass(a,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(a.childNodes[0],"leaflet-draw-toolbar-top"),l=!0),s.appendChild(a));return s},onRemove:function(){for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&this._toolbars[i].removeToolbar()},setDrawingOptions:function(i){for(var a in this._toolbars)this._toolbars[a]instanceof L.DrawToolbar&&this._toolbars[a].setOptions(i)},_toolbarEnabled:function(i){var a=i.target;for(var s in this._toolbars)this._toolbars[s]!==a&&this._toolbars[s].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(i){L.setOptions(this,i),this._modes={},this._actionButtons=[],this._activeMode=null;var a=L.version.split(".");parseInt(a[0],10)===1&&parseInt(a[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(i){var a,s=L.DomUtil.create("div","leaflet-draw-section"),l=0,c=this._toolbarClass||"",f=this.getModeHandlers(i);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=i,a=0;a<f.length;a++)f[a].enabled&&this._initModeHandler(f[a].handler,this._toolbarContainer,l++,c,f[a].title);if(l)return this._lastButtonIndex=--l,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),s.appendChild(this._toolbarContainer),s.appendChild(this._actionsContainer),s},removeToolbar:function(){for(var i in this._modes)this._modes.hasOwnProperty(i)&&(this._disposeButton(this._modes[i].button,this._modes[i].handler.enable,this._modes[i].handler),this._modes[i].handler.disable(),this._modes[i].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var a=0,s=this._actionButtons.length;a<s;a++)this._disposeButton(this._actionButtons[a].button,this._actionButtons[a].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(i,a,s,l,c){var f=i.type;this._modes[f]={},this._modes[f].handler=i,this._modes[f].button=this._createButton({type:f,title:c,className:l+"-"+f,container:a,callback:this._modes[f].handler.enable,context:this._modes[f].handler}),this._modes[f].buttonIndex=s,this._modes[f].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(i){var a=L.DomUtil.create("a",i.className||"",i.container),s=L.DomUtil.create("span","sr-only",i.container);a.href="#",a.appendChild(s),i.title&&(a.title=i.title,s.innerHTML=i.title),i.text&&(a.innerHTML=i.text,s.innerHTML=i.text);var l=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(a,"click",L.DomEvent.stopPropagation).on(a,"mousedown",L.DomEvent.stopPropagation).on(a,"dblclick",L.DomEvent.stopPropagation).on(a,"touchstart",L.DomEvent.stopPropagation).on(a,"click",L.DomEvent.preventDefault).on(a,l,i.callback,i.context),a},_disposeButton:function(i,a){var s=this._detectIOS()?"touchstart":"click";L.DomEvent.off(i,"click",L.DomEvent.stopPropagation).off(i,"mousedown",L.DomEvent.stopPropagation).off(i,"dblclick",L.DomEvent.stopPropagation).off(i,"touchstart",L.DomEvent.stopPropagation).off(i,"click",L.DomEvent.preventDefault).off(i,s,a)},_handlerActivated:function(i){this.disable(),this._activeMode=this._modes[i.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(i){var a,s,l,c,f=this._actionsContainer,p=this.getActions(i),v=p.length;for(s=0,l=this._actionButtons.length;s<l;s++)this._disposeButton(this._actionButtons[s].button,this._actionButtons[s].callback);for(this._actionButtons=[];f.firstChild;)f.removeChild(f.firstChild);for(var y=0;y<v;y++)"enabled"in p[y]&&!p[y].enabled||(a=L.DomUtil.create("li","",f),c=this._createButton({title:p[y].title,text:p[y].text,container:a,callback:p[y].callback,context:p[y].context}),this._actionButtons.push({button:c,callback:p[y].callback}))},_showActionsToolbar:function(){var i=this._activeMode.buttonIndex,a=this._lastButtonIndex,s=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=s+"px",i===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),i===a&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(i){this._map=i,this._popupPane=i._panes.popupPane,this._visible=!1,this._container=i.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(i){return this._container?(i.subtext=i.subtext||"",i.subtext.length!==0||this._singleLineLabel?i.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(i.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+i.subtext+"</span><br />":"")+"<span>"+i.text+"</span>",i.text||i.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(i){var a=this._map.latLngToLayerPoint(i),s=this._container;return this._container&&(this._visible&&(s.style.visibility="inherit"),L.DomUtil.setPosition(s,a)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(i){for(var a in this.options)this.options.hasOwnProperty(a)&&i[a]&&(i[a]=L.extend({},this.options[a],i[a]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,i)},getModeHandlers:function(i){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(i,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(i,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(i,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(i,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(i,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(i,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(i){return[{enabled:i.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:i.completeShape,context:i},{enabled:i.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:i.deleteLastVertex,context:i},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(i){L.setOptions(this,i);for(var a in this._modes)this._modes.hasOwnProperty(a)&&i.hasOwnProperty(a)&&this._modes[a].handler.setOptions(i[a])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(i){i.edit&&(i.edit.selectedPathOptions===void 0&&(i.edit.selectedPathOptions=this.options.edit.selectedPathOptions),i.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,i.edit.selectedPathOptions)),i.remove&&(i.remove=L.extend({},this.options.remove,i.remove)),i.poly&&(i.poly=L.extend({},this.options.poly,i.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,i),this._selectedFeatureCount=0},getModeHandlers:function(i){var a=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(i,{featureGroup:a,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(i,{featureGroup:a}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(i){var a=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return i.removeAllLayers&&a.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),a},addToolbar:function(i){var a=L.Toolbar.prototype.addToolbar.call(this,i);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),a},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var i,a=this.options.featureGroup,s=a.getLayers().length!==0;this.options.edit&&(i=this._modes[L.EditToolbar.Edit.TYPE].button,s?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",s?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(i=this._modes[L.EditToolbar.Delete.TYPE].button,s?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",s?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(i,a){if(L.Handler.prototype.initialize.call(this,i),L.setOptions(this,a),this._featureGroup=a.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),i._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(i){this._revertLayer(i)},this)},save:function(){var i=new L.LayerGroup;this._featureGroup.eachLayer(function(a){a.edited&&(i.addLayer(a),a.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:i})},_backupLayer:function(i){var a=L.Util.stamp(i);this._uneditedLayerProps[a]||(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?this._uneditedLayerProps[a]={latlngs:L.LatLngUtil.cloneLatLngs(i.getLatLngs())}:i instanceof L.Circle?this._uneditedLayerProps[a]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng()),radius:i.getRadius()}:(i instanceof L.Marker||i instanceof L.CircleMarker)&&(this._uneditedLayerProps[a]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(i){var a=L.Util.stamp(i);i.edited=!1,this._uneditedLayerProps.hasOwnProperty(a)&&(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?i.setLatLngs(this._uneditedLayerProps[a].latlngs):i instanceof L.Circle?(i.setLatLng(this._uneditedLayerProps[a].latlng),i.setRadius(this._uneditedLayerProps[a].radius)):(i instanceof L.Marker||i instanceof L.CircleMarker)&&i.setLatLng(this._uneditedLayerProps[a].latlng),i.fire("revert-edited",{layer:i}))},_enableLayerEdit:function(i){var a,s,l=i.layer||i.target||i;this._backupLayer(l),this.options.poly&&(s=L.Util.extend({},this.options.poly),l.options.poly=s),this.options.selectedPathOptions&&(a=L.Util.extend({},this.options.selectedPathOptions),a.maintainColor&&(a.color=l.options.color,a.fillColor=l.options.fillColor),l.options.original=L.extend({},l.options),l.options.editing=a),l instanceof L.Marker?(l.editing&&l.editing.enable(),l.dragging.enable(),l.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):l.editing.enable()},_disableLayerEdit:function(i){var a=i.layer||i.target||i;a.edited=!1,a.editing&&a.editing.disable(),delete a.options.editing,delete a.options.original,this._selectedPathOptions&&(a instanceof L.Marker?this._toggleMarkerHighlight(a):(a.setStyle(a.options.previousOptions),delete a.options.previousOptions)),a instanceof L.Marker?(a.dragging.disable(),a.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):a.editing.disable()},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_onMarkerDragEnd:function(i){var a=i.target;a.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_onTouchMove:function(i){var a=i.originalEvent.changedTouches[0],s=this._map.mouseEventToLayerPoint(a),l=this._map.layerPointToLatLng(s);i.target.setLatLng(l)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(i,a){if(L.Handler.prototype.initialize.call(this,i),L.Util.setOptions(this,a),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(i){this._deletableLayers.addLayer(i),i.fire("revert-deleted",{layer:i})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(i){this._removeLayer({layer:i})},this),this.save()},_enableLayerDelete:function(i){(i.layer||i.target||i).on("click",this._removeLayer,this)},_disableLayerDelete:function(i){var a=i.layer||i.target||i;a.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(a)},_removeLayer:function(i){var a=i.layer||i.target||i;this._deletableLayers.removeLayer(a),this._deletedLayers.addLayer(a),a.fire("deleted")},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);var O2,E3;function Vz(){return E3||(E3=1,O2=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}),O2}var $z=Vz();const T3=$1($z);function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function A3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(r),!0).forEach(function(n){Wz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wz(t,e,r){return(e=Zz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zz(t){var e=Yz(t,"string");return np(e)=="symbol"?e:e+""}function Yz(t,e){if(np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sh={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"};function B8(t){var e=bp(),r=de.useRef(),n=de.useRef(t),i=function(s){var l=t.onCreated,c=e.layerContainer||e.map;c.addLayer(s.layer),l&&l(s)};return Mu.useEffect(function(){var a=e.map,s=t.onMounted;for(var l in Sh)a.on(Sh[l],function(c){var f=Object.keys(Sh).filter(function(v){return Sh[v]===c.type});if(f.length===1){var p=f[0];t[p]&&t[p](c)}});return a.on(Ds.Draw.Event.CREATED,i),r.current=L3(t,e),a.addControl(r.current),s&&s(r.current),function(){a.off(Ds.Draw.Event.CREATED,i);for(var c in Sh)t[c]&&a.off(Sh[c],t[c]);r.current.remove(a)}},[t.onCreated,t.onDeleted,t.onEdited]),Mu.useEffect(function(){if(!(T3(t.draw,n.current.draw)&&T3(t.edit,n.current.edit)&&t.position===n.current.position)){var a=e.map;r.current.remove(a),r.current=L3(t,e),r.current.addTo(a);var s=t.onMounted;return s&&s(r.current),function(){r.current.remove(a)}}},[t.draw,t.edit,t.position,t.onCreated,t.onDeleted,t.onEdited]),null}function L3(t,e){var r=e.layerContainer,n=t.draw,i=t.edit,a=t.position,s={edit:k0(k0({},i),{},{featureGroup:r})};return n&&(s.draw=k0({},n)),a&&(s.position=a),new Ql.Control.Draw(s)}B8.propTypes=k0(k0({},Object.keys(Sh).reduce(function(t,e){return t[e]=on.PropTypes.func,t},{})),{},{onCreated:on.PropTypes.func,onMounted:on.PropTypes.func,draw:on.PropTypes.shape({polyline:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),polygon:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),rectangle:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),circle:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),marker:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool])}),edit:on.PropTypes.shape({edit:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),remove:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),poly:on.PropTypes.oneOfType([on.PropTypes.object,on.PropTypes.bool]),allowIntersection:on.PropTypes.bool}),position:on.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:on.PropTypes.shape({map:on.PropTypes.instanceOf(Ql.Map),layerContainer:on.PropTypes.shape({addLayer:on.PropTypes.func.isRequired,removeLayer:on.PropTypes.func.isRequired})})});function Kz(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t("EPSG:5041","+title=WGS 84 / UPS North (E,N) +proj=stere +lat_0=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t("EPSG:5042","+title=WGS 84 / UPS South (E,N) +proj=stere +lat_0=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var Uh=1,zh=2,fd=3,Xz=4,S_=5,N3=6378137,Jz=6356752314e-3,C3=.0066943799901413165,P0=484813681109536e-20,At=Math.PI/2,Qz=.16666666666666666,eG=.04722222222222222,tG=.022156084656084655,Dt=1e-10,Wi=.017453292519943295,bo=57.29577951308232,On=Math.PI/4,ip=Math.PI*2,la=3.14159265359,Lo={};Lo.greenwich=0;Lo.lisbon=-9.131906111111;Lo.paris=2.337229166667;Lo.bogota=-74.080916666667;Lo.madrid=-3.687938888889;Lo.rome=12.452333333333;Lo.bern=7.439583333333;Lo.jakarta=106.807719444444;Lo.ferro=-17.666666666667;Lo.brussels=4.367975;Lo.stockholm=18.058277777778;Lo.athens=23.7163375;Lo.oslo=10.722916666667;const rG={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var M3=/[\s_\-\/\(\)]/g;function nh(t,e){if(t[e])return t[e];for(var r=Object.keys(t),n=e.toLowerCase().replace(M3,""),i=-1,a,s;++i<r.length;)if(a=r[i],s=a.toLowerCase().replace(M3,""),s===n)return t[a]}function E_(t){var e={},r=t.split("+").map(function(l){return l.trim()}).filter(function(l){return l}).reduce(function(l,c){var f=c.split("=");return f.push(!0),l[f[0].toLowerCase()]=f[1],l},{}),n,i,a,s={proj:"projName",datum:"datumCode",rf:function(l){e.rf=parseFloat(l)},lat_0:function(l){e.lat0=l*Wi},lat_1:function(l){e.lat1=l*Wi},lat_2:function(l){e.lat2=l*Wi},lat_ts:function(l){e.lat_ts=l*Wi},lon_0:function(l){e.long0=l*Wi},lon_1:function(l){e.long1=l*Wi},lon_2:function(l){e.long2=l*Wi},alpha:function(l){e.alpha=parseFloat(l)*Wi},gamma:function(l){e.rectified_grid_angle=parseFloat(l)*Wi},lonc:function(l){e.longc=l*Wi},x_0:function(l){e.x0=parseFloat(l)},y_0:function(l){e.y0=parseFloat(l)},k_0:function(l){e.k0=parseFloat(l)},k:function(l){e.k0=parseFloat(l)},a:function(l){e.a=parseFloat(l)},b:function(l){e.b=parseFloat(l)},r:function(l){e.a=e.b=parseFloat(l)},r_a:function(){e.R_A=!0},zone:function(l){e.zone=parseInt(l,10)},south:function(){e.utmSouth=!0},towgs84:function(l){e.datum_params=l.split(",").map(function(c){return parseFloat(c)})},to_meter:function(l){e.to_meter=parseFloat(l)},units:function(l){e.units=l;var c=nh(rG,l);c&&(e.to_meter=c.to_meter)},from_greenwich:function(l){e.from_greenwich=l*Wi},pm:function(l){var c=nh(Lo,l);e.from_greenwich=(c||parseFloat(l))*Wi},nadgrids:function(l){l==="@null"?e.datumCode="none":e.nadgrids=l},axis:function(l){var c="ewnsud";l.length===3&&c.indexOf(l.substr(0,1))!==-1&&c.indexOf(l.substr(1,1))!==-1&&c.indexOf(l.substr(2,1))!==-1&&(e.axis=l)},approx:function(){e.approx=!0},over:function(){e.over=!0}};for(n in r)i=r[n],n in s?(a=s[n],typeof a=="function"?a(i):e[a]=i):e[n]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e.projStr=t,e}class U8{static getId(e){const r=e.find(n=>Array.isArray(n)&&n[0]==="ID");return r&&r.length>=3?{authority:r[1],code:parseInt(r[2],10)}:null}static convertUnit(e,r="unit"){if(!e||e.length<3)return{type:r,name:"unknown",conversion_factor:null};const n=e[1],i=parseFloat(e[2])||null,a=e.find(l=>Array.isArray(l)&&l[0]==="ID"),s=a?{authority:a[1],code:parseInt(a[2],10)}:null;return{type:r,name:n,conversion_factor:i,id:s}}static convertAxis(e){const r=e[1]||"Unknown";let n;const i=r.match(/^\((.)\)$/);if(i){const f=i[1].toUpperCase();if(f==="E")n="east";else if(f==="N")n="north";else if(f==="U")n="up";else throw new Error(`Unknown axis abbreviation: ${f}`)}else n=e[2]?e[2].toLowerCase():"unknown";const a=e.find(f=>Array.isArray(f)&&f[0]==="ORDER"),s=a?parseInt(a[1],10):null,l=e.find(f=>Array.isArray(f)&&(f[0]==="LENGTHUNIT"||f[0]==="ANGLEUNIT"||f[0]==="SCALEUNIT")),c=this.convertUnit(l);return{name:r,direction:n,unit:c,order:s}}static extractAxes(e){return e.filter(r=>Array.isArray(r)&&r[0]==="AXIS").map(r=>this.convertAxis(r)).sort((r,n)=>(r.order||0)-(n.order||0))}static convert(e,r={}){switch(e[0]){case"PROJCRS":r.type="ProjectedCRS",r.name=e[1],r.base_crs=e.find(y=>Array.isArray(y)&&y[0]==="BASEGEOGCRS")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="BASEGEOGCRS")):null,r.conversion=e.find(y=>Array.isArray(y)&&y[0]==="CONVERSION")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="CONVERSION")):null;const n=e.find(y=>Array.isArray(y)&&y[0]==="CS");n&&(r.coordinate_system={type:n[1],axis:this.extractAxes(e)});const i=e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT");if(i){const y=this.convertUnit(i);r.coordinate_system.unit=y}r.id=this.getId(e);break;case"BASEGEOGCRS":case"GEOGCRS":r.type="GeographicCRS",r.name=e[1];const a=e.find(y=>Array.isArray(y)&&(y[0]==="DATUM"||y[0]==="ENSEMBLE"));if(a){const y=this.convert(a);a[0]==="ENSEMBLE"?r.datum_ensemble=y:r.datum=y;const _=e.find(T=>Array.isArray(T)&&T[0]==="PRIMEM");_&&_[1]!=="Greenwich"&&(y.prime_meridian={name:_[1],longitude:parseFloat(_[2])})}r.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(e)},r.id=this.getId(e);break;case"DATUM":r.type="GeodeticReferenceFrame",r.name=e[1],r.ellipsoid=e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":r.type="DatumEnsemble",r.name=e[1],r.members=e.filter(y=>Array.isArray(y)&&y[0]==="MEMBER").map(y=>({type:"DatumEnsembleMember",name:y[1],id:this.getId(y)}));const s=e.find(y=>Array.isArray(y)&&y[0]==="ENSEMBLEACCURACY");s&&(r.accuracy=parseFloat(s[1]));const l=e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID");l&&(r.ellipsoid=this.convert(l)),r.id=this.getId(e);break;case"ELLIPSOID":r.type="Ellipsoid",r.name=e[1],r.semi_major_axis=parseFloat(e[2]),r.inverse_flattening=parseFloat(e[3]),e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT")&&this.convert(e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT"),r);break;case"CONVERSION":r.type="Conversion",r.name=e[1],r.method=e.find(y=>Array.isArray(y)&&y[0]==="METHOD")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="METHOD")):null,r.parameters=e.filter(y=>Array.isArray(y)&&y[0]==="PARAMETER").map(y=>this.convert(y));break;case"METHOD":r.type="Method",r.name=e[1],r.id=this.getId(e);break;case"PARAMETER":r.type="Parameter",r.name=e[1],r.value=parseFloat(e[2]),r.unit=this.convertUnit(e.find(y=>Array.isArray(y)&&(y[0]==="LENGTHUNIT"||y[0]==="ANGLEUNIT"||y[0]==="SCALEUNIT"))),r.id=this.getId(e);break;case"BOUNDCRS":r.type="BoundCRS";const c=e.find(y=>Array.isArray(y)&&y[0]==="SOURCECRS");if(c){const y=c.find(_=>Array.isArray(_));r.source_crs=y?this.convert(y):null}const f=e.find(y=>Array.isArray(y)&&y[0]==="TARGETCRS");if(f){const y=f.find(_=>Array.isArray(_));r.target_crs=y?this.convert(y):null}const p=e.find(y=>Array.isArray(y)&&y[0]==="ABRIDGEDTRANSFORMATION");p?r.transformation=this.convert(p):r.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(r.type="Transformation",r.name=e[1],r.method=e.find(y=>Array.isArray(y)&&y[0]==="METHOD")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="METHOD")):null,r.parameters=e.filter(y=>Array.isArray(y)&&(y[0]==="PARAMETER"||y[0]==="PARAMETERFILE")).map(y=>{if(y[0]==="PARAMETER")return this.convert(y);if(y[0]==="PARAMETERFILE")return{name:y[1],value:y[2],id:{authority:"EPSG",code:8656}}}),r.parameters.length===7){const y=r.parameters[6];y.name==="Scale difference"&&(y.value=Math.round((y.value-1)*1e12)/1e6)}r.id=this.getId(e);break;case"AXIS":r.coordinate_system||(r.coordinate_system={type:"unspecified",axis:[]}),r.coordinate_system.axis.push(this.convertAxis(e));break;case"LENGTHUNIT":const v=this.convertUnit(e,"LinearUnit");r.coordinate_system&&r.coordinate_system.axis&&r.coordinate_system.axis.forEach(y=>{y.unit||(y.unit=v)}),v.conversion_factor&&v.conversion_factor!==1&&r.semi_major_axis&&(r.semi_major_axis={value:r.semi_major_axis,unit:v});break;default:r.keyword=e[0];break}return r}}class nG extends U8{static convert(e,r={}){return super.convert(e,r),r.coordinate_system&&r.coordinate_system.subtype==="Cartesian"&&delete r.coordinate_system,r.usage&&delete r.usage,r}}class iG extends U8{static convert(e,r={}){super.convert(e,r);const n=e.find(a=>Array.isArray(a)&&a[0]==="CS");n&&(r.coordinate_system={subtype:n[1],axis:this.extractAxes(e)});const i=e.find(a=>Array.isArray(a)&&a[0]==="USAGE");if(i){const a=i.find(c=>Array.isArray(c)&&c[0]==="SCOPE"),s=i.find(c=>Array.isArray(c)&&c[0]==="AREA"),l=i.find(c=>Array.isArray(c)&&c[0]==="BBOX");r.usage={},a&&(r.usage.scope=a[1]),s&&(r.usage.area=s[1]),l&&(r.usage.bbox=l.slice(1))}return r}}function aG(t){return t.find(e=>Array.isArray(e)&&e[0]==="USAGE")?"2019":(t.find(e=>Array.isArray(e)&&e[0]==="CS")||t[0]==="BOUNDCRS"||t[0]==="PROJCRS"||t[0]==="GEOGCRS","2015")}function sG(t){return(aG(t)==="2019"?iG:nG).convert(t)}function oG(t){const e=t.toUpperCase();return e.includes("PROJCRS")||e.includes("GEOGCRS")||e.includes("BOUNDCRS")||e.includes("VERTCRS")||e.includes("LENGTHUNIT")||e.includes("ANGLEUNIT")||e.includes("SCALEUNIT")?"WKT2":(e.includes("PROJCS")||e.includes("GEOGCS")||e.includes("LOCAL_CS")||e.includes("VERT_CS")||e.includes("UNIT"),"WKT1")}var ap=1,z8=2,G8=3,F1=4,H8=5,xy=-1,lG=/\s/,uG=/[A-Za-z]/,cG=/[A-Za-z84_]/,gg=/[,\]]/,q8=/[\d\.E\-\+]/;function gc(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=ap}gc.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==F1)for(;lG.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case ap:return this.neutral(t);case z8:return this.keyword(t);case F1:return this.quoted(t);case H8:return this.afterquote(t);case G8:return this.number(t);case xy:return}};gc.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=F1;return}if(gg.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};gc.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=ap;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=ap,this.currentObject=this.stack.pop(),this.currentObject||(this.state=xy);return}};gc.prototype.number=function(t){if(q8.test(t)){this.word+=t;return}if(gg.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};gc.prototype.quoted=function(t){if(t==='"'){this.state=H8;return}this.word+=t};gc.prototype.keyword=function(t){if(cG.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=ap;return}if(gg.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};gc.prototype.neutral=function(t){if(uG.test(t)){this.word=t,this.state=z8;return}if(t==='"'){this.word="",this.state=F1;return}if(q8.test(t)){this.word=t,this.state=G8;return}if(gg.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};gc.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===xy)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function hG(t){var e=new gc(t);return e.output()}function R2(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var n=e?{}:t,i=r.reduce(function(a,s){return Jf(s,a),a},n);e&&(t[e]=i)}function Jf(t,e){if(!Array.isArray(t)){e[t]=!0;return}var r=t.shift();if(r==="PARAMETER"&&(r=t.shift()),t.length===1){if(Array.isArray(t[0])){e[r]={},Jf(t[0],e[r]);return}e[r]=t[0];return}if(!t.length){e[r]=!0;return}if(r==="TOWGS84"){e[r]=t;return}if(r==="AXIS"){r in e||(e[r]=[]),e[r].push(t);return}Array.isArray(r)||(e[r]={});var n;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[r]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Jf(t[2],e[r]);return;case"SPHEROID":case"ELLIPSOID":e[r]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Jf(t[3],e[r]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],R2(e,r,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],R2(e,r,t),e[r].type=r;return;default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return Jf(t,e[r]);return R2(e,r,t)}}var fG=.017453292519943295;function ql(t){return t*fG}function V8(t){const e=(t.projName||"").toLowerCase().replace(/_/g," ");!t.long0&&t.longc&&(e==="albers conic equal area"||e==="lambert azimuthal equal area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(e==="stereographic south pole"||e==="polar stereographic (variant b)")?(t.lat0=ql(t.lat1>0?90:-90),t.lat_ts=t.lat1,delete t.lat1):!t.lat_ts&&t.lat0&&(e==="polar stereographic"||e==="polar stereographic (variant a)")&&(t.lat_ts=t.lat0,t.lat0=ql(t.lat0>0?90:-90),delete t.lat1)}function k3(t){let e={units:null,to_meter:void 0};return typeof t=="string"?(e.units=t.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.units==="meter"&&(e.to_meter=1)):t&&t.name&&(e.units=t.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.to_meter=t.conversion_factor),e}function P3(t){return typeof t=="object"?t.value*t.unit.conversion_factor:t}function O3(t,e){t.ellipsoid.radius?(e.a=t.ellipsoid.radius,e.rf=0):(e.a=P3(t.ellipsoid.semi_major_axis),t.ellipsoid.inverse_flattening!==void 0?e.rf=t.ellipsoid.inverse_flattening:t.ellipsoid.semi_major_axis!==void 0&&t.ellipsoid.semi_minor_axis!==void 0&&(e.rf=e.a/(e.a-P3(t.ellipsoid.semi_minor_axis))))}function B1(t,e={}){return!t||typeof t!="object"?t:t.type==="BoundCRS"?(B1(t.source_crs,e),t.transformation&&(t.transformation.method&&t.transformation.method.name==="NTv2"?e.nadgrids=t.transformation.parameters[0].value:e.datum_params=t.transformation.parameters.map(r=>r.value)),e):(Object.keys(t).forEach(r=>{const n=t[r];if(n!==null)switch(r){case"name":if(e.srsCode)break;e.name=n,e.srsCode=n;break;case"type":n==="GeographicCRS"?e.projName="longlat":n==="ProjectedCRS"&&t.conversion&&t.conversion.method&&(e.projName=t.conversion.method.name);break;case"datum":case"datum_ensemble":n.ellipsoid&&(e.ellps=n.ellipsoid.name,O3(n,e)),n.prime_meridian&&(e.from_greenwich=n.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":e.ellps=n.name,O3(n,e);break;case"prime_meridian":e.long0=(n.longitude||0)*Math.PI/180;break;case"coordinate_system":if(n.axis){if(e.axis=n.axis.map(i=>{const a=i.direction;if(a==="east")return"e";if(a==="north")return"n";if(a==="west")return"w";if(a==="south")return"s";throw new Error(`Unknown axis direction: ${a}`)}).join("")+"u",n.unit){const{units:i,to_meter:a}=k3(n.unit);e.units=i,e.to_meter=a}else if(n.axis[0]&&n.axis[0].unit){const{units:i,to_meter:a}=k3(n.axis[0].unit);e.units=i,e.to_meter=a}}break;case"id":n.authority&&n.code&&(e.title=n.authority+":"+n.code);break;case"conversion":n.method&&n.method.name&&(e.projName=n.method.name),n.parameters&&n.parameters.forEach(i=>{const a=i.name.toLowerCase().replace(/\s+/g,"_"),s=i.value;i.unit&&i.unit.conversion_factor?e[a]=s*i.unit.conversion_factor:i.unit==="degree"?e[a]=s*Math.PI/180:e[a]=s});break;case"unit":n.name&&(e.units=n.name.toLowerCase(),e.units==="metre"&&(e.units="meter")),n.conversion_factor&&(e.to_meter=n.conversion_factor);break;case"base_crs":B1(n,e),e.datumCode=n.id?n.id.authority+"_"+n.id.code:n.name;break}}),e.latitude_of_false_origin!==void 0&&(e.lat0=e.latitude_of_false_origin),e.longitude_of_false_origin!==void 0&&(e.long0=e.longitude_of_false_origin),e.latitude_of_standard_parallel!==void 0&&(e.lat0=e.latitude_of_standard_parallel,e.lat1=e.latitude_of_standard_parallel),e.latitude_of_1st_standard_parallel!==void 0&&(e.lat1=e.latitude_of_1st_standard_parallel),e.latitude_of_2nd_standard_parallel!==void 0&&(e.lat2=e.latitude_of_2nd_standard_parallel),e.latitude_of_projection_centre!==void 0&&(e.lat0=e.latitude_of_projection_centre),e.longitude_of_projection_centre!==void 0&&(e.longc=e.longitude_of_projection_centre),e.easting_at_false_origin!==void 0&&(e.x0=e.easting_at_false_origin),e.northing_at_false_origin!==void 0&&(e.y0=e.northing_at_false_origin),e.latitude_of_natural_origin!==void 0&&(e.lat0=e.latitude_of_natural_origin),e.longitude_of_natural_origin!==void 0&&(e.long0=e.longitude_of_natural_origin),e.longitude_of_origin!==void 0&&(e.long0=e.longitude_of_origin),e.false_easting!==void 0&&(e.x0=e.false_easting),e.easting_at_projection_centre&&(e.x0=e.easting_at_projection_centre),e.false_northing!==void 0&&(e.y0=e.false_northing),e.northing_at_projection_centre&&(e.y0=e.northing_at_projection_centre),e.standard_parallel_1!==void 0&&(e.lat1=e.standard_parallel_1),e.standard_parallel_2!==void 0&&(e.lat2=e.standard_parallel_2),e.scale_factor_at_natural_origin!==void 0&&(e.k0=e.scale_factor_at_natural_origin),e.scale_factor_at_projection_centre!==void 0&&(e.k0=e.scale_factor_at_projection_centre),e.scale_factor_on_pseudo_standard_parallel!==void 0&&(e.k0=e.scale_factor_on_pseudo_standard_parallel),e.azimuth!==void 0&&(e.alpha=e.azimuth),e.azimuth_at_projection_centre!==void 0&&(e.alpha=e.azimuth_at_projection_centre),e.angle_from_rectified_to_skew_grid&&(e.rectified_grid_angle=e.angle_from_rectified_to_skew_grid),V8(e),e)}var dG=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function pG(t,e){var r=e[0],n=e[1];!(r in t)&&n in t&&(t[r]=t[n],e.length===3&&(t[r]=e[2](t[r])))}function $8(t){for(var e=Object.keys(t),r=0,n=e.length;r<n;++r){var i=e[r];dG.indexOf(i)!==-1&&mG(t[i]),typeof t[i]=="object"&&$8(t[i])}}function mG(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var r="",n=0,i=t.AXIS.length;n<i;++n){var a=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];a[0].indexOf("north")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="north"?r+="n":a[0].indexOf("south")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="south"?r+="s":a[0].indexOf("east")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="east"?r+="e":(a[0].indexOf("west")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="west")&&(r+="w")}r.length===2&&(r+="u"),r.length===3&&(t.axis=r)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),t.rectified_grid_angle&&(t.rectified_grid_angle=ql(t.rectified_grid_angle));function l(p){var v=t.to_meter||1;return p*v}var c=function(p){return pG(t,p)},f=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",ql],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",ql],["x0","false_easting",l],["y0","false_northing",l],["long0","central_meridian",ql],["lat0","latitude_of_origin",ql],["lat0","standard_parallel_1",ql],["lat1","standard_parallel_1",ql],["lat2","standard_parallel_2",ql],["azimuth","Azimuth"],["alpha","azimuth",ql],["srsCode","name"]];f.forEach(c),V8(t)}function U1(t){if(typeof t=="object")return B1(t);const e=oG(t);var r=hG(t);if(e==="WKT2"){const a=sG(r);return B1(a)}var n=r[0],i={};return Jf(r,i),$8(i),i[n]}function ps(t){var e=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?ps[t]=E_(arguments[1]):ps[t]=U1(arguments[1]):r&&typeof r=="object"&&!("projName"in r)?ps[t]=U1(arguments[1]):(ps[t]=r,r||delete ps[t])}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(n){return Array.isArray(n)?ps.apply(e,n):ps(n)});if(typeof t=="string"){if(t in ps)return ps[t]}else"EPSG"in t?ps["EPSG:"+t.EPSG]=t:"ESRI"in t?ps["ESRI:"+t.ESRI]=t:"IAU2000"in t?ps["IAU2000:"+t.IAU2000]=t:console.log(t);return}}Kz(ps);function gG(t){return typeof t=="string"}function vG(t){return t in ps}function _G(t){return t.indexOf("+")!==0&&t.indexOf("[")!==-1||typeof t=="object"&&!("srsCode"in t)}var yG=["3857","900913","3785","102113"];function xG(t){var e=nh(t,"authority");if(e){var r=nh(e,"epsg");return r&&yG.indexOf(r)>-1}}function wG(t){var e=nh(t,"extension");if(e)return nh(e,"proj4")}function bG(t){return t[0]==="+"}function SG(t){if(gG(t)){if(vG(t))return ps[t];if(_G(t)){var e=U1(t);if(xG(e))return ps["EPSG:3857"];var r=wG(e);return r?E_(r):e}if(bG(t))return E_(t)}else return"projName"in t?t:U1(t)}function R3(t,e){t=t||{};var r,n;if(!e)return t;for(n in e)r=e[n],r!==void 0&&(t[n]=r);return t}function Ru(t,e,r){var n=t*e;return r/Math.sqrt(1-n*n)}function Ep(t){return t<0?-1:1}function It(t,e){return e||Math.abs(t)<=la?t:t-Ep(t)*ip}function Yl(t,e,r){var n=t*r,i=.5*t;return n=Math.pow((1-n)/(1+n),i),Math.tan(.5*(At-e))/n}function sp(t,e){for(var r=.5*t,n,i,a=At-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(a),i=At-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-a,a+=i,Math.abs(i)<=1e-10)return a;return-9999}function EG(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ru(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function TG(t){var e=t.x,r=t.y;if(r*bo>90&&r*bo<-90&&e*bo>180&&e*bo<-180)return null;var n,i;if(Math.abs(Math.abs(r)-At)<=Dt)return null;if(this.sphere)n=this.x0+this.a*this.k0*It(e-this.long0,this.over),i=this.y0+this.a*this.k0*Math.log(Math.tan(On+.5*r));else{var a=Math.sin(r),s=Yl(this.e,r,a);n=this.x0+this.a*this.k0*It(e-this.long0,this.over),i=this.y0-this.a*this.k0*Math.log(s)}return t.x=n,t.y=i,t}function AG(t){var e=t.x-this.x0,r=t.y-this.y0,n,i;if(this.sphere)i=At-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var a=Math.exp(-r/(this.a*this.k0));if(i=sp(this.e,a),i===-9999)return null}return n=It(this.long0+e/(this.a*this.k0),this.over),t.x=n,t.y=i,t}var LG=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"];const NG={init:EG,forward:TG,inverse:AG,names:LG};function CG(){}function D3(t){return t}var W8=["longlat","identity"];const MG={init:CG,forward:D3,inverse:D3,names:W8};var kG=[NG,MG],Eh={},Qf=[];function Z8(t,e){var r=Qf.length;return t.names?(Qf[r]=t,t.names.forEach(function(n){Eh[n.toLowerCase()]=r}),this):(console.log(e),!0)}function Y8(t){return t.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function PG(t){if(!t)return!1;var e=t.toLowerCase();if(typeof Eh[e]<"u"&&Qf[Eh[e]]||(e=Y8(e),e in Eh&&Qf[Eh[e]]))return Qf[Eh[e]]}function OG(){kG.forEach(Z8)}const RG={start:OG,add:Z8,get:PG};var K8={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};const DG=K8.WGS84;function jG(t,e,r,n){var i=t*t,a=e*e,s=(i-a)/i,l=0;n?(t*=1-s*(Qz+s*(eG+s*tG)),i=t*t,s=0):l=Math.sqrt(s);var c=(i-a)/a;return{es:s,e:l,ep2:c}}function IG(t,e,r,n,i){if(!t){var a=nh(K8,n);a||(a=DG),t=a.a,e=a.b,r=a.rf}return r&&!e&&(e=(1-1/r)*t),(r===0||Math.abs(t-e)<Dt)&&(i=!0,e=t),{a:t,b:e,rf:r,sphere:i}}var o1={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var FG in o1){var D2=o1[FG];D2.datumName&&(o1[D2.datumName]=D2)}function BG(t,e,r,n,i,a,s){var l={};return t===void 0||t==="none"?l.datum_type=S_:l.datum_type=Xz,e&&(l.datum_params=e.map(parseFloat),(l.datum_params[0]!==0||l.datum_params[1]!==0||l.datum_params[2]!==0)&&(l.datum_type=Uh),l.datum_params.length>3&&(l.datum_params[3]!==0||l.datum_params[4]!==0||l.datum_params[5]!==0||l.datum_params[6]!==0)&&(l.datum_type=zh,l.datum_params[3]*=P0,l.datum_params[4]*=P0,l.datum_params[5]*=P0,l.datum_params[6]=l.datum_params[6]/1e6+1)),s&&(l.datum_type=fd,l.grids=s),l.a=r,l.b=n,l.es=i,l.ep2=a,l}var wy={};function UG(t,e,r){return e instanceof ArrayBuffer?zG(t,e,r):{ready:GG(t,e)}}function zG(t,e,r){var n=!0;r!==void 0&&r.includeErrorFields===!1&&(n=!1);var i=new DataView(e),a=VG(i),s=$G(i,a),l=WG(i,s,a,n),c={header:s,subgrids:l};return wy[t]=c,c}async function GG(t,e){for(var r=[],n=await e.getImageCount(),i=n-1;i>=0;i--){var a=await e.getImage(i),s=await a.readRasters(),l=s,c=[a.getWidth(),a.getHeight()],f=a.getBoundingBox().map(j3),p=[a.fileDirectory.ModelPixelScale[0],a.fileDirectory.ModelPixelScale[1]].map(j3),v=f[0]+(c[0]-1)*p[0],y=f[3]-(c[1]-1)*p[1],_=l[0],T=l[1],b=[];for(let j=c[1]-1;j>=0;j--)for(let R=c[0]-1;R>=0;R--){var C=j*c[0]+R;b.push([-Xc(T[C]),Xc(_[C])])}r.push({del:p,lim:c,ll:[-v,y],cvs:b})}var P={header:{nSubgrids:n},subgrids:r};return wy[t]=P,P}function HG(t){if(t===void 0)return null;var e=t.split(",");return e.map(qG)}function qG(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:wy[t]||null,isNull:!1}}function j3(t){return t*Math.PI/180}function Xc(t){return t/3600*Math.PI/180}function VG(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function $G(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:T_(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function T_(t,e,r){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,r)))}function WG(t,e,r,n){for(var i=176,a=[],s=0;s<e.nSubgrids;s++){var l=YG(t,i,r),c=KG(t,i,l,r,n),f=Math.round(1+(l.upperLongitude-l.lowerLongitude)/l.longitudeInterval),p=Math.round(1+(l.upperLatitude-l.lowerLatitude)/l.latitudeInterval);a.push({ll:[Xc(l.lowerLongitude),Xc(l.lowerLatitude)],del:[Xc(l.longitudeInterval),Xc(l.latitudeInterval)],lim:[f,p],count:l.gridNodeCount,cvs:ZG(c)});var v=16;n===!1&&(v=8),i+=176+l.gridNodeCount*v}return a}function ZG(t){return t.map(function(e){return[Xc(e.longitudeShift),Xc(e.latitudeShift)]})}function YG(t,e,r){return{name:T_(t,e+8,e+16).trim(),parent:T_(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,r),upperLatitude:t.getFloat64(e+88,r),lowerLongitude:t.getFloat64(e+104,r),upperLongitude:t.getFloat64(e+120,r),latitudeInterval:t.getFloat64(e+136,r),longitudeInterval:t.getFloat64(e+152,r),gridNodeCount:t.getInt32(e+168,r)}}function KG(t,e,r,n,i){var a=e+176,s=16;i===!1&&(s=8);for(var l=[],c=0;c<r.gridNodeCount;c++){var f={latitudeShift:t.getFloat32(a+c*s,n),longitudeShift:t.getFloat32(a+c*s+4,n)};i!==!1&&(f.latitudeAccuracy=t.getFloat32(a+c*s+8,n),f.longitudeAccuracy=t.getFloat32(a+c*s+12,n)),l.push(f)}return l}function yl(t,e){if(!(this instanceof yl))return new yl(t);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,e=e||function(f){if(f)throw f};var r=SG(t);if(typeof r!="object"){e("Could not parse to valid json: "+t);return}var n=yl.projections.get(r.projName);if(!n){e("Could not get projection name from: "+t);return}if(r.datumCode&&r.datumCode!=="none"){var i=nh(o1,r.datumCode);i&&(r.datum_params=r.datum_params||(i.towgs84?i.towgs84.split(","):null),r.ellps=i.ellipse,r.datumName=i.datumName?i.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var a=IG(r.a,r.b,r.rf,r.ellps,r.sphere),s=jG(a.a,a.b,a.rf,r.R_A),l=HG(r.nadgrids),c=r.datum||BG(r.datumCode,r.datum_params,a.a,a.b,s.es,s.ep2,l);R3(this,r),R3(this,n),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=c,"init"in this&&typeof this.init=="function"&&this.init(),e(null,this)}yl.projections=RG;yl.projections.start();function XG(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===Uh?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===zh?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function X8(t,e,r){var n=t.x,i=t.y,a=t.z?t.z:0,s,l,c,f;if(i<-At&&i>-1.001*At)i=-At;else if(i>At&&i<1.001*At)i=At;else{if(i<-At)return{x:-1/0,y:-1/0,z:t.z};if(i>At)return{x:1/0,y:1/0,z:t.z}}return n>Math.PI&&(n-=2*Math.PI),l=Math.sin(i),f=Math.cos(i),c=l*l,s=r/Math.sqrt(1-e*c),{x:(s+a)*f*Math.cos(n),y:(s+a)*f*Math.sin(n),z:(s*(1-e)+a)*l}}function J8(t,e,r,n){var i=1e-12,a=i*i,s=30,l,c,f,p,v,y,_,T,b,C,P,j,R,B=t.x,te=t.y,ue=t.z?t.z:0,F,K,U;if(l=Math.sqrt(B*B+te*te),c=Math.sqrt(B*B+te*te+ue*ue),l/r<i){if(F=0,c/r<i)return K=At,U=-n,{x:t.x,y:t.y,z:t.z}}else F=Math.atan2(te,B);f=ue/c,p=l/c,v=1/Math.sqrt(1-e*(2-e)*p*p),T=p*(1-e)*v,b=f*v,R=0;do R++,_=r/Math.sqrt(1-e*b*b),U=l*T+ue*b-_*(1-e*b*b),y=e*_/(_+U),v=1/Math.sqrt(1-y*(2-y)*p*p),C=p*(1-y)*v,P=f*v,j=P*T-C*b,T=C,b=P;while(j*j>a&&R<s);return K=Math.atan(P/Math.abs(C)),{x:F,y:K,z:U}}function JG(t,e,r){if(e===Uh)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===zh){var n=r[0],i=r[1],a=r[2],s=r[3],l=r[4],c=r[5],f=r[6];return{x:f*(t.x-c*t.y+l*t.z)+n,y:f*(c*t.x+t.y-s*t.z)+i,z:f*(-l*t.x+s*t.y+t.z)+a}}}function QG(t,e,r){if(e===Uh)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===zh){var n=r[0],i=r[1],a=r[2],s=r[3],l=r[4],c=r[5],f=r[6],p=(t.x-n)/f,v=(t.y-i)/f,y=(t.z-a)/f;return{x:p+c*v-l*y,y:-c*p+v+s*y,z:l*p-s*v+y}}}function Wm(t){return t===Uh||t===zh}function eH(t,e,r){if(XG(t,e)||t.datum_type===S_||e.datum_type===S_)return r;var n=t.a,i=t.es;if(t.datum_type===fd){var a=I3(t,!1,r);if(a!==0)return;n=N3,i=C3}var s=e.a,l=e.b,c=e.es;if(e.datum_type===fd&&(s=N3,l=Jz,c=C3),i===c&&n===s&&!Wm(t.datum_type)&&!Wm(e.datum_type))return r;if(r=X8(r,i,n),Wm(t.datum_type)&&(r=JG(r,t.datum_type,t.datum_params)),Wm(e.datum_type)&&(r=QG(r,e.datum_type,e.datum_params)),r=J8(r,c,s,l),e.datum_type===fd){var f=I3(e,!0,r);if(f!==0)return}return r}function I3(t,e,r){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var n={x:-r.x,y:r.y},i={x:Number.NaN,y:Number.NaN},a=[];e:for(var s=0;s<t.grids.length;s++){var l=t.grids[s];if(a.push(l.name),l.isNull){i=n;break}if(l.grid===null){if(l.mandatory)return console.log("Unable to find mandatory grid '"+l.name+"'"),-1;continue}for(var c=l.grid.subgrids,f=0,p=c.length;f<p;f++){var v=c[f],y=(Math.abs(v.del[1])+Math.abs(v.del[0]))/1e4,_=v.ll[0]-y,T=v.ll[1]-y,b=v.ll[0]+(v.lim[0]-1)*v.del[0]+y,C=v.ll[1]+(v.lim[1]-1)*v.del[1]+y;if(!(T>n.y||_>n.x||C<n.y||b<n.x)&&(i=tH(n,e,v),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*bo+" "+n.y*bo+" tried: '"+a+"'"),-1):(r.x=-i.x,r.y=i.y,0)}function tH(t,e,r){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var i={x:t.x,y:t.y};i.x-=r.ll[0],i.y-=r.ll[1],i.x=It(i.x-Math.PI)+Math.PI;var a=F3(i,r);if(e){if(isNaN(a.x))return n;a.x=i.x-a.x,a.y=i.y-a.y;var s=9,l=1e-12,c,f;do{if(f=F3(a,r),isNaN(f.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}c={x:i.x-(f.x+a.x),y:i.y-(f.y+a.y)},a.x+=c.x,a.y+=c.y}while(s--&&Math.abs(c.x)>l&&Math.abs(c.y)>l);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=It(a.x+r.ll[0]),n.y=a.y+r.ll[1]}else isNaN(a.x)||(n.x=t.x+a.x,n.y=t.y+a.y);return n}function F3(t,e){var r={x:t.x/e.del[0],y:t.y/e.del[1]},n={x:Math.floor(r.x),y:Math.floor(r.y)},i={x:r.x-1*n.x,y:r.y-1*n.y},a={x:Number.NaN,y:Number.NaN},s;if(n.x<0||n.x>=e.lim[0]||n.y<0||n.y>=e.lim[1])return a;s=n.y*e.lim[0]+n.x;var l={x:e.cvs[s][0],y:e.cvs[s][1]};s++;var c={x:e.cvs[s][0],y:e.cvs[s][1]};s+=e.lim[0];var f={x:e.cvs[s][0],y:e.cvs[s][1]};s--;var p={x:e.cvs[s][0],y:e.cvs[s][1]},v=i.x*i.y,y=i.x*(1-i.y),_=(1-i.x)*(1-i.y),T=(1-i.x)*i.y;return a.x=_*l.x+y*c.x+T*p.x+v*f.x,a.y=_*l.y+y*c.y+T*p.y+v*f.y,a}function B3(t,e,r){var n=r.x,i=r.y,a=r.z||0,s,l,c,f={};for(c=0;c<3;c++)if(!(e&&c===2&&r.z===void 0))switch(c===0?(s=n,"ew".indexOf(t.axis[c])!==-1?l="x":l="y"):c===1?(s=i,"ns".indexOf(t.axis[c])!==-1?l="y":l="x"):(s=a,l="z"),t.axis[c]){case"e":f[l]=s;break;case"w":f[l]=-s;break;case"n":f[l]=s;break;case"s":f[l]=-s;break;case"u":r[l]!==void 0&&(f.z=s);break;case"d":r[l]!==void 0&&(f.z=-s);break;default:return null}return f}function Q8(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function rH(t){U3(t.x),U3(t.y)}function U3(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function nH(t,e){return(t.datum.datum_type===Uh||t.datum.datum_type===zh||t.datum.datum_type===fd)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Uh||e.datum.datum_type===zh||e.datum.datum_type===fd)&&t.datumCode!=="WGS84"}function z1(t,e,r,n){var i;Array.isArray(r)?r=Q8(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var a=r.z!==void 0;if(rH(r),t.datum&&e.datum&&nH(t,e)&&(i=new yl("WGS84"),r=z1(t,i,r,n),t=i),n&&t.axis!=="enu"&&(r=B3(t,!1,r)),t.projName==="longlat")r={x:r.x*Wi,y:r.y*Wi,z:r.z||0};else if(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),r=t.inverse(r),!r)return;if(t.from_greenwich&&(r.x+=t.from_greenwich),r=eH(t.datum,e.datum,r),!!r)return r=r,e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),e.projName==="longlat"?r={x:r.x*bo,y:r.y*bo,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),n&&e.axis!=="enu"?B3(e,!0,r):(r&&!a&&delete r.z,r)}var z3=yl("WGS84");function j2(t,e,r,n){var i,a,s;return Array.isArray(r)?(i=z1(t,e,r,n)||{x:NaN,y:NaN},r.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(r.slice(3)):[i.x,i.y,r[2]].concat(r.slice(3)):[i.x,i.y].concat(r.slice(2)):[i.x,i.y]):(a=z1(t,e,r,n),s=Object.keys(r),s.length===2||s.forEach(function(l){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(l==="x"||l==="y"||l==="z")return}else if(l==="x"||l==="y")return;a[l]=r[l]}),a)}function Zm(t){return t instanceof yl?t:typeof t=="object"&&"oProj"in t?t.oProj:yl(t)}function iH(t,e,r){var n,i,a=!1,s;return typeof e>"u"?(i=Zm(t),n=z3,a=!0):(typeof e.x<"u"||Array.isArray(e))&&(r=e,i=Zm(t),n=z3,a=!0),n||(n=Zm(t)),i||(i=Zm(e)),r?j2(n,i,r):(s={forward:function(l,c){return j2(n,i,l,c)},inverse:function(l,c){return j2(i,n,l,c)}},a&&(s.oProj=i),s)}var G3=6,eT="AJSAJS",tT="AFAFAF",ed=65,xo=73,ml=79,m0=86,g0=90;const aH={forward:rT,inverse:sH,toPoint:nT};function rT(t,e){return e=e||5,uH(oH({lat:t[1],lon:t[0]}),e)}function sH(t){var e=by(aT(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function nT(t){var e=by(aT(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function I2(t){return t*(Math.PI/180)}function H3(t){return 180*(t/Math.PI)}function oH(t){var e=t.lat,r=t.lon,n=6378137,i=.00669438,a=.9996,s,l,c,f,p,v,y,_=I2(e),T=I2(r),b,C;C=Math.floor((r+180)/6)+1,r===180&&(C=60),e>=56&&e<64&&r>=3&&r<12&&(C=32),e>=72&&e<84&&(r>=0&&r<9?C=31:r>=9&&r<21?C=33:r>=21&&r<33?C=35:r>=33&&r<42&&(C=37)),s=(C-1)*6-180+3,b=I2(s),l=i/(1-i),c=n/Math.sqrt(1-i*Math.sin(_)*Math.sin(_)),f=Math.tan(_)*Math.tan(_),p=l*Math.cos(_)*Math.cos(_),v=Math.cos(_)*(T-b),y=n*((1-i/4-3*i*i/64-5*i*i*i/256)*_-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*_)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*_)-35*i*i*i/3072*Math.sin(6*_));var P=a*c*(v+(1-f+p)*v*v*v/6+(5-18*f+f*f+72*p-58*l)*v*v*v*v*v/120)+5e5,j=a*(y+c*Math.tan(_)*(v*v/2+(5-f+9*p+4*p*p)*v*v*v*v/24+(61-58*f+f*f+600*p-330*l)*v*v*v*v*v*v/720));return e<0&&(j+=1e7),{northing:Math.round(j),easting:Math.round(P),zoneNumber:C,zoneLetter:lH(e)}}function by(t){var e=t.northing,r=t.easting,n=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var a=.9996,s=6378137,l=.00669438,c,f=(1-Math.sqrt(1-l))/(1+Math.sqrt(1-l)),p,v,y,_,T,b,C,P,j,R=r-5e5,B=e;n<"N"&&(B-=1e7),C=(i-1)*6-180+3,c=l/(1-l),b=B/a,P=b/(s*(1-l/4-3*l*l/64-5*l*l*l/256)),j=P+(3*f/2-27*f*f*f/32)*Math.sin(2*P)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*P)+151*f*f*f/96*Math.sin(6*P),p=s/Math.sqrt(1-l*Math.sin(j)*Math.sin(j)),v=Math.tan(j)*Math.tan(j),y=c*Math.cos(j)*Math.cos(j),_=s*(1-l)/Math.pow(1-l*Math.sin(j)*Math.sin(j),1.5),T=R/(p*a);var te=j-p*Math.tan(j)/_*(T*T/2-(5+3*v+10*y-4*y*y-9*c)*T*T*T*T/24+(61+90*v+298*y+45*v*v-252*c-3*y*y)*T*T*T*T*T*T/720);te=H3(te);var ue=(T-(1+2*v+y)*T*T*T/6+(5-2*y+28*v-3*y*y+8*c+24*v*v)*T*T*T*T*T/120)/Math.cos(j);ue=C+H3(ue);var F;if(t.accuracy){var K=by({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});F={top:K.lat,right:K.lon,bottom:te,left:ue}}else F={lat:te,lon:ue};return F}function lH(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function uH(t,e){var r="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+cH(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+n.substr(n.length-5,e)}function cH(t,e,r){var n=iT(r),i=Math.floor(t/1e5),a=Math.floor(e/1e5)%20;return hH(i,a,n)}function iT(t){var e=t%G3;return e===0&&(e=G3),e}function hH(t,e,r){var n=r-1,i=eT.charCodeAt(n),a=tT.charCodeAt(n),s=i+t-1,l=a+e,c=!1;s>g0&&(s=s-g0+ed-1,c=!0),(s===xo||i<xo&&s>xo||(s>xo||i<xo)&&c)&&s++,(s===ml||i<ml&&s>ml||(s>ml||i<ml)&&c)&&(s++,s===xo&&s++),s>g0&&(s=s-g0+ed-1),l>m0?(l=l-m0+ed-1,c=!0):c=!1,(l===xo||a<xo&&l>xo||(l>xo||a<xo)&&c)&&l++,(l===ml||a<ml&&l>ml||(l>ml||a<ml)&&c)&&(l++,l===xo&&l++),l>m0&&(l=l-m0+ed-1);var f=String.fromCharCode(s)+String.fromCharCode(l);return f}function aT(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,r=null,n="",i,a=0;!/[A-Z]/.test(i=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;n+=i,a++}var s=parseInt(n,10);if(a===0||a+3>e)throw"MGRSPoint bad conversion from: "+t;var l=t.charAt(a++);if(l<="A"||l==="B"||l==="Y"||l>="Z"||l==="I"||l==="O")throw"MGRSPoint zone letter "+l+" not handled: "+t;r=t.substring(a,a+=2);for(var c=iT(s),f=fH(r.charAt(0),c),p=dH(r.charAt(1),c);p<pH(l);)p+=2e6;var v=e-a;if(v%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var y=v/2,_=0,T=0,b,C,P,j,R;return y>0&&(b=1e5/Math.pow(10,y),C=t.substring(a,a+y),_=parseFloat(C)*b,P=t.substring(a+y),T=parseFloat(P)*b),j=_+f,R=T+p,{easting:j,northing:R,zoneLetter:l,zoneNumber:s,accuracy:b}}function fH(t,e){for(var r=eT.charCodeAt(e-1),n=1e5,i=!1;r!==t.charCodeAt(0);){if(r++,r===xo&&r++,r===ml&&r++,r>g0){if(i)throw"Bad character: "+t;r=ed,i=!0}n+=1e5}return n}function dH(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=tT.charCodeAt(e-1),n=0,i=!1;r!==t.charCodeAt(0);){if(r++,r===xo&&r++,r===ml&&r++,r>m0){if(i)throw"Bad character: "+t;r=ed,i=!0}n+=1e5}return n}function pH(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function md(t,e,r){if(!(this instanceof md))return new md(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var n=t.split(",");this.x=parseFloat(n[0]),this.y=parseFloat(n[1]),this.z=parseFloat(n[2])||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}md.fromMGRS=function(t){return new md(nT(t))};md.prototype.toMGRS=function(t){return rT([this.x,this.y],t)};var mH=1,gH=.25,q3=.046875,V3=.01953125,$3=.01068115234375,vH=.75,_H=.46875,yH=.013020833333333334,xH=.007120768229166667,wH=.3645833333333333,bH=.005696614583333333,SH=.3076171875;function Sy(t){var e=[];e[0]=mH-t*(gH+t*(q3+t*(V3+t*$3))),e[1]=t*(vH-t*(q3+t*(V3+t*$3)));var r=t*t;return e[2]=r*(_H-t*(yH+t*xH)),r*=t,e[3]=r*(wH-t*bH),e[4]=r*t*SH,e}function Sd(t,e,r,n){return r*=e,e*=e,n[0]*t-r*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}var EH=20;function Ey(t,e,r){for(var n=1/(1-e),i=t,a=EH;a;--a){var s=Math.sin(i),l=1-e*s*s;if(l=(Sd(i,s,Math.cos(i),r)-t)*(l*Math.sqrt(l))*n,i-=l,Math.abs(l)<Dt)return i}return i}function TH(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=Sy(this.es),this.ml0=Sd(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function AH(t){var e=t.x,r=t.y,n=It(e-this.long0,this.over),i,a,s,l=Math.sin(r),c=Math.cos(r);if(this.es){var p=c*n,v=Math.pow(p,2),y=this.ep2*Math.pow(c,2),_=Math.pow(y,2),T=Math.abs(c)>Dt?Math.tan(r):0,b=Math.pow(T,2),C=Math.pow(b,2);i=1-this.es*Math.pow(l,2),p=p/Math.sqrt(i);var P=Sd(r,l,c,this.en);a=this.a*(this.k0*p*(1+v/6*(1-b+y+v/20*(5-18*b+C+14*y-58*b*y+v/42*(61+179*C-C*b-479*b)))))+this.x0,s=this.a*(this.k0*(P-this.ml0+l*n*p/2*(1+v/12*(5-b+9*y+4*_+v/30*(61+C-58*b+270*y-330*b*y+v/56*(1385+543*C-C*b-3111*b))))))+this.y0}else{var f=c*Math.sin(n);if(Math.abs(Math.abs(f)-1)<Dt)return 93;if(a=.5*this.a*this.k0*Math.log((1+f)/(1-f))+this.x0,s=c*Math.cos(n)/Math.sqrt(1-Math.pow(f,2)),f=Math.abs(s),f>=1){if(f-1>Dt)return 93;s=0}else s=Math.acos(s);r<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return t.x=a,t.y=s,t}function LH(t){var e,r,n,i,a=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,r=Ey(e,this.es,this.en),Math.abs(r)<At){var v=Math.sin(r),y=Math.cos(r),_=Math.abs(y)>Dt?Math.tan(r):0,T=this.ep2*Math.pow(y,2),b=Math.pow(T,2),C=Math.pow(_,2),P=Math.pow(C,2);e=1-this.es*Math.pow(v,2);var j=a*Math.sqrt(e)/this.k0,R=Math.pow(j,2);e=e*_,n=r-e*R/(1-this.es)*.5*(1-R/12*(5+3*C-9*T*C+T-4*b-R/30*(61+90*C-252*T*C+45*P+46*T-R/56*(1385+3633*C+4095*P+1574*P*C)))),i=It(this.long0+j*(1-R/6*(1+2*C+T-R/20*(5+28*C+24*P+8*T*C+6*T-R/42*(61+662*C+1320*P+720*P*C))))/y,this.over)}else n=At*Ep(s),i=0;else{var l=Math.exp(a/this.k0),c=.5*(l-1/l),f=this.lat0+s/this.k0,p=Math.cos(f);e=Math.sqrt((1-Math.pow(p,2))/(1+Math.pow(c,2))),n=Math.asin(e),s<0&&(n=-n),c===0&&p===0?i=0:i=It(Math.atan2(c,p)+this.long0,this.over)}return t.x=i,t.y=n,t}var NH=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const l1={init:TH,forward:AH,inverse:LH,names:NH};function sT(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function wo(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),n=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(n,2))}function CH(t){var e=1+t,r=e-1;return r===0?t:t*Math.log(e)/r}function MH(t){var e=Math.abs(t);return e=CH(e*(1+e/(wo(1,e)+1))),t<0?-e:e}function Ty(t,e){for(var r=2*Math.cos(2*e),n=t.length-1,i=t[n],a=0,s;--n>=0;)s=-a+r*i+t[n],a=i,i=s;return e+s*Math.sin(2*e)}function kH(t,e){for(var r=2*Math.cos(e),n=t.length-1,i=t[n],a=0,s;--n>=0;)s=-a+r*i+t[n],a=i,i=s;return Math.sin(e)*s}function PH(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function oT(t,e,r){for(var n=Math.sin(e),i=Math.cos(e),a=sT(r),s=PH(r),l=2*i*s,c=-2*n*a,f=t.length-1,p=t[f],v=0,y=0,_=0,T,b;--f>=0;)T=y,b=v,y=p,v=_,p=-T+l*y-c*v+t[f],_=-b+c*y+l*v;return l=n*s,c=i*a,[l*p-c*_,l*_+c*p]}function OH(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(l1.init.apply(this),this.forward=l1.forward,this.inverse=l1.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),r=r*e,this.cgb[1]=r*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r=r*e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),r=r*e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(-12/5+e*(-24832/14175))),r=r*e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r=r*e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),r=r*e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r=r*e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r=r*e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r=r*e,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var n=Ty(this.cbg,this.lat0);this.Zb=-this.Qn*(n+kH(this.gtu,2*n))}function RH(t){var e=It(t.x-this.long0,this.over),r=t.y;r=Ty(this.cbg,r);var n=Math.sin(r),i=Math.cos(r),a=Math.sin(e),s=Math.cos(e);r=Math.atan2(n,s*i),e=Math.atan2(a*i,wo(n,i*s)),e=MH(Math.tan(e));var l=oT(this.gtu,2*r,2*e);r=r+l[0],e=e+l[1];var c,f;return Math.abs(e)<=2.623395162778?(c=this.a*(this.Qn*e)+this.x0,f=this.a*(this.Qn*r+this.Zb)+this.y0):(c=1/0,f=1/0),t.x=c,t.y=f,t}function DH(t){var e=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,e=e/this.Qn;var n,i;if(Math.abs(e)<=2.623395162778){var a=oT(this.utg,2*r,2*e);r=r+a[0],e=e+a[1],e=Math.atan(sT(e));var s=Math.sin(r),l=Math.cos(r),c=Math.sin(e),f=Math.cos(e);r=Math.atan2(s*f,wo(c,f*l)),e=Math.atan2(c,f*l),n=It(e+this.long0,this.over),i=Ty(this.cgb,r)}else n=1/0,i=1/0;return t.x=n,t.y=i,t}var jH=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const u1={init:OH,forward:RH,inverse:DH,names:jH};function IH(t,e){if(t===void 0){if(t=Math.floor((It(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var FH="etmerc";function BH(){var t=IH(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Wi,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,u1.init.apply(this),this.forward=u1.forward,this.inverse=u1.inverse}var UH=["Universal Transverse Mercator System","utm"];const zH={init:BH,names:UH,dependsOn:FH};function Ay(t,e){return Math.pow((1-t)/(1+t),e)}var GH=20;function HH(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+On)/(Math.pow(Math.tan(.5*this.lat0+On),this.C)*Ay(this.e*t,this.ratexp))}function qH(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+On),this.C)*Ay(this.e*Math.sin(r),this.ratexp))-At,t.x=this.C*e,t}function VH(t){for(var e=1e-14,r=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+On)/this.K,1/this.C),a=GH;a>0&&(n=2*Math.atan(i*Ay(this.e*Math.sin(t.y),-.5*this.e))-At,!(Math.abs(n-t.y)<e));--a)t.y=n;return a?(t.x=r,t.y=n,t):null}const Ly={init:HH,forward:qH,inverse:VH};function $H(){Ly.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function WH(t){var e,r,n,i;return t.x=It(t.x-this.long0,this.over),Ly.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*n),t.x=i*r*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*r*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function ZH(t){var e,r,n,i,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=wo(t.x,t.y)){var s=2*Math.atan2(a,this.R2);e=Math.sin(s),r=Math.cos(s),i=Math.asin(r*this.sinc0+t.y*e*this.cosc0/a),n=Math.atan2(t.x*e,a*this.cosc0*r-t.y*this.sinc0*e)}else i=this.phic0,n=0;return t.x=n,t.y=i,Ly.inverse.apply(this,[t]),t.x=It(t.x+this.long0,this.over),t}var YH=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const KH={init:$H,forward:WH,inverse:ZH,names:YH};function Ny(t,e,r){return e*=r,Math.tan(.5*(At+t))*Math.pow((1-e)/(1+e),.5*r)}function XH(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Dt&&(this.k0=.5*(1+Ep(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Dt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Dt&&Math.abs(Math.cos(this.lat_ts))>Dt&&(this.k0=.5*this.cons*Ru(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Yl(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ru(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(Ny(this.lat0,this.sinlat0,this.e))-At,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function JH(t){var e=t.x,r=t.y,n=Math.sin(r),i=Math.cos(r),a,s,l,c,f,p,v=It(e-this.long0,this.over);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=Dt&&Math.abs(r+this.lat0)<=Dt?(t.x=NaN,t.y=NaN,t):this.sphere?(a=2*this.k0/(1+this.sinlat0*n+this.coslat0*i*Math.cos(v)),t.x=this.a*a*i*Math.sin(v)+this.x0,t.y=this.a*a*(this.coslat0*n-this.sinlat0*i*Math.cos(v))+this.y0,t):(s=2*Math.atan(Ny(r,n,this.e))-At,c=Math.cos(s),l=Math.sin(s),Math.abs(this.coslat0)<=Dt?(f=Yl(this.e,r*this.con,this.con*n),p=2*this.a*this.k0*f/this.cons,t.x=this.x0+p*Math.sin(e-this.long0),t.y=this.y0-this.con*p*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<Dt?(a=2*this.a*this.k0/(1+c*Math.cos(v)),t.y=a*l):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*l+this.cosX0*c*Math.cos(v))),t.y=a*(this.cosX0*l-this.sinX0*c*Math.cos(v))+this.y0),t.x=a*c*Math.sin(v)+this.x0,t))}function QH(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,a,s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var l=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,r=this.lat0,s<=Dt?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(l)*this.sinlat0+t.y*Math.sin(l)*this.coslat0/s),Math.abs(this.coslat0)<Dt?this.lat0>0?e=It(this.long0+Math.atan2(t.x,-1*t.y),this.over):e=It(this.long0+Math.atan2(t.x,t.y),this.over):e=It(this.long0+Math.atan2(t.x*Math.sin(l),s*this.coslat0*Math.cos(l)-t.y*this.sinlat0*Math.sin(l)),this.over),t.x=e,t.y=r,t)}else if(Math.abs(this.coslat0)<=Dt){if(s<=Dt)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,n=s*this.cons/(2*this.a*this.k0),r=this.con*sp(this.e,n),e=this.con*It(this.con*this.long0+Math.atan2(t.x,-1*t.y),this.over)}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=Dt?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/s),e=It(this.long0+Math.atan2(t.x*Math.sin(i),s*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)),this.over)),r=-1*sp(this.e,Math.tan(.5*(At+a)));return t.x=e,t.y=r,t}var eq=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"];const tq={init:XH,forward:JH,inverse:QH,names:eq,ssfn_:Ny};function rq(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,n=this.rf,i=1/n,a=2*i-Math.pow(i,2),s=this.e=Math.sqrt(a);this.R=this.k0*r*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var l=Math.log(Math.tan(Math.PI/4+this.b0/2)),c=Math.log(Math.tan(Math.PI/4+t/2)),f=Math.log((1+s*e)/(1-s*e));this.K=l-this.alpha*c+this.alpha*s/2*f}function nq(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+r)+this.K,i=2*(Math.atan(Math.exp(n))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),l=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(l))/(1-Math.sin(l)))+this.y0,t.x=this.R*s+this.x0,t}function iq(t){for(var e=t.x-this.x0,r=t.y-this.y0,n=e/this.R,i=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(i))),l=this.lambda0+s/this.alpha,c=0,f=a,p=-1e3,v=0;Math.abs(f-p)>1e-7;){if(++v>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(f))/2)),p=f,f=2*Math.atan(Math.exp(c))-Math.PI/2}return t.x=l,t.y=f,t}var aq=["somerc"];const sq={init:rq,forward:nq,inverse:iq,names:aq};var Wf=1e-7;function oq(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof t.projName=="object"?Object.keys(t.projName)[0]:t.projName;return"no_uoff"in t||"no_off"in t||e.indexOf(r)!==-1||e.indexOf(Y8(r))!==-1}function lq(){var t,e,r,n,i,a,s,l,c,f,p=0,v,y=0,_=0,T=0,b=0,C=0,P=0;this.no_off=oq(this),this.no_rot="no_rot"in this;var j=!1;"alpha"in this&&(j=!0);var R=!1;if("rectified_grid_angle"in this&&(R=!0),j&&(P=this.alpha),R&&(p=this.rectified_grid_angle),j||R)y=this.longc;else if(_=this.long1,b=this.lat1,T=this.long2,C=this.lat2,Math.abs(b-C)<=Wf||(t=Math.abs(b))<=Wf||Math.abs(t-At)<=Wf||Math.abs(Math.abs(this.lat0)-At)<=Wf||Math.abs(Math.abs(C)-At)<=Wf)throw new Error;var B=1-this.es;e=Math.sqrt(B),Math.abs(this.lat0)>Dt?(l=Math.sin(this.lat0),r=Math.cos(this.lat0),t=1-this.es*l*l,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/B),this.A=this.B*this.k0*e/t,n=this.B*e/(r*Math.sqrt(t)),i=n*n-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=n,this.E*=Math.pow(Yl(this.e,this.lat0,l),this.B)):(this.B=1/e,this.A=this.k0,this.E=n=i=1),j||R?(j?(v=Math.asin(Math.sin(P)/n),R||(p=P)):(v=p,P=Math.asin(n*Math.sin(v))),this.lam0=y-Math.asin(.5*(i-1/i)*Math.tan(v))/this.B):(a=Math.pow(Yl(this.e,b,Math.sin(b)),this.B),s=Math.pow(Yl(this.e,C,Math.sin(C)),this.B),i=this.E/a,c=(s-a)/(s+a),f=this.E*this.E,f=(f-s*a)/(f+s*a),t=_-T,t<-Math.PI?T-=ip:t>Math.PI&&(T+=ip),this.lam0=It(.5*(_+T)-Math.atan(f*Math.tan(.5*this.B*(_-T))/c)/this.B,this.over),v=Math.atan(2*Math.sin(this.B*It(_-this.lam0,this.over))/(i-1/i)),p=P=Math.asin(n*Math.sin(v))),this.singam=Math.sin(v),this.cosgam=Math.cos(v),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(P))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*v,this.v_pole_n=this.ArB*Math.log(Math.tan(On-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(On+i))}function uq(t){var e={},r,n,i,a,s,l,c,f;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-At)>Dt){if(s=this.E/Math.pow(Yl(this.e,t.y,Math.sin(t.y)),this.B),l=1/s,r=.5*(s-l),n=.5*(s+l),a=Math.sin(this.B*t.x),i=(r*this.singam-a*this.cosgam)/n,Math.abs(Math.abs(i)-1)<Dt)throw new Error;f=.5*this.ArB*Math.log((1-i)/(1+i)),l=Math.cos(this.B*t.x),Math.abs(l)<Wf?c=this.A*t.x:c=this.ArB*Math.atan2(r*this.cosgam+a*this.singam,l)}else f=t.y>0?this.v_pole_n:this.v_pole_s,c=this.ArB*t.y;return this.no_rot?(e.x=c,e.y=f):(c-=this.u_0,e.x=f*this.cosrot+c*this.sinrot,e.y=c*this.cosrot-f*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function cq(t){var e,r,n,i,a,s,l,c={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(r=t.y,e=t.x):(r=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),n=Math.exp(-this.BrA*r),i=.5*(n-1/n),a=.5*(n+1/n),s=Math.sin(this.BrA*e),l=(s*this.cosgam+i*this.singam)/a,Math.abs(Math.abs(l)-1)<Dt)c.x=0,c.y=l<0?-At:At;else{if(c.y=this.E/Math.sqrt((1+l)/(1-l)),c.y=sp(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return c.x+=this.lam0,c}var hq=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const fq={init:lq,forward:uq,inverse:cq,names:hq};function dq(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Dt)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),n=Ru(this.e,e,r),i=Yl(this.e,this.lat1,e),a=Math.sin(this.lat2),s=Math.cos(this.lat2),l=Ru(this.e,a,s),c=Yl(this.e,this.lat2,a),f=Math.abs(Math.abs(this.lat0)-At)<Dt?0:Yl(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Dt?this.ns=Math.log(n/l)/Math.log(i/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function pq(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=Dt&&(r=Ep(r)*(At-2*Dt));var n=Math.abs(Math.abs(r)-At),i,a;if(n>Dt)i=Yl(this.e,r,Math.sin(r)),a=this.a*this.f0*Math.pow(i,this.ns);else{if(n=r*this.ns,n<=0)return null;a=0}var s=this.ns*It(e-this.long0,this.over);return t.x=this.k0*(a*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-a*Math.cos(s))+this.y0,t}function mq(t){var e,r,n,i,a,s=(t.x-this.x0)/this.k0,l=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+l*l),r=1):(e=-Math.sqrt(s*s+l*l),r=-1);var c=0;if(e!==0&&(c=Math.atan2(r*s,r*l)),e!==0||this.ns>0){if(r=1/this.ns,n=Math.pow(e/(this.a*this.f0),r),i=sp(this.e,n),i===-9999)return null}else i=-At;return a=It(c/this.ns+this.long0,this.over),t.x=a,t.y=i,t}var gq=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const vq={init:dq,forward:pq,inverse:mq,names:gq};function _q(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function yq(t){var e,r,n,i,a,s,l,c=t.x,f=t.y,p=It(c-this.long0,this.over);return e=Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(f/2+this.s45),this.alfa)/e)-this.s45),n=-p*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),a=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(i)),s=this.n*a,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=l*Math.cos(s)/1,t.x=l*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t}function xq(t){var e,r,n,i,a,s,l,c,f=t.x;t.x=t.y,t.y=f,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x),i=a/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(e)),t.x=this.long0-r/this.alfa,l=e,c=0;var p=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.e/2))-this.s45),Math.abs(l-t.y)<1e-10&&(c=1),l=t.y,p+=1;while(c===0&&p<15);return p>=15?null:t}var wq=["Krovak","krovak"];const bq={init:_q,forward:yq,inverse:xq,names:wq};function Xs(t,e,r,n,i){return t*i-e*Math.sin(2*i)+r*Math.sin(4*i)-n*Math.sin(6*i)}function Tp(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Ap(t){return .375*t*(1+.25*t*(1+.46875*t))}function Lp(t){return .05859375*t*t*(1+.75*t)}function Np(t){return t*t*t*(35/3072)}function Cy(t,e,r){var n=e*r;return t/Math.sqrt(1-n*n)}function oh(t){return Math.abs(t)<At?t:t-Ep(t)*Math.PI}function G1(t,e,r,n,i){var a,s;a=t/e;for(var l=0;l<15;l++)if(s=(t-(e*a-r*Math.sin(2*a)+n*Math.sin(4*a)-i*Math.sin(6*a)))/(e-2*r*Math.cos(2*a)+4*n*Math.cos(4*a)-6*i*Math.cos(6*a)),a+=s,Math.abs(s)<=1e-10)return a;return NaN}function Sq(){this.sphere||(this.e0=Tp(this.es),this.e1=Ap(this.es),this.e2=Lp(this.es),this.e3=Np(this.es),this.ml0=this.a*Xs(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Eq(t){var e,r,n=t.x,i=t.y;if(n=It(n-this.long0,this.over),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(n)),r=this.a*(Math.atan2(Math.tan(i),Math.cos(n))-this.lat0);else{var a=Math.sin(i),s=Math.cos(i),l=Cy(this.a,this.e,a),c=Math.tan(i)*Math.tan(i),f=n*Math.cos(i),p=f*f,v=this.es*s*s/(1-this.es),y=this.a*Xs(this.e0,this.e1,this.e2,this.e3,i);e=l*f*(1-p*c*(1/6-(8-c+8*v)*p/120)),r=y-this.ml0+l*a/s*p*(.5+(5-c+6*v)*p/24)}return t.x=e+this.x0,t.y=r+this.y0,t}function Tq(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,i;if(this.sphere){var a=r+this.lat0;n=Math.asin(Math.sin(a)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(a))}else{var s=this.ml0/this.a+r,l=G1(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-At)<=Dt)return t.x=this.long0,t.y=At,r<0&&(t.y*=-1),t;var c=Cy(this.a,this.e,Math.sin(l)),f=c*c*c/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(l),2),v=e*this.a/c,y=v*v;n=l-c*Math.tan(l)/f*v*v*(.5-(1+3*p)*v*v/24),i=v*(1-y*(p/3+(1+3*p)*p*y/15))/Math.cos(l)}return t.x=It(i+this.long0,this.over),t.y=oh(n),t}var Aq=["Cassini","Cassini_Soldner","cass"];const Lq={init:Sq,forward:Eq,inverse:Tq,names:Aq};function Jc(t,e){var r;return t>1e-7?(r=t*e,(1-t*t)*(e/(1-r*r)-.5/t*Math.log((1-r)/(1+r)))):2*e}var A_=1,L_=2,N_=3,c1=4;function Nq(){var t=Math.abs(this.lat0);if(Math.abs(t-At)<Dt?this.mode=this.lat0<0?A_:L_:Math.abs(t)<Dt?this.mode=N_:this.mode=c1,this.es>0){var e;switch(this.qp=Jc(this.e,1),this.mmf=.5/(1-this.es),this.apa=Iq(this.es),this.mode){case L_:this.dd=1;break;case A_:this.dd=1;break;case N_:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case c1:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Jc(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===c1&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Cq(t){var e,r,n,i,a,s,l,c,f,p,v=t.x,y=t.y;if(v=It(v-this.long0,this.over),this.sphere){if(a=Math.sin(y),p=Math.cos(y),n=Math.cos(v),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+p*n:1+this.sinph0*a+this.cosph0*p*n,r<=Dt)return null;r=Math.sqrt(2/r),e=r*p*Math.sin(v),r*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*p*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(y+this.lat0)<Dt)return null;r=On-y*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),e=r*Math.sin(v),r*=n}}else{switch(l=0,c=0,f=0,n=Math.cos(v),i=Math.sin(v),a=Math.sin(y),s=Jc(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(l=s/this.qp,c=Math.sqrt(1-l*l)),this.mode){case this.OBLIQ:f=1+this.sinb1*l+this.cosb1*c*n;break;case this.EQUIT:f=1+c*n;break;case this.N_POLE:f=At+y,s=this.qp-s;break;case this.S_POLE:f=y-At,s=this.qp+s;break}if(Math.abs(f)<Dt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),this.mode===this.OBLIQ?r=this.ymf*f*(this.cosb1*l-this.sinb1*c*n):r=(f=Math.sqrt(2/(1+c*n)))*l*this.ymf,e=this.xmf*f*c*i;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(f=Math.sqrt(s))*i,r=n*(this.mode===this.S_POLE?f:-f)):e=r=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t}function Mq(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,i,a,s,l,c,f;if(this.sphere){var p=0,v,y=0;if(v=Math.sqrt(e*e+r*r),i=v*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(y=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(v)<=Dt?0:Math.asin(r*y/v),e*=y,r=p*v;break;case this.OBLIQ:i=Math.abs(v)<=Dt?this.lat0:Math.asin(p*this.sinph0+r*y*this.cosph0/v),e*=y*this.cosph0,r=(p-Math.sin(i)*this.sinph0)*v;break;case this.N_POLE:r=-r,i=At-i;break;case this.S_POLE:i-=At;break}n=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,r)}else{if(f=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,r*=this.dd,c=Math.sqrt(e*e+r*r),c<Dt)return t.x=this.long0,t.y=this.lat0,t;s=2*Math.asin(.5*c/this.rq),a=Math.cos(s),e*=s=Math.sin(s),this.mode===this.OBLIQ?(f=a*this.sinb1+r*s*this.cosb1/c,l=this.qp*f,r=c*this.cosb1*a-r*this.sinb1*s):(f=r*s/c,l=this.qp*f,r=c*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),l=e*e+r*r,!l)return t.x=this.long0,t.y=this.lat0,t;f=1-l/this.qp,this.mode===this.S_POLE&&(f=-f)}n=Math.atan2(e,r),i=Fq(Math.asin(f),this.apa)}return t.x=It(this.long0+n,this.over),t.y=i,t}var kq=.3333333333333333,Pq=.17222222222222222,Oq=.10257936507936508,Rq=.06388888888888888,Dq=.0664021164021164,jq=.016415012942191543;function Iq(t){var e,r=[];return r[0]=t*kq,e=t*t,r[0]+=e*Pq,r[1]=e*Rq,e*=t,r[0]+=e*Oq,r[1]+=e*Dq,r[2]=e*jq,r}function Fq(t,e){var r=t+t;return t+e[0]*Math.sin(r)+e[1]*Math.sin(r+r)+e[2]*Math.sin(r+r+r)}var Bq=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Uq={init:Nq,forward:Cq,inverse:Mq,names:Bq,S_POLE:A_,N_POLE:L_,EQUIT:N_,OBLIQ:c1};function ih(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function zq(){Math.abs(this.lat1+this.lat2)<Dt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ru(this.e3,this.sin_po,this.cos_po),this.qs1=Jc(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ru(this.e3,this.sin_po,this.cos_po),this.qs2=Jc(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Jc(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Dt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Gq(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var n=Jc(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*It(e-this.long0,this.over),s=i*Math.sin(a)+this.x0,l=this.rh-i*Math.cos(a)+this.y0;return t.x=s,t.y=l,t}function Hq(t){var e,r,n,i,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),i=0,e!==0&&(i=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-n*n)/(2*this.ns0)):(r=(this.c-n*n)/this.ns0,s=this.phi1z(this.e3,r)),a=It(i/this.ns0+this.long0,this.over),t.x=a,t.y=s,t}function qq(t,e){var r,n,i,a,s,l=ih(.5*e);if(t<Dt)return l;for(var c=t*t,f=1;f<=25;f++)if(r=Math.sin(l),n=Math.cos(l),i=t*r,a=1-i*i,s=.5*a*a/n*(e/(1-c)-r/a+.5/t*Math.log((1-i)/(1+i))),l=l+s,Math.abs(s)<=1e-7)return l;return null}var Vq=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"];const $q={init:zq,forward:Gq,inverse:Hq,names:Vq,phi1z:qq};function Wq(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Zq(t){var e,r,n,i,a,s,l,c,f=t.x,p=t.y;return n=It(f-this.long0,this.over),e=Math.sin(p),r=Math.cos(p),i=Math.cos(n),s=this.sin_p14*e+this.cos_p14*r*i,a=1,s>0||Math.abs(s)<=Dt?(l=this.x0+this.a*a*r*Math.sin(n)/s,c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*r*i)/s):(l=this.x0+this.infinity_dist*r*Math.sin(n),c=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*i)),t.x=l,t.y=c,t}function Yq(t){var e,r,n,i,a,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),r=Math.sin(i),n=Math.cos(i),s=ih(n*this.sin_p14+t.y*r*this.cos_p14/e),a=Math.atan2(t.x*r,e*this.cos_p14*n-t.y*this.sin_p14*r),a=It(this.long0+a,this.over)):(s=this.phic0,a=0),t.x=a,t.y=s,t}var Kq=["gnom"];const Xq={init:Wq,forward:Zq,inverse:Yq,names:Kq};function Jq(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*At:At;for(var n=Math.asin(.5*e),i,a,s,l,c=0;c<30;c++)if(a=Math.sin(n),s=Math.cos(n),l=t*a,i=Math.pow(1-l*l,2)/(2*s)*(e/(1-t*t)-a/(1-l*l)+.5/t*Math.log((1-l)/(1+l))),n+=i,Math.abs(i)<=1e-10)return n;return NaN}function Qq(){this.sphere||(this.k0=Ru(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function eV(t){var e=t.x,r=t.y,n,i,a=It(e-this.long0,this.over);if(this.sphere)n=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=Jc(this.e,Math.sin(r));n=this.x0+this.a*this.k0*a,i=this.y0+this.a*s*.5/this.k0}return t.x=n,t.y=i,t}function tV(t){t.x-=this.x0,t.y-=this.y0;var e,r;return this.sphere?(e=It(this.long0+t.x/this.a/Math.cos(this.lat_ts),this.over),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=Jq(this.e,2*t.y*this.k0/this.a),e=It(this.long0+t.x/(this.a*this.k0),this.over)),t.x=e,t.y=r,t}var rV=["cea"];const nV={init:Qq,forward:eV,inverse:tV,names:rV};function iV(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function aV(t){var e=t.x,r=t.y,n=It(e-this.long0,this.over),i=oh(r-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*i,t}function sV(t){var e=t.x,r=t.y;return t.x=It(this.long0+(e-this.x0)/(this.a*this.rc),this.over),t.y=oh(this.lat0+(r-this.y0)/this.a),t}var oV=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"];const lV={init:iV,forward:aV,inverse:sV,names:oV};var W3=20;function uV(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Tp(this.es),this.e1=Ap(this.es),this.e2=Lp(this.es),this.e3=Np(this.es),this.ml0=this.a*Xs(this.e0,this.e1,this.e2,this.e3,this.lat0)}function cV(t){var e=t.x,r=t.y,n,i,a,s=It(e-this.long0,this.over);if(a=s*Math.sin(r),this.sphere)Math.abs(r)<=Dt?(n=this.a*s,i=-1*this.a*this.lat0):(n=this.a*Math.sin(a)/Math.tan(r),i=this.a*(oh(r-this.lat0)+(1-Math.cos(a))/Math.tan(r)));else if(Math.abs(r)<=Dt)n=this.a*s,i=-1*this.ml0;else{var l=Cy(this.a,this.e,Math.sin(r))/Math.tan(r);n=l*Math.sin(a),i=this.a*Xs(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+l*(1-Math.cos(a))}return t.x=n+this.x0,t.y=i+this.y0,t}function hV(t){var e,r,n,i,a,s,l,c,f;if(n=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Dt)e=It(n/this.a+this.long0,this.over),r=0;else{s=this.lat0+i/this.a,l=n*n/this.a/this.a+s*s,c=s;var p;for(a=W3;a;--a)if(p=Math.tan(c),f=-1*(s*(c*p+1)-c-.5*(c*c+l)*p)/((c-s)/p-1),c+=f,Math.abs(f)<=Dt){r=c;break}e=It(this.long0+Math.asin(n*Math.tan(c)/this.a)/Math.sin(r),this.over)}else if(Math.abs(i+this.ml0)<=Dt)r=0,e=It(this.long0+n/this.a,this.over);else{s=(this.ml0+i)/this.a,l=n*n/this.a/this.a+s*s,c=s;var v,y,_,T,b;for(a=W3;a;--a)if(b=this.e*Math.sin(c),v=Math.sqrt(1-b*b)*Math.tan(c),y=this.a*Xs(this.e0,this.e1,this.e2,this.e3,c),_=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),T=y/this.a,f=(s*(v*T+1)-T-.5*v*(T*T+l))/(this.es*Math.sin(2*c)*(T*T+l-2*s*T)/(4*v)+(s-T)*(v*_-2/Math.sin(2*c))-_),c-=f,Math.abs(f)<=Dt){r=c;break}v=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=It(this.long0+Math.asin(n*v/this.a)/Math.sin(r),this.over)}return t.x=e,t.y=r,t}var fV=["Polyconic","American_Polyconic","poly"];const dV={init:uV,forward:cV,inverse:hV,names:fV};function pV(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function mV(t){var e,r=t.x,n=t.y,i=n-this.lat0,a=r-this.long0,s=i/P0*1e-5,l=a,c=1,f=0;for(e=1;e<=10;e++)c=c*s,f=f+this.A[e]*c;var p=f,v=l,y=1,_=0,T,b,C=0,P=0;for(e=1;e<=6;e++)T=y*p-_*v,b=_*p+y*v,y=T,_=b,C=C+this.B_re[e]*y-this.B_im[e]*_,P=P+this.B_im[e]*y+this.B_re[e]*_;return t.x=P*this.a+this.x0,t.y=C*this.a+this.y0,t}function gV(t){var e,r=t.x,n=t.y,i=r-this.x0,a=n-this.y0,s=a/this.a,l=i/this.a,c=1,f=0,p,v,y=0,_=0;for(e=1;e<=6;e++)p=c*s-f*l,v=f*s+c*l,c=p,f=v,y=y+this.C_re[e]*c-this.C_im[e]*f,_=_+this.C_im[e]*c+this.C_re[e]*f;for(var T=0;T<this.iterations;T++){var b=y,C=_,P,j,R=s,B=l;for(e=2;e<=6;e++)P=b*y-C*_,j=C*y+b*_,b=P,C=j,R=R+(e-1)*(this.B_re[e]*b-this.B_im[e]*C),B=B+(e-1)*(this.B_im[e]*b+this.B_re[e]*C);b=1,C=0;var te=this.B_re[1],ue=this.B_im[1];for(e=2;e<=6;e++)P=b*y-C*_,j=C*y+b*_,b=P,C=j,te=te+e*(this.B_re[e]*b-this.B_im[e]*C),ue=ue+e*(this.B_im[e]*b+this.B_re[e]*C);var F=te*te+ue*ue;y=(R*te+B*ue)/F,_=(B*te-R*ue)/F}var K=y,U=_,X=1,I=0;for(e=1;e<=9;e++)X=X*K,I=I+this.D[e]*X;var W=this.lat0+I*P0*1e5,ce=this.long0+U;return t.x=ce,t.y=W,t}var vV=["New_Zealand_Map_Grid","nzmg"];const _V={init:pV,forward:mV,inverse:gV,names:vV};function yV(){}function xV(t){var e=t.x,r=t.y,n=It(e-this.long0,this.over),i=this.x0+this.a*n,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=i,t.y=a,t}function wV(t){t.x-=this.x0,t.y-=this.y0;var e=It(this.long0+t.x/this.a,this.over),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t}var bV=["Miller_Cylindrical","mill"];const SV={init:yV,forward:xV,inverse:wV,names:bV};var EV=20;function TV(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Sy(this.es)}function AV(t){var e,r,n=t.x,i=t.y;if(n=It(n-this.long0,this.over),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var a=this.n*Math.sin(i),s=EV;s;--s){var l=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=l,Math.abs(l)<Dt)break}e=this.a*this.C_x*n*(this.m+Math.cos(i)),r=this.a*this.C_y*i}else{var c=Math.sin(i),f=Math.cos(i);r=this.a*Sd(i,c,f,this.en),e=this.a*n*f/Math.sqrt(1-this.es*c*c)}return t.x=e,t.y=r,t}function LV(t){var e,r,n,i;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n=n/(this.C_x*(this.m+Math.cos(e))),this.m?e=ih((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=ih(Math.sin(e)/this.n)),n=It(n+this.long0,this.over),e=oh(e)):(e=Ey(t.y/this.a,this.es,this.en),i=Math.abs(e),i<At?(i=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),n=It(r,this.over)):i-Dt<At&&(n=this.long0)),t.x=n,t.y=e,t}var NV=["Sinusoidal","sinu"];const CV={init:TV,forward:AV,inverse:LV,names:NV};function MV(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0}function kV(t){for(var e=t.x,r=t.y,n=It(e-this.long0,this.over),i=r,a=Math.PI*Math.sin(r);;){var s=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=s,Math.abs(s)<Dt)break}i/=2,Math.PI/2-Math.abs(r)<Dt&&(n=0);var l=.900316316158*this.a*n*Math.cos(i)+this.x0,c=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=l,t.y=c,t}function PV(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var n=It(this.long0+t.x/(.900316316158*this.a*Math.cos(e)),this.over);n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var i=Math.asin(r);return t.x=n,t.y=i,t}var OV=["Mollweide","moll"];const RV={init:MV,forward:kV,inverse:PV,names:OV};function DV(){Math.abs(this.lat1+this.lat2)<Dt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Tp(this.es),this.e1=Ap(this.es),this.e2=Lp(this.es),this.e3=Np(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=Ru(this.e,this.sin_phi,this.cos_phi),this.ml1=Xs(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Dt?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=Ru(this.e,this.sin_phi,this.cos_phi),this.ml2=Xs(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Xs(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function jV(t){var e=t.x,r=t.y,n;if(this.sphere)n=this.a*(this.g-r);else{var i=Xs(this.e0,this.e1,this.e2,this.e3,r);n=this.a*(this.g-i)}var a=this.ns*It(e-this.long0,this.over),s=this.x0+n*Math.sin(a),l=this.y0+this.rh-n*Math.cos(a);return t.x=s,t.y=l,t}function IV(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,r,n,i;this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;if(r!==0&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=It(this.long0+a/this.ns,this.over),n=oh(this.g-r/this.a),t.x=i,t.y=n,t;var s=this.g-r/this.a;return n=G1(s,this.e0,this.e1,this.e2,this.e3),i=It(this.long0+a/this.ns,this.over),t.x=i,t.y=n,t}var FV=["Equidistant_Conic","eqdc"];const BV={init:DV,forward:jV,inverse:IV,names:FV};function UV(){this.R=this.a}function zV(t){var e=t.x,r=t.y,n=It(e-this.long0,this.over),i,a;Math.abs(r)<=Dt&&(i=this.x0+this.R*n,a=this.y0);var s=ih(2*Math.abs(r/Math.PI));(Math.abs(n)<=Dt||Math.abs(Math.abs(r)-At)<=Dt)&&(i=this.x0,r>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*s):a=this.y0+Math.PI*this.R*-Math.tan(.5*s));var l=.5*Math.abs(Math.PI/n-n/Math.PI),c=l*l,f=Math.sin(s),p=Math.cos(s),v=p/(f+p-1),y=v*v,_=v*(2/f-1),T=_*_,b=Math.PI*this.R*(l*(v-T)+Math.sqrt(c*(v-T)*(v-T)-(T+c)*(y-T)))/(T+c);n<0&&(b=-b),i=this.x0+b;var C=c+v;return b=Math.PI*this.R*(_*C-l*Math.sqrt((T+c)*(c+1)-C*C))/(T+c),r>=0?a=this.y0+b:a=this.y0-b,t.x=i,t.y=a,t}function GV(t){var e,r,n,i,a,s,l,c,f,p,v,y,_;return t.x-=this.x0,t.y-=this.y0,v=Math.PI*this.R,n=t.x/v,i=t.y/v,a=n*n+i*i,s=-Math.abs(i)*(1+a),l=s-2*i*i+n*n,c=-2*s+1+2*i*i+a*a,_=i*i/c+(2*l*l*l/c/c/c-9*s*l/c/c)/27,f=(s-l*l/3/c)/c,p=2*Math.sqrt(-f/3),v=3*_/f/p,Math.abs(v)>1&&(v>=0?v=1:v=-1),y=Math.acos(v)/3,t.y>=0?r=(-p*Math.cos(y+Math.PI/3)-l/3/c)*Math.PI:r=-(-p*Math.cos(y+Math.PI/3)-l/3/c)*Math.PI,Math.abs(n)<Dt?e=this.long0:e=It(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(n*n-i*i)+a*a))/2/n,this.over),t.x=e,t.y=r,t}var HV=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"];const qV={init:UV,forward:zV,inverse:GV,names:HV};function VV(t,e,r,n,i,a){const s=n-e,l=Math.atan((1-a)*Math.tan(t)),c=Math.atan((1-a)*Math.tan(r)),f=Math.sin(l),p=Math.cos(l),v=Math.sin(c),y=Math.cos(c);let _=s,T,b=100,C,P,j,R,B,te,ue,F,K,U,X,I,W,ce;do{if(C=Math.sin(_),P=Math.cos(_),j=Math.sqrt(y*C*(y*C)+(p*v-f*y*P)*(p*v-f*y*P)),j===0)return{azi1:0,s12:0};R=f*v+p*y*P,B=Math.atan2(j,R),te=p*y*C/j,ue=1-te*te,F=ue!==0?R-2*f*v/ue:0,K=a/16*ue*(4+a*(4-3*ue)),T=_,_=s+(1-K)*a*te*(B+K*j*(F+K*R*(-1+2*F*F)))}while(Math.abs(_-T)>1e-12&&--b>0);return b===0?{azi1:NaN,s12:NaN}:(U=ue*(i*i-i*(1-a)*(i*(1-a)))/(i*(1-a)*(i*(1-a))),X=1+U/16384*(4096+U*(-768+U*(320-175*U))),I=U/1024*(256+U*(-128+U*(74-47*U))),W=I*j*(F+I/4*(R*(-1+2*F*F)-I/6*F*(-3+4*j*j)*(-3+4*F*F))),ce=i*(1-a)*X*(B-W),{azi1:Math.atan2(y*C,p*v-f*y*P),s12:ce})}function $V(t,e,r,n,i,a){const s=Math.atan((1-a)*Math.tan(t)),l=Math.sin(s),c=Math.cos(s),f=Math.sin(r),p=Math.cos(r),v=Math.atan2(l,c*p),y=c*f,_=1-y*y,T=_*(i*i-i*(1-a)*(i*(1-a)))/(i*(1-a)*(i*(1-a))),b=1+T/16384*(4096+T*(-768+T*(320-175*T))),C=T/1024*(256+T*(-128+T*(74-47*T)));let P=n/(i*(1-a)*b),j,R=100,B,te,ue,F;do B=Math.cos(2*v+P),te=Math.sin(P),ue=Math.cos(P),F=C*te*(B+C/4*(ue*(-1+2*B*B)-C/6*B*(-3+4*te*te)*(-3+4*B*B))),j=P,P=n/(i*(1-a)*b)+F;while(Math.abs(P-j)>1e-12&&--R>0);if(R===0)return{lat2:NaN,lon2:NaN};const K=l*te-c*ue*p,U=Math.atan2(l*ue+c*te*p,(1-a)*Math.sqrt(y*y+K*K)),X=Math.atan2(te*f,c*ue-l*te*p),I=a/16*_*(4+a*(4-3*_)),W=X-(1-I)*a*y*(P+I*te*(B+I*ue*(-1+2*B*B))),ce=e+W;return{lat2:U,lon2:ce}}function WV(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function ZV(t){var e=t.x,r=t.y,n=Math.sin(t.y),i=Math.cos(t.y),a=It(e-this.long0,this.over),s,l,c,f,p,v,y,_,T,b,C;return this.sphere?Math.abs(this.sin_p12-1)<=Dt?(t.x=this.x0+this.a*(At-r)*Math.sin(a),t.y=this.y0-this.a*(At-r)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=Dt?(t.x=this.x0+this.a*(At+r)*Math.sin(a),t.y=this.y0+this.a*(At+r)*Math.cos(a),t):(T=this.sin_p12*n+this.cos_p12*i*Math.cos(a),y=Math.acos(T),_=y?y/Math.sin(y):1,t.x=this.x0+this.a*_*i*Math.sin(a),t.y=this.y0+this.a*_*(this.cos_p12*n-this.sin_p12*i*Math.cos(a)),t):(s=Tp(this.es),l=Ap(this.es),c=Lp(this.es),f=Np(this.es),Math.abs(this.sin_p12-1)<=Dt?(p=this.a*Xs(s,l,c,f,At),v=this.a*Xs(s,l,c,f,r),t.x=this.x0+(p-v)*Math.sin(a),t.y=this.y0-(p-v)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=Dt?(p=this.a*Xs(s,l,c,f,At),v=this.a*Xs(s,l,c,f,r),t.x=this.x0+(p+v)*Math.sin(a),t.y=this.y0+(p+v)*Math.cos(a),t):Math.abs(e)<Dt&&Math.abs(r-this.lat0)<Dt?(t.x=t.y=0,t):(b=VV(this.lat0,this.long0,r,e,this.a,this.f),C=b.azi1,t.x=b.s12*Math.sin(C),t.y=b.s12*Math.cos(C),t))}function YV(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,a,s,l,c,f,p,v,y,_,T,b,C;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*At*this.a?void 0:(r=e/this.a,n=Math.sin(r),i=Math.cos(r),a=this.long0,Math.abs(e)<=Dt?s=this.lat0:(s=ih(i*this.sin_p12+t.y*n*this.cos_p12/e),l=Math.abs(this.lat0)-At,Math.abs(l)<=Dt?this.lat0>=0?a=It(this.long0+Math.atan2(t.x,-t.y),this.over):a=It(this.long0-Math.atan2(-t.x,t.y),this.over):a=It(this.long0+Math.atan2(t.x*n,e*this.cos_p12*i-t.y*this.sin_p12*n),this.over)),t.x=a,t.y=s,t)):(c=Tp(this.es),f=Ap(this.es),p=Lp(this.es),v=Np(this.es),Math.abs(this.sin_p12-1)<=Dt?(y=this.a*Xs(c,f,p,v,At),e=Math.sqrt(t.x*t.x+t.y*t.y),_=y-e,s=G1(_/this.a,c,f,p,v),a=It(this.long0+Math.atan2(t.x,-1*t.y),this.over),t.x=a,t.y=s,t):Math.abs(this.sin_p12+1)<=Dt?(y=this.a*Xs(c,f,p,v,At),e=Math.sqrt(t.x*t.x+t.y*t.y),_=e-y,s=G1(_/this.a,c,f,p,v),a=It(this.long0+Math.atan2(t.x,t.y),this.over),t.x=a,t.y=s,t):(T=Math.atan2(t.x,t.y),b=Math.sqrt(t.x*t.x+t.y*t.y),C=$V(this.lat0,this.long0,T,b,this.a,this.f),t.x=C.lon2,t.y=C.lat2,t))}var KV=["Azimuthal_Equidistant","aeqd"];const XV={init:WV,forward:ZV,inverse:YV,names:KV};function JV(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function QV(t){var e,r,n,i,a,s,l,c,f=t.x,p=t.y;return n=It(f-this.long0,this.over),e=Math.sin(p),r=Math.cos(p),i=Math.cos(n),s=this.sin_p14*e+this.cos_p14*r*i,a=1,(s>0||Math.abs(s)<=Dt)&&(l=this.a*a*r*Math.sin(n),c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*r*i)),t.x=l,t.y=c,t}function e$(t){var e,r,n,i,a,s,l;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),r=ih(e/this.a),n=Math.sin(r),i=Math.cos(r),s=this.long0,Math.abs(e)<=Dt?(l=this.lat0,t.x=s,t.y=l,t):(l=ih(i*this.sin_p14+t.y*n*this.cos_p14/e),a=Math.abs(this.lat0)-At,Math.abs(a)<=Dt?(this.lat0>=0?s=It(this.long0+Math.atan2(t.x,-t.y),this.over):s=It(this.long0-Math.atan2(-t.x,t.y),this.over),t.x=s,t.y=l,t):(s=It(this.long0+Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),this.over),t.x=s,t.y=l,t))}var t$=["ortho"];const r$={init:JV,forward:QV,inverse:e$,names:t$};var ji={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Rn={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function n$(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=At-On/2?this.face=ji.TOP:this.lat0<=-(At-On/2)?this.face=ji.BOTTOM:Math.abs(this.long0)<=On?this.face=ji.FRONT:Math.abs(this.long0)<=At+On?this.face=this.long0>0?ji.RIGHT:ji.LEFT:this.face=ji.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function i$(t){var e={x:0,y:0},r,n,i,a,s,l,c={value:0};if(t.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):r=t.y,n=t.x,this.face===ji.TOP)a=At-r,n>=On&&n<=At+On?(c.value=Rn.AREA_0,i=n-At):n>At+On||n<=-(At+On)?(c.value=Rn.AREA_1,i=n>0?n-la:n+la):n>-(At+On)&&n<=-On?(c.value=Rn.AREA_2,i=n+At):(c.value=Rn.AREA_3,i=n);else if(this.face===ji.BOTTOM)a=At+r,n>=On&&n<=At+On?(c.value=Rn.AREA_0,i=-n+At):n<On&&n>=-On?(c.value=Rn.AREA_1,i=-n):n<-On&&n>=-(At+On)?(c.value=Rn.AREA_2,i=-n-At):(c.value=Rn.AREA_3,i=n>0?-n+la:-n-la);else{var f,p,v,y,_,T,b;this.face===ji.RIGHT?n=dd(n,+At):this.face===ji.BACK?n=dd(n,+la):this.face===ji.LEFT&&(n=dd(n,-At)),y=Math.sin(r),_=Math.cos(r),T=Math.sin(n),b=Math.cos(n),f=_*b,p=_*T,v=y,this.face===ji.FRONT?(a=Math.acos(f),i=Ym(a,v,p,c)):this.face===ji.RIGHT?(a=Math.acos(p),i=Ym(a,v,-f,c)):this.face===ji.BACK?(a=Math.acos(-f),i=Ym(a,v,-p,c)):this.face===ji.LEFT?(a=Math.acos(-p),i=Ym(a,v,f,c)):(a=i=0,c.value=Rn.AREA_0)}return l=Math.atan(12/la*(i+Math.acos(Math.sin(i)*Math.cos(On))-At)),s=Math.sqrt((1-Math.cos(a))/(Math.cos(l)*Math.cos(l))/(1-Math.cos(Math.atan(1/Math.cos(i))))),c.value===Rn.AREA_1?l+=At:c.value===Rn.AREA_2?l+=la:c.value===Rn.AREA_3&&(l+=1.5*la),e.x=s*Math.cos(l),e.y=s*Math.sin(l),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function a$(t){var e={lam:0,phi:0},r,n,i,a,s,l,c,f,p,v={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),r=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?v.value=Rn.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(v.value=Rn.AREA_1,r-=At):t.x<0&&-t.x>=Math.abs(t.y)?(v.value=Rn.AREA_2,r=r<0?r+la:r-la):(v.value=Rn.AREA_3,r+=At),p=la/12*Math.tan(r),s=Math.sin(p)/(Math.cos(p)-1/Math.sqrt(2)),l=Math.atan(s),i=Math.cos(r),a=Math.tan(n),c=1-i*i*a*a*(1-Math.cos(Math.atan(1/Math.cos(l)))),c<-1?c=-1:c>1&&(c=1),this.face===ji.TOP)f=Math.acos(c),e.phi=At-f,v.value===Rn.AREA_0?e.lam=l+At:v.value===Rn.AREA_1?e.lam=l<0?l+la:l-la:v.value===Rn.AREA_2?e.lam=l-At:e.lam=l;else if(this.face===ji.BOTTOM)f=Math.acos(c),e.phi=f-At,v.value===Rn.AREA_0?e.lam=-l+At:v.value===Rn.AREA_1?e.lam=-l:v.value===Rn.AREA_2?e.lam=-l-At:e.lam=l<0?-l-la:-l+la;else{var y,_,T;y=c,p=y*y,p>=1?T=0:T=Math.sqrt(1-p)*Math.sin(l),p+=T*T,p>=1?_=0:_=Math.sqrt(1-p),v.value===Rn.AREA_1?(p=_,_=-T,T=p):v.value===Rn.AREA_2?(_=-_,T=-T):v.value===Rn.AREA_3&&(p=_,_=T,T=-p),this.face===ji.RIGHT?(p=y,y=-_,_=p):this.face===ji.BACK?(y=-y,_=-_):this.face===ji.LEFT&&(p=y,y=_,_=-p),e.phi=Math.acos(-T)-At,e.lam=Math.atan2(_,y),this.face===ji.RIGHT?e.lam=dd(e.lam,-At):this.face===ji.BACK?e.lam=dd(e.lam,-la):this.face===ji.LEFT&&(e.lam=dd(e.lam,+At))}if(this.es!==0){var b,C,P;b=e.phi<0?1:0,C=Math.tan(e.phi),P=this.b/Math.sqrt(C*C+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-P*P)/(this.one_minus_f*P)),b&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function Ym(t,e,r,n){var i;return t<Dt?(n.value=Rn.AREA_0,i=0):(i=Math.atan2(e,r),Math.abs(i)<=On?n.value=Rn.AREA_0:i>On&&i<=At+On?(n.value=Rn.AREA_1,i-=At):i>At+On||i<=-(At+On)?(n.value=Rn.AREA_2,i=i>=0?i-la:i+la):(n.value=Rn.AREA_3,i+=At)),i}function dd(t,e){var r=t+e;return r<-la?r+=ip:r>+la&&(r-=ip),r}var s$=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const o$={init:n$,forward:i$,inverse:a$,names:s$};var C_=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],v0=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],lT=.8487,uT=1.3523,cT=bo/5,l$=1/cT,td=18,H1=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},u$=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function c$(t,e,r,n){for(var i=e;n;--n){var a=t(i);if(i-=a,Math.abs(a)<r)break}return i}function h$(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function f$(t){var e=It(t.x-this.long0,this.over),r=Math.abs(t.y),n=Math.floor(r*cT);n<0?n=0:n>=td&&(n=td-1),r=bo*(r-l$*n);var i={x:H1(C_[n],r)*e,y:H1(v0[n],r)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*lT+this.x0,i.y=i.y*this.a*uT+this.y0,i}function d$(t){var e={x:(t.x-this.x0)/(this.a*lT),y:Math.abs(t.y-this.y0)/(this.a*uT)};if(e.y>=1)e.x/=C_[td][0],e.y=t.y<0?-At:At;else{var r=Math.floor(e.y*td);for(r<0?r=0:r>=td&&(r=td-1);;)if(v0[r][0]>e.y)--r;else if(v0[r+1][0]<=e.y)++r;else break;var n=v0[r],i=5*(e.y-n[0])/(v0[r+1][0]-n[0]);i=c$(function(a){return(H1(n,a)-e.y)/u$(n,a)},i,Dt,100),e.x/=H1(C_[r],i),e.y=(5*r+i)*Wi,t.y<0&&(e.y=-e.y)}return e.x=It(e.x+this.long0,this.over),e}var p$=["Robinson","robin"];const m$={init:h$,forward:f$,inverse:d$,names:p$};function g$(){this.name="geocent"}function v$(t){var e=X8(t,this.es,this.a);return e}function _$(t){var e=J8(t,this.es,this.a,this.b);return e}var y$=["Geocentric","geocentric","geocent","Geocent"];const x$={init:g$,forward:v$,inverse:_$,names:y$};var Is={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},u0={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function w$(){if(Object.keys(u0).forEach((function(r){if(typeof this[r]>"u")this[r]=u0[r].def;else{if(u0[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);u0[r].num&&(this[r]=parseFloat(this[r]))}u0[r].degrees&&(this[r]=this[r]*Wi)}).bind(this)),Math.abs(Math.abs(this.lat0)-At)<Dt?this.mode=this.lat0<0?Is.S_POLE:Is.N_POLE:Math.abs(this.lat0)<Dt?this.mode=Is.EQUIT:(this.mode=Is.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function b$(t){t.x-=this.long0;var e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i,a;switch(this.mode){case Is.OBLIQ:a=this.sinph0*e+this.cosph0*r*n;break;case Is.EQUIT:a=r*n;break;case Is.S_POLE:a=-e;break;case Is.N_POLE:a=e;break}switch(a=this.pn1/(this.p-a),i=a*r*Math.sin(t.x),this.mode){case Is.OBLIQ:a*=this.cosph0*e-this.sinph0*r*n;break;case Is.EQUIT:a*=e;break;case Is.N_POLE:a*=-(r*n);break;case Is.S_POLE:a*=r*n;break}var s,l;return s=a*this.cg+i*this.sg,l=1/(s*this.sw*this.h1+this.cw),i=(i*this.cg-a*this.sg)*this.cw*l,a=s*l,t.x=i*this.a,t.y=a*this.a,t}function S$(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},r,n,i;i=1/(this.pn1-t.y*this.sw),r=this.pn1*t.x*i,n=this.pn1*t.y*this.cw*i,t.x=r*this.cg+n*this.sg,t.y=n*this.cg-r*this.sg;var a=wo(t.x,t.y);if(Math.abs(a)<Dt)e.x=0,e.y=t.y;else{var s,l;switch(l=1-a*a*this.pfact,l=(this.p-Math.sqrt(l))/(this.pn1/a+a/this.pn1),s=Math.sqrt(1-l*l),this.mode){case Is.OBLIQ:e.y=Math.asin(s*this.sinph0+t.y*l*this.cosph0/a),t.y=(s-this.sinph0*Math.sin(e.y))*a,t.x*=l*this.cosph0;break;case Is.EQUIT:e.y=Math.asin(t.y*l/a),t.y=s*a,t.x*=l;break;case Is.N_POLE:e.y=Math.asin(s),t.y=-t.y;break;case Is.S_POLE:e.y=-Math.asin(s);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var E$=["Tilted_Perspective","tpers"];const T$={init:w$,forward:b$,inverse:S$,names:E$};function A$(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function L$(t){var e=t.x,r=t.y,n,i,a,s;if(e=e-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var l=this.radius_p/wo(this.radius_p*Math.cos(r),Math.sin(r));if(i=l*Math.cos(e)*Math.cos(r),a=l*Math.sin(e)*Math.cos(r),s=l*Math.sin(r),(this.radius_g-i)*i-a*a-s*s*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;n=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/wo(s,n)),t.y=this.radius_g_1*Math.atan(s/n)):(t.x=this.radius_g_1*Math.atan(a/n),t.y=this.radius_g_1*Math.atan(s/wo(a,n)))}else this.shape==="sphere"&&(n=Math.cos(r),i=Math.cos(e)*n,a=Math.sin(e)*n,s=Math.sin(r),n=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/wo(s,n)),t.y=this.radius_g_1*Math.atan(s/n)):(t.x=this.radius_g_1*Math.atan(a/n),t.y=this.radius_g_1*Math.atan(s/wo(a,n))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function N$(t){var e=-1,r=0,n=0,i,a,s,l;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*wo(1,n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*wo(1,r));var c=n/this.radius_p;if(i=r*r+c*c+e*e,a=2*this.radius_g*e,s=a*a-4*i*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;l=(-a-Math.sqrt(s))/(2*i),e=this.radius_g+l*e,r*=l,n*=l,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+n*n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+r*r)),i=r*r+n*n+e*e,a=2*this.radius_g*e,s=a*a-4*i*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;l=(-a-Math.sqrt(s))/(2*i),e=this.radius_g+l*e,r*=l,n*=l,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var C$=["Geostationary Satellite View","Geostationary_Satellite","geos"];const M$={init:A$,forward:L$,inverse:N$,names:C$};var O0=1.340264,R0=-.081106,D0=893e-6,j0=.003796,q1=Math.sqrt(3)/2;function k$(){this.es=0,this.long0=this.long0!==void 0?this.long0:0,this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0}function P$(t){var e=It(t.x-this.long0,this.over),r=t.y,n=Math.asin(q1*Math.sin(r)),i=n*n,a=i*i*i;return t.x=e*Math.cos(n)/(q1*(O0+3*R0*i+a*(7*D0+9*j0*i))),t.y=n*(O0+R0*i+a*(D0+j0*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function O$(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,r=12,n=t.y,i,a,s,l,c,f;for(f=0;f<r&&(i=n*n,a=i*i*i,s=n*(O0+R0*i+a*(D0+j0*i))-t.y,l=O0+3*R0*i+a*(7*D0+9*j0*i),n-=c=s/l,!(Math.abs(c)<e));++f);return i=n*n,a=i*i*i,t.x=q1*t.x*(O0+3*R0*i+a*(7*D0+9*j0*i))/Math.cos(n),t.y=Math.asin(Math.sin(n)/q1),t.x=It(t.x+this.long0,this.over),t}var R$=["eqearth","Equal Earth","Equal_Earth"];const D$={init:k$,forward:P$,inverse:O$,names:R$};var op=1e-10;function j$(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<op)throw new Error;this.es?(this.en=Sy(this.es),this.m1=Sd(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=F$,this.forward=I$):(Math.abs(this.phi1)+op>=At?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=U$,this.forward=B$)}function I$(t){var e=It(t.x-(this.long0||0),this.over),r=t.y,n,i,a;return n=this.am1+this.m1-Sd(r,i=Math.sin(r),a=Math.cos(r),this.en),i=a*e/(n*Math.sqrt(1-this.es*i*i)),t.x=n*Math.sin(i),t.y=this.am1-n*Math.cos(i),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function F$(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,n,i;if(r=wo(t.x,t.y=this.am1-t.y),i=Ey(this.am1+this.m1-r,this.es,this.en),(e=Math.abs(i))<At)e=Math.sin(i),n=r*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(i);else if(Math.abs(e-At)<=op)n=0;else throw new Error;return t.x=It(n+(this.long0||0),this.over),t.y=oh(i),t}function B$(t){var e=It(t.x-(this.long0||0),this.over),r=t.y,n,i;return i=this.cphi1+this.phi1-r,Math.abs(i)>op?(t.x=i*Math.sin(n=e*Math.cos(r)/i),t.y=this.cphi1-i*Math.cos(n)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function U$(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,n=wo(t.x,t.y=this.cphi1-t.y);if(r=this.cphi1+this.phi1-n,Math.abs(r)>At)throw new Error;return Math.abs(Math.abs(r)-At)<=op?e=0:e=n*Math.atan2(t.x,t.y)/Math.cos(r),t.x=It(e+(this.long0||0),this.over),t.y=oh(r),t}var z$=["bonne","Bonne (Werner lat_1=90)"];const G$={init:j$,names:z$},Z3={OBLIQUE:{forward:W$,inverse:Y$},TRANSVERSE:{forward:Z$,inverse:K$}},V1={ROTATE:{o_alpha:"oAlpha",o_lon_c:"oLongC",o_lat_c:"oLatC"},NEW_POLE:{o_lat_p:"oLatP",o_lon_p:"oLongP"},NEW_EQUATOR:{o_lon_1:"oLong1",o_lat_1:"oLat1",o_lon_2:"oLong2",o_lat_2:"oLat2"}};function H$(){if(this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.title=this.title||"General Oblique Transformation",this.isIdentity=W8.includes(this.o_proj),!this.o_proj)throw new Error("Missing parameter: o_proj");if(this.o_proj==="ob_tran")throw new Error("Invalid value for o_proj: "+this.o_proj);const t=this.projStr.replace("+proj=ob_tran","").replace("+o_proj=","+proj=").trim(),e=yl(t);if(!e)throw new Error("Invalid parameter: o_proj. Unknown projection "+this.o_proj);e.long0=0,this.obliqueProjection=e;let r;const n=Object.keys(V1),i=l=>{if(typeof this[l]>"u")return;const c=parseFloat(this[l])*Wi;if(isNaN(c))throw new Error("Invalid value for "+l+": "+this[l]);return c};for(let l=0;l<n.length;l++){const c=n[l],f=V1[c],p=Object.entries(f);if(p.some(([y])=>typeof this[y]<"u")){r=f;for(let y=0;y<p.length;y++){const[_,T]=p[y],b=i(_);if(typeof b>"u")throw new Error("Missing parameter: "+_+".");this[T]=b}break}}if(!r)throw new Error("No valid parameters provided for ob_tran projection.");const{lamp:a,phip:s}=$$(this,r);this.lamp=a,Math.abs(s)>Dt?(this.cphip=Math.cos(s),this.sphip=Math.sin(s),this.projectionType=Z3.OBLIQUE):this.projectionType=Z3.TRANSVERSE}function q$(t){return this.projectionType.forward(this,t)}function V$(t){return this.projectionType.inverse(this,t)}function $$(t,e){let r,n;if(e===V1.ROTATE){let i=t.oLongC,a=t.oLatC,s=t.oAlpha;if(Math.abs(Math.abs(a)-At)<=Dt)throw new Error("Invalid value for o_lat_c: "+t.o_lat_c+" should be < 90");n=i+Math.atan2(-1*Math.cos(s),-1*Math.sin(s)*Math.sin(a)),r=Math.asin(Math.cos(a)*Math.sin(s))}else if(e===V1.NEW_POLE)n=t.oLongP,r=t.oLatP;else{let i=t.oLong1,a=t.oLat1,s=t.oLong2,l=t.oLat2,c=Math.abs(a);if(Math.abs(a)>At-Dt)throw new Error("Invalid value for o_lat_1: "+t.o_lat_1+" should be < 90");if(Math.abs(l)>At-Dt)throw new Error("Invalid value for o_lat_2: "+t.o_lat_2+" should be < 90");if(Math.abs(a-l)<Dt)throw new Error("Invalid value for o_lat_1 and o_lat_2: o_lat_1 should be different from o_lat_2");if(c<Dt)throw new Error("Invalid value for o_lat_1: o_lat_1 should be different from zero");n=Math.atan2(Math.cos(a)*Math.sin(l)*Math.cos(i)-Math.sin(a)*Math.cos(l)*Math.cos(s),Math.sin(a)*Math.cos(l)*Math.sin(s)-Math.cos(a)*Math.sin(l)*Math.sin(i)),r=Math.atan(-1*Math.cos(n-i)/Math.tan(a))}return{lamp:n,phip:r}}function W$(t,e){let{x:r,y:n}=e;r+=t.long0;const i=Math.cos(r),a=Math.sin(n),s=Math.cos(n);e.x=It(Math.atan2(s*Math.sin(r),t.sphip*s*i+t.cphip*a)+t.lamp),e.y=Math.asin(t.sphip*a-t.cphip*s*i);const l=t.obliqueProjection.forward(e);return t.isIdentity&&(l.x*=bo,l.y*=bo),l}function Z$(t,e){let{x:r,y:n}=e;r+=t.long0;const i=Math.cos(n),a=Math.cos(r);e.x=It(Math.atan2(i*Math.sin(r),Math.sin(n))+t.lamp),e.y=Math.asin(-1*i*a);const s=t.obliqueProjection.forward(e);return t.isIdentity&&(s.x*=bo,s.y*=bo),s}function Y$(t,e){t.isIdentity&&(e.x*=Wi,e.y*=Wi);const r=t.obliqueProjection.inverse(e);let{x:n,y:i}=r;if(n<Number.MAX_VALUE){n-=t.lamp;const a=Math.cos(n),s=Math.sin(i),l=Math.cos(i);e.x=Math.atan2(l*Math.sin(n),t.sphip*l*a-t.cphip*s),e.y=Math.asin(t.sphip*s+t.cphip*l*a)}return e.x=It(e.x+t.long0),e}function K$(t,e){t.isIdentity&&(e.x*=Wi,e.y*=Wi);const r=t.obliqueProjection.inverse(e);let{x:n,y:i}=r;if(n<Number.MAX_VALUE){const a=Math.cos(i);n-=t.lamp,e.x=Math.atan2(a*Math.sin(n),-1*Math.sin(i)),e.y=Math.asin(a*Math.cos(n))}return e.x=It(e.x+t.long0),e}var X$=["General Oblique Transformation","General_Oblique_Transformation","ob_tran"];const J$={init:H$,forward:q$,inverse:V$,names:X$};function Q$(t){t.Proj.projections.add(l1),t.Proj.projections.add(u1),t.Proj.projections.add(zH),t.Proj.projections.add(KH),t.Proj.projections.add(tq),t.Proj.projections.add(sq),t.Proj.projections.add(fq),t.Proj.projections.add(vq),t.Proj.projections.add(bq),t.Proj.projections.add(Lq),t.Proj.projections.add(Uq),t.Proj.projections.add($q),t.Proj.projections.add(Xq),t.Proj.projections.add(nV),t.Proj.projections.add(lV),t.Proj.projections.add(dV),t.Proj.projections.add(_V),t.Proj.projections.add(SV),t.Proj.projections.add(CV),t.Proj.projections.add(RV),t.Proj.projections.add(BV),t.Proj.projections.add(qV),t.Proj.projections.add(XV),t.Proj.projections.add(r$),t.Proj.projections.add(o$),t.Proj.projections.add(m$),t.Proj.projections.add(x$),t.Proj.projections.add(T$),t.Proj.projections.add(M$),t.Proj.projections.add(D$),t.Proj.projections.add(G$),t.Proj.projections.add(J$)}const My=Object.assign(iH,{defaultDatum:"WGS84",Proj:yl,WGS84:new yl("WGS84"),Point:md,toPoint:Q8,defs:ps,nadgrid:UG,transform:z1,mgrs:aH,version:"__VERSION__"});Q$(My);const eW=(t={})=>{const{enableHighAccuracy:e=!0,timeout:r=1e4,maximumAge:n=0,watchPosition:i=!1}=t,[a,s]=de.useState(null),[l,c]=de.useState(null),[f,p]=de.useState(!1),[v,y]=de.useState("prompt"),_=de.useRef(null);de.useEffect(()=>{"permissions"in navigator&&navigator.permissions.query({name:"geolocation"}).then(B=>{y(B.state),B.onchange=()=>{y(B.state)}}).catch(()=>{y("prompt")})},[]),de.useEffect(()=>()=>{_.current!==null&&navigator.geolocation.clearWatch(_.current)},[]);const T=de.useCallback(B=>{const{latitude:te,longitude:ue,accuracy:F,altitude:K,heading:U,speed:X}=B.coords;s({latitude:te,longitude:ue,accuracy:F,altitude:K,heading:U,speed:X,timestamp:B.timestamp,accuracyLevel:tW(F)}),c(null),p(!1)},[]),b=de.useCallback(B=>{let te;switch(B.code){case B.PERMISSION_DENIED:te="Location permission denied. Please enable location access in your device settings.",y("denied");break;case B.POSITION_UNAVAILABLE:te="Location unavailable. Please ensure GPS is enabled.";break;case B.TIMEOUT:te="Location request timed out. Please try again.";break;default:te="An unknown error occurred while getting location."}c(te),p(!1)},[]),C=de.useCallback(()=>{if(!("geolocation"in navigator)){c("Geolocation is not supported by your browser.");return}p(!0),c(null),navigator.geolocation.getCurrentPosition(T,b,{enableHighAccuracy:e,timeout:r,maximumAge:n})},[e,r,n,T,b]),P=de.useCallback(()=>{if(!("geolocation"in navigator)){c("Geolocation is not supported by your browser.");return}_.current===null&&(p(!0),c(null),_.current=navigator.geolocation.watchPosition(T,b,{enableHighAccuracy:e,timeout:r,maximumAge:n}))},[e,r,n,T,b]),j=de.useCallback(()=>{_.current!==null&&(navigator.geolocation.clearWatch(_.current),_.current=null,p(!1))},[]),R=de.useCallback(()=>{s(null),c(null)},[]);return{location:a,error:l,isLoading:f,permissionState:v,getCurrentPosition:C,startWatching:P,stopWatching:j,clearLocation:R,isSupported:"geolocation"in navigator}},tW=t=>t<=5?{level:"excellent",color:"#10B981",label:"GPS accuracy: Excellent"}:t<=15?{level:"good",color:"#22C55E",label:"GPS accuracy: Good"}:t<=50?{level:"moderate",color:"#F59E0B",label:"GPS accuracy: Moderate"}:t<=100?{level:"poor",color:"#EF4444",label:"GPS accuracy: Poor"}:{level:"very_poor",color:"#DC2626",label:"GPS accuracy: Very Poor"};delete Ds.Icon.Default.prototype._getIconUrl;Ds.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});My.defs("EPSG:32645","+proj=utm +zone=45 +datum=WGS84 +units=m +no_defs");const rW=(t,e)=>My("EPSG:32645","EPSG:4326",[t,e]),Km={minX:374675.5284200097,minY:2.2494228492706926e6,maxX:374819.7744433263,maxY:2249603845816269e-9},Y3=[(Km.minX+Km.maxX)/2,(Km.minY+Km.maxY)/2],Xm=rW(Y3[0],Y3[1]),nW=({setMapInstance:t})=>{const e=D8();return de.useEffect(()=>{t(e)},[e,t]),null},iW=({onBuildingSelect:t})=>{const e=de.useRef(null),[r,n]=de.useState(null),[i,a]=de.useState(null),[s,l]=de.useState(null),[c,f]=de.useState(null),[p,v]=de.useState(!1),[y,_]=de.useState([]),[T,b]=de.useState([]),[C,P]=de.useState(!1),[j,R]=de.useState(null),[B,te]=de.useState(null),{location:ue,error:F,isLoading:K,getCurrentPosition:U}=eW({enableHighAccuracy:!0,timeout:15e3}),X=oe=>{if(!r)return;if(c)try{c.disable()}catch{}let be;const _e={color:oe==="polygon"?"#10b981":"#8b5cf6",weight:3,fillOpacity:.2};oe==="polygon"?be=new Ds.Draw.Polygon(r,{shapeOptions:_e,allowIntersection:!1,guidelineDistance:15}):oe==="rectangle"?be=new Ds.Draw.Rectangle(r,{shapeOptions:_e}):oe==="marker"&&(be=new Ds.Draw.Marker(r)),be&&(be.enable(),f(be),a(oe))},I=()=>{U(),v(!0)};de.useEffect(()=>{ue&&r&&r.flyTo([ue.latitude,ue.longitude],18,{duration:1.5})},[ue,r]);const W=()=>{r&&r.flyTo([Xm[1],Xm[0]],19,{duration:1.5})},ce=()=>{if(c)try{c._markers&&c._markers.length>0&&(c.deleteLastVertex(),_(oe=>{const be=[...oe];return be.pop(),be}))}catch(oe){console.log("Undo not available:",oe)}},pe=()=>{if(c)try{c.disable()}catch{}f(null),a(null),_([]),b([]),l(null),e.current&&e.current.clearLayers()};de.useEffect(()=>{if(!r)return;const oe=be=>{const _e=be.layers?._layers;if(_e){const Le=Object.values(_e);if(Le.length>0&&Le[0]._latlng){const Ne=Le[0]._latlng;_(Q=>[...Q,{lat:Ne.lat,lng:Ne.lng}])}}};return r.on("draw:drawvertex",oe),()=>{r.off("draw:drawvertex",oe)}},[r]),de.useEffect(()=>{if(!r)return;const oe=()=>{l(null)},be=()=>{l(null),a(null)},_e=Le=>{const Ne=Le.layer,Q=Le.layerType;let O,H;Q==="polygon"||Q==="rectangle"?(O={type:"Polygon",coordinates:[Ne.getLatLngs()[0].map(Ae=>[Ae.lng,Ae.lat])]},H=Ne.getBounds().getCenter()):Q==="marker"&&(H=Ne.getLatLng(),O={type:"Point",coordinates:[H.lng,H.lat]});let q=0;(Q==="polygon"||Q==="rectangle")&&(q=Ds.GeometryUtil.geodesicArea(Ne.getLatLngs()[0]));const Z={id:`BLD-${Date.now()}`,geometry:O,latlng:H,area:q.toFixed(2),layerType:Q};l(null),a(null),f(null),t(Z)};return r.on("draw:drawvertex",Le=>{const Ne=Object.values(Le.layers._layers)[0];if(Ne&&Ne._latlngs){const Q=Ne._latlngs;if(Q.length>=3){const O=Ds.GeometryUtil.geodesicArea(Q);l(O)}}}),r.on("draw:drawstart",oe),r.on("draw:drawstop",be),r.on("draw:created",_e),()=>{r.off("draw:drawvertex"),r.off("draw:drawstart",oe),r.off("draw:drawstop",be),r.off("draw:created",_e)}},[r,t]);const xe=oe=>{const{layerType:be,layer:_e}=oe;let Le,Ne;be==="polygon"||be==="rectangle"?(Le={type:"Polygon",coordinates:[_e.getLatLngs()[0].map(q=>[q.lng,q.lat])]},Ne=_e.getBounds().getCenter()):be==="marker"&&(Ne=_e.getLatLng(),Le={type:"Point",coordinates:[Ne.lng,Ne.lat]});let Q=0;(be==="polygon"||be==="rectangle")&&(Q=Ds.GeometryUtil.geodesicArea(_e.getLatLngs()[0]));const O={id:`BLD-${Date.now()}`,geometry:Le,latlng:Ne,area:Q.toFixed(2),layerType:be};a(null),t(O)};return x.jsxs("div",{className:"relative h-full w-full",children:[x.jsxs(yy,{center:[Xm[1],Xm[0]],zoom:17,maxZoom:24,style:{height:"100%",width:"100%"},tap:!0,touchZoom:!0,dragging:!0,scrollWheelZoom:!0,children:[x.jsx(nW,{setMapInstance:n}),x.jsx(I1,{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"],attribution:" Google Maps",maxZoom:22}),x.jsx(F8,{url:"http://localhost:8080/geoserver/RASTER/wms",params:{layers:"RASTER:67cfea31928570b1a96c327e",format:"image/png",transparent:!0,version:"1.1.0",srs:"EPSG:4326"},maxZoom:24,opacity:1}),x.jsx(Bz,{ref:e,children:x.jsx(B8,{position:"topleft",onCreated:xe,draw:{rectangle:{shapeOptions:{color:"#8b5cf6",weight:3,fillOpacity:.2},touchIcon:new Ds.DivIcon({className:"leaflet-draw-touch-icon",iconSize:new Ds.Point(30,30),iconAnchor:new Ds.Point(15,15)})},polygon:{allowIntersection:!1,guidelineDistance:15,shapeOptions:{color:"#10b981",weight:3,fillOpacity:.2},touchIcon:new Ds.DivIcon({className:"leaflet-draw-touch-icon",iconSize:new Ds.Point(30,30),iconAnchor:new Ds.Point(15,15)})},marker:!0,circle:!1,circlemarker:!1,polyline:!1},edit:{edit:!1,remove:!1}})}),p&&ue&&x.jsxs(x.Fragment,{children:[x.jsx(Fz,{center:[ue.latitude,ue.longitude],radius:ue.accuracy,pathOptions:{color:ue.accuracyLevel?.color||"#3B82F6",fillColor:ue.accuracyLevel?.color||"#3B82F6",fillOpacity:.15,weight:2}}),x.jsx(zz,{position:[ue.latitude,ue.longitude],children:x.jsx(I8,{children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"font-semibold",children:" Your Location"}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Accuracy: ",Math.round(ue.accuracy),"m"]}),x.jsx("p",{className:"text-xs",style:{color:ue.accuracyLevel?.color},children:ue.accuracyLevel?.label})]})})})]})]}),x.jsxs("div",{className:"absolute left-4 bottom-8 z-[1000] flex flex-col gap-2",children:[x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3 border border-gray-100",children:[x.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 text-center",children:"Draw"}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("button",{onClick:()=>X("polygon"),className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${i==="polygon"?"bg-green-500 text-white shadow-lg shadow-green-200":"bg-gradient-to-br from-green-50 to-green-100 text-green-600 hover:from-green-100 hover:to-green-200"}`,title:"Draw Polygon",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-14 9V3z"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Polygon"})]}),x.jsxs("button",{onClick:()=>X("rectangle"),className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${i==="rectangle"?"bg-purple-500 text-white shadow-lg shadow-purple-200":"bg-gradient-to-br from-purple-50 to-purple-100 text-purple-600 hover:from-purple-100 hover:to-purple-200"}`,title:"Draw Rectangle",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeWidth:2})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Rectangle"})]}),x.jsxs("button",{onClick:()=>X("marker"),className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${i==="marker"?"bg-orange-500 text-white shadow-lg shadow-orange-200":"bg-gradient-to-br from-orange-50 to-orange-100 text-orange-600 hover:from-orange-100 hover:to-orange-200"}`,title:"Drop Marker",children:[x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Marker"})]})]})]}),(i||y.length>0)&&x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3 border border-gray-100",children:[x.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 text-center",children:"Edit"}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("button",{onClick:ce,disabled:!i,className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all ${i?"bg-gradient-to-br from-yellow-50 to-yellow-100 text-yellow-600 hover:from-yellow-100 hover:to-yellow-200 active:scale-95":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,title:"Undo Last Point",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Undo"})]}),x.jsxs("button",{onClick:pe,className:"w-14 h-14 rounded-xl flex flex-col items-center justify-center bg-gradient-to-br from-red-50 to-red-100 text-red-500 hover:from-red-100 hover:to-red-200 active:scale-95 transition-all",title:"Clear Drawing",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Clear"})]})]})]}),i&&y.length>0&&x.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-2xl shadow-xl px-3 py-2 text-center",children:[x.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wide opacity-80",children:"Points"}),x.jsx("p",{className:"text-2xl font-bold",children:y.length}),x.jsx("p",{className:"text-[9px] opacity-70",children:y.length<3?`Need ${3-y.length} more`:"Ready to close"})]}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3 border border-gray-100 flex flex-col gap-2",children:[x.jsxs("button",{onClick:W,className:"w-14 h-14 bg-gradient-to-br from-cyan-50 to-cyan-100 text-cyan-600 rounded-xl flex flex-col items-center justify-center hover:from-cyan-100 hover:to-cyan-200 transition-all",title:"Go to Drone Imagery",children:[x.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),x.jsx("circle",{cx:"12",cy:"13",r:"3",strokeWidth:2})]}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:"Drone"})]}),x.jsxs("button",{onClick:I,disabled:K,className:`w-14 h-14 rounded-xl flex flex-col items-center justify-center transition-all relative ${K?"bg-blue-500 text-white animate-pulse":ue?"bg-gradient-to-br from-green-50 to-green-100 text-green-600 hover:from-green-100 hover:to-green-200":"bg-gradient-to-br from-blue-50 to-blue-100 text-blue-600 hover:from-blue-100 hover:to-blue-200"}`,title:F||(ue?`Accuracy: ${Math.round(ue.accuracy)}m`:"Get My Location"),children:[K?x.jsxs("svg",{className:"w-6 h-6 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-[9px] font-semibold mt-0.5",children:K?"Finding...":ue?"Located":"Location"}),ue&&x.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full border-2 border-white",style:{backgroundColor:ue.accuracyLevel?.color||"#10B981"},title:ue.accuracyLevel?.label})]})]})]}),x.jsx("style",{children:`
                .leaflet-draw-toolbar {
                    position: absolute !important;
                    left: -9999px !important;
                    opacity: 0 !important;
                    pointer-events: none !important;
                }
                .leaflet-draw-section {
                    position: absolute !important;
                    left: -9999px !important;
                }
            `}),i?x.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-[1000] max-w-[90vw]",children:x.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-3 rounded-2xl shadow-lg",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"text-2xl animate-bounce",children:""}),x.jsxs("div",{children:[x.jsxs("p",{className:"font-semibold text-sm",children:[i==="polygon"&&"Tap to add corner points",i==="rectangle"&&"Tap and drag to draw rectangle",i==="marker"&&"Tap to place marker"]}),x.jsxs("p",{className:"text-xs opacity-90",children:[i==="polygon"&&"Tap first point again to complete  Use Undo for mistakes",i==="rectangle"&&"Drag corner to resize",i==="marker"&&"Tap anywhere on the map"]})]})]})})}):x.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-[1000]",children:x.jsx("div",{className:"bg-white/95 backdrop-blur-sm px-5 py-2.5 rounded-full shadow-lg border border-gray-100",children:x.jsxs("p",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[x.jsx("span",{className:"text-lg",children:""}),x.jsx("span",{children:"Select a tool and draw around the building"})]})})})]})},aW=({onConfirm:t,onCancel:e})=>{const[r,n]=de.useState(1),[i,a]=de.useState(""),[s,l]=de.useState(!1),c=()=>{const f=s?parseInt(i):r;f&&f>0&&f<=50?t(f):alert("Please enter a valid number of floors (1-50)")};return x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-8",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"text-5xl mb-4",children:""}),x.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Building Footprint Captured"}),x.jsx("p",{className:"text-gray-600 mt-2",children:"How many floors or units does this building have?"})]}),!s&&x.jsxs("div",{className:"space-y-4 mb-6",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 text-center",children:"Quick Select"}),x.jsx("div",{className:"grid grid-cols-5 gap-3",children:[1,2,3,4,5].map(f=>x.jsx("button",{onClick:()=>n(f),className:`p-4 rounded-lg border-2 font-bold text-lg transition-all ${r===f&&!s?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 hover:border-blue-400 text-gray-700"}`,children:f},f))})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("label",{className:"flex items-center space-x-3 mb-3",children:[x.jsx("input",{type:"checkbox",checked:s,onChange:f=>l(f.target.checked),className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"font-medium text-gray-700",children:"Custom number of floors"})]}),s&&x.jsx("input",{type:"number",value:i,onChange:f=>a(f.target.value),placeholder:"Enter number (1-50)",min:"1",max:"50",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-center text-xl font-bold"})]}),x.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded mb-6",children:x.jsxs("p",{className:"text-sm text-blue-900",children:[x.jsx("strong",{children:"Note:"})," You'll fill out a separate assessment form for each floor/unit, allowing different owners and property details per floor."]})}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsx("button",{onClick:e,className:"flex-1 py-3 px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-colors",children:"Cancel"}),x.jsx("button",{onClick:c,className:"flex-1 py-3 px-6 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105",children:"Continue "})]})]})},sW=({floorNumber:t,onConfirm:e,onSkip:r})=>{const[n,i]=de.useState(1),[a,s]=de.useState(""),[l,c]=de.useState(!1),f=()=>{const p=l?parseInt(a):n;p&&p>0&&p<=20?e(p):alert("Please enter a valid number of units (1-20)")};return x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 sm:p-8",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"text-4xl sm:text-5xl mb-3",children:""}),x.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Floor ",t]}),x.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"How many units/flats on this floor?"})]}),!l&&x.jsxs("div",{className:"space-y-3 mb-5",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 text-center",children:"Quick Select"}),x.jsx("div",{className:"grid grid-cols-5 gap-2 sm:gap-3",children:[1,2,3,4,5].map(p=>x.jsx("button",{onClick:()=>i(p),className:`p-3 sm:p-4 rounded-lg border-2 font-bold text-base sm:text-lg transition-all ${n===p&&!l?"border-green-600 bg-green-50 text-green-700":"border-gray-300 hover:border-green-400 text-gray-700"}`,children:p},p))})]}),x.jsxs("div",{className:"mb-5",children:[x.jsxs("label",{className:"flex items-center space-x-2 sm:space-x-3 mb-3",children:[x.jsx("input",{type:"checkbox",checked:l,onChange:p=>c(p.target.checked),className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700",children:"Custom number of units"})]}),l&&x.jsx("input",{type:"number",inputMode:"numeric",value:a,onChange:p=>s(p.target.value),placeholder:"Enter number (1-20)",min:"1",max:"20",className:"w-full p-3 sm:p-4 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none text-center text-lg sm:text-xl font-bold"})]}),x.jsx("div",{className:"bg-green-50 border-l-4 border-green-600 p-3 sm:p-4 rounded mb-5",children:x.jsxs("p",{className:"text-xs sm:text-sm text-green-900",children:[x.jsx("strong",{children:"Note:"})," Each unit will have a separate form for owner details (e.g., Unit A, Unit B, or Flat 1, Flat 2)."]})}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:space-x-3 sm:gap-0",children:[x.jsx("button",{onClick:()=>r(),className:"sm:flex-1 py-3 sm:py-4 px-4 sm:px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-colors text-base",children:"Single Owner (Skip)"}),x.jsx("button",{onClick:f,className:"sm:flex-1 py-3 sm:py-4 px-4 sm:px-6 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105 text-base",children:"Continue "})]})]})},hT=({geometry:t,area:e})=>{const r=de.useRef(null);de.useEffect(()=>{if(!t||!r.current)return;const c=r.current,f=c.getContext("2d"),p=c.width,v=c.height;if(f.fillStyle="#f8fafc",f.fillRect(0,0,p,v),n(f,p,v),t.type==="Polygon"){const y=t.coordinates[0];i(f,y,p,v)}else t.type==="Point"&&a(f,t.coordinates,p,v)},[t]);const n=(c,f,p)=>{c.strokeStyle="#e2e8f0",c.lineWidth=.5;for(let v=0;v<=f;v+=20)c.beginPath(),c.moveTo(v,0),c.lineTo(v,p),c.stroke();for(let v=0;v<=p;v+=20)c.beginPath(),c.moveTo(0,v),c.lineTo(f,v),c.stroke();c.strokeStyle="#94a3b8",c.lineWidth=2,c.strokeRect(0,0,f,p)},i=(c,f,p,v)=>{const y=f.map(K=>K[0]),_=f.map(K=>K[1]),T=Math.min(...y),b=Math.max(...y),C=Math.min(..._),P=Math.max(..._),j=40,R=(p-2*j)/(b-T),B=(v-2*j)/(P-C),te=Math.min(R,B),ue=K=>j+(K-T)*te,F=K=>v-(j+(K-C)*te);c.fillStyle="rgba(59, 130, 246, 0.1)",c.beginPath(),f.forEach((K,U)=>{const X=ue(K[0]),I=F(K[1]);U===0?c.moveTo(X,I):c.lineTo(X,I)}),c.closePath(),c.fill(),c.strokeStyle="#2563eb",c.lineWidth=2,c.stroke(),c.fillStyle="#1e40af",f.forEach(K=>{const U=ue(K[0]),X=F(K[1]);c.beginPath(),c.arc(U,X,4,0,2*Math.PI),c.fill()}),c.fillStyle="#1e293b",c.font="bold 11px monospace",c.textAlign="center";for(let K=0;K<f.length;K++){const U=f[K],X=f[(K+1)%f.length],I=ue(U[0]),W=F(U[1]),ce=ue(X[0]),pe=F(X[1]),xe=l(U[1],U[0],X[1],X[0]),oe=(I+ce)/2,be=(W+pe)/2;c.fillStyle="white",c.fillRect(oe-25,be-10,50,16),c.fillStyle="#1e40af",c.fillText(`${xe.toFixed(1)}m`,oe,be+3)}c.font="bold 14px monospace",c.fillStyle="white",c.fillRect(p/2-60,15,120,25),c.fillStyle="#1e40af",c.fillText(`Area: ${e} m`,p/2,32),s(c,p-40,40)},a=(c,f,p,v)=>{const y=p/2,_=v/2;c.strokeStyle="#2563eb",c.lineWidth=2,c.beginPath(),c.moveTo(y-20,_),c.lineTo(y+20,_),c.stroke(),c.beginPath(),c.moveTo(y,_-20),c.lineTo(y,_+20),c.stroke(),c.fillStyle="#1e40af",c.beginPath(),c.arc(y,_,6,0,2*Math.PI),c.fill(),c.fillStyle="#1e293b",c.font="bold 12px monospace",c.textAlign="center",c.fillText("Survey Point",p/2,v-20)},s=(c,f,p)=>{c.save(),c.translate(f,p),c.fillStyle="#ef4444",c.beginPath(),c.moveTo(0,-15),c.lineTo(-5,0),c.lineTo(5,0),c.closePath(),c.fill(),c.fillStyle="#94a3b8",c.beginPath(),c.moveTo(0,15),c.lineTo(-5,0),c.lineTo(5,0),c.closePath(),c.fill(),c.fillStyle="#1e293b",c.font="bold 10px sans-serif",c.textAlign="center",c.fillText("N",0,-20),c.restore()},l=(c,f,p,v)=>{const _=c*Math.PI/180,T=p*Math.PI/180,b=(p-c)*Math.PI/180,C=(v-f)*Math.PI/180,P=Math.sin(b/2)*Math.sin(b/2)+Math.cos(_)*Math.cos(T)*Math.sin(C/2)*Math.sin(C/2);return 6371e3*(2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P)))};return x.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:" Building Footprint - CAD View"}),x.jsx("span",{className:"text-xs text-gray-500 font-mono",children:"Scale: Auto-fit"})]}),x.jsx("canvas",{ref:r,width:500,height:400,className:"w-full border border-gray-200 rounded"}),x.jsx("div",{className:"mt-2 text-xs text-gray-500 font-mono",children:"All measurements in meters (m) | Grid spacing: 20px"})]})},F2=({label:t="Photo",onCapture:e,currentPhoto:r=null,required:n=!1,maxSizeMB:i=1})=>{const[a,s]=de.useState(!1),[l,c]=de.useState(null),[f,p]=de.useState(null),[v,y]=de.useState(null),[_,T]=de.useState(null),[b,C]=de.useState("environment"),[P,j]=de.useState(!1),R=de.useRef(null),B=de.useRef(null),te=de.useRef(null);de.useEffect(()=>{r&&!v&&(typeof r=="string"?y(r):r instanceof File&&y(URL.createObjectURL(r)))},[r,v]),de.useEffect(()=>()=>{l&&l.getTracks().forEach(pe=>pe.stop()),v&&v.startsWith("blob:")&&URL.revokeObjectURL(v)},[l,v]);const ue=async()=>{T(null),j(!0);try{const pe={video:{facingMode:b,width:{ideal:1280},height:{ideal:720}},audio:!1},xe=await navigator.mediaDevices.getUserMedia(pe);c(xe),R.current&&(R.current.srcObject=xe),s(!0)}catch(pe){console.error("Camera error:",pe),pe.name==="NotAllowedError"?T("Camera permission denied. Please allow camera access."):pe.name==="NotFoundError"?T("No camera found on this device."):T("Failed to access camera. Try selecting from gallery instead.")}finally{j(!1)}},F=de.useCallback(()=>{l&&(l.getTracks().forEach(pe=>pe.stop()),c(null)),s(!1)},[l]),K=async()=>{F(),C(pe=>pe==="environment"?"user":"environment"),setTimeout(()=>ue(),100)},U=(pe,xe)=>{let oe=.9,be=pe.toDataURL("image/jpeg",oe);for(;be.length>xe*1024*1024*1.37&&oe>.1;)oe-=.1,be=pe.toDataURL("image/jpeg",oe);return be},X=(pe,xe)=>{const oe=pe.split(","),be=oe[0].match(/:(.*?);/)[1],_e=atob(oe[1]);let Le=_e.length;const Ne=new Uint8Array(Le);for(;Le--;)Ne[Le]=_e.charCodeAt(Le);return new File([Ne],xe,{type:be})},I=()=>{if(!R.current||!B.current)return;const pe=R.current,xe=B.current,oe=xe.getContext("2d");xe.width=pe.videoWidth,xe.height=pe.videoHeight,oe.drawImage(pe,0,0);const be=U(xe,i),_e=X(be,`photo_${Date.now()}.jpg`);p(_e),y(be),F(),e&&e(_e)},W=async pe=>{const xe=pe.target.files[0];if(xe){j(!0);try{const oe=new Image,be=new FileReader;be.onload=_e=>{oe.onload=()=>{const Le=B.current,Ne=Le.getContext("2d");let Q=oe.width,O=oe.height;const H=1920;(Q>H||O>H)&&(Q>O?(O=O/Q*H,Q=H):(Q=Q/O*H,O=H)),Le.width=Q,Le.height=O,Ne.drawImage(oe,0,0,Q,O);const q=U(Le,i),Z=X(q,xe.name);p(Z),y(q),j(!1),e&&e(Z)},oe.src=_e.target.result},be.readAsDataURL(xe)}catch(oe){console.error("File processing error:",oe),T("Failed to process image"),j(!1)}}},ce=()=>{p(null),y(null),e&&e(null)};return x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"block text-sm font-semibold text-gray-700",children:[t," ",n&&"*"]}),x.jsx("canvas",{ref:B,className:"hidden"}),x.jsx("input",{ref:te,type:"file",accept:"image/*",onChange:W,className:"hidden"}),_&&x.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 rounded",children:x.jsx("p",{className:"text-sm text-red-700",children:_})}),a&&x.jsxs("div",{className:"fixed inset-0 bg-black z-[2000] flex flex-col",children:[x.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-10 bg-gradient-to-b from-black/70 to-transparent",children:[x.jsx("button",{onClick:F,className:"text-white text-2xl font-light p-2",children:""}),x.jsx("span",{className:"text-white font-medium",children:t}),x.jsx("button",{onClick:K,className:"text-white p-2",title:"Switch Camera",children:""})]}),x.jsx("video",{ref:R,autoPlay:!0,playsInline:!0,muted:!0,className:"flex-1 w-full object-cover"}),x.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 flex justify-center bg-gradient-to-t from-black/70 to-transparent",children:x.jsx("button",{onClick:I,className:"w-20 h-20 bg-white rounded-full border-4 border-gray-300 shadow-lg flex items-center justify-center hover:scale-105 active:scale-95 transition-transform",children:x.jsx("div",{className:"w-16 h-16 bg-white rounded-full border-4 border-gray-400"})})})]}),v?x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:v,alt:"Captured",className:"w-full h-48 object-cover rounded-lg border-2 border-green-500"}),x.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[x.jsx("button",{type:"button",onClick:ce,className:"bg-red-500 text-white px-3 py-1.5 rounded-lg text-sm font-medium shadow-lg hover:bg-red-600 transition-colors",children:" Remove"}),x.jsx("button",{type:"button",onClick:ue,className:"bg-blue-500 text-white px-3 py-1.5 rounded-lg text-sm font-medium shadow-lg hover:bg-blue-600 transition-colors",children:" Retake"})]}),x.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:" Photo captured"})]}):x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:ue,disabled:P,className:"flex-1 py-4 px-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl font-medium shadow-md hover:from-blue-600 hover:to-blue-700 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:P?x.jsx("span",{className:"animate-spin",children:""}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"text-xl",children:""}),x.jsx("span",{children:"Take Photo"})]})}),x.jsxs("button",{type:"button",onClick:()=>te.current?.click(),disabled:P,className:"flex-1 py-4 px-4 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-xl font-medium shadow-md hover:from-gray-200 hover:to-gray-300 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[x.jsx("span",{className:"text-xl",children:""}),x.jsx("span",{children:"Gallery"})]})]})]})},B2={owner_name:{required:!0,minLength:2,maxLength:100,pattern:/^[a-zA-Z\s.'-]+$/,message:"Please enter a valid name (letters, spaces, dots, hyphens only)"},phone_number:{required:!0,pattern:/^[6-9]\d{9}$/,message:"Please enter a valid 10-digit Indian mobile number (starting with 6-9)"},aadhaar_number:{required:!1,pattern:/^\d{12}$/,validate:t=>!t||t.length===0?!0:!(t.length!==12||t[0]==="0"||t[0]==="1"),message:"Please enter a valid 12-digit Aadhaar number (cannot start with 0 or 1)"},year_of_construction:{required:!1,validate:t=>{if(!t)return!0;const e=parseInt(t),r=new Date().getFullYear();return e>=1900&&e<=r},message:`Year must be between 1900 and ${new Date().getFullYear()}`},property_usage:{required:!1,message:"Please select a property usage type"},construction_type:{required:!1,message:"Please select a construction type"},ownership_type:{required:!1,message:"Please select ownership type"}},oW=()=>{const[t,e]=de.useState({}),[r,n]=de.useState({}),i=de.useCallback((v,y)=>{const _=B2[v];return _?_.required&&(!y||y.toString().trim()==="")?`${U2(v)} is required`:!y||y.toString().trim()===""?null:_.pattern&&!_.pattern.test(y)?_.message:_.minLength&&y.length<_.minLength?`${U2(v)} must be at least ${_.minLength} characters`:_.maxLength&&y.length>_.maxLength?`${U2(v)} must be less than ${_.maxLength} characters`:_.validate&&!_.validate(y)?_.message:null:null},[]),a=de.useCallback(v=>{const y={};let _=!0;Object.keys(B2).forEach(b=>{const C=i(b,v[b]);C&&(y[b]=C,_=!1)}),e(y);const T={};return Object.keys(B2).forEach(b=>{T[b]=!0}),n(T),_},[i]),s=de.useCallback((v,y)=>{n(T=>({...T,[v]:!0}));const _=i(v,y);e(T=>({...T,[v]:_}))},[i]),l=de.useCallback(v=>{e(y=>{const _={...y};return delete _[v],_})},[]),c=de.useCallback(()=>{e({}),n({})},[]),f=de.useCallback(v=>r[v]&&t[v],[r,t]),p=de.useCallback(v=>r[v]?t[v]:null,[r,t]);return{errors:t,touched:r,validateField:i,validateForm:a,handleBlur:s,clearError:l,resetValidation:c,hasError:f,getError:p}},U2=t=>t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),z2="survey_form_draft",lW=({buildingData:t,floorNumber:e=1,totalFloors:r=1,unitIdentifier:n=null,onClose:i,onSuccess:a})=>{const[s,l]=de.useState({owner_name:"",phone_number:"",aadhaar_number:"",email_address:"",family_members_count:"",occupier_name:"",survey_gat_no:"",city_survey_no:"",layout_name_plot_no:"",building_name:"",address_with_floor:"",nearest_road_type:"",pin_code:"",property_type:"Residential",usage_type:"",usage_sub_type:"",building_permission:!1,permission_no:"",permission_date:"",occupancy_certificate:!1,construction_type:"RCC",year_of_construction:"",water_connection:!1,water_connection_type:"",water_authorized:"Authorised",water_meter_no:"",water_consumer_no:"",water_connection_date:"",pipe_size:"",has_toilet:!1,toilet_count:"",has_septic_tank:!1,has_sewerage:!1,electricity_connection:!1,has_solar:!1,has_rainwater_harvesting:!1,zone_no:"",new_ward_no:"",old_ward_no:"",old_property_no:"",new_property_no:"",total_carpet_area:"",exempted_area:"",assessable_area:"",ownership_type:"owned",current_tax_details:"",ulb_name:"",district:"",town:"",tax_paid:!1}),[c,f]=de.useState(null),[p,v]=de.useState(null),[y,_]=de.useState(null),[T,b]=de.useState(!1),[C,P]=de.useState(!1),[j,R]=de.useState(null),[B,te]=de.useState(!1),[ue,F]=de.useState("owner"),{errors:K,validateForm:U,handleBlur:X,clearError:I,getError:W,hasError:ce}=oW();de.useEffect(()=>{const Le=localStorage.getItem(z2);if(Le)try{const Ne=JSON.parse(Le);Ne.buildingId===t?.id&&(l(Q=>({...Q,...Ne.formData})),P(!0),setTimeout(()=>P(!1),3e3))}catch(Ne){console.error("Error restoring draft:",Ne)}},[t?.id]),de.useEffect(()=>{const Le=setTimeout(()=>{const Ne={buildingId:t?.id,formData:s,savedAt:new Date().toISOString()};localStorage.setItem(z2,JSON.stringify(Ne)),R(new Date)},2e3);return()=>clearTimeout(Le)},[s,t?.id]);const pe=de.useCallback(()=>{localStorage.removeItem(z2)},[]),xe=Le=>{const{name:Ne,value:Q,type:O,checked:H}=Le.target,q=O==="checkbox"?H:Q;l(Z=>({...Z,[Ne]:q})),K[Ne]&&I(Ne)},oe=Le=>{const{name:Ne,value:Q}=Le.target;X(Ne,Q)},be=async(Le,Ne)=>{if(!Le)return null;const Q=`${Date.now()}_${Le.name}`,{data:O,error:H}=await fn.storage.from("survey-photos").upload(`${Ne}/${Q}`,Le);if(H)return console.error("Upload error:",H),null;const{data:{publicUrl:q}}=fn.storage.from("survey-photos").getPublicUrl(O.path);return q},_e=async Le=>{if(Le.preventDefault(),te(!0),!U(s)){const Ne=document.querySelector(".field-error");Ne&&Ne.scrollIntoView({behavior:"smooth",block:"center"});return}b(!0);try{const Ne=(await fn.auth.getUser()).data.user,Q=await be(c,"owners"),O=await be(p,"buildings"),H={surveyor_id:Ne.id,building_id:t.id,geometry:t.geometry,area_sqm:t.area,floor_number:e,total_floors:r,unit_identifier:n,status:"submitted",owner_name:s.owner_name,phone_number:s.phone_number,aadhaar_number:s.aadhaar_number||null,email_address:s.email_address||null,family_members_count:s.family_members_count?parseInt(s.family_members_count):null,occupier_name:s.occupier_name||null,ownership_type:s.ownership_type||null,survey_gat_no:s.survey_gat_no||null,city_survey_no:s.city_survey_no||null,layout_name_plot_no:s.layout_name_plot_no||null,building_name:s.building_name||null,address_with_floor:s.address_with_floor||null,nearest_road_type:s.nearest_road_type||null,pin_code:s.pin_code||null,property_type:s.property_type||null,usage_type:s.usage_type||null,usage_sub_type:s.usage_sub_type||null,building_permission:s.building_permission||!1,permission_no:s.permission_no||null,permission_date:s.permission_date||null,occupancy_certificate:s.occupancy_certificate||!1,construction_type:s.construction_type||null,year_of_construction:s.year_of_construction?parseInt(s.year_of_construction):null,water_connection:s.water_connection||!1,water_connection_type:s.water_connection_type||null,water_authorized:s.water_authorized||null,water_meter_no:s.water_meter_no||null,water_consumer_no:s.water_consumer_no||null,water_connection_date:s.water_connection_date||null,pipe_size:s.pipe_size||null,has_toilet:s.has_toilet||!1,toilet_count:s.toilet_count?parseInt(s.toilet_count):null,has_septic_tank:s.has_septic_tank||!1,has_sewerage:s.has_sewerage||!1,electricity_connection:s.electricity_connection||!1,has_solar:s.has_solar||!1,has_rainwater_harvesting:s.has_rainwater_harvesting||!1,tax_paid:s.tax_paid||!1,ulb_name:s.ulb_name||null,district:s.district||null,town:s.town||null,zone_no:s.zone_no||null,new_ward_no:s.new_ward_no||null,old_ward_no:s.old_ward_no||null,old_property_no:s.old_property_no||null,new_property_no:s.new_property_no||null,total_carpet_area:s.total_carpet_area?parseFloat(s.total_carpet_area):null,exempted_area:s.exempted_area?parseFloat(s.exempted_area):null,assessable_area:s.assessable_area?parseFloat(s.assessable_area):null,current_tax_details:s.current_tax_details||null,owner_photo_url:Q,building_photo_url:O,building_photo_url_2:s.building_photo_url_2||null,property_usage:s.usage_type||s.property_usage||null,form_data:s};if(!__()){await k4(H),pe(),alert(" Survey saved offline! It will sync automatically when you're back online."),a&&a(s);return}const{error:q}=await fn.from("surveys").insert(H);if(q)throw q;pe(),a&&a(s)}catch(Ne){if(console.error("Error submitting survey:",Ne),!__()||Ne.message.includes("network")||Ne.message.includes("Failed to fetch"))try{const Q={...surveyData,status:"pending_sync"};await k4(Q),pe(),alert(" Network error - Survey saved offline! It will sync when connected."),a&&a(s);return}catch(Q){console.error("Failed to save offline:",Q)}alert("Failed to submit survey: "+Ne.message)}finally{b(!1)}};return x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex justify-between items-center rounded-t-2xl z-10",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold",children:"Property Assessment Form"}),x.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:["Building ID: ",t.id,r>1&&`  Floor ${e}/${r}`]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[j&&x.jsxs("span",{className:"text-xs text-blue-200 flex items-center gap-1",children:[x.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"})}),"Draft saved"]}),x.jsx("button",{onClick:i,className:"text-white hover:text-gray-200 text-3xl font-light",children:""})]})]}),C&&x.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-3 mx-6 mt-4 rounded-r-lg",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),x.jsx("span",{className:"text-sm text-amber-700 font-medium",children:"Previous draft restored"})]})}),x.jsxs("form",{onSubmit:_e,className:"p-6 space-y-6",children:[x.jsx("div",{className:"flex overflow-x-auto pb-2 gap-2 -mx-6 px-6 scrollbar-hide",children:[{id:"owner",label:" Owner",icon:""},{id:"location",label:" Location",icon:""},{id:"construction",label:" Construction",icon:""},{id:"water",label:" Water",icon:""},{id:"sanitation",label:" Sanitation",icon:""},{id:"assessment",label:" Assessment",icon:""},{id:"photos",label:" Photos",icon:""}].map(Le=>x.jsx("button",{type:"button",onClick:()=>F(Le.id),className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all ${ue===Le.id?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:Le.label},Le.id))}),x.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:[x.jsx("p",{className:"text-sm font-semibold text-blue-900",children:" Auto-calculated Area"}),x.jsxs("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:[t.area," m"]})]}),x.jsx(hT,{geometry:t.geometry,area:t.area}),ue==="owner"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Owner Details"]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Owner Name *"}),x.jsx("input",{type:"text",name:"owner_name",required:!0,value:s.owner_name,onChange:xe,onBlur:oe,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ce("owner_name")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"Enter owner's full name"}),W("owner_name")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",W("owner_name")]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number *"}),x.jsx("input",{type:"tel",inputMode:"numeric",name:"phone_number",required:!0,value:s.phone_number,onChange:xe,onBlur:oe,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ce("phone_number")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"10-digit number",maxLength:"10"}),W("phone_number")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",W("phone_number")]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Aadhaar Number *"}),x.jsx("input",{type:"text",inputMode:"numeric",name:"aadhaar_number",required:!0,value:s.aadhaar_number,onChange:xe,onBlur:oe,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ce("aadhaar_number")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"12-digit number",maxLength:"12"}),W("aadhaar_number")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",W("aadhaar_number")]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),x.jsx("input",{type:"email",name:"email_address",value:s.email_address,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"email@example.com"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Family Members in Survey"}),x.jsx("input",{type:"number",name:"family_members_count",value:s.family_members_count,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Number of family members",min:"1"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Occupier Name (if different from owner)"}),x.jsx("input",{type:"text",name:"occupier_name",value:s.occupier_name,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter occupier's name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ownership Type *"}),x.jsxs("select",{name:"ownership_type",value:s.ownership_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"owned",children:"Owned"}),x.jsx("option",{value:"rented",children:"Rented"}),x.jsx("option",{value:"leased",children:"Leased"}),x.jsx("option",{value:"government",children:"Government"})]})]}),x.jsx("button",{type:"button",onClick:()=>F("location"),className:"w-full py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Location Details "})]}),ue==="location"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Location Details"]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"7/12 Survey / Gat No"}),x.jsx("input",{type:"text",name:"survey_gat_no",value:s.survey_gat_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter Survey/Gat number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City Survey No"}),x.jsx("input",{type:"text",name:"city_survey_no",value:s.city_survey_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"City Survey number (if existing)"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Layout Name and Plot No"}),x.jsx("input",{type:"text",name:"layout_name_plot_no",value:s.layout_name_plot_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter layout name and plot number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Building Name"}),x.jsx("input",{type:"text",name:"building_name",value:s.building_name,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter building name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address with Floor No"}),x.jsx("textarea",{name:"address_with_floor",value:s.address_with_floor,onChange:xe,rows:"2",className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter complete address including floor number"})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nearest Road Type"}),x.jsxs("select",{name:"nearest_road_type",value:s.nearest_road_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"",children:"Select road type"}),x.jsx("option",{value:"National Highway",children:"National Highway"}),x.jsx("option",{value:"State Highway",children:"State Highway"}),x.jsx("option",{value:"District Road",children:"District Road"}),x.jsx("option",{value:"Municipal Road",children:"Municipal Road"}),x.jsx("option",{value:"Internal Road",children:"Internal Road"}),x.jsx("option",{value:"Kachcha Road",children:"Kachcha Road"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Pin Code"}),x.jsx("input",{type:"text",name:"pin_code",value:s.pin_code,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"6-digit pin code",maxLength:"6"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Property Type *"}),x.jsxs("select",{name:"property_type",value:s.property_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"Residential",children:"Residential"}),x.jsx("option",{value:"Commercial",children:"Commercial"}),x.jsx("option",{value:"Industrial",children:"Industrial"}),x.jsx("option",{value:"Mixed",children:"Mixed Use"}),x.jsx("option",{value:"Agricultural",children:"Agricultural"}),x.jsx("option",{value:"Vacant",children:"Vacant Land"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Usage Type"}),x.jsx("input",{type:"text",name:"usage_type",value:s.usage_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g., Shop, Office"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Usage Sub-Type"}),x.jsx("input",{type:"text",name:"usage_sub_type",value:s.usage_sub_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g., Grocery, IT"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("owner"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("construction"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Construction "})]})]}),ue==="construction"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Construction Details"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-blue-50",children:[x.jsx("input",{type:"checkbox",name:"building_permission",checked:s.building_permission,onChange:xe,className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Building Permission Obtained"})]}),s.building_permission&&x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pl-4 border-l-4 border-blue-200",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Permission No"}),x.jsx("input",{type:"text",name:"permission_no",value:s.permission_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter permission number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Permission"}),x.jsx("input",{type:"date",name:"permission_date",value:s.permission_date,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"occupancy_certificate",checked:s.occupancy_certificate,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Occupancy / Gunthewari Certificate"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Construction Type *"}),x.jsxs("select",{name:"construction_type",value:s.construction_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"RCC",children:"RCC (Reinforced Cement Concrete)"}),x.jsx("option",{value:"Load Bearing",children:"Load Bearing"}),x.jsx("option",{value:"Steel Frame",children:"Steel Frame"}),x.jsx("option",{value:"Kachcha",children:"Kachcha"}),x.jsx("option",{value:"Semi-Pucca",children:"Semi-Pucca"}),x.jsx("option",{value:"Pucca",children:"Pucca"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year of Construction *"}),x.jsx("input",{type:"number",name:"year_of_construction",value:s.year_of_construction,onChange:xe,onBlur:oe,className:`w-full p-4 text-base border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${ce("year_of_construction")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"e.g., 2010",min:"1900",max:new Date().getFullYear()}),W("year_of_construction")&&x.jsxs("p",{className:"field-error text-sm text-red-600 mt-1",children:[" ",W("year_of_construction")]})]})]}),s.year_of_construction&&x.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-3 rounded-r-lg",children:x.jsxs("p",{className:"text-sm text-amber-800",children:[x.jsx("strong",{children:"Construction Age:"})," ",new Date().getFullYear()-parseInt(s.year_of_construction)," years"]})}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("location"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("water"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Water Supply "})]})]}),ue==="water"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Water Supply"]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-blue-50",children:[x.jsx("input",{type:"checkbox",name:"water_connection",checked:s.water_connection,onChange:xe,className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Water Connection Available"})]}),s.water_connection&&x.jsxs("div",{className:"space-y-4 pl-4 border-l-4 border-blue-200",children:[x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Connection Type"}),x.jsxs("select",{name:"water_connection_type",value:s.water_connection_type,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"",children:"Select type"}),x.jsx("option",{value:"Municipal",children:"Municipal"}),x.jsx("option",{value:"Borewell",children:"Borewell"}),x.jsx("option",{value:"Well",children:"Well"}),x.jsx("option",{value:"Tanker",children:"Tanker"}),x.jsx("option",{value:"Other",children:"Other"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Authorization Status"}),x.jsxs("select",{name:"water_authorized",value:s.water_authorized,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"Authorised",children:"Authorised"}),x.jsx("option",{value:"Unauthorised",children:"Unauthorised"})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Water Meter No"}),x.jsx("input",{type:"text",name:"water_meter_no",value:s.water_meter_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Meter number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Consumer No"}),x.jsx("input",{type:"text",name:"water_consumer_no",value:s.water_consumer_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Consumer number"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Connection"}),x.jsx("input",{type:"date",name:"water_connection_date",value:s.water_connection_date,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Pipe Size"}),x.jsxs("select",{name:"pipe_size",value:s.pipe_size,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[x.jsx("option",{value:"",children:"Select size"}),x.jsx("option",{value:"0.5 inch",children:"0.5 inch"}),x.jsx("option",{value:"0.75 inch",children:"0.75 inch"}),x.jsx("option",{value:"1 inch",children:"1 inch"}),x.jsx("option",{value:"1.5 inch",children:"1.5 inch"}),x.jsx("option",{value:"2 inch",children:"2 inch"})]})]})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("construction"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("sanitation"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Sanitation "})]})]}),ue==="sanitation"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Sanitation & Utilities"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Sanitation Facilities"}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-blue-50",children:[x.jsx("input",{type:"checkbox",name:"has_toilet",checked:s.has_toilet,onChange:xe,className:"w-5 h-5 text-blue-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Toilet Available"})]}),s.has_toilet&&x.jsxs("div",{className:"pl-4 border-l-4 border-blue-200",children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Number of Toilets"}),x.jsx("input",{type:"number",name:"toilet_count",value:s.toilet_count,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter count",min:"1"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"has_septic_tank",checked:s.has_septic_tank,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Septic Tank"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"has_sewerage",checked:s.has_sewerage,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:"Sewerage Connection"})]})]}),x.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Other Utilities"}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-yellow-50",children:[x.jsx("input",{type:"checkbox",name:"electricity_connection",checked:s.electricity_connection,onChange:xe,className:"w-5 h-5 text-yellow-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Electricity Connection"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-orange-50",children:[x.jsx("input",{type:"checkbox",name:"has_solar",checked:s.has_solar,onChange:xe,className:"w-5 h-5 text-orange-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Solar Panels"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-cyan-50",children:[x.jsx("input",{type:"checkbox",name:"has_rainwater_harvesting",checked:s.has_rainwater_harvesting,onChange:xe,className:"w-5 h-5 text-cyan-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Rain Water Harvesting"})]}),x.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer hover:bg-green-50",children:[x.jsx("input",{type:"checkbox",name:"tax_paid",checked:s.tax_paid,onChange:xe,className:"w-5 h-5 text-green-600 rounded"}),x.jsx("span",{className:"text-gray-800 font-medium",children:" Property Tax Paid (Current Year)"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("water"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("assessment"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Assessment "})]})]}),ue==="assessment"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Assessment Details"]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ULB Name"}),x.jsx("input",{type:"text",name:"ulb_name",value:s.ulb_name,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Urban Local Body"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"District"}),x.jsx("input",{type:"text",name:"district",value:s.district,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter district"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Town"}),x.jsx("input",{type:"text",name:"town",value:s.town,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter town"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Zone No"}),x.jsx("input",{type:"text",name:"zone_no",value:s.zone_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Zone number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Ward No"}),x.jsx("input",{type:"text",name:"new_ward_no",value:s.new_ward_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"New ward number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Old Ward No"}),x.jsx("input",{type:"text",name:"old_ward_no",value:s.old_ward_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Old ward number"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Old Property No"}),x.jsx("input",{type:"text",name:"old_property_no",value:s.old_property_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Old property number"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Property No"}),x.jsx("input",{type:"text",name:"new_property_no",value:s.new_property_no,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"New property number"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Total Carpet Area (sq.m)"}),x.jsx("input",{type:"number",name:"total_carpet_area",value:s.total_carpet_area,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Area in sq.m",step:"0.01"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Exempted Area (sq.m)"}),x.jsx("input",{type:"number",name:"exempted_area",value:s.exempted_area,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Exempted area",step:"0.01"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assessable Area (sq.m)"}),x.jsx("input",{type:"number",name:"assessable_area",value:s.assessable_area,onChange:xe,className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Assessable area",step:"0.01"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Tax Details"}),x.jsx("textarea",{name:"current_tax_details",value:s.current_tax_details,onChange:xe,rows:"2",className:"w-full p-4 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter current tax details/amount"})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:()=>F("sanitation"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"}),x.jsx("button",{type:"button",onClick:()=>F("photos"),className:"flex-1 py-3 bg-blue-100 text-blue-700 rounded-lg font-medium hover:bg-blue-200",children:"Next: Photos "})]})]}),ue==="photos"&&x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 space-y-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Photos Documentation"]}),x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:[x.jsx("p",{children:x.jsx("strong",{children:"Required Photos as per Annexure-A:"})}),x.jsxs("ul",{className:"list-disc list-inside mt-1",children:[x.jsx("li",{children:"1 Owner Photo (30mm  30mm at 150 dpi)"}),x.jsx("li",{children:"2 Property Photos (100mm  75mm at 150 dpi)"})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(F2,{label:"Owner Photo",onCapture:Le=>f(Le),currentPhoto:c,required:!0}),x.jsx(F2,{label:"Building Photo 1 (Front View)",onCapture:Le=>v(Le),currentPhoto:p,required:!0}),x.jsx(F2,{label:"Building Photo 2 (Side/Additional View)",onCapture:Le=>_(Le),currentPhoto:y,required:!1})]}),x.jsx("div",{className:"flex gap-3",children:x.jsx("button",{type:"button",onClick:()=>F("assessment"),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:" Back"})})]}),x.jsxs("div",{className:"flex space-x-4 pt-4 border-t",children:[x.jsx("button",{type:"button",onClick:i,className:"flex-1 py-4 px-6 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-colors text-base",children:"Cancel"}),x.jsx("button",{type:"submit",disabled:T,className:`flex-1 py-4 px-6 rounded-lg font-semibold text-white text-base transition-all ${T?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 shadow-lg hover:shadow-xl transform hover:scale-105"}`,children:T?"Submitting...":" Submit Assessment"})]})]})]})},uW=({isOpen:t,onClose:e,surveyData:r,onNewSurvey:n})=>{const[i,a]=de.useState(!1),[s,l]=de.useState(!1);return de.useEffect(()=>{t?(navigator.vibrate&&navigator.vibrate([100,50,100]),setTimeout(()=>a(!0),100),setTimeout(()=>l(!0),300)):(a(!1),l(!1))},[t]),t?x.jsxs("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center p-4",children:[x.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),i&&x.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(50)].map((c,f)=>x.jsx("div",{className:"absolute animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,backgroundColor:["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6"][Math.floor(Math.random()*5)],width:`${8+Math.random()*8}px`,height:`${8+Math.random()*8}px`,borderRadius:Math.random()>.5?"50%":"2px"}},f))}),x.jsxs("div",{className:`relative bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 transform transition-all duration-500 ${s?"scale-100 opacity-100":"scale-90 opacity-0"}`,children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center animate-bounce-in",children:x.jsx("svg",{className:"w-14 h-14 text-green-500 animate-checkmark",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7",className:"animate-draw-check"})})})}),x.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Survey Submitted!"}),x.jsx("p",{className:"text-gray-500 text-center mb-6",children:"Property assessment has been recorded successfully"}),r&&x.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 space-y-2",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Building ID"}),x.jsx("span",{className:"font-medium text-gray-900",children:r.buildingId})]}),r.area&&x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Area"}),x.jsxs("span",{className:"font-medium text-gray-900",children:[r.area," m"]})]}),r.floor&&x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Floor/Unit"}),x.jsx("span",{className:"font-medium text-gray-900",children:r.floor})]}),r.ownerName&&x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-gray-500",children:"Owner"}),x.jsx("span",{className:"font-medium text-gray-900",children:r.ownerName})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:n,className:"flex-1 py-3 px-4 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-xl transition-colors",children:"New Survey"}),x.jsx("button",{onClick:e,className:"flex-1 py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-xl transition-colors",children:"View Dashboard"})]})]})]}):null},cW=()=>{const t=ah(),e=WE(),[r,n]=de.useState(null),[i,a]=de.useState(!1),[s,l]=de.useState(!1),[c,f]=de.useState(1),[p,v]=de.useState(1),[y,_]=de.useState({}),[T,b]=de.useState(1),[C,P]=de.useState(!1),[j,R]=de.useState([]),[B,te]=de.useState(!1),[ue,F]=de.useState(null),K=Le=>{n(Le),a(!0),e.info("Building selected! Now select number of floors.")},U=Le=>{f(Le),v(1),a(!1),l(!0)},X=()=>{a(!1),n(null)},I=Le=>{_(Ne=>({...Ne,[p]:Le})),b(1),l(!1),P(!0)},W=()=>{_(Le=>({...Le,[p]:1})),b(1),l(!1),P(!0)},ce=()=>{P(!1),l(!1),n(null),v(1),b(1),_({}),R([])},pe=Le=>{const Ne=[...j,{floor:p,unit:T}];R(Ne);const Q=y[p]||1;T<Q?(b(T+1),e.success(`Unit ${T} completed! Moving to next unit.`)):p<c?(v(p+1),b(1),P(!1),l(!0),e.success(`Floor ${p} completed! Moving to next floor.`)):(P(!1),F({buildingId:r?.id,area:r?.area,floor:_e(p,T,Q),ownerName:Le?.owner_name,totalSurveys:Ne.length,totalFloors:c}),te(!0))},xe=()=>{te(!1),ce(),t("/dashboard")},oe=()=>{te(!1),ce(),e.info("Ready for new survey! Draw on the map to begin.")},be=()=>Object.values(y).reduce((Le,Ne)=>Le+Ne,0),_e=(Le,Ne,Q)=>{if(Q===1)return`Floor ${Le}`;const O=String.fromCharCode(64+Ne);return`${Le}${O}`};return x.jsxs("div",{className:"relative h-full",children:[x.jsx(iW,{onBuildingSelect:K}),i&&r&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1000] p-4 backdrop-blur-sm",children:x.jsx(aW,{onConfirm:U,onCancel:X})}),s&&r&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1000] p-4 backdrop-blur-sm",children:x.jsx(sW,{floorNumber:p,onConfirm:I,onSkip:W})}),C&&r&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1000] p-4 backdrop-blur-sm overflow-y-auto",children:x.jsxs("div",{className:"relative max-w-3xl w-full my-4",children:[be()>1&&x.jsxs("div",{className:"bg-white rounded-t-xl p-3 sm:p-4 shadow-lg",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-700",children:["Floor ",p," - Unit ",T,"/",y[p]||1]}),x.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:[j.length,"/",be()," completed"]})]}),x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${j.length/be()*100}%`}})})]}),x.jsx(lW,{buildingData:r,floorNumber:p,totalFloors:c,unitIdentifier:_e(p,T,y[p]||1),onClose:ce,onSuccess:pe})]})}),x.jsx(uW,{isOpen:B,onClose:xe,surveyData:ue,onNewSurvey:oe})]})},hW=()=>{const{id:t}=nN(),e=ah(),[r,n]=de.useState(null),[i,a]=de.useState(!0),[s,l]=de.useState(!1);de.useEffect(()=>{c()},[t]);const c=async()=>{const{data:v,error:y}=await fn.from("surveys").select("*").eq("id",t).single();!y&&v&&n(v),a(!1)};if(i)return x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),x.jsx("p",{className:"mt-4 text-gray-600",children:"Loading survey..."})]})});if(!r)return x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-red-600 text-xl",children:"Survey not found"}),x.jsx("button",{onClick:()=>e("/dashboard"),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg",children:"Back to Dashboard"})]})});const p=(()=>{if(r.geometry.type==="Point")return[r.geometry.coordinates[1],r.geometry.coordinates[0]];if(r.geometry.type==="Polygon"){const v=r.geometry.coordinates[0],y=v.map(T=>T[1]),_=v.map(T=>T[0]);return[(Math.min(...y)+Math.max(...y))/2,(Math.min(..._)+Math.max(..._))/2]}return[20.35,85.85]})();return x.jsxs("div",{className:"relative h-full",children:[x.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-white shadow-md z-[1000] p-4 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("button",{onClick:()=>e("/dashboard"),className:"text-blue-600 hover:text-blue-800 font-medium",children:" Back to Dashboard"}),x.jsxs("h2",{className:"text-xl font-bold text-gray-900 mt-1",children:["Survey: ",r.building_id||r.id]})]}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsxs("button",{onClick:()=>Z_(r),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold shadow-lg transition-all hover:scale-105 flex items-center space-x-2",children:[x.jsx("span",{children:""}),x.jsx("span",{children:"Download PDF"})]}),x.jsx("button",{onClick:()=>l(!s),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold",children:s?"Hide Details":"Show Details"})]})]}),x.jsx("div",{className:"h-full pt-20",children:x.jsxs(yy,{center:p,zoom:18,maxZoom:24,style:{height:"100%",width:"100%"},children:[x.jsx(I1,{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"],maxZoom:22}),x.jsx(F8,{url:"http://localhost:8080/geoserver/RASTER/wms",params:{layers:"RASTER:67cfea31928570b1a96c327e",format:"image/png",transparent:!0,version:"1.1.0",srs:"EPSG:32645"},maxZoom:24,opacity:.8}),x.jsx(j8,{data:r.geometry,style:{color:"#f59e0b",weight:4,fillColor:"#fbbf24",fillOpacity:.3},eventHandlers:{click:()=>l(!0)},children:x.jsx(I8,{children:x.jsxs("div",{className:"p-2",children:[x.jsx("p",{className:"font-bold text-lg",children:r.building_id}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Owner: ",r.owner_name]}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Area: ",r.area_sqm," m"]}),x.jsx("button",{onClick:()=>l(!0),className:"mt-2 text-blue-600 hover:underline text-sm font-medium",children:"View Full Details "})]})})})]})}),s&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1001] p-4 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex justify-between items-center rounded-t-2xl",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold",children:"Survey Details"}),x.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:["Building ID: ",r.building_id]})]}),x.jsx("button",{onClick:()=>l(!1),className:"text-white hover:text-gray-200 text-3xl font-light",children:""})]}),x.jsxs("div",{className:"p-6 space-y-6",children:[x.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:[x.jsx("p",{className:"text-sm font-semibold text-blue-900",children:" Area"}),x.jsxs("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:[r.area_sqm," m"]})]}),x.jsx(hT,{geometry:r.geometry,area:r.area_sqm}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Owner Information"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Eu,{label:"Owner Name",value:r.owner_name}),x.jsx(Eu,{label:"Phone Number",value:r.phone_number}),x.jsx(Eu,{label:"Aadhaar Number",value:r.aadhaar_number}),r.owner_photo_url&&x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Owner Photo"}),x.jsx("img",{src:r.owner_photo_url,alt:"Owner",className:"w-48 h-48 object-cover rounded-lg border border-gray-300"})]})]})]}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Property Details"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Eu,{label:"Property Usage",value:r.property_usage}),x.jsx(Eu,{label:"Construction Type",value:r.construction_type}),x.jsx(Eu,{label:"Ownership Type",value:r.ownership_type}),x.jsx(Eu,{label:"Year of Construction",value:r.year_of_construction}),r.building_photo_url&&x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Building Photo"}),x.jsx("img",{src:r.building_photo_url,alt:"Building",className:"w-full max-w-md h-64 object-cover rounded-lg border border-gray-300"})]})]})]}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[x.jsx("span",{className:"mr-2",children:""})," Utilities & Amenities"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(G2,{label:" Water Connection",active:r.water_connection}),x.jsx(G2,{label:" Electricity Connection",active:r.electricity_connection}),x.jsx(G2,{label:" Property Tax Paid",active:r.form_data?.tax_paid})]})]}),x.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:" Survey Metadata"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Eu,{label:"Status",value:r.status}),x.jsx(Eu,{label:"Created At",value:new Date(r.created_at).toLocaleString()}),x.jsx(Eu,{label:"Updated At",value:new Date(r.updated_at).toLocaleString()})]})]})]})]})})]})},Eu=({label:t,value:e})=>x.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[x.jsx("span",{className:"text-sm font-semibold text-gray-700",children:t}),x.jsx("span",{className:"text-sm text-gray-900",children:e||"N/A"})]}),G2=({label:t,active:e})=>x.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg ${e?"bg-green-100":"bg-gray-100"}`,children:[x.jsx("span",{className:`w-4 h-4 rounded-full ${e?"bg-green-500":"bg-gray-400"}`}),x.jsx("span",{className:`font-medium ${e?"text-green-800":"text-gray-600"}`,children:t})]}),fW=()=>{const[t,e]=de.useState([]),[r,n]=de.useState([]),[i,a]=de.useState(!0);de.useEffect(()=>{s()},[]);const s=async()=>{const[l,c]=await Promise.all([fn.from("surveys").select("*").order("created_at",{ascending:!1}),fn.from("profiles").select("*")]);e(l.data||[]),n(c.data||[]),a(!1)};return x.jsxs("div",{className:"p-6 space-y-6",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),x.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Users"}),i?x.jsx("p",{children:"Loading..."}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b border-gray-200",children:[x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Name"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Email"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Role"})]})}),x.jsx("tbody",{children:r.map(l=>x.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[x.jsx("td",{className:"p-3",children:l.full_name||"N/A"}),x.jsx("td",{className:"p-3",children:l.email}),x.jsx("td",{className:"p-3",children:x.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:l.role})})]},l.id))})]})})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[x.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["All Surveys (",t.length,")"]}),i?x.jsx("p",{children:"Loading..."}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b border-gray-200",children:[x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Building ID"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Owner ID"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Status"}),x.jsx("th",{className:"text-left p-3 text-gray-700",children:"Created"})]})}),x.jsx("tbody",{children:t.map(l=>x.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[x.jsx("td",{className:"p-3",children:l.building_id||"N/A"}),x.jsx("td",{className:"p-3",children:l.owner_id||"N/A"}),x.jsx("td",{className:"p-3",children:x.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${dW(l.status)}`,children:l.status})}),x.jsx("td",{className:"p-3 text-gray-600",children:new Date(l.created_at).toLocaleDateString()})]},l.id))})]})})]})]})},dW=t=>{switch(t){case"draft":return"bg-yellow-100 text-yellow-800";case"submitted":return"bg-green-100 text-green-800";case"verified":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},pW=({buildings:t})=>{const e=D8();return de.useEffect(()=>{if(t.length>0){const r=[];t.forEach(n=>{n.geometry?.coordinates?.[0]&&n.geometry.coordinates[0].forEach(i=>{r.push([i[1],i[0]])})}),r.length>0&&e.fitBounds(r,{padding:[50,50]})}},[t,e]),null},mW=()=>{const t=ah(),[e,r]=de.useState([]),[n,i]=de.useState(!0),[a,s]=de.useState(null),[l,c]=de.useState("all"),[f,p]=de.useState(""),[v,y]=de.useState({total:0,residential:0,commercial:0,other:0});de.useEffect(()=>{_()},[]);const _=async()=>{i(!0);const{data:R,error:B}=await fn.from("surveys").select("*").not("geometry","is",null).order("created_at",{ascending:!1});if(!B&&R){r(R);const te=R.filter(F=>F.property_type?.toLowerCase().includes("residential")||F.usage_type?.toLowerCase().includes("residential")).length,ue=R.filter(F=>F.property_type?.toLowerCase().includes("commercial")||F.usage_type?.toLowerCase().includes("commercial")).length;y({total:R.length,residential:te,commercial:ue,other:R.length-te-ue})}i(!1)},T=e.filter(R=>{const B=l==="all"||R.property_type?.toLowerCase().includes(l)||R.usage_type?.toLowerCase().includes(l),te=!f||R.building_id?.toLowerCase().includes(f.toLowerCase())||R.owner_name?.toLowerCase().includes(f.toLowerCase())||R.address_with_floor?.toLowerCase().includes(f.toLowerCase());return B&&te}),b=R=>{const B=R.properties?.property_type?.toLowerCase()||R.properties?.usage_type?.toLowerCase()||"";let te="#3b82f6";return B.includes("residential")?te="#10b981":B.includes("commercial")?te="#f59e0b":B.includes("industrial")?te="#ef4444":B.includes("government")&&(te="#8b5cf6"),{fillColor:te,weight:2,opacity:1,color:"#1e40af",fillOpacity:.5}},C=R=>({type:"Feature",properties:{id:R.id,building_id:R.building_id,owner_name:R.owner_name,property_type:R.property_type,usage_type:R.usage_type,area_sqm:R.area_sqm,...R},geometry:R.geometry}),P=(R,B)=>{B.on({click:()=>{s(R.properties)},mouseover:te=>{te.target.setStyle({weight:4,fillOpacity:.7})},mouseout:te=>{te.target.setStyle({weight:2,fillOpacity:.5})}})},j=async R=>{try{await Z_(R)}catch(B){console.error("Error generating PDF:",B)}};return x.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[x.jsxs("div",{className:"bg-white shadow-md px-6 py-4",children:[x.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{onClick:()=>t("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:x.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Surveyed Building Footprints"}),x.jsx("p",{className:"text-gray-500 text-sm",children:"View all surveyed properties on the map"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsxs("div",{className:"bg-blue-50 px-4 py-2 rounded-lg border border-blue-200",children:[x.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Total"}),x.jsx("p",{className:"text-xl font-bold text-blue-700",children:v.total})]}),x.jsxs("div",{className:"bg-green-50 px-4 py-2 rounded-lg border border-green-200",children:[x.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Residential"}),x.jsx("p",{className:"text-xl font-bold text-green-700",children:v.residential})]}),x.jsxs("div",{className:"bg-amber-50 px-4 py-2 rounded-lg border border-amber-200",children:[x.jsx("p",{className:"text-xs text-amber-600 font-medium",children:"Commercial"}),x.jsx("p",{className:"text-xl font-bold text-amber-700",children:v.commercial})]})]})]}),x.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[x.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[x.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),x.jsx("input",{type:"text",placeholder:"Search by ID, owner, address...",value:f,onChange:R=>p(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),x.jsxs("select",{value:l,onChange:R=>c(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[x.jsx("option",{value:"all",children:"All Types"}),x.jsx("option",{value:"residential",children:"Residential"}),x.jsx("option",{value:"commercial",children:"Commercial"}),x.jsx("option",{value:"industrial",children:"Industrial"}),x.jsx("option",{value:"government",children:"Government"})]}),x.jsxs("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})]}),x.jsxs("div",{className:"flex-1 relative",children:[n?x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:x.jsxs("div",{className:"flex flex-col items-center gap-3",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),x.jsx("p",{className:"text-gray-600 font-medium",children:"Loading buildings..."})]})}):x.jsxs(yy,{center:[19.076,72.8777],zoom:12,className:"h-full w-full",children:[x.jsx(I1,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),x.jsx(I1,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:" Esri",opacity:.3}),T.map(R=>R.geometry&&x.jsx(j8,{data:C(R),style:b,onEachFeature:P},R.id)),x.jsx(pW,{buildings:T})]}),x.jsxs("div",{className:"absolute bottom-6 left-6 bg-white rounded-lg shadow-lg p-4 z-[1000]",children:[x.jsx("h3",{className:"font-semibold text-gray-700 mb-2 text-sm",children:"Legend"}),x.jsxs("div",{className:"space-y-1.5 text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#10b981"}}),x.jsx("span",{children:"Residential"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#f59e0b"}}),x.jsx("span",{children:"Commercial"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#ef4444"}}),x.jsx("span",{children:"Industrial"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#8b5cf6"}}),x.jsx("span",{children:"Government"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#3b82f6"}}),x.jsx("span",{children:"Other"})]})]})]}),a&&x.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-xl shadow-2xl p-5 z-[1000] w-80 max-h-[80vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Building Details"}),x.jsx("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600 text-2xl leading-none",children:""})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[x.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Building ID"}),x.jsx("p",{className:"font-bold text-blue-900",children:a.building_id||"N/A"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Owner"}),x.jsx("p",{className:"font-medium text-gray-900",children:a.owner_name||"N/A"})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Area"}),x.jsxs("p",{className:"font-medium text-gray-900",children:[a.area_sqm||0," m"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Property Type"}),x.jsx("p",{className:"font-medium text-gray-900",children:a.property_type||"N/A"})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Usage"}),x.jsx("p",{className:"font-medium text-gray-900",children:a.usage_type||"N/A"})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Address"}),x.jsx("p",{className:"font-medium text-gray-900 text-sm",children:a.address_with_floor||"N/A"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Ward No"}),x.jsx("p",{className:"font-medium text-gray-900",children:a.new_ward_no||"N/A"})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-gray-500",children:"Property No"}),x.jsx("p",{className:"font-medium text-gray-900",children:a.new_property_no||"N/A"})]})]}),x.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[x.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.tax_paid?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.tax_paid?" Tax Paid":" Tax Pending"}),a.water_connection&&x.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:" Water"}),a.electricity_connection&&x.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:" Power"})]}),x.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[x.jsxs("button",{onClick:()=>j(a),className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"PDF"]}),x.jsx("button",{onClick:()=>t(`/survey/${a.id}`),className:"flex-1 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm font-medium",children:"View Details"})]})]})]}),x.jsx("div",{className:"absolute top-4 left-4 bg-white rounded-lg shadow-lg px-4 py-2 z-[1000]",children:x.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",x.jsx("span",{className:"font-bold text-blue-600",children:T.length})," of ",x.jsx("span",{className:"font-bold",children:e.length})," buildings"]})})]})]})},fT=({children:t,roles:e=[],fallback:r=null,redirectTo:n="/dashboard"})=>{const{profile:i,loading:a,hasAnyRole:s}=pp();return a?x.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),x.jsx("span",{className:"text-gray-500",children:"Checking permissions..."})]})}):e.length>0&&!s(e)?r||x.jsx(F_,{to:n,replace:!0}):t},dT=({message:t="You don't have permission to view this content."})=>x.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px] p-8 text-center",children:[x.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-4",children:x.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),x.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Access Denied"}),x.jsx("p",{className:"text-gray-500 max-w-md",children:t})]}),gW=()=>{const{t}=dp(),{isAdmin:e}=pp(),[r,n]=de.useState([]),[i,a]=de.useState(!0),[s,l]=de.useState(""),[c,f]=de.useState("all"),[p,v]=de.useState(null),[y,_]=de.useState(!1),T=async()=>{a(!0);try{let R=fn.from("user_profiles").select("*").order("created_at",{ascending:!1});c!=="all"&&(R=R.eq("role",c));const{data:B,error:te}=await R;if(te)throw te;n(B||[])}catch(R){console.error("Error fetching users:",R)}finally{a(!1)}};de.useEffect(()=>{T()},[c]);const b=r.filter(R=>R.full_name?.toLowerCase().includes(s.toLowerCase())||R.email?.toLowerCase().includes(s.toLowerCase())||R.phone?.includes(s)),C=async(R,B)=>{try{const{error:te}=await fn.from("user_profiles").update({role:B,updated_at:new Date().toISOString()}).eq("id",R);if(te)throw te;T(),_(!1),v(null)}catch(te){console.error("Error updating role:",te),alert("Failed to update user role")}},P=async(R,B)=>{try{const{error:te}=await fn.from("user_profiles").update({is_active:!B,updated_at:new Date().toISOString()}).eq("id",R);if(te)throw te;T()}catch(te){console.error("Error toggling status:",te)}},j=R=>{switch(R){case"admin":return"bg-red-100 text-red-700";case"supervisor":return"bg-purple-100 text-purple-700";case"surveyor":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}};return x.jsx(fT,{roles:["admin"],fallback:x.jsx(dT,{message:t("messages.noPermission")}),children:x.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"mb-6",children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[x.jsx("span",{className:"text-3xl",children:""}),t("users.title")]}),x.jsx("p",{className:"text-gray-500 mt-1",children:"Manage user accounts and roles"})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-3xl font-bold text-gray-800",children:r.length}),x.jsx("p",{className:"text-sm text-gray-500",children:"Total Users"})]}),x.jsxs("div",{className:"bg-red-50 rounded-xl p-4 shadow-sm border border-red-100",children:[x.jsx("p",{className:"text-3xl font-bold text-red-600",children:r.filter(R=>R.role==="admin").length}),x.jsxs("p",{className:"text-sm text-red-600",children:[t("roles.admin"),"s"]})]}),x.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 shadow-sm border border-purple-100",children:[x.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.filter(R=>R.role==="supervisor").length}),x.jsxs("p",{className:"text-sm text-purple-600",children:[t("roles.supervisor"),"s"]})]}),x.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 shadow-sm border border-blue-100",children:[x.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.filter(R=>R.role==="surveyor").length}),x.jsxs("p",{className:"text-sm text-blue-600",children:[t("roles.surveyor"),"s"]})]})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:x.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx("input",{type:"text",placeholder:`${t("common.search")}...`,value:s,onChange:R=>l(R.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),x.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),x.jsxs("select",{value:c,onChange:R=>f(R.target.value),className:"px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsxs("option",{value:"all",children:[t("common.all")," Roles"]}),x.jsx("option",{value:"admin",children:t("roles.admin")}),x.jsx("option",{value:"supervisor",children:t("roles.supervisor")}),x.jsx("option",{value:"surveyor",children:t("roles.surveyor")})]}),x.jsxs("button",{onClick:T,className:"px-4 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),t("common.refresh")]})]})}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:i?x.jsx("div",{className:"flex items-center justify-center py-20",children:x.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):b.length===0?x.jsx("div",{className:"text-center py-20",children:x.jsx("p",{className:"text-gray-500",children:t("users.noUsers")})}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:x.jsxs("tr",{children:[x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.fullName")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.email")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.phone")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.role")}),x.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("users.status")}),x.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:t("common.actions")})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100",children:b.map(R=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[x.jsx("td",{className:"px-6 py-4",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:R.full_name?.charAt(0)||R.email?.charAt(0)||"?"}),x.jsx("span",{className:"font-medium text-gray-800",children:R.full_name||"No Name"})]})}),x.jsx("td",{className:"px-6 py-4 text-gray-600",children:R.email}),x.jsx("td",{className:"px-6 py-4 text-gray-600",children:R.phone||"-"}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${j(R.role)}`,children:t(`roles.${R.role}`)})}),x.jsx("td",{className:"px-6 py-4",children:x.jsx("button",{onClick:()=>P(R.id,R.is_active),className:`px-3 py-1 rounded-full text-xs font-semibold ${R.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:R.is_active?t("users.active"):t("users.inactive")})}),x.jsx("td",{className:"px-6 py-4 text-right",children:x.jsx("button",{onClick:()=>{v(R),_(!0)},className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:t("common.edit")})})]},R.id))})]})})}),y&&p&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md animate-fadeIn",children:[x.jsx("div",{className:"p-6 border-b border-gray-100",children:x.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t("users.editUser")})}),x.jsxs("div",{className:"p-6 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("users.fullName")}),x.jsx("p",{className:"text-gray-800 font-medium",children:p.full_name||p.email})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("users.email")}),x.jsx("p",{className:"text-gray-600",children:p.email})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("users.role")}),x.jsx("div",{className:"grid grid-cols-3 gap-2",children:["admin","supervisor","surveyor"].map(R=>x.jsx("button",{onClick:()=>C(p.id,R),className:`py-3 rounded-xl font-medium transition-all ${p.role===R?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t(`roles.${R}`)},R))})]})]}),x.jsx("div",{className:"p-6 border-t border-gray-100 flex justify-end",children:x.jsx("button",{onClick:()=>{_(!1),v(null)},className:"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:t("common.close")})})]})})]})})},vW=()=>{const{t}=dp(),{canManageZones:e}=pp(),[r,n]=de.useState([]),[i,a]=de.useState([]),[s,l]=de.useState(!0),[c,f]=de.useState(!1),[p,v]=de.useState(null),[y,_]=de.useState("all"),[T,b]=de.useState({name:"",description:"",assigned_to:"",supervisor_id:"",target_count:0,due_date:"",priority:"medium",status:"pending",color:"#3B82F6"}),C=async()=>{l(!0);try{let I=fn.from("survey_zones").select(`
                    *,
                    assigned_user:user_profiles!survey_zones_assigned_to_fkey(id, full_name, email),
                    supervisor:user_profiles!survey_zones_supervisor_id_fkey(id, full_name, email)
                `).order("created_at",{ascending:!1});y!=="all"&&(I=I.eq("status",y));const{data:W,error:ce}=await I;if(ce)throw ce;n(W||[])}catch(I){console.error("Error fetching zones:",I)}finally{l(!1)}},P=async()=>{try{const{data:I}=await fn.from("user_profiles").select("id, full_name, email, role").eq("is_active",!0).order("full_name");a(I||[])}catch(I){console.error("Error fetching users:",I)}};de.useEffect(()=>{C(),P()},[y]);const j=I=>{const{name:W,value:ce}=I.target;b(pe=>({...pe,[W]:ce}))},R=()=>{v(null),b({name:"",description:"",assigned_to:"",supervisor_id:"",target_count:0,due_date:"",priority:"medium",status:"pending",color:"#3B82F6"}),f(!0)},B=I=>{v(I),b({name:I.name,description:I.description||"",assigned_to:I.assigned_to||"",supervisor_id:I.supervisor_id||"",target_count:I.target_count||0,due_date:I.due_date||"",priority:I.priority||"medium",status:I.status||"pending",color:I.color||"#3B82F6"}),f(!0)},te=async()=>{try{const I={...T,target_count:parseInt(T.target_count)||0,assigned_to:T.assigned_to||null,supervisor_id:T.supervisor_id||null,due_date:T.due_date||null,updated_at:new Date().toISOString()};if(p){const{error:W}=await fn.from("survey_zones").update(I).eq("id",p.id);if(W)throw W}else{const{error:W}=await fn.from("survey_zones").insert(I);if(W)throw W}f(!1),v(null),C()}catch(I){console.error("Error saving zone:",I),alert("Failed to save zone")}},ue=async I=>{if(confirm("Are you sure you want to delete this zone?"))try{const{error:W}=await fn.from("survey_zones").delete().eq("id",I);if(W)throw W;C()}catch(W){console.error("Error deleting zone:",W)}},F=I=>{switch(I){case"completed":return"bg-green-100 text-green-700";case"in_progress":return"bg-blue-100 text-blue-700";case"on_hold":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},K=I=>{switch(I){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"medium":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},U=i.filter(I=>I.role==="surveyor"),X=i.filter(I=>I.role==="supervisor"||I.role==="admin");return x.jsx(fT,{roles:["admin","supervisor"],fallback:x.jsx(dT,{message:t("messages.noPermission")}),children:x.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[x.jsxs("div",{children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[x.jsx("span",{className:"text-3xl",children:""}),t("zones.title")]}),x.jsx("p",{className:"text-gray-500 mt-1",children:"Create and manage survey zones"})]}),x.jsxs("button",{onClick:R,className:"px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-medium hover:from-blue-700 hover:to-blue-800 transition-all shadow-lg shadow-blue-200 flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t("zones.createZone")]})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-3xl font-bold text-gray-800",children:r.length}),x.jsx("p",{className:"text-sm text-gray-500",children:"Total Zones"})]}),x.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 shadow-sm border border-gray-100",children:[x.jsx("p",{className:"text-3xl font-bold text-gray-600",children:r.filter(I=>I.status==="pending").length}),x.jsx("p",{className:"text-sm text-gray-500",children:t("zones.pending")})]}),x.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 shadow-sm border border-blue-100",children:[x.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.filter(I=>I.status==="in_progress").length}),x.jsx("p",{className:"text-sm text-blue-600",children:t("zones.inProgress")})]}),x.jsxs("div",{className:"bg-green-50 rounded-xl p-4 shadow-sm border border-green-100",children:[x.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.filter(I=>I.status==="completed").length}),x.jsx("p",{className:"text-sm text-green-600",children:t("zones.completed")})]}),x.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 shadow-sm border border-purple-100",children:[x.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.reduce((I,W)=>I+(W.completed_count||0),0)}),x.jsx("p",{className:"text-sm text-purple-600",children:"Total Surveys"})]})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:x.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","in_progress","completed","on_hold"].map(I=>x.jsx("button",{onClick:()=>_(I),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y===I?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t(I==="all"?"common.all":`zones.${I.replace("_","")}`)},I))})}),s?x.jsx("div",{className:"flex items-center justify-center py-20",children:x.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):r.length===0?x.jsxs("div",{className:"bg-white rounded-xl p-12 text-center shadow-sm border border-gray-100",children:[x.jsx("div",{className:"text-6xl mb-4",children:""}),x.jsx("p",{className:"text-gray-500 text-lg",children:t("zones.noZones")}),x.jsx("button",{onClick:R,className:"mt-4 px-5 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700",children:t("zones.createZone")})]}):x.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(I=>x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[x.jsx("div",{className:"h-2",style:{backgroundColor:I.color}}),x.jsxs("div",{className:"p-5",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsx("h3",{className:"font-bold text-lg text-gray-800",children:I.name}),x.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${F(I.status)}`,children:t(`zones.${I.status?.replace("_","")||"pending"}`)})]}),I.description&&x.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:I.description}),x.jsxs("div",{className:"mb-4",children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500",children:t("zones.progress")}),x.jsxs("span",{className:"font-semibold text-gray-800",children:[I.completed_count||0," / ",I.target_count||0]})]}),x.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:x.jsx("div",{className:"h-2.5 rounded-full transition-all",style:{width:`${Math.min(100,(I.completed_count||0)/(I.target_count||1)*100)}%`,backgroundColor:I.color}})})]}),x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[x.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm",children:I.assigned_user?.full_name?.charAt(0)||"?"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-800",children:I.assigned_user?.full_name||"Not assigned"}),x.jsx("p",{className:"text-xs text-gray-400",children:t("zones.assignedTo")})]})]}),x.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mb-4",children:[x.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${K(I.priority)}`,children:t(`zones.${I.priority}`)}),I.due_date&&x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(I.due_date).toLocaleDateString()]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>B(I),className:"flex-1 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors font-medium text-sm",children:t("common.edit")}),x.jsx("button",{onClick:()=>ue(I.id),className:"px-3 py-2 bg-red-50 text-red-500 rounded-lg hover:bg-red-100 transition-colors",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},I.id))}),c&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto animate-fadeIn",children:[x.jsx("div",{className:"p-6 border-b border-gray-100 sticky top-0 bg-white",children:x.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t(p?"zones.editZone":"zones.createZone")})}),x.jsxs("div",{className:"p-6 space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t("zones.zoneName")," *"]}),x.jsx("input",{type:"text",name:"name",value:T.name,onChange:j,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Ward 5 - North"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),x.jsx("textarea",{name:"description",value:T.description,onChange:j,rows:2,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Zone description..."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.assignedTo")}),x.jsxs("select",{name:"assigned_to",value:T.assigned_to,onChange:j,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"",children:"-- Select Surveyor --"}),U.map(I=>x.jsx("option",{value:I.id,children:I.full_name||I.email},I.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.supervisor")}),x.jsxs("select",{name:"supervisor_id",value:T.supervisor_id,onChange:j,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"",children:"-- Select Supervisor --"}),X.map(I=>x.jsx("option",{value:I.id,children:I.full_name||I.email},I.id))]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.targetCount")}),x.jsx("input",{type:"number",name:"target_count",value:T.target_count,onChange:j,min:"0",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.dueDate")}),x.jsx("input",{type:"date",name:"due_date",value:T.due_date,onChange:j,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.priority")}),x.jsxs("select",{name:"priority",value:T.priority,onChange:j,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"low",children:t("zones.low")}),x.jsx("option",{value:"medium",children:t("zones.medium")}),x.jsx("option",{value:"high",children:t("zones.high")}),x.jsx("option",{value:"urgent",children:t("zones.urgent")})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t("zones.status")}),x.jsxs("select",{name:"status",value:T.status,onChange:j,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white",children:[x.jsx("option",{value:"pending",children:t("zones.pending")}),x.jsx("option",{value:"in_progress",children:t("zones.inProgress")}),x.jsx("option",{value:"completed",children:t("zones.completed")}),x.jsx("option",{value:"on_hold",children:t("zones.onHold")})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone Color"}),x.jsx("div",{className:"flex gap-2",children:["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#EC4899"].map(I=>x.jsx("button",{type:"button",onClick:()=>b(W=>({...W,color:I})),className:`w-10 h-10 rounded-xl transition-all ${T.color===I?"ring-2 ring-offset-2 ring-gray-400 scale-110":""}`,style:{backgroundColor:I}},I))})]})]}),x.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3 sticky bottom-0 bg-white",children:[x.jsx("button",{onClick:()=>{f(!1),v(null)},className:"flex-1 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:t("common.cancel")}),x.jsx("button",{onClick:te,disabled:!T.name,className:"flex-1 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:t("common.save")})]})]})})]})})},_W=()=>{const{t}=dp(),{user:e,profile:r}=pp(),[n,i]=de.useState([]),[a,s]=de.useState([]),[l,c]=de.useState(!0),f=async()=>{if(!e){c(!1);return}c(!0);const b=setTimeout(()=>{console.warn("Fetch timeout - setting loading to false"),c(!1)},1e4);try{const{data:C,error:P}=await fn.from("survey_zones").select("*").eq("assigned_to",e.id).order("created_at",{ascending:!1});P&&console.error("Zones error:",P),i(C||[]);const{data:j,error:R}=await fn.from("surveys").select("id, created_at").order("created_at",{ascending:!1}).limit(50);R&&console.error("Surveys error:",R),s(j||[])}catch(C){console.error("Error fetching assignments:",C)}finally{clearTimeout(b),c(!1)}};de.useEffect(()=>{f();const b=()=>{document.visibilityState==="visible"&&e&&f()};return document.addEventListener("visibilitychange",b),()=>document.removeEventListener("visibilitychange",b)},[e]);const p=b=>{const C={urgent:"bg-red-100 text-red-700 border-red-200",high:"bg-orange-100 text-orange-700 border-orange-200",medium:"bg-blue-100 text-blue-700 border-blue-200",low:"bg-gray-100 text-gray-600 border-gray-200"};return C[b]||C.medium},v=b=>{const C={completed:"bg-green-100 text-green-700",in_progress:"bg-blue-100 text-blue-700",on_hold:"bg-yellow-100 text-yellow-700",pending:"bg-gray-100 text-gray-600"};return C[b]||C.pending},y=n.reduce((b,C)=>b+(C.target_count||0),0),_=n.reduce((b,C)=>b+(C.completed_count||0),0),T=a.filter(b=>{const C=new Date().toDateString();return new Date(b.created_at).toDateString()===C}).length;return l?x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),x.jsx("p",{className:"text-gray-500",children:t("common.loading")})]})}):x.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[x.jsxs("div",{className:"mb-6",children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[x.jsx("span",{className:"text-3xl",children:""}),t("assignments.title")]}),x.jsx("p",{className:"text-gray-500 mt-1",children:r?.full_name&&`Welcome, ${r.full_name}`})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 text-white shadow-lg shadow-blue-200",children:[x.jsx("p",{className:"text-4xl font-bold",children:n.length}),x.jsx("p",{className:"text-blue-100 text-sm",children:t("assignments.assignedZones")})]}),x.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl p-4 text-white shadow-lg shadow-green-200",children:[x.jsx("p",{className:"text-4xl font-bold",children:a.length}),x.jsx("p",{className:"text-green-100 text-sm",children:t("assignments.surveysCompleted")})]}),x.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 text-white shadow-lg shadow-purple-200",children:[x.jsx("p",{className:"text-4xl font-bold",children:T}),x.jsx("p",{className:"text-purple-100 text-sm",children:t("dashboard.todaysSurveys")})]}),x.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-amber-500 rounded-xl p-4 text-white shadow-lg shadow-orange-200",children:[x.jsx("p",{className:"text-4xl font-bold",children:Math.max(0,y-_)}),x.jsx("p",{className:"text-orange-100 text-sm",children:t("assignments.targetRemaining")})]})]}),y>0&&x.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100 mb-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsx("h3",{className:"font-semibold text-gray-800",children:t("assignments.progress")}),x.jsxs("span",{className:"text-sm text-gray-500",children:[_," / ",y," (",Math.round(_/y*100),"%)"]})]}),x.jsx("div",{className:"w-full bg-gray-100 rounded-full h-4",children:x.jsx("div",{className:"h-4 rounded-full bg-gradient-to-r from-blue-500 to-green-500 transition-all",style:{width:`${Math.min(100,_/y*100)}%`}})})]}),n.length===0?x.jsxs("div",{className:"bg-white rounded-xl p-12 text-center shadow-sm border border-gray-100",children:[x.jsx("div",{className:"text-6xl mb-4",children:""}),x.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:t("assignments.noAssignments")}),x.jsx("p",{className:"text-gray-500",children:"Contact your supervisor or admin to get assigned to a zone."})]}):x.jsxs("div",{className:"space-y-4",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t("assignments.assignedZones")}),n.map(b=>{const C=b.target_count>0?Math.round(b.completed_count/b.target_count*100):0,P=b.due_date&&new Date(b.due_date)<new Date;return x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[x.jsx("div",{className:"h-1.5",style:{backgroundColor:b.color||"#3B82F6"}}),x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-800",children:b.name}),x.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${v(b.status)}`,children:t(`zones.${b.status?.replace("_","")||"pending"}`)}),x.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold border ${p(b.priority)}`,children:t(`zones.${b.priority}`)})]}),b.description&&x.jsx("p",{className:"text-gray-500 text-sm mb-3",children:b.description}),x.jsxs("div",{className:"mb-3",children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[x.jsx("span",{className:"text-gray-500",children:t("zones.progress")}),x.jsxs("span",{className:"font-medium text-gray-700",children:[b.completed_count||0," / ",b.target_count||0]})]}),x.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full transition-all ${C>=100?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.min(100,C)}%`}})})]}),x.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[b.supervisor&&x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("span",{children:""}),x.jsxs("span",{children:["Supervisor: ",b.supervisor.full_name||b.supervisor.email]})]}),b.due_date&&x.jsxs("div",{className:`flex items-center gap-1 ${P?"text-red-500 font-medium":""}`,children:[x.jsx("span",{children:""}),x.jsxs("span",{children:[t("assignments.deadline"),": ",new Date(b.due_date).toLocaleDateString()]}),P&&x.jsx("span",{className:"text-red-500",children:" Overdue"})]})]})]}),x.jsx("div",{className:"flex gap-2",children:x.jsxs(U0,{to:"/survey",className:"px-5 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-medium hover:from-blue-700 hover:to-blue-800 transition-all shadow-lg shadow-blue-200 flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t("assignments.startSurvey")]})})]})})]},b.id)})]}),a.length>0&&x.jsxs("div",{className:"mt-8",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Surveys"}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:x.jsx("div",{className:"divide-y divide-gray-100",children:a.slice(0,5).map((b,C)=>x.jsxs("div",{className:"px-5 py-3 flex items-center justify-between hover:bg-gray-50",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-semibold text-sm",children:C+1}),x.jsxs("div",{children:[x.jsxs("p",{className:"font-medium text-gray-800",children:["Survey #",b.id.slice(0,8)]}),x.jsx("p",{className:"text-xs text-gray-400",children:new Date(b.created_at).toLocaleString()})]})]}),x.jsxs(U0,{to:`/survey/${b.id}`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:[t("common.view")," "]})]},b.id))})})]})]})},yW=({children:t})=>{const[e,r]=Mu.useState(void 0),[n,i]=Mu.useState(!0);return Mu.useEffect(()=>{let a=!0;const{data:{subscription:s}}=fn.auth.onAuthStateChange((c,f)=>{console.log("Auth state changed:",c,f?"Has session":"No session"),a&&(r(f),(c==="INITIAL_SESSION"||c==="SIGNED_IN"||c==="SIGNED_OUT"||c==="TOKEN_REFRESHED")&&i(!1))}),l=setTimeout(async()=>{if(a&&n){console.log("Fallback session check...");const{data:{session:c}}=await fn.auth.getSession();a&&(r(c),i(!1))}},3e3);return()=>{a=!1,clearTimeout(l),s.unsubscribe()}},[]),n||e===void 0?x.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-gray-600",children:"Checking authentication..."})]})}):e?t:x.jsx(F_,{to:"/login",replace:!0})},xW=YN([{path:"/",element:x.jsx(F_,{to:"/dashboard",replace:!0})},{path:"/",element:x.jsx(kk,{}),children:[{path:"login",element:x.jsx(Pk,{})}]},{path:"/",element:x.jsx(yW,{children:x.jsx(Mk,{})}),children:[{path:"dashboard",element:x.jsx(Ez,{})},{path:"survey",element:x.jsx(cW,{})},{path:"survey/:id",element:x.jsx(hW,{})},{path:"admin",element:x.jsx(fW,{})},{path:"surveyed-buildings",element:x.jsx(mW,{})},{path:"users",element:x.jsx(gW,{})},{path:"zones",element:x.jsx(vW,{})},{path:"my-assignments",element:x.jsx(_W,{})}]}]),{slice:wW,forEach:bW}=[];function SW(t){return bW.call(wW.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function EW(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const K3=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,TW=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(n.maxAge>0){const s=n.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(n.domain){if(!K3.test(n.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${n.domain}`}if(n.path){if(!K3.test(n.path))throw new TypeError("option path is invalid");a+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(a+="; Partitioned"),a},X3={create(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),n&&(i.domain=n),document.cookie=TW(t,e,i)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let i=r[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var AW={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return X3.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:i,cookieOptions:a}=e;r&&typeof document<"u"&&X3.create(r,t,n,i,a)}},LW={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const a=n.substring(1).split("&");for(let s=0;s<a.length;s++){const l=a[s].indexOf("=");l>0&&a[s].substring(0,l)===e&&(r=a[s].substring(l+1))}}return r}},NW={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const a=i.substring(1);if(e){const s=a.split("&");for(let l=0;l<s.length;l++){const c=s[l].indexOf("=");c>0&&s[l].substring(0,c)===e&&(n=s[l].substring(c+1))}}if(n)return n;if(!n&&r>-1){const s=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?s[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return n}};let Ff=null;const J3=()=>{if(Ff!==null)return Ff;try{if(Ff=typeof window<"u"&&window.localStorage!==null,!Ff)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Ff=!1}return Ff};var CW={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&J3())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&J3()&&window.localStorage.setItem(r,t)}};let Bf=null;const Q3=()=>{if(Bf!==null)return Bf;try{if(Bf=typeof window<"u"&&window.sessionStorage!==null,!Bf)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Bf=!1}return Bf};var MW={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Q3())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&Q3()&&window.sessionStorage.setItem(r,t)}},kW={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:i}=navigator;if(r)for(let a=0;a<r.length;a++)e.push(r[a]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},PW={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},OW={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof e=="number"?e:0]?.replace("/",""):void 0}},RW={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};let pT=!1;try{document.cookie,pT=!0}catch{}const mT=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];pT||mT.splice(1,1);const DW=()=>({order:mT,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class gT{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=SW(r,this.options||{},DW()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(AW),this.addDetector(LW),this.addDetector(CW),this.addDetector(MW),this.addDetector(kW),this.addDetector(PW),this.addDetector(OW),this.addDetector(RW),this.addDetector(NW)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(r=r.concat(i))}}),r=r.filter(n=>n!=null&&!EW(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}gT.type="languageDetector";const jW={appName:"INDICES",tagline:"Geospatial Survey System",loading:"Loading...",save:"Save",cancel:"Cancel",submit:"Submit",edit:"Edit",delete:"Delete",view:"View",search:"Search",filter:"Filter",export:"Export",download:"Download",upload:"Upload",refresh:"Refresh",back:"Back",next:"Next",previous:"Previous",yes:"Yes",no:"No",confirm:"Confirm",close:"Close",actions:"Actions",status:"Status",date:"Date",all:"All"},IW={login:"Login",logout:"Logout",email:"Email Address",password:"Password",loginTitle:"Welcome Back",loginSubtitle:"Sign in to continue to INDICES",forgotPassword:"Forgot Password?",noAccount:"Don't have an account?",signUp:"Sign Up",loginSuccess:"Login successful!",loginError:"Invalid email or password",loggingIn:"Signing in..."},FW={dashboard:"Dashboard",surveyMap:"Survey Map",allBuildings:"All Buildings",admin:"Admin Panel",users:"User Management",zones:"Zone Management",myAssignments:"My Assignments",settings:"Settings",profile:"Profile"},BW={title:"Survey Dashboard",totalSurveys:"Total Surveys",todaysSurveys:"Today's Surveys",pending:"Pending Review",approved:"Approved",recentSurveys:"Recent Surveys",noSurveys:"No surveys found",viewAll:"View All",exportExcel:"Export Excel",exportCSV:"Export CSV"},UW={newSurvey:"New Survey",editSurvey:"Edit Survey",surveyDetails:"Survey Details",buildingId:"Building ID",drawBuilding:"Draw Building",selectTool:"Select a tool and draw around the building",tapToAdd:"Tap to add corner points",tapToComplete:"Tap first point again to complete",useUndo:"Use Undo for mistakes",polygon:"Polygon",rectangle:"Rectangle",marker:"Marker",undo:"Undo",clear:"Clear",drone:"Drone",location:"Location",points:"Points",needMore:"Need {{count}} more",readyToClose:"Ready to close"},zW={ownerDetails:"Owner Details",ownerName:"Owner Name",phoneNumber:"Phone Number",aadhaarNumber:"Aadhaar Number",emailAddress:"Email Address",relationWithOwner:"Relation with Owner",coOwnerName:"Co-Owner Name",locationDetails:"Location Details",surveyGatNo:"Survey/Gat Number",citySurveyNo:"City Survey Number",finalPlotNo:"Final Plot Number",subPlotNo:"Sub-Plot Number",mohalla:"Mohalla/Locality",district:"District",taluka:"Taluka",village:"Village",wardNo:"Ward Number",zoneName:"Zone Name",pincode:"Pin Code",streetName:"Street Name",landmarkNear:"Landmark Near",constructionDetails:"Construction Details",buildingName:"Building Name",numberOfFloors:"Number of Floors",buildingAge:"Building Age (Years)",constructionType:"Construction Type",roofType:"Roof Type",floorType:"Floor Type",buildingCondition:"Building Condition",carpetArea:"Carpet Area (sq.ft)",builtUpArea:"Built-Up Area (sq.ft)",plotArea:"Plot Area (sq.ft)",propertyClassification:"Property Classification",propertyUsage:"Property Usage",ownershipType:"Ownership Type",occupancyStatus:"Occupancy Status",tenantName:"Tenant Name",monthlyRent:"Monthly Rent",utilities:"Water Supply, Sanitation & Utilities",waterConnection:"Water Connection",waterSource:"Water Source",drainageConnection:"Drainage Connection",toiletAvailable:"Toilet Available",toiletType:"Toilet Type",electricityConnection:"Electricity Connection",meterNumber:"Meter Number",gasConnection:"Gas Connection",rainwaterHarvesting:"Rainwater Harvesting",assessment:"Assessment Details",previousAssessment:"Previous Assessment Amount",taxPaidLastYear:"Tax Paid Last Year",arrearsDue:"Arrears Due",exemptionClaimed:"Exemption Claimed",exemptionReason:"Exemption Reason",photos:"Photos",ownerPhoto:"Owner Photo",buildingPhoto:"Building Photo",documentPhoto:"Document Photo",capturePhoto:"Capture Photo",retakePhoto:"Retake",additionalRemarks:"Additional Remarks",surveyorRemarks:"Surveyor Remarks"},GW={required:"This field is required",invalidPhone:"Invalid phone number",invalidEmail:"Invalid email address",invalidAadhaar:"Invalid Aadhaar number",minLength:"Minimum {{count}} characters required",maxLength:"Maximum {{count}} characters allowed"},HW={admin:"Administrator",supervisor:"Supervisor",surveyor:"Surveyor"},qW={title:"Survey Zones",createZone:"Create Zone",editZone:"Edit Zone",zoneName:"Zone Name",assignedTo:"Assigned To",supervisor:"Supervisor",targetCount:"Target Surveys",completedCount:"Completed",progress:"Progress",dueDate:"Due Date",status:"Status",pending:"Pending",inProgress:"In Progress",completed:"Completed",onHold:"On Hold",priority:"Priority",low:"Low",medium:"Medium",high:"High",urgent:"Urgent",drawZone:"Draw zone boundary on map",noZones:"No zones created yet"},VW={title:"User Management",addUser:"Add User",editUser:"Edit User",fullName:"Full Name",email:"Email",phone:"Phone",role:"Role",status:"Status",active:"Active",inactive:"Inactive",lastLogin:"Last Login",assignedZones:"Assigned Zones",totalSurveys:"Total Surveys",noUsers:"No users found"},$W={title:"My Assignments",assignedZones:"Assigned Zones",progress:"Your Progress",surveysCompleted:"Surveys Completed",targetRemaining:"Target Remaining",deadline:"Deadline",startSurvey:"Start Survey",viewZone:"View Zone",noAssignments:"No zones assigned to you"},WW={success:"Operation successful",error:"Something went wrong",saved:"Saved successfully",deleted:"Deleted successfully",updated:"Updated successfully",surveySubmitted:"Survey submitted successfully!",pdfGenerated:"PDF generated successfully",offlineSaved:"Saved offline. Will sync when online.",syncComplete:"Sync complete",noPermission:"You don't have permission for this action"},ZW={select:"Select Language",english:"English",hindi:"",marathi:""},YW={common:jW,auth:IW,nav:FW,dashboard:BW,survey:UW,form:zW,validation:GW,roles:HW,zones:qW,users:VW,assignments:$W,messages:WW,language:ZW},KW={appName:"",tagline:"-  ",loading:"   ...",save:"",cancel:" ",submit:" ",edit:" ",delete:"",view:"",search:"",filter:"",export:"",download:"",upload:"",refresh:"",back:"",next:"",previous:"",yes:"",no:"",confirm:" ",close:" ",actions:"",status:"",date:"",all:""},XW={login:"",logout:"",email:" ",password:"",loginTitle:" ",loginSubtitle:"        ",forgotPassword:"  ?",noAccount:"  ?",signUp:"  ",loginSuccess:" !",loginError:"   ",loggingIn:"    ..."},JW={dashboard:"",surveyMap:" ",allBuildings:" ",admin:" ",users:" ",zones:" ",myAssignments:" ",settings:"",profile:""},QW={title:" ",totalSurveys:" ",todaysSurveys:"  ",pending:" ",approved:"",recentSurveys:"  ",noSurveys:"   ",viewAll:" ",exportExcel:" ",exportCSV:"CSV "},eZ={newSurvey:" ",editSurvey:"  ",surveyDetails:" ",buildingId:" ",drawBuilding:" ",selectTool:"        ",tapToAdd:"       ",tapToComplete:"         ",useUndo:"      ",polygon:"",rectangle:"",marker:"",undo:"",clear:"",drone:"",location:"",points:"",needMore:"{{count}}  ",readyToClose:"    "},tZ={ownerDetails:" ",ownerName:"  ",phoneNumber:" ",aadhaarNumber:" ",emailAddress:" ",relationWithOwner:"  ",coOwnerName:"-  ",locationDetails:" ",surveyGatNo:"/ ",citySurveyNo:"  ",finalPlotNo:"  ",subPlotNo:"- ",mohalla:"/",district:"",taluka:"",village:"",wardNo:" ",zoneName:"  ",pincode:" ",streetName:"  ",landmarkNear:"  ",constructionDetails:" ",buildingName:"  ",numberOfFloors:"  ",buildingAge:"   ()",constructionType:" ",roofType:"  ",floorType:"  ",buildingCondition:"  ",carpetArea:"  ( )",builtUpArea:"  ( )",plotArea:"  ( )",propertyClassification:" ",propertyUsage:" ",ownershipType:" ",occupancyStatus:" ",tenantName:"  ",monthlyRent:" ",utilities:" ,   ",waterConnection:" ",waterSource:" ",drainageConnection:" ",toiletAvailable:" ",toiletType:" ",electricityConnection:" ",meterNumber:" ",gasConnection:" ",rainwaterHarvesting:"  ",assessment:" ",previousAssessment:"  ",taxPaidLastYear:"     ",arrearsDue:" ",exemptionClaimed:"  ",exemptionReason:"  ",photos:"",ownerPhoto:"  ",buildingPhoto:"  ",documentPhoto:"  ",capturePhoto:" ",retakePhoto:" ",additionalRemarks:" ",surveyorRemarks:" "},rZ={required:"   ",invalidPhone:"  ",invalidEmail:"  ",invalidAadhaar:"  ",minLength:" {{count}}  ",maxLength:" {{count}}  "},nZ={admin:"",supervisor:"",surveyor:""},iZ={title:" ",createZone:" ",editZone:"  ",zoneName:"  ",assignedTo:"  ",supervisor:"",targetCount:" ",completedCount:"",progress:"",dueDate:" ",status:"",pending:"",inProgress:" ",completed:"",onHold:" ",priority:"",low:"",medium:"",high:"",urgent:"",drawZone:"    ",noZones:"     "},aZ={title:" ",addUser:" ",editUser:"  ",fullName:" ",email:"",phone:"",role:"",status:"",active:"",inactive:"",lastLogin:" ",assignedZones:"  ",totalSurveys:" ",noUsers:"   "},sZ={title:" ",assignedZones:"  ",progress:" ",surveysCompleted:" ",targetRemaining:" ",deadline:" ",startSurvey:"  ",viewZone:" ",noAssignments:"     "},oZ={success:" ",error:"   ",saved:"  ",deleted:"  ",updated:"   ",surveySubmitted:"    !",pdfGenerated:"PDF   ",offlineSaved:"       ",syncComplete:" ",noPermission:"       "},lZ={select:" ",english:"English",hindi:"",marathi:""},uZ={common:KW,auth:XW,nav:JW,dashboard:QW,survey:eZ,form:tZ,validation:rZ,roles:nZ,zones:iZ,users:aZ,assignments:sZ,messages:oZ,language:lZ},cZ={appName:"",tagline:"-  ",loading:"  ...",save:" ",cancel:" ",submit:" ",edit:" ",delete:"",view:"",search:"",filter:"",export:"",download:"",upload:"",refresh:"",back:"",next:"",previous:"",yes:"",no:"",confirm:" ",close:" ",actions:"",status:"",date:"",all:""},hZ={login:"",logout:"",email:" ",password:"",loginTitle:" ",loginSubtitle:"      ",forgotPassword:" ?",noAccount:" ?",signUp:"  ",loginSuccess:" !",loginError:"   ",loggingIn:"   ..."},fZ={dashboard:"",surveyMap:" ",allBuildings:" ",admin:" ",users:" ",zones:" ",myAssignments:" ",settings:"",profile:""},dZ={title:" ",totalSurveys:" ",todaysSurveys:" ",pending:" ",approved:"",recentSurveys:" ",noSurveys:"   ",viewAll:" ",exportExcel:" ",exportCSV:"CSV "},pZ={newSurvey:" ",editSurvey:"  ",surveyDetails:" ",buildingId:" ",drawBuilding:" ",selectTool:"     ",tapToAdd:"    ",tapToComplete:"      ",useUndo:"  ",polygon:"",rectangle:"",marker:"",undo:"",clear:" ",drone:"",location:"",points:"",needMore:"{{count}}  ",readyToClose:"  "},mZ={ownerDetails:" ",ownerName:" ",phoneNumber:" ",aadhaarNumber:" ",emailAddress:" ",relationWithOwner:" ",coOwnerName:"- ",locationDetails:" ",surveyGatNo:"/ ",citySurveyNo:"  ",finalPlotNo:"  ",subPlotNo:"- ",mohalla:"/",district:"",taluka:"",village:"",wardNo:" ",zoneName:" ",pincode:" ",streetName:" ",landmarkNear:" ",constructionDetails:" ",buildingName:" ",numberOfFloors:" ",buildingAge:"  ()",constructionType:" ",roofType:" ",floorType:" ",buildingCondition:" ",carpetArea:"  (..)",builtUpArea:"  (..)",plotArea:"  (..)",propertyClassification:" ",propertyUsage:" ",ownershipType:" ",occupancyStatus:" ",tenantName:" ",monthlyRent:" ",utilities:" ,   ",waterConnection:" ",waterSource:" ",drainageConnection:" ",toiletAvailable:" ",toiletType:" ",electricityConnection:" ",meterNumber:" ",gasConnection:" ",rainwaterHarvesting:"  ",assessment:" ",previousAssessment:"  ",taxPaidLastYear:"   ",arrearsDue:"",exemptionClaimed:" ",exemptionReason:" ",photos:"",ownerPhoto:" ",buildingPhoto:" ",documentPhoto:" ",capturePhoto:" ",retakePhoto:" ",additionalRemarks:" ",surveyorRemarks:" "},gZ={required:"   ",invalidPhone:"  ",invalidEmail:"  ",invalidAadhaar:"  ",minLength:" {{count}}  ",maxLength:"  {{count}}  "},vZ={admin:"",supervisor:"",surveyor:""},_Z={title:" ",createZone:"  ",editZone:"  ",zoneName:" ",assignedTo:" ",supervisor:"",targetCount:" ",completedCount:"",progress:"",dueDate:" ",status:"",pending:"",inProgress:" ",completed:"",onHold:"",priority:"",low:"",medium:"",high:"",urgent:" ",drawZone:"   ",noZones:"     "},yZ={title:" ",addUser:" ",editUser:"  ",fullName:" ",email:"",phone:"",role:"",status:"",active:"",inactive:"",lastLogin:" ",assignedZones:" ",totalSurveys:" ",noUsers:"   "},xZ={title:" ",assignedZones:" ",progress:" ",surveysCompleted:"  ",targetRemaining:" ",deadline:" ",startSurvey:"  ",viewZone:" ",noAssignments:"    "},wZ={success:" ",error:" ",saved:"  ",deleted:" ",updated:"  ",surveySubmitted:"   !",pdfGenerated:"PDF   ",offlineSaved:"  .    .",syncComplete:" ",noPermission:"    "},bZ={select:" ",english:"English",hindi:"",marathi:""},SZ={common:cZ,auth:hZ,nav:fZ,dashboard:dZ,survey:pZ,form:mZ,validation:gZ,roles:vZ,zones:_Z,users:yZ,assignments:xZ,messages:wZ,language:bZ},EZ={en:{translation:YW},hi:{translation:uZ},mr:{translation:SZ}};Qs.use(gT).use(yk).init({resources:EZ,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});DA.createRoot(document.getElementById("root")).render(x.jsx(Mu.StrictMode,{children:x.jsx(Nk,{children:x.jsx(ER,{children:x.jsx(oC,{router:xW})})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered:",t)}).catch(t=>{console.log("SW registration failed:",t)})});export{Gn as _,TZ as c,$1 as g};
